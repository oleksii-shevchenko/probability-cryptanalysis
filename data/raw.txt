B R I A N W A R D
W H A T E V E R Y S U P E R U S E R S H O U L D K N O W
2ND
EDITION
HOW
L INUX
WORKS
Praise for the first edition of how linux works
“A great resource. In roughly 350 pages, the book covers all the basics.”
—eWEE K
“I would definitely recommend this book to those who are interested in Linux,
but have not had the experience to know the inner workings of the OS.”
—O’ReillyNet
“One of the best basic books on learning Linux, written with the power user in
mind. Five stars.”
—Opensource-Book -Reviews.com
“Succeeds admirably because of the way in which it’s organized and the level
of technical detail it offers.”
—Kickstart News
“This is a very different introduction to Linux. It’s unflashy, concentrates on
the command line, and digs around in the internals rather than on GUI frontends
that take the place of more familiar MS Windows tools.”
—TechBook Repor t.com
“This book does a good job of explaining the nuts and bolts of how Linux
operates.”
—Hosting Resolve

How Linux
WOrks
2nd Edition
What Every Superuser
Should Know
by Brian Ward
San Francisco
How linux works, 2nd Edition. Copyright © 2015 by Brian Ward.
All rights reserved. No part of this work may be reproduced or transmitted in any form or by any means,
electronic or mechanical, including photocopying, recording, or by any information storage or retrieval
system, without the prior written permission of the copyright owner and the publisher.
Printed in USA
First printing
18 17 16 15 14 1 2 3 4 5 6 7 8 9
ISBN-10: 1-59327-567-6
ISBN-13: 978-1-59327-567-9
Publisher: William Pollock
Production Editor: Laurel Chun
Cover and Interior Design: Octopod Studios
Cover Illustration: Tina Salameh
Developmental Editor: William Pollock
Technical Reviewer: Jordi Gutiérrez Hermoso
Copyeditor: Gillian McGarvey
Compositor: Susan Glinert Stevens
Proofreader: Paula L. Fleming
For information on distribution, translations, or bulk sales, please contact No Starch Press, Inc. directly:
No Starch Press, Inc.
245 8th Street, San Francisco, CA 94103
phone: 415.863.9900; info@nostarch.com
www.nostarch.com
The Library of Congress has cataloged the first edition as follows:
Ward, Brian.
How Linux works : what every superuser should know / Brian Ward.
p. cm.
Includes index.
ISBN 1-59327-035-6
1. Linux. 2. Operating systems (Computers). I. Title.
QA76.76.O63 W3654 2004
005.4'32--dc22
2004002692
No Starch Press and the No Starch Press logo are registered trademarks of No Starch Press, Inc. Other
product and company names mentioned herein may be the trademarks of their respective owners. Rather
than use a trademark symbol with every occurrence of a trademarked name, we are using the names only
in an editorial fashion and to the benefit of the trademark owner, with no intention of infringement of the
trademark.
The information in this book is distributed on an “As Is” basis, without warranty. While every precaution
has been taken in the preparation of this work, neither the author nor No Starch Press, Inc. shall have any
liability to any person or entity with respect to any loss or damage caused or alleged to be caused directly or
indirectly by the information contained in it.
Brief Contents
Preface xix
Acknowledgments . xxiii
Chapter 1: The Big Picture . 1
Chapter 2: Basic Commands and Directory Hierarchy . 11
Chapter 3: Devices . 45
Chapter 4: Disks and Filesystems 65
Chapter 5: How the Linux Kernel Boots 93
Chapter 6: How User Space Starts 111
Chapter 7: System Configuration: Logging, System Time, Batch Jobs, and Users . 149
Chapter 8: A Closer Look at Processes and Resource Utilization . 171
Chapter 9: Understanding Your Network and Its Configuration 189
Chapter 10: Network Applications and Services . 229
Chapter 11: Introduction to Shell Scripts 249
Chapter 12: Moving Files Across the Network 271
Chapter 13: User Environments . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 287
Chapter 14: A Brief Survey of the Linux Desktop . 297
Chapter 15: Development Tools 309
Chapter 16: Introduction to Compiling Software from C Source Code . 329
Chapter 17: Building on the Basics . 345
Bibliography . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 351
Index . 355

Content s in De tail
Preface	xix
Who Should Read This Book? . xx
Prerequisites . xx
How to Read This Book xx
A Hands-On Approach xx
How This Book Is Organized xxi
What’s New in the Second Edition? xxi
A Note on Terminology . xxii
Acknowledgments xxiii
1
The Big Picture	1
1.1 Levels and Layers of Abstraction in a Linux System 2
1.2 Hardware: Understanding Main Memory 4
1.3 The Kernel . 4
1.3.1 Process Management 5
1.3.2 Memory Management . 6
1.3.3 Device Drivers and Management 7
1.3.4 System Calls and Support 7
1.4 User Space 8
1.5 Users . 9
1.6 Looking Forward . 10
2
Basic Commands and Directory Hierarchy 11
2.1 The Bourne Shell: /bin/sh 12
2.2 Using the Shell . 12
2.2.1 The Shell Window 12
2.2.2 cat 13
2.2.3 Standard Input and Standard Output . 13
2.3 Basic Commands 14
2.3.1 ls 14
2.3.2 cp . 15
2.3.3 mv 15
2.3.4 touch . 15
2.3.5 rm . 16
2.3.6 echo . 16
2.4 Navigating Directories 16
2.4.1 cd . 16
2.4.2 mkdir 17
2.4.3 rmdir . 17
2.4.4 Shell Globbing (Wildcards) . 17
viii Contents in Detail
2.5 Intermediate Commands 18
2.5.1 grep 18
2.5.2 less . 19
2.5.3 pwd 19
2.5.4 diff 20
2.5.5 file 20
2.5.6 find and locate . 20
2.5.7 head and tail . 21
2.5.8 sort . 21
2.6 Changing Your Password and Shell 21
2.7 Dot Files 21
2.8 Environment and Shell Variables . 21
2.9 The Command Path . 22
2.10 Special Characters 23
2.11 Command-Line Editing . 24
2.12 Text Editors 24
2.13 Getting Online Help 25
2.14 Shell Input and Output . 27
2.14.1 Standard Error . 27
2.14.2 Standard Input Redirection . 28
2.15 Understanding Error Messages . 28
2.15.1 Anatomy of a UNIX Error Message . 28
2.15.2 Common Errors 29
2.16 Listing and Manipulating Processes . 30
2.16.1 Command Options . 31
2.16.2 Killing Processes . 31
2.16.3 Job Control 32
2.16.4 Background Processes . 32
2.17 File Modes and Permissions . 33
2.17.1 Modifying Permissions . 34
2.17.2 Symbolic Links 35
2.17.3 Creating Symbolic Links . 36
2.18 Archiving and Compressing Files 37
2.18.1 gzip 37
2.18.2 tar 37
2.18.3 Compressed Archives (.tar.gz) 38
2.18.4 zcat 39
2.18.5 Other Compression Utilities 39
2.19 Linux Directory Hierarchy Essentials . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40
2.19.1 Other Root Subdirectories 41
2.19.2 The /usr Directory . 41
2.19.3 Kernel Location . 42
2.20 Running Commands as the Superuser 42
2.20.1 sudo . 42
2.20.2 /etc/sudoers 43
2.21 Looking Forward . 43
3
Devices 45
3.1 Device Files 46
3.2 The sysfs Device Path . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 47
Contents in Detail ix
3.3 dd and Devices 48
3.4 Device Name Summary . 49
3.4.1 Hard Disks: /dev/sd* . 50
3.4.2 CD and DVD Drives: /dev/sr* . 51
3.4.3 PATA Hard Disks: /dev/hd* 51
3.4.4 Terminals: /dev/tty*, /dev/pts/*, and /dev/tty 51
3.4.5 Serial Ports: /dev/ttyS* . 52
3.4.6 Parallel Ports: /dev/lp0 and /dev/lp1 52
3.4.7 Audio Devices: /dev/snd/*, /dev/dsp, /dev/audio, and More 53
3.4.8 Creating Device Files 53
3.5 udev 54
3.5.1 devtmpfs 54
3.5.2 udevd Operation and Configuration 55
3.5.3 udevadm . 57
3.5.4 Monitoring Devices . 57
3.6 In-Depth: SCSI and the Linux Kernel . 58
3.6.1 USB Storage and SCSI 61
3.6.2 SCSI and ATA 62
3.6.3 Generic SCSI Devices . 63
3.6.4 Multiple Access Methods for a Single Device . 63
4
Disks and Filesystems 65
4.1 Partitioning Disk Devices 67
4.1.1 Viewing a Partition Table . 68
4.1.2 Changing Partition Tables 69
4.1.3 Disk and Partition Geometry . 70
4.1.4 Solid-State Disks (SSDs) . 72
4.2 Filesystems . 72
4.2.1 Filesystem Types . 73
4.2.2 Creating a Filesystem 74
4.2.3 Mounting a Filesystem . 75
4.2.4 Filesystem UUID 76
4.2.5 Disk Buffering, Caching, and Filesystems . 77
4.2.6 Filesystem Mount Options 77
4.2.7 Remounting a Filesystem 79
4.2.8 The /etc/fstab Filesystem Table 79
4.2.9 Alternatives to /etc/fstab . 80
4.2.10 Filesystem Capacity 81
4.2.11 Checking and Repairing Filesystems 82
4.2.12 Special-Purpose Filesystems 84
4.3 Swap Space 85
4.3.1 Using a Disk Partition as Swap Space . 85
4.3.2 Using a File as Swap Space 85
4.3.3 How Much Swap Do You Need? 86
4.4 Looking Forward: Disks and User Space 86
4.5 Inside a Traditional Filesystem 87
4.5.1 Viewing Inode Details 89
4.5.2 Working with Filesystems in User Space 90
4.5.3 The Evolution of Filesystems 91
x Contents in Detail
5
How the Linux Kernel Boots 93
5.1 Startup Messages . 94
5.2 Kernel Initialization and Boot Options . 95
5.3 Kernel Parameters . 96
5.4 Boot Loaders 97
5.4.1 Boot Loader Tasks . 97
5.4.2 Boot Loader Overview . 98
5.5 GRUB Introduction 98
5.5.1 Exploring Devices and Partitions with the GRUB Command Line . 100
5.5.2 GRUB Configuration . 102
5.5.3 GRUB Installation 104
5.6 UEFI Secure Boot Problems . 106
5.7 Chainloading Other Operating Systems 106
5.8 Boot Loader Details . 107
5.8.1 MBR Boot 107
5.8.2 UEFI Boot . 108
5.8.3 How GRUB Works 108
6
How User Space Starts 111
6.1 Introduction to init . 112
6.2 System V Runlevels 113
6.3 Identifying Your init . 114
6.4 systemd . 114
6.4.1 Units and Unit Types . 114
6.4.2 systemd Dependencies 115
6.4.3 systemd Configuration . 117
6.4.4 systemd Operation 120
6.4.5 Adding Units to systemd 122
6.4.6 systemd Process Tracking and Synchronization . 123
6.4.7 systemd On-Demand and Resource-Parallelized Startup . 124
6.4.8 systemd System V Compatibility 129
6.4.9 systemd Auxiliary Programs . 129
6.5 Upstart 130
6.5.1 Upstart Initialization Procedure . 130
6.5.2 Upstart Jobs . 131
6.5.3 Upstart Configuration 133
6.5.4 Upstart Operation . 137
6.5.5 Upstart Logs . 138
6.5.6 Upstart Runlevels and System V Compatibility . 138
6.6 System V init 139
6.6.1 System V init: Startup Command Sequence 141
6.6.2 The System V init Link Farm 142
6.6.3 run-parts 143
6.6.4 Controlling System V init 143
6.7 Shutting Down Your System 144
6.8 The Initial RAM Filesystem 145
6.9 Emergency Booting and Single-User Mode . 146
Contents in Detail xi
7
System Configuration: Logging, System Time,
Batch Jobs, and Users 149
7.1 The Structure of /etc 150
7.2 System Logging 150
7.2.1 The System Logger 151
7.2.2 Configuration Files 151
7.3 User Management Files . 153
7.3.1 The /etc/passwd File 153
7.3.2 Special Users . 155
7.3.3 The /etc/shadow File 155
7.3.4 Manipulating Users and Passwords . 155
7.3.5 Working with Groups . 156
7.4 getty and login . 157
7.5 Setting the Time 157
7.5.1 Kernel Time Representation and Time Zones . 158
7.5.2 Network Time . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 158
7.6 Scheduling Recurring Tasks with cron 159
7.6.1 Installing Crontab Files 160
7.6.2 System Crontab Files . 161
7.6.3 The Future of cron . 161
7.7 Scheduling One-Time Tasks with at . 161
7.8 Understanding User IDs and User Switching . 162
7.8.1 Process Ownership, Effective UID, Real UID, and Saved UID 162
7.9 User Identification and Authentication . 164
7.9.1 Using Libraries for User Information 164
7.10 PAM . 165
7.10.1 PAM Configuration . 166
7.10.2 Notes on PAM . 169
7.10.3 PAM and Passwords . 170
7.11 Looking Forward . 170
8
A Closer Look at Processes
and Resource Utilization 171
8.1 Tracking Processes 172
8.2 Finding Open Files with lsof . 172
8.2.1 Reading the lsof Output . 172
8.2.2 Using lsof 173
8.3 Tracing Program Execution and System Calls . 174
8.3.1 strace 174
8.3.2 ltrace 176
8.4 Threads . 176
8.4.1 Single-Threaded and Multithreaded Processes 176
8.4.2 Viewing Threads . 177
8.5 Introduction to Resource Monitoring 178
8.6 Measuring CPU Time . 178
8.7 Adjusting Process Priorities . 179
xii Contents in Detail
8.8 Load Averages . 180
8.8.1 Using uptime 180
8.8.2 High Loads . 181
8.9 Memory . 181
8.9.1 How Memory Works . 182
8.9.2 Page Faults 182
8.10 Monitoring CPU and Memory Performance with vmstat 183
8.11 I/O Monitoring 185
8.11.1 Using iostat 185
8.11.2 Per-Process I/O Utilization and Monitoring: iotop . 186
8.12 Per-Process Monitoring with pidstat . 187
8.13 Further Topics . 188
9
Understanding Your Network
and Its Configuration 189
9.1 Network Basics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 190
9.1.1 Packets 190
9.2 Network Layers 191
9.3 The Internet Layer 192
9.3.1 Viewing Your Computer’s IP Addresses . 193
9.3.2 Subnets . 194
9.3.3 Common Subnet Masks and CIDR Notation . 195
9.4 Routes and the Kernel Routing Table 195
9.4.1 The Default Gateway 196
9.5 Basic ICMP and DNS Tools 197
9.5.1 ping 197
9.5.2 traceroute 198
9.5.3 DNS and host 198
9.6 The Physical Layer and Ethernet 199
9.7 Understanding Kernel Network Interfaces 199
9.8 Introduction to Network Interface Configuration 200
9.8.1 Manually Adding and Deleting Routes . 201
9.9 Boot-Activated Network Configuration . 202
9.10 Problems with Manual and Boot-Activated Network Configuration 202
9.11 Network Configuration Managers . 203
9.11.1 NetworkManager Operation 203
9.11.2 Interacting with NetworkManager . . . . . . . . . . . . . . . . . . . . . . . 204
9.11.3 NetworkManager Configuration . 204
9.12 Resolving Hostnames . 206
9.12.1 /etc/hosts 207
9.12.2 resolv.conf . 207
9.12.3 Caching and Zero-Configuration DNS . 208
9.12.4 /etc/nsswitch.conf . 208
9.13 Localhost . 209
9.14 The Transport Layer: TCP, UDP, and Services . 209
9.14.1 TCP Ports and Connections 210
9.14.2 Establishing TCP Connections . 210
9.14.3 Port Numbers and /etc/services . 211
Contents in Detail xiii
9.14.4 Characteristics of TCP . 212
9.14.5 UDP 212
9.15 Revisiting a Simple Local Network . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 214
9.16 Understanding DHCP 214
9.16.1 The Linux DHCP Client . 214
9.16.2 Linux DHCP Servers 215
9.17 Configuring Linux as a Router . 215
9.17.1 Internet Uplinks . 216
9.18 Private Networks . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 216
9.19 Network Address Translation (IP Masquerading) . 217
9.20 Routers and Linux 218
9.21 Firewalls 219
9.21.1 Linux Firewall Basics . 220
9.21.2 Setting Firewall Rules . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 221
9.21.3 Firewall Strategies 223
9.22 Ethernet, IP, and ARP . 225
9.23 Wireless Ethernet 226
9.23.1 iw . 227
9.23.2 Wireless Security 228
9.24 Summary . 228
10
Network Applications and Services 229
10.1 The Basics of Services . 230
10.1.1 A Closer Look . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 230
10.2 Network Servers . 232
10.3 Secure Shell (SSH) 233
10.3.1 The SSHD Server 234
10.3.2 The SSH Client . 236
10.4 The inetd and xinetd Daemons . 237
10.4.1 TCP Wrappers: tcpd, /etc/hosts.allow, and /etc/hosts.deny . 238
10.5 Diagnostic Tools . 238
10.5.1 lsof . 239
10.5.2 tcpdump 240
10.5.3 netcat 241
10.5.4 Port Scanning . 242
10.6 Remote Procedure Call (RPC) 243
10.7 Network Security 243
10.7.1 Typical Vulnerabilities . 244
10.7.2 Security Resources 245
10.8 Looking Forward . 245
10.9 Sockets: How Processes Communicate with the Network 246
10.10 Unix Domain Sockets 247
10.10.1 Advantages for Developers 247
10.10.2 Listing Unix Domain Sockets . 248
11
Introduction to Shell Scripts 249
11.1 Shell Script Basics . 249
11.1.1 Limitations of Shell Scripts 250
xiv Contents in Detail
11.2 Quoting and Literals 251
11.2.1 Literals . 251
11.2.2 Single Quotes 252
11.2.3 Double Quotes . 252
11.2.4 Passing a Literal Single Quote 253
11.3 Special Variables 253
11.3.1 Individual Arguments: $1, $2, … . 254
11.3.2 Number of Arguments: $# . 254
11.3.3 All Arguments: $@ 254
11.3.4 Script Name: $0 255
11.3.5 Process ID: $$ 255
11.3.6 Exit Code: $? . 255
11.4 Exit Codes . 255
11.5 Conditionals . 256
11.5.1 Getting Around Empty Parameter Lists . 257
11.5.2 Using Other Commands for Tests 257
11.5.3 elif 258
11.5.4 && and || Logical Constructs 258
11.5.5 Testing Conditions 258
11.5.6 Matching Strings with case 261
11.6 Loops 262
11.6.1 for Loops . 262
11.6.2 while Loops 262
11.7 Command Substitution . 263
11.8 Temporary File Management 264
11.9 Here Documents . 265
11.10 Important Shell Script Utilities . 265
11.10.1 basename 265
11.10.2 awk 266
11.10.3 sed . 266
11.10.4 xargs 267
11.10.5 expr 268
11.10.6 exec 268
11.11 Subshells . 268
11.12 Including Other Files in Scripts 269
11.13 Reading User Input 269
11.14 When (Not) to Use Shell Scripts 270
12
Moving Files Across the Network 271
12.1 Quick Copy . 272
12.2 rsync . 272
12.2.1 rsync Basics . 272
12.2.2 Making Exact Copies of a Directory Structure . 273
12.2.3 Using the Trailing Slash . 274
12.2.4 Excluding Files and Directories . 275
12.2.5 Transfer Integrity, Safeguards, and Verbose Modes 276
12.2.6 Compression 277
12.2.7 Limiting Bandwidth 277
12.2.8 Transferring Files to Your Computer 277
12.2.9 Further rsync Topics 278
Contents in Detail xv
12.3 Introduction to File Sharing 278
12.4 Sharing Files with Samba 278
12.4.1 Configuring the Server 279
12.4.2 Server Access Control . 279
12.4.3 Passwords . 280
12.4.4 Starting the Server 282
12.4.5 Diagnostics and Log Files . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 282
12.4.6 Configuring a File Share 282
12.4.7 Home Directories 283
12.4.8 Sharing Printers 283
12.4.9 Using the Samba Client . 283
12.4.10 Accessing Files as a Client . 284
12.5 NFS Clients 285
12.6 Further Network File Service Options and Limitations . . . . . . . . . . . . . . . . . . . 286
13
User Environments 287
13.1 Guidelines for Creating Startup Files . 288
13.2 When to Alter Startup Files 288
13.3 Shell Startup File Elements 288
13.3.1 The Command Path . 289
13.3.2 The Manual Page Path 290
13.3.3 The Prompt . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 290
13.3.4 Aliases 290
13.3.5 The Permissions Mask 291
13.4 Startup File Order and Examples 291
13.4.1 The bash Shell 292
13.4.2 The tcsh Shell . 294
13.5 Default User Settings . 295
13.5.1 Shell Defaults . 295
13.5.2 Editor 295
13.5.3 Pager 296
13.6 Startup File Pitfalls . 296
13.7 Further Startup Topics 296
14
A Brief Survey of the Linux Desktop	297
14.1 Desktop Components . 298
14.1.1 Window Managers . 298
14.1.2 Toolkits 299
14.1.3 Desktop Environments 299
14.1.4 Applications . 299
14.2 A Closer Look at the X Window System . 299
14.2.1 Display Managers 300
14.2.2 Network Transparency 300
14.3 Exploring X Clients 301
14.3.1 X Events . 301
14.3.2 Understanding X Input and Preference Settings . 302
14.4 The Future of X . 305
xvi Contents in Detail
14.5 D-Bus . 305
14.5.1 System and Session Instances . 306
14.5.2 Monitoring D-Bus Messages . 306
14.6 Printing 307
14.6.1 CUPS 307
14.6.2 Format Conversion and Print Filters . 308
14.7 Other Desktop Topics 308
15
Development Tools 309
15.1 The C Compiler 310
15.1.1 Multiple Source Files . 311
15.1.2 Header (Include) Files and Directories . 311
15.1.3 Linking with Libraries . 313
15.1.4 Shared Libraries . 314
15.2 make . 318
15.2.1 A Sample Makefile 318
15.2.2 Built-in Rules . 319
15.2.3 Final Program Build 319
15.2.4 Staying Up-to-Date 320
15.2.5 Command-Line Arguments and Options . 320
15.2.6 Standard Macros and Variables . 321
15.2.7 Conventional Targets 322
15.2.8 Organizing a Makefile 322
15.3 Debuggers . 323
15.4 Lex and Yacc . 324
15.5 Scripting Languages 325
15.5.1 Python . 326
15.5.2 Perl . 326
15.5.3 Other Scripting Languages . 326
15.6 Java 327
15.7 Looking Forward: Compiling Packages 328
16
Introduction to Compiling Software
from C Source Code	329
16.1 Software Build Systems 330
16.2 Unpacking C Source Packages . 330
16.2.1 Where to Start . 331
16.3 GNU Autoconf . 332
16.3.1 An Autoconf Example 332
16.3.2 Installing Using a Packaging Tool . 333
16.3.3 configure Script Options 334
16.3.4 Environment Variables . 334
16.3.5 Autoconf Targets 336
16.3.6 Autoconf Log Files . 336
16.3.7 pkg-config . 336
16.4 Installation Practice . 338
16.4.1 Where to Install 338
Contents in Detail xvii
16.5 Applying a Patch 339
16.6 Troubleshooting Compiles and Installations 340
16.6.1 Specific Errors 340
16.7 Looking Forward . 342
17
Building on the Basics 345
17.1 Web Servers and Applications . 346
17.2 Databases 346
17.2.1 Types of Databases . 347
17.3 Virtualization 347
17.4 Distributed and On-Demand Computing . 348
17.5 Embedded Systems . 348
17.6 Final Remarks . 349
Bibliography 351
Index 355

Preface
I wrote this book because I believe you should be
able to learn what your computer does. You should
be able to make your software do what you want it to
do (within the reasonable limits of its capabilities, of
course). The key to attaining this power lies in understanding
the fundamentals of what the software does
and how it works, and that’s what this book is all about.
You should never have to fight with a computer.
Linux is a great platform for learning because it doesn’t try to hide anything
from you. In particular, most system configuration can be found in
plaintext files that are easy enough to read. The only tricky part is figuring
out which parts are responsible for what and how it all fits together.
xx Preface
Who Should Read This Book?
Your interest in learning how Linux works may have come from any number
of sources. In the professional realm, operations and DevOps folks need to
know nearly everything that you’ll find in this book. Linux software architects
and developers should also know this material in order to make the
best use of the operating system. Researchers and students, often left to run
their own Linux systems, will also find that this book provides useful explanations
for why things are set up the way they are.
Then there are the tinkerers—people who just love to play around with
their computers for fun, profit, or both. Want to know why certain things
work while others don’t? Want to know what happens if you move something
around? You’re probably a tinkerer.
Prerequisites
Although Linux is beloved by programmers, you do not need to be a programmer
to read this book; you need only basic computer-user knowledge.
That is, you should be able to bumble around a GUI (especially the installer
and settings interface for a Linux distribution) and know what files and
directories (folders) are. You should also be prepared to check additional
documentation on your system and on the Web. As mentioned earlier, the
most important thing you need is to be ready and willing to play around
with your computer.
How to Read This Book
Building the requisite knowledge is a challenge in tackling any technical
subject. When explaining how software systems work, things can get really
complicated. Too much detail bogs down the reader and makes the important
stuff difficult to grasp (the human brain just can’t process so many
new concepts at once), but too little detail leaves the reader in the dark
and unprepared for later material.
I’ve designed most chapters to tackle the most important material first:
the basic information that you’ll need in order to progress. In places, I’ve
simplified things in order to keep focus. As a chapter progresses, you’ll see
much more detail, especially in the last few sections. Do you need to know
those bits right away? In most cases, no, as I often note. If your eyes start to
glaze over when faced with a lot of extra details about stuff that you only
just learned, don’t hesitate to skip ahead to the next chapter or just take a
break. The nitty-gritty will still be there waiting for you.
A Hands-On Approach
However you choose to proceed through this book, you should have a Linux
machine in front of you, preferably one that you’re confident abusing with
experiments. You might prefer to play around with a virtual installation—I
Preface xxi
used VirtualBox to test much of the material in this book. You should have
superuser (root) access, but you should use a regular user account most of
the time. You’ll mostly work at the command line, in a terminal window or
a remote session. If you haven’t worked much in this environment, no problem;
Chapter 2 will bring you up to speed.
Commands in this book will typically look like this:
$ ls /
[some output]
Enter the text in bold; the non-bolded text that follows is what the
machine spits back. The $ is the prompt for your regular user account.
If you see a # as a prompt, you should be superuser. (More on that in
Chapter 2.)
How This Book Is Organized
I’ve grouped the book’s chapters into three basic parts. The first is introductory,
giving you a bird’s-eye view of the system and then offering handson
experience with some tools you’ll need for as long as you run Linux.
Next, you’ll explore each part of the system in more detail, from device
management to network configuration, following the general order in
which the system starts. Finally, you’ll get a tour of some pieces of a running
system, learn some essential skills, and get some insight into the tools
that programmers use.
With the exception of Chapter 2, most of the early chapters heavily
involve the Linux kernel, but you’ll work your way into user space as the
book progresses. (If you don’t know what I’m talking about here, don’t
worry; I’ll explain in Chapter 1.)
The material here is meant to be as distribution-agnostic as possible.
Having said this, it can be tedious to cover all variations in systems software,
so I’ve tried to cover the two major distribution families: Debian (including
Ubuntu) and RHEL/Fedora/CentOS. It’s also focused on desktop and
server installations. There is a significant amount of carryover into embedded
systems, such as Android and OpenWRT, but it’s up to you to discover
the differences on those platforms.
What’s New in the Second Edition?
The first edition of this book dealt primarily with the user-centric side of a
Linux system. It focused on understanding how the parts worked and how
to get them humming. At that time, many parts of Linux were difficult to
install and configure properly.
This is happily no longer the case thanks to the hard work of the people
who write software and create Linux distributions. With this in mind, I have
omitted some older and perhaps less relevant material (such as a detailed
xxii Preface
explanation of printing) in favor of an expanded discussion of the Linux kernel’s
role in every Linux distribution. You probably interact with the kernel
more than you realize, and I’ve taken special care to note where.
Of course, so much of the original subject matter in this book has
changed over the years, and I’ve taken pains to sort through the material
in the first edition in search of updates. Of particular interest is how Linux
boots and how it manages devices. I’ve also taken care to rearrange material
to match the interests and needs of current readers.
One thing that hasn’t changed is the size of this book. I want to give you
the stuff that you need to get on the fast track, and that includes explaining
certain details along the way that can be hard to grasp, but I don’t want you
to have to become a weightlifter in order to pick up this book. When you’re
on top of the important subjects here, you should have no trouble seeking
out and understanding more details.
I’ve also omitted some of the historical information that was in the first
edition, primarily to keep you focused. If you’re interested in Linux and
how it relates to the history of Unix, pick up Peter H. Salus’s The Daemon, the
Gnu, and the Penguin (Reed Media Services, 2008)—it does a great job of
explaining how the software we use has evolved over time.
A Note on Terminology
There’s a fair amount of debate over the names of certain elements of operating
systems. Even “Linux” itself is game for this—should it be “Linux,” or
should it be “GNU/Linux” to reflect that the operating system also contains
pieces from the GNU Project? Throughout this book, I’ve tried to use the
most common, least awkward names possible.
Ac knowle dgments
Thanks go to everyone who helped with the first edition: James Duncan,
Douglas N. Arnold, Bill Fenner, Ken Hornstein, Scott Dickson, Dan
Ehrlich, Felix Lee, Scott Schwartz, Gregory P. Smith, Dan Sully, Karol
Jurado, and Gina Steele. For the second edition, I’d especially like to
thank Jordi Gutiérrez Hermoso for his excellent technical review work;
his suggestions and corrections have been invaluable. Thanks also to
Dominique Poulain and Donald Karon for providing some excellent earlyaccess
feedback, and to Hsinju Hsieh for putting up with me during the
process of revising this book.
Finally, I’d like to thank my developmental editor, Bill Pollock, and my
production editor, Laurel Chun. Serena Yang, Alison Law, and everyone
else at No Starch Press have done their usual outstanding job at getting this
new edition on track.

1
The B ig P icture
At first glance, a modern operating system
such as Linux is very complicated, with a
dizzying number of pieces simultaneously
running and communicating. For example, a
web server can talk to a database server, which could
in turn use a shared library that many other programs
use. But how does it all work?
The most effective way to understand how an operating system works is
through abstraction—a fancy way of saying that you can ignore most of the
details. For example, when you ride in a car, you normally don’t need to
think about details such as the mounting bolts that hold the motor inside
the car or the people who build and maintain the road upon which the car
drives. If you’re a passenger in a car, all you really need to know is what the
car does (transports you somewhere else) and a few basics about how to use
it (how to operate the door and seat belt).
2 Chapter 1
But if you’re driving a car, you need to know more. You need to learn
how to operate the controls (such as the steering wheel and accelerator
pedal) and what to do when something goes wrong.
For example, let’s say that the car ride is rough. Now you can break up
the abstraction of “a car that rolls on a road” into three parts: a car, a road,
and the way that you’re driving. This helps isolate the problem: If the road
is bumpy, you don’t blame the car or the way that you’re driving it. Instead,
you may want to find out why the road has deteriorated or, if the road is
new, why the construction workers did a lousy job.
Software developers use abstraction as a tool when building an operating
system and its applications. There are many terms for an abstracted subdivision
in computer software, including subsystem, module, and package—but
we’ll use the term component in this chapter because it’s simple. When building
a software component, developers typically don’t think much about the
internal structure of other components, but they do care about what other
components they can use and how to use them.
This chapter provides a high-level overview of the components that
make up a Linux system. Although each one has a tremendous number of
technical details in its internal makeup, we’re going to ignore these details
and concentrate on what the components do in relation to the whole system.
1.1 Levels and Layers of Abstraction in a Linux System
Using abstraction to split computing systems into components makes things
easier to understand, but it doesn’t work without organization. We arrange
components into layers or levels. A layer or level is a classification (or grouping)
of a component according to where that component sits between the
user and the hardware. Web browsers, games, and such sit at the top layer;
at the bottom layer we have the memory in the computer hardware—the 0s
and 1s. The operating system occupies most of the layers in between.
A Linux system has three main levels. Figure 1-1 shows these levels
and some of the components inside each level. The hardware is at the base.
Hardware includes the memory as well as one or more central processing
units (CPUs) to perform computation and to read from and write to
memory. Devices such as disks and network interfaces are also part of the
hardware.
The next level up is the kernel, which is the core of the operating system.
The kernel is software residing in memory that tells the CPU what to
do. The kernel manages the hardware and acts primarily as an interface
between the hardware and any running program.
Processes—the running programs that the kernel manages—collectively
make up the system’s upper level, called user space. (A more specific term for
process is user process, regardless of whether a user directly interacts with the
process. For example, all web servers run as user processes.)
The Big Picture 3
User Processes
Linux Kernel
Hardware
Graphical User Interface Servers Shell
System Calls Process Management Memory Management
Device Drivers
Processor (CPU) Main Memory (RAM) Disks Network Ports
Figure 1-1: General Linux system organization
There is a critical difference between the ways that the kernel and user
processes run: The kernel runs in kernel mode, and the user processes run in
user mode. Code running in kernel mode has unrestricted access to the processor
and main memory. This is a powerful but dangerous privilege that
allows a kernel process to easily crash the entire system. The area that only
the kernel can access is called kernel space.
User mode, in comparison, restricts access to a (usually quite small)
subset of memory and safe CPU operations. User space refers to the parts of
main memory that the user processes can access. If a process makes a mistake
and crashes, the consequences are limited and can be cleaned up by
the kernel. This means that if your web browser crashes, it probably won't
take down the scientific computation that you’ve been running in the background
for days.
In theory, a user process gone haywire can’t cause serious damage to
the rest of the system. In reality, it depends on what you consider “serious
damage,” as well as the particular privileges of the process, because some
processes are allowed to do more than others. For example, can a user
process completely wreck the data on a disk? With the correct permissions,
yes—and you may consider this to be fairly dangerous. There are
safeguards to prevent this, however, and most processes simply aren’t
allowed to wreak havoc in this manner.
4 Chapter 1
1.2 Hardware: Understanding Main Memory
Of all of the hardware on a computer system, main memory is perhaps the
most important. In its most raw form, main memory is just a big storage
area for a bunch of 0s and 1s. Each 0 or 1 is called a bit. This is where the
running kernel and processes reside—they’re just big collections of bits. All
input and output from peripheral devices flows through main memory, also
as a bunch of bits. A CPU is just an operator on memory; it reads its instructions
and data from the memory and writes data back out to the memory.
You’ll often hear the term state in reference to memory, processes, the
kernel, and other parts of a computer system. Strictly speaking, a state is a
particular arrangement of bits. For example, if you have four bits in your
memory, 0110, 0001, and 1011 represent three different states.
When you consider that a single process can easily consist of millions
of bits in memory, it’s often easier to use abstract terms when talking about
states. Instead of describing a state using bits, you describe what something
has done or is doing at the moment. For example, you might say “the process
is waiting for input” or “the process is performing Stage 2 of its startup.”
NOT E Because it’s common to refer to the state in abstract terms rather than to the actual
bits, the term image refers to a particular physical arrangement of bits.
1.3 The Kernel
Why are we talking about main memory and states? Nearly everything that
the kernel does revolves around main memory. One of the kernel’s tasks is
to split memory into many subdivisions, and it must maintain certain state
information about those subdivisions at all times. Each process gets its own
share of memory, and the kernel must ensure that each process keeps to its
share.
The kernel is in charge of managing tasks in four general system areas:
Processes The kernel is responsible for determining which processes
are allowed to use the CPU.
Memory The kernel needs to keep track of all memory—what is currently
allocated to a particular process, what might be shared between
processes, and what is free.
Device drivers The kernel acts as an interface between hardware
(such as a disk) and processes. It’s usually the kernel’s job to operate
the hardware.
System calls and support Processes normally use system calls to communicate
with the kernel.
We’ll now briefly explore each of these areas.
The Big Picture 5
NOT E If you’re interested in the detailed workings of a kernel, two good textbooks are Operating
System Concepts, 9th edition, by Abraham Silberschatz, Peter B. Galvin,
and Greg Gagne (Wiley, 2012) and Modern Operating Systems, 4th edition, by
Andrew S. Tanenbaum and Herbert Bos (Prentice Hall, 2014).
1.3.1 Process Management
Process management describes the starting, pausing, resuming, and terminating
of processes. The concepts behind starting and terminating processes
are fairly straightforward, but describing how a process uses the CPU in its
normal course of operation is a bit more complex.
On any modern operating system, many processes run “simultaneously.”
For example, you might have a web browser and a spreadsheet open on a
desktop computer at the same time. However, things are not as they appear:
The processes behind these applications typically do not run at exactly the
same time.
Consider a system with a one-core CPU. Many processes may be able
to use the CPU, but only one process may actually use the CPU at any given
time. In practice, each process uses the CPU for a small fraction of a second,
then pauses; then another process uses the CPU for another small
fraction of a second; then another process takes a turn, and so on. The act
of one process giving up control of the CPU to another process is called a
context switch.
Each piece of time—
called a time slice—gives a process enough time for
significant computation (and indeed, a process often finishes its current
task during a single slice). However, because the slices are so small, humans
can’t perceive them, and the system appears to be running multiple processes
at the same time (a capability known as multitasking).
The kernel is responsible for context switching. To understand how this
works, let’s think about a situation in which a process is running in user
mode but its time slice is up. Here’s what happens:
1. The CPU (the actual hardware) interrupts the current process based
on an internal timer, switches into kernel mode, and hands control
back to the kernel.
2. The kernel records the current state of the CPU and memory, which
will be essential to resuming the process that was just interrupted.
3. The kernel performs any tasks that might have come up during the
preceding time slice (such as collecting data from input and output,
or I/O, operations).
4. The kernel is now ready to let another process run. The kernel analyzes
the list of processes that are ready to run and chooses one.
5. The kernel prepares the memory for this new process, and then prepares
the CPU.
6 Chapter 1
6. The kernel tells the CPU how long the time slice for the new process
will last.
7. The kernel switches the CPU into user mode and hands control of the
CPU to the process.
The context switch answers the important question of when the kernel
runs. The answer is that it runs between process time slices during a context
switch.
In the case of a multi-CPU system, things become slightly more complicated
because the kernel doesn’t need to relinquish control of its current
CPU in order to allow a process to run on a different CPU. However, to
maximize the usage of all available CPUs, the kernel typically does so anyway
(and may use certain tricks to grab a little more CPU time for itself).
1.3.2 Memory Management
Because the kernel must manage memory during a context switch, it has
a complex job of memory management. The kernel’s job is complicated
because the following conditions must hold:
• The kernel must have its own private area in memory that user processes
can’t access.
• Each user process needs its own section of memory.
• One user process may not access the private memory of another
process.
• User processes can share memory.
• Some memory in user processes can be read-only.
• The system can use more memory than is physically present by using
disk space as auxiliary.
Fortunately for the kernel, there is help. Modern CPUs include a memory
management unit (MMU) that enables a memory access scheme called virtual
memory. When using virtual memory, a process does not directly access the
memory by its physical location in the hardware. Instead, the kernel sets up
each process to act as if it had an entire machine to itself. When the process
accesses some of its memory, the MMU intercepts the access and uses
a memory address map to translate the memory location from the process
into an actual physical memory location on the machine. The kernel must
still initialize and continuously maintain and alter this memory address map.
For example, during a context switch, the kernel has to change the map from
the outgoing process to the incoming process.
NOT E The implementation of a memory address map is called a page table.
You’ll learn more about how to view memory performance in Chapter 8.
The Big Picture 7
1.3.3 Device Drivers and Management
The kernel’s role with devices is pretty simple. A device is typically accessible
only in kernel mode because improper access (such as a user process asking
to turn off the power) could crash the machine. Another problem is that
different devices rarely have the same programming interface, even if the
devices do the same thing, such as two different network cards. Therefore,
device drivers have traditionally been part of the kernel, and they strive to
present a uniform interface to user processes in order to simplify the software
developer’s job.
1.3.4 System Calls and Support
There are several other kinds of kernel features available to user processes.
For example, system calls (or syscalls) perform specific tasks that a user process
alone cannot do well or at all. For example, the acts of opening, reading,
and writing files all involve system calls.
Two system calls, fork() and exec(), are important to understanding how
processes start up:
fork() When a process calls fork(), the kernel creates a nearly identical
copy of the process.
exec() When a process calls exec(program), the kernel starts program,
replacing the current process.
Other than init (see Chapter 6), all user processes on a Linux system
start as a result of fork(), and most of the time, you also run exec() to start
a new program instead of running a copy of an existing process. A very
simple example is any program that you run at the command line, such as
the ls command to show the contents of a directory. When you enter ls into
a terminal window, the shell that’s running inside the terminal window calls
fork() to create a copy of the shell, and then the new copy of the shell calls
exec(ls) to run ls. Figure 1-2 shows the flow of processes and system calls for
starting a program like ls.
shell fork() shell
copy of shell exec(ls) ls
Figure 1-2: Starting a new process
NOT E System calls are normally denoted with parentheses. In the example shown in
Figure 1-2, the process asking the kernel to create another process must perform a
fork() system call. This notation derives from the way the call would be written in
the C programming language. You don’t need to know C to understand this book;
just remember that a system call is an interaction between a process and the kernel.
In addition, this book simplifies certain groups of system calls. For example, exec()
refers to an entire family of system calls that all perform a similar task but differ in
programming.
8 Chapter 1
The kernel also supports user processes with features other than traditional
system calls, the most common of which are pseudodevices. Pseudodevices
look like devices to user processes, but they’re implemented purely
in software. As such, they don’t technically need to be in the kernel, but
they are usually there for practical reasons. For example, the kernel random
number generator device (/dev/random) would be difficult to implement
securely with a user process.
NOT E Technically, a user process that accesses a pseudodevice still has to use a system call to
open the device, so processes can’t entirely avoid system calls.
1.4 User Space
As mentioned earlier, the main memory that the kernel allocates for user
processes is called user space. Because a process is simply a state (or image)
in memory, user space also refers to the memory for the entire collection
of running processes. (You may also hear the more informal term userland
used for user space.)
Most of the real action on a Linux system happens in user space.
Although all processes are essentially equal from the kernel’s point of
view, they perform different tasks for users. There is a rudimentary service
level (or layer) structure to the kinds of system components that user processes
represent. Figure 1-3 shows how an example set of components fit
together and interact on a Linux system. Basic services are at the bottom
level (closest to the kernel), utility services are in the middle, and applications
that users touch are at the top. Figure 1-3 is a greatly simplified
diagram because only six components are shown, but you can see that the
components at the top are closest to the user (the user interface and web
browser); the components in the middle level has a mail server that the web
browser uses; and there are several smaller components at the bottom.
User Processes
User Interface Web Browser
Mail Server
Network Configuration Communication Bus Diagnostic Logging
Figure 1-3: Process types and interactions
The Big Picture 9
The bottom level tends to consist of small components that perform
single, uncomplicated tasks. The middle level has larger components
such as mail, print, and database services. Finally, components at the
top level perform complicated tasks that the user often controls directly.
Components also use other components. Generally, if one component
wants to use another, the second component is either at the same service
level or below.
However, Figure 1-3 is only an approximation of the arrangement of
user space. In reality, there are no rules in user space. For example, most
applications and services write diagnostic messages known as logs. Most programs
use the standard syslog service to write log messages, but some prefer
to do all of the logging themselves.
In addition, it’s difficult to categorize some user-space components.
Server components such as web and database servers can be considered
very high-level applications because their tasks are often complicated, so
you might place these at the top level in Figure 1-3. However, user applications
may depend on these servers to perform tasks that they’d rather not
do themselves, so you could also make a case for placing them at the middle
level.
1.5 Users
The Linux kernel supports the traditional concept of a Unix user. A user is
an entity that can run processes and own files. A user is associated with a
username. For example, a system could have a user named billyjoe. However,
the kernel does not manage the usernames; instead, it identifies users by
simple numeric identifiers called userids. (You’ll learn more about how the
usernames correspond to userids in Chapter 7.)
Users exist primarily to support permissions and boundaries. Every
user-space process has a user owner, and processes are said to run as the
owner. A user may terminate or modify the behavior of its own processes
(within certain limits), but it cannot interfere with other users’ processes.
In addition, users may own files and choose whether they share them with
other users.
A Linux system normally has a number of users in addition to the ones
that correspond to the real human beings who use the system. You’ll read
about these in more detail in Chapter 3, but the most important user to
know about is root. The root user is an exception to the preceding rules
because root may terminate and alter another user’s processes and read any
file on the local system. For this reason, root is known as the superuser. A
person who can operate as root is said to have root access and is an administrator
on a traditional Unix system.
10 Chapter 1
NOT E Operating as root can be dangerous. It can be difficult to identify and correct mistakes
because the system will let you do anything, even if what you’re doing is harmful to
the system. For this reason, system designers constantly try to make root access as
unnecessary as possible, for example, by not requiring root access to switch between
wireless networks on a notebook. In addition, as powerful as the root user is, it still
runs in the operating system’s user mode, not kernel mode.
Groups are sets of users. The primary purpose of groups is to allow a
user to share file access to other users in a group.
1.6 Looking Forward
So far, you’ve seen what makes up a running Linux system. User processes
make up the environment that you directly interact with; the kernel manages
processes and hardware. Both the kernel and processes reside in
memory.
This is great background information, but you can’t learn the details of
a Linux system by reading about it alone; you need to get your hands dirty.
The next chapter starts your journey by teaching you some user-space basics.
Along the way, you’ll learn about a major part of the Linux system that this
chapter doesn’t discuss—long-term storage (disks, files, etc.). After all, you
need to store your programs and data somewhere.
2
Basic Commands and
Direc tory Hier arch y
This chapter is a guide to the Unix commands
and utilities that will be referenced
throughout this book. This is preliminary
material, and you may already know a substantial
amount of it. Even if you think you’re up to speed,
take a few seconds to flip through the chapter just to
make sure, especially when it comes to the directory
hierarchy material in Section 2.19.
Why Unix commands? Isn’t this a book about how Linux works? It is,
of course, but Linux is a Unix flavor at heart. You’ll see the word Unix in
this chapter more than Linux because you can take what you learn straight
over to Solaris, BSD, and other Unix-flavored systems. I’ve attempted to
avoid covering too many Linux-specific user interface extensions, not only
to give you a better background for using the other operating systems, but
also because these extensions tend to be unstable. You’ll be able to adapt
to new Linux releases much more quickly if you know the core commands.
12 Chapter 2
NOT E For more details about Unix for beginners than you’ll find here, consider reading
The Linux Command Line (No Starch Press, 2012), UNIX for the
Impatient
(Addison-Wesley Professional, 1995), and Learning the UNIX
Operating System, 5th edition (O’Reilly, 2001).
2.1 The Bourne Shell: /bin/sh
The shell is one of the most important parts of a Unix system. A shell is a
program that runs commands, like the ones that users enter. The shell also
serves as a small programming environment. Unix programmers often
break common tasks into little components and use the shell to manage
tasks and piece things together.
Many important parts of the system are actually shell scripts—text files
that contain a sequence of shell commands. If you’ve worked with MS-DOS
previously, you can think of shell scripts as very powerful .BAT files. Because
they’re important, Chapter 11 is devoted entirely to shell scripts.
As you progress through this book and gain practice, you’ll add to
your knowledge of manipulating commands using the shell. One of the
best things about the shell is that if you make a mistake, you can easily see
what you typed to find out what went wrong, and then try again.
There are many different Unix shells, but all derive several of their
features from the Bourne shell (/bin/sh), a standard shell developed at Bell
Labs for early versions of Unix. Every Unix system needs the Bourne shell in
order to function correctly, as you will see throughout this book.
Linux uses an enhanced version of the Bourne shell called bash or
the “Bourne-again” shell. The bash shell is the default shell on most Linux
distributions, and /bin/sh is normally a link to bash on a Linux system. You
should use the bash shell when running the examples in this book.
NOT E You may not have bash as your default shell if you’re using this chapter as a guide
for a Unix account at an organization where you’re not the system administrator. You
can change your shell with chsh or ask your system administrator for help.
2.2 Using the Shell
When you install Linux, you should create at least one regular user in
addition to the root user; this will be your personal account. For this
chapter, you should log in as the regular user.
2.2.1 The Shell Window
After logging in, open a shell window (often referred to as a terminal).
The easiest way to do so from a GUI like Gnome or Ubuntu’s Unity is to
open a terminal application, which starts a shell inside a new window.
Once you’ve opened a shell, it should display a prompt at the top that
Basic Commands and Directory Hierarchy 13
usually ends with a dollar sign ($). On Ubuntu, that prompt should look
like name@host:path$, and on Fedora, it’s [name@host path]$. If you’re familiar
with Windows, the shell window will look something like a DOS command
prompt; the Terminal application in OS X is essentially the same as a Linux
shell window.
This book contains many commands that you will type at a shell prompt.
They all begin with a single $ to denote the shell prompt. For example, type
this command (just the part in bold, not the $) and press enter:
$ echo Hello there.
NOT E Many shell commands in this book start with #. You should run these as the superuser
(root). These commands usually require extra caution.
Now enter this command:
$ cat /etc/passwd
This command displays the contents of the /etc/passwd system information
file and then returns your shell prompt. Don’t worry about what this
file does right now; you’ll learn all about it later, in Chapter 7.
2.2.2 cat
The cat command is one of the easiest Unix commands to understand; it
simply outputs the contents of one or more files. The general syntax of the
cat command is as follows:
$ cat file1 file2 ...
When you run this command, cat prints the contents of file1, file2,
and any other files that you specify (denoted by ...), and then exits. The
command is called cat because it performs concatenation when it prints
the contents of more than one file.
2.2.3 Standard Input and Standard Output
We’ll use cat to briefly explore Unix input and output (I/O). Unix processes
use I/O streams to read and write data. Processes read data from
input streams and write data to output streams. Streams are very flexible.
For example, the source of an input stream can be a file, a device, a terminal,
or even the output stream from another process.
To see an input stream at work, enter cat (with no filenames) and press
enter. This time, you won’t get your shell prompt back because cat is still
running. Now type anything and press enter at the end of each line. The
cat command repeats any line that you type. Once you’re sufficiently bored,
press ctrl-D on an empty line to terminate cat and return to the shell
prompt.
14 Chapter 2
The reason cat adopted an interactive behavior has to do with streams.
Because you did not specify an input filename, cat read from the standard
input stream provided by the Linux kernel rather than a stream connected
to a file. In this case, the standard input was connected to the terminal in
which you ran cat.
NOT E Pressing ctrl-D on an empty line stops the current standard input entry from the
terminal (and often terminates a program). Don’t confuse this with ctrl-C, which
terminates a program regardless of its input or output.
Standard output is similar. The kernel gives each process a standard
output stream where it can write its output. The cat command always writes
its output to the standard output. When you ran cat in the terminal, the
standard output was connected to that terminal, so that’s where you saw the
output.
Standard input and output are often abbreviated as stdin and stdout.
Many commands operate as cat does; if you don’t specify an input file, the
command reads from stdin. Output is a little different. Some commands
(like cat) send output only to stdout, but others have the option to send
output directly to files.
There is a third standard I/O stream called standard error. You’ll see it
in Section 2.14.1.
One of the best features of standard streams is that you can easily
manipulate them to read and write to places other than the terminal,
as you’ll learn in Section 2.14. In particular, you’ll learn how to connect
streams to files and other processes.
2.3 Basic Commands
Now let’s look at some more Unix commands. Most of the following programs
take multiple arguments, and some have so many options and formats
that an unabridged listing would be pointless. This is a simplified list
of the basic commands; you don’t need all of the details just yet.
2.3.1 ls
The ls command lists the contents of a directory. The default is the current
directory. Use ls -l for a detailed (long) listing and ls -F to display file
type information. (For more on the file types and permissions displayed
in the left column below, see Section 2.17.) Here is a sample long listing; it
includes the owner of the file (column 3), the group (column 4), the file
size (column 5), and the modification date/time (between column 5 and
the filename):
$ ls -l
total 3616
-rw-r--r-- 1 juser users 3804 Apr 30 2011 abusive.c
-rw-r--r-- 1 juser users 4165 May 26 2010 battery.zip
Basic Commands and Directory Hierarchy 15
-rw-r--r-- 1 juser users 131219 Oct 26 2012 beav_1.40-13.tar.gz
-rw-r--r-- 1 juser users 6255 May 30 2010 country.c
drwxr-xr-x 2 juser users 4096 Jul 17 20:00 cs335
-rwxr-xr-x 1 juser users 7108 Feb 2 2011 dhry
-rw-r--r-- 1 juser users 11309 Oct 20 2010 dhry.c
-rw-r--r-- 1 juser users 56 Oct 6 2012 doit
drwxr-xr-x 6 juser users 4096 Feb 20 13:51 dw
drwxr-xr-x 3 juser users 4096 May 2 2011 hough-stuff
You’ll learn more about the d in column 1 of this output in Section 2.17.
2.3.2 cp
In its simplest form, cp copies files. For example, to copy file1 to file2,
enter this:
$ cp file1 file2
To copy a number of files to a directory (folder) named dir, try this instead:
$ cp file1 ... fileN dir
2.3.3 mv
The mv (move) command is like cp. In its simplest form, it renames a file. For
example, to rename file1 to file2, enter this:
$ mv file1 file2
You can also use mv to move a number of files to a different directory:
$ mv file1 ... fileN dir
2.3.4 touch
The touch command creates a file. If the file already exists, touch does not
change it, but it does update the file’s modification time stamp printed with
the ls -l command. For example, to create an empty file, enter this:
$ touch file
Then run ls -l on that file. You should see output like the following,
where the date and time u indicate when you ran touch:
$ ls -l file
-rw-r--r-- 1 juser users 0 May 21 18:32u file
16 Chapter 2
2.3.5 rm
To delete (remove) a file, use rm. After you remove a file, it’s gone from your
system and generally cannot be undeleted.
$ rm file
2.3.6 echo
The echo command prints its arguments to the standard output:
$ echo Hello again.
Hello again.
The echo command is very useful for finding expansions of shell globs
(“wildcards” such as *) and variables (such as $HOME), which you will encounter
later in this chapter.
2.4 Navigating Directories
Unix has a directory hierarchy that starts at /, sometimes called the root
directory. The directory separator is the slash (/), not the backslash (\).
There are several standard subdirectories in the root directory, such as
/usr, as you’ll learn in Section 2.19.
When you refer to a file or directory, you specify a path or pathname.
When a path starts with / (such as /usr/lib), it’s a full or absolute path.
A path component identified by two dots (..) specifies the parent of a
directory. For example, if you’re working in /usr/lib, the path .. would refer
to /usr. Similarly, ../bin would refer to /usr/bin.
One dot (.) refers to the current directory; for example, if you’re in
/usr/lib, the path . is still /usr/lib, and ./X11 is /usr/lib/X11. You won’t have
to use . very often because most commands default to the current directory
if a path doesn’t start with / (you could just use X11 instead of ./X11 in the
preceding example).
A path not beginning with / is called a relative path. Most of the time,
you’ll work with relative pathnames, because you’ll already be in the directory
you need to be in or somewhere close by.
Now that you have a sense of the basic directory mechanics, here are
some essential directory commands.
2.4.1 cd
The current working directory is the directory that a process (such as the shell) is
currently in. The cd command changes the shell’s current working directory:
$ cd dir
Basic Commands and Directory Hierarchy 17
If you omit dir, the shell returns to your home directory, the directory you
started in when you first logged in.
2.4.2 mkdir
The mkdir command creates a new directory dir:
$ mkdir dir
2.4.3 rmdir
The rmdir command removes the directory dir:
$ rmdir dir
If dir isn’t empty, this command fails. However, if you’re impatient, you
probably don’t want to laboriously delete all the files and subdirectories
inside dir first. You can use rm -rf dir to delete a directory and its contents,
but be careful! This is one of the few commands that can do serious damage,
especially if you run it as the superuser. The -r option specifies recursive
delete to repeatedly delete everything inside dir, and -f forces the delete
operation. Don’t use the -rf flags with globs such as a star (*). And above
all, always double-check your command before you run it.
2.4.4 Shell Globbing (Wildcards)
The shell can match simple patterns to file and directory names, a process
known as globbing. This is similar to the concept of wildcards in other systems.
The simplest of these is the glob character *, which tells the shell to
match any number of arbitrary characters. For example, the following command
prints a list of files in the current directory:
$ echo *
The shell matches arguments containing globs to filenames, substitutes
the filenames for those arguments, and then runs the revised command
line. The substitution is called expansion because the shell substitutes all
matching filenames. Here are some ways to use * to expand filenames:
• at* expands to all filenames that start with at.
• *at expands to all filenames that end with at.
• *at* expands to all filenames that contain at.
If no files match a glob, the shell performs no expansion, and the command
runs with literal characters such as *. For example, try a command
such as echo *dfkdsafh.
18 Chapter 2
NOT E If you’re used to MS-DOS, you might instinctively type *.* to match all files. Break
this habit now. In Linux and other versions of Unix, you must use * to match all
files. In the Unix shell, *.* matches only files and directories that contain the dot (.)
character in their names. Unix filenames do not need extensions and often do not
carry them.
Another shell glob character, the question mark (?), instructs the shell
to match exactly one arbitrary character. For example, b?at matches boat
and brat.
If you don’t want the shell to expand a glob in a command, enclose
the glob in single quotes (''). For example, the command echo '*' prints
a star. You will find this handy for a few of the commands described in the
next section, such as grep and find. (You’ll learn more much about quoting
in Section 11.2.)
NOT E It is important to remember that the shell performs expansions before running commands,
and only then. Therefore, if a * makes it to a command without expanding,
the shell will do nothing more with it; it’s up to the command to decide what it wants
to do.
There is more to a modern shell’s pattern-matching capabilities, but *
and ? are what you need to know now.
2.5 Intermediate Commands
The following sections describe the most essential intermediate Unix
commands.
2.5.1 grep
The grep command prints the lines from a file or input stream that match
an expression. For example, to print the lines in the /etc/passwd file that
contain the text root, enter this:
$ grep root /etc/passwd
The grep command is extraordinarily handy when operating on multiple
files at once because it prints the filename in addition to the matching
line. For example, if you want to check every file in /etc that contains the
word root, you could use this command:
$ grep root /etc/*
Two of the most important grep options are -i (for case-insensitive
matches) and -v (which inverts the search, that is, prints all lines that don’t
match). There is also a more powerful variant called egrep (which is just a
synonym for grep -E).
Basic Commands and Directory Hierarchy 19
grep understands patterns known as regular expressions that are grounded
in computer science theory and are very common in Unix utilities. Regular
expressions are more powerful than wildcard-style patterns, and they have a
different syntax. There are two important things to remember about regular
expressions:
• .* matches any number of characters (like the * in wildcards).
• . matches one arbitrary character.
NOT E The grep(1) manual page contains a detailed description of regular expressions, but
it can be a little difficult to read. To learn more, you can read Mastering Regular
Expressions, 3rd edition (O’Reilly, 2006), or see the regular expressions chapter of
Programming Perl, 4th edition (O’Reilly, 2012). If you like math and are interested
in where regular expressions come from, look up Introduction to Automata
Theory, Languages, and Computation, 3rd edition (Prentice Hall, 2006).
2.5.2 less
The less command comes in handy when a file is really big or when a command’s
output is long and scrolls off the top of the screen.
To page through a big file like /usr/share/dict/words, use the command
less /usr/share/dict/words. When running less, you’ll see the contents of the
file one screenful at a time. Press the spacebar to go forward in the file and
the b key to skip back one screenful. To quit, type q.
NOT E The less command is an enhanced version of an older program named more. Most
Linux desktops and servers have less, but it’s not standard on many embedded systems
and other Unix systems. So if you ever run into a situation when you can’t use
less, try more.
You can also search for text inside less. For example, to search forward
for a word, type /word, and to search backward, use ?word. When you find a
match, press n to continue searching.
As you’ll learn in Section 2.14, you can send the standard output of
nearly any program directly to another program’s standard input. This is
exceptionally useful when you have a command with a lot of output to sift
through and you’d like to use something like less to view the output. Here’s
an example of sending the output of a grep command to less:
$ grep ie /usr/share/dict/words | less
Try this command out for yourself. You’ll probably use less like this
a lot.
2.5.3 pwd
The pwd (print working directory) program simply outputs the name of the
current working directory. You may be wondering why you need this when
20 Chapter 2
most Linux distributions set up accounts with the current working directory
in the prompt. There are two reasons.
First, not all prompts include the current working directory, and you
may even want to get rid of it in your own prompt because it takes up a lot
of space. If you do so, you need pwd.
Second, the symbolic links that you’ll learn about in Section 2.17.2 can
sometimes obscure the true full path of the current working directory.
You’ll use pwd -P to eliminate this confusion.
2.5.4 diff
To see the differences between two text files, use diff:
$ diff file1 file2
Several options can control the format of the output, and the default
output format is often the most comprehensible for human beings. However,
most programmers prefer the output from diff -u when they need to send
the output to someone else because automated tools can make better use
of it.
2.5.5 file
If you see a file and are unsure of its format, try using the file command to
see if the system can guess:
$ file file
You may be surprised by how much this innocent-looking command
can do.
2.5.6 find and locate
It’s frustrating when you know that a certain file is in a directory tree somewhere
but you just don’t know where. Run find to find file in dir:
$ find dir -name file -print
Like most programs in this section, find is capable of some fancy stuff.
However, don’t try options such as -exec before you know the form shown
here by heart and why you need the -name and -print options. The find
command accepts special pattern-matching characters such as *, but you
must enclose them in single quotes ('*')to protect the special characters
from the shell’s own globbing feature. (Recall from Section 2.4.4 that the
shell expands globs before running commands.)
Most systems also have a locate command for finding files. Rather than
searching for a file in real time, locate searches an index that the system
builds periodically. Searching with locate is much faster than find, but if the
file you’re looking for is newer than the index, locate won’t find it.
Basic Commands and Directory Hierarchy 21
2.5.7 head and tail
To quickly view a portion of a file or stream of data, use the head and tail
commands. For example, head /etc/passwd shows the first 10 lines of the
password file, and tail /etc/passwd shows the last 10 lines.
To change the number of lines to display, use the -n option, where n is
the number of lines you want to see (for example, head -5 /etc/passwd). To
print lines starting at line n, use tail +n.
2.5.8 sort
The sort command quickly puts the lines of a text file in alphanumeric
order. If the file’s lines start with numbers and you want to sort in numerical
order, use the -n option. The -r option reverses the order of the sort.
2.6 Changing Your Password and Shell
Use the passwd command to change your password. You’ll be asked for your
old password and then prompted for your new password twice. Choose a
password that does not include real words in any language and don’t try to
combine words.
One of the easiest ways to create a good password is to pick a sentence,
produce an acronym from it, and then modify the acronym with a number
or some punctuation. Then all you need to do is remember the sentence.
You can change your shell with the chsh command (to an alternative
such as ksh or tcsh), but keep in mind that this book assumes that you’re
running bash.
2.7 Dot Files
Change to your home directory, take a look around with ls, and then run
ls -a. Do you see the difference in the output? When you run ls without the
-a, you won’t see the configuration files called dot files. These are files and
directories whose names begin with a dot (.). Common dot files are .bashrc
and .login, and there are dot directories, too, such as .ssh.
There is nothing special about dot files or directories. Some programs
don’t show them by default so that you won’t see a complete mess when listing
the contents of your home directory. For example, ls doesn’t list dot
files unless you use the -a option. In addition, shell globs don’t match
dot files unless you explicitly use a pattern such as .*.
NOT E You can run into problems with globs because .* matches . and .. (the current and
parent directories). You may wish to use a pattern such as .[^.]* or .??* to get all
dot files except the current and parent directories.
2.8 Environment and Shell Variables
The shell can store temporary variables, called shell variables, containing
the values of text strings. Shell variables are very useful for keeping track of
22 Chapter 2
values in scripts, and some shell variables control the way the shell behaves.
(For example, the bash shell reads the PS1 variable before displaying the
prompt.)
To assign a value to a shell variable, use the equal sign (=). Here’s a
simple example:
$ STUFF=blah
The preceding example sets the value of the variable named STUFF
to blah. To access this variable, use $STUFF (for example, try running echo
$STUFF). You’ll learn about the many uses of shell variables in Chapter 11.
An environment variable is like a shell variable, but it’s not specific to the
shell. All processes on Unix systems have environment variable storage. The
main difference between environment and shell variables is that the operating
system passes all of your shell’s environment variables to programs that
the shell runs, whereas shell variables cannot be accessed in the commands
that you run.
Assign an environment variable with the shell’s export command. For
example, if you’d like to make the $STUFF shell variable into an environment
variable, use the following:
$ STUFF=blah
$ export STUFF
Environment variables are useful because many programs read them
for configuration and options. For example, you can put your favorite less
command-line options in the LESS environment variable, and less will use
those options when you run it. (Many manual pages contain a section
marked ENVIRONMENT that describes these variables.)
2.9 The Command Path
PATH is a special environment variable that contains the command path (or
path for short). A command path is a list of system directories that the shell
searches when trying to locate a command. For example, when you run ls,
the shell searches the directories listed in PATH for the ls program. If programs
with the same name appear in several directories in the path, the
shell runs the first matching program.
If you run echo $PATH, you’ll see that the path components are separated
by colons (:). For example:
$ echo $PATH
/usr/local/bin:/usr/bin:/bin
To tell the shell to look in more places for programs, change the PATH
environment variable. For example, by using this command, you can add
a directory dir to the beginning of the path so that the shell looks in dir
before looking in any of the other PATH directories.
Basic Commands and Directory Hierarchy 23
$ PATH=dir:$PATH
Or you can append a directory name to the end of the PATH variable,
causing the shell to look in dir last:
$ PATH=$PATH:dir
NOT E Be careful when modifying the path because you can accidentally wipe out your entire
path if you mistype $PATH. If this happens, don’t panic! The damage isn’t permanent;
you can just start a new shell. (For a lasting effect, you need to mistype it when editing
a certain configuration file, and even then it isn’t difficult to rectify.) One of the easiest
ways to return to normal is to close the current terminal window and start another.
2.10 Special Characters
When discussing Linux with others, you should know a few names for some
of the special characters that you’ll encounter. If you’re amused by this
sort of thing, see the “Jargon File” (http://www.catb.org/jargon/html/) or its
printed companion, The New Hacker’s Dictionary (MIT Press, 1996).
Table 2-1 describes a select set of the special characters, many of which
you’ve already seen in this chapter. Some utilities, such as the Perl programming
language, use almost all of these special characters! (Keep in mind
that these are the American names for the characters.)
Table 2-1: Special Characters
Character Name(s) Uses
* asterisk, star Regular expression, glob character
. dot Current directory, file/hostname delimiter
! bang Negation, command history
| pipe Command pipes
/ (forward) slash Directory delimiter, search command
\ backslash Literals, macros (never directories)
$ dollar Variable denotation, end of line
' tick, (single) quote Literal strings
` backtick, backquote Command substitution
" double quote Semi-literal strings
^ caret Negation, beginning of line
~ tilde, squiggle Negation, directory shortcut
# hash, sharp, pound Comments, preprocessor, substitutions
[ ] (square) brackets Ranges
{ } braces, (curly) brackets Statement blocks, ranges
_ underscore, under Cheap substitute for a space
24 Chapter 2
NOT E You will often see control characters marked with a caret; for example, ^C for ctrl-C.
2.11 Command-Line Editing
As you play with the shell, notice that you can edit the command line using
the left and right arrow keys, as well as page through previous commands
using the up and down arrows. This is standard on most Linux systems.
However, it’s a good idea to forget about the arrow keys and use control
key sequences instead. If you learn the ones listed in Table 2-2, you’ll find
that you’re better able to enter text in the many Unix programs that use
these standard keystrokes.
Table 2-2: Command-Line Keystrokes
Keystroke Action
ctrl-B Move the cursor left
ctrl-F Move the cursor right
ctrl-P View the previous command (or move the cursor up)
ctrl-N View the next command (or move the cursor down)
ctrl-A Move the cursor to the beginning of the line
ctrl-E Move the cursor to the end of the line
ctrl-W Erase the preceding word
ctrl-U Erase from cursor to beginning of line
ctrl-K Erase from cursor to end of line
ctrl-Y Paste erased text (for example, from ctrl-U)
2.12 Text Editors
Speaking of editing, it’s time to learn an editor. To get serious with Unix, you
must be able to edit text files without damaging them. Most parts of the system
use plaintext configuration files (like the ones in /etc). It’s not difficult to
edit files, but you will do it so often that you need a powerful tool for the job.
You should try to learn one of the two de facto standard Unix text editors,
vi and Emacs. Most Unix wizards are religious about their choice of
editor, but don’t listen to them. Just choose for yourself. If you choose one
that matches the way that you work, you’ll find it easier to learn. Basically,
the choice comes down to this:
• If you want an editor that can do almost anything and has extensive
online help, and you don’t mind doing some extra typing to get these
features, try Emacs.
• If speed is everything, give vi a shot; it “plays” a bit like a video game.
Basic Commands and Directory Hierarchy 25
Learning the vi and Vim Editors: Unix Text Processing, 7th edition (O’Reilly,
2008) can tell you everything you need to know about vi. For Emacs, use
the online tutorial: Start Emacs, press ctrl-H, and then type T. Or read
GNU Emacs Manual (Free Software Foundation, 2011).
You might be tempted to experiment with a friendlier editor when you
first start out, such as Pico or one of the myriad GUI editors out there, but
if you tend to make a habit out of the first thing that you use, you don’t want
to go down this route.
NOT E Editing text is where you’ll first start to see a difference between the terminal and
the GUI. Editors such as vi run inside the terminal window, using the standard
terminal I/O interface. GUI editors start their own window and present their own
interface, independent of terminals. Emacs runs in a GUI by default but will run in
a terminal window as well.
2.13 Getting Online Help
Linux systems come with a wealth of documentation. For basic commands,
the manual pages (or man pages) will tell you what you need to know. For
example, to see the manual page for the ls command, run man as follows:
$ man ls
Most manual pages concentrate primarily on reference information,
perhaps with some examples and cross-references, but that’s about it. Don’t
expect a tutorial, and don’t expect an engaging literary style.
When programs have many options, the manual page often lists the
options in some systematic way (for example, in alphabetical order), but it
won’t tell you what the important ones are. If you’re patient, you can usually
find what you need to know in the man page. If you’re impatient, ask a
friend—or pay someone to be your friend so that you can ask him or her.
To search for a manual page by keyword, use the -k option:
$ man -k keyword
This is helpful if you don’t quite know the name of the command that
you want. For example, if you’re looking for a command to sort something,
run:
$ man -k sort
--snip--
comm (1) - compare two sorted files line by line
qsort (3) - sorts an array
sort (1) - sort lines of text files
sortm (1) - sort messages
tsort (1) - perform topological sort
--snip--
26 Chapter 2
The output includes the manual page name, the manual section (see
below), and a quick description of what the manual page contains.
NOT E If you have any questions about the commands described in the previous sections, you
may be able to find the answers by using the man command.
Manual pages are referenced by numbered sections. When someone
refers to a manual page, the section number appears in parentheses next
to the name, like ping(8), for example. Table 2-3 lists the sections and their
numbers.
Table 2-3: Online Manual Sections
Section Description
1 User commands
2 System calls
3 Higher-level Unix programming library documentation
4 Device interface and driver information
5 File descriptions (system configuration files)
6 Games
7 File formats, conventions, and encodings (ASCII, suffixes, and so on)
8 System commands and servers
Sections 1, 5, 7, and 8 should be good supplements to this book. Section 4
may be of marginal use, and Section 6 would be great if only it were a little
larger. You probably won’t be able to use Section 3 if you aren’t a programmer,
but you may be able to understand some of the material in Section 2
once you’ve read more about system calls in this book.
You can select a manual page by section, which is sometimes important
because man displays the first manual page that it finds when matching a
particular search term. For example, to read the /etc/passwd file description
(as opposed to the passwd command), you can insert the section number
before the page name:
$ man 5 passwd
Manual pages cover the essentials, but there are many more ways to get
online help. If you’re just looking for a certain option for a command, try
entering a command name followed by --help or -h (the option varies from
command to command). You may get a deluge (as in the case of ls --help),
or you may find just what you’re looking for.
Some time ago, the GNU Project decided that it didn’t like manual
pages very much and switched to another format called info (or texinfo).
Often this documentation goes further than a typical manual page does,
Basic Commands and Directory Hierarchy 27
but it is sometimes more complex. To access an info manual, use info with
the command name:
$ info command
Some packages dump their available documentation into /usr/share/doc
with no regard for online manual systems such as man or info. See this directory
on your system if you find yourself searching for documentation. And
of course, search the Internet.
2.14 Shell Input and Output
Now that you’re familiar with basic Unix commands, files, and directories,
you’re ready to learn how to redirect standard input and output. Let’s start
with standard output.
To send the output of command to a file instead of the terminal, use the >
redirection character:
$ command > file
The shell creates file if it does not already exist. If file exists, the shell
erases (clobbers) the original file first. (Some shells have parameters that
prevent clobbering. For example, enter set -C to avoid clobbering in bash.)
You can append the output to the file instead of overwriting it with the
>> redirection syntax:
$ command >> file
This is a handy way to collect output in one place when executing
sequences of related commands.
To send the standard output of a command to the standard input of
another command, use the pipe character (|). To see how this works, try
these two commands:
$ head /proc/cpuinfo
$ head /proc/cpuinfo | tr a-z A-Z
You can send output through as many piped commands as you wish;
just add another pipe before each additional command.
2.14.1 Standard Error
Occasionally, you may redirect standard output but find that the program
still prints something to the terminal. This is called standard error
(stderr); it’s an additional output stream for diagnostics and debugging.
For example, this command produces an error:
$ ls /fffffffff > f
28 Chapter 2
After completion, f should be empty, but you still see the following
error message on the terminal as standard error:
ls: cannot access /fffffffff: No such file or directory
You can redirect the standard error if you like. For example, to
send standard output to f and standard error to e, use the 2> syntax,
like this:
$ ls /fffffffff > f 2> e
The number 2 specifies the stream ID that the shell modifies. Stream ID
1 is standard output (the default), and 2 is standard error.
You can also send the standard error to the same place as stdout with
the >& notation. For example, to send both standard output and standard
error to the file named f, try this command:
$ ls /fffffffff > f 2>&1
2.14.2 Standard Input Redirection
To channel a file to a program’s standard input, use the < operator:
$ head < /proc/cpuinfo
You will occasionally run into a program that requires this type of redirection,
but because most Unix commands accept filenames as arguments,
this isn’t very common. For example, the preceding command could have
been written as head /proc/cpuinfo.
2.15 Understanding Error Messages
When you encounter a problem on a Unix-like system such as Linux, you
must read the error message. Unlike messages from other operating systems,
Unix errors usually tell you exactly what went wrong.
2.15.1 Anatomy of a UNIX Error Message
Most Unix programs generate and report the same basic error messages,
but there can be subtle differences between the output of any two programs.
Here’s an example that you’ll certainly encounter in some form
or other:
$ ls /dsafsda
ls: cannot access /dsafsda: No such file or directory
Basic Commands and Directory Hierarchy 29
There are three components to this message:
• The program name, ls. Some programs omit this identifying information,
which can be annoying when writing shell scripts, but it’s not
really a big deal.
• The filename, /dsafsda, which is a more specific piece of information.
There’s a problem with this path.
• The error No such file or directory indicates the problem with the
filename.
Putting it all together, you get something like “ls tried to open /dsafsda
but couldn’t because it doesn’t exist.” This may seem obvious, but these
messages can get a little confusing when you run a shell script that includes
an erroneous command under a different name.
When troubleshooting errors, always address the first error first. Some
programs report that they can’t do anything before reporting a host of
other problems. For example, say you run a fictitious program called scumd
and you see this error message:
scumd: cannot access /etc/scumd/config: No such file or directory
Following this is a huge list of other error messages that looks like a
complete catastrophe. Don’t let those other errors distract you. You probably
just need to create /etc/scumd/config.
NOT E Don’t confuse error messages with warning messages. Warnings often look like errors,
but they contain the word warning. A warning usually means something is wrong but
the program will try to continue running anyway. To fix a problem noted in a warning
message, you may have to hunt down a process and kill it before doing anything else.
(You’ll learn about listing and killing processes in Section 2.16.)
2.15.2 Common Errors
Many errors that you’ll encounter in Unix programs result from things that
can go wrong with files and processes. Here’s an error message hit parade:
No such file or directory
This is the number one error. You tried to access a file that doesn’t exist.
Because the Unix file I/O system doesn’t discriminate between files and
directories, this error message occurs everywhere. You get it when you try
to read a file that does not exist, when you try to change to a directory that
isn’t there, when you try to write to a file in a directory that doesn’t exist,
and so on.
File exists
In this case, you probably tried to create a file that already exists. This is
common when you try to create a directory with the same name as a file.
30 Chapter 2
Not a directory, Is a directory
These messages pop up when you try to use a file as a directory or a directory
as a file. For example:
$ touch a
$ touch a/b
touch: a/b: Not a directory
Notice that the error message only applies to the a part of a/b. When
you encounter this problem, you may need to dig around a little to find the
path component that is being treated like a directory.
No space left on device
You’re out of disk space.
Permission denied
You get this error when you attempt to read or write to a file or directory
that you’re not allowed to access (you have insufficient privileges). This
error also shows when you try to execute a file that does not have the execute
bit set (even if you can read the file). You’ll read more about permissions
in Section 2.17.
Operation not permitted
This usually happens when you try to kill a process that you don’t own.
Segmentation fault, Bus error
A segmentation fault essentially means that the person who wrote the program
that you just ran screwed up somewhere. The program tried to access
a part of memory that it was not allowed to touch, and the operating system
killed it. Similarly, a bus error means that the program tried to access some
memory in a particular way that it shouldn’t. When you get one of these
errors, you might be giving a program some input that it did not expect.
2.16 Listing and Manipulating Processes
Recall from Chapter 1 that a process is a running program. Each process on
the system has a numeric process ID (PID). For a quick listing of running processes,
just run ps on the command line. You should get a list like this one:
$ ps
PID TTY STAT TIME COMMAND
520 p0 S 0:00 -bash
545 ? S 3:59 /usr/X11R6/bin/ctwm -W
548 ? S 0:10 xclock -geometry -0-0
2159 pd SW 0:00 /usr/bin/vi lib/addresses
31956 p3 R 0:00 ps
Basic Commands and Directory Hierarchy 31
The fields are as follows:
PID The process ID.
TTY The terminal device where the process is running. More about
this later.
STAT The process status, that is, what the process is doing and where
its memory resides. For example, S means sleeping and R means running.
(See the ps(1) manual page for a description of all the symbols.)
TIME The amount of CPU time in minutes and seconds that the process
has used so far. In other words, the total amount of time that the
process has spent running instructions on the processor.
COMMAND This one might seem obvious, but be aware that a process
can change this field from its original value.
2.16.1 Command Options
The ps command has many options. To make things more confusing, you
can specify options in three different styles—Unix, BSD, and GNU. Many
people find the BSD style to be the most comfortable (perhaps because it
involves less typing), so we’ll use the BSD style in this book. Here are some
of the most useful option combinations:
ps x Show all of your running processes.
ps ax Show all processes on the system, not just the ones you own.
ps u Include more detailed information on processes.
ps w Show full command names, not just what fits on one line.
As with other programs, you can combine options, as in ps aux and ps auxw.
To check on a specific process, add its PID to the argument list of the
ps command. For example, to inspect the current shell process, you could
use ps u $$, because $$ is a shell variable that evaluates to the current shell’s
PID. (You’ll find information on the administration commands top and lsof
in Chapter 8. These can be useful for locating processes, even when doing
something other than system maintenance.)
2.16.2 Killing Processes
To terminate a process, send it a signal with the kill command. A signal is a
message to a process from the kernel. When you run kill, you’re asking the
kernel to send a signal to another process. In most cases, all you need to do
is this:
$ kill pid
There are many types of signals. The default is TERM, or terminate. You
can send different signals by adding an extra option to kill. For example, to
freeze a process instead of terminating it, use the STOP signal:
$ kill -STOP pid
32 Chapter 2
A stopped process is still in memory, ready to pick up where it left off.
Use the CONT signal to continue running the process again:
$ kill -CONT pid
NOT E Using ctrl-C to terminate a process that is running in the current terminal is the
same as using kill to end the process with the INT (interrupt) signal.
The most brutal way to terminate a process is with the KILL signal.
Other signals give the process a chance to clean up after itself, but KILL
does not. The operating system terminates the process and forcibly removes
it from memory. Use this as a last resort.
You should not kill processes indiscriminately, especially if you don’t
know what they’re doing. You may be shooting yourself in the foot.
You may see other users entering numbers instead of names with kill;
for example, kill -9 instead of kill -KILL. This is because the kernel uses
numbers to denote the different signals; you can use kill this way if you
know the number of the signal that you want to send.
2.16.3 Job Control
Shells also support job control, which is a way to send TSTP (similar to STOP)
and CONT signals to programs by using various keystrokes and commands. For
example, you can send a TSTP signal with ctrl-Z, then start the process again
by entering fg (bring to foreground) or bg (move to background; see the next
section). But despite its utility and the habits of many experienced users, job
control is not necessary and can be confusing for beginners: It’s common for
users to press ctrl-Z instead of ctrl-C, forget about what they were running,
and eventually end up with numerous suspended processes hanging around.
Hin t : To see if you’ve accidentally suspended any processes on your current terminal, run
the jobs command.
If you want to run multiple shells, run each program in a separate
terminal window, put noninteractive processes in the background (as
explained in the next section), or learn to use the screen program.
2.16.4 Background Processes
Normally, when you run a Unix command from the shell, you don’t get
the shell prompt back until the program finishes executing. However, you
can detach a process from the shell and put it in the “background” with
the ampersand (&); this gives you the prompt back. For example, if you
have a large file that you need to decompress with gunzip (you’ll see this in
Section 2.18), and you want to do some other stuff while it’s running, run a
command like this one:
$ gunzip file.gz &
Basic Commands and Directory Hierarchy 33
The shell should respond by printing the PID of the new background
process, and the prompt should return immediately so that you can continue
working. The process will continue to run after you log out, which
comes in particularly handy if you have to run a program that does a lot of
number crunching for a while. (Depending on your setup, the shell might
notify you when the process completes.)
The dark side of running background processes is that they may expect
to work with the standard input (or worse, read directly from the terminal).
If a program tries to read something from the standard input when it’s in
the background, it can freeze (try fg to bring it back) or terminate. Also,
if the program writes to the standard output or standard error, the output
can appear in the terminal window with no regard for anything else running
there, meaning that you can get unexpected output when you’re working
on something else.
The best way to make sure that a background process doesn’t bother
you is to redirect its output (and possibly input) as described in Section 2.14.
If spurious output from background processes gets in your way, learn
how to redraw the content of your terminal window. The bash shell and
most full-screen interactive programs support ctrl-L to redraw the entire
screen. If a program is reading from the standard input, ctrl-R usually
redraws the current line, but pressing the wrong sequence at the wrong
time can leave you in an even worse situation than before. For example,
entering ctrl-R at the bash prompt puts you in reverse isearch mode (press
esc to exit).
2.17 File Modes and Permissions
Every Unix file has a set of permissions that determine whether you can read,
write, or run the file. Running ls -l displays the permissions. Here’s an
example of such a display:
-rw-r--r--u 1 juser somegroup 7041 Mar 26 19:34 endnotes.html
The file’s mode u represents
the file’s permissions and some
extra information. There are four
parts to the mode, as illustrated in
Figure 2-1.
The first character of the mode
is the file type. A dash (-) in this position,
as in the example, denotes
a regular file, meaning that there’s
nothing special about the file. This is
by far the most common kind of file.
Directories are also common and are
indicated by a d in the file type slot.
(Section 3.1 lists the remaining file
types.)
Type
User permissions
Group permissions
Other permissions
-rw-r--r--
Figure 2-1: The pieces of a file mode
34 Chapter 2
The rest of a file’s mode contains the permissions, which break down into
three sets: user, group, and other, in that order. For example, the rw- characters
in the example are the user permissions, the r-- characters that follow are the
group permissions, and the final r-- characters are the other permissions.
Each permission set can contain four basic representations:
r Means that the file is readable.
w Means that the file is writable.
x Means that the file is executable (you can run it as a program).
- Means nothing.
The user permissions (the first set) pertain to the user who owns the
file. In the preceding example, that’s juser. The second set, group permissions,
are for the file’s group (somegroup in the example). Any user in that
group can take advantage of these permissions. (Use the groups command
to see what group you’re in, and see Section 7.3.5 for more information.)
Everyone else on the system has access according to the third set, the
other permissions, which are sometimes called world permissions.
NOT E Each read, write, and execute permission slot is sometimes called a permission bit.
Therefore, you may hear people refer to parts of the permissions as “the read bits.”
Some executable files have an s in the user permissions listing instead
of an x. This indicates that the executable is setuid, meaning that when you
execute the program, it runs as though the file owner is the user instead
of you. Many programs use this setuid bit to run as root in order to get the
privileges they need to change system files. One example is the passwd program,
which needs to change the /etc/passwd file.
2.17.1 Modifying Permissions
To change permissions, use the chmod command. First, pick the set of permissions
that you want to change, and then pick the bit to change. For
example, to add group (g) and world (o, for “other”) read (r) permissions
to file, you could run these two commands:
$ chmod g+r file
$ chmod o+r file
Or you could do it all in one shot:
$ chmod go+r file
To remove these permissions, use go-r instead of go+r.
NOT E Obviously, you shouldn’t make files world-writable because doing so gives anyone on
your system the ability to change them. But would this allow anyone connected to the
Internet to change your files? Probably not, unless your system has a network security
hole. In that case, file permissions won’t help you anyway.
Basic Commands and Directory Hierarchy 35
You may sometimes see people changing permissions with numbers, for
example:
$ chmod 644 file
This is called an absolute change because it sets all permission bits at
once. To understand how this works, you need to know how to represent the
permission bits in octal form (each numeral represents a number in base 8
and corresponds to a permission set). See the chmod(1) manual page or
info manual for more.
You don’t really need to know how to construct absolute modes; just
memorize the modes that you use most often. Table 2-4 lists the most common
ones.
Table 2-4: Absolute Permission Modes
Mode Meaning Used For
644 user: read/write; group, other: read files
600 user: read/write; group, other: none files
755 user: read/write/execute; group, other: read/execute directories, programs
700 user: read/write/execute; group, other: none directories, programs
711 user: read/write/execute; group, other: execute directories
Directories also have permissions. You can list the contents of a directory
if it’s readable, but you can only access a file in a directory if the directory is
executable. (One common mistake people make when setting the permissions
of directories is to accidentally remove the execute permission when
using absolute modes.)
Finally, you can specify a set of default permissions with the umask shell
command, which applies a predefined set of permissions to any new file you
create. In general, use umask 022 if you want everyone to be able to see all
of the files and directories that you create, and use umask 077 if you don’t.
(You’ll need to put the umask command with the desired mode in one of
your startup files to make your new default permissions apply to later sessions,
as discussed in Chapter 13.)
2.17.2 Symbolic Links
A symbolic link is a file that points to another file or a directory, effectively
creating an alias (like a shortcut in Windows). Symbolic links offer quick
access to obscure directory paths.
In a long directory listing, symbolic links look like this (notice the l as
the file type in the file mode):
lrwxrwxrwx 1 ruser users 11 Feb 27 13:52 somedir -> /home/origdir
36 Chapter 2
If you try to access somedir in this directory, the system gives you
/home/origdir instead. Symbolic links are simply names that point to other
names. Their names and the paths to which they point don’t have to mean
anything. For example, /home/origdir doesn’t even need to exist.
In fact, if /home/origdir does not exist, any program that accesses somedir
reports that somedir doesn’t exist (except for ls somedir, a command that stupidly
informs you that somedir is somedir). This can be baffling because you can
see something named somedir right in front of your eyes.
This is not the only way that symbolic links can be confusing. Another
problem is that you can’t identify the characteristics of a link target just by
looking at the name of the link; you must follow the link to see if it goes to
a file or directory. Your system may also have links that point to other links,
which are called chained symbolic links.
2.17.3 Creating Symbolic Links
To create a symbolic link from target to linkname, use ln -s:
$ ln -s target linkname
The linkname argument is the name of the symbolic link, the target
argument is the path of the file or directory that the link points to, and
the -s flag specifies a symbolic link (see the warning that follows).
When making a symbolic link, check the command twice before you
run it because several things can go wrong. For example, if you reverse
the order of the arguments (ln -s linkname target), you’re in for some fun
if linkname is a directory that already exists. If this is the case (and it quite
often is), ln creates a link named target inside linkname, and the link will
point to itself unless linkname is a full path. If something goes wrong when
you create a symbolic link to a directory, check that directory for errant
symbolic links and remove them.
Symbolic links can also cause headaches when you don’t know that they
exist. For example, you can easily edit what you think is a copy of a file but
is actually a symbolic link to the original.
WARNING Don’t forget the -s option when creating a symbolic link. Without it, ln creates a hard
link, giving an additional real filename to a single file. The new filename has the
status of the old one; it points (links) directly to the file data instead of to another filename
as a symbolic link does. Hard links can be even more confusing than symbolic
links. Unless you understand the material in Section 4.5, avoid using them.
With all of these warnings regarding symbolic links, why would anyone
bother to use them? Because they offer a convenient way to organize and
share files, as well as patch up small problems.
Basic Commands and Directory Hierarchy 37
2.18 Archiving and Compressing Files
Now that you’ve learned about files, permissions, and possible errors, you
need to master gzip and tar.
2.18.1 gzip
The program gzip (GNU Zip) is one of the current standard Unix compression
programs. A file that ends with .gz is a GNU Zip archive. Use gunzip
file.gz to uncompress <file>.gz and remove the suffix; to compress it again,
use gzip file.
2.18.2 tar
Unlike the zip programs for other operating systems, gzip does not create
archives of files; that is, it doesn’t pack multiple files and directories into
one file. To create an archive, use tar instead:
$ tar cvf archive.tar file1 file2 ...
Archives created by tar usually have a .tar suffix (this is by convention;
it isn’t required). For example, in the command above, file1, file2, and
so on are the names of the files and directories that you wish to archive in
<archive>.tar. The c flag activates create mode. The r and f flags have more
specific roles.
The v flag activates verbose diagnostic output, causing tar to print the
names of the files and directories in the archive when it encounters them.
Adding another v causes tar to print details such as file size and permissions.
If you don’t want tar to tell you what it’s doing, omit the v flag.
The f flag denotes the file option. The next argument on the command
line after the f flag must be the archive file for tar to create (in the
preceding example, it is <archive>.tar). You must use this option followed by
a filename at all times, except with tape drives. To use standard input or
output, enter a dash (-) instead of the filename.
Unpacking tar files
To unpack a .tar file with tar use the x flag:
$ tar xvf archive.tar
In this command, the x flag puts tar into extract (unpack) mode. You can
extract individual parts of the archive by entering the names of the parts
at the end of the command line, but you must know their exact names. (To
find out for sure, see the table-of-contents mode described shortly.)
NOT E When using extract mode, remember that tar does not remove the archived .tar file
after extracting its contents.
38 Chapter 2
Table-of-Contents Mode
Before unpacking, it’s usually a good idea to check the contents of a .tar
file with the table-of-contents mode by using the t flag instead of the x flag.
This mode verifies the archive’s basic integrity and prints the names of all
files inside. If you don’t test an archive before unpacking it, you can end up
dumping a huge mess of files into the current directory, which can be really
difficult to clean up.
When you check an archive with the t mode, verify that everything is
in a rational directory structure; that is, all file pathnames in the archive
should start with the same directory. If you’re unsure, create a temporary
directory, change to it, and then extract. (You can always use mv * .. if the
archive didn’t create a mess.)
When unpacking, consider using the p option to preserve permissions.
Use this in extract mode to override your umask and get the exact permissions
specified in the archive. The p option is the default when working as
the superuser. If you’re having trouble with permissions and ownership when
unpacking an archive as the superuser, make sure that you are waiting until
the command terminates and you get the shell prompt back. Although you
may only want to extract a small part of an archive, tar must run through
the whole thing, and you must not interrupt the process because it sets the
permissions only after checking the entire archive.
Commit all of the tar options and modes in this section to memory. If
you’re having trouble, make some flash cards. This may sound like gradeschool,
but it’s very important to avoid careless mistakes with this command.
2.18.3 Compressed Archives (.tar.gz)
Many beginners find it confusing that archives are normally found compressed,
with filenames ending in .tar.gz. To unpack a compressed archive,
work from the right side to the left; get rid of the .gz first and then worry
about the .tar. For example, these two commands decompress and unpack
<file>.tar.gz:
$ gunzip file.tar.gz
$ tar xvf file.tar
When starting out, you can do this one step at a time, first running gunzip
to decompress and then tar to verify and unpack. To create a compressed
archive, do the reverse; run tar first and gzip second. Do this frequently
enough, and you’ll soon memorize how the archiving and compression
process works. You’ll also get tired of all of the typing and start to look for
shortcuts. Let’s take a look at those now.
Basic Commands and Directory Hierarchy 39
2.18.4 zcat
The method shown above isn’t the fastest or most efficient way to invoke tar
on a compressed archive, and it wastes disk space and kernel I/O time. A
better way is to combine archival and compression functions with a pipeline.
For example, this command pipeline unpacks <file>.tar.gz:
$ zcat file.tar.gz | tar xvf -
The zcat command is the same as gunzip -dc. The -d option decompresses
and the -c option sends the result to standard output (in this case,
to the tar command).
Because it’s so common to use zcat, the version of tar that comes with
Linux has a shortcut. You can use z as an option to automatically invoke
gzip on the archive; this works both for extracting an archive (with the x or
t modes in tar) and creating one (with c). For example, use the following to
verify a compressed archive:
$ tar ztvf file.tar.gz
However, you should try to master the longer form before taking the
shortcut.
NOT E A .tgz file is the same as a .tar.gz file. The suffix is meant to fit into FAT (MS-DOSbased)
filesystems.
2.18.5 Other Compression Utilities
Another compression program in Unix is bzip2, whose compressed files end
with .bz2. While marginally slower than gzip, bzip2 often compacts text files
a little more, and it is therefore increasingly popular in the distribution of
source code. The decompressing program to use is bunzip2, and the options
of both components are close enough to those of gzip that you don’t need
to learn anything new. The bzip2 compression/decompression option for
tar is j.
A new compression program named xz is also gaining popularity. The
corresponding decompression program is unxz, and the arguments are similar
to those of gzip.
Most Linux distributions come with zip and unzip programs that are compatible
with the zip archives on Windows systems. They work on the usual .zip
files as well as self-extracting archives ending in .exe. But if you encounter a
file that ends in .Z, you have found a relic created by the compress program,
which was once the Unix standard. The gunzip program can unpack these
files, but gzip won’t create them.
40 Chapter 2
2.19 Linux Directory Hierarchy Essentials
Now that you know how to examine files, change directories, and read manual
pages, you’re ready to start exploring your system files. The details of the
Linux directory structure are outlined in the Filesystem Hierarchy Standard,
or FHS (http://www.pathname.com/fhs/), but a brief walkthrough should suffice
for now.
Figure 2-2 offers a simplified overview of the hierarchy, showing some
of the directories under /, /usr, and /var. Notice that the directory structure
under /usr contains some of the same directory names as /.
/
bin/ dev/ etc/ usr/ home/ lib/ sbin/ tmp/ var/
bin/ man/ lib/ local/ sbin/ share/ log/ tmp/
Figure 2-2: Linux directory hierarchy
Here are the most important subdirectories in root:
/bin Contains ready-to-run programs (also known as an executables),
including most of the basic Unix commands such as ls and cp. Most of
the programs in /bin are in binary format, having been created by a C
compiler, but some are shell scripts in modern systems.
/dev Contains device files. You’ll learn more about these in Chapter 3.
/etc This core system configuration directory (pronounced EHT-see)
contains the user password, boot, device, networking, and other setup
files. Many items in /etc are specific to the machine’s hardware. For
example, the /etc/X11 directory contains graphics card and window system
configurations.
/home Holds personal directories for regular users. Most Unix installations
conform to this standard.
/lib An abbreviation for library, this directory holds library files containing
code that executables can use. There are two types of libraries:
static and shared. The /lib directory should contain only shared libraries,
but other lib directories, such as /usr/lib, contain both varieties as
well as other auxiliary files. (We’ll discuss shared libraries in more
detail in Chapter 15.)
/proc Provides system statistics through a browsable directory-and-file
interface. Much of the /proc subdirectory structure on Linux is unique,
but many other Unix variants have similar features. The /proc directory
contains information about currently running processes as well as some
kernel parameters.
Basic Commands and Directory Hierarchy 41
/sys This directory is similar to /proc in that it provides a device and
system interface. You’ll read more about /sys in Chapter 3.
/sbin The place for system executables. Programs in /sbin directories
relate to system management, so regular users usually do not have /sbin
components in their command paths. Many of the utilities found here
will not work if you’re not running them as root.
/tmp A storage area for smaller, temporary files that you don’t care
much about. Any user may read to and write from /tmp, but the user
may not have permission to access another user’s files there. Many
programs use this directory as a workspace. If something is extremely
important, don’t put it in /tmp because most distributions clear /tmp
when the machine boots and some even remove its old files periodically.
Also, don’t let /tmp fill up with garbage because its space is usually
shared with something critical (like the rest of /, for example).
/usr Although pronounced “user,” this subdirectory has no user files.
Instead, it contains a large directory hierarchy, including the bulk of
the Linux system. Many of the directory names in /usr are the same as
those in the root directory (like /usr/bin and /usr/lib), and they hold the
same type of files. (The reason that the root directory does not contain
the complete system is primarily historic—in the past, it was to keep
space requirements low for the root.)
/var The variable subdirectory, where programs record runtime information.
System logging, user tracking, caches, and other files that system
programs create and manage are here. (You’ll notice a /var/tmp directory
here, but the system doesn’t wipe it on boot.)
2.19.1 Other Root Subdirectories
There are a few other interesting subdirectories in the root directory:
/boot Contains kernel boot loader files. These files pertain only to
the very first stage of the Linux startup procedure; you won’t find
information about how Linux starts up its services in this directory.
See Chapter 5 for more about this.
/media A base attachment point for removable media such as flash
drives that is found in many distributions.
/opt This may contain additional third-party software. Many systems
don’t use /opt.
2.19.2 The /usr Directory
The /usr directory may look relatively clean at first glance, but a quick look
at /usr/bin and /usr/lib reveals that there’s a lot here; /usr is where most of
the user-space programs and data reside. In addition to /usr/bin, /usr/sbin,
and /usr/lib, /usr contains the following:
/include Holds header files used by the C compiler.
/info Contains GNU info manuals (see Section 2.13).
42 Chapter 2
/local Is where administrators can install their own software. Its structure
should look like that of / and /usr.
/man Contains manual pages.
/share Contains files that should work on other kinds of Unix machines
with no loss of functionality. In the past, networks of machines would
share this directory, but a true /share directory is becoming rare because
there are no space issues on modern disks. Maintaining a /share directory
is often just a pain. In any case, /man, /info, and some other subdirectories
are often found here.
2.19.3 Kernel Location
On Linux systems, the kernel is normally in /vmlinuz or /boot/vmlinuz. A
boot loader loads this file into memory and sets it in motion when the system
boots. (You’ll find details on the boot loader in Chapter 5.)
Once the boot loader runs and sets the kernel in motion, the main kernel
file is no longer used by the running system. However, you’ll find many
modules that the kernel can load and unload on demand during the course
of normal system operation. Called loadable kernel modules, they are located
under /lib/modules.
2.20 Running Commands as the Superuser
Before going any further, you should learn how to run commands as the
superuser. You probably already know that you can run the su command
and enter the root password to start a root shell. This practice works, but it
has certain disadvantages:
• You have no record of system-altering commands.
• You have no record of the users who performed system-altering
commands.
• You don’t have access to your normal shell environment.
• You have to enter the root password.
2.20.1 sudo
Most larger distributions use a package called sudo to allow administrators
to run commands as root when they are logged in as themselves. For
example, in Chapter 7, you’ll learn about using vipw to edit the /etc/passwd
file. You could do it like this:
$ sudo vipw
When you run this command, sudo logs this action with the syslog service
under the local2 facility. You’ll also learn more about system logs in
Chapter 7.
Basic Commands and Directory Hierarchy 43
2.20.2 /etc/sudoers
Of course, the system doesn’t let just any user run commands as the superuser;
you must configure the privileged users in your /etc/sudoers file. The
sudo package has many options (that you’ll probably never use), which makes
the syntax in /etc/sudoers somewhat complicated. For example, this file gives
user1 and user2 the power to run any command as root without having to
enter a password:
User_Alias ADMINS = user1, user2
ADMINS ALL = NOPASSWD: ALL
root ALL=(ALL) ALL
The first line defines an ADMINS user alias with the two users, and the
second line grants the privileges. The ALL = NOPASSWD: ALL part means that
the users in the ADMINS alias can use sudo to execute commands as root. The
second ALL means “any command.” The first ALL means “any host.” (If you
have more than one machine, you can set different kinds of access for each
machine or group of machines, but we won’t cover that feature.)
The root ALL=(ALL) ALL simply means that the superuser may also use
sudo to run any command on any host. The extra (ALL) means that the superuser
may also run commands as any other user. You can extend this privilege
to the ADMINS users by adding (ALL) to the /etc/sudoers line, as shown at u:
ADMINS ALL = (ALL)u NOPASSWD: ALL
NOT E Use the visudo command to edit /etc/sudoers. This command checks for file syntax
errors after you save the file.
That’s it for sudo for now. If you need to use its more advanced features,
see the sudoers(5) and sudo(8) manual pages. (The actual mechanics of
user switching are covered in Chapter 7.)
2.21 Looking Forward
You should now know how to do the following at the command line: run
programs, redirect output, interact with files and directories, view process
listings, view manual pages, and generally make your way around the user
space of a Linux system. You should also be able to run commands as the
superuser. You may not yet know much about the internal details of userspace
components or what goes on in the kernel, but with the basics of files
and processes under your belt, you’re on your way. In the next few chapters,
you’ll be working with both kernel and user-space system components using
the command-line tools that you just learned.

3
Devices
This chapter is a basic tour of the kernelprovided
device infrastructure in a functioning
Linux system. Throughout the history of
Linux, there have been many changes to how
the kernel presents devices to the user. We’ll begin by
looking at the traditional system of device files to see
how the kernel provides device configuration information through sysfs.
Our goal is to be able to extract information about the devices on a system
in order to understand a few rudimentary operations. Later chapters will
cover interacting with specific kinds of devices in greater detail.
It’s important to understand how the kernel interacts with user space
when presented with new devices. The udev system enables user-space programs
to automatically configure and use new devices. You’ll see the basic
workings of how the kernel sends a message to a user-space process through
udev, as well as what the process does with it.
46 Chapter 3
3.1 Device Files
It is easy to manipulate most devices on a Unix system because the kernel
presents many of the device I/O interfaces to user processes as files. These
device files are sometimes called device nodes. Not only can a programmer use
regular file operations to work with a device, but some devices are also accessible
to standard programs like cat, so you don’t have to be a programmer to
use a device. However, there is a limit to what you can do with a file interface,
so not all devices or device capabilities are accessible with standard file I/O.
Linux uses the same design for device files as do other Unix flavors.
Device files are in the /dev directory, and running ls /dev reveals more
than a few files in /dev. So how do you work with devices?
To get started, consider this command:
$ echo blah blah > /dev/null
As does any command with redirected output, this sends some stuff from
the standard output to a file. However, the file is /dev/null, a device, and the
kernel decides what to do with any data written to this device. In the case
of /dev/null, the kernel simply ignores the input and throws away the data.
To identify a device and view its permissions, use ls -l:
$ ls -l
brw-rw---- 1 root disk 8, 1 Sep 6 08:37 sda1
crw-rw-rw- 1 root root 1, 3 Sep 6 08:37 null
prw-r--r-- 1 root root 0 Mar 3 19:17 fdata
srw-rw-rw- 1 root root 0 Dec 18 07:43 log
Listing 3-1: Device files
Note the first character of each line (the first character of the file’s
mode) in Listing 3-1. If this character is b, c, p, or s, the file is a device.
These letters stand for block, character, pipe, and socket, respectively, as
described in more detail below.
Block device
Programs access data from a block device in fixed chunks. The sda1 in
the preceding example is a disk device, a type of block device. Disks can
be easily split up into blocks of data. Because a block device’s total size
is fixed and easy to index, processes have random access to any block in
the device with the help of the kernel.
Character device
Character devices work with data streams. You can only read characters
from or write characters to character devices, as previously demonstrated
with /dev/null. Character devices don’t have a size; when you read from or
write to one, the kernel usually performs a read or write operation on
Devices 47
the device. Printers directly attached to your computer are represented
by character devices. It’s important to note that during character device
interaction, the kernel cannot back up and reexamine the data stream
after it has passed data to a device or process.
Pipe device
Named pipes are like character devices, with another process at the other
end of the I/O stream instead of a kernel driver.
Socket device
Sockets are special-purpose interfaces that are frequently used for
interprocess communication. They’re often found outside of the /dev
directory. Socket files represent Unix domain sockets; you’ll learn more
about those in Chapter 10.
The numbers before the dates in the first two lines of Listing 3-1 are
the major and minor device numbers that help the kernel identify the device.
Similar devices usually have the same major number, such as sda3 and sdb1
(both of which are hard disk partitions).
NOT E Not all devices have device files because the block and character device I/O interfaces
are not appropriate in all cases. For example, network interfaces don’t have device
files. It is theoretically possible to interact with a network interface using a single
character device, but because it would be exceptionally difficult, the kernel uses other
I/O interfaces.
3.2 The sysfs Device Path
The traditional Unix /dev directory is a convenient way for user processes
to reference and interface with devices supported by the kernel, but it’s also
a very simplistic scheme. The name of the device in /dev tells you a little
about the device, but not a lot. Another problem is that the kernel assigns
devices in the order in which they are found, so a device may have a different
name between reboots.
To provide a uniform view for attached devices based on their actual
hardware attributes, the Linux kernel offers the sysfs interface through a
system of files and directories. The base path for devices is /sys/devices. For
example, the SATA hard disk at /dev/sda might have the following path in sysfs:
/sys/devices/pci0000:00/0000:00:1f.2/host0/target0:0:0/0:0:0:0/block/sda
As you can see, this path is quite long compared with the /dev/sda filename,
which is also a directory. But you can’t really compare the two paths
because they have different purposes. The /dev file is there so that user
processes can use the device, whereas the /sys/devices path is used to view
48 Chapter 3
information and manage the device. If you list the contents of a device path
such as the preceding one, you’ll see something like the following:
alignment_offset discard_alignment holders removable size uevent
bdi events inflight ro slaves
capability events_async power sda1 stat
dev events_poll_msecs queue sda2 subsystem
device ext_range range sda5 trace
The files and subdirectories here are meant to be read primarily by
programs rather than humans, but you can get an idea of what they contain
and represent by looking at an example such as the /dev file. Running
cat dev in this directory displays the numbers 8:0, which happen to be the
major and minor device numbers of /dev/sda.
There are a few shortcuts in the /sys directory. For example, /sys/block
should contain all of the block devices available on a system. However, those
are just symbolic links; run ls -l /sys/block to reveal the true sysfs paths.
It can be difficult to find the sysfs location of a device in /dev. Use the
udevadm command to show the path and other attributes:
$ udevadm info --query=all --name=/dev/sda
NOT E The udevadm program is in /sbin; you can put this directory at the end of your path if
it’s not already there.
You’ll find more details about udevadm and the entire udev system in
Section 3.5.
3.3 dd and Devices
The program dd is extremely useful when working with block and character
devices. This program’s sole function is to read from an input file or stream
and write to an output file or stream, possibly doing some encoding conversion
on the way.
dd copies data in blocks of a fixed size. Here’s how to use dd with a character
device and some common options:
$ dd if=/dev/zero of=new_file bs=1024 count=1
As you can see, the dd option format differs from the option formats of
most other Unix commands; it’s based on an old IBM Job Control Language
(JCL) style. Rather than use the dash (-) character to signal an option, you
name an option and set its value to something with the equals (=) sign. The
preceding example copies a single 1024-byte block from /dev/zero (a continuous
stream of zero bytes) to new_file.
Devices 49
These are the important dd options:
if=file The input file. The default is the standard input.
of=file The output file. The default is the standard output.
bs=size The block size. dd reads and writes this many bytes of data at a
time. To abbreviate large chunks of data, you can use b and k to signify
512 and 1024 bytes, respectively. Therefore, the example above could
read bs=1k instead of bs=1024.
ibs=size, obs=size The input and output block sizes. If you can use the
same block size for both input and output, use the bs option; if not, use
ibs and obs for input and output, respectively.
count=num The total number of blocks to copy. When working with a
huge file—or with a device that supplies an endless stream of data, such
as /dev/zero—you want dd to stop at a fixed point or you could waste a lot
of disk space, CPU time, or both. Use count with the skip parameter to
copy a small piece from a large file or device.
skip=num Skip past the first num blocks in the input file or stream and do
not copy them to the output.
WARNING dd is very powerful, so make sure you know what you’re doing when you run it. It’s
very easy to corrupt files and data on devices by making a careless mistake. It often
helps to write the output to a new file if you’re not sure what it will do.
3.4 Device Name Summary
It can sometimes be difficult to find the name of a device (for example,
when partitioning a disk). Here are a few ways to find out what it is:
• Query udevd using udevadm (see Section 3.5).
• Look for the device in the /sys directory.
• Guess the name from the output of the dmesg command (which prints the
last few kernel messages) or the kernel system log file (see Section 7.2).
This output might contain a description of the devices on your system.
• For a disk device that is already visible to the system, you can check the
output of the mount command.
• Run cat /proc/devices to see the block and character devices for which
your system currently has drivers. Each line consists of a number and
name. The number is the major number of the device as described in
Section 3.1. If you can guess the device from the name, look in /dev for
the character or block devices with the corresponding major number,
and you’ve found the device files.
50 Chapter 3
Among these methods, only the first is reliable, but it does require
udev. If you get into a situation where udev is not available, try the other
methods but keep in mind that the kernel might not have a device file for
your hardware.
The following sections list the most common Linux devices and their
naming conventions.
3.4.1 Hard Disks: /dev/sd*
Most hard disks attached to current Linux systems correspond to device
names with an sd prefix, such as /dev/sda, /dev/sdb, and so on. These devices
represent entire disks; the kernel makes separate device files, such as /dev/sda1
and /dev/sda2, for the partitions on a disk.
The naming convention requires a little explanation. The sd portion of
the name stands for SCSI disk. Small Computer System Interface (SCSI) was originally
developed as a hardware and protocol standard for communication
between devices such as disks and other peripherals. Although traditional
SCSI hardware isn’t used in most modern machines, the SCSI protocol is
everywhere due to its adaptability. For example, USB storage devices use it
to communicate. The story on SATA disks is a little more complicated, but
the Linux kernel still uses SCSI commands at a certain point when talking
to them.
To list the SCSI devices on your system, use a utility that walks the device
paths provided by sysfs. One of the most succinct tools is lsscsi. Here is what
you can expect when you run it:
$ lsscsi
[0:0:0:0]u diskv ATA WDC WD3200AAJS-2 01.0 /dev/sdaw
[1:0:0:0] cd/dvd Slimtype DVD A DS8A5SH XA15 /dev/sr0
[2:0:0:0] disk FLASH Drive UT_USB20 0.00 /dev/sdb
The first column u identifies the address of the device on the system,
the second v describes what kind of device it is, and the last w indicates
where to find the device file. Everything else is vendor information.
Linux assigns devices to device files in the order in which its drivers
encounter devices. So in the previous example, the kernel found the disk
first, the optical drive second, and the flash drive last.
Unfortunately, this device assignment scheme has traditionally caused
problems when reconfiguring hardware. Say, for example, that you have a
system with three disks: /dev/sda, /dev/sdb, and /dev/sdc. If /dev/sdb explodes
and you must remove the disk so that the machine can work again, the former
/dev/sdc moves to /dev/sdb, and there is no longer a /dev/sdc. If you were
referring to the device names directly in the fstab file (see Section 4.2.8),
you’d have to make some changes to that file in order to get things (mostly)
back to normal. To solve this problem, most modern Linux systems use the
Universally Unique Identifier (UUID, see Section 4.2.4) for persistent disk
device access.
Devices 51
This discussion has barely scratched the surface of how to use disks and
other storage devices on Linux systems. See Chapter 4 for more information
about using disks. Later in this chapter, we’ll examine how SCSI support
works in the Linux kernel.
3.4.2 CD and DVD Drives: /dev/sr*
Linux recognizes most optical storage drives as the SCSI devices /dev/sr0,
/dev/sr1, and so on. However, if the drive uses an older interface, it might
show up as a PATA device, as discussed below. The /dev/sr* devices are
read only, and they are used only for reading from discs. For the write and
rewrite capabilities of optical devices, you’ll use the “generic” SCSI devices
such as /dev/sg0.
3.4.3 PATA Hard Disks: /dev/hd*
The Linux block devices /dev/hda, /dev/hdb, /dev/hdc, and /dev/hdd are common
on older versions of the Linux kernel and with older hardware. These
are fixed assignments based on the master and slave devices on interfaces
0 and 1. At times, you might find a SATA drive recognized as one of these
disks. This means that the SATA drive is running in a compatibility mode,
which hinders performance. Check your BIOS settings to see if you can
switch the SATA controller to its native mode.
3.4.4 Terminals: /dev/tty*, /dev/pts/*, and /dev/tty
Terminals are devices for moving characters between a user process and
an I/O device, usually for text output to a terminal screen. The terminal
device interface goes back a long way, to the days when terminals were
typewriter-based devices.
Pseudoterminal devices are emulated terminals that understand the I/O
features of real terminals. But rather than talk to a real piece of hardware,
the kernel presents the I/O interface to a piece of software, such as the
shell terminal window that you probably type most of your commands into.
Two common terminal devices are /dev/tty1 (the first virtual console)
and /dev/pts/0 (the first pseudoterminal device). The /dev/pts directory
itself is a dedicated filesystem.
The /dev/tty device is the controlling terminal of the current process. If
a program is currently reading from and writing to a terminal, this device
is a synonym for that terminal. A process does not need to be attached to a
terminal.
Display Modes and Virtual Consoles
Linux has two primary display modes: text mode and an X Window System
server (graphics mode, usually via a display manager). Although Linux systems
traditionally booted in text mode, most distributions now use kernel
parameters and interim graphical display mechanisms (bootsplashes such
52 Chapter 3
as plymouth) to completely hide text mode as the system is booting. In such
cases, the system switches over to full graphics mode near the end of the
boot process.
Linux supports virtual consoles to multiplex the display. Each virtual
console may run in graphics or text mode. When in text mode, you can
switch between consoles with an alt-Function key combination—for
example, alt-F1 takes you to /dev/tty1, alt-F2 goes to /dev/tty2, and so
on. Many of these may be occupied by a getty process running a login
prompt, as described in Section 7.4.
A virtual console used by the X server in graphics mode is slightly
different. Rather than getting a virtual console assignment from the init
configuration, an X server takes over a free virtual console unless directed
to use a specific virtual console. For example, if you have getty processes
running on tty1 and tty2, a new X server takes over tty3. In addition, after
the X server puts a virtual console into graphics mode, you must normally
press a ctrl-alt-Function key combination to switch to another virtual console
instead of the simpler alt-Function key combination.
The upshot of all of this is that if you want to see your text console after
your system boots, press ctrl-alt-F1. To return to the X11 session, press
alt-F2, alt-F3, and so on, until you get to the X session.
If you run into trouble switching consoles due to a malfunctioning
input mechanism or some other circumstance, you can try to force the system
to change consoles with the chvt command. For example, to switch to
tty1, run the following as root:
# chvt 1
3.4.5 Serial Ports: /dev/ttyS*
Older RS-232 type and similar serial ports are special terminal devices. You
can’t do much on the command line with serial port devices because there
are too many settings to worry about, such as baud rate and flow control.
The port known as COM1 on Windows is /dev/ttyS0; COM2 is /dev/ttyS1;
and so on. Plug-in USB serial adapters show up with USB and ACM with the
names /dev/ttyUSB0, /dev/ttyACM0, /dev/ttyUSB1, /dev/ttyACM1, and so on.
3.4.6 Parallel Ports: /dev/lp0 and /dev/lp1
Representing an interface type that has largely been replaced by USB,
the unidirectional parallel port devices /dev/lp0 and /dev/lp1 correspond
to LPT1: and LPT2: in Windows. You can send files (such as a file to be
printed) directly to a parallel port with the cat command, but you might
need to give the printer an extra form feed or reset afterward. A print
server such as CUPS is much better at handling interaction with a printer.
The bidirectional parallel ports are /dev/parport0 and /dev/parport1.
Devices 53
3.4.7 Audio Devices: /dev/snd/*, /dev/dsp, /dev/audio, and More
Linux has two sets of audio devices. There are separate devices for the
Advanced Linux Sound Architecture (ALSA) system interface and the older
Open Sound System (OSS). The ALSA devices are in the /dev/snd directory,
but it’s difficult to work with them directly. Linux systems that use ALSA
support OSS backward-compatible devices if the OSS kernel support is currently
loaded.
Some rudimentary operations are possible with the OSS dsp and audio
devices. For example, the computer plays any WAV file that you send to
/dev/dsp. However, the hardware may not do what you expect due to frequency
mismatches. Furthermore, on most systems, the device is often busy
as soon as you log in.
NOT E Linux sound is a messy subject due to the many layers involved. We’ve just talked
about the kernel-level devices, but typically there are user-space servers such as pulseaudio
that manage audio from different sources and act as intermediaries between the
sound devices and other user-space processes.
3.4.8 Creating Device Files
In modern Linux systems, you do not create your own device files; this is
done with devtmpfs and udev (see Section 3.5). However, it is instructive to
see how it was once done, and on a rare occasion, you might need to create
a named pipe.
The mknod command creates one device. You must know the device
name as well as its major and minor numbers. For example, creating
/dev/sda1 is a matter of using the following command:
# mknod /dev/sda1 b 8 2
The b 8 2 specifies a block device with a major number 8 and a minor
number 2. For character or named pipe devices, use c or p instead of b
(omit the major and minor numbers for named pipes).
As mentioned earlier, the mknod command is useful only for creating the
occasional named pipe. At one time, it was also sometimes useful for creating
missing devices in single-user mode during system recovery.
In older versions of Unix and Linux, maintaining the /dev directory was
a challenge. With every significant kernel upgrade or driver addition, the
kernel could support more kinds of devices, meaning that there would be
a new set of major and minor numbers to be assigned to device filenames.
Maintaining this was difficult, so each system had a MAKEDEV program in
/dev to create groups of devices. When you upgraded your system, you
would try to find an update to MAKEDEV and then run it in order to create
new devices.
54 Chapter 3
This static system became ungainly, so a replacement was in order. The
first attempt to fix it was devfs, a kernel-space implementation of /dev that
contained all of the devices that the current kernel supported. However,
there were a number of limitations, which led to the development of udev
and devtmpfs.
3.5 udev
We’ve already talked about how unnecessary complexity in the kernel is
dangerous because you can too easily introduce system instability. Device
file management is an example: You can create device files in user space, so
why would you do this in the kernel? The Linux kernel can send notifications
to a user-space process (called udevd) upon detecting a new device on
the system (for example, when someone attaches a USB flash drive). The
user-space process on the other end examines the new device’s characteristics,
creates a device file, and then performs any device initialization.
That was the theory. Unfortunately, in practice, there is a problem with
this approach—device files are necessary early in the boot procedure, so
udevd must start early. To create device files, udevd could not depend on any
devices that it was supposed to create, and it would need to perform its initial
startup very quickly so that the rest of the system wouldn’t get held up
waiting for udevd to start.
3.5.1 devtmpfs
The devtmpfs filesystem was developed in response to the problem of device
availability during boot (see Section 4.2 for more details on filesystems).
This
filesystem is similar to the older devfs support, but it’s simplified. The kernel
creates device files as necessary, but it also notifies udevd that a new device is
available. Upon receiving this signal, udevd does not create the device files, but
it does perform device initialization and process notification. Additionally, it
creates a number of symbolic links in /dev to further identify devices. You can
find examples in the directory /dev/disk/by-id, where each attached disk has
one or more entries.
For example, consider this typical disk:
lrwxrwxrwx 1 root root 9 Jul 26 10:23 scsi-SATA_WDC_WD3200AAJS-_WD-WMAV2FU80671 -> ../../sda
lrwxrwxrwx 1 root root 10 Jul 26 10:23 scsi-SATA_WDC_WD3200AAJS-_WD-WMAV2FU80671-part1 ->
../../sda1
lrwxrwxrwx 1 root root 10 Jul 26 10:23 scsi-SATA_WDC_WD3200AAJS-_WD-WMAV2FU80671-part2 ->
../../sda2
lrwxrwxrwx 1 root root 10 Jul 26 10:23 scsi-SATA_WDC_WD3200AAJS-_WD-WMAV2FU80671-part5 ->
../../sda5
udevd names the links by interface type, and then by manufacturer and
model information, serial number, and partition (if applicable).
But how does udevd know which symbolic links to create, and how does
it create them? The next section describes how udevd does its work. However,
Devices 55
you don’t need to know that to continue on with the book. In fact, if this is
your first time looking at Linux devices, you’re encouraged to move to the
next chapter to start learning about how to use disks.
3.5.2 udevd Operation and Configuration
The udevd daemon operates as follows:
1. The kernel sends udevd a notification event, called a uevent, through an
internal network link.
2. udevd loads all of the attributes in the uevent.
3. udevd parses its rules, and it takes actions or sets more attributes based
on those rules.
An incoming uevent that udevd receives from the kernel might look
like this:
ACTION=change
DEVNAME=sde
DEVPATH=/devices/pci0000:00/0000:00:1a.0/usb1/1-1/1-1.2/1-1.2:1.0/host4/
target4:0:0/4:0:0:3/block/sde
DEVTYPE=disk
DISK_MEDIA_CHANGE=1
MAJOR=8
MINOR=64
SEQNUM=2752
SUBSYSTEM=block
UDEV_LOG=3
You can see here that there is a change to a device. After receiving the
uevent, udevd knows the sysfs device path and a number of other attributes associated
with the properties, and it is now ready to start processing rules.
The rules files are in the /lib/udev/rules.d and /etc/udev/rules.d directories.
The rules in /lib are the defaults, and the rules in /etc are overrides.
A full explanation of the rules would be tedious, and you can learn much
more from the udev(7) manual page, but let’s look at the symbolic links
from the /dev/sda example in Section 3.5.1. Those links were defined by
rules in /lib/udev/rules.d/60-persistent-storage.rules. Inside, you’ll see the following
lines:
# ATA devices using the "scsi" subsystem
KERNEL=="sd*[!0-9]|sr*", ENV{ID_SERIAL}!="?*", SUBSYSTEMS=="scsi", ATTRS{vendor}=="ATA",
IMPORT{program}="ata_id --export $tempnode"
# ATA/ATAPI devices (SPC-3 or later) using the "scsi" subsystem
KERNEL=="sd*[!0-9]|sr*", ENV{ID_SERIAL}!="?*", SUBSYSTEMS=="scsi", ATTRS{type}=="5",
ATTRS{scsi_level}=="[6-9]*", IMPORT{program}="ata_id --export $tempnode"
These rules match ATA disks presented through the kernel’s SCSI subsystem
(see Section 3.6). You can see that there are a few rules to catch
56 Chapter 3
different ways that the devices may be represented, but the idea is that
udevd will try to match a device starting with sd or sr but without a number
(with the KERNEL=="sd*[!0-9]|sr*" expression), as well as a subsystem
(SUBSYSTEMS=="scsi"), and finally, some other attributes. If all of those conditional
expressions are true, udevd moves to the next expression:
IMPORT{program}="ata_id --export $tempnode"
This is not a conditional, but rather, a directive to import variables
from the /lib/udev/ata_id command. If you have such a disk, try it yourself
on the command line:
$ sudo /lib/udev/ata_id --export /dev/sda
ID_ATA=1
ID_TYPE=disk
ID_BUS=ata
ID_MODEL=WDC_WD3200AAJS-22L7A0
ID_MODEL_ENC=WDC\x20WD3200AAJS22L7A0\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20
\x20\x20\x20\x20\x20\x20\x20\x20\x20
ID_REVISION=01.03E10
ID_SERIAL=WDC_WD3200AAJS-22L7A0_WD-WMAV2FU80671
--snip--
The import now sets the environment so that all of the variable names
in this output are set to the values shown. For example, any rule that follows
will now recognize ENV{ID_TYPE} as disk.
Of particular note is ID_SERIAL. In each of the rules, this conditional
appears second:
ENV{ID_SERIAL}!="?*"
This means that ID_SERIAL is true only if is not set. Therefore, if it is
set, the conditional is false, the entire current rule is false, and udevd moves
to the next rule.
So what’s the point? The object of these two rules (and many around
them in the file) is to find the serial number of the disk device. With
ENV{ID_SERIAL} set, udevd can now evaluate this rule:
KERNEL=="sd*|sr*|cciss*", ENV{DEVTYPE}=="disk", ENV{ID_SERIAL}=="?*",
SYMLINK+="disk/by-id/$env{ID_BUS}-$env{ID_SERIAL}"
You can see that this rule requires ENV{ID_SERIAL} to be set, and it has
one directive:
SYMLINK+="disk/by-id/$env{ID_BUS}-$env{ID_SERIAL}"
Upon encountering this directive, udevd adds a symbolic link for the
incoming device. So now you know where the device symbolic links came from!
Devices 57
You may be wondering how to tell a conditional expression from a
directive. Conditionals are denoted by two equal signs (==) or a bang
equal (!=), and directives by a single equal sign (=), a plus equal (+=), or a
colon equal (:=).
3.5.3 udevadm
The udevadm program is an administration tool for udevd. You can reload
udevd rules and trigger events, but perhaps the most powerful features of
udevadm are the ability to search for and explore system devices and the ability
to monitor uevents as udevd receives them from the kernel. The only trick
is that the command syntax can get a bit involved.
Let’s start by examining a system device. Returning to the example in
Section 3.5.2, in order to look at all of the udev attributes used and generated
in conjunction with the rules for a device such as /dev/sda, run the following
command:
$ udevadm info --query=all –-name=/dev/sda
The output looks like this:
P: /devices/pci0000:00/0000:00:1f.2/host0/target0:0:0/0:0:0:0/block/sda
N: sda
S: disk/by-id/ata-WDC_WD3200AAJS-22L7A0_WD-WMAV2FU80671
S: disk/by-id/scsi-SATA_WDC_WD3200AAJS-_WD-WMAV2FU80671
S: disk/by-id/wwn-0x50014ee057faef84
S: disk/by-path/pci-0000:00:1f.2-scsi-0:0:0:0
E: DEVLINKS=/dev/disk/by-id/ata-WDC_WD3200AAJS-22L7A0_WD-WMAV2FU80671 /dev/disk/by-id/scsi
-SATA_WDC_WD3200AAJS-_WD-WMAV2FU80671 /dev/disk/by-id/wwn-0x50014ee057faef84 /dev/disk/by
-path/pci-0000:00:1f.2-scsi-0:0:0:0
E: DEVNAME=/dev/sda
E: DEVPATH=/devices/pci0000:00/0000:00:1f.2/host0/target0:0:0/0:0:0:0/block/sda
E: DEVTYPE=disk
E: ID_ATA=1
E: ID_ATA_DOWNLOAD_MICROCODE=1
E: ID_ATA_FEATURE_SET_AAM=1
--snip--
The prefix in each line indicates an attribute or other characteristic of
the device. In this case, the P: at the top is the sysfs device path, the N: is the
device node (that is, the name given to the /dev file), S: indicates a symbolic
link to the device node that udevd placed in /dev according to its rules, and
E: is additional device information extracted in the udevd rules. (There was
far more output in this example than was necessary to show here; try the
command for yourself to get a feel for what it does.)
3.5.4 Monitoring Devices
To monitor uevents with udevadm, use the monitor command:
$ udevadm monitor
58 Chapter 3
Output (for example, when you insert a flash media device) looks like
this abbreviated sample:
KERNEL[658299.569485] add /devices/pci0000:00/0000:00:1d.0/usb2/2-1/2-1.2 (usb)
KERNEL[658299.569667] add /devices/pci0000:00/0000:00:1d.0/usb2/2-1/2-1.2/2-1.2:1.0 (usb)
KERNEL[658299.570614] add /devices/pci0000:00/0000:00:1d.0/usb2/2-1/2-1.2/2-1.2:1.0/host15
(scsi)
KERNEL[658299.570645] add /devices/pci0000:00/0000:00:1d.0/usb2/2-1/2-1.2/2-1.2:1.0/
host15/scsi_host/host15 (scsi_host)
UDEV [658299.622579] add /devices/pci0000:00/0000:00:1d.0/usb2/2-1/2-1.2 (usb)
UDEV [658299.623014] add /devices/pci0000:00/0000:00:1d.0/usb2/2-1/2-1.2/2-1.2:1.0 (usb)
UDEV [658299.623673] add /devices/pci0000:00/0000:00:1d.0/usb2/2-1/2-1.2/2-1.2:1.0/host15
(scsi)
UDEV [658299.623690] add /devices/pci0000:00/0000:00:1d.0/usb2/2-1/2-1.2/2-1.2:1.0/
host15/scsi_host/host15 (scsi_host)
--snip--
There are two copies of each message in this output because the default
behavior is to print both the incoming message from the kernel (marked
with KERNEL) and the message that udevd sends out to other programs
when it’s finished processing and filtering the event. To see only kernel
events, add the --kernel option, and to see only outgoing events, use --udev.
To see the whole incoming uevent, including the attributes as shown in
Section 3.5.2, use the --property option.
You can also filter events by subsystem. For example, to see only kernel
messages pertaining to changes in the SCSI subsystem, use this command:
$ udevadm monitor --kernel --subsystem-match=scsi
For more on udevadm, see the udevadm(8) manual page.
There’s much more to udev. For example, the D-Bus system for interprocess
communication has a daemon called udisks-daemon that listens to the
outgoing udevd events in order to automatically attach disks and to further
notify other desktop software that a new disk is now available.
3.6 In-Depth: SCSI and the Linux Kernel
In this section, we’ll take a look at the SCSI support in the Linux kernel as a
way to explore part of the Linux kernel architecture. You don’t need to know
any of this information in order to use disks, so if you’re in a hurry to use
one, move on to Chapter 4. In addition, the material here is more advanced
and theoretical in nature that what you’ve seen so far, so if you want to stay
hands-on, you should definitely skip to the next chapter.
Let’s begin with a little background. The traditional SCSI hardware
setup is a host adapter linked with a chain of devices over an SCSI bus, as
shown in Figure 3-1. The host adapter is attached to a computer. The host
adapter and devices each have an SCSI ID, and there can be 8 or 16 IDs per
bus, depending on the SCSI version. You might hear the term SCSI target
used to refer to a device and its SCSI ID.
Devices 59
SCSI Bus
Computer
SCSI Host Adapter
ID 7
Disk
ID 1
Disk
ID 0
CD/DVD
ID 4
Figure 3-1: SCSI Bus with host adapter and devices
The host adapter communicates with the devices through the SCSI
command set in a peer-to-peer relationship; the devices send responses
back to the host adapter. The computer is not directly attached to the
device chain, so it must go through the host adapter in order to communicate
with disks and other devices. Typically, the computer sends SCSI
commands to the host adapter to relay to the devices, and the devices relay
responses back through the host adapter.
Newer versions of SCSI, such as Serial Attached SCSI (SAS), offer exceptional
performance, but you probably won’t find true SCSI devices in most
machines. You’ll more often encounter USB storage devices that use SCSI
commands. In addition, devices supporting ATAPI (such as CD/DVD-ROM
drives) use a version of the SCSI command set.
SATA disks also appear on your system as SCSI devices by means of
a translation layer in libata (see Section 3.6.2). Some SATA controllers
(especially high-performance RAID controllers) perform this translation
in hardware.
How does this all fit together? Consider the devices shown on the following
system:
$ lsscsi
[0:0:0:0] disk ATA WDC WD3200AAJS-2 01.0 /dev/sda
[1:0:0:0] cd/dvd Slimtype DVD A DS8A5SH XA15 /dev/sr0
[2:0:0:0] disk USB2.0 CardReader CF 0100 /dev/sdb
[2:0:0:1] disk USB2.0 CardReader SM XD 0100 /dev/sdc
[2:0:0:2] disk USB2.0 CardReader MS 0100 /dev/sdd
[2:0:0:3] disk USB2.0 CardReader SD 0100 /dev/sde
[3:0:0:0] disk FLASH Drive UT_USB20 0.00 /dev/sdf
The numbers in brackets are, from left to right, the SCSI host adapter
number, the SCSI bus number, the device SCSI ID, and the LUN (logical
unit number, a further subdivision of a device). In this example, there are
four attached adapters (scsi0, scsi1, scsi2, and scsi3), each of which has a
single bus (all with bus number 0), and just one device on each bus (all with
target 0). The USB card reader at 2:0:0 has four logical units, though—one
for each kind of flash card that can be inserted. The kernel has assigned a
different device file to each logical unit.
60 Chapter 3
Figure 3-2 illustrates the driver and interface hierarchy inside the
kernel for this particular system configuration, from the individual device
drivers up to the block drivers. It does not include the SCSI generic (sg)
drivers.
Linux Kernel
Block Device Interface (/dev/sda, /dev/sr0, etc.)
SATA Disk CD/DVD USB Flash
Drive
USB Card Reader
(CF, xD, MS, SD)
SCSI Subsystem
Disk Driver (sd) CD/DVD Driver (sr)
SCSI Protocol and Host Management
ATA Bridge USB Storage Bridge
libata translator
SATA Host Driver
USB Subsystem
USB Host Driver
USB Core
USB Storage Driver
Hardware
Figure 3-2: Linux SCSI subsystem schematic
Devices 61
Although this is a large structure and may look overwhelming at first,
the data flow in the figure is very linear. Let’s begin dissecting it by looking
at the SCSI subsystem and its three layers of drivers:
• The top layer handles operations for a class of device. For example, the
sd (SCSI disk) driver is at this layer; it knows how to translate requests
from the kernel block device interface into disk-specific commands in
the SCSI protocol, and vice versa.
• The middle layer moderates and routes the SCSI messages between
the top and bottom layers, and keeps track of all of the SCSI buses and
devices attached to the system.
• The bottom layer handles hardware-specific actions. The drivers here
send outgoing SCSI protocol messages to specific host adapters or
hardware, and they extract incoming messages from the hardware.
The reason for this separation from the top layer is that although SCSI
messages are uniform for a device class (such as the disk class), different
kinds of host adapters have varying procedures for sending the
same messages.
The top and bottom layers contain many different drivers, but it’s
important to remember that, for any given device file on your system, the
kernel uses one top-layer driver and one lower-layer driver. For the disk
at /dev/sda in our example, the kernel uses the sd top-layer driver and the
ATA bridge lower-layer driver.
There are times when you might use more than one upper-layer driver
for one hardware device (see Section 3.6.3). For true hardware SCSI devices,
such as a disk attached to an SCSI host adapter or a hardware RAID controller,
the lower-layer drivers talk directly to the hardware below. However, for
most hardware that you find attached to the SCSI subsystem, it’s a different
story.
3.6.1 USB Storage and SCSI
In order for the SCSI subsystem to talk to common USB storage hardware,
as shown in Figure 3-2, the kernel needs more than just a lower-layer SCSI
driver. The USB flash drive represented by /dev/sdf understands SCSI commands,
but to actually communicate with the drive, the kernel needs to
know how to talk through the USB system.
In the abstract, USB is quite similar to SCSI—it has device classes,
buses, and host controllers. Therefore, it should be no surprise that the
Linux kernel includes a three-layer USB subsystem that closely resembles
the SCSI subsystem, with device-class drivers at the top, a bus management
core in the middle, and host controller drivers at the bottom. Much as the
62 Chapter 3
SCSI subsystem passes SCSI commands between its components, the USB
subsystem passes USB messages between its components. There’s even an
lsusb command that is similar to lsscsi.
The part we’re really interested in here is the USB storage driver at the
top. This driver acts as a translator. On one side, the driver speaks SCSI,
and on the other, it speaks USB. Because the storage hardware includes
SCSI commands inside its USB messages, the driver has a relatively easy job:
It mostly repackages data.
With both the SCSI and USB subsystems in place, you have almost
everything you need to talk to the flash drive. The final missing link is the
lower-layer driver in the SCSI subsystem because the USB storage driver is a
part of the USB subsystem, not the SCSI subsystem. (For organizational reasons,
the two subsystems should not share a driver.) To get the subsystems
to talk to one another, a simple, lower-layer SCSI bridge driver connects to
the USB subsystem’s storage driver.
3.6.2 SCSI and ATA
The SATA hard disk and optical drive shown in Figure 3-2 both use the
same SATA interface. To connect the SATA-specific drivers of the kernel
to the SCSI subsystem, the kernel employs a bridge driver, as with the USB
drives, but with a different mechanism and additional complications. The
optical drive speaks ATAPI, a version of SCSI commands encoded in the
ATA protocol. However, the hard disk does not use ATAPI and does not
encode any SCSI commands!
The Linux kernel uses part of a library called libata to reconcile SATA
(and ATA) drives with the SCSI subsystem. For the ATAPI-speaking optical
drives, this is a relatively simple task of packaging and extracting SCSI
commands into and from the ATA protocol. But for the hard disk, the task
is much more complicated because the library must do a full command
translation.
The job of the optical drive is similar to typing an English book into a
computer. You don’t need to understand what the book is about in order to
do this job, nor do you even need to understand English. But the task for
the hard disk is more like reading a German book and typing it into the
computer as an English translation. In this case, you need to understand
both languages as well as the book’s content.
Despite this difficulty, libata performs this task and makes it possible to
attach the SCSI subsystem to ATA/SATA interfaces and devices. (There are
typically more drivers involved than just the one SATA host driver shown in
Figure 3-2, but they’re not shown for the sake of simplicity.)
Devices 63
3.6.3 Generic SCSI Devices
When a user-space process communicates with the SCSI subsystem, it normally
does so through the block device layer and/or another other kernel
service that sits on top of an SCSI device class driver (like sd or sr). In other
words, most user processes never need to know anything about SCSI devices
or their commands.
However, user processes can bypass device class drivers and give SCSI
protocol commands directly to devices through their generic devices. For
example, consider the system described in Section 3.6, but this time, take a
look at what happens when you add the -g option to lsscsi in order to show
the generic devices:
$ lsscsi -g
[0:0:0:0] disk ATA WDC WD3200AAJS-2 01.0 /dev/sda u/dev/sg0
[1:0:0:0] cd/dvd Slimtype DVD A DS8A5SH XA15 /dev/sr0 /dev/sg1
[2:0:0:0] disk USB2.0 CardReader CF 0100 /dev/sdb /dev/sg2
[2:0:0:1] disk USB2.0 CardReader SM XD 0100 /dev/sdc /dev/sg3
[2:0:0:2] disk USB2.0 CardReader MS 0100 /dev/sdd /dev/sg4
[2:0:0:3] disk USB2.0 CardReader SD 0100 /dev/sde /dev/sg5
[3:0:0:0] disk FLASH Drive UT_USB20 0.00 /dev/sdf /dev/sg6
In addition to the usual block device file, each entry lists an SCSI generic
device file in the last column at u. For example, the generic device for the
optical drive at /dev/sr0 is /dev/sg1.
Why would you want to use an SCSI generic device? The answer has
to do with the complexity of code in the kernel. As tasks get more complicated,
it’s better to leave them out of the kernel. Consider CD/DVD writing
and reading. Not only is writing significantly more difficult than reading,
but no critical system services depend on the action of writing. A user-space
program might do the writing a little more inefficiently than a kernel service,
but that program will be far easier to build and maintain than a kernel
service, and bugs will not threaten kernel space. Therefore, to write to an
optical disc in Linux, you run a program that talks to a generic SCSI device,
such as /dev/sg1. Due to the relative simplicity of reading compared to writing,
however, you still read from the device using the specialized sr optical
device driver in the kernel.
3.6.4 Multiple Access Methods for a Single Device
The two points of access (sr and sg) for an optical drive from user space are
illustrated for the Linux SCSI subsystem in Figure 3-3 (any drivers below
the SCSI lower layer have been omitted). Process A reads from the drive
using the sr driver, and process B writes to the drive with the sg driver.
However, processes such as these two would not normally run simultaneously
to access the same device.
64 Chapter 3
Linux Kernel
SCSI Subsystem
Block Device Interface
CD/DVD Driver (sr) Generic Driver (sg)
SCSI Protocol and Host Management
Lower-Layer Driver
User Process A
(reads from drive)
User Process B
(writes discs)
Optical Drive Hardware
Figure 3-3: Optical device driver schematic
In Figure 3-3, process A reads from the block device. But do user processes
really read data this way? Normally, the answer is no, not directly.
There are more layers on top of the block devices and even more points
of access for hard disks, as you’ll learn in the next chapter.
4
Disks and File systems
In Chapter 3, we discussed some of the
top-level disk devices that the kernel makes
available. In this chapter, we’ll discuss in
detail how to work with disks on a Linux system.
You’ll learn how to partition disks, create and maintain
the filesystems that go inside disk partitions, and
work with swap space.
Recall that disk devices have names like /dev/sda, the first SCSI subsystem
disk. This kind of block device represents the entire disk, but there
are many different components and layers inside a disk.
Figure 4-1 illustrates the schematic of a typical Linux disk (note that
the figure is not to scale). As you progress through this chapter, you’ll learn
where each piece fits in.
66 Chapter 4
Partition Table
Partition
Filesystem Filesystem Data Structures
File Data
Partition
Figure 4-1: Typical Linux disk schematic
Partitions are subdivisions of the whole disk. On Linux, they’re denoted
with a number after the whole block device, and therefore have device names
such as /dev/sda1 and /dev/sdb3. The kernel presents each partition as a block
device, just as it would an entire disk. Partitions are defined on a small area of
the disk called a partition table.
NOT E Multiple data partitions were once common on systems with large disks because older
PCs could boot only from certain parts of the disk. Also, administrators used partitions
to reserve a certain amount of space for operating system areas; for example,
they didn’t want users to be able to fill up the entire system and prevent critical services
from working. This practice is not unique to Unix; you’ll still find many new
Windows systems with several partitions on a single disk. In addition, most systems
have a separate swap partition.
Although the kernel makes it possible for you to access both an entire
disk and one of its partitions at the same time, you would not normally do
so, unless you were copying the entire disk.
The next layer after the partition is the filesystem, the database of files
and directories that you’re accustomed to interacting with in user space.
We’ll explore filesystems in Section 4.2.
As you can see in Figure 4-1, if you want to access the data in a file, you
need to get the appropriate partition location from the partition table and
then search the filesystem database on that partition for the desired file data.
To access data on a disk, the Linux kernel uses the system of layers
shown in Figure 4-2. The SCSI subsystem and everything else described
Disks and Filesystems 67
in Section 3.6 are represented by a single box. (Notice that you can work
with the disk through the filesystem as well as directly through the disk
devices. You’ll do both in this chapter.)
To get a handle on how everything fits together, let’s start at the bottom
with partitions.
Linux Kernel
User Processes
Storage Device
System Calls Device Files (nodes)
Filesystem
Block Device Interface and Partition Mapping
SCSI Subsystem and Other Drivers
Raw (Direct) Device Access
Figure 4-2: Kernel schematic for disk access
4.1 Partitioning Disk Devices
There are many kinds of partition tables. The traditional table is the one
found inside the Master Boot Record (MBR). A newer standard starting to
gain traction is the Globally Unique Identifier Partition Table (GPT).
Here is an overview of the many Linux partitioning tools available:
parted A text-based tool that supports both MBR and GPT.
gparted A graphical version of parted.
68 Chapter 4
fdisk The traditional text-based Linux disk partitioning tool. fdisk
does not support GPT.
gdisk A version of fdisk that supports GPT but not MBR.
Because it supports both MBR and GPT, we’ll use parted in this book.
However, many people prefer the fdisk interface, and there’s nothing wrong
with that.
NOT E Although parted can create and resize filesystems, you shouldn’t use it for filesystem
manipulation because you can easily get confused. There is a critical difference between
partitioning and filesystem manipulation. The partition table defines simple boundaries
on the disk, whereas a filesystem is a much more involved data system. For this
reason, we’ll use parted for partitioning but use separate utilities for creating filesystems
(see Section 4.2.2). Even the parted documentation encourages you to create
filesystems separately.
4.1.1 Viewing a Partition Table
You can view your system’s partition table with parted -l. Here is sample output
from two disk devices with two different kinds of partition tables:
# parted -l
Model: ATA WDC WD3200AAJS-2 (scsi)
Disk /dev/sda: 320GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Number Start End Size Type File system Flags
1 1049kB 316GB 316GB primary ext4 boot
2 316GB 320GB 4235MB extended
5 316GB 320GB 4235MB logical linux-swap(v1)
Model: FLASH Drive UT_USB20 (scsi)
Disk /dev/sdf: 4041MB
Sector size (logical/physical): 512B/512B
Partition Table: gpt
Number Start End Size File system Name Flags
1 17.4kB 1000MB 1000MB myfirst
2 1000MB 4040MB 3040MB mysecond
The first device, /dev/sda, uses the traditional MBR partition table
(called “msdos” by parted), and the second contains a GPT table. Notice
that there are different parameters for each partition table, because the
tables themselves are different. In particular, there is no Name column for
the MBR table because names don’t exist under that scheme. (I arbitrarily
chose the names myfirst and mysecond in the GPT table.)
The MBR table in this example contains primary, extended, and logical
partitions. A primary partition is a normal subdivision of the disk; partition 1
is such a partition. The basic MBR has a limit of four primary partitions, so
Disks and Filesystems 69
if you want more than four, you designate one partition as an extended partition.
Next, you subdivide the extended partition into logical partitions that
the operating system can use as it would any other partition. In this example,
partition 2 is an extended partition that contains logical partition 5.
NOT E The filesystem that parted lists is not necessarily the system ID field defined in most
MBR entries. The MBR system ID is just a number; for example, 83 is a Linux partition
and 82 is Linux swap. Therefore, parted attempts to determine a filesystem on its
own. If you absolutely must know the system ID for an MBR, use fdisk -l.
Initial Kernel Read
When initially reading the MBR table, the Linux kernel produces the following
debugging output (remember that you can view this with dmesg):
sda: sda1 sda2 < sda5 >
The sda2 < sda5 > output indicates that /dev/sda2 is an extended partition
containing one logical partition, /dev/sda5. You’ll normally ignore
extended partitions because you’ll typically want to access only the logical
partitions inside.
4.1.2 Changing Partition Tables
Viewing partition tables is a relatively simple and harmless operation.
Altering partition tables is also relatively easy, but there are risks involved
in making this kind of change to the disk. Keep the following in mind:
• Changing the partition table makes it quite difficult to recover any data
on partitions that you delete because it changes the initial point of
reference for a filesystem. Make sure that you have a backup if the disk
you’re partitioning contains critical data.
• Ensure that no partitions on your target disk are currently in use. This
is a concern because most Linux distributions automatically mount
any detected filesystem. (See Section 4.2.3 for more on mounting and
unmounting.)
When you’re ready, choose your partitioning program. If you’d like
to use parted, you can use the command-line parted utility or a graphical
interface such as gparted; for an fdisk-style interface, use gdisk if you’re using
GPT partitioning. These utilities all have online help and are easy to learn.
(Try using them on a flash device or something similar if you don’t have any
spare disks.)
That said, there is a major difference in the way that fdisk and parted
work. With fdisk, you design your new partition table before making the
actual changes to the disk; fdisk only makes the changes as you exit the
program. But with parted, partitions are created, modified, and removed as
you issue the commands. You don’t get the chance to review the partition table
before you change it.
70 Chapter 4
These differences are also important to understanding how these two
utilities interact with the kernel. Both fdisk and parted modify the partitions
entirely in user space; there is no need to provide kernel support for rewriting
a partition table because user space can read and modify all of a block
device.
Eventually, though, the kernel must read the partition table in order
to present the partitions as block devices. The fdisk utility uses a relatively
simple method: After modifying the partition table, fdisk issues a single
system call on the disk to tell the kernel that it should reread the partition
table. The kernel then generates debugging output that you can view with
dmesg. For example, if you create two partitions on /dev/sdf, you’ll see this:
sdf: sdf1 sdf2
In comparison, the parted tools do not use this disk-wide system call.
Instead, they signal the kernel when individual partitions are altered. After
processing a single partition change, the kernel does not produce the preceding
debugging output.
There are a few ways to see the partition changes:
• Use udevadm to watch the kernel event changes. For example, udevadm
monitor --kernel will show the old partition devices being removed and
the new ones being added.
• Check /proc/partitions for full partition information.
• Check /sys/block/device/ for altered partition system interfaces or /dev
for altered partition devices.
If you absolutely must be sure that you have modified a partition table,
you can perform the old-style system call that fdisk uses by using the blockdev
command. For example, to force the kernel to reload the partition table on
/dev/sdf, run this:
# blockdev --rereadpt /dev/sdf
At this point, you have all you need to know about partitioning disks.
However, if you’re interested in learning a few more details about disks,
read on. Otherwise, skip ahead to Section 4.2 to learn about putting a filesystem
on the disk.
4.1.3 Disk and Partition Geometry
Any device with moving parts introduces complexity into a software system
because there are physical elements that resist abstraction. A hard disk is no
exception; even though you can think of a hard disk as a block device with
random access to any block, there are serious performance consequences
if you aren’t careful about how you lay out data on the disk. Consider the
physical properties of the simple single-platter disk illustrated in Figure 4-3.
Disks and Filesystems 71
The disk consists of a spinning platter on a spindle, with a head attached
to a moving arm that can sweep across the radius of the disk. As the disk
spins underneath the head, the head reads data. When the arm is in one
position, the head can only read data from a fixed circle. This circle is called
a cylinder because larger disks have more than one platter, all stacked and
spinning around the same spindle. Each platter can have one or two heads,
for the top and/or bottom of the platter, and all heads are attached to the
same arm and move in concert. Because the arm moves, there are many
cylinders on the disk, from small ones around the center to large ones
around the periphery of the disk. Finally, you can divide a cylinder into
slices called sectors. This way of thinking about the disk geometry is called
CHS, for cylinder-head-sector.
Cylinder
Spindle
Head
Arm
Platter
Figure 4-3: Top-down view of a hard disk
NOT E A track is a part of a cylinder that a single head accesses, so in Figure 4-3, a cylinder
is also a track. You probably don’t need to worry about tracks.
The kernel and the various partitioning programs can tell you what a
disk reports as its number of cylinders (and sectors, which are slices of cylinders).
However, on a modern hard disk, the reported values are fiction! The traditional
addressing scheme that uses CHS doesn’t scale with modern disk
hardware, nor does it account for the fact that you can put more data into
outer cylinders than inner cylinders. Disk hardware supports Logical Block
Addressing (LBA) to simply address a location on the disk by a block number,
but remnants of CHS remain. For example, the MBR partition table contains
CHS information as well as LBA equivalents, and some boot loaders
are still dumb enough to believe the CHS values (don’t worry—most Linux
boot loaders use the LBA values).
Nevertheless, the idea of cylinders has been important to partitioning
because cylinders are ideal boundaries for partitions. Reading a data
stream from a cylinder is very fast because the head can continuously pick
72 Chapter 4
up data as the disk spins. A partition arranged as a set of adjacent cylinders
also allows for fast continuous data access because the head doesn’t need to
move very far between cylinders.
Some partitioning programs complain if you don’t place your partitions
precisely on cylinder boundaries. Ignore this; there’s little you can do
because the reported CHS values of modern disks simply aren’t true. The
disk’s LBA scheme ensures that your partitions are where they’re supposed
to be.
4.1.4 Solid-State Disks (SSDs)
Storage devices with no moving parts, such as solid-state disks (SSDs), are radically
different from spinning disks in terms of their access characteristics.
For these, random access is not a problem because there’s no head to sweep
across a platter, but certain factors affect performance.
One of the most significant factors affecting the performance of SSDs is
partition alignment. When you read data from an SSD, you read it in chunks—
typically 4096 bytes at a time—and the read must begin at a multiple of that
same size. So if your partition and its data do not lie on a 4096-byte boundary,
you may have to do two reads instead of one for small, common operations,
such as reading the contents of a directory.
Many partitioning utilities (parted and gparted, for example) include
functionality to put newly created partitions at the proper offsets from the
beginning of the disks, so you may never need to worry about improper
partition alignment. However, if you’re curious about where your partitions
begin and just want to make sure that they begin on a boundary, you can
easily find this information by looking in /sys/block. Here’s an example for
a partition /dev/sdf2:
$ cat /sys/block/sdf/sdf2/start
1953126
This partition starts at 1,953,126 bytes from the beginning of the disk.
Because this number is not divisible by 4,096, the partition would not be
attaining optimal performance if it were on SSD.
4.2 Filesystems
The last link between the kernel and user space for disks is typically the filesystem;
this is what you’re accustomed to interacting with when you run commands
such as ls and cd. As previously mentioned, the filesystem is a form
of database; it supplies the structure to transform a simple block device
into the sophisticated hierarchy of files and subdirectories that users can
understand.
At one time, filesystems resided on disks and other physical media used
exclusively for data storage. However, the tree-like directory structure and
I/O interface of filesystems are quite versatile, so filesystems now perform a
variety of tasks, such as the system interfaces that you see in /sys and /proc.
Disks and Filesystems 73
Filesystems are also traditionally implemented in the kernel, but the innovation
of 9P from Plan 9 (http://plan9.bell-labs.com/sys/doc/9.html) has inspired
the development of user-space filesystems. The File System in User Space (FUSE)
feature allows user-space filesystems in Linux.
The Virtual File System (VFS) abstraction layer completes the filesystem
implementation. Much as the SCSI subsystem standardizes communication
between different device types and kernel control commands, VFS ensures
that all filesystem implementations support a standard interface so that
user-space applications access files and directories in the same manner. VFS
support has enabled Linux to support an extraordinarily large number of
filesystems.
4.2.1 Filesystem Types
Linux filesystem support includes native designs optimized for Linux,
foreign types such as the Windows FAT family, universal filesystems like
ISO 9660, and many others. The following list includes the most common
types of filesystems for data storage. The type names as recognized by
Linux are in parentheses next to the filesystem names.
• The Fourth Extended filesystem (ext4) is the current iteration of a line of
filesystems native to Linux. The Second Extended filesystem (ext2) was a
longtime default for Linux systems inspired by traditional Unix filesystems
such as the Unix File System (UFS) and the Fast File System
(FFS). The Third Extended filesystem (ext3) added a journal feature (a
small cache outside the normal filesystem data structure) to enhance
data integrity and hasten booting. The ext4 filesystem is an incremental
improvement with support for larger files than ext2 or ext3 support and
a greater number of subdirectories.
There is a certain amount of backward compatibility in the extended
filesystem series. For example, you can mount ext2 and ext3 filesystems
as each other, and you can mount ext2 and ext3 filesystems as ext4, but
you cannot mount ext4 as ext2 or ext3.
• ISO 9660 (iso9660) is a CD-ROM standard. Most CD-ROMs use some
variety of the ISO 9660 standard.
• FAT filesystems (msdos, vfat, umsdos) pertain to Microsoft systems. The
simple msdos type supports the very primitive monocase variety in
MS-DOS systems. For most modern Windows filesystems, you should
use the vfat filesystem in order to get full access from Linux. The rarely
used umsdos filesystem is peculiar to Linux. It supports Unix features
such as symbolic links on top of an MS-DOS filesystem.
• HFS+ (hfsplus) is an Apple standard used on most Macintosh systems.
Although the Extended filesystem series has been perfectly acceptable
to most casual users, many advances have been made in filesystem technology
that even ext4 cannot utilize due to the backward compatibility requirement.
The advances are primarily in scalability enhancements pertaining
74 Chapter 4
to very large numbers of files, large files, and similar scenarios. New Linux
filesystems, such as Btrfs, are under development and may be poised to
replace the Extended series.
4.2.2 Creating a Filesystem
Once you’re done with the partitioning process described in Section 4.1,
you’re ready to create filesystems. As with partitioning, you’ll do this in
user space because a user-space process can directly access and manipulate
a block device. The mkfs utility can create many kinds of filesystems. For
example, you can create an ext4 partition on /dev/sdf2 with this command:
# mkfs -t ext4 /dev/sdf2
The mkfs program automatically determines the number of blocks in
a device and sets some reasonable defaults. Unless you really know what
you’re doing and feel like reading the documentation in detail, don’t
change these.
When you create a filesystem, mkfs prints diagnostic output as it works,
including output pertaining to the superblock. The superblock is a key component
at the top level of the filesystem database, and it’s so important
that mkfs creates a number of backups in case the original is destroyed.
Consider recording a few of the superblock backup numbers when mkfs
runs, in case you need to recover the superblock in the event of a disk failure
(see Section 4.2.11).
WARNING Filesystem creation is a task that you should only need to perform after adding a
new disk or repartitioning an old one. You should create a filesystem just once for
each new partition that has no preexisting data (or that has data that you want to
remove). Creating a new filesystem on top of an existing filesystem will effectively
destroy the old data.
It turns out that mkfs is only a frontend for a series of filesystem creation
programs, mkfs.fs, where fs is a filesystem type. So when you run mkfs -t
ext4, mkfs in turn runs mkfs.ext4.
And there’s even more indirection. Inspect the mkfs.* files behind the
commands and you’ll see the following:
$ ls -l /sbin/mkfs.*
-rwxr-xr-x 1 root root 17896 Mar 29 21:49 /sbin/mkfs.bfs
-rwxr-xr-x 1 root root 30280 Mar 29 21:49 /sbin/mkfs.cramfs
lrwxrwxrwx 1 root root 6 Mar 30 13:25 /sbin/mkfs.ext2 -> mke2fs
lrwxrwxrwx 1 root root 6 Mar 30 13:25 /sbin/mkfs.ext3 -> mke2fs
lrwxrwxrwx 1 root root 6 Mar 30 13:25 /sbin/mkfs.ext4 -> mke2fs
lrwxrwxrwx 1 root root 6 Mar 30 13:25 /sbin/mkfs.ext4dev -> mke2fs
-rwxr-xr-x 1 root root 26200 Mar 29 21:49 /sbin/mkfs.minix
lrwxrwxrwx 1 root root 7 Dec 19 2011 /sbin/mkfs.msdos -> mkdosfs
lrwxrwxrwx 1 root root 6 Mar 5 2012 /sbin/mkfs.ntfs -> mkntfs
lrwxrwxrwx 1 root root 7 Dec 19 2011 /sbin/mkfs.vfat -> mkdosfs
Disks and Filesystems 75
As you can see, mkfs.ext4 is just a symbolic link to mke2fs. This is
important to remember if you run across a system without a specific mkfs
command or when you’re looking up the documentation for a particular
filesystem. Each filesystem’s creation utility has its own manual page, like
mke2fs(8). This shouldn’t be a problem on most systems, because accessing
the mkfs.ext4(8) manual page should redirect you to the mke2fs(8)
manual page, but keep it in mind.
4.2.3 Mounting a Filesystem
On Unix, the process of attaching a filesystem is called mounting. When the
system boots, the kernel reads some configuration data and mounts root (/)
based on the configuration data.
In order to mount a filesystem, you must know the following:
• The filesystem’s device (such as a disk partition; where the actual filesystem
data resides).
• The filesystem type.
• The mount point—that is, the place in the current system’s directory
hierarchy where the filesystem will be attached. The mount point
is always a normal directory. For instance, you could use /cdrom as
a mount point for CD-ROM devices. The mount point need not be
directly below / ; it may be anywhere on the system.
When mounting a filesystem, the common terminology is “mount a
device on a mount point.” To learn the current filesystem status of your system,
run mount. The output should look like this:
$ mount
/dev/sda1 on / type ext4 (rw,errors=remount-ro)
proc on /proc type proc (rw,noexec,nosuid,nodev)
sysfs on /sys type sysfs (rw,noexec,nosuid,nodev)
none on /sys/fs/fuse/connections type fusectl (rw)
none on /sys/kernel/debug type debugfs (rw)
none on /sys/kernel/security type securityfs (rw)
udev on /dev type devtmpfs (rw,mode=0755)
devpts on /dev/pts type devpts (rw,noexec,nosuid,gid=5,mode=0620)
tmpfs on /run type tmpfs (rw,noexec,nosuid,size=10%,mode=0755)
--snip--
Each line corresponds to one currently mounted filesystem, with items
in this order:
• The device, such as /dev/sda3. Notice that some of these aren’t real
devices (proc, for example) but are stand-ins for real device names
because these special-purpose filesystems do not need devices.
• The word on.
• The mount point.
• The word type.
76 Chapter 4
• The filesystem type, usually in the form of a short identifier.
• Mount options (in parentheses). (See Section 4.2.6 for more details.)
To mount a filesystem, use the mount command as follows with the filesystem
type, device, and desired mount point:
# mount -t type device mountpoint
For example, to mount the Fourth Extended filesystem /dev/sdf2 on
/home/extra, use this command:
# mount -t ext4 /dev/sdf2 /home/extra
You normally don’t need to supply the -t type option because mount can
usually figure it out for you. However, sometimes it’s necessary to distinguish
between two similar types, such as the various FAT-style filesystems.
See Section 4.2.6 for a few more long options to mount. To unmount
(detach) a filesystem, use the umount command:
# umount mountpoint
You can also unmount a filesystem with its device instead of its mount
point.
4.2.4 Filesystem UUID
The method of mounting filesystems discussed in the preceding section
depends on device names. However, device names can change because
they depend on the order in which the kernel finds the devices. To solve
this problem, you can identify and mount filesystems by their Universally
Unique Identifier (UUID), a software standard. The UUID is a type of serial
number, and each one should be different. Filesystem creation programs
like mke2fs generate a UUID identifier when initializing the filesystem
data
structure.
To view a list of devices and the corresponding filesystems and UUIDs
on your system, use the blkid (block ID) program:
# blkid
/dev/sdf2: UUID="a9011c2b-1c03-4288-b3fe-8ba961ab0898" TYPE="ext4"
/dev/sda1: UUID="70ccd6e7-6ae6-44f6-812c-51aab8036d29" TYPE="ext4"
/dev/sda5: UUID="592dcfd1-58da-4769-9ea8-5f412a896980" TYPE="swap"
/dev/sde1: SEC_TYPE="msdos" UUID="3762-6138" TYPE="vfat"
In this example, blkid found four partitions with data: two with ext4
filesystems, one with a swap space signature (see Section 4.3), and one
with a FAT-based filesystem. The Linux native partitions all have standard
UUIDs, but the FAT partition doesn’t have one. You can reference the FAT
partition with its FAT volume serial number (in this case, 3762-6138).
Disks and Filesystems 77
To mount a filesystem by its UUID, use the UUID= syntax. For example,
to mount the first filesystem from the preceding list on /home/extra, enter:
# mount UUID=a9011c2b-1c03-4288-b3fe-8ba961ab0898 /home/extra
You will typically not manually mount filesystems by UUID as above,
because you’ll probably know the device, and it’s much easier to mount a
device by its name than by its crazy UUID number. Still, it’s important to
understand UUIDs. For one thing, they’re the preferred way to automatically
mount filesystems in /etc/fstab at boot time (see Section 4.2.8). In
addition, many distributions use the UUID as a mount point when you
insert removable media. In the preceding example, the FAT filesystem
is on a flash media card. An Ubuntu system with someone logged in will
mount this partition at /media/3762-6138 upon insertion. The udevd daemon
described in Chapter 3 handles the initial event for the device insertion.
You can change the UUID of a filesystem if necessary (for example, if
you copied the complete filesystem from somewhere else and now need to
distinguish it from the original). See the tune2fs(8) manual page for how
to do this on an ext2/ext3/ext4 filesystem.
4.2.5 Disk Buffering, Caching, and Filesystems
Linux, like other versions of Unix, buffers writes to the disk. This means that
the kernel usually doesn’t immediately write changes to filesystems when processes
request changes. Instead it stores the changes in RAM until the kernel
can conveniently make the actual change to the disk. This buffering system
is transparent to the user and improves performance.
When you unmount a filesystem with umount, the kernel automatically
synchronizes with the disk. At any other time, you can force the kernel to
write the changes in its buffer to the disk by running the sync command. If
for some reason you can’t unmount a filesystem before you turn off the system,
be sure to run sync first.
In addition, the kernel has a series of mechanisms that use RAM to
automatically cache blocks read from a disk. Therefore, if one or more
processes repeatedly access a file, the kernel doesn’t have to go to the disk
again and again—it can simply read from the cache and save time and
resources.
4.2.6 Filesystem Mount Options
There are many ways to change the mount command behavior, as is often
necessary with removable media or when performing system maintenance.
In fact, the total number of mount options is staggering. The extensive
mount(8) manual page is a good reference, but it’s hard to know where to
start and what you can safely ignore. You’ll see the most useful options in
this section.
78 Chapter 4
Options fall into two rough categories: general and filesystem-specific
ones. General options include -t for specifying the filesystem type (as mentioned
earlier). In contrast, a filesystem-specific option pertains only to certain
filesystem types.
To activate a filesystem option, use the -o switch followed by the option.
For example, -o norock turns off Rock Ridge extensions on an ISO 9660 filesystem,
but it has no meaning for any other kind of filesystem.
Short Options
The most important general options are these:
-r The -r option mounts the filesystem in read-only mode. This has
a number of uses, from write protection to bootstrapping. You don’t
need to specify this option when accessing a read-only device such as a
CD-ROM; the system will do it for you (and will also tell you about the
read-only status).
-n The -n option ensures that mount does not try to update the system
runtime mount database, /etc/mtab. The mount operation fails when it
cannot write to this file, which is important at boot time because the
root partition (and, therefore, the system mount database) is read-only
at first. You’ll also find this option handy when trying to fix a system
problem in single-user mode, because the system mount database may
not be available at the time.
-t The -t type option specifies the filesystem type.
Long Options
Short options like -r are too limited for the ever-increasing number of
mount options; there are too few letters in the alphabet to accommodate all
possible options. Short options are also troublesome because it is difficult
to determine an option’s meaning based on a single letter. Many general
options and all filesystem-specific options use a longer, more flexible option
format.
To use long options with mount on the command line, start with -o and
supply some keywords. Here’s a complete example, with the long options
following -o:
# mount -t vfat /dev/hda1 /dos -o ro,conv=auto
The two long options here are ro and conv=auto. The ro option specifies
read-only mode and is the same as the -r short option. The conv=auto option
tells the kernel to automatically convert certain text files from the DOS
newline format to the Unix style (you’ll see more shortly).
The most useful long options are these:
exec, noexec Enables or disables execution of programs on the
filesystem.
suid, nosuid Enables or disables setuid programs.
Disks and Filesystems 79
ro Mounts the filesystem in read-only mode (as does the -r short
option).
rw Mounts the filesystem in read-write mode.
conv=rule (FAT-based filesystems) Converts the newline characters
in files based on rule, which can be binary, text, or auto. The default
is binary, which disables any character translation. To treat all files as
text, use text. The auto setting converts files based on their extension.
For example, a .jpg file gets no special treatment, but a .txt file does. Be
careful with this option because it can damage files. Consider using it
in read-only mode.
4.2.7 Remounting a Filesystem
There will be times when you may need to reattach a currently mounted
filesystem at the same mount point when you need to change mount options.
The most common such situation is when you need to make a read-only filesystem
writable during crash recovery.
The following command remounts the root in read-write mode (you
need the -n option because the mount command can’t write to the system
mount database when the root is read-only):
# mount -n -o remount /
This command assumes that the correct device listing for / is in
/etc/fstab (as discussed in the next section). If it is not, you must specify
the device.
4.2.8 The /etc/fstab Filesystem Table
To mount filesystems at boot time and take the drudgery out of the mount
command, Linux systems keep a permanent list of filesystems and options in
/etc/fstab. This is a plaintext file in a very simple format, as Listing 4-1 shows.
proc /proc proc nodev,noexec,nosuid 0 0
UUID=70ccd6e7-6ae6-44f6-812c-51aab8036d29 / ext4 errors=remount-ro 0 1
UUID=592dcfd1-58da-4769-9ea8-5f412a896980 none swap sw 0 0
/dev/sr0 /cdrom iso9660 ro,user,nosuid,noauto 0 0
Listing 4-1: List of filesystems and options in /etc/fstab
Each line corresponds to one filesystem, each of which is broken into
six fields. These fields are as follows, in order from left to right:
The device or UUID Most current Linux systems no longer use the
device in /etc/fstab, preferring the UUID. (Notice that the /proc entry
has a stand-in device named proc.)
The mount point Indicates where to attach the filesystem.
The filesystem type You may not recognize swap in this list; this is a
swap partition (see Section 4.3).
80 Chapter 4
Options Use long options separated by commas.
Backup information for use by the dump command You should
always use a 0 in this field.
The filesystem integrity test order To ensure that fsck always runs
on the root first, always set this to 1 for the root filesystem and 2 for
any other filesystems on a hard disk. Use 0 to disable the bootup check
for everything else, including CD-ROM drives, swap, and the /proc filesystem
(see the fsck command in Section 4.2.11).
When using mount, you can take some shortcuts if the filesystem you
want to work with is in /etc/fstab. For example, if you were using Listing 4-1
and mounting a CD-ROM, you would simply run mount /cdrom.
You can also try to mount all entries at once in /etc/fstab that do not
contain the noauto option with this command:
# mount -a
Listing 4-1 contains some new options, namely errors, noauto, and user,
because they don’t apply outside the /etc/fstab file. In addition, you’ll often
see the defaults option here. The meanings of these options are as follows:
defaults This uses the mount defaults: read-write mode, enable device
files, executables, the setuid bit, and so on. Use this when you don’t
want to give the filesystem any special options but you do want to fill all
fields in /etc/fstab.
errors This ext2-specific parameter sets the kernel behavior when
the system has trouble mounting a filesystem. The default is normally
errors=continue, meaning that the kernel should return an error code
and keep running. To have the kernel try the mount again in read-only
mode, use errors=remount-ro. The errors=panic setting tells the kernel
(and your system) to halt when there is a problem with the mount.
noauto This option tells a mount -a command to ignore the entry. Use
this to prevent a boot-time mount of a removable-media device, such as
a CD-ROM or floppy drive.
user This option allows unprivileged users to run mount on a particular
entry, which can be handy for allowing access to CD-ROM drives.
Because users can put a setuid-root file on removable media with
another system, this option also sets nosuid, noexec, and nodev (to bar
special device files).
4.2.9 Alternatives to /etc/fstab
Although the /etc/fstab file has been the traditional way to represent filesystems
and their mount points, two new alternatives have appeared. The
first is an /etc/fstab.d directory that contains individual filesystem configuration
files (one file for each filesystem). The idea is very similar to many
other configuration directories that you’ll see throughout this book.
Disks and Filesystems 81
A second alternative is to configure systemd units for the filesystems.
You’ll learn more about systemd and its units in Chapter 6. However, the
systemd unit configuration is often generated from (or based on) the /etc/
fstab file, so you may find some overlap on your system.
4.2.10 Filesystem Capacity
To view the size and utilization of your currently mounted filesystems, use
the df command. The output should look like this:
$ df
Filesystem 1024-blocks Used Available Capacity Mounted on
/dev/sda1 1011928 71400 889124 7% /
/dev/sda3 17710044 9485296 7325108 56% /usr
Here’s a brief description of the fields in the df output:
Filesystem The filesystem device
1024-blocks The total capacity of the filesystem in blocks of 1024 bytes
Used The number of occupied blocks
Available The number of free blocks
Capacity The percentage of blocks in use
Mounted on The mount point
It should be easy to see that the two filesystems here are roughly 1GB
and 17.5GB in size. However, the capacity numbers may look a little strange
because 71,400 plus 889,124 does not equal 1,011,928, and 9,485,296 does
not constitute 56 percent of 17,710,044. In both cases, 5 percent of the total
capacity is unaccounted for. In fact, the space is there, but it is hidden in
reserved blocks. Therefore, only the superuser can use the full filesystem
space if the rest of the partition fills up. This feature keeps system servers
from immediately failing when they run out of disk space.
If your disk fills up and you need to know where all of those spacehogging
media files are, use the du command. With no arguments, du
prints the disk usage of every directory in the directory hierarchy, starting
at the current working directory. (That’s kind of a mouthful, so just run
cd /; du to get the idea. Press ctrl-C when you get bored.) The du -s command
turns on summary mode to print only the grand total. To evaluate a
particular directory, change to that directory and run du -s *.
NOT E The POSIX standard defines a block size of 512 bytes. However, this size is harder
to read, so by default, the df and du output in most Linux distributions is in
1024-byte blocks. If you insist on displaying the numbers in 512-byte blocks, set
the POSIXLY_CORRECT environment variable. To explicitly specify 1024-byte blocks,
use the -k option (both utilities support this). The df program also has a -m option
to list capacities in 1MB blocks and a -h option to take a best guess at what a person
can read.
82 Chapter 4
4.2.11 Checking and Repairing Filesystems
The optimizations that Unix filesystems offer are made possible by a
sophisticated database mechanism. For filesystems to work seamlessly,
the kernel has to trust that there are no errors in a mounted filesystem.
If
errors exist, data loss and system crashes may result.
Filesystem errors are usually due to a user shutting down the system in
a rude way (for example, by pulling out the power cord). In such cases, the
filesystem cache in memory may not match the data on the disk, and the
system also may be in the process of altering the filesystem when you happen
to give the computer a kick. Although a new generation of filesystems
supports journals to make filesystem corruption far less common, you should
always shut the system down properly. And regardless of the filesystem
in use,
filesystem checks are still necessary every now and to maintain sanity.
The tool to check a filesystem is fsck. As with the mkfs program, there
is a different version of fsck for each filesystem type that Linux supports.
For example, when you run fsck on an Extended filesystem series (ext2/
ext3/ext4), fsck recognizes the filesystem type and starts the e2fsck utility.
Therefore, you generally don’t need to type e2fsck, unless fsck can’t figure
out the filesystem type or you’re looking for the e2fsck manual page.
The information presented in this section is specific to the Extended
filesystem series and e2fsck.
To run fsck in interactive manual mode, give the device or the mount
point (as listed in /etc/fstab) as the argument. For example:
# fsck /dev/sdb1
WARNING You should never use fsck on a mounted filesystem because the kernel may alter the
disk data as you run the check, causing runtime mismatches that can crash your
system and corrupt files. There is only one exception: If you mount the root partition
read-only in single-user mode, you may use fsck on it.
In manual mode, fsck prints verbose status reports on its passes, which
should look something like this when there are no problems:
Pass 1: Checking inodes, blocks, and sizes
Pass 2: Checking directory structure
Pass 3: Checking directory connectivity
Pass 4: Checking reference counts
Pass 5: Checking group summary information
/dev/sdb1: 11/1976 files (0.0% non-contiguous), 265/7891 blocks
If fsck finds a problem in manual mode, it stops and asks you a question
relevant to fixing the problem. These questions deal with the internal
structure of the filesystem, such as reconnecting loose inodes and clearing
blocks (an inode is a building block of the filesystem; you’ll see how inodes
work in Section 4.5). When fsck asks you about reconnecting an inode, it
has found a file that doesn’t appear to have a name. When reconnecting
Disks and Filesystems 83
such a file, fsck places the file in the lost+found directory in the filesystem,
with a number as the filename. If this happens, you need to guess the name
based on the content of the file; the original name is probably gone.
In general, it’s pointless to sit through the fsck repair process if you’ve
just uncleanly shut down the system, because fsck may have a lot of minor
errors to fix. Fortunately, e2fsck has a -p option that automatically fixes
ordinary problems without asking and aborts when there’s a serious error.
In fact, Linux distributions run some variant of fsck -p at boot time. (You
may also see fsck -a, which just does the same thing.)
If you suspect a major disaster on your system, such as a hardware failure
or device misconfiguration, you need to decide on a course of action
because fsck can really mess up a filesystem that has larger problems. (One
telltale sign that your system has a serious problem is that fsck asks a lot of
questions in manual mode.)
If you think that something really bad has happened, try running
fsck -n to check the filesystem without modifying anything. If there’s a
problem with the device configuration that you think you can fix (such as
an incorrect number of blocks in the partition table or loose cables), fix it
before running fsck for real, or you’re likely to lose a lot of data.
If you suspect that only the superblock is corrupt (for example, because
someone wrote to the beginning of the disk partition), you might be able to
recover the filesystem with one of the superblock backups that mkfs creates.
Use fsck -b num to replace the corrupted superblock with an alternate at
block num and hope for the best.
If you don’t know where to find a backup superblock, you may be able
to run mkfs -n on the device to view a list of superblock backup numbers
without destroying your data. (Again, make sure that you’re using -n, or
you’ll really tear up the filesystem.)
Checking ext3 and ext4 Filesystems
You normally do not need to check ext3 and ext4 filesystems manually
because the journal ensures data integrity. However, you may wish to
mount a broken ext3 or ext4 filesystem in ext2 mode because the kernel
will not mount an ext3 or ext4 filesystem with a nonempty journal. (If you
don’t shut your system down cleanly, you can expect the journal to contain
some data.) To flush the journal in an ext3 or ext4 filesystem to the
regular filesystem database, run e2fsck as follows:
# e2fsck –fy /dev/disk_device
The Worst Case
Disk problems that are worse in severity leave you with few choices:
• You can try to extract the entire filesystem image from the disk with dd
and transfer it to a partition on another disk of the same size.
84 Chapter 4
• You can try to patch the filesystem as much as possible, mount it in
read-only mode, and salvage what you can.
• You can try debugfs.
In the first two cases, you still need to repair the filesystem before you
mount it, unless you feel like picking through the raw data by hand. If you
like, you can choose to answer y to all of the fsck questions by entering
fsck -y, but do this as a last resort because issues may come up during the
repair process that you would rather handle manually.
The debugfs tool allows you to look through the files on a filesystem and
copy them elsewhere. By default, it opens filesystems in read-only mode. If
you’re recovering data, it’s probably a good idea to keep your files intact to
avoid messing things up further.
Now, if you’re really desperate, say with a catastrophic disk failure on
your hands and no backups, there isn’t a lot you can do other than hope a
professional service can “scrape the platters.”
4.2.12 Special-Purpose Filesystems
Not all filesystems represent storage on physical media. Specifically, most
versions of Unix have filesystems that serve as system interfaces. That is,
rather than serving only as a means to store data on a device, a filesystem
can represent system information such as process IDs and kernel diagnostics.
This idea goes back to the /dev mechanism, which is an early model of
using files for I/O interfaces. The /proc idea came from the eighth edition
of research Unix, implemented by Tom J. Killian and accelerated when Bell
Labs (including many of the original Unix designers) created Plan 9—a
research operating system that took filesystem abstraction to a whole new level
(http://plan9.bell-labs.com/sys/doc/9.html).
The special filesystem types in common use on Linux include the
following:
proc Mounted on /proc. The name proc is actually an abbreviation
for process. Each numbered directory inside /proc is actually the process
ID of a current process on the system; the files in those directories
represent various aspects of the processes. The file /proc/self represents
the current process. The Linux proc filesystem includes a great deal of
additional kernel and hardware information in files like /proc/cpuinfo.
(There has been a push to move information unrelated to processes out
of /proc and into /sys.)
sysfs Mounted on /sys. (You saw this in Chapter 3.)
tmpfs Mounted on /run and other locations. With tmpfs, you can
use your physical memory and swap space as temporary storage. For
example, you can mount tmpfs where you like, using the size and
nr_blocks long options to control the maximum size. However, be careful
not to constantly pour things into a tmpfs because your system will
eventually run out of memory and programs will start to crash. (For
years, Sun Microsystems used a version of tmpfs for /tmp that caused
problems on long-running systems.)
Disks and Filesystems 85
4.3 Swap Space
Not every partition on a disk contains a filesystem. It’s also possible to augment
the RAM on a machine with disk space. If you run out of real memory,
the Linux virtual memory system can automatically move pieces of memory
to and from a disk storage. This is called swapping because pieces of idle programs
are swapped to the disk in exchange for active pieces residing on the
disk. The disk area used to store memory pages is called swap space (or just
swap for short).
The free command’s output includes the current swap usage in kilobytes
as follows:
$ free
total used free
--snip--
Swap: 514072 189804 324268
4.3.1 Using a Disk Partition as Swap Space
To use an entire disk partition as swap, follow these steps:
1. Make sure the partition is empty.
2. Run mkswap dev, where dev is the partition’s device. This command puts
a swap signature on the partition.
3. Execute swapon dev to register the space with the kernel.
After creating a swap partition, you can put a new swap entry in your
/etc/fstab file to make the system use the swap space as soon as the machine
boots. Here is a sample entry that uses /dev/sda5 as a swap partition:
/dev/sda5 none swap sw 0 0
Keep in mind that many systems now use UUIDs instead of raw device
names.
4.3.2 Using a File as Swap Space
You can use a regular file as swap space if you’re in a situation where you
would be forced to repartition a disk in order to create a swap partition.
You shouldn’t notice any problems when doing this.
Use these commands to create an empty file, initialize it as swap, and
add it to the swap pool:
# dd if=/dev/zero of=swap_file bs=1024k count=num_mb
# mkswap swap_file
# swapon swap_file
Here, swap_file is the name of the new swap file, and num_mb is the
desired size, in megabytes.
To remove a swap partition or file from the kernel’s active pool, use the
swapoff command.
86 Chapter 4
4.3.3 How Much Swap Do You Need?
At one time, Unix conventional wisdom said you should always reserve at
least twice as much swap as you have real memory. Today, not only do the
enormous disk and memory capacities available cloud the issue, but so do
the ways we use the system. On one hand, disk space is so plentiful that
it’s tempting to allocate more than double the memory size. On the other
hand, you may never even dip into your swap space because you have so
much real memory.
The “double the real memory” rule dated from a time when multiple
users would be logged into one machine at a time. Not all of them would
be active, though, so it was convenient to be able to swap out the memory
of the inactive users when an active user needed more memory.
The same may still hold true for a single-user machine. If you’re running
many processes, it’s generally fine to swap out parts of inactive processes or
even inactive pieces of active processes. However, if you’re constantly using
the swap space because many active processes want to use the memory at
once, you will suffer serious performance problems because disk I/O is just
too slow to keep up with the rest of the system. The only solutions are to
buy more memory, terminate some processes, or complain.
Sometimes, the Linux kernel may choose to swap out a process in
favor of a little more disk cache. To prevent this behavior, some administrators
configure certain systems with no swap space at all. For example,
high-performance network servers should never dip into swap space and
should avoid disk access if at all possible.
NOT E It’s dangerous to do this on a general-purpose machine. If a machine completely
runs out of both real memory and swap space, the Linux kernel invokes the out-ofmemory
(OOM) killer to kill a process in order to free up some memory. You obviously
don’t want this to happen to your desktop applications. On the other hand, highperformance
servers include sophisticated monitoring and load-balancing systems
to ensure that they never reach the danger zone.
You’ll learn much more about how the memory system works in
Chapter 8.
4.4 Looking Forward: Disks and User Space
In disk-related components on a Unix system, the boundaries between user
space and the kernel can be difficult to characterize. As you’ve seen, the
kernel handles raw block I/O from the devices, and user-space tools can
use the block I/O through device files. However, user space typically uses
the block I/O only for initializing operations such as partitioning, filesystem
creation, and swap space creation. In normal use, user space uses
only the filesystem support that the kernel provides on top of the block I/O.
Similarly, the kernel also handles most of the tedious details when dealing
with swap space in the virtual memory system.
Disks and Filesystems 87
The remainder of this chapter briefly looks at the innards of a Linux
filesystem. This is more advanced material, and you certainly don’t need to
know it to proceed with the book. If this is your first time through, skip to
the next chapter and start learning about how Linux boots.
4.5 Inside a Traditional Filesystem
A traditional Unix filesystem has two primary components: a pool of data
blocks where you can store data and a database system that manages the
data pool. The database is centered around the inode data structure. An
inode is a set of data that describes a particular file, including its type, permissions,
and—perhaps most importantly—where in the data pool the file
data resides. Inodes are identified by numbers listed in an inode table.
Filenames and directories are also implemented as inodes. A directory
inode contains a list of filenames and corresponding links to other inodes.
To provide a real-life example, I created a new filesystem, mounted it,
and changed the directory to the mount point. Then, I added some files and
directories with these commands (feel free to do this yourself with a flash
drive):
$ mkdir dir_1
$ mkdir dir_2
$ echo a > dir_1/file_1
$ echo b > dir_1/file_2
$ echo c > dir_1/file_3
$ echo d > dir_2/file_4
$ ln dir_1/file_3 dir_2/file_5
Note that I created dir_2/file_5 as a hard link to dir_1/file_3, meaning
that these two filenames actually represent the same file. (More on this
shortly.)
If you were to explore the directories in this filesystem, its contents
would appear to the user as shown in Figure 4-4. The actual layout of the
filesystem, as shown in Figure 4-5, doesn’t look nearly as clean as the userlevel
representation.
(root)
dir_1 dir_2
file_1 file_2 file_3 file_4 file_5
Figure 4-4: User-level representation of a filesystem
88 Chapter 4
inode table
#/link count/type
2 4 dir
12 2
13 1
1
1
2
2
14
15
16
7633
dir
dir
file
file
file
file
data pool
.
dir_1
dir_2
inode 2
inode 12
inode 7633
.
..
file_1
file_2
file_3
inode 12
inode 2
inode 13
inode 14
inode 15
“a”
.
..
file_4
file_5
inode 7633
inode 2
inode 16
inode 15
“b”
“c”
“d”
Figure 4-5: Inode structure of the filesystem shown in Figure 4-4
How do we make sense of this? For any ext2/3/4 filesystem, you start at
inode number 2—the root inode. From the inode table in Figure 4-5, you can
see that this is a directory inode (dir), so you can follow the arrow over to
the data pool, where you see the contents of the root directory: two entries
named dir_1 and dir_2 corresponding to inodes 12 and 7633, respectively.
To explore those entries, go back to the inode table and look at either of
those inodes.
To examine dir_1/file_2 in this filesystem, the kernel does the following:
1. Determines the path’s components: a directory named dir_1, followed
by a component named file_2.
2. Follows the root inode to its directory data.
3. Finds the name dir_1 in inode 2’s directory data, which points to inode
number 12.
4. Looks up inode 12 in the inode table and verifies that it is a directory
inode.
5. Follows inode 12’s data link to its directory information (the second
box down in the data pool).
Disks and Filesystems 89
6. Locates the second component of the path (file_2) in inode 12’s directory
data. This entry points to inode number 14.
7. Looks up inode 14 in the directory table. This is a file inode.
At this point, the kernel knows the properties of the file and can open
it by following inode 14’s data link.
This system, of inodes pointing to directory data structures and directory
data structures pointing to inodes, allows you to create the filesystem
hierarchy that you’re used to. In addition, notice that the directory inodes
contain entries for . (the current directory) and .. (the parent directory,
except for the root directory). This makes it easy to get a point of reference
and to navigate back down the directory structure.
4.5.1 Viewing Inode Details
To view the inode numbers for any directory, use the ls -i command.
Here’s what you’d get at the root of this example. (For more detailed inode
information, use the stat command.)
$ ls -i
12 dir_1 7633 dir_2
Now you’re probably wondering about the link count. You’ve already
seen the link count in the output of the common ls -l command, but you
likely ignored it. How does the link count relate to the files in Figure 4-5,
in particular the “hard-linked” file_5? The link count field is the number of
total directory entries (across all directories) that point to an inode. Most
of the files have a link count of 1 because they occur only once in the directory
entries. This is expected: Most of the time when you create a file, you
create a new directory entry and a new inode to go with it. However, inode
15 occurs twice: First it’s created as dir_1/file_3, and then it’s linked to as
dir_2/file_5. A hard link is just a manually created entry in a directory to an
inode that already exists. The ln command (without the -s option) allows
you to manually create new links.
This is also why removing a file is sometimes called unlinking. If you run
rm dir_1/file_2, the kernel searches for an entry named file_2 in inode 12’s
directory entries. Upon finding that file_2 corresponds to inode 14, the kernel
removes the directory entry and then subtracts 1 from inode 14’s link
count. As a result, inode 14’s link count will be 0, and the kernel will know
that there are no longer any names linking to the inode. Therefore, it can
now delete the inode and any data associated with it.
However, if you run rm dir_1/file_3, the end result is that the link count
of inode 15 goes from 2 to 1 (because dir_2/file_5 still points there), and the
kernel knows not to remove the inode.
Link counts work much the same for directories. Observe that inode
12’s link count is 2, because there are two inode links there: one for dir_1
in the directory entries for inode 2 and the second a self-reference (.) in
its own directory entries. If you create a new directory dir_1/dir_3, the link
90 Chapter 4
count for inode 12 would go to 3 because the new directory would include a
parent (..) entry that links back to inode 12, much as inode 12’s parent link
points to inode 2.
There is one small exception. The root inode 2 has a link count of 4.
However, Figure 4-5 shows only three directory entry links. The “fourth”
link is in the filesystem’s superblock because the superblock tells you where
to find the root inode.
Don’t be afraid to experiment on your system. Creating a directory
structure and then using ls -i or stat to walk through the pieces is harmless.
You don’t need to be root (unless you mount and create a new filesystem).
But there’s still one piece missing: When allocating data pool blocks for
a new file, how does the filesystem know which blocks are in use and which
are available? One of the most basic ways is with an additional management
data structure called a block bitmap. In this scheme, the filesystem reserves a
series of bytes, with each bit corresponding to one block in the data pool. A
value of 0 means that the block is free, and a 1 means that it’s in use. Thus,
allocating and deallocating blocks is a matter of flipping bits.
Problems in a filesystem arise when the inode table data doesn’t match
the block allocation data or when the link counts are incorrect; this can
happen when you don’t cleanly shut down a system. Therefore, when you
check a filesystem, as described in Section 4.2.11, the fsck program walks
through the inode table and directory structure to generate new link
counts and a new block allocation map (such as the block bitmap), and
then it compares the newly generated data with the filesystem on the disk.
If there are mismatches, fsck must fix the link counts and determine what
to do with any inodes and/or data that didn’t come up when it traversed the
directory structure. Most fsck programs make these “orphans” new files in
the filesystem’s lost+found directory.
4.5.2 Working with Filesystems in User Space
When working with files and directories in user space, you shouldn’t have
to worry much about the implementation going on below them. You’re
expected to access the contents of files and directories of a mounted filesystem
through kernel system calls. Curiously, though, you do have access
to certain filesystem information that doesn’t seem to fit in user space—in
particular, the stat() system call returns inode numbers and link counts.
When not maintaining a filesystem, do you have to worry about inode
numbers and link counts? Generally, no. This stuff is accessible to user
mode programs primarily for backward compatibility. Furthermore, not
all filesystems
available in Linux have these filesystem internals. The Virtual
File System (VFS) interface layer ensures that system calls always return inode
numbers and link counts, but those numbers may not necessarily mean
anything.
You may not be able to perform traditional Unix filesystem operations
on nontraditional filesystems. For example, you can’t use ln to create a
hard link on a mounted VFAT filesystem because the directory entry structure
is entirely different.
Disks and Filesystems 91
Fortunately, the system calls available to user space on Unix/Linux
systems provide enough abstraction for painless file access—you don’t
need to know anything about the underlying implementation in order to
access files. In addition, filenames are flexible in format and mixed-case
names are supported, making it easy to support other hierarchical-style
filesystems.
Remember, specific filesystem support does not necessarily need to be
in the kernel. In user-space filesystems, the kernel only needs to act as a
conduit for system calls.
4.5.3 The Evolution of Filesystems
As you can see, even the simple filesystem just described has many different
components to maintain. At the same time, the demands placed on
filesystems continuously increase with new tasks, technology, and storage
capacity. Today’s performance, data integrity, and security requirements
are beyond the offerings of older filesystem implementations, so filesystem
technology is constantly changing. We’ve already mentioned Btrfs as an
example of a next-generation filesystem (see Section 4.2.1).
One example of how filesystems are changing is that new filesystems
use separate data structures to represent directories and filenames, rather
than the directory inodes described here. They reference data blocks differently.
Also, filesystems that optimize for SSDs are still evolving. Continuous
change in the development of filesystems is the norm, but keep in mind
that the evolution of filesystems doesn’t change their purpose.

5
How the L inux Kernel Boots
You now know the physical and logical
structure of a Linux system, what the kernel
is, and how to work with processes. This
chapter will teach you how the kernel starts—
or boots. In other words, you’ll learn how the kernel
moves into memory up to the point where the first
user process starts.
A simplified view of the boot process looks like this:
1. The machine’s BIOS or boot firmware loads and runs a boot loader.
2. The boot loader finds the kernel image on disk, loads it into memory,
and starts it.
3. The kernel initializes the devices and its drivers.
4. The kernel mounts the root filesystem.
5. The kernel starts a program called init with a process ID of 1. This
point is the user space start.
94 Chapter 5
6. init sets the rest of the system processes in motion.
7. At some point, init starts a process allowing you to log in, usually at the
end or near the end of the boot.
This chapter covers the first four stages, focusing on the kernel and
boot loaders. Chapter 6 continues with the user space start.
Your ability to identify each stage of the boot process will prove invaluable
in fixing boot problems and understanding the system as a whole.
However, the default behavior in many Linux distributions often makes it
difficult, if not impossible, to identify the first few boot stages as they proceed,
so you’ll probably be able to get a good look only after they’ve completed
and you log in.
5.1 Startup Messages
Traditional Unix systems produce many diagnostic messages upon boot
that tell you about the boot process. The messages come first from the kernel
and then from processes and initialization procedures that init starts.
However, these messages aren’t pretty or consistent, and in some cases they
aren’t even very informative. Most current Linux distributions do their best
to hide them with splash screens, filler, and boot options. In addition, hardware
improvements have caused the kernel to start much faster than before;
the messages flash by so quickly, it can be difficult to see what is happening.
There are two ways to view the kernel’s boot and runtime diagnostic
messages. You can:
• Look at the kernel system log file. You’ll often find this in /var/log/
kern.log, but depending on how your system is configured, it might also
be lumped together with a lot of other system logs in /var/log/messages
or elsewhere.
• Use the dmesg command, but be sure to pipe the output to less because
there will be much more than a screen’s worth. The dmesg command
uses the kernel ring buffer, which is of limited size, but most newer kernels
have a large enough buffer to hold boot messages for a long time.
Here’s a sample of what you can expect to see from the dmesg command:
$ dmesg
[ 0.000000] Initializing cgroup subsys cpu
[ 0.000000] Linux version 3.2.0-67-generic-pae (buildd@toyol) (gcc version 4.
6.3 (Ubuntu/Linaro 4.6.3-1ubuntu5) ) #101-Ubuntu SMP Tue Jul 15 18:04:54 UTC 2014
(Ubuntu 3.2.0-67.101-generic-pae 3.2.60)
[ 0.000000] KERNEL supported cpus:
--snip--
[ 2.986148] sr0: scsi3-mmc drive: 24x/8x writer dvd-ram cd/rw xa/form2 cdda tray
[ 2.986153] cdrom: Uniform CD-ROM driver Revision: 3.20
[ 2.986316] sr 1:0:0:0: Attached scsi CD-ROM sr0
[ 2.986416] sr 1:0:0:0: Attached scsi generic sg1 type 5
[ 3.007862] sda: sda1 sda2 < sda5 >
[ 3.008658] sd 0:0:0:0: [sda] Attached SCSI disk
--snip--
How the Linux Kernel Boots 95
After the kernel has started, the user-space startup procedure often
generates messages. These messages will likely be more difficult to view
and review because on most systems you won’t find them in a single log
file. Startup scripts usually print the messages to the console and they’re
erased after the boot process finishes. However, this usually isn’t a problem
because each script typically writes its own log. Some versions of init, such
as Upstart and systemd, can capture diagnostic messages from startup and
runtime that would normally go to the console.
5.2 Kernel Initialization and Boot Options
Upon startup, the Linux kernel initializes in this general order:
1. CPU inspection
2. Memory inspection
3. Device bus discovery
4. Device discovery
5. Auxiliary kernel subsystem setup (networking, and so on)
6. Root filesystem mount
7. User space start
The first steps aren’t too remarkable, but when the kernel gets to
devices, a question of dependencies arises. For example, the disk device
drivers may depend on bus support and SCSI subsystem support.
Later in the initialization process, the kernel must mount a root filesystem
before starting init. In general, you won’t have to worry about any of
this, except that some necessary components may be loadable kernel modules
rather than part of the main kernel. On some machines, you may need
to load these kernel modules before the true root filesystem is mounted.
We’ll cover this problem and its initial RAM filesystem workaround solutions
in Section 6.8.
As of this writing, the kernel does not emit specific messages when it’s
about to start its first user process. However, the following memory management
messages are a good indication that the user-space handoff is about
to happen because this is where the kernel protects its own memory from
user-space processes:
Freeing unused kernel memory: 740k freed
Write protecting the kernel text: 5820k
Write protecting the kernel read-only data: 2376k
NX-protecting the kernel data: 4420k
You may also see a message about the root filesystem being mounted at
this point.
96 Chapter 5
NOTE Feel free to skip ahead to Chapter 6 to learn the specifics of user space start and the
init program that the kernel runs as its first process. The remainder of this chapter
details how the kernel starts.
5.3 Kernel Parameters
When running the Linux kernel, the boot loader passes in a set of text-based
kernel parameters that tell the kernel how it should start. The parameters specify
many different types of behavior, such as the amount of diagnostic output
the kernel should produce and device driver–specific options.
You can view the kernel parameters from your system’s boot by looking
at the /proc/cmdline file:
$ cat /proc/cmdline
BOOT_IMAGE=/boot/vmlinuz-3.2.0-67-generic-pae root=UUID=70ccd6e7-6ae6-44f6-
812c-51aab8036d29 ro quiet splash vt.handoff=7
The parameters are either simple one-word flags, such as ro and quiet,
or key=value pairs, such as vt.handoff=7. Many of the parameters are unimportant,
such as the splash flag for displaying a splash screen, but one that
is critical is the root parameter. This is the location of the root filesystem;
without it, the kernel cannot find init and therefore cannot perform the
user space start.
The root filesystem can be specified as a device file, such as in this
example:
root=/dev/sda1
However, on most modern desktop systems, a UUID is more common
(see Section 4.2.4):
root=UUID=70ccd6e7-6ae6-44f6-812c-51aab8036d29
The ro parameter is normal; it instructs the kernel to mount the root
filesystem in read-only mode upon user space start. (Read-only mode
ensures that fsck can check the root filesystem safely; after the check, the
bootup process remounts the root filesystem in read-write mode.)
Upon encountering a parameter that it does not understand, the Linux
kernel saves the parameter. The kernel later passes the parameter to init
when performing the user space start. For example, if you add -s to the kernel
parameters, the kernel passes the -s to the init program to indicate that
it should start in single-user mode.
Now let’s look at the mechanics of how boot loaders start the kernel.
How the Linux Kernel Boots 97
5.4 Boot Loaders
At the start of the boot process, before the kernel and init start, a boot
loader starts the kernel. The task of a boot loader sounds simple: It loads
the kernel into memory, and then starts the kernel with a set of kernel
parameters. But consider the questions that the boot loader must answer:
• Where is the kernel?
• What kernel parameters should be passed to the kernel when it starts?
The answers are (typically) that the kernel and its parameters are usually
somewhere on the root filesystem. It sounds like the kernel parameters
should be easy to find, except that the kernel is not yet running, so it can’t
traverse a filesystem to find the necessary files. Worse, the kernel device
drivers normally used to access the disk are also unavailable. Think of this
as a kind of “chicken or egg” problem.
Let’s start with the driver concern. On PCs, boot loaders use the Basic
Input/Output System (BIOS) or Unified Extensible Firmware Interface (UEFI) to
access disks. Nearly all disk hardware has firmware that allows the BIOS
to access attached storage hardware with Linear Block Addressing (LBA).
Although it exhibits poor performance, this mode of access does allow universal
access to disks. Boot loaders are often the only programs to use the
BIOS for disk access; the kernel uses its own high-performance drivers.
The filesystem question is trickier. Most modern boot loaders can
read partition tables and have built-in support for read-only access to filesystems.
Thus, they can find and read files. This capability makes it far easier
to dynamically configure and enhance the boot loader. Linux boot loaders
have not always had this capability; without it, configuring the boot loader
was more difficult.
5.4.1 Boot Loader Tasks
A Linux boot loader’s core functionality includes the ability to do the
following:
• Select among multiple kernels.
• Switch between sets of kernel parameters.
• Allow the user to manually override and edit kernel image names and
parameters (for example, to enter single-user mode).
• Provide support for booting other operating systems.
Boot loaders have become considerably more advanced since the inception
of the Linux kernel, with features such as history and menu systems,
but the basic need has always been flexibility in kernel image and parameter
selection. One interesting phenomenon is that certain needs have
diminished. For example, because you can now perform an emergency or
recovery boot partially or entirely from a USB storage device, you probably
won’t have to worry about manually entering kernel parameters or going
98 Chapter 5
into single-user mode. But modern boot loaders offer more power than
ever, which can be particularly handy if you’re building custom kernels or
just want to tweak parameters.
5.4.2 Boot Loader Overview
Here are the main boot loaders that you may encounter, in order of
popularity:
GRUB A near-universal standard on Linux systems
LILO One of the first Linux boot loaders. ELILO is a UEFI version
SYSLINUX Can be configured to run from many different kinds of
filesystems
LOADLIN Boots a kernel from MS-DOS
efilinux A UEFI boot loader intended to serve as a model and reference
for other UEFI boot loaders
coreboot (formerly LinuxBIOS) A high-performance replacement
for the PC BIOS that can include a kernel
Linux Kernel EFISTUB A kernel plugin for loading the kernel directly
from the EFI/UEFI System Partition (ESP) found on recent systems
This book deals exclusively with GRUB. The rationale behind using
other boot loaders is either that they are simpler to configure than GRUB
or that they are faster.
To enter a kernel name and parameters, you first need to know how
to get to a boot prompt. Unfortunately, this can sometimes be difficult to
figure out because Linux distributions customize boot loader behavior and
appearance to their hearts’ content.
The next sections tell you how to get to a boot prompt in order to enter
a kernel name and parameters. Once you’re comfortable with that, you’ll
see how to configure and install a boot loader.
5.5 GRUB Introduction
GRUB stands for Grand Unified Boot Loader. We’ll cover GRUB 2; there is also
an older version now called GRUB Legacy that is slowing falling out of use.
One of GRUB’s most important capabilities is filesystem navigation that
allows for much easier kernel image and configuration selection. One of
the best ways to see this in action and to learn about GRUB in general is to
look at its menu. The interface is easy to navigate, but there’s a good chance
that you’ve never seen it. Linux distributions often do their best to hide the
boot loader from you.
To access the GRUB menu, press and hold shift when your BIOS or
firmware startup screen first appears. Otherwise, the boot loader configuration
may not pause before loading the kernel. Figure 5-1 shows the GRUB
menu. Press esc to temporarily disable the automatic boot timeout after the
GRUB menu appears.
How the Linux Kernel Boots 99
Figure 5-1: GRUB menu
Try the following to explore the boot loader:
1. Reboot or power on your Linux system.
2. Hold down shift during the BIOS/Firmware self-test and/or splash
screen to get the GRUB menu.
3. Press e to view the boot loader configuration commands for the default
boot option. You should see something like Figure 5-2.
Figure 5-2: GRUB configuration editor
100 Chapter 5
This screen tells us that for this configuration, the root is set with a
UUID, the kernel image is /boot/vmlinuz-3.2.0-31-generic-pae, and the kernel
parameters include ro, quiet, and splash. The initial RAM filesystem
is /boot/initrd.img-3.2.0-31-generic-pae. But if you’ve never seen this sort of
configuration before, you may find it somewhat confusing. Why are there
multiple references to root, and why are they different? Why is insmod here?
Isn’t that a Linux kernel feature normally run by udevd?
The double-takes are warranted, because GRUB doesn’t really use
the Linux kernel—it starts it. The configuration you see consists wholly
of GRUB internal commands. GRUB really is an entirely separate world.
The confusion stems from the fact that GRUB borrows terminology
from many sources. GRUB has its own “kernel” and its own insmod command
to dynamically load GRUB modules, completely independent of the
Linux kernel. Many GRUB commands are similar to Unix shell commands;
there’s even an ls command to list files.
But the most confusion comes from the use of the word root. To clear it
up, there is one simple rule to follow when you’re looking for your system’s
root filesystem: Only the root kernel parameter will be the root filesystem
when you boot your system.
In the GRUB configuration, that kernel parameter is somewhere after
the image name of the linux command. Every other reference to root in the
configuration is to the GRUB root, which exists only inside of GRUB. The
GRUB “root” is the filesystem where GRUB searches for kernel and RAM
filesystem image files.
In Figure 5-2, the GRUB root is first set to a GRUB-specific device
(hd0,msdos1). Then in the following command, GRUB searches for a particular
UUID on a partition. If it finds that UUID, it sets the GRUB root to that
partition.
To wrap things up, the linux command’s first argument (/boot/vmlinuz-...)
is the location of the Linux kernel image file. GRUB loads this file from the
GRUB root. The initrd command is similar, specifying the file for the initial
RAM filesystem.
You can edit this configuration inside GRUB; doing so is usually the
easiest way to temporarily fix an erroneous boot. To permanently fix a
boot problem, you’ll need to change the configuration (see Section 5.5.2),
but for now, let’s go one step deeper and examine some GRUB internals
with the command-line interface.
5.5.1 Exploring Devices and Partitions with the GRUB Command Line
As you can see in Figure 5-2, GRUB has its own device-addressing scheme.
For example, the first hard disk found is hd0, followed by hd1, and so on.
But device assignments are subject to change. Fortunately, GRUB can search
all partitions for a UUID in order to find the one where the kernel resides, as
you just saw with the search command.
How the Linux Kernel Boots 101
Listing Devices
To get a feel for how GRUB refers to the devices on your system, access the
GRUB command line by pressing C at the boot menu or configuration editor.
You should get the GRUB prompt:
grub>
You can enter any command here that you see in a configuration, but to
get started, try a diagnostic command instead: ls. With no arguments, the
output is a list of devices known to GRUB:
grub> ls
(hd0) (hd0,msdos1) (hd0,msdos5)
In this case, there is one main disk device denoted by (hd0) and the
partitions (hd0,msdos1) and (hd0,msdos5). The msdos prefix on the partitions
tells you that the disk contains an MBR partition table; it would begin
with gpt for GPT. (You will find even deeper combinations with a third identifier,
where a BSD disklabel map resides inside a partition, but you won’t
normally have to worry about this unless you’re running multiple operating
systems on one machine.)
To get more detailed information, use ls -l. This command can be particularly
useful because it displays any UUIDs of the partitions on the disk.
For example:
grub> ls -l
Device hd0: Not a known filesystem - Total size 426743808 sectors
Partition hd0,msdos1: Filesystem type ext2 – Last modification time
2015-09-18 20:45:00 Friday, UUID 4898e145-b064-45bd-b7b4-7326b00273b7 -
Partition start at 2048 - Total size 424644608 sectors
Partition hd0,msdos5: Not a known filesystem - Partition start at
424648704 - Total size 2093056 sectors
This particular disk has a Linux ext2/3/4 filesystem on the first MBR
partition and a Linux swap signature on partition 5, which is a fairly common
configuration. (You can’t tell that (hd0,msdos5) is a swap partition
from this output, though.)
File Navigation
Now let’s look at GRUB’s filesystem navigation capabilities. Determine the
GRUB root with the echo command (recall that this is where GRUB expects
to find the kernel):
grub> echo $root
hd0,msdos1
102 Chapter 5
To use GRUB’s ls command to list the files and directories in that root,
you can append a forward slash to the end of the partition:
grub> ls (hd0,msdos1)/
But it’s a pain to remember and type the actual root partition, so use
the root variable to save yourself some time:
grub> ls ($root)/
The output is a short list of file and directory names on that partition’s
filesystem, such as etc/, bin/, and dev/. You should realize that this is now
a completely different function of the GRUB ls: Before, you were listing
devices, partition tables, and perhaps some filesystem header information.
Now you’re actually looking at the contents of filesystems.
You can take a deeper look into the files and directories on a partition
in a similar manner. For example, to inspect the /boot directory, start with
the following:
grub> ls ($root)/boot
NOTE Use the up and down arrow keys to flip through GRUB command history and the
left and right arrows to edit the current command line. The standard readline keys
(ctrl-N, ctrl-P, and so on) also work.
You can also view all currently set GRUB variables with the set command:
grub> set
?=0
color_highlight=black/white
color_normal=white/black
--snip--
prefix=(hd0,msdos1)/boot/grub
root=hd0,msdos1
One of the most important of these variables is $prefix, the filesystem
and directory where GRUB expects to find its configuration and auxiliary
support. We’ll explore this in the next section.
Once you’ve finished with the GRUB command-line interface, enter the
boot command to boot your current configuration or just press esc to return
to the GRUB menu. In any case, boot your system; we’re going to explore
the GRUB configuration, and that’s best done when you have your full system
available.
5.5.2 GRUB Configuration
The GRUB configuration directory contains the central configuration
file (grub.cfg) and numerous loadable modules with a .mod suffix.
How the Linux Kernel Boots 103
(As GRUB versions progress, these modules will move into subdirectories
such as i386-pc.) The directory is usually /boot/grub or /boot/grub2. We won’t
modify grub.cfg directly; instead, we’ll use the grub-mkconfig command (or
grub2-mkconfig on Fedora).
Reviewing Grub.cfg
First, take a quick look at grub.cfg to see how GRUB initializes its menu and
kernel options. You’ll see that the grub.cfg file consists of GRUB commands,
which usually begin with a number of initialization steps followed by a series
of menu entries for different kernel and boot configurations. The initialization
isn’t complicated; it’s a bunch of function definitions and video setup
commands like this:
if loadfont /usr/share/grub/unicode.pf2 ; then
set gfxmode=auto
load_video
insmod gfxterm
--snip--
Later in this file you should see the available boot configurations,
each beginning with the menuentry command. You should be able to read
and understand this example based on what you learned in the preceding
section:
menuentry 'Ubuntu, with Linux 3.2.0-34-generic-pae' --class ubuntu --class gnu-linux --class gnu
--class os {
recordfail
gfxmode $linux_gfx_mode
insmod gzio
insmod part_msdos
insmod ext2
set root='(hd0,msdos1)'
search --no-floppy --fs-uuid --set=root 70ccd6e7-6ae6-44f6-812c-51aab8036d29
linux /boot/vmlinuz-3.2.0-34-generic-pae root=UUID=70ccd6e7-6ae6-44f6-812c-51aab8036d29
ro quiet splash $vt_handoff
initrd /boot/initrd.img-3.2.0-34-generic-pae
}
Watch for submenu commands. If your grub.cfg file contains numerous
menuentry commands, most of them are probably wrapped up inside
a submenu command for older versions of the kernel so that they don’t
crowd the GRUB menu.
Generating a New Configuration File
If you want to make changes to your GRUB configuration, you won’t edit
your grub.cfg file directly because it’s automatically generated and the system
occasionally overwrites it. You’ll add your new configuration elsewhere,
then run grub-mkconfig to generate the new configuration.
104 Chapter 5
To see how the configuration generation works, look at the very beginning
of grub.cfg. There should be comment lines such as this:
### BEGIN /etc/grub.d/00_header ###
Upon further inspection, you’ll find that every file in /etc/grub.d is a
shell script that produces a piece of the grub.cfg file. The grub-mkconfig command
itself is a shell script that runs everything in /etc/grub.d.
Try it yourself as root. (Don’t worry about overwriting your current configuration.
This command by itself simply prints the configuration to the
standard output.)
# grub-mkconfig
What if you want to add menu entries and other commands to the
GRUB configuration? The short answer is that you should put your customizations
into a new custom.cfg file in your GRUB configuration directory,
such as /boot/grub/custom.cfg.
The long answer is a little more complicated. The /etc/grub.d configuration
directory gives you two options: 40_custom and 41_custom. The first,
40_custom, is a script that you can edit yourself, but it’s probably the least
stable; a package upgrade is likely to destroy any changes you make. The
41_custom script is simpler; it’s just a series of commands that load custom.cfg
when GRUB starts. (Keep in mind that if you choose this second option,
your changes won’t appear when you generate your configuration file.)
The two options for custom configuration files aren’t particularly extensive.
You’ll see additions in your particular distribution’s /etc/grub.d directory.
For example, Ubuntu adds memory tester boot options (memtest86+) to
the configuration.
To write and install a newly generated GRUB configuration file, you
can write the configuration to your GRUB directory with the -o option to
grub-mkconfig, like this:
# grub-mkconfig -o /boot/grub/grub.cfg
Or if you’re an Ubuntu user, just run install-grub. In any case, back up
your old configuration, make sure that you’re installing to the correct directory,
and so on.
Now we’re going to get into some of the more technical details of
GRUB and boot loaders. If you’re tired of hearing about boot loaders and
the kernel, feel free to skip to Chapter 6.
5.5.3 GRUB Installation
Installing GRUB is more involved than configuring it. Fortunately, you
won’t normally have to worry about installation because your distribution
should handle it for you. However, if you’re trying to duplicate or restore
a bootable disk, or preparing your own boot sequence, you might need to
install it on your own.
How the Linux Kernel Boots 105
Before proceeding, read Section 5.8.3 to get an idea of how PCs boot
and determine whether you’re using MBR or EFI boot. Next, build the
GRUB software set and determine where your GRUB directory will be;
the default is /boot/grub. You may not need to build GRUB if your distribution
does it for you, but if you do, see Chapter 16 for how to build software
from source code. Make sure that you build the correct target: It’s different
for MBR or UEFI boot (and there are even differences between 32-bit and
64-bit EFI).
Installing GRUB on Your System
Installing the boot loader requires that you or an installer determine the
following:
• The target GRUB directory as seen by your currently running system.
That’s usually /boot/grub, but it might be different if you’re installing
GRUB on another disk for use on another system.
• The current device of the GRUB target disk.
• For UEFI booting, the current mount point of the UEFI boot partition.
Remember that GRUB is a modular system, but in order to load modules,
it must read the filesystem that contains the GRUB directory. Your task
is to construct a version of GRUB capable of reading that filesystem so that
it can load the rest of its configuration (grub.cfg) and any required modules.
On Linux, this usually means building a version of GRUB with its ext2.mod
module preloaded. Once you have this version, all you need to do is place it
on the bootable part of the disk and place the rest of the required files into
/boot/grub.
Fortunately, GRUB comes with a utility called grub-install (not to be
confused with Ubuntu’s install-grub), which performs most of the work of
installing the GRUB files and configuration for you. For example, if your
current disk is at /dev/sda and you want to install GRUB on that disk with
your current /boot/grub directory, use this command to install GRUB on
the MBR:
# grub-install /dev/sda
WA RNIN G Incorrectly installing GRUB may break the bootup sequence on your system, so don’t
take this command lightly. If you’re concerned, read up on how to back up your MBR
with dd, back up any other currently installed GRUB directory, and make sure that
you have an emergency bootup plan.
Installing GRUB on an External Storage Device
To install GRUB on a storage device outside the current system, you must
manually specify the GRUB directory on that device as your current system
now sees it. For example, say that you have a target device of /dev/sdc and
that device’s root/boot filesystem (for example, /dev/sdc1) is mounted on
106 Chapter 5
/mnt of your current system. This implies that when you install GRUB, your
current system will see the GRUB files in /mnt/boot/grub. When running
grub-install, tell it where those files should go as follows:
# grub-install --boot-directory=/mnt/boot /dev/sdc
Installing GRUB with UEFI
UEFI installation is supposed to be easier, because you all you need to do is
copy the boot loader into place. But you also need to “announce” the boot
loader to the firmware with the efibootmgr command. The grub-install command
runs this if it’s available, so in theory all you need to do to install on
an UEFI partition is the following:
# grub-install --efi-directory=efi_dir –-bootloader-id=name
Here, efi_dir is where the UEFI directory appears on your current
system (usually /boot/efi/efi, because the UEFI partition is often mounted
at /boot/efi) and name is an identifier for the boot loader, as described in
Section 5.8.2.
Unfortunately, many problems can crop up when installing a UEFI
boot loader. For example, if you’re installing to a disk that will eventually
end up in another system, you have to figure out how to announce that boot
loader to the new system’s firmware. And there are differences in the install
procedure for removable media.
But one of the biggest problems is UEFI secure boot.
5.6 UEFI Secure Boot Problems
One of the newest problems affecting Linux installations is the secure
boot feature found on recent PCs. When active, this mechanism in UEFI
requires boot loaders to be digitally signed by a trusted authority in order
to run. Microsoft has required vendors shipping Windows 8 to use secure
boot. The result is that if you try to install an unsigned boot loader (which
is most current Linux distributions), it will not load.
The easiest way around this for anyone with no interest in Windows is to
disable secure boot in the EFI settings. However, this won’t work cleanly for
dual-boot systems and may not be an option for all users. Therefore, Linux
distributions are offering signed boot loaders. Some solutions are just frontends
to GRUB, some offer a fully signed loading sequence (from the boot
loader to the kernel), and others are entirely new boot loaders (some based
on efilinux).
5.7 Chainloading Other Operating Systems
UEFI makes it relatively easy to support loading other operating systems
because you can install multiple boot loaders in the EFI partition. However,
How the Linux Kernel Boots 107
the older MBR style doesn’t support it, and even if you do have UEFI, you
may still have an individual partition with an MBR-style boot loader that
you want to use. You can get GRUB to load and run a different boot loader
on a specific partition on your disk by chainloading.
To chainload, create a new menu entry in your GRUB configuration
(using one of the methods on page 103). Here’s an example for a Windows
installation on the third partition of a disk:
menuentry "Windows" {
insmod chain
insmod ntfs
set root=(hd0,3)
chainloader +1
}
The +1 option to chainloader tells it to load whatever is at the first sector
of a partition. You can also get it to directly load a file by using a line like
this to load the io.sys MS-DOS loader:
menuentry "DOS" {
insmod chain
insmod fat
set root=(hd0,3)
chainloader /io.sys
}
5.8 Boot Loader Details
Now we’ll look quickly at some boot loader internals. Feel free to skip to the
next chapter if this material doesn’t interest you.
To understand how boot loaders like GRUB work, let’s first survey how
a PC boots when you turn it on. Due to the repeated inadequacies of traditional
PC boot mechanisms, there are several variations, but there are two
main schemes: MBR and UEFI.
5.8.1 MBR Boot
In addition to the partition information described in Section 4.1, the Master
Boot Record (MBR) includes a small area (441 bytes) that the PC BIOS loads
and executes after its Power-On Self-Test (POST). Unfortunately, this is too
little storage to house almost any boot loader, so additional space is necessary,
resulting in what is sometimes called a multi-stage boot loader. In this
case the initial piece of code in the MBR does nothing other than load the
rest of the boot loader code. The remaining pieces of the boot loader are
usually stuffed into the space between the MBR and the first partition on
the disk.
Of course, this isn’t terribly secure because anything can overwrite
the code there, but most boot loaders do it, including most GRUB installations.
In addition, this scheme won’t work with a GPT-partitioned disk
108 Chapter 5
using the BIOS to boot because the GPT table information resides in the
area after the MBR. (GPT leaves the traditional MBR alone for backward
compatibility.)
The workaround for GPT is to create a small partition called a BIOS
boot partition with a special UUID to give the full boot loader code a place
to reside. But GPT is normally used with UEFI, not the traditional BIOS,
which leads us to the UEFI boot scheme.
5.8.2 UEFI Boot
PC manufacturers and software companies realized that the traditional PC
BIOS is severely limited, so they decided to develop a replacement called
Extensible
Firmware Interface (EFI). EFI took a while to catch on for most PCs,
but now it’s fairly common. The current standard is Unified EFI (UEFI), which
includes features such as a built-in shell and the ability to read partition
tables and navigate filesystems. The GPT partitioning scheme is part of the
UEFI standard.
Booting is radically different on UEFI systems and, for the most part,
much easier to understand. Rather than executable boot code residing outside
of a filesystem, there is always a special filesystem called the EFI System
Partition (ESP), which contains a directory named efi. Each boot loader has
its own identifier and a corresponding subdirectory, such as efi/microsoft,
efi/apple, or efi/grub. A boot loader file has an .efi extension and resides in
one of these subdirectories, along with other supporting files.
NOTE The ESP differs from the BIOS boot partition described in Section 5.8.1 and has a
different UUID.
There’s a wrinkle, though: You can’t just put old boot loader code into
the ESP because that code was written for the BIOS interface. Instead, you
must provide a boot loader written for UEFI. For example, when using
GRUB, you have to install the UEFI version of GRUB rather than the BIOS
version. In addition, you must “announce” new boot loaders to the firmware.
And, as mentioned in Section 5.6, we have the “secure boot” issue.
5.8.3 How GRUB Works
Let’s wrap up our discussion of GRUB by looking at how it does its work:
1. The PC BIOS or firmware initializes the hardware and searches its
boot-order storage devices for boot code.
2. Upon finding the boot code, the BIOS/firmware loads and executes it.
This is where GRUB begins.
3. The GRUB core loads.
4. The core initializes. At this point, GRUB can now access disks and
filesystems.
How the Linux Kernel Boots 109
5. GRUB identifies its boot partition and loads a configuration there.
6. GRUB gives the user a chance to change the configuration.
7. After a timeout or user action, GRUB executes the configuration (the
sequence of commands outlined in Section 5.5.2).
8. In the course of executing the configuration, GRUB may load additional
code (modules) in the boot partition.
9. GRUB executes a boot command to load and execute the kernel as specified
by the configuration’s linux command.
Steps 3 and 4 of the preceding sequence, where the GRUB core loads,
can be complicated due to the repeated inadequacies of traditional PC boot
mechanisms. The biggest question is “Where is the GRUB core?” There are
three basic possibilities:
• Partially stuffed between the MBR and the beginning of the first
partition
• In a regular partition
• In a special boot partition: a GPT boot partition, EFI System Partition
(ESP), or elsewhere
In all cases except where you have an ESP, the PC BIOS loads 512 bytes
from the MBR, and that is where GRUB starts. This little piece (derived from
boot.img in the GRUB directory) isn’t yet the core, but it contains the start
location of the core and loads the core from this point.
However, if you have an ESP, the GRUB core goes there as a file. The
firmware can navigate the ESP and directly execute the GRUB core or any
other operating system loader located there.
Still, on most systems, this is not the complete picture. The boot loader
might also need to load an initial RAM filesystem image into memory
before loading and executing the kernel. That’s what the initrd configuration
parameter in Section 6.8 specifies. But before you learn about the
initial RAM filesystem, you should learn about the user space start—that’s
where the next chapter begins.

6
How User Space Starts
The point where the kernel starts its first
user-space process, init, is significant—not
just because that’s where the memory and
CPU are finally ready for normal system operation,
but because that’s where you can see how the
rest of the system builds up as a whole. Prior to this
point, the kernel executes a well-controlled path of
execution defined by a relatively small number of software developers.
User space is far more modular. It’s much easier to see what goes into the
user space startup and operation. For the adventurous, it’s also relatively
easy to change the user space startup because doing so requires no lowlevel
programming.
User space starts in roughly this order:
1. init
2. Essential low-level services such as udevd and syslogd
3. Network configuration
112 Chapter 6
4. Mid- and high-level services (cron, printing, and so on)
5. Login prompts, GUIs, and other high-level applications
6.1 Introduction to init
The init program is a user-space program like any other program on the
Linux system, and you’ll find it in /sbin along with many of the other system
binaries. Its main purpose is to start and stop the essential service processes
on the system, but newer versions have more responsibilities.
There are three major implementations of init in Linux distributions:
System V init A traditional sequenced init (Sys V, usually pronounced
“sys-five”). Red Hat Enterprise Linux and several other distributions
use this version.
systemd The emerging standard for init. Many distributions have
moved to systemd, and most that have not yet done so are planning to
move to it.
Upstart The init on Ubuntu installations. However, as of this writing,
Ubuntu has also planned to migrate to systemd.
There are various other versions of init as well, especially on embedded
platforms. For example, Android has its own init. The BSDs also have
their version of init, but you are unlikely to see them on a modern Linux
machine. (Some distributions have also modified the System V init configuration
to resemble the BSD style.)
There are many different implementations of init because System V
init and other older versions relied on a sequence that performed only one
startup task at a time. Under this scheme, it is relatively easy to resolve dependencies.
However, performance isn’t terribly good, because two parts of the
boot sequence cannot normally run at once. Another limitation is that you
can only start a fixed set of services as defined by the boot sequence: When
you plug in new hardware or need a service that isn’t already running, there
is no standardized way to coordinate the new components with init.
systemd and Upstart attempt to remedy the performance issue by allowing
many services to start in parallel thereby speeding up the boot process.
Their implementations are quite different, though:
• systemd is goal oriented. You define a target that you want to achieve,
along with its dependencies, and when you want to reach the target.
systemd satisfies the dependencies and resolves the target. systemd can
also defer the start of a service until it is absolutely needed.
• Upstart is reactionary. It receives events and, based on those events,
runs jobs that can in turn produce more events, causing Upstart to
run more jobs, and so on.
The systemd and Upstart init systems also offer a more advanced way
to start and track services. In traditional init systems, service daemons are
How User Space Starts 113
expected to start themselves from scripts. A script runs a daemon program,
which detaches itself from the script and runs autonomously. To find the
PID of a service daemon, you need to use ps or some other mechanism specific
to the service. In contrast, Upstart and systemd can manage individual
service daemons from the beginning, giving the user more power and
insight into exactly what is running on the system.
Because the new init systems are not script-centric, configuring services
for them also tends to be easier. In particular, System V init scripts
tend to contain many similar commands designed to start, stop, and restart
services. You don’t need all of this redundancy with systemd and Upstart,
which allow you to concentrate on the services themselves, rather than their
scripts.
Finally, systemd and Upstart both offer some level of on-demand services.
Rather than trying to start all the services that may be necessary at boot time
(as the System V init would do), they start some services only when needed.
This idea is not really new; this was done with the traditional inetd daemon,
but the new implementations are more sophisticated.
Both systemd and Upstart offer some System V backward compatibility.
For example, both support the concept of runlevels.
6.2 System V Runlevels
At any given time on a Linux system, a certain base set of processes (such
as crond and udevd) is running. In System V init, this state of the machine is
called its runlevel, which is denoted by a number from 0 through 6. A system
spends most of its time in a single runlevel, but when you shut the machine
down, init switches to a different runlevel in order to terminate the system
services in an orderly fashion and to tell the kernel to stop.
You can check your system’s runlevel with the who -r command. A system
running Upstart responds with something like this:
$ who -r
run-level 2 2015-09-06 08:37
This output tells us that the current runlevel is 2, as well as the date and
time that the runlevel was established.
Runlevels serve various purposes, but the most common one is to distinguish
between system startup, shutdown, single-user mode, and console
mode states. For example, Fedora-based systems traditionally used runlevels
2 through 4 for the text console; a runlevel of 5 means that the system will
start a GUI login.
But runlevels are becoming a thing of the past. Even though all three init
versions in this book support them, systemd and Upstart consider runlevels
obsolete as end states for the system. To systemd and Upstart, runlevels exist
primarily to start services that support only the System V init scripts, and the
implementations are so different that even if you’re familiar with one type of
init, you won’t necessarily know what to do with another.
114 Chapter 6
6.3 Identifying Your init
Before proceeding, you need to determine your system’s version of init. If
you’re not sure, check your system as follows:
• If your system has /usr/lib/systemd and /etc/systemd directories, you have
systemd. Go to Section 6.4.
• If you have an /etc/init directory that contains several .conf files, you’re
probably running Upstart (unless you’re running Debian 7, in which
case you probably have System V init). Go to Section 6.5.
• If neither of the above is true, but you have an /etc/inittab file, you’re
probably running System V init. Go to Section 6.6.
If your system has manual pages installed, viewing the init(8) manual
page should help identify your version.
6.4 systemd
The systemd init is one of the newest init implementations on Linux. In
addition to handling the regular boot process, systemd aims to incorporate
a number of standard Unix services such as cron and inetd. As such, it takes
some inspiration from Apple’s launchd. One of its most significant features
is its ability to defer the start of services and operating system features until
they are necessary.
There are so many systemd features that it can be very difficult to know
where to start learning the basics. Let’s outline what happens when systemd
runs at boot time:
1. systemd loads its configuration.
2. systemd determines its boot goal, which is usually named default.target.
3. systemd determines all of the dependencies of the default boot goal,
dependencies of these dependencies, and so on.
4. systemd activates the dependencies and the boot goal.
5. After boot, systemd can react to system events (such as uevents) and
activate additional components.
When starting services, systemd does not follow a rigid sequence. As
with other modern init systems, there is a considerable amount of flexibility
in the systemd bootup process. Most systemd configurations deliberately try
to avoid any kind of startup sequence, preferring to use other methods to
resolve strict dependencies.
6.4.1 Units and Unit Types
One of the most interesting things about systemd is that it does not just
operate processes and services; it can also mount filesystems, monitor
How User Space Starts 115
network sockets, run timers, and more. Each type of capability is called a
unit type, and each specific capability is called a unit. When you turn on a
unit, you activate it.
Rather than describe all of the unit types (you’ll find them in the
systemd(1) manual page), here’s a look at a few of the unit types that
perform the boot-time tasks required in any Unix system:
Service units Control the traditional service daemons on a Unix
system.
Mount units Control the attachment of filesystems to the system.
Target units Control other units, usually by grouping them.
The default boot goal is usually a target unit that groups together a
number of service and mount units as dependencies. As a result, it’s easy to
get a partial picture of what’s going to happen when you boot, and you can
even create a dependency tree diagram with the systemctl dot command.
You’ll find the tree to be quite large on a typical system, because many units
don’t run by default.
Figure 6-1 shows a part of the dependency tree for the default.target
unit found on a Fedora system. When you activate that unit, all of the units
below it on the tree also activate.
default.target
multi-user.target
basic.target crond.service syslog.service
iptables.service
Figure 6-1: Unit dependency tree
6.4.2 systemd Dependencies
Boot-time and operational dependencies are more complicated than they
may seem at first because strict dependencies are too inflexible. For example,
imagine a scenario in which you want to display a login prompt after starting
a database server, so you define a dependency from the login prompt to
116 Chapter 6
the database server. However, if the database server fails, the login prompt
will also fail due to that dependency, and you won’t even be able to log in to
your machine to fix it.
Unix boot-time tasks are fairly fault tolerant and can often fail without
causing serious problems for standard services. For example, if a data disk
for a system was removed but its /etc/fstab entry remained, the initial filesystem
mount would fail. However, that failure typically wouldn’t seriously
affect standard operating system operation.
To accommodate the need for flexibility and fault tolerance, systemd
offers a myriad of dependency types and styles. We’ll label them by their
keyword syntax, and but we won’t go into details about configuration syntax
until Section 6.4.3. Let’s first look at the basic types:
Requires Strict dependencies. When activating a unit with a Requires
dependency unit, systemd attempts to activate the dependency unit. If
the dependency unit fails, systemd deactivates the dependent unit.
Wants Dependencies for activation only. Upon activating a unit, systemd
activates the unit’s Wants dependencies, but it doesn’t care if those
dependencies fail.
Requisite Units that must already be active. Before activating a unit
with a Requisite dependency, systemd first checks the status of the
dependency. If the dependency has not been activated, systemd fails
on activation of the unit with the dependency.
Conflicts Negative dependencies. When activating a unit with a
Conflict dependency, systemd automatically deactivates the dependency
if it is active. Simultaneous activation of two conflicting units fails.
NOT E The Wants dependency type is especially significant because it does not propagate failures
to other units. The systemd documentation states that this is the way you should
specify dependencies if possible, and it’s easy to see why. This behavior produces a
much more robust system, similar to that of a traditional init.
You can also attach dependencies “in reverse.” For example, in order
to add Unit A as a Wants dependency to Unit B, you don’t have to add the
Wants in Unit B’s configuration. Instead, you can install it as a WantedBy
in Unit A’s configuration. The same is true of the RequiredBy dependency.
The configuration for (and result of) a “By” dependency is slightly more
involved than just editing a configuration file; see “Enabling Units and the
[Install] Section” on page 119.
You can view a unit’s dependencies with the systemctl command, as long
as you specify a type of dependency, such as Wants or Requires:
# systemctl show -p type unit
How User Space Starts 117
Ordering
None of the dependency syntax that you’ve seen so far explicitly specifies
order. By default, activating a unit with a Requires or Wants causes systemd
to activate all of these dependencies at the same time as the first unit. This
is optimal, because you want to start as many services as possible as quickly
as possible to reduce boot time. However, there are situations when one
unit must start after another. For instance, in the system that Figure 6-1
is based on, the default.target unit is set to start after multi-user.service (this
order distinction is not shown in the figure).
To activate units in a particular order, you can use the following dependency
modifiers:
Before The current unit will activate before the listed unit(s). For
example, if Before=bar.target appears in foo.target, systemd activates
foo.target before bar.target.
After The current unit activates after the listed unit(s).
Conditional Dependencies
Several dependency condition keywords operate on various operation system
states rather than systemd units. For example:
ConditionPathExists=p: True if the (file) path p exists in the system.
ConditionPathIsDirectory=p: True if p is a directory.
ConditionFileNotEmpty=p: True if p is a file and it’s not zero-length.
If a conditional dependency in a unit is false when systemd tries to activate
the unit, the unit does not activate, though this applies only to the unit
in which it appears. Therefore, if you activate a unit that has a condition
dependency as well as some other unit dependencies, systemd attempts to
activate the unit dependencies regardless of whether the condition is true
or false.
Other dependencies are primarily variations on the preceding. For
example, the RequiresOverridable dependency is just like Requires when
running normally, but it acts like a Wants dependency if a unit is manually
activated. (For a full list, see the systemd.unit(5) manual page.)
Now that you’ve seen some of the a few pieces of the systemd configuration,
let’s look at some actual unit files and how to work with them.
6.4.3 systemd Configuration
The systemd configuration files are spread among many directories across
the system, so you typically won’t find the files for all of the units on a
system in one place. That said, there are two main directories for systemd
configuration: the system unit directory (globally configured, usually
/usr/lib/systemd/system) and a system configuration directory (local definitions,
usually /etc/systemd/system).
118 Chapter 6
To prevent confusion, stick to this rule: Avoid making changes to the
system unit directory because your distribution will maintain it for you.
Make your local changes to the system configuration directory. So when
given the choice between modifying something in /usr and /etc, always
change /etc.
NOT E You can check the current systemd configuration search path (including precedence)
with this command:
# systemctl -p UnitPath show
However, this particular setting comes from a third source: pkg-config settings.
To see the system unit and configuration directories on your system, use the following
commands:
$ pkg-config systemd –-variable=systemdsystemunitdir
$ pkg-config systemd --variable=systemdsystemconfdir
Unit Files
Unit files are derived from the XDG Desktop Entry Specification (for
.desktop files, which are very similar to .ini files on Microsoft systems),
with section names in brackets ([]) and variable and value assignments
(options) in each section.
Consider the example unit file media.mount in /usr/lib/systemd/system,
which is standard on Fedora installations. This file represents the /media tmpfs
filesystem, which is a container directory for mounting removable media.
[Unit]
Description=Media Directory
Before=local-fs.target
[Mount]
What=tmpfs
Where=/media
Type=tmpfs
Options=mode=755,nosuid,nodev,noexec
There are two sections here. The [Unit] section gives some details about
the unit and contains description and dependency information. In particular,
this unit is set to activate before the local-fs.target unit.
The [Mount] section details the unit as being a mount unit, and it gives the
details on the mount point, the type of filesystem, and the mount options as
described in Section 4.2.6. The What= variable identifies the device or UUID
of the device to mount. Here, it’s set to tmpfs because this filesystem does not
have a device. (For a full list of mount unit options, see the systemd.mount(5)
manual page.)
How User Space Starts 119
Many other unit configuration files are similarly straightforward. For
example, the service unit file sshd.service enables secure shell logins:
[Unit]
Description=OpenSSH server daemon
After=syslog.target network.target auditd.service
[Service]
EnvironmentFile=/etc/sysconfig/sshd
ExecStartPre=/usr/sbin/sshd-keygen
ExecStart=/usr/sbin/sshd -D $OPTIONS
ExecReload=/bin/kill -HUP $MAINPID
[Install]
WantedBy=multi-user.target
Because this is a service target, you’ll find the details about the service
in the [Service] section, including how to prepare, start, and reload the service.
You’ll find a complete listing in the systemd.service(5) manual page
(and in systemd.exec(5)), as well as in the discussion of process tracking in
Section 6.4.6.
Enabling Units and the [Install] Section
The [Install] section in the sshd.service unit file is important because it
helps us to understand how to use systemd’s WantedBy and RequiredBy
dependency options. It’s actually a mechanism for enabling units without
modifying any configuration files. During normal operation, systemd
ignores the [Install] section. However, consider the case when sshd.service
is disabled on your system and you would like to turn it on. When you
enable a unit, systemd reads the [Install] section; in this case, enabling
the sshd.service unit causes systemd to see the WantedBy dependency for
multi-user.target. In response, systemd creates a symbolic link to sshd.service
in the system configuration directory as follows:
ln -s '/usr/lib/systemd/system/sshd.service' '/etc/systemd/system/multi-user.
target.wants/sshd.service'
Notice that the symbolic link is placed into a subdirectory corresponding
to the dependent unit (multi-user.target in this case).
The [Install] section is usually responsible for the the .wants and .requires
directories in the system configuration directory (/etc/systemd/system). However,
there are also .wants directories in the unit configuration directory
(/usr/lib/systemd/system), and you may also add links that don’t correspond
to [Install] sections in the unit files. These manual additions are a simple
way to add a dependency without modifying a unit file that may be overwritten
in the future (by a software upgrade, for instance).
120 Chapter 6
NOT E Enabling a unit is different from activating a unit. When you enable a unit, you are
installing it into systemd’s configuration, making semipermanent changes that will
survive a reboot. But you don’t always need to explicitly enable a unit. If the unit file
has an [Install] section, you must enable it with systemctl enable; otherwise, the
existence of the file is enough to enable it. When you activate a unit with systemctl
start, you’re just turning it on in the current runtime environment. In addition,
enabling a unit does not activate it.
Variables and Specifiers
The sshd.service unit file also shows use of variables—specifically, the $OPTIONS
and $MAINPID environment variables that are passed in by systemd. $OPTIONS are
options that you can pass to sshd when you activate the unit with systemctl,
and $MAINPID is the tracked process of the service (see Section 6.4.6).
A specifier is another variable-like feature often found in unit files.
Specifiers start with a percent (%). For example, the %n specifier is the current
unit name, and the %H specifier is the current hostname.
NOT E The unit name can contain some interesting specifiers. You can parameterize a single
unit file in order to spawn multiple copies of a service, such as getty processes running
on tty1, tty2, and so on. To use these specifiers, add the @ symbol to the end of
the unit name. For getty, create a unit file named getty@.service, which allows you
to refer to units such as getty@tty1 and getty@tty2. Anything after the @ is called
the instance, and when processing the unit file, systemd expands the %I specifier to
the instance. You can see this in action with the getty@.service unit files that come
with most distributions running systemd.
6.4.4 systemd Operation
You’ll interact with systemd primarily through the systemctl command,
which allows you to activate and deactivate services, list status, reload the
configuration, and much more.
The most essential basic commands deal with obtaining unit information.
For example, to view a list of active units on your system, issue a
list-units command. (This is actually the default command for systemctl,
so you don’t really need the list-units part.):
$ systemctl list-units
The output format is typical of a Unix information-listing command.
For example, the header and the line for media.mount would look like this:
UNIT LOAD ACTIVE SUB JOB DESCRIPTION
media.mount loaded active mounted Media Directory
This command produces a lot of output, because a typical system
has numerous active units, but it will still be abridged because systemctl
How User Space Starts 121
truncates any really large unit names. To see the full names of the units,
use the --full option, and to see all units (not just active), use the --all
option.
A particularly useful systemctl operation is getting the status of a unit.
For example, here is a typical status command and its output:
$ systemctl status media.mount
media.mount - Media Directory
Loaded: loaded (/usr/lib/systemd/system/media.mount; static)
Active: active (mounted) since Wed, 13 May 2015 11:14:55 -0800;
37min ago
Where: /media
What: tmpfs
Process: 331 ExecMount=/bin/mount tmpfs /media -t tmpfs -o
mode=755,nosuid,nodev,noexec (code=exited, status=0/SUCCESS)
CGroup: name=systemd:/system/media.mount
Notice that there is much more information output here than you
would see on any traditional init system. You get not only the state of the
unit but also the exact command used to perform the mount, its PID, and
its exit status.
One of the most interesting pieces of the output is the control group
name. In the preceding example, the control group doesn’t include any
information other than the name systemd:/system/media.mount because the
unit’s processes have already terminated. However, if you get the status of
a service unit such as NetworkManager.service, you’ll also see the process tree
of the control group. You can view control groups without the rest of the
unit status with the systemd-cgls command. You’ll learn more about control
groups in Section 6.4.6.
The status command also displays recent information from the unit’s
journal (a log that records diagnostic information for each unit). You can
view a unit’s entire journal with this command:
$ journalctl _SYSTEMD_UNIT=unit
(This syntax is a bit odd because journalctl can access the logs of more
than just a systemd unit.)
To activate, deactivate, and restart units, use the systemd start, stop, and
restart commands. However, if you’ve changed a unit configuration file, you
can tell systemd to reload the file in one of two ways:
systemctl reload unit Reloads just the configuration for unit.
systemctl daemon-reload Reloads all unit configurations.
Requests to activate, reactivate, and restart units are known as jobs in
systemd, and they are essentially unit state changes. You can check the current
jobs on a system with
$ systemctl list-jobs
122 Chapter 6
If a system has been running for some time, you can reasonably expect
there to be no active jobs on it because all of the activations should be complete.
However, at boot time, you can sometimes log in fast enough to see
some units start so slowly that they are not yet fully active. For example:
JOB UNIT TYPE STATE
1 graphical.target start waiting
2 multi-user.target start waiting
71 systemd-...nlevel.service start waiting
75 sm-client.service start waiting
76 sendmail.service start running
120 systemd-...ead-done.timer start waiting
In this case, job 76, the sendmail.service unit startup, is taking a really
long time. The other listed jobs are in a waiting state, most likely because
they’re all waiting for job 76. When sendmail.service finishes starting and
becomes fully active, job 76 will complete, the rest of the jobs will also complete,
and the job list will be empty.
NOT E The term job can be confusing, especially because Upstart, another init system
described in this chapter, uses the word job to (roughly) refer to what systemd calls a
unit. It’s important to remember that although a systemd job associated with a unit
will terminate, the unit itself can be active and running afterwards, especially in the
case of service units.
See Section 6.7 for how to shut down and reboot the system.
6.4.5 Adding Units to systemd
Adding units to systemd is primarily a matter of creating, then activating
and possibly enabling, unit files. You should normally put your own unit
files in the system configuration directory /etc/systemd/system so that you
won’t confuse them with anything that came with your distribution and
so that the distribution won’t overwrite them when you upgrade.
Because it’s easy to create target units that don’t do anything and don’t
interfere with anything, you should try it. Here’s how to create two targets,
one with a dependency on the other:
1. Create a unit file named test1.target:
[Unit]
Description=test 1
2. Create a test2.target file with a dependency on test1.target:
[Unit]
Description=test 2
Wants=test1.target
How User Space Starts 123
3. Activate the test2.target unit (remember that the dependency in
test2.target causes systemd to activate test1.target when you do this):
# systemctl start test2.target
4. Verify that both units are active:
# systemctl status test1.target test2.target
test1.target - test 1
Loaded: loaded (/etc/systemd/system/test1.target; static)
Active: active since Thu, 12 Nov 2015 15:42:34 -0800; 10s ago
test2.target - test 2
Loaded: loaded (/etc/systemd/system/test2.target; static)
Active: active since Thu, 12 Nov 2015 15:42:34 -0800; 10s ago
NOT E If your unit file has an [Install] section, “enable” the unit before activating it:
# systemctl enable unit
Try this with the preceding example. Remove the dependency from test2.target
and add an [Install] section to test1.target containing WantedBy=test2.target.
Removing Units
To remove a unit, follow these steps:
1. Deactivate the unit if necessary:
# systemctl stop unit
2. If the unit has an [Install] section, disable the unit to remove any
dependent symbolic links:
# systemctl disable unit
3. Remove the unit file, if you like.
6.4.6 systemd Process Tracking and Synchronization
systemd wants a reasonable amount of information and control over every
process that it starts. The main problem that it faces is that a service can
start in different ways; it may fork new instances of itself or even daemonize
and detach itself from the original process.
To minimize the work that a package developer or administrator
needs to do in order to create a working unit file, systemd uses control
groups (cgroups), an optional Linux kernel feature that allows for finer
tracking of a process hierarchy. If you’ve worked with Upstart before, you
124 Chapter 6
know that you have to do a little extra work to figure out what the main
process is for a service. In systemd, you don’t have to worry about how
many times a process forks—just whether it forks. Use the Type option in
your service unit file to indicate its startup behavior. There are two basic
startup styles:
Type=simple The service process doesn’t fork.
Type=forking The service forks, and systemd expects the original service
process to terminate. Upon termination, systemd assumes that the
service is ready.
The Type=simple option doesn’t account for the fact that a service may
take some time to set up, and systemd doesn’t know when to start any dependencies
that absolutely require such a service to be ready. One way to deal
with this is to use delayed startup (see Section 6.4.7). However, some Type
startup styles can indicate that the service itself will notify systemd when it
is ready:
Type=notify The service sends a notification specific to systemd (with
the sd_notify() function call) when it’s ready.
Type=dbus The service registers itself on the D-bus (Desktop Bus) when
it’s ready.
Another service startup style is specified with Type=oneshot; here the
service process actually terminates completely when it’s finished. With such
a service, you will almost certainly need to add a RemainAfterExit=yes option
so that systemd will still regard the service as active even after its processes
terminate.
Finally, there’s one last style: Type=idle. This simply instructs systemd not
to start the service until there are no active jobs. The idea here is just to delay
a service start until other services have started to keep the system load down,
or to keep services from stepping on one another’s output. (Remember, once
a service has started, the systemd job that started the service terminates.)
6.4.7 systemd On-Demand and Resource-Parallelized Startup
One of systemd’s most significant features is its ability to delay a unit startup
until it is absolutely needed. The setup typically works like this:
1. You create a systemd unit (call it Unit A) for the system service that
you’d like to provide, as normal.
2. You identify a system resource such as a network port/socket, file, or
device that Unit A uses to offer its services.
3. You create another systemd unit, Unit R, to represent that resource.
These units have special types such as socket units, path units, and
device units.
How User Space Starts 125
Operationally, it goes like this:
1. Upon activation of Unit R, systemd monitors the resource.
2. When anything tries to access the resource, systemd blocks the resource,
and the input to the resource is buffered.
3. systemd activates Unit A.
4. When the service from Unit A is ready, it takes control of the resource,
reads the buffered input, and runs normally.
There are a few concerns:
• You must make sure that your resource unit covers every resource that
the service provides. This normally isn’t a problem, as most services
have just one point of access.
• You need to make sure your resource unit is tied to the service unit that
it represents. This can be implicit or explicit, and in some cases, many
options represent different ways for systemd to perform the handoff to
the service unit.
• Not all servers know how to interface with the units that systemd can
provide.
If you already know what utilities like inetd, xinetd, and automount do,
you’ll see that there are a lot of similarities. Indeed, the concept is nothing
new (and in fact, systemd includes support for automount units). We’ll go
over an example of a socket unit on page 127. But let’s first take a look at
how these resource units help you at boot time.
Boot Optimization with Auxiliary Units
A common style of unit activation in systemd attempts to simplify dependency
order and speed up boot time. It’s similar to on-demand startup in
that a service unit and an auxiliary unit represent the service unit’s offered
resource, except that in this case systemd starts the service unit as soon as it
activates the auxiliary unit.
The reasoning behind this scheme is that essential boot-time service
units such as syslog and dbus take some time to start, and many other units
depend on them. However, systemd can offer a unit’s essential resource
(such as a socket unit) very quickly, and then it can immediately activate
not only the essential unit but also any units that depend on the essential
resource. Once the essential unit is ready, it takes control of the resource.
Figure 6-2 shows how this might work in a traditional system. In this
boot timeline, Service E provides an essential Resource R. Services A, B,
and C depend on this resource and must wait until Service E has started.
When booting, the system takes quite a long time to get around to starting
Service C.
126 Chapter 6
Starting
Starting
Starting
Starting
Started; Resource R ready
Started
Started
Service E
Service A
Service B
Service C
Figure 6-2: Sequential boot timeline with a resource dependency
Figure 6-3 shows an equivalent systemd boot configuration. The services
are represented by Units A, B, C, and E, and a new Unit R represents
the resource that Unit E provides. Because systemd can provide an interface
for Unit R while Unit E starts, Units A, B, C, and E can all be started
at the same time. Unit E takes over for Unit R when ready. (An interesting
point here is that Units A, B, and C may not need to explicitly access Unit R
before they finish their startup, as Unit B in the figure demonstrates.)
Starting
Starting
Starting
Starting
Started; takes over for Unit R
Started
Started
Unit E
Unit A
Unit B
Unit C
Started
Available
Unit R
Figure 6-3: systemd boot timeline with a resource unit
NOT E When parallelizing startup like this, there is a chance that your system may slow
down temporarily due to a large number of units starting at once.
How User Space Starts 127
The takeaway is that, although you’re not creating an on-demand
unit startup in this case, you’re using the same features that make ondemand
startup possible. For common real-life examples, see the syslog
and D-Bus configuration units on a machine running systemd; they’re very
likely to be parallelized in this way.
An Example Socket Unit and Service
We’ll now look at an example, a simple network echo service that uses a
socket unit. This is somewhat advanced material, and you may not really
understand it until you’ve read the discussion of TCP, ports, and listening
in Chapter 9 and sockets in Chapter 10, so feel free to skip this and come
back later.
The idea behind this service is that when a network client connects to
the service, the service repeats anything that the client sends back to the
client. The unit will listen on TCP port 22222. We’ll call it the echo service
and start with a socket unit, represented by the following echo.socket unit file:
[Unit]
Description=echo socket
[Socket]
ListenStream=22222
Accept=yes
Note that there’s no mention of the service unit that this socket supports
inside the unit file. So what is the corresponding service unit file?
Its name is echo@.service. The link is done by naming convention; if a
service unit file has the same prefix as a .socket file (in this case, echo), systemd
knows to activate that service unit when there’s activity on the socket unit.
In this case, systemd creates an instance of echo@.service when there’s activity
on echo.socket.
Here is the echo@.service unit file:
[Unit]
Description=echo service
[Service]
ExecStart=-/bin/cat
StandardInput=socket
NOT E If you don’t like the implicit activation of units based on the prefixes, or you need to create
an activation mechanism between two units with different prefixes, you can use an
explicit option in the unit defining your resource. For example, use Socket=bar.socket
inside foo.service to have bar.socket hand its socket to foo.service.
128 Chapter 6
To get this example service unit running, you need to start the echo.socket
unit behind it, like this:
# systemctl start echo.socket
Now you can test the service by connecting to your local port 22222.
When the following telnet command connects, type anything and press
enter. The service repeats what you typed back to you:
$ telnet localhost 22222
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
Hi there.
Hi there.
When you’re bored with this, press ctrl-] on a line by itself, and then
ctrl-D. To stop the service, stop the socket unit:
# systemctl stop echo.socket
Instances and Handoff
Because the echo@.service unit supports multiple simultaneous instances,
there’s an @ in the name (recall from page 120 that @ signifies parameterization).
Why would you want multiple instances? The reason is that you
may have more than one network client connecting to the service at the
same time, and each connection should have its own instance.
In this case, the service unit must support multiple instances because
of the Accept option in echo.socket. That option instructs systemd not only
to listen on the port, but also to accept incoming connections and pass
the incoming connections on to the service unit, with each connection a
separate instance. Each instance reads data from the connection as standard
input, but it doesn’t necessarily need to know that the data is coming
from a network connection.
NOT E Most network connections require more flexibility than just a simple gateway to standard
input and output, so don’t expect to be able to create network services with a
service unit file like the echo@.service unit file shown here.
Although the service unit could do all of the work of accepting the connection,
it wouldn’t have the @ in its name if it did. In that case, it would
take complete control of the socket, and systemd wouldn’t attempt to listen
on the network port again until the service unit has finished.
The many different resources and options for handoff to service units
make it difficult to provide a categorical summary. Also, the documentation
for the options is spread out over several manual pages. The ones to check
for the resource-oriented units are systemd.socket(5), systemd.path(5), and
How User Space Starts 129
systemd.device(5). One document that’s often overlooked for service units
is systemd.exec(5), which contains information about how the service unit
can expect to receive a resource upon activation.
6.4.8 systemd System V Compatibility
One feature that sets systemd apart from other newer-generation init systems
is that it tries to do a more complete job of tracking services started by
System V–compatible init scripts. It works like this:
1. First, systemd activates runlevel<N>.target, where N is the runlevel.
2. For each symbolic link in /etc/rc<N>.d, systemd identifies the script
in /etc/init.d.
3. systemd associates the script name with a service unit (for example,
/etc/init.d/foo would be foo.service).
4. systemd activates the service unit and runs the script with either a start
or stop argument, based on its name in rc<N>.d.
5. systemd attempts to associate any processes from the script with the
service unit.
Because systemd makes the association with a service unit name, you
can use systemctl to restart the service or view its status. But don’t expect
any miracles from System V compatibility mode; it still must run the init
scripts serially, for example.
6.4.9 systemd Auxiliary Programs
When starting out with systemd, you may notice the exceptionally large
number of programs in /lib/systemd. These are primarily support programs
for units. For example, udevd is part of systemd, and you’ll find it there as
systemd-udevd. Another, the systemd-fsck program, works as a middleman
between systemd and fsck.
Many of these programs exist because they contain notification mechanisms
that the standard system utilities lack. Often, they simply run the
standard system utilities and notify systemd of the results. (After all, it
would be silly to try to reimplement all of fsck inside systemd.)
NOT E One other interesting aspect of these programs is that they are written in C, because
one goal of systemd is to reduce the number of shell scripts on a system. There is some
debate as to whether it’s a good idea to do so (after all, many of these programs could
probably be written as shell scripts), but as long as everything works and does so reliably,
securely, and reasonably quickly, there’s little reason to bother taking sides.
When you see a program in /lib/systemd that you can’t identify, see the
manual page. There’s a good chance that the manual page will not only
describe the utility but also describe the type of unit that it’s meant to
augment.
130 Chapter 6
If you’re not running (or interested in) Upstart, skip ahead to Section 6.6
for an overview of the System V init process.
6.5 Upstart
The Upstart version of init revolves around jobs and events. Jobs are startup
and runtime actions for Upstart to perform (such as system services and
configuration), and events are messages that Upstart receives from itself or
other processes (such as udevd). Upstart works by starting jobs in response
to events.
To get an idea of how this works, consider the udev job for starting the
udevd daemon. Its configuration file is typically /etc/init/udev.conf, which
includes the following:
start on virtual-filesystems
stop on runlevel [06]
These lines mean that Upstart starts the udev job upon receiving the
virtual-filesystems event, and it stops the job upon receiving a runlevel
event with an argument of 0 or 6.
There are many variations on events and their arguments. For example,
Upstart can react to events emitted in response to job status, such as the
started udev event emitted by the udev job above. But before explaining jobs
in detail, here’s a high-level overview of how Upstart works.
6.5.1 Upstart Initialization Procedure
Upon startup, Upstart does the following:
1. Loads its configuration and the job configuration files in /etc/init.
2. Emits the startup event.
3. Runs jobs configured to start upon receiving the startup event.
4. These initial jobs emit their own events, triggering more jobs and events.
Upon finishing all jobs associated with a normal startup, Upstart continues
to monitor and react to events during the entire system uptime.
Most Upstart installations run like this:
1. The most significant job that Upstart runs in response to the startup
event is mountall. This job attaches all necessary local and virtual filesystems
to the currently running system so that everything else can run.
2. The mountall job emits a number of events, including filesystem,
virtual-filesystems, local-filesystems, remote-filesystems, and all-swaps,
among others. These events indicate that the important filesystems on
the system are now attached and ready.
3. In response to these events, Upstart starts a number of essential service
jobs. For example, udev starts in response to the virtual-filesystems
event, and dbus starts in response to the local-filesystems event.
How User Space Starts 131
4. Among the essential service jobs, Upstart starts the network-interfaces
job, usually in response to the local-filesystems event and udevd being
ready.
5. The network-interfaces job emits the static-network-up event.
6. Upstart runs the rc-sysinit job in response to the filesystem and
static-network-up events. This job is responsible for maintaining the
system’s current runlevel, and when started for the first time without
a runlevel, it switches the system to the default runlevel by emitting a
runlevel event.
7. Upstart runs most of the other startup jobs on the system in response to
the runlevel event and the new runlevel.
The process can become complicated because it’s not always clear
where events originate. Upstart emits only a few events, and the rest come
from jobs. Job configuration files usually declare the events that they will
emit, but the details of how the job emits the events are usually not in the
Upstart job configuration files.
To get to the bottom of things, you’ll often have to dig. For example,
consider the static-network-up event. The network-interface.conf job configuration
file says that it emits this event, but it doesn’t say where. It turns out
that the event stems from the ifup command, which this job runs when initializing
a network interface in the /etc/network/if-up.d/upstart script.
NOT E Though all of this is documented (the ifup.d directory is in the interfaces(5) manual
page referenced by the ifup(8) manual page), it can be challenging to find out how
this all works just by reading the documentation. It’s usually faster to grep the event
name in a lot of configuration files to see what comes up, then to try to piece everything
back together from there.
One issue with Upstart is that there’s currently no clear way to view
events. You can turn its log priority to debug, which will cause it to log
everything that comes in (typically to /var/log/syslog), but the copious
amount of extraneous information in this file makes it difficult to determine
an event’s context.
6.5.2 Upstart Jobs
Each file in the Upstart /etc/init configuration directory corresponds to a
job, and the main configuration file for each job has a .conf extension. For
example, /etc/init/mountall.conf defines the mountall job.
There are two primary kinds of Upstart jobs:
Task jobs These are jobs with a clear end. For example, mountall is a
task job because it terminates when finished mounting filesystems.
Service jobs These jobs have no defined stop. Servers (daemons) such
as udevd, database servers, and web servers are all service jobs.
A third kind of job is an abstract job. Think of this as a kind of virtual
service job. Abstract jobs exist only in Upstart and start nothing by
132 Chapter 6
themselves, but they are sometimes used as management tools for other
jobs because other jobs can start and stop based on the events coming from
an abstract job.
Viewing Jobs
You can view Upstart jobs and job status with the initctl command. To get
an overview of what’s happening on your system, run:
$ initctl list
You’ll get a lot of output, so let’s just look at two sample jobs that might
appear in a typical listing. Here’s a simple example of a task job status:
mountall stop/waiting
This indicates that the mountall task job has a status of stop/waiting,
meaning that it’s not running. (Unfortunately, as of this writing, you can’t
use the status to determine whether a job already ran or not because
stop/waiting also applies to jobs that have never run.)
Service jobs that have associated processes appear in the status listing
as follows:
tty1 start/running, process 1634
This line shows that the tty1 job is running and that process ID 1634 is
performing the job. (Not all service jobs have associated processes.)
NOT E If you know a job’s name, you can view its status directly with initctl status job.
The status portion of the initctl output (e.g., stop/waiting) can be
confusing. The left-hand side (before the /) is the goal, or what the job is
supposed to be working toward, such as start or stop. The right-hand side
is the current job state, or what the job is doing right now, such as waiting or
running. For example, in the preceding listing, the tty1 job has the status
start/running, meaning that its goal is to start. The state of running indicates
that it has started successfully. (For service jobs, the running state is
nominal.)
The mountall case is a bit different because task jobs don’t remain running.
The stop/waiting status usually indicates that the job started and
completed its task. Upon completing its task, it moved from a start to a stop
goal, and it is now waiting for further commands from Upstart.
Unfortunately, as mentioned earlier, because jobs that have never started
also have an Upstart stop/waiting status, you can’t really tell whether a job
has run or never started unless you enable debugging and look at the logs,
as described in Section 6.5.5.
NOT E You won’t see jobs running on your system that were started with Upstart’s System V
compatibility feature.
How User Space Starts 133
Job State Transitions
There are many job states, but there’s a set way to move between them. For
example, here’s how a typical job starts:
1. All jobs begin in the stop/waiting status.
2. When a user or a system event starts a job, the job’s goal changes from
stop to start.
3. Upstart changes the job’s state from waiting to starting, so the status is
now start/starting.
4. Upstart emits a starting job event.
5. The job performs whatever it needs to do for the starting state.
6. Upstart changes the job’s state from starting to pre-start and emits the
pre-start job event.
7. The job works its way through several more states until it hits the running
state.
8. Upstart emits a started job event.
Task termination involves a similar set of state changes and events. (See
the upstart-events(7) manual page for details on all of the states and transitions
in both goals.)
6.5.3 Upstart Configuration
Let’s examine the two configuration files: one for the task job mountall and
the other for the service job tty1. Like all Upstart configuration files, the configuration
files are in /etc/init, and they are named mountall.conf and tty1.conf.
The configuration files are organized into smaller pieces called stanzas. Each
stanza starts with a leading keyword, such as description or start.
To get started, open the mountall.conf file on your system. Look for a
line like this in the first stanza:
description "Mount filesystems on boot"
This stanza gives a short text description of the job.
Next you’ll see a few stanzas describing how the mountall job starts:
start on startup
stop on starting rcS
Here, the first line tells Upstart to start the job upon receiving the
startup event (the initial event that Upstart emits). The second line tells
Upstart to terminate the job upon receiving the rcS event, when the system
goes into single-user mode.
The next two lines tell Upstart how the mountall job behaves:
expect daemon
task
134 Chapter 6
The task stanza tells Upstart that this is a task job, so the job should
complete at some point. The expect stanza is tricky. It means that the
mountall job will spawn a daemon that will operate independently of the
original job script. Upstart needs to know this because it must know when
the daemon terminates in order to correctly signal that the mountall job has
terminated. (We’ll discuss this in more detail in “Process Tracking and the
Upstart expect Stanza” on page 136.)
The mountall.conf file continues with several emits stanzas, indicating
events that the jobs produce:
emits virtual-filesystems
emits local-filesystems
emits remote-filesystems
emits all-swaps
emits filesystem
emits mounting
emits mounted
NOT E As mentioned in Section 6.5.1, even though these lines are present, this is not the
actual source of the events. You’ll need to hunt through the job script to find them.
You may also see a console stanza stating where Upstart should send the
output:
console output
With the output parameter, Upstart sends the mountall job’s output to
the system’s console.
Now you’ll see the details of the job itself—in this case, with a script
stanza:
script
. /etc/default/rcS
[ -f /forcefsck ] && force_fsck="--force-fsck"
[ "$FSCKFIX" = "yes" ] && fsck_fix="-fsck-fix"
# set $LANG so that messages appearing in plymouth are translated
if [ -r /etc/default/locale ]; then
. /etc/default/locale
export LANG LANGUAGE LC_MESSAGES LC_ALL
fi
exec mountall --daemon $force_fsck $fsck_fix
end script
This is a shell script (see Chapter 11), most of which is preparatory—
setting locale and determining whether an fsck is necessary. The exec mountall
command near the bottom of this script is where the real action happens.
This command mounts the filesystems and emits the job’s events when
finished.
How User Space Starts 135
A Service Job: tty1
The service job tty1 is much simpler; it controls a virtual console login
prompt. Its entire configuration file, tty1.conf, looks like this:
start on stopped rc RUNLEVEL=[2345] and (
not-container or
container CONTAINER=lxc or
container CONTAINER=lxc-libvirt)
stop on runlevel [!2345]
respawn
exec /sbin/getty -8 38400 tty1
The most complicated part of this job is actually when it starts, but for
now, ignore the container lines and concentrate on this portion:
start on stopped rc RUNLEVEL=[2345]
This part tells Upstart to activate the job upon receiving a stopped rc
event from Upstart when the rc task job has run and terminated. To make
the condition true, the rc job must also set the RUNLEVEL environment variable
to a value from 2 through 5 (see Section 6.5.6).
NOT E Other jobs that start on runlevels aren’t so picky. For example, you might see this
instead:
start on runlevel [2345]
The only real difference between these last two start stanzas is timing; this
example
activates the job as soon as the runlevel is set, while the prior one waits
until the System V stuff finishes.
The container configuration is there because Upstart not only runs
directly on top of the Linux kernel on real hardware, but it can also run
in virtual environments or containers. Some of these environments do not
have virtual consoles, and you don’t want to run getty on a console that
doesn’t exist.
Stopping the tty1 job is straightforward:
stop on runlevel [!2345]
This stop stanza tells Upstart to terminate the job whenever the runlevel
is not 2 through 5 (for example, during system shutdown).
The exec stanza at the bottom is the command to run:
exec /sbin/getty -8 38400 tty1
136 Chapter 6
This stanza is much like the script stanza that you saw for the mountall
job, except that the tty1 job has no complicated setup to perform—it’s easy
to start with a single line. In this case, we’re running the login prompt program
getty on /dev/tty1, which is the first virtual console (the one you get
when you press ctrl-alt-F1 in graphics mode).
The respawn stanza instructs Upstart to restart the tty1 job if the job terminates.
In this case, Upstart runs a new getty for a new login prompt when
you log out of the virtual console.
Those are the basics of Upstart configuration. You’ll find much more
detail in the init(5) manual page and online resources, but one stanza
requires special attention. The expect stanza is discussed next.
Process Tracking and the Upstart expect Stanza
Because Upstart tracks processes in jobs once they’ve started (so that it can
terminate and restart them efficiently), it wants to know which processes are
relevant to each job. This can be a difficult task, because in the traditional
Unix startup scheme, processes fork from others during startup to become
daemons, and the main process for a job may start after one or two forks.
Without proper process tracking, Upstart won’t be able to finalize its job
startup, or it may track the incorrect PID for the job.
You tell Upstart how a job behaves with the expect stanza. There are
four basic possibilities:
No expect stanza The main job process does not fork. Track the main
process.
expect fork The process forks once. Track the forked process.
expect daemon The process forks twice. Track the second fork.
expect stop The job’s main process will raise a SIGSTOP signal to indicate
that it is ready. (This is rare.)
For Upstart and other modern versions of init, such as systemd, the
ideal case is the first one (no expect stanza), because the main job process
doesn’t have to include any of its own startup and shutdown mechanics. In
other words, it doesn’t need to bother with forking or detaching itself from
a current terminal—nuisances that Unix systems developers have had to
deal with for years.
Many traditional service daemons already include debugging-style
options that tell the main process to not fork. Examples include the Secure
Shell daemon, sshd, and its -D option. A look at the /etc/init/ssh.conf startup
stanzas reveals a simple configuration to start sshd, prevent rapid respawning,
and eliminate spurious output to stderr:
respawn
respawn limit 10 5
umask 022
# 'sshd -D' leaks stderr and confuses things in conjunction with 'console log'
console none
How User Space Starts 137
--snip--
exec /usr/sbin/sshd -D
Among jobs that require an expect stanza, expect fork is the most common.
For example, here’s the startup portion of the /etc/init/cron.conf file:
expect fork
respawn
exec cron
A simple job startup like this usually indicates a well-behaved, stable
daemon.
NOT E It’s worth reading more about the expect stanza on the upstart.ubuntu.com site
because it relates directly to process life span. For example, you can trace the life of a
process and its system calls, including fork(), with the strace command.
6.5.4 Upstart Operation
In addition to the list and status commands described in Section 6.5.2, you
can also use the initctl utility to control Upstart and its jobs. You should
read the initctl(8) manual page at some point, but for now let’s look at the
essentials.
To start an Upstart job, use initctl start:
# initctl start job
To stop a job, use initctl stop:
# initctl stop job
To restart a job:
# initctl restart job
If you need to emit an event to Upstart, you can do it manually with:
# initctl emit event
You can also add environment variables to the emitted event by adding
key=value parameters after event.
NOT E You can’t start and stop individual services that started via Upstart’s System V compatibility
feature. See Section 6.6.1 for more on how to do this in a System V init script.
There are many ways to disable an Upstart job so that it will not start at
boot time, but the most maintainable one is to determine the name of the
138 Chapter 6
job’s configuration file (usually /etc/init/<job>.conf ) and then create a new
file called /etc/init/<job>.override containing only the line:
manual
Now the only way that the job will start is by running initctl start job.
The primary advantage to this method is that it’s easily reversible. To
reenable the job at boot, remove the .override file.
6.5.5 Upstart Logs
There are two basic kinds of logs in Upstart: service job logs, and diagnostic
messages that Upstart itself produces. Service job logs record the standard
output and standard error of the scripts and daemons that run the services.
These messages, recorded in /var/log/upstart, are in addition to the standard
syslog messages that a service may produce. (You’ll learn more about syslog
in Chapter 7.) It’s hard to categorize what goes into these logs because there
are no standards, but the most common contents are startup and shutdown
messages, as well as emergency error messages. Many services produce no
messages at all because they send everything to syslog or their own logging
facility.
Upstart’s own diagnostic log can contain information about when it starts
and reloads, as well as certain information about jobs and events. This diagnostic
log goes to the kernel syslog utility. On Ubuntu, you’ll usually find this
log in the /var/log/kern.log file and the catchall /var/log/syslog file.
That said, by default, Upstart logs little to nothing, so to see anything at
all in the logs, you must change the Upstart log priority. The name of the
default priority is message. To log events and job changes on a running system,
change the log priority to info:
# initctl log-priority info
Keep in mind that this won’t be permanent and the priority will reset
after a reboot. To have Upstart log everything when it starts, add a --verbose
parameter as a boot parameter, as described in Section 5.5.
6.5.6 Upstart Runlevels and System V Compatibility
So far, we’ve touched upon a few places where Upstart supports the idea of
System V runlevels and mentioned that it has the ability to run System V
startup scripts as a job. Here’s a more detailed overview of how it works on
Ubuntu systems:
1. The rc-sysinit job runs, usually after getting the filesystem and
static-network-up events. Before it runs, there is no runlevel.
2. The rc-sysinit job determines which runlevel to enter. Usually, the runlevel
is the default, but it can also parse an older /etc/inittab file or take
the runlevel from a kernel parameter (in /proc/cmdline).
How User Space Starts 139
3. The rc-sysinit job runs telinit to switch the runlevel. The command
emits a runlevel event, specifying the runlevel in the RUNLEVEL environment
variable.
4. Upstart receives the runlevel event. A number of jobs are configured to
start on the runlevel event paired with a certain runlevel, and Upstart
sets these in motion.
5. One of the runlevel-activated task jobs, rc, is responsible for running
the System V start. In order to do so, the rc job runs /etc/init.d/rc, just as
System V init would (see Section 6.6).
6. Once the rc job terminates, Upstart can start a number of other jobs
upon receiving the stopped rc event (such as the tty1 job on page 135).
Notice that although Upstart treats the runlevel no differently than
any other event, many of the job configuration files on most Upstart systems
refer to the runlevel.
In any case, there is a critical point during boot when the filesystems
are mounted and when most of the important system initialization is done.
At this point, the system is ready to start higher-level system services such as
graphical display managers and database servers. A runlevel event is handy
for marking this point. You could configure Upstart to use any event as
a trigger, though. One challenge comes when trying to determine which
services start as Upstart jobs and which ones start in System V compatibility
mode. The easiest way to find out is to look in your runlevel’s System
V link farm (see Section 6.6.2). For example, if your runlevel is 2, look in
/etc/rc2.d; anything there is likely running in System V compatibility mode.
NOT E One stumbling block may be the presence of dummy scripts in /etc/init.d. For
any Upstart service job, there may also be a System V–style script for that service in
/etc/init.d, but that script won’t do anything other than tell you that the service
has been converted to an Upstart job. There also won’t be a link to the script in the
System V link directory. If you run into a dummy script, find out the Upstart job
name, and use initctl to control the job.
6.6 System V init
The System V init implementation on Linux dates to the early days of
Linux; its core idea is to support an orderly bootup to different runlevels
with a carefully sequenced process startup. Though System V is now uncommon
on most desktop installations, you may encounter System V init in Red
Hat Enterprise Linux, as well as in embedded Linux environments such as
routers and phones.
There are two major components to a typical System V init installation:
a central configuration file and a large set of boot scripts augmented by a
symbolic link farm. The configuration file /etc/inittab is where it all starts. If
you have System V init, look for a line like the following in your inittab file:
id:5:initdefault:
140 Chapter 6
This indicates that the default runlevel is 5.
All lines in inittab take the following form, with four fields separated by
colons in this order:
• A unique identifier (a short string, such as id in the previous example)
• The applicable runlevel number(s)
• The action that init should take (default runlevel to 5 in the previous
example)
• A command to execute (optional)
To see how commands work in an inittab file, consider this line:
l5:5:wait:/etc/rc.d/rc 5
This particular line is important because it triggers most of the system
configuration and services. Here, the wait action determines when and how
System V init runs the command: Run /etc/rc.d/rc 5 once when entering
runlevel 5, then wait for this command to finish before doing anything
else. To make a long story short, the rc 5 command executes anything in
/etc/rc5.d that starts with a number (in the order of the numbers).
The following are some of the most common inittab actions in addition
to initdefault and wait.
respawn
The respawn action tells init to run the command that follows and, if the
command finishes executing, to run it again. You’re likely to see something
like this in an inittab file:
1:2345:respawn:/sbin/mingetty tty1
The getty programs provide login prompts. The line above is used for
the first virtual console (/dev/tty1), which is the one you see when you press
alt-F1 or ctrl-alt-F1 (see Section 3.4.4). The respawn action brings the
login prompt back after you log out.
ctrlaltdel
The ctrlaltdel action controls what the system does when you press ctrlalt-
del on a virtual console. On most systems, this is some sort of reboot
command, using the shutdown command (discussed in Section 6.7).
sysinit
The sysinit action is the first thing that init should run when starting,
before entering any runlevels.
NOT E For more available actions, see the inittab(5) manual page.
How User Space Starts 141
6.6.1 System V init: Startup Command Sequence
You are now ready to learn how System V init starts system services, just
before it lets you log in. Recall this inittab line from earlier:
l5:5:wait:/etc/rc.d/rc 5
This small line triggers many other programs. In fact, rc stands for run
commands, which many people refer to as scripts, programs, or services. But
where are these commands?
The 5 in this line tells us that we’re talking about runlevel 5. The commands
are probably either in /etc/rc.d/rc5.d or /etc/rc5.d. (Runlevel 1 uses
rc1.d, runlevel 2 uses rc2.d, and so on.) For example, you might find the following
items in the rc5.d directory:
S10sysklogd S20ppp S99gpm
S12kerneld S25netstd_nfs S99httpd
S15netstd_init S30netstd_misc S99rmnologin
S18netbase S45pcmcia S99sshd
S20acct S89atd
S20logoutd S89cron
The rc 5 command starts programs in the rc5.d directory by executing
the following commands in this sequence:
S10sysklogd start
S12kerneld start
S15netstd_init start
S18netbase start
--snip--
S99sshd start
Notice the start argument in each command. The capital S in a command
name means that the command should run in start mode, and the
number (00 through 99) determines where in the sequence rc starts the
command. The rc*.d commands are usually shell scripts that start programs
in /sbin or /usr/sbin.
Normally, you can figure out what a particular command does by viewing
the script with less or another pager program.
NOT E Some rc*.d directories contain commands that start with K (for “kill,” or stop mode).
In this case, rc runs the command with the stop argument instead of start. You will
most likely encounter K commands in runlevels that shut down the system.
You can run these commands by hand. However, you normally want
to do so through the init.d directory instead of the rc*.d directories, which
we’ll now describe.
142 Chapter 6
6.6.2 The System V init Link Farm
The contents of the rc*.d directories are actually symbolic links to files in yet
another directory, init.d. If your goal is to interact with, add, delete, or modify
services in the rc*.d directories, you need to understand these symbolic
links. A long listing of a directory such as rc5.d reveals a structure like this:
lrwxrwxrwx . . . S10sysklogd -> ../init.d/sysklogd
lrwxrwxrwx . . . S12kerneld -> ../init.d/kerneld
lrwxrwxrwx . . . S15netstd_init -> ../init.d/netstd_init
lrwxrwxrwx . . . S18netbase -> ../init.d/netbase
--snip--
lrwxrwxrwx . . . S99httpd -> ../init.d/httpd
--snip--
A large number of symbolic links across several subdirectories such as
this is called a link farm. Linux distributions contain these links so that they
can use the same startup scripts for all runlevels. This convention is not a
requirement, but it simplifies organization.
Starting and Stopping Services
To start and stop services by hand, use the script in the init.d directory. For
example, one way to start the httpd web server program manually is to run
init.d/httpd start. Similarly, to kill a running service, you can use the stop
argument (httpd stop, for instance).
Modifying the Boot Sequence
Changing the boot sequence in System V init is normally done by modifying
the link farm. The most common change is to prevent one of the commands
in the init.d directory from running in a particular runlevel. You
have to be careful about how you do this. For example, you might consider
removing the symbolic link in the appropriate rc*.d directory. But beware:
If you ever need to put the link back, you might have trouble remembering
the exact name of the link. One of the best ways to do it is to add an underscore
(_) at the beginning of the link name, like this:
# mv S99httpd _S99httpd
This change causes rc to ignore _S99httpd because the filename no longer
starts with S or K, but the original name is still obvious.
To add a service, create a script like those in the init.d directory and
then create a symbolic link in the correct rc*.d directory. The easiest way is
to copy and modify one of the scripts already in init.d that you understand
(see Chapter 11 for more information on shell scripts).
How User Space Starts 143
When adding a service, choose an appropriate place in the boot sequence
to start it. If the service starts too soon, it may not work, due to a dependency
on some other service. For nonessential services, most systems administrators
prefer numbers in the 90s, which puts the services after most of the
services that came with the system.
6.6.3 run-parts
The mechanism that System V init uses to run the init.d scripts has found
its way into many Linux systems, regardless of whether they use System V
init. It’s a utility called run-parts, and the only thing it does is run a bunch of
executable programs in a given directory, in some kind of predictable order.
You can think of it as almost like a person who runs the ls command in some
directory and then just runs whatever programs they see in the output.
The default behavior is to run all programs in a directory, but you often
have the option to select certain programs and ignore others. In some distributions,
you don’t need much control over the programs that run. For
example, Fedora ships with a very simple run-parts utility.
Other distributions, such as Debian and Ubuntu, have a more complicated
run-parts program. Their features include the ability to run programs
based on a regular expression (for example, using the S[0-9]{2} expression
for running all “start” scripts in an /etc/init.d runlevel directory) and to pass
arguments to the programs. These capabilities allow you to start and stop
System V runlevels with a single command.
You don’t really need to understand the details of how to use run-parts;
in fact, most people don’t know that run-parts even exists. The main things
to remember are that it shows up in scripts from time to time and that it
exists solely to run the programs in a given directory.
6.6.4 Controlling System V init
Occasionally, you’ll need to give init a little kick to tell it to switch runlevels,
to reread its configuration, or to shut down the system. To control System V
init, use telinit. For example, to switch to runlevel 3, enter:
# telinit 3
When switching runlevels, init tries to kill off any processes not in the
inittab file for the new runlevel, so be careful when changing runlevels.
When you need to add or remove jobs, or make any other change to the
inittab file, you must tell init about the change and cause it to reload the file.
The telinit command for this is:
# telinit q
You can also use telinit s to switch to single-user mode (see Section 6.9).
144 Chapter 6
6.7 Shutting Down Your System
init controls how the system shuts down and reboots. The commands to
shut down the system are the same regardless of which version of init you
run. The proper way to shut down a Linux machine is to use the shutdown
command.
There are two basic ways to use shutdown. If you halt the system, it shuts
the machine down and keeps it down. To make the machine halt immediately,
run this:
# shutdown -h now
On most machines and versions of Linux, a halt cuts the power to the
machine. You can also reboot the machine. For a reboot, use -r instead of -h.
The shutdown process takes several seconds. You should never reset or
power off a machine during this stage.
In the preceding example, now is the time to shut down. This argument
is mandatory, but there are many ways to specify the time. For example, if
you want the machine to shut down sometime in the future, you can use +n,
where n is the number of minutes shutdown should wait before doing its work.
(For other options, see the shutdown(8) manual page.)
To make the system reboot in 10 minutes, enter:
# shutdown -r +10
On Linux, shutdown notifies anyone logged on that the machine is going
down, but it does little real work. If you specify a time other than now, the
shutdown command creates a file called /etc/nologin. When this file is present,
the system prohibits logins by anyone except the superuser.
When system shutdown time finally arrives, shutdown tells init to begin
the shutdown process. On systemd, it means activating the shutdown units;
on Upstart, it means emitting the shutdown events; and on System V init, it
means changing the runlevel to 0 or 6. Regardless of the init implementation
or configuration, the procedure generally goes like this:
1. init asks every process to shut down cleanly.
2. If a process doesn’t respond after a while, init kills it, first trying a
TERM signal.
3. If the TERM signal doesn’t work, init uses the KILL signal on any
stragglers.
4. The system locks system files into place and makes other preparations
for shutdown.
5. The system unmounts all filesystems other than the root.
6. The system remounts the root filesystem read-only.
How User Space Starts 145
7. The system writes all buffered data out to the filesystem with the sync
program.
8. The final step is to tell the kernel to reboot or stop with the reboot(2)
system call. This can be done by init or an auxiliary program such as
reboot, halt, or poweroff.
The reboot and halt programs behave differently depending on how
they’re called, which may cause confusion. By default, these programs call
shutdown with the -r or -h options. However, if the system is already at a halt
or reboot runlevel, the programs tell the kernel to shut itself off immediately.
If you really want to shut your machine down in a hurry, regardless
of any potential damage from a disorderly shutdown, use the -f (force)
option.
6.8 The Initial RAM Filesystem
The Linux boot process is, for the most part, fairly straightforward. However,
one component has always been somewhat confounding: initramfs, or the
intitial RAM filesystem. Think of this as a little user-space wedge that goes in
front of the normal user mode start. But first, let’s talk about why it exists.
The problem stems from the availability of many different kinds of storage
hardware. Remember, the Linux kernel does not talk to the PC BIOS
or EFI interfaces to get data from disks, so in order to mount its root filesystem,
it needs driver support for the underlying storage mechanism. For
example, if the root is on a RAID array connected to a third-party controller,
the kernel needs the driver for that controller first. Unfortunately, there
are so many storage controller drivers that distributions can’t include all
of them in their kernels, so many drivers are shipped as loadable modules.
But loadable modules are files, and if your kernel doesn’t have a filesystem
mounted in the first place, it can’t load the driver modules that it needs.
The workaround is to gather a small collection of kernel driver modules
along with a few other utilities into an archive. The boot loader loads
this archive into memory before running the kernel. Upon start, the kernel
reads the contents of the archive into a temporary RAM filesystem (the
initramfs), mounts it at /, and performs the user-mode handoff to the init
on the initramfs. Then, the utilities included in the initramfs allow the kernel
to load the necessary driver modules for the real root filesystem. Finally,
the utilities mount the real root filesystem and start true init.
Implementations vary and are ever evolving. On some distributions, the
init on the initramfs is a fairly simple shell script that starts a udevd to load
drivers, then mounts the real root and executes the init there. On distributions
that use systemd, you’ll typically see an entire systemd installation
there with no unit configuration files and just a few udevd configuration files.
146 Chapter 6
One basic characteristic of the initial RAM filesystem that has (so far)
remained unchanged since its inception is the ability to bypass it if you
don’t need it. That is, if your kernel has all the drivers it needs to mount
your root filesystem, you can omit the initial RAM filesystem in your boot
loader configuration. When successful, eliminating the initial RAM filesystem
shortens boot time, usually by a couple of seconds. Try it yourself at
boot time by using the GRUB menu editor to remove the initrd line. (It’s
best not to experiment by changing the GRUB configuration file, as you
can make a mistake that will be difficult to repair.) Recently, it has been a
little more difficult to bypass the initial RAM filesystem because features
such as mount-by-UUID may not be available with generic distribution kernels.
It’s easy to see the contents of your initial RAM filesystem because, on
most modern systems, they are simple gzip-compressed cpio archives (see
the cpio(1) manual page). First, find the archive file by looking at your boot
loader configuration (for example, grep for initrd lines in your grub.cfg configuration
file). Then use cpio to dump the contents of the archive into a
temporary directory somewhere and peruse the results. For example:
$ mkdir /tmp/myinitrd
$ cd /tmp/myinitrd
$ zcat /boot/initrd.img-3.2.0-34 | cpio -i --no-absolute-filenames
--snip--
One particular piece of interest is the “pivot” near the very end of
the init process on the initial RAM filesystem. This part is responsible for
removing the contents of the temporary filesystem (to save memory) and
permanently switch to the real root.
You won’t typically create your own initial RAM filesystem, as this is
a painstaking process. There are a number of utilities for creating initial
RAM filesystem images, and your distribution likely comes with one. Two of
the most common are dracut and mkinitramfs.
NOT E The term initial RAM filesystem (initramfs) refers to the implementation that uses
the cpio archive as the source of the temporary filesystem. There is an older version
called the initial RAM disk, or initrd, that uses a disk image as the basis of the temporary
filesystem. This has fallen into disuse because it’s much easier to maintain a
cpio archive. However, you’ll often see the term initrd used to refer to a cpio-based
initial RAM filesystem. Often, as in the preceding example, the filenames and configuration
files will still contain initrd.
6.9 Emergency Booting and Single-User Mode
When something goes wrong with the system, the first recourse is usually to
boot the system with a distribution’s “live” image (most distributions’ installation
images double as live images) or with a dedicated rescue image such
How User Space Starts 147
as SystemRescueCd that you can put on removable media. Common tasks
for fixing a system include the following:
• Checking filesystems after a system crash
• Resetting a forgotten root password
• Fixing problems in critical files, such as /etc/fstab and /etc/passwd
• Restoring from backups after a system crash
Another option for booting quickly to a usable state is single-user mode.
The idea is that the system quickly boots to a root shell instead of going
through the whole mess of services. In the System V init, single-user mode
is usually runlevel 1, and you can also enter the mode with an -s parameter
to the boot loader. You may need to type the root password to enter singleuser
mode.
The biggest problem with single-user mode is that it doesn’t offer many
amenities. The network almost certainly won’t be available (and if it is, it
will be hard to use), you won’t have a GUI, and your terminal may not even
work correctly. For this reason, live images are nearly always considered
preferable.

7
System Configur ation:
Logging, System Time,
Batch Jobs, and Users
When you first look in the /etc directory, you
might feel a bit overwhelmed. Although most
of the files that you see affect a system’s operations
to some extent, a few are fundamental.
The subject material in this chapter covers the parts of the system
that make the infrastructure discussed in Chapter 4 available to the userlevel
tools covered in Chapter 2. In particular, we’re going to look at the
following:
• Configuration files that the system libraries access to get server and
user information
• Server programs (sometimes called daemons) that run when the system
boots
• Configuration utilities that can be used to tweak the server programs
and configuration files
• Administration utilities
150 Chapter 7
As in previous chapters, there is virtually no networking material here
because the network is a separate building block of the system. In Chapter 9,
you’ll see where the network fits in.
7.1 The Structure of /etc
Most system configuration files on a Linux system are found in /etc.
Historically, each program had one or more configuration files there,
and because there are so many packages on a Unix system, /etc would
accumulate files quickly.
There were two problems with this approach: It was hard to find particular
configuration files on a running system, and it was difficult to
maintain a system configured this way. For example, if you wanted to
change the system logger configuration, you’d have to edit /etc/syslog.conf.
But after your change, an upgrade to your distribution could wipe out your
customizations.
The trend for many years now has been to place system configuration
files into subdirectories under /etc, as you’ve already seen for the boot directories
(/etc/init for Upstart and /etc/systemd for systemd). There are still a
few individual configuration files in /etc, but for the most part, if you run
ls -F /etc, you’ll see that most of the items there are now subdirectories.
To solve the problem of overwriting configuration files, you can now
place customizations in separate files in the configuration subdirectories,
such as the ones in /etc/grub.d.
What kind of configuration files are found in /etc? The basic guideline is
that customizable configurations for a single machine, such as user information
(/etc/passwd) and network details (/etc/network), go into /etc. However,
general application details, such as a distribution’s defaults for a user interface,
don’t belong in /etc. And you’ll often find that noncustomizable system
configuration files may be found elsewhere, as with the prepackaged systemd
unit files in /usr/lib/systemd.
You’ve already seen some of the configuration files that pertain to booting.
Now we’ll look at a typical system service and how to view and specify
its configuration.
7.2 System Logging
Most system programs write their diagnostic output to the syslog service.
The traditional syslogd daemon waits for messages and, depending on the
type of message received, funnels the output to a file, the screen, users, or
some combination of these, or just ignores it.
System Configuration: Logging, System Time, Batch Jobs, and Users 151
7.2.1 The System Logger
The system logger is one of the most important parts of the system. When
something goes wrong and you don’t know where to start, check the system
log files first. Here is a sample log file message:
Aug 19 17:59:48 duplex sshd[484]: Server listening on 0.0.0.0 port 22.
Most Linux distributions run a new version of syslogd called rsyslogd
that does much more than simply write log messages to files. For example,
you can use it to load a module to send log messages to a database. But
when starting out with system logs, it’s easiest to start with the log files normally
stored in /var/log. Check out some log files—once you know what
they look like, you’ll be ready to find out how they got there.
Many of the files in /var/log aren’t maintained by the system logger. The
only way to know for sure which ones belong to rsyslogd is to look at its configuration
file.
7.2.2 Configuration Files
The base rsyslogd configuration file is /etc/rsyslog.conf, but you’ll find certain
configurations in other directories, such as /etc/rsyslog.d. The configuration
format is a blend of traditional rules and rsyslog-specific extensions.
One rule of thumb is that anything beginning with a dollar sign ($) is an
extension.
A traditional rule has a selector and an action to show how to catch logs
and where to send them, respectively. For example:
kern.* /dev/console
*.info;authpriv.noneu /var/log/messages
authpriv.* /var/log/secure,root
mail.* /var/log/maillog
cron.* /var/log/cron
*.emerg *v
local7.* /var/log/boot.log
Listing 7-1: syslog rules
The selector is on the left. It’s the type of information to be logged.
The list on the right is the action: where to send the log. Most actions in
Listing 7-1 are normal files, with some exceptions. For example, /dev/console
refers to a special device for the system console, root means send a message
to the superuser if that user is logged in, and * means message all users currently
on the system. You can also send messages to another network host
with @host.
152 Chapter 7
Facility and Priority
The selector is a pattern that matches the facility and priority of log messages.
The facility is a general category of message. (See rsyslog.conf(5)
for a list of all facilities.)
The function of most facilities will be fairly obvious from their name.
For example, the configuration file in Listing 7-1 catches messages carrying
the kern, authpriv, mail, cron, and local7 facilities. In this same listing, the
asterisk at  is a wildcard that catches output related to all facilities.
The priority follows the dot (.) after the facility. The order of priorities
from lowest to highest is debug, info, notice, warning, err, crit, alert, or emerg.
NOT E To exclude log messages from a facility in rsyslog.conf, specify a priority of none, as
shown at  in Listing 7-1.
When you put a specific priority in a selector, rsyslogd sends messages
with that priority and all higher priorities to the destination on that line.
Therefore, in Listing 7-1, the *.info for the line at  actually catches most
log messages and puts them into /var/log/messages because info is a relatively
low priority.
Extended Syntax
As previously mentioned, the syntax of rsyslogd extends the traditional
syslogd syntax. The configuration extensions are called directives and usually
begin with a $. One of the most common extensions allows you to load
additional configuration files. Check your rsyslog.conf file for a directive
like this, which causes rsyslogd to load all .conf files in /etc/rsyslog.d into the
configuration:
$IncludeConfig /etc/rsyslog.d/*.conf
Most of the other extended directives are fairly self-explanatory. For
example, these directives deal with users and permissions:
$FileOwner syslog
$FileGroup adm
$FileCreateMode 0640
$DirCreateMode 0755
$Umask 0022
NOT E Additional rsyslogd configuration file extensions define output templates and channels.
If you need to use them, the rsyslogd(5) manual page is fairly comprehensive,
but the web-based documentation is more complete.
System Configuration: Logging, System Time, Batch Jobs, and Users 153
Troubleshooting
One of the easiest ways to test the system logger is to send a log message
manually with the logger command, as shown here:
$ logger -p daemon.info something bad just happened
Very little can go wrong with rsyslogd. The most common problems
occur when a configuration doesn’t catch a certain facility or priority or
when log files fill their disk partitions. Most distributions automatically trim
the files in /var/log with automatic invocations of logrotate or a similar utility,
but if too many messages arrive in a brief period, you can still fill the
disk or end up with a high system load.
NOT E The logs caught by rsyslogd are not the only ones recorded by various pieces of the
system. We discussed the startup log messages captured by systemd and Upstart in
Chapter 6, but you’ll find many other sources, such as the Apache Web server,
which normally records its own access and error logs. To find those logs, see the
server configuration.
Logging: Past and Future
The syslog service has evolved over time. For example, there was once a
daemon called klogd that trapped kernel diagnostic messages for syslogd.
(These messages are the ones you see with the dmesg command.) This capability
has been folded into rsyslogd.
It’s a near certainty that Linux system logging will change in the future.
Unix system logging has never had a true standard, but efforts are underway
to change that.
7.3 User Management Files
Unix systems allow for multiple independent users. At the kernel level, users
are simply numbers (user IDs), but because it’s much easier to remember a
name than a number, you’ll normally work with usernames (or login names)
instead of user IDs when managing Linux. Usernames exist only in user
space, so any program that works with a username generally needs to be
able to map the username to a user ID if it wants to refer to a user when
talking to the kernel.
7.3.1 The /etc/passwd File
The plaintext file /etc/passwd maps usernames to user IDs. It looks something
like this:
root:x:0:0:Superuser:/root:/bin/sh
daemon:*:1:1:daemon:/usr/sbin:/bin/sh
bin:*:2:2:bin:/bin:/bin/sh
154 Chapter 7
sys:*:3:3:sys:/dev:/bin/sh
nobody:*:65534:65534:nobody:/home:/bin/false
juser:x:3119:1000:J. Random User:/home/juser:/bin/bash
beazley:x:143:1000:David Beazley:/home/beazley:/bin/bash
Listing 7-2: A list of users in /etc/passwd
Each line represents one user and has seven fields separated by colons.
The fields are as follows:
• The username.
• The user’s encrypted password. On most Linux systems, the password
is not actually stored in the passwd file, but rather, in the shadow file
(see Section 7.3.3). The shadow file format is similar to that of passwd, but
normal users do not have read permission for shadow. The second field
in passwd or shadow is the encrypted password, and it looks like a bunch
of unreadable garbage, such as d1CVEWiB/oppc. (Unix passwords are never
stored as clear text.)
An x in the second passwd file field indicates that the encrypted
password is stored in the shadow file. A star (*) indicates that the user
cannot log in, and if the field is blank (that is, you see two colons in a
row, like ::), no password is required to log in. (Beware of blank passwords.
You should never have a user without a password.)
• The user ID (UID), which is the user’s representation in the kernel.
You can have two entries with the same user ID, but doing this will
confuse you, and your software may mix them up as well. Keep the
user ID unique.
• The group ID (GID). This should be one of the numbered entries in the
/etc/group file. Groups determine file permissions and little else. This
group is also called the user’s primary group.
• The user’s real name (often called the GECOS field). You’ll sometimes
find commas in this field, denoting room and telephone numbers.
• The user’s home directory.
• The user’s shell (the program that runs when the user runs a terminal
session).
Figure 7-1 identifies the various fields in one of the entries in Listing 7-2.
juser:x:3119:1000:J. Random User:/home/juser:/bin/bash
Shell
Login name
Home directory
Password
User ID
Group ID Real name (GECOS)
Figure 7-1: An entry in the password file
System Configuration: Logging, System Time, Batch Jobs, and Users 155
The /etc/passwd file syntax is fairly strict, allowing for no comments or
blank lines.
NOT E A user in /etc/passwd and a corresponding home directory are collectively known as
an account.
7.3.2 Special Users
You will find a few special users in /etc/passwd. The superuser (root) always
has UID 0 and GID 0, as in Listing 7-2. Some users, such as daemon, have
no login privileges. The nobody user is an underprivileged user. Some processes
run as nobody because the nobody user cannot write to anything on
the system.
The users that cannot log in are called pseudo-users. Although they can’t
log in, the system can start processes with their user IDs. Pseudo-users such
as nobody are usually created for security reasons.
7.3.3 The /etc/shadow File
The shadow password file (/etc/shadow) on a Linux system normally contains
user authentication information, including the encrypted passwords and
password expiration information that correspond to the users in /etc/passwd.
The shadow file was introduced to provide a more flexible (and more
secure) way of storing passwords. It included a suite of libraries and utilities,
many of which were soon replaced by pieces of PAM (see Section 7.10).
Rather than introduce an entirely new set of files for Linux, PAM uses
/etc/shadow, but not certain corresponding configuration files such as
/etc/login.defs.
7.3.4 Manipulating Users and Passwords
Regular users interact with /etc/passwd using the passwd command. By default,
passwd changes the user’s password, but you can also use -f to change the
user’s real name or -s to change the user’s shell to one listed in /etc/shells.
(You can also use the commands chfn and chsh to change the real name
and shell.) The passwd command is an suid-root program, because only the
superuser
can change the /etc/passwd file.
Changing /etc/passwd as the Superuser
Because /etc/passwd is plaintext, the superuser may use any text editor to
make changes. To add a user, simply add an appropriate line and create
a home directory for the user; to delete, do the opposite. However, to edit
the file, you’ll most likely want to use the vipw program, which backs up and
locks /etc/passwd while you’re editing it as an added precaution. To edit
/etc/shadow instead of /etc/passwd, use vipw -s. (You’ll likely never need to
do this, though.)
156 Chapter 7
Most organizations frown on editing passwd directly because it’s too
easy to make a mistake. It’s much easier (and safer) to make changes to
users using separate commands available from the terminal or through the
GUI. For example, to set a user’s password, run passwd user as the superuser.
Use adduser and userdel to add and remove users.
7.3.5 Working with Groups
Groups in Unix offer a way to share files with certain users but deny access
to all others. The idea is that you can set read or write permission bits for a
particular group, excluding everyone else. This feature was once important
because many users shared one machine, but it’s become less significant in
recent years as workstations are shared less often.
The /etc/group file defines the group IDs (such as the ones found in the
/etc/passwd file). Listing 7-3 is an example.
root:*:0:juser
daemon:*:1:
bin:*:2:
sys:*:3:
adm:*:4:
disk:*:6:juser,beazley
nogroup:*:65534:
user:*:1000:
Listing 7-3: A sample /etc/group file
Like the /etc/passwd file, each line in /etc/group is a set of fields separated
by colons. The fields in each entry are as follows, from left to right:
The group name This appears when you run a command like ls -l.
The group password This is hardly ever used, nor should you use it
(use sudo instead). Use * or any other default value.
The group ID (a number) The GID must be unique within the group
file. This number goes into a user’s group field in that user’s /etc/passwd
entry.
An optional list of users that belong to the group In addition to the
users listed here, users with the corresponding group ID in their passwd
file entries also belong to the group.
Figure 7-2 identifies the fields in a group file entry.
disk:*:6:juser,beazley
Additional members
Group ID
Group name
Password
Figure 7-2: An entry in the group file
To see the groups you belong to, run groups.
System Configuration: Logging, System Time, Batch Jobs, and Users 157
NOT E Linux distributions often create a new group for each new user added, with the same
name as the user.
7.4 getty and login
getty is a program that attaches to terminals and displays a login prompt.
On most Linux systems, getty is uncomplicated because the system only
uses it for logins on virtual terminals. In a process listing, it usually looks
something like this (for example, when running on /dev/tty1):
$ ps ao args | grep getty
/sbin/getty 38400 tty1
In this example, 38400 is the baud rate. Some getty programs don’t need
the baud rate setting. (Virtual terminals ignore the baud rate; it’s only there
for backward compatibility with software that connects to real serial lines.)
After you enter your login name, getty replaces itself with the login program,
which asks for your password. If you enter the correct password, login
replaces itself (using exec()) with your shell. Otherwise, you get a “Login
incorrect” message.
You now know what getty and login do, but you’ll probably never need to
configure or change them. In fact, you’ll rarely even use them, because most
users now log in either through a graphical interface such as gdm or remotely
with SSH, neither of which uses getty or login. Much of the login program’s
real authentication work is handled by PAM (see Section 7.10).
7.5 Setting the Time
Unix machines depend on accurate timekeeping. The kernel maintains the
system clock, which is the clock that is consulted when you run commands
like date. You can also set the system clock using the date command, but it’s
usually a bad idea to do so because you’ll never get the time exactly right.
Your system clock should be as close to the correct time as possible.
PC hardware has a battery-backed real-time clock (RTC). The RTC isn’t
the best clock in the world, but it’s better than nothing. The kernel usually
sets its time based on the RTC at boot time, and you can reset the system
clock to the current hardware time with hwclock. Keep your hardware clock
in Universal Coordinated Time (UTC) in order to avoid any trouble with
time zone or daylight savings time corrections. You can set the RTC to your
kernel’s UTC clock using this command:
# hwclock --hctosys --utc
Unfortunately, the kernel is even worse at keeping time than the RTC,
and because Unix machines often stay up for months or years on a single
158 Chapter 7
boot, they tend to develop time drift. Time drift is the current difference
between the kernel time and the true time (as defined by an atomic clock
or another very accurate clock).
You should not try to fix the drift with hwclock because time-based system
events can get lost or mangled. You could run a utility like adjtimex to
smoothly update the clock, but usually it’s best to keep your system time
correct with a network time daemon (see Section 7.5.2).
7.5.1 Kernel Time Representation and Time Zones
The kernel’s system clock represents the current time as the number of seconds
since 12:00 midnight on January 1, 1970, UTC. To see this number at
the moment, run:
$ date +%s
To convert this number into something that humans can read, userspace
programs change it to local time and compensate for daylight savings
time and any other strange circumstances (such as living in Indiana). The
local time zone is controlled by the file /etc/localtime. (Don’t bother trying to
look at it; it’s a binary file.)
The time zone files on your system are in /usr/share/zoneinfo. You’ll find
that this directory contains a lot of time zones and a lot of aliases for time
zones. To set your system’s time zone manually, either copy one of the files in
/usr/share/zoneinfo to /etc/localtime (or make a symbolic link) or change it with
your distribution’s time zone tool. (The command-line program tzselect may
help you identify a time zone file.)
To use a time zone other than the system default for just one shell session,
set the TZ environment variable to the name of a file in /usr/share/
zoneinfo and test the change, like this:
$ export TZ=US/Central
$ date
As with other environment variables, you can also set the time zone for
the duration of a single command like this:
$ TZ=US/Central date
7.5.2 Network Time
If your machine is permanently connected to the Internet, you can run a
Network Time Protocol (NTP) daemon to maintain the time using a remote
server. Many distributions have built-in support for an NTP daemon, but it
may not be enabled by default. You might need to install an ntpd package to
get it to work.
System Configuration: Logging, System Time, Batch Jobs, and Users 159
If you need to do the configuration by hand, you’ll find help on the
main NTP web page at http://www.ntp.org/, but if you’d rather not read
through the mounds of documentation there, do this:
1. Find the closest NTP time server from your ISP or from the ntp.org
web page.
2. Put that time server in /etc/ntpd.conf.
3. Run ntpdate server at boot time.
4. Run ntpd at boot time, after the ntpdate command.
If your machine doesn’t have a permanent Internet connection, you can
use a daemon like chronyd to maintain the time during disconnections.
You can also set your hardware clock based on the network time
in order to help your system maintain time coherency when it reboots.
(Many distributions do this automatically.) To do so, set your system time
from the network with ntpdate (or ntpd), then run the command you saw
back on page 157:
# hwclock --systohc –-utc
7.6 Scheduling Recurring Tasks with cron
The Unix cron service runs programs repeatedly on a fixed schedule. Most
experienced administrators consider cron to be vital to the system because
it can perform automatic system maintenance. For example, cron runs log
file rotation utilities to ensure that your hard drive doesn’t fill up with old
log files. You should know how to use cron because it’s just plain useful.
You can run any program with cron at whatever times suit you. The program
running through cron is called a cron job. To install a cron job, you’ll
create an entry line in your crontab file, usually by running the crontab command.
For example, the crontab entry schedules the /home/juser/bin/spmake
command daily at 9:15 am:
15 09 * * * /home/juser/bin/spmake
The five fields at the beginning of this line, delimited by whitespace,
specify the scheduled time (see also Figure 7-3). The fields are as follows,
in order:
• Minute (0 through 59). The cron job above is set for minute 15.
• Hour (0 through 23). The job above is set for the ninth hour.
• Day of month (1 through 31).
• Month (1 through 12).
• Day of week (0 through 7). The numbers 0 and 7 are Sunday.
160 Chapter 7
15 09 * * * /home/juser/bin/spmake
Command
Minute
Hour
Day of month
Month
Day of week
Figure 7-3: An entry in the crontab file
A star (*) in any field means to match every value. The preceding
example
runs spmake daily because the day of month, month, and day of
week fields are all filled with stars, which cron reads as “run this job every
day, of every month, of every week.”
To run spmake only on the 14th day of each month, you would use this
crontab line:
15 09 14 * * /home/juser/bin/spmake
You can select more than one time for each field. For example, to run
the program on the 5th and the 14th day of each month, you could enter
5,14 in the third field:
15 09 5,14 * * /home/juser/bin/spmake
NOT E If the cron job generates standard output or an error or exits abnormally, cron should
mail this information to you. Redirect the output to /dev/null or some other log file
if you find the email annoying.
The crontab(5) manual page provides complete information on the
crontab format.
7.6.1 Installing Crontab Files
Each user can have his or her own crontab file, which means that every system
may have multiple crontabs, usually found in /var/spool/cron/crontabs.
Normal users can’t write to this directory; the crontab command installs,
lists, edits, and removes a user’s crontab.
The easiest way to install a crontab is to put your crontab entries into a
file and then use crontab file to install file as your current crontab. The
crontab command checks the file format to make sure that you haven’t made
any mistakes. To list your cron jobs, run crontab -l. To remove the crontab,
use crontab -r.
However, after you’ve created your initial crontab, it can be a bit messy
to use temporary files to make further edits. Instead, you can edit and install
your crontab in one step with the crontab -e command. If you make a mistake,
crontab should tell you where the mistake is and ask if you want to try
editing again.
System Configuration: Logging, System Time, Batch Jobs, and Users 161
7.6.2 System Crontab Files
Rather than use the superuser’s crontab to schedule recurring system tasks,
Linux distributions normally have an /etc/crontab file. Don’t use crontab to edit
this file, because this version has an additional field inserted before the command
to run—the user that should run the job. For example, this cron job
defined in /etc/crontab runs at 6:42 am as the superuser (root, shown at u):
42 6 * * * rootu /usr/local/bin/cleansystem > /dev/null 2>&1
NOT E Some distributions store system crontab files in the /etc/cron.d directory. These files
may have any name, but they have the same format as /etc/crontab.
7.6.3 The Future of cron
The cron utility is one of the oldest components of a Linux system; it’s been
around for decades (predating Linux itself), and its configuration format
hasn’t changed much for many years. When something gets to be this old,
it becomes fodder for replacement, and there are efforts underway to do
exactly that.
The proposed replacements are actually just parts of the newer versions
of init: For systemd, there are timer units, and for Upstart, the idea is to be
able to create recurring events to trigger jobs. After all, both versions of init
can run tasks as any user, and they offer certain advantages, such as custom
logging.
However, the reality is that neither systemd nor Upstart currently has
all of the capabilities of cron. Furthermore, when they do become capable,
backward compatibility will be necessary to support everything that relies
on cron. For these reasons, it’s unlikely that the cron format will go away
anytime soon.
7.7 Scheduling One-Time Tasks with at
To run a job once in the future without using cron, use the at service. For
example, to run myjob at 10:30 pm, enter this command:
$ at 22:30
at> myjob
End the input with ctrl-D. (The at utility reads the commands from
the standard input.)
To check that the job has been scheduled, use atq. To remove it, use
atrm. You can also schedule jobs days into the future by adding the date in
DD.MM.YY format, for example, at 22:30 30.09.15.
There isn’t much else to the at command. Though at isn’t used that
often, it can be handy for that odd time when you need to tell the system
to shut down in the future.
162 Chapter 7
7.8 Understanding User ID s and User Switching
We’ve discussed how setuid programs such as sudo and su allow you to
change users, and we’ve mentioned system components like login that control
user access. Perhaps you’re wondering how these pieces work and what
role the kernel plays in user switching.
There are two ways to change a user ID, and the kernel handles both.
The first is with a setuid executable, which is covered in Section 2.17. The
second is through the setuid() family of system calls. There are a few different
versions of this system call to accommodate the various user IDs associated
with a process, as you’ll learn in Section 7.8.1.
The kernel has basic rules about what a process can or can’t do, but
here are the three basics:
• A process running as root (userid 0) can use setuid() to become any
other user.
• A process not running as root has severe restrictions on how it may use
setuid(); in most cases, it cannot.
• Any process can execute a setuid program as long as it has adequate file
permissions.
NOT E User switching has nothing to do with passwords or usernames. Those are strictly
user-space concepts, as you first saw in the /etc/passwd file in Section 7.3.1. You’ll
learn more details about how this works in Section 7.9.1.
7.8.1 Process Ownership, Effective UID, Real UID, and Saved UID
Our discussion of user IDs so far has been simplified. In reality, every
process has more than one user ID. We’ve described the effective user ID
(euid), which defines the access rights for a process. A second user ID, the
real user ID (ruid), indicates who initiated a process. When you run a setuid
program, Linux sets the effective user ID to the program’s owner during
execution, but it keeps your original user ID in the real user ID.
On modern systems, the difference between the effective and real user
IDs is confusing, so much so that a lot of documentation regarding process
ownership is incorrect.
Think of the effective user ID as the actor and the real user ID as the
owner. The real user ID defines the user that can interact with the running
process—most significantly, which user can kill and send signals to a process.
For example, if user A starts a new process that runs as user B (based
on setuid permissions), user A still owns the process and can kill it.
On normal Linux systems, most processes have the same effective user
ID and real user ID. By default, ps and other system diagnostic programs
show the effective user ID. To view both the effective and real user IDs on
your system, try this, but don’t be surprised if you find that the two user ID
columns are identical for all processes on your system:
$ ps -eo pid,euser,ruser,comm
System Configuration: Logging, System Time, Batch Jobs, and Users 163
To create an exception just so that you can see different values in the
columns, try experimenting by creating a setuid copy of the sleep command,
running the copy for a few seconds, and then running the preceding ps
command in another window before the copy terminates.
To add to the confusion, in addition to the real and effective user IDs,
there is also a saved user ID (which is usually not abbreviated). A process can
switch its effective user ID to the real or saved user ID during execution.
(To make things even more complicated, Linux has yet another user ID:
the file system user ID [fsuid], which defines the user accessing the filesystem
but is rarely used.)
Typical Setuid Program Behavior
The idea of the real user ID might contradict your previous experience.
Why don’t you have to deal with the other user IDs very frequently? For
example, after starting a process with sudo, if you want to kill it, you still use
sudo; you can’t kill it as your own regular user. Shouldn’t your regular user
be the real user ID in this case, giving you the correct permissions?
The cause of this behavior is that sudo and many other setuid programs
explicitly change the effective and real user IDs with one of the setuid()
system calls. These programs do so because there are often unintended side
effects and access problems when all of the user IDs do not match.
NOT E If you’re interested in the details and rules regarding user ID switching, read the
setuid(2) manual page and check the other manual pages listed in the SEE ALSO
section. There are many different system calls for diverse situations.
Some programs don’t like to have a real user ID of root. To prevent sudo
from changing the real user ID, add this line to your /etc/sudoers file (and
beware of side effects on other programs you want to run as root!):
Defaults stay_setuid
Security Implications
Because the Linux kernel handles all user switches (and as a result, file
access permissions) through setuid programs and subsequent system calls,
systems developers and administrators must be extremely careful with two
things:
• The programs that have setuid permissions
• What those programs do
If you make a copy of the bash shell that is setuid root, any local user
can execute it and have complete run of the system. It’s really that simple.
Furthermore, even a special-purpose program that is setuid root can pose
a danger if it has bugs. Exploiting weaknesses in programs running as root
is a primary method of systems intrusion, and there are too many such
exploits to count.
164 Chapter 7
Because there are so many ways to break into a system, preventing
intrusion is a multifaceted affair. One of the most essential ways to keep
unwanted activity off your system is to enforce user authentication with
usernames and passwords.
7.9 User Identification and Authentication
A multiuser system must provide basic support for user security in terms
of identification and authentication. The identification portion of security
answers the question of who users are. The authentication piece asks users
to prove that they are who they say they are. Finally, authorization is used to
define and limit what users are allowed to do.
When it comes to user identification, the Linux kernel knows only the
numeric user IDs for process and file ownership. The kernel knows authorization
rules for how to run setuid executables and how user IDs may
run the setuid() family of system calls to change from one user to another.
However, the kernel does not know anything about authentication: usernames,
passwords, and so on. Practically everything related to authentication
happens in user space.
We discussed the mapping between user IDs and passwords in
Section 7.3.1; now we’ll explain how user processes access this mapping.
We’ll begin with an oversimplified case, in which a user process wants to
know its username (the name corresponding to the effective user ID). On
a traditional Unix system, a process could do something like this to get its
username:
1. The process asks the kernel for its effective user ID with the geteuid()
system call.
2. The process opens the /etc/passwd file and starts reading at the beginning.
3. The process reads a line of the /etc/passwd file. If there’s nothing left to
read, the process has failed to find the username.
4. The process parses the line into fields (breaking out everything between
the colons). The third field is the user ID for the current line.
5. The process compares the ID from Step 4 to the ID from Step 1. If
they’re identical, the first field in Step 4 is the desired username, and
the process can stop searching and use this name.
6. The process moves on to the next line in /etc/passwd and goes back to
Step 3.
This is a long procedure that’s usually much more complicated in reality.
7.9.1 Using Libraries for User Information
If every developer who needed to know the current username had to write
all of the code you’ve just seen, the system would be a horrifyingly disjointed,
buggy, bloated, and unmaintainable mess. Fortunately, we can use standard
libraries to perform repetitive tasks, so all you’d normally need to do to get
System Configuration: Logging, System Time, Batch Jobs, and Users 165
a username is call a function like getpwuid() in the standard library after you
have the answer from geteuid(). (See the manual pages for these calls for
more on how they work.)
When the standard library is shared, you can make significant changes
to the implementation without changing any other program. For example,
you can move away from using /etc/passwd for your users and use a network
service such as LDAP instead.
This approach has worked well for identifying usernames associated
with user IDs, but passwords have proven more troublesome. Section 7.3.1
describes how, traditionally, the encrypted password was part of /etc/passwd,
so if you wanted to verify a password that a user entered, you’d encrypt whatever
the user typed and compare it to the contents of the /etc/passwd file.
This traditional implementation has the following limitations:
• It doesn’t set a system-wide standard for the encryption protocol.
• It assumes that you have access to the encrypted password.
• It assumes that you want to prompt the user for a password every time
the user wants to access something that requires authentication (which
gets annoying).
• It assumes that you want to use passwords. If you want to use one-time
tokens, smart cards, biometrics, or some other form of user authentication,
you have to add that support yourself.
Some of these limitations contributed to the development of the shadow
password package discussed in Section 7.3.3, which took the first step in
allowing system-wide password configuration. But the solution to the bulk
of the problems came with the design and implementation of PAM.
7.10 PAM
To accommodate flexibility in user authentication, in 1995 Sun Microsystems
proposed a new standard called Pluggable Authentication Modules (PAM), a
system of shared libraries for authentication (Open Source Software Foundation
RFC 86.0, October 1995). To authenticate a user, an application hands
the user to PAM to determine whether the user can successfully identify itself.
This way, it’s relatively easy to add support for additional authentication techniques,
such as two-factor and physical keys. In addition to authentication
mechanism support, PAM also provides a limited amount of authorization
control for services (for example, if you’d like to deny a service like cron to
certain users).
Because there are many kinds of authentication scenarios, PAM
employs a number of dynamically loadable authentication modules. Each
module performs a specific task; for example, the pam_unix.so module
can check a user’s password.
This is tricky business, to say the least. The programming interface
isn’t easy, and it’s not clear that PAM actually solves all of the existing problems.
Nevertheless, PAM support is in nearly every program that requires
166 Chapter 7
authentication on a Linux system, and most distributions use PAM. And
because it works on top of the existing Unix authentication API, integrating
support into a client requires little, if any, extra work.
7.10.1 PAM Configuration
We’ll explore the basics of how PAM works by examining its configuration.
You’ll normally find PAM’s application configuration files in the /etc/pam.d
directory (older systems may use a single /etc/pam.conf file). Most installations
include many files, so you may not know where to start. Some filenames
should correspond to parts of the system that you know already, such as cron
and passwd.
Because the specific configuration in these files varies significantly
between distributions, it can be difficult to find a common example. We’ll
look at an example configuration line that you might find for chsh (the
change shell program):
auth requisite pam_shells.so
This line says that the user’s shell must be in /etc/shells in order for the
user to successfully authenticate with the chsh program. Let’s see how. Each
configuration line has three fields: a function type, control argument, and
module, in that order. Here’s what they mean for this example:
Function type The function that a user application asks PAM to perform.
Here, it’s auth, the task of authenticating the user.
Control argument This setting controls what PAM does after success
or failure of its action for the current line (requisite in this example).
We’ll get to this shortly.
Module The authentication module that runs for this line, determining
what the line actually does. Here, the pam_shells.so module checks
to see whether the user’s current shell is listed in /etc/shells.
PAM configuration is detailed on the pam.conf(5) manual page. Let’s
look at a few of the essentials.
Function Types
A user application can ask PAM to perform one of the following four
functions:
auth Authenticate a user (see if the user is who they say they are).
account Check user account status (whether the user is authorized to
do something, for example).
session Perform something only for the user’s current session (such as
displaying a message of the day).
password Change a user’s password or other credentials.
For any configuration line, the module and function together determine
PAM’s action. A module can have more than one function type, so
System Configuration: Logging, System Time, Batch Jobs, and Users 167
when determining the purpose of a configuration line, always remember to
consider the function and module as a pair. For example, the pam_unix.so
module checks a password when performing the auth function, but it sets a
password when performing the password function.
Control Arguments and Stacked Rules
One important feature of PAM is that the rules specified by its configuration
lines stack, meaning that you can apply many rules when performing a
function. This is why the control argument is important: The success or failure
of an action in one line can impact following lines or cause the entire
function to succeed or fail.
There are two kinds of control arguments: the simple syntax and a
more advanced syntax. Here are the three major simple syntax control
arguments that you’ll find in a rule:
sufficient If this rule succeeds, the authentication is successful, and
PAM does not need to look at any more rules. If the rule fails, PAM proceeds
to additional rules.
requisite If this rule succeeds, PAM proceeds to additional rules. If
the rule fails, the authentication is unsuccessful, and PAM does not
need to look at any more rules.
required If this rule succeeds, PAM proceeds to additional rules. If
the rule fails, PAM proceeds to additional rules but will always return
an unsuccessful authentication regardless of the end result of the additional
rules.
Continuing with the preceding example, here is an example stack for
the chsh authentication function:
auth sufficient pam_rootok.so
auth requisite pam_shells.so
auth sufficient pam_unix.so
auth required pam_deny.so
With this configuration, when the chsh command asks PAM to perform
the authentication function, PAM does the following (see Figure 7-4 for a
flowchart):
1. The pam_rootok.so module checks to see if the root user is the one trying
to authenticate. If so, it immediately succeeds and attempts no further
authentication. This works because the control argument is set
to sufficient, meaning that success from this action is good enough
for PAM to immediately report success back to chsh. Otherwise, it proceeds
to Step 2.
2. The pam_shells.so module checks to see if the user’s shell is in /etc/shells.
If the shell is not there, the module returns failure, and the requisite
control argument indicates that PAM must immediately report this
168 Chapter 7
failure back to chsh and attempt no further authentication. Otherwise,
the shell is in /etc/shells, so the module returns success and fulfills the
control flag of required; proceed to Step 3.
3. The pam_unix.so module asks the user for the user’s password and checks
it. The control argument is set to sufficient, so success from this module
(a correct password) is enough for PAM to report success to chsh. If the
password is incorrect, PAM continues to Step 4.
4. The pam_deny.so module always fails, and because the required control
argument is present, PAM reports failure back to chsh. This is a default
for when there’s nothing left to try. (Note that a required control argument
does not cause PAM to fail its function immediately—it will run
any lines left on its stack—but the report back to the application will
always be of failure.)
PAM start: request to authenticate
pam_rootok.so:
Is root trying to authenticate?
Yes
No
No
Yes
Yes
No
pam_shells.so:
Is shell in /etc/shells?
pam_unix.so:
Did user enter correct password?
pam_deny.so:
Always fail
Authentication failed Authentication successful
Figure 7-4: PAM rule execution flow
System Configuration: Logging, System Time, Batch Jobs, and Users 169
NOT E Don’t confuse the terms function and action when working with PAM. The function
is the high-level goal: what the user application wants PAM to do (authenticate
a user, for example). An action is a specific step that PAM takes in order to reach that
goal. Just remember that the user application invokes the function first and that PAM
takes care of the particulars with actions.
The advanced control argument syntax, denoted inside square brackets
([]), allows you to manually control a reaction based on the specific
return value of the module (not just success or failure). For details, see
the pam.conf(5) manual page; when you understand the simple syntax,
you’ll have no trouble with the advanced syntax.
Module Arguments
PAM modules can take arguments after the module name. You’ll often
encounter this example with the pam_unix.so module:
auth sufficient pam_unix.so nullok
The nullok argument here says that the user can have no password (the
default would be fail if the user has no password).
7.10.2 Notes on PAM
Due to its control flow capability and module argument syntax, the PAM
configuration syntax has many features of a programming language and
a certain degree of power. We’ve only scratched the surface so far, but here
are a few more tips on PAM:
• To find out which PAM modules are present on your system, try
man -k pam_ (note the underscore). It can be difficult to track down
the location of modules. Try the locate unix_pam.so command and see
where that leads you.
• The manual pages contain the functions and arguments for each module.
• Many distributions automatically generate certain PAM configuration
files, so it may not be wise to change them directly in /etc/pam.d. Read
the comments in your /etc/pam.d files before editing them; if they’re
generated files, the comments will tell you where they came from.
• The /etc/pam.d/other configuration file defines the default configuration
for any application that lacks its own configuration file. The default is
often to deny everything.
• There are different ways to include additional configuration files in a
PAM configuration file. The @include syntax loads an entire configuration
file, but you can also use a control argument to load only the configuration
for a particular function. The usage varies among distributions.
• PAM configuration doesn’t end with module arguments. Some modules
can access additional files in /etc/security, usually to configure per-user
restrictions.
170 Chapter 7
7.10.3 PAM and Passwords
Due to the evolution of Linux password verification over the years, a number
of password configuration artifacts remain that can cause confusion at
times. The first to be aware of is the file /etc/login.defs. This is the configuration
file for the original shadow password suite. It contains information
about the encryption algorithm used for the shadow password file, but it’s
rarely used on a modern system with PAM installed, because the PAM configuration
contains this information. This said, the encryption algorithm in
/etc/login.defs should match the PAM configuration in the rare case that you
run into an application that doesn’t support PAM.
Where does PAM get its information about the password encryption
scheme? Recall that there are two ways for PAM to interact with passwords:
the auth function (for verifying a password) and the password function (for
setting a password). It’s easiest to track down the password-setting parameter.
The best way is probably just to grep it:
$ grep password.*unix /etc/pam.d/*
The matching lines should contain pam_unix.so and look something
like this:
password sufficient pam_unix.so obscure sha512
The arguments obscure and sha512 tell PAM what to do when setting a
password. First, PAM checks to see if the password is “obscure” enough (that
is, the password isn’t too similar to the old password, among other things),
and then PAM uses the SHA512 algorithm to encrypt the new password.
But this happens only when a user sets a password, not when PAM is
verifying a password. So how does PAM know which algorithm to use when
authenticating? Unfortunately, the configuration won’t tell you anything;
there are no encryption arguments for pam_unix.so for the auth function.
The manual pages also tell you nothing.
It turns out that (as of this writing) pam_unix.so simply tries to guess the
algorithm, usually by asking the libcrypt library to do the dirty work of trying
a whole bunch of things until something works or there’s nothing left to try.
Therefore, you normally don’t have to worry about the verification encryption
algorithm.
7.11 Looking Forward
We’re now at about the midpoint in our progression through this book,
having covered many of the vital building blocks of a Linux system. The
discussion of logging and users on a Linux system has introduced you to
what makes it possible to divide services and tasks into small, independent
chunks that still know how to interact to a certain extent.
This chapter dealt almost exclusively with user space, and we now need
to refine our view of user-space processes and the resources they consume.
To do so, we’ll go back into the kernel in Chapter 8.
8
A Closer Look at Processes
and Resource Utiliz ation
This chapter takes you deeper into the relationships
between processes, the kernel,
and system resources. There are three basic
kinds of hardware resources: CPU, memory,
and I/O. Processes vie for these resources, and the kernel’s
job is to allocate resources fairly. The kernel itself
is also a resource—a software resource that processes
use to perform tasks such as creating new processes
and communicating with other processes.
Many of the tools that you see in this chapter are often thought of as
performance-monitoring tools. They’re particularly helpful if your system
is slowing to a crawl and you’re trying to figure out why. However, you
shouldn’t get too distracted by performance; trying to optimize a system
that’s already working correctly is often a waste of time. Instead, concentrate
on understanding what the tools actually measure, and you’ll gain
great insight into how the kernel works.
172 Chapter 8
8.1 Tracking Processes
You learned how to use ps in Section 2.16 to list processes running on your
system at a particular time. The ps command lists current processes, but it
does little to tell you how processes change over time. Therefore, it won’t
really help you to determine which process is using too much CPU time or
memory.
The top program is often more useful than ps because it displays the
current system status as well as many of the fields in a ps listing, and it
updates the display every second. Perhaps most important is that top shows
the most active processes (that is, those currently taking up the most CPU
time) at the top of its display.
You can send commands to top with keystrokes. These are some of the
most important commands:
Spacebar Updates the display immediately.
M Sorts by current resident memory usage.
T Sorts by total (cumulative) CPU usage.
P Sorts by current CPU usage (the default).
u Displays only one user’s processes.
f Selects different statistics to display.
? Displays a usage summary for all top commands.
Two other utilities for Linux, similar to top, offer an enhanced set of
views and features: atop and htop. Most of the extra features are available
from other utilities. For example, htop has many of abilities of the lsof command
described in the next section.
8.2 Finding Open Files with lsof
The lsof command lists open files and the processes using them. Because
Unix places a lot of emphasis on files, lsof is among the most useful tools
for finding trouble spots. But lsof doesn’t stop at regular files—it can list
network resources, dynamic libraries, pipes, and more.
8.2.1 Reading the lsof Output
Running lsof on the command line usually produces a tremendous amount
of output. Below is a fragment of what you might see. This output includes
open files from the init process as well as a running vi process:
$ lsof
COMMAND PID USER FD TYPE DEVICE SIZE NODE NAME
init 1 root cwd DIR 8,1 4096 2 /
init 1 root rtd DIR 8,1 4096 2 /
init 1 root mem REG 8, 47040 9705817 /lib/i386-linux-gnu/libnss_files-2.15.so
init 1 root mem REG 8,1 42652 9705821 /lib/i386-linux-gnu/libnss_nis-2.15.so
init 1 root mem REG 8,1 92016 9705833 /lib/i386-linux-gnu/libnsl-2.15.so
--snip--
A Closer Look at Processes and Resource Utilization 173
vi 22728 juser cwd DIR 8,1 4096 14945078 /home/juser/w/c
vi 22728 juser 4u REG 8,1 1288 1056519 /home/juser/w/c/f
--snip--
The output shows the following fields (listed in the top row):
COMMAND The command name for the process that holds the
file descriptor.
PID The process ID.
USER The user running the process.
FD This field can contain two kinds of elements. In the output above,
the FD column shows the purpose of the file. The FD field can also
list the file descriptor of the open file—a number that a process uses
together with the system libraries and kernel to identify and manipulate
a file.
TYPE The file type (regular file, directory, socket, and so on).
DEVICE The major and minor number of the device that holds
the file.
SIZE The file’s size.
NODE The file’s inode number.
NAME The filename.
The lsof(1) manual page contains a full list of what you might see for
each field, but you should be able to figure out what you’re looking at just
by looking at the output. For example, look at the entries with cwd in the FD
field as highlighted in bold. These lines indicate the current working directories
of the processes. Another example is the very last line, which shows a
file that the user is currently editing with vi.
8.2.2 Using lsof
There are two basic approaches to running lsof:
• List everything and pipe the output to a command like less, and then
search for what you’re looking for. This can take a while due to the
amount of output generated.
• Narrow down the list that lsof provides with command-line options.
You can use command-line options to provide a filename as an argument
and have lsof list only the entries that match the argument. For example,
the following command displays entries for open files in /usr:
$ lsof /usr
To list the open files for a particular process ID, run:
$ lsof -p pid
174 Chapter 8
For a brief summary of lsof’s many options, run lsof -h. Most options
pertain to the output format. (See Chapter 10 for a discussion of the lsof
network features.)
NOTE lsof is highly dependent on kernel information. If you upgrade your kernel and
you’re not routinely updating everything, you might need to upgrade lsof. In addition,
if you perform a distribution update to both the kernel and lsof, the updated
lsof might not work until you reboot with the new kernel.
8.3 Tracing Program Execution and System Calls
The tools we’ve seen so far examine active processes. However, if you have
no idea why a program dies almost immediately after starting up, even lsof
won’t help you. In fact, you’d have a difficult time even running lsof concurrently
with a failed command.
The strace (system call trace) and ltrace (library trace) commands
can help you discover what a program attempts to do. These tools produce
extraordinarily large amounts of output, but once you know what to look
for, you’ll have more tools at your disposal for tracking down problems.
8.3.1 strace
Recall that a system call is a privileged operation that a user-space process
asks the kernel to perform, such as opening and reading data from a file.
The strace utility prints all the system calls that a process makes. To see it
in action, run this command:
$ strace cat /dev/null
In Chapter 1, you learned that when one process wants to start another
process, it invokes the fork() system call to spawn a copy of itself, and then
the copy uses a member of the exec() family of system calls to start running
a new program. The strace command begins working on the new process
(the copy of the original process) just after the fork() call. Therefore, the
first lines of the output from this command should show execve() in action,
followed by a memory initialization call, brk(), as follows:
execve("/bin/cat", ["cat", "/dev/null"], [/* 58 vars */]) = 0
brk(0) = 0x9b65000
The next part of the output deals primarily with loading shared libraries.
You can ignore this unless you really want to know what the shared library
system does.
A Closer Look at Processes and Resource Utilization 175
access("/etc/ld.so.nohwcap", F_OK) = -1 ENOENT (No such file or directory)
mmap2(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb77b5000
access("/etc/ld.so.preload", R_OK) = -1 ENOENT (No such file or directory)
open("/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3
--snip--
open("/lib/libc.so.6", O_RDONLY) = 3
read(3, "\177ELF\1\1\1\0\0\0\0\0\0\0\0\0\3\0\3\0\1\0\0\0\200^\1"..., 1024) = 1024
In addition, skip past the mmap output until you get to the lines that look
like this:
fstat64(1, {st_mode=S_IFCHR|0620, st_rdev=makedev(136, 6), ...}) = 0
open("/dev/null", O_RDONLY|O_LARGEFILE) = 3
fstat64(3, {st_mode=S_IFCHR|0666, st_rdev=makedev(1, 3), ...}) = 0
fadvise64_64(3, 0, 0, POSIX_FADV_SEQUENTIAL) = 0
read(3, "", 32768) = 0
close(3) = 0
close(1) = 0
close(2) = 0
exit_group(0) = ?
This part of the output shows the command at work. First, look at the
open() call, which opens a file. The 3 is a result that means success (3 is the
file descriptor that the kernel returns after opening the file). Below that,
you see where cat reads from /dev/null (the read() call, which also has 3 as
the file descriptor). Then there’s nothing more to read, so the program
closes the file descriptor and exits with exit_group().
What happens when there’s a problem? Try strace cat not_a_file instead
and examine the open() call in the resulting output:
open("not_a_file", O_RDONLY|O_LARGEFILE) = -1 ENOENT (No such file or directory)
Because open() couldn’t open the file, it returned -1 to signal an error.
You can see that strace reports the exact error and gives you a small description
of the error.
Missing files are the most common problems with Unix programs, so if
the system log and other log information aren’t very helpful and you have
nowhere else to turn, strace can be of great use. You can even use it on daemons
that detach themselves. For example:
$ strace -o crummyd_strace -ff crummyd
In this example, the -o option to strace logs the action of any child process
that crummyd spawns into crummyd_strace.pid, where pid is the process ID
of the child process.
176 Chapter 8
8.3.2 ltrace
The ltrace command tracks shared library calls. The output is similar to
that of strace, which is why we’re mentioning it here, but it doesn’t track
anything at the kernel level. Be warned that there are many more shared
library calls than system calls. You’ll definitely need to filter the output,
and ltrace itself has many built-in options to assist you.
NOTE See Section 15.1.4 for more on shared libraries. The ltrace command doesn’t work on
statically linked binaries.
8.4 Threads
In Linux, some processes are divided into pieces called threads. A thread is
very similar to a process—it has an identifier (TID, or thread ID), and the
kernel schedules and runs threads just like processes. However, unlike separate
processes, which usually do not share system resources such as memory
and I/O connections with other processes, all threads inside a single process
share their system resources and some memory.
8.4.1 Single-Threaded and Multithreaded Processes
Many processes have only one thread. A process with one thread is singlethreaded,
and a process with more than one thread is multithreaded. All processes
start out single-threaded. This starting thread is usually called the main
thread. The main thread may then start new threads in order for the process
to become multithreaded, similar to the way a process can call fork() to start
a new process.
NOTE It’s rare to refer to threads at all when a process is single-threaded. This book will not
mention threads unless multithreaded processes make a difference in what you see or
experience.
The primary advantage of a multithreaded process is that when the
process has a lot to do, threads can run simultaneously on multiple processors,
potentially speeding up computation. Although you can also achieve
simultaneous computation with multiple processes, threads start faster than
processes, and it is often easier and/or more efficient for threads to intercommunicate
using their shared memory than it is for processes to communicate
over a channel such as a network connection or a pipe.
Some programs use threads to overcome problems managing multiple
I/O resources. Traditionally, a process would sometimes use fork() to
start a new subprocess in order to deal with a new input or output stream.
Threads offer a similar mechanism without the overhead of starting a new
process.
A Closer Look at Processes and Resource Utilization 177
8.4.2 Viewing Threads
By default, the output from the ps and top commands shows only processes.
To display the thread information in ps, add the m option. Here is some
sample output:
$ ps m
PID TTY STAT TIME COMMAND
3587 pts/3 - 0:00 bashu
- - Ss 0:00 -
3592 pts/4 - 0:00 bashv
- - Ss 0:00 -
12287 pts/8 - 0:54 /usr/bin/python /usr/bin/gm-notifyw
- - SLl 0:48 -
- - SLl 0:00 -
- - SLl 0:06 -
- - SLl 0:00 -
Listing 8-1: Viewing threads with ps m
Listing 8-1 shows processes along with threads. Each line with a number
in the PID column (at , , and ) represents a process, as in the normal ps
output. The lines with the dashes in the PID column represent the threads
associated with the process. In this output, the processes at  and  have
only one thread each, but process 12287 at  is multithreaded with four
threads.
If you would like to view the thread IDs with ps, you can use a custom
output format. This example shows only the process IDs, thread IDs, and
command:
$ ps m -o pid,tid,command
PID TID COMMAND
3587 - bash
- 3587 -
3592 - bash
- 3592 -
12287 - /usr/bin/python /usr/bin/gm-notify
- 12287 -
- 12288 -
- 12289 -
- 12295 -
Listing 8-2: Showing process IDs and thread IDs with ps m
The sample output in Listing 8-2 corresponds to the threads shown in
Listing 8-1. Notice that the thread IDs of the single-threaded processes are
identical to the process IDs; this is the main thread. For the multithreaded
process 12287, thread 12287 is also the main thread.
NOTE Normally, you won’t interact with individual threads as you would processes. You
need to know a lot about how a multithreaded program was written in order to act
on one thread at a time, and even then, doing so might not be a good idea.
178 Chapter 8
Threads can confuse things when it comes to resource monitoring because
individual threads in a multithreaded process can consume resources simultaneously.
For example, top doesn’t show threads by default; you’ll need to press
H to turn it on. For most of the resource monitoring tools that you’re about to
see, you’ll have to do a little extra work to turn on the thread display.
8.5 Introduction to Resource Monitoring
Now we’ll discuss some topics in resource monitoring, including processor
(CPU) time, memory, and disk I/O. We’ll examine utilization on a systemwide
scale, as well as on a per-process basis.
Many people touch the inner workings of the Linux kernel in the interest
of improving performance. However, most Linux systems perform well under
a distribution’s default settings, and you can spend days trying to tune your
machine’s performance without meaningful results, especially if you don’t
know what to look for. So rather than think about performance as you experiment
with the tools in this chapter, think about seeing the kernel in action as
it divides resources among processes.
8.6 Measuring CPU Time
To monitor one or more specific processes over time, use the -p option to
top, with this syntax:
$ top -p pid1 [-p pid2 ...]
To find out how much CPU time a command uses during its lifetime, use
time. Most shells have a built-in time command that doesn’t provide extensive
statistics, so you’ll probably need to run /usr/bin/time. For example, to
measure the CPU time used by ls, run
$ /usr/bin/time ls
After ls terminates, time should print output like that below. The key
fields are in boldface:
0.05user 0.09system 0:00.44elapsed 31%CPU (0avgtext+0avgdata 0maxresident)k
0inputs+0outputs (125major+51minor)pagefaults 0swaps
User time The number of seconds that the CPU has spent running
the program’s own code. On modern processors, some commands run
so quickly, and therefore the CPU time is so low, that time rounds down
to zero.
System time How much time the kernel spends doing the process’s
work (for example, reading files and directories).
A Closer Look at Processes and Resource Utilization 179
Elapsed time The total time it took to run the process from start to
finish, including the time that the CPU spent doing other tasks. This
number is normally not very useful for performance measurement, but
subtracting the user and system time from elapsed time can give you a
general idea of how long a process spends waiting for system resources.
The remainder of the output primarily details memory and I/O usage.
You’ll learn more about the page fault output in Section 8.9.
8.7 Adjusting Process Priorities
You can change the way the kernel schedules a process in order to give
the process more or less CPU time than other processes. The kernel
runs each process according to its scheduling priority, which is a number
between –20 and 20, with –20 being the foremost priority. (Yes, this can
be confusing.)
The ps -l command lists the current priority of a process, but it’s a little
easier to see the priorities in action with the top command, as shown here:
$ top
Tasks: 244 total, 2 running, 242 sleeping, 0 stopped, 0 zombie
Cpu(s): 31.7%us, 2.8%sy, 0.0%ni, 65.4%id, 0.2%wa, 0.0%hi, 0.0%si, 0.0%st
Mem: 6137216k total, 5583560k used, 553656k free, 72008k buffers
Swap: 4135932k total, 694192k used, 3441740k free, 767640k cached
PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND
28883 bri 20 0 1280m 763m 32m S 58 12.7 213:00.65 chromium-browse
1175 root 20 0 210m 43m 28m R 44 0.7 14292:35 Xorg
4022 bri 20 0 413m 201m 28m S 29 3.4 3640:13 chromium-browse
4029 bri 20 0 378m 206m 19m S 2 3.5 32:50.86 chromium-browse
3971 bri 20 0 881m 359m 32m S 2 6.0 563:06.88 chromium-browse
5378 bri 20 0 152m 10m 7064 S 1 0.2 24:30.21 compiz
3821 bri 20 0 312m 37m 14m S 0 0.6 29:25.57 soffice.bin
4117 bri 20 0 321m 105m 18m S 0 1.8 34:55.01 chromium-browse
4138 bri 20 0 331m 99m 21m S 0 1.7 121:44.19 chromium-browse
4274 bri 20 0 232m 60m 13m S 0 1.0 37:33.78 chromium-browse
4267 bri 20 0 1102m 844m 11m S 0 14.1 29:59.27 chromium-browse
2327 bri 20 0 301m 43m 16m S 0 0.7 109:55.65 unity-2d-shell
In the top output above, the PR (priority) column lists the kernel’s current
schedule priority for the process. The higher the number, the less likely
the kernel is to schedule the process if others need CPU time. The schedule
priority alone does not determine the kernel’s decision to give CPU time to
a process, and it changes frequently during program execution according to
the amount of CPU time that the process consumes.
Next to the priority column is the nice value (NI) column, which gives
a hint to the kernel’s scheduler. This is what you care about when trying to
influence the kernel’s decision. The kernel adds the nice value to the current
priority to determine the next time slot for the process.
180 Chapter 8
By default, the nice value is 0. Now, say you’re running a big computation
in the background that you don’t want to bog down your interactive
session. To have that process take a backseat to other processes and run
only when the other tasks have nothing to do, you could change the nice
value to 20 with the renice command (where pid is the process ID of the
process that you want to change):
$ renice 20 pid
If you’re the superuser, you can set the nice value to a negative number,
but doing so is almost always a bad idea because system processes may not
get enough CPU time. In fact, you probably won’t need to alter nice values
much because many Linux systems have only a single user, and that user
does not perform much real computation. (The nice value was much more
important back when there were many users on a single machine.)
8.8 Load Averages
CPU performance is one of the easier metrics to measure. The load average
is the average number of processes currently ready to run. That is, it is
an estimate of the number of processes that are capable of using the CPU
at any given time. When thinking about a load average, keep in mind that
most processes on your system are usually waiting for input (from the keyboard,
mouse, or network, for example), meaning that most processes are
not ready to run and should contribute nothing to the load average. Only
processes that are actually doing something affect the load average.
8.8.1 Using uptime
The uptime command tells you three load averages in addition to how long
the kernel has been running:
$ uptime
... up 91 days, ... load average: 0.08, 0.03, 0.01
The three bolded numbers are the load averages for the past 1 minute,
5 minutes, and 15 minutes, respectively. As you can see, this system isn’t
very busy: An average of only 0.01 processes have been running across all
processors for the past 15 minutes. In other words, if you had just one processor,
it was only running user-space applications for 1 percent of the last
15 minutes. (Traditionally, most desktop systems would exhibit a load average
of about 0 when you were doing anything except compiling a program
or playing a game. A load average of 0 is usually a good sign, because it
means that your processor isn’t being challenged and you’re saving power.)
A Closer Look at Processes and Resource Utilization 181
NOTE User interface components on current desktop systems tend to occupy more of the CPU
than those in the past. For example, on Linux systems, a web browser’s Flash plugin
can be a particularly notorious resource hog, and Flash applications can easily
occupy much of a system’s CPU and memory due to poor all-around implementation.
If a load average goes up to around 1, a single process is probably using
the CPU nearly all of the time. To identify that process, use the top command;
the process will usually rise to the the top of the display.
Most modern systems have more than one processor core or CPU, so
multiple processes can easily run simultaneously. If you have two cores,
a load average of 1 means that only one of the cores is likely active at any
given time, and a load average of 2 means that both cores have just enough
to do all of the time.
8.8.2 High Loads
A high load average does not necessarily mean that your system is having
trouble. A system with enough memory and I/O resources can easily handle
many running processes. If your load average is high and your system still
responds well, don’t panic: The system just has a lot of processes sharing the
CPU. The processes have to compete with each other for processor time, and
as a result they’ll take longer to perform their computations than they would
if they were each allowed to use the CPU all of the time. Another case where
you might see a high load average as normal is a web server, where processes
can start and terminate so quickly that the load average measurement mechanism
can’t function effectively.
However, if you sense that the system is slow and the load average is
high, you might be running into memory performance problems. When
the system is low on memory, the kernel can start to thrash, or rapidly swap
memory for processes to and from the disk. When this happens, many processes
will become ready to run, but their memory might not be available,
so they will remain in the ready-to-run state (and contribute to the load
average) for much longer than they normally would.
We’ll now look at memory in much more detail.
8.9 Memory
One of the simplest ways to check your system’s memory status as a whole
is to run the free command or view /proc/meminfo to see how much real
memory is being used for caches and buffers. As we’ve just mentioned,
performance problems can arise from memory shortages. If there isn’t
much cache/buffer memory being used (and the rest of the real memory is
taken), you may need more memory. However, it’s too easy to blame a shortage
of memory for every performance problem on your machine.
182 Chapter 8
8.9.1 How Memory Works
Recall from Chapter 1 that the CPU has a memory management unit
(MMU) that translates the virtual memory addresses used by processes
into real ones. The kernel assists the MMU by breaking the memory used
by processes into smaller chunks called pages. The kernel maintains a data
structure, called a page table, that contains a mapping of a processes’ virtual
page addresses to real page addresses in memory. As a process accesses
memory, the MMU translates the virtual addresses used by the process into
real addresses based on the kernel’s page table.
A user process does not actually need all of its pages to be immediately
available in order to run. The kernel generally loads and allocates pages
as a process needs them; this system is known as on-demand paging or just
demand paging. To see how this works, consider how a program starts and
runs as a new process:
1. The kernel loads the beginning of the program’s instruction code into
memory pages.
2. The kernel may allocate some working-memory pages to the new process.
3. As the process runs, it might reach a point where the next instruction
in its code isn’t in any of the pages that the kernel initially loaded. At
this point, the kernel takes over, loads the necessary pages into memory,
and then lets the program resume execution.
4. Similarly, if the program requires more working memory than was initially
allocated, the kernel handles it by finding free pages (or by making
room) and assigning them to the process.
8.9.2 Page Faults
If a memory page is not ready when a process wants to use it, the process
triggers a page fault. In the event of a page fault, the kernel takes control
of the CPU from the process in order to get the page ready. There are two
kinds of page faults: minor and major.
Minor Page Faults
A minor page fault occurs when the desired page is actually in main memory
but the MMU doesn’t know where it is. This can happen when the process
requests more memory or when the MMU doesn’t have enough space
to store all of the page locations for a process. In this case, the kernel tells
the MMU about the page and permits the process to continue. Minor page
faults aren’t such a big deal, and many occur as a process runs. Unless you
need maximum performance from some memory-intensive program, you
probably shouldn’t worry about them.
Major Page Faults
A major page fault occurs when the desired memory page isn’t in main
memory at all, which means that the kernel must load it from the disk or
A Closer Look at Processes and Resource Utilization 183
some other slow storage mechanism. A lot of major page faults will bog the
system down because the kernel must do a substantial amount of work to
provide the pages, robbing normal processes of their chance to run.
Some major page faults are unavoidable, such as those that occur when
you load the code from disk when running a program for the first time.
The biggest problems happen when you start running out of memory and
the kernel starts to swap pages of working memory out to the disk in order
to make room for new pages.
Watching Page Faults
You can drill down to the page faults for individual processes with the ps,
top, and time commands. The following command shows a simple example
of how the time command displays page faults. (The output of the cal command
doesn’t matter, so we’re discarding it by redirecting that to /dev/null.)
$ /usr/bin/time cal > /dev/null
0.00user 0.00system 0:00.06elapsed 0%CPU (0avgtext+0avgdata 3328maxresident)k
648inputs+0outputs (2major+254minor)pagefaults 0swaps
As you can see from the bolded text, when this program ran, there were
2 major page faults and 254 minor ones. The major page faults occurred
when the kernel needed to load the program from the disk for the first
time. If you ran the command again, you probably wouldn’t get any major
page faults because the kernel would have cached the pages from the disk.
If you’d rather see the page faults of processes as they’re running, use
top or ps. When running top, use f to change the displayed fields and u to
display the number of major page faults. (The results will show up in a new,
nFLT column. You won’t see the minor page faults.)
When using ps, you can use a custom output format to view the page
faults for a particular process. Here’s an example for process ID 20365:
$ ps -o pid,min_flt,maj_flt 20365
PID MINFL MAJFL
20365 834182 23
The MINFL and MAJFL columns show the numbers of minor and major
page faults. Of course, you can combine this with any other process selection
options, as described in the ps(1) manual page.
Viewing page faults by process can help you zero in on certain problematic
components. However, if you’re interested in your system performance
as a whole, you need a tool to summarize CPU and memory action across all
processes.
8.10 Monitoring CPU and Memory Performance with vmstat
Among the many tools available to monitor system performance, the vmstat
command is one of the oldest, with minimal overhead. You’ll find it handy
184 Chapter 8
for getting a high-level view of how often the kernel is swapping pages in
and out, how busy the CPU is, and IO utilization.
The trick to unlocking the power of vmstat is to understand its output.
For example, here’s some output from vmstat 2, which reports statistics every
2 seconds:
$ vmstat 2
procs -----------memory---------- ---swap-- -----io---- -system-- ----cpu----
r b swpd free buff cache si so bi bo in cs us sy id wa
2 0 320416 3027696 198636 1072568 0 0 1 1 2 0 15 2 83 0
2 0 320416 3027288 198636 1072564 0 0 0 1182 407 636 1 0 99 0
1 0 320416 3026792 198640 1072572 0 0 0 58 281 537 1 0 99 0
0 0 320416 3024932 198648 1074924 0 0 0 308 318 541 0 0 99 1
0 0 320416 3024932 198648 1074968 0 0 0 0 208 416 0 0 99 0
0 0 320416 3026800 198648 1072616 0 0 0 0 207 389 0 0 100 0
The output falls into categories: procs for processes, memory for memory
usage, swap for the pages pulled in and out of swap, io for disk usage, system
for the number of times the kernel switches into kernel code, and cpu for
the time used by different parts of the system.
The preceding output is typical for a system that isn’t doing much.
You’ll usually start looking at the second line of output—the first one is
an average for the entire uptime of the system. For example, here the system
has 320416KB of memory swapped out to the disk (swpd) and around
3025000KB (3 GB) of real memory free. Even though some swap space is in
use, the zero-valued si (swap-in) and so (swap-out) columns report that the
kernel is not currently swapping anything in or out from the disk. The buff
column indicates the amount of memory that the kernel is using for disk
buffers (see Section 4.2.5).
On the far right, under the CPU heading, you see the distribution of
CPU time in the us, sy, id, and wa columns. These list (in order) the percentage
of time that the CPU is spending on user tasks, system (kernel) tasks,
idle time, and waiting for I/O. In the preceding example, there aren’t too
many user processes running (they’re using a maximum of 1 percent of
the CPU); the kernel is doing practically nothing, while the CPU is sitting
around doing nothing 99 percent of the time.
Now, watch what happens when a big program starts up sometime later
(the first two lines occur right before the program runs):
procs -----------memory---------- ---swap-- -----io---- -system-- ----cpu----
r b swpd free buff cache si so bi bo in cs us sy id wa
1 0 320412 2861252 198920 1106804 0 0 0 0 2477 4481 25 2 72 0u
1 0 320412 2861748 198924 1105624 0 0 0 40 2206 3966 26 2 72 0
1 0 320412 2860508 199320 1106504 0 0 210 18 2201 3904 26 2 71 1
1 1 320412 2817860 199332 1146052 0 0 19912 0 2446 4223 26 3 63 8
2 2 320284 2791608 200612 1157752 202 0 4960 854 3371 5714 27 3 51 18v
1 1 320252 2772076 201076 1166656 10 0 2142 1190 4188 7537 30 3 53 14
0 3 320244 2727632 202104 1175420 20 0 1890 216 4631 8706 36 4 46 14
Listing 8-3: Memory activity
A Closer Look at Processes and Resource Utilization 185
As you can see at  in Listing 8-3, the CPU starts to see some usage
for an extended period, especially from user processes. Because there is
enough free memory, the amount of cache and buffer space used starts to
increase as the kernel starts to use the disk more.
Later on, we see something interesting: Notice at  that the kernel
pulls some pages into memory that were once swapped out (the si column).
This means that the program that just ran probably accessed some pages
shared by another process. This is common; many processes use the code in
certain shared libraries only when starting up.
Also notice from the b column that a few processes are blocked (prevented
from running) while waiting for memory pages. Overall, the amount of free
memory is decreasing, but it’s nowhere near being depleted. There’s also
a fair amount of disk activity, as seen by the increasing numbers in the bi
(blocks in) and bo (blocks out) columns.
The output is quite different when you run out of memory. As the free
space depletes, both the buffer and cache sizes decrease because the kernel
increasingly needs the space for user processes. Once there is nothing
left, you’ll start to see activity in the so (swapped out) column as the kernel
starts moving pages onto the disk, at which point nearly all of the other output
columns change to reflect the amount of work that the kernel is doing.
You see more system time, more data going in and out of the disk, and
more processes blocked because the memory they want to use is not available
(it has been swapped out).
We haven’t explained all of the vmstat output columns. You can dig
deeper into them in the vmstat(8) manual page, but you might have to learn
more about kernel memory management first from a class or a book like
Operating System Concepts, 9th edition (Wiley, 2012) in order to understand
them.
8.11 I/O Monitoring
By default, vmstat shows you some general I/O statistics. Although you can
get very detailed per-partition resource usage with vmstat -d, you’ll get a lot
of output from this option, which might be overwhelming. Instead, try starting
out with a tool just for I/O called iostat.
8.11.1 Using iostat
Like vmstat, when run without any options, iostat shows the statistics for your
machine’s current uptime:
$ iostat
[kernel information]
avg-cpu: %user %nice %system %iowait %steal %idle
4.46 0.01 0.67 0.31 0.00 94.55
Device: tps kB_read/s kB_wrtn/s kB_read kB_wrtn
sda 4.67 7.28 49.86 9493727 65011716
sde 0.00 0.00 0.00 1230 0
186 Chapter 8
The avg-cpu part at the top reports the same CPU utilization information
as other utilities that you’ve seen in this chapter, so skip down to the
bottom, which shows you the following for each device:
tps Average number of data transfers per second
kB_read/s Average number of kilobytes read per second
kB_wrtn/s Average number of kilobytes written per second
kB_read Total number of kilobytes read
kB_wrtn Total number of kilobytes written
Another similarity to vmstat is that you can give an interval argument,
such as iostat 2, to give an update every 2 seconds. When using an interval,
you might want to display only the device report by using the -d option
(such as iostat -d 2).
By default, the iostat output omits partition information. To show all
of the partition information, use the -p ALL option. Because there are many
partitions on a typical system, you’ll get a lot of output. Here’s part of what
you might see:
$ iostat -p ALL
--snip--
Device: tps kB_read/s kB_wrtn/s kB_read kB_wrtn
--snip--
sda 4.67 7.27 49.83 9496139 65051472
sda1 4.38 7.16 49.51 9352969 64635440
sda2 0.00 0.00 0.00 6 0
sda5 0.01 0.11 0.32 141884 416032
scd0 0.00 0.00 0.00 0 0
--snip--
sde 0.00 0.00 0.00 1230 0
In this example, sda1, sda2, and sda5 are all partitions of the sda disk, so
there will be some overlap between the read and written columns. However,
the sum of the partition columns won’t necessarily add up to the disk column.
Although a read from sda1 also counts as a read from sda, keep in mind
that you can read from sda directly, such as when reading the partition table.
8.11.2 Per-Process I/O Utilization and Monitoring: iotop
If you need to dig even deeper to see I/O resources used by individual processes,
the iotop tool can help. Using iotop is similar to using top. There is a
continuously updating display that shows the processes using the most I/O,
with a general summary at the top:
# iotop
Total DISK READ: 4.76 K/s | Total DISK WRITE: 333.31 K/s
TID PRIO USER DISK READ DISK WRITE SWAPIN IO> COMMAND
260 be/3 root 0.00 B/s 38.09 K/s 0.00 % 6.98 % [jbd2/sda1-8]
2611 be/4 juser 4.76 K/s 10.32 K/s 0.00 % 0.21 % zeitgeist-daemon
2636 be/4 juser 0.00 B/s 84.12 K/s 0.00 % 0.20 % zeitgeist-fts
1329 be/4 juser 0.00 B/s 65.87 K/s 0.00 % 0.03 % soffice.b~ash-pipe=6
A Closer Look at Processes and Resource Utilization 187
6845 be/4 juser 0.00 B/s 812.63 B/s 0.00 % 0.00 % chromium-browser
19069 be/4 juser 0.00 B/s 812.63 B/s 0.00 % 0.00 % rhythmbox
Along with the user, command, and read/write columns, notice that
there is a TID column (thread ID) instead of a process ID. The iotop tool is
one of the few utilities that displays threads instead of processes.
The PRIO (priority) column indicates the I/O priority. It’s similar to the
CPU priority that you’ve already seen, but it affects how quickly the kernel
schedules I/O reads and writes for the process. In a priority such as be/4,
the be part is the scheduling class, and the number is the priority level. As
with CPU priorities, lower numbers are more important; for example, the
kernel allows more time for I/O for a process with be/3 than one with be/4.
The kernel uses the scheduling class to add more control for I/O scheduling.
You’ll see three scheduling classes from iotop:
be Best-effort. The kernel does its best to fairly schedule I/O for this
class. Most processes run under this I/O scheduling class.
rt Real-time. The kernel schedules any real-time I/O before any other
class of I/O, no matter what.
idle Idle. The kernel performs I/O for this class only when there is no
other I/O to be done. There is no priority level for the idle scheduling
class.
You can check and change the I/O priority for a process with the ionice
utility; see the ionice(1) manual page for details. You probably will never
need to worry about the I/O priority, though.
8.12 Per-Process Monitoring with pidstat
You’ve seen how you can monitor specific processes with utilities such as
top and iotop. However, this display refreshes over time, and each update
erases the previous output. The pidstat utility allows you to see the resource
consumption of a process over time in the style of vmstat. Here’s a simple
example for monitoring process 1329, updating every second:
$ pidstat -p 1329 1
Linux 3.2.0-44-generic-pae (duplex) 07/01/2015 _i686_ (4 CPU)
09:26:55 PM PID %usr %system %guest %CPU CPU Command
09:27:03 PM 1329 8.00 0.00 0.00 8.00 1 myprocess
09:27:04 PM 1329 0.00 0.00 0.00 0.00 3 myprocess
09:27:05 PM 1329 3.00 0.00 0.00 3.00 1 myprocess
09:27:06 PM 1329 8.00 0.00 0.00 8.00 3 myprocess
09:27:07 PM 1329 2.00 0.00 0.00 2.00 3 myprocess
09:27:08 PM 1329 6.00 0.00 0.00 6.00 2 myprocess
The default output shows the percentages of user and system time and
the overall percentage of CPU time, and it even tells you which CPU the
process was running on. (The %guest column here is somewhat odd—it’s the
188 Chapter 8
percentage of time that the process spent running something inside a virtual
machine. Unless you’re running a virtual machine, don’t worry about this.)
Although pidstat shows CPU utilization by default, it can do much
more. For example, you can use the -r option to monitor memory and -d
to turn on disk monitoring. Try them out, and then look at the pidstat(1)
manual page to see even more options for threads, context switching, or
just about anything else that we’ve talked about in this chapter.
8.13 Further Topics
One reason there are so many tools to measure resource utilization is that
a wide array of resource types are consumed in many different ways. In this
chapter, you’ve seen CPU, memory, and I/O as system resources being consumed
by processes, threads inside processes, and the kernel.
The other reason that the tools exist is that the resources are limited
and, for a system to perform well, its components must strive to consume
fewer resources. In the past, many users shared a machine, so it was necessary
to make sure that each user had a fair share of resources. Now,
although a modern desktop computer may not have multiple users, it still
has many processes competing for resources. Likewise, high-performance
network servers require intense system resource monitoring.
Further topics in resource monitoring and performance analysis include
the following:
sar (System Activity Reporter) The sar package has many of the continuous
monitoring capabilities of vmstat, but it also records resource
utilization over time. With sar, you can look back at a particular time
to see what your system was doing. This is handy when you have a past
system event that you want to analyze.
acct (Process accounting) The acct package can record the processes
and their resource utilization.
Quotas You can limit many system resources on a per-process or peruser
basis. See /etc/security/limits.conf for some of the CPU and memory
options; there’s also a limits.conf(5) manual page. This is a PAM feature,
so processes are subject to this only if they’ve been started from
something that uses PAM (such as a login shell). You can also limit the
amount of disk space that a user can use with the quota system.
If you’re interested in systems tuning and performance in particular,
Systems Performance: Enterprise and the Cloud by Brendan Gregg (Prentice
Hall, 2013) goes into much more detail.
We also haven’t yet touched on the many, many tools that can be used
to monitor network resource utilization. To use those, you first have to
understand how the network works. That’s where we’re headed next.
9
Understanding Your Network
and It s Configur ation
Networking is the practice of connecting
computers and sending data between them.
That sounds simple enough, but to understand
how it works, you need to ask two fundamental
questions:
• How does the computer sending the data know where to send its data?
• When the destination computer receives the data, how does it know
what it just received?
A computer answers these questions by using a series of components,
with each one responsible for a certain aspect of sending, receiving, and
identifying data. The components are arranged in groups that form network
layers, which stack on top of each other in order to form a complete system.
The Linux kernel handles networking in a similar way to the SCSI subsystem
described in Chapter 3.
Because each layer tends to be independent, it’s possible to build networks
with many different combinations of components. This is where
network configuration can become very complicated. For this reason, we’ll
190 Chapter 9
begin this chapter by looking at the layers in very simple networks. You’ll
learn how to view your own network settings, and when you understand
the basic workings of each layer, you’ll be ready to learn how to configure
those layers by yourself. Finally, you’ll move on to more advanced topics like
building your own networks and configuring firewalls. (Skip over that material
if your eyes start to glaze over; you can always come back.)
9.1 Network Basics
Before getting into the theory of network layers, take a look at the simple
network shown in Figure 9-1.
Host A Host B Host C Router
Internet
LAN
Figure 9-1: A typical local area network with a router that provides Internet access
This type of network is ubiquitous; most home and small office networks
are configured this way. Each machine connected to the network is
called a host. The hosts are connected to a router, which is a host that can
move data from one network to another. These machines (here, Hosts A, B,
and C) and the router form a local area network (LAN). The connections
on the LAN can be wired or wireless.
The router is also connected to the Internet—the cloud in the figure.
Because the router is connected to both the LAN and the Internet, all
machines on the LAN also have access to the Internet through the router.
One of the goals of this chapter is to see how the router provides this access.
Your initial point of view will be from a Linux-based machine such as
Host A on the LAN in Figure 9-1.
9.1.1 Packets
A computer transmits data over a network in small chunks called packets,
which consist of two parts: a header and a payload. The header contains
identifying information such as the origin/destination hosts and basic
protocol. The payload, on the other hand, is the actual application data
that the computer wants to send (for example, HTML or image data).
Packets allow a host to communicate with others “simultaneously,”
because hosts can send, receive, and process packets in any order,
Understanding Your Network and Its Configuration 191
regardless of where they came from or where they’re going. Breaking messages
into smaller units also makes it easier to detect and compensate for
errors in transmission.
For the most part, you don’t have to worry about translating between
packets and the data that your application uses, because the operating system
has facilities that do this for you. However, it is helpful to know the role
of packets in the network layers that you’re about to see.
9.2 Network Layers
A fully functioning network includes a full set of network layers called a
network stack. Any functional network has a stack. The typical Internet stack,
from the top to bottom layer, looks like this:
Application layer Contains the “language” that applications and servers
use to communicate; usually a high-level protocol of some sort. Common
application layer protocols include Hypertext Transfer Protocol (HTTP,
used for the Web), Secure Socket Layer (SSL), and File Transfer Protocol
(FTP). Application layer protocols can often be combined. For example,
SSL is commonly used in conjunction with HTTP.
Transport layer Defines the data transmission characteristics of the
application layer. This layer includes data integrity checking, source
and destination ports, and specifications for breaking application
data into packets (if the application layer has not already done so).
Transmission Control Protocol (TCP) and User Datagram Protocol
(UDP) are the most common transport layer protocols. The transport
layer is also sometimes called the protocol layer.
Network or Internet layer Defines how to move packets from a source
host to a destination host. The particular packet transit rule set for
the Internet is known as Internet Protocol (IP). Because we’ll only
talk about Internet networks in this book, we’ll really only be talking
about the Internet layer. However, because network layers are
meant to be hardware independent, you can simultaneously configure
several independent network layers (such as IP, IPv6, IPX, and
AppleTalk) on a single host.
Physical layer Defines how to send raw data across a physical medium,
such as Ethernet or a modem. This is sometimes called the link layer or
host-to-network layer.
It’s important to understand the structure of a network stack because
your data must travel through these layers at least twice before it reaches a
program at its destination. For example, if you’re sending data from Host
A to Host B, as shown in Figure 9-1, your bytes leave the application layer
on Host A and travel through the transport and network layers on Host A;
then they go down to the physical medium, across the medium, and up
again through the various lower levels to the application layer on Host B in
192 Chapter 9
much the same way. If you’re sending something to a host on the Internet
through the router, it will go through some (but usually not all) of the layers
on the router and anything else in between.
The layers sometimes bleed into each other in strange ways because it
can be inefficient to process all of them in order. For example, devices that
historically dealt with only the physical layer now sometimes look at the
transport and Internet layer data to filter and route data quickly. (Don’t
worry about this when you’re learning the basics.)
We’ll begin by looking at how your Linux machine connects to the network
in order to answer the where question at the beginning of the chapter.
This is the lower part of the stack—the physical and network layers. Later,
we’ll look at the upper two layers that answer the what question.
NOT E You might have heard of another set of layers known as the Open Systems Interconnection
(OSI) Reference Model. This is a seven-layer network model often used
in teaching and designing networks, but we won’t cover the OSI model because you’ll
be working directly with the four layers described here. To learn a lot more about layers
(and networks in general), see Andrew S. Tanenbaum and David J. Wetherall’s
Computer Networks, 5th edition (Prentice Hall, 2010).
9.3 The Internet Layer
Rather than start at the very bottom of the network stack with the physical
layer, we’ll start at the network layer because it can be easier to understand.
The Internet as we currently know it is based on the Internet Protocol, version
4 (IPv4), though version 6 (IPv6) is gaining adoption. One of the most
important aspects of the Internet layer is that it’s meant to be a software
network that places no particular requirements on hardware or operating
systems. The idea is that you can send and receive Internet packets over any
kind of hardware, using any operating system.
The Internet’s topology is decentralized; it’s made up of smaller networks
called subnets. The idea is that all subnets are interconnected in some way. For
example, in Figure 9-1, the LAN is normally a single subnet.
A host can be attached to more than one subnet. As you saw in Section 9.1,
that kind of host is called a router if it can transmit data from one subnet
to another (another term for router is gateway). Figure 9-2 refines Figure
9-1 by identifying the LAN as a subnet, as well as Internet addresses for
each host and the router. The router in the figure has two addresses, the
local subnet 10.23.2.1 and the link to the Internet (but this Internet link’s
address is not important right now so it’s just marked “Uplink Address”).
We’ll look first at the addresses and then the subnet notation.
Each Internet host has at least one numeric IP address in the form of
a.b.c.d, such as 10.23.2.37. An address in this notation is called a dotted-quad
sequence. If a host is connected to multiple subnets, it has at least one IP
address per subnet. Each host’s IP address should be unique across the
entire Internet, but as you’ll see later, private networks and NAT can make
this a little confusing.
Understanding Your Network and Its Configuration 193
Internet
Subnet 10.23.2.0/24 (LAN)
Host A
10.23.2.4
Host B
10.23.2.37
Host C
10.23.2.132
Router
10.23.2.1 Uplink
Address
Figure 9-2: Network with IP addresses
NOT E Technically, an IP address consists of 4 bytes (or 32 bits), abcd. Bytes a and d are
numbers from 1 to 254, and b and c are numbers from 0 to 255. A computer processes
IP addresses as raw bytes. However, it’s much easier for a human to read and
write a dotted-quad address, such as 10.23.2.37, instead of something ugly like the
hexadecimal 0x0A170225.
IP addresses are like postal addresses in some ways. To communicate
with another host, your machine must know that other host’s IP address.
Let’s take a look at the address on your machine.
9.3.1 Viewing Your Computer’s IP Addresses
One host can have many IP addresses. To see the addresses that are active
on your Linux machine, run
$ ifconfig
There will probably be a lot of output, but it should include something
like this:
eth0 Link encap:Ethernet HWaddr 10:78:d2:eb:76:97
inet addr:10.23.2.4 Bcast:10.23.2.255 Mask:255.255.255.0
inet6 addr: fe80::1278:d2ff:feeb:7697/64 Scope:Link
UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1
RX packets:85076006 errors:0 dropped:0 overruns:0 frame:0
TX packets:68347795 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:1000
RX bytes:86427623613 (86.4 GB) TX bytes:23437688605 (23.4 GB)
Interrupt:20 Memory:fe500000-fe520000
The ifconfig command’s output includes many details from both the
Internet layer and the physical layer. (Sometimes it doesn’t even include
an Internet address at all!) We’ll discuss the output in more detail later,
but for now, concentrate on the second line, which reports that the host is
194 Chapter 9
configured to have an IPv4 address (inet addr) of 10.23.2.4. On the same
line, a Mask is reported as being 255.255.255.0. This is a subnet mask, which
defines the subnet that an IP address belongs to. Let’s see how that works.
NOT E The ifconfig command, as well some of the others you’ll see later in this chapter (such
as route and arp), has been technically supplanted with the newer ip command. The
ip command can do more than the old commands, and it is preferable when writing
scripts. However, most people still use the old commands when manually working
with the network, and these commands can also be used on other versions of Unix.
For this reason, we’ll use the old-style commands.
9.3.2 Subnets
A subnet is a connected group of hosts with IP addresses in some sort of order.
Usually, the hosts are on the same physical network, as shown in Figure 9-2.
For example, the hosts between 10.23.2.1 and 10.23.2.254 could comprise a
subnet, as could all hosts between 10.23.1.1 and 10.23.255.254.
You define a subnet with two pieces: a network prefix and a subnet
mask (such as the one in the output of ifconfig in the previous section).
Let’s say you want to create a subnet containing the IP addresses between
10.23.2.1 and 10.23.2.254. The network prefix is the part that is common to
all addresses in the subnet; in this example, it’s 10.23.2.0, and the subnet
mask is 255.255.255.0. Let’s see why those are the right numbers.
It’s not immediately clear how the prefix and mask work together to
give you all possible IP addresses on a subnet. Looking at the numbers in
binary form helps clear it up. The mask marks the bit locations in an IP
address that are common to the subnet. For example, here are the binary
forms of 10.23.2.0 and 255.255.255.0:
10.23.2.0: 00001010 00010111 00000010 00000000
255.255.255.0: 11111111 11111111 11111111 00000000
Now, let’s use boldface to mark the bit locations in 10.23.2.0 that are 1s
in 255.255.255.0:
10.23.2.0: 00001010 00010111 00000010 00000000
Look at the bits that are not in bold. You can set any number of these
bits to 1 to get a valid IP address in this subnet, with the exception of all 0s
or all 1s.
Putting it all together, you can see how a host with an IP address of
10.23.2.1 and a subnet mask of 255.255.255.0 is on the same subnet as any
other computers that have IP addresses beginning with 10.23.2. You can
denote this entire subnet as 10.23.2.0/255.255.255.0.
Understanding Your Network and Its Configuration 195
9.3.3 Common Subnet Masks and CIDR Notation
If you’re lucky, you’ll only deal with easy subnet masks like 255.255.255.0
or 255.255.0.0, but you may be unfortunate and encounter stuff like
255.255.255.192, where it isn’t quite so simple to determine the set
of addresses that belong to the subnet. Furthermore, it’s likely that
you’ll also encounter a different form of subnet representation called
Classless Inter-Domain Routing (CIDR) notation, where a subnet such as
10.23.2.0/255.255.255.0 is written as 10.23.2.0/24.
To understand what this means, look at the mask in binary form (as in
the example you saw in the preceding section). You’ll find that nearly all subnet
masks are just a bunch of 1s followed by a bunch of 0s. For example, you
just saw that 255.255.255.0 in binary form is 24 1-bits followed by 8 0-bits. The
CIDR notation identifies the subnet mask by the number of leading 1s in the
subnet mask. Therefore, a combination such as 10.23.2.0/24 includes both
the subnet prefix and its subnet mask.
Table 9-1 shows several example subnet masks and their CIDR forms.
Table 9-1: Subnet Masks
Long Form CIDR Form
255.0.0.0 8
255.255.0.0 16
255.240.0.0 12
255.255.255.0 24
255.255.255.192 26
NOT E If you aren’t familiar with conversion between decimal, binary, and hexadecimal
formats, you can use a calculator utility such as bc or dc to convert between different
radix representations. For example, in bc, you can run the command obase=2; 240 to
print the number 240 in binary (base 2) form.
Identifying subnets and their hosts is the first building block to understanding
how the Internet works. However, you still need to connect the
subnets.
9.4 Routes and the Kernel Routing Table
Connecting Internet subnets is mostly a process of identifying the hosts
connected to more than one subnet. Returning to Figure 9-2, think about
Host A at IP address 10.23.2.4. This host is connected to a local network of
10.23.2.0/24 and can directly reach hosts on that network. To reach hosts
on the rest of the Internet, it must communicate through the router at
10.23.2.1.
196 Chapter 9
How does the Linux kernel distinguish between these two different
kinds of destinations? It uses a destination configuration called a routing
table to determine its routing behavior. To show the routing table, use the
route -n command. Here’s what you might see for a simple host such as
10.23.2.4:
$ route -n
Kernel IP routing table
Destination Gateway Genmask Flags Metric Ref Use Iface
0.0.0.0 10.23.2.1 0.0.0.0 UG 0 0 0 eth0
10.23.2.0 0.0.0.0 255.255.255.0 U 1 0 0 eth0
The last two lines here contain the routing information. The Destination
column tells you a network prefix, and the Genmask column is the netmask
corresponding to that network. There are two networks defined in this
output: 0.0.0.0/0 (which matches every address on the Internet) and
10.23.2.0/24. Each network has a U under its Flags column, indicating that
the route is active (“up”).
Where the destinations differ is in the combination of their Gateway and
Flags columns. For 0.0.0.0/0, there is a G in the Flags column, meaning that
communication for this network must be sent through the gateway in the
Gateway column (10.23.2.1, in this case). However, for 10.23.2.0/24, there is
no G in Flags, indicating that the network is directly connected in some way.
Here, 0.0.0.0 is used as a stand-in under Gateway. Ignore the other columns
of output for now.
There’s one tricky detail: Say the host wants to send something to
10.23.2.132, which matches both rules in the routing table, 0.0.0.0/0 and
10.23.2.0/24. How does the kernel know to use the second one? It chooses
the longest destination prefix that matches. This is where CIDR network
form comes in particularly handy: 10.23.2.0/24 matches, and its prefix is
24 bits long; 0.0.0.0/0 also matches, but its prefix is 0 bits long (that is, it
has no prefix), so the rule for 10.23.2.0/24 takes priority.
NOT E The -n option tells route to show IP addresses instead of showing hosts and networks
by name. This is an important option to remember because you’ll be able to use it in
other network-related commands such as netstat.
9.4.1 The Default Gateway
An entry for 0.0.0.0/0 in the routing table has special significance because
it matches any address on the Internet. This is the default route, and the
address configured under the Gateway column (in the route -n output) in the
default route is the default gateway. When no other rules match, the default
route always does, and the default gateway is where you send messages when
there is no other choice. You can configure a host without a default gateway,
but it won’t be able to reach hosts outside the destinations in the routing
table.
Understanding Your Network and Its Configuration 197
NOT E On most networks with a netmask of 255.255.255.0, the router is usually at address 1
of the subnet (for example, 10.23.2.1 in 10.23.2.0/24). Because this is simply a convention,
there can be exceptions.
9.5 Basic ICM P and DNS Tools
Now it’s time to look at some basic practical utilities to help you interact with
hosts. These tools use two protocols of particular interest: Internet Control
Message Protocol (ICMP), which can help you root out problems with connectivity
and routing, and the Domain Name Service (DNS) system, which
maps names to IP addresses so that you don’t have to remember a bunch of
numbers.
9.5.1 ping
ping (see http://ftp.arl.mil/~mike/ping.html) is one of the most basic network
debugging tools. It sends ICMP echo request packets to a host that ask a
recipient host to return the packet to the sender. If the recipient host gets
the packet and is configured to reply, it sends an ICMP echo response
packet in return.
For example, say that you run ping 10.23.2.1 and get this output:
$ ping 10.23.2.1
PING 10.23.2.1 (10.23.2.1) 56(84) bytes of data.
64 bytes from 10.23.2.1: icmp_req=1 ttl=64 time=1.76 ms
64 bytes from 10.23.2.1: icmp_req=2 ttl=64 time=2.35 ms
64 bytes from 10.23.2.1: icmp_req=4 ttl=64 time=1.69 ms
64 bytes from 10.23.2.1: icmp_req=5 ttl=64 time=1.61 ms
The first line says that you’re sending 56-byte packets (84 bytes, if you
include the headers) to 10.23.2.1 (by default, one packet per second), and
the remaining lines indicate responses from 10.23.2.1. The most important
parts of the output are the sequence number (icmp_req) and the round-trip
time (time). The number of bytes returned is the size of the packet sent
plus 8. (The content of the packets isn’t important to you.)
A gap in the sequence numbers, such as the one between 2 and 4,
usually means there’s some kind of connectivity problem. It’s possible for
packets to arrive out of order, and if they do, there’s some kind of problem
because ping sends only one packet a second. If a response takes more than
a second (1000ms) to arrive, the connection is extremely slow.
The round-trip time is the total elapsed time between the moment that
the request packet leaves and moment that the response packet arrives. If
there’s no way to reach the destination, the final router to see the packet
returns an ICMP “host unreachable” packet to ping.
On a wired LAN, you should expect absolutely no packet loss and very
low numbers for the round-trip time. (The preceding example output is
from a wireless network.) You should also expect no packet loss from your
network to and from your ISP and reasonably steady round-trip times.
198 Chapter 9
NOT E For security reasons, not all hosts on the Internet respond to ICMP echo request packets,
so you might find that you can connect to a website on a host but not get a ping
response.
9.5.2 traceroute
The ICMP-based program traceroute will come in handy when you reach the
material on routing later in this chapter. Use traceroute host to see the path
your packets take to a remote host. (traceroute -n host will disable hostname
lookups.)
One of the best things about traceroute is that it reports return trip
times at each step in the route, as demonstrated in this output fragment:
4 206.220.243.106 1.163 ms 0.997 ms 1.182 ms
5 4.24.203.65 1.312 ms 1.12 ms 1.463 ms
6 64.159.1.225 1.421 ms 1.37 ms 1.347 ms
7 64.159.1.38 55.642 ms 55.625 ms 55.663 ms
8 209.247.10.230 55.89 ms 55.617 ms 55.964 ms
9 209.244.14.226 55.851 ms 55.726 ms 55.832 ms
10 209.246.29.174 56.419 ms 56.44 ms 56.423 ms
Because this output shows a big latency jump between hops 6 and 7,
that part of the route is probably some sort of long-distance link.
The output from traceroute can be inconsistent. For example, the replies
may time out at a certain step, only to “reappear” in later steps. The reason
is usually that the router at that step refused to return the debugging output
that traceroute wants but routers in later steps were happy to return the
output. In addition, a router might choose to assign a lower priority to the
debugging traffic than it does to normal traffic.
9.5.3 DNS and host
IP addresses are difficult to remember and subject to change, which is why
we normally use names such as www.example.com instead. The DNS library
on your system normally handles this translation automatically, but sometimes
you’ll want to manually translate between a name and an IP address.
To find the IP address behind a domain name, use the host command:
$ host www.example.com
www.example.com has address 93.184.216.119
www.example.com has IPv6 address 2606:2800:220:6d:26bf:1447:1097:aa7
Notice how this example has both the IPv4 address 93.184.216.119 and
the much larger IPv6 address. This means that this host also has an address
on the next-generation version of the Internet.
You can also use host in reverse: Enter an IP address instead of a hostname
to try to discover the hostname behind the IP address. But don’t expect
this to work reliably. Many hostnames can represent a single IP address, and
DNS doesn’t know how to determine which hostname should correspond to
Understanding Your Network and Its Configuration 199
an IP address. The domain administrator must manually set up this reverse
lookup, and often the administrator does not. (There is a lot more to DNS
than the host command. We’ll cover basic client configuration later in
Section 9.12.)
9.6 The Physical Layer and Ethernet
One of the key things to understand about the Internet is that it’s a software
network. Nothing we’ve discussed so far is hardware specific, and indeed,
one reason for the Internet’s success is that it works on almost any kind of
computer, operating system, and physical network. However, you still have
to put a network layer on top of some kind of hardware, and that interface
is called the physical layer.
In this book, we’ll look at the most common kind of physical layer: an
Ethernet network. The IEEE 802 family of standards documents defines
many different kinds of Ethernet networks, from wired to wireless, but they
all have a few things in common, in particular, the following:
• All devices on an Ethernet network have a Media Access Control (MAC)
address, sometimes called a hardware address. This address is independent
of a host’s IP address, and it is unique to the host’s Ethernet
network (but not necessarily a larger software network such as the
Internet). A sample MAC address is 10:78:d2:eb:76:97.
• Devices on an Ethernet network send messages in frames, which are
wrappers around the data sent. A frame contains the origin and destination
MAC addresses.
Ethernet doesn’t really attempt to go beyond hardware on a single network.
For example, if you have two different Ethernet networks with one host
attached to both networks (and two different network interface devices), you
can’t directly transmit a frame from one Ethernet network to the other unless
you set up a special Ethernet bridge. And this is where higher network layers
(such as the Internet layer) come in. By convention, each Ethernet network is
also usually an Internet subnet. Even though a frame can’t leave one physical
network, a router can take the data out of a frame, repackage it, and send it
to a host on a different physical network, which is exactly what happens on
the Internet.
9.7 Understanding Kernel Network Interfaces
The physical and the Internet layers must be connected in a way that allows
the Internet layer to retain its hardware-independent flexibility. The Linux
kernel maintains its own division between the two layers and provides communication
standards for linking them called a (kernel) network interface.
When you configure a network interface, you link the IP address settings
from the Internet side with the hardware identification on the physical
200 Chapter 9
device side. Network interfaces have names that usually indicate the kind
of hardware underneath, such as eth0 (the first Ethernet card in the computer)
and wlan0 (a wireless interface).
In Section 9.3.1, you learned the most important command for viewing
or manually configuring the network interface settings: ifconfig. Recall this
output:
eth0 Link encap:Ethernet HWaddr 10:78:d2:eb:76:97
inet addr:10.23.2.4 Bcast:10.23.2.255 Mask:255.255.255.0
inet6 addr: fe80::1278:d2ff:feeb:7697/64 Scope:Link
UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1
RX packets:85076006 errors:0 dropped:0 overruns:0 frame:0
TX packets:68347795 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:1000
RX bytes:86427623613 (86.4 GB) TX bytes:23437688605 (23.4 GB)
Interrupt:20 Memory:fe500000-fe520000
For each network interface, the left side of the output shows the interface
name, and the right side contains settings and statistics for the interface.
In addition to the Internet layer pieces that we’ve already covered, you also
see the MAC address on the physical layer (HWaddr). The lines containing UP
and RUNNING tell you that the interface is working.
Although ifconfig shows some hardware information (in this case, even
some low-level device settings such as the interrupt and memory used), it’s
designed primarily for viewing and configuring the software layers attached
to the interfaces. To dig deeper into the hardware and physical layer behind
a network interface, use something like the ethtool command to display or
change the settings on Ethernet cards. (We’ll look briefly at wireless networks
in Section 9.23.)
9.8 Introduction to Network Interface Configuration
You’ve now seen all of the basic elements that go into the lower levels of a network
stack: the physical layer, the network (Internet) layer, and the Linux kernel’s
network interfaces. In order to combine these pieces to connect a Linux
machine to the Internet, you or a piece of software must do the following:
1. Connect the network hardware and ensure that the kernel has a driver
for it. If the driver is present, ifconfig -a displays a kernel network interface
corresponding to the hardware.
2. Perform any additional physical layer setup, such as choosing a network
name or password.
3. Bind an IP address and netmask to the kernel network interface so
that the kernel’s device drivers (physical layer) and Internet subsystems
(Internet layer) can talk to each other.
4. Add any additional necessary routes, including the default gateway.
Understanding Your Network and Its Configuration 201
When all machines were big stationary boxes wired together, this was
relatively straightforward: The kernel did step 1, you didn’t need step 2,
and you’d do step 3 with the ifconfig command and step 4 with the route
command.
To manually set the IP address and netmask for a kernel network
interface, you’d do this:
# ifconfig interface address netmask mask
Here, interface is the name of the interface, such as eth0. When the
interface was up, you’d be ready to add routes, which was typically just a
matter of setting the default gateway, like this:
# route add default gw gw-address
The gw-address parameter is the IP address of your default gateway; it
must be an address in a locally connected subnet defined by the address and
mask settings of one of your network interfaces.
9.8.1 Manually Adding and Deleting Routes
To remove a default gateway, run
# route del -net default
You can easily override the default gateway with other routes. For
example, say your machine is on subnet 10.23.2.0/24, you want to reach a
subnet at 192.168.45.0/24, and you know that 10.23.2.44 can act as a router
for that subnet. Run this command to send traffic bound for 192.168.45.0
to that router:
# route add -net 192.168.45.0/24 gw 10.23.2.44
You don’t need to specify the router in order to delete a route:
# route del -net 192.168.45.0/24
Now, before you go crazy with routes, you should know that messing
with routes is often more complicated than it appears. For this particular
example, you also have to make sure that the routing for all hosts on
192.163.45.0/24 can lead back to 10.23.2.0/24, or the first route you add is
basically useless.
Normally, you should keep things as simple as possible for your clients,
setting up networks so that their hosts need only a default route. If you
need multiple subnets and the ability to route between them, it’s usually
best to configure the routers acting as the default gateways to do all of the
work of routing between different local subnets. (You’ll see an example in
Section 9.17.)
202 Chapter 9
9.9 Boot-Activated Network Configuration
We’ve discussed ways to manually configure a network, and the traditional
way to ensure the correctness of a machine’s network configuration was to
have init run a script to run the manual configuration at boot time. This
boils down to running tools like ifconfig and route somewhere in the chain
of boot events. Many servers still do it this way.
There have been many attempts in Linux to standardize configuration
files for boot-time networking. The tools ifup and ifdown do so—for example,
a boot script can (in theory) run ifup eth0 to run the correct ifconfig and
route commands for the eth0 interface. Unfortunately, different distributions
have completely different implementations of ifup and ifdown, and as a result,
their configuration files are also completely different. Ubuntu, for example,
uses the ifupdown suite with configuration files in /etc/network, and Fedora
uses its own set of scripts with configuration in /etc/sysconfig/network-scripts.
You don’t need to know the details of these configuration files, and if you
insist on doing it all by hand and bypass your distribution’s configuration
tools, you can just look up the formats in manual pages such as ifup(8) and
interfaces(5). But it is important to know that this type of boot-activated
configuration is often not even used. You’ll most often see it for the localhost
(or lo; see Section 9.13) network interface but nothing else because it’s
too inflexible to meet the needs of modern systems.
9.10 Problems with Manual and Boot-Activated
Network Configuration
Although most systems used to configure the network in their boot mechanisms—
and many servers still do—the dynamic nature of modern networks
means that most machines don’t have static (unchanging) IP addresses.
Rather than storing the IP address and other network information on your
machine, your machine gets this information from somewhere on the local
physical network when it first attaches to that network. Most normal network
client applications don’t particularly care what IP address your machine uses,
as long as it works. Dynamic Host Configuration Protocol (DHCP, described
in Section 9.16) tools do the basic network layer configuration on typical
clients.
There’s more to the story, though. For example, wireless networks add
additional dimensions to interface configuration, such as network names,
authentication, and encryption techniques. When you step back to look at
the bigger picture, you see that your system needs a way to answer the following
questions:
• If the machine has multiple physical network interfaces (such as a
notebook with wired and wireless Ethernet), how do you choose which
one(s) to use?
• How should the machine set up the physical interface? For wireless networks,
this includes scanning for network names, choosing a name, and
negotiating authentication.
Understanding Your Network and Its Configuration 203
• Once the physical network interface is connected, how should the
machine set up the software network layers, such as the Internet layer?
• How can you let a user choose connectivity options? For example, how
do you let a user choose a wireless network?
• What should the machine do if it loses connectivity on a network
interface?
Answering these questions is usually more than simple boot scripts
can handle, and it’s a real hassle to do it all by hand. The answer is to use
a system service that can monitor physical networks and choose (and automatically
configure) the kernel network interfaces based on a set of rules
that makes sense to the user. The service should also be able to respond
to requests from users, who should be able to change the wireless network
they’re on without having to become root just to fiddle around with network
settings every time something changes.
9.11 Network Configuration Managers
There are several ways to automatically configure networks in Linuxbased
systems. The most widely used option on desktops and notebooks is
NetworkManager. Other network configuration management systems are
mainly targeted for smaller embedded systems, such as OpenWRT’s netifd,
Android’s ConnectivityManager service, ConnMan, and Wicd. We’ll briefly
discuss NetworkManager because it’s the one you’re most likely to encounter.
We won’t go into a tremendous amount of detail, though, because after
you see the big picture, NetworkManager and other configuration systems
will be more transparent.
9.11.1 NetworkManager Operation
NetworkManager is a daemon that the system starts upon boot. Like all
daemons, it does not depend on a running desktop component. Its job is to
listen to events from the system and users and to change the network configuration
based on a bunch of rules.
When running, NetworkManager maintains two basic levels of configuration.
The first is a collection of information about available hardware
devices, which it normally collects from the kernel and maintains by monitoring
udev over the Desktop Bus (D-Bus). The second configuration level
is a more specific list of connections: hardware devices and additional physical
and network layer configuration parameters. For example, a wireless
network can be represented as a connection.
To activate a connection, NetworkManager often delegates the tasks
to other specialized network tools and daemons such as dhclient to get
Internet layer configuration from a locally attached physical network.
Because network configuration tools and schemes vary among distributions,
NetworkManager uses plugins to interface with them, rather than
imposing its own standard. There are plugins for the both the Debian/
Ubuntu and Red Hat–style interface configuration, for example.
204 Chapter 9
Upon startup, NetworkManager gathers all available network device
information, searches its list of connections, and then decides to try to activate
one. Here’s how it makes that decision for Ethernet interfaces:
1. If a wired connection is available, try to connect using it. Otherwise, try
the wireless connections.
2. Scan the list of available wireless networks. If a network is available that
you’ve previously connected to, NetworkManager will try it again.
3. If more than one previously connected wireless networks are available,
select the most recently connected.
After establishing a connection, NetworkManager maintains it until
the connection is lost, a better network becomes available (for example,
you plug in a network cable while connected over wireless), or the user
forces a change.
9.11.2 Interacting with NetworkManager
Most users interact with NetworkManager through an applet on the desktop—
it’s usually an icon in the upper or lower right that indicates the connection
status (wired, wireless, or not connected). When you click on the
icon, you get a number of connectivity options, such as a choice of wireless
networks and an option to disconnect from your current network. Each
desktop environment has its own version of this applet, so it looks a little
different on each one.
In addition to the applet, there are a few tools that you can use to query
and control NetworkManager from your shell. For a very quick summary
of your current connection status, use the nm-tool command with no arguments.
You’ll get a list of interfaces and configuration parameters. In some
ways, this is like ifconfig except that there’s more detail, especially when
viewing wireless connections.
To control NetworkManager from the command line, use the nmcli
command. This is a somewhat extensive command. See the nmcli(1) manual
page for more information.
Finally, the utility nm-online will tell you whether the network is up or
down. If the network is up, the command returns zero as its exit code; it’s
nonzero otherwise. (For more on how to use an exit code in a shell script,
see Chapter 11.)
9.11.3 NetworkManager Configuration
The general configuration directory for NetworkManager is usually
/etc/NetworkManager, and there are several different kinds of configuration.
The general configuration file is NetworkManager.conf. The format
is similar to the XDG-style .desktop and Microsoft .ini files, with key-value
Understanding Your Network and Its Configuration 205
parameters falling into different sections. You’ll find that nearly every
configuration file has a [main] section that defines the plugins to use.
Here’s a simple example that activates the ifupdown plugin used by
Ubuntu and Debian:
[main]
plugins=ifupdown,keyfile
Other distribution-specific plugins are ifcfg-rh (for Red Hat–style
distributions) and ifcfg-suse (for SuSE). The keyfile plugin that you also
see here supports NetworkManager’s native configuration file support.
When using the plugin, you can see the system’s known connections in
/etc/NetworkManager/system-connections.
For the most part, you won’t need to change NetworkManager.conf
because the more specific configuration options are found in other files.
Unmanaged Interfaces
Although you may want NetworkManager to manage most of your network
interfaces, there will be times when you want it to ignore interfaces. For
example, there’s no reason why most users would need any kind of dynamic
configuration on the localhost (lo) interface because the configuration
never changes. You also want to configure this interface early in the boot
process because basic system services often depend on it. Most distributions
keep NetworkManager away from localhost.
You can tell NetworkManager to disregard an interface by using
plugins. If you’re using the ifupdown plugin (for example, in Ubuntu and
Debian), add the interface configuration to your /etc/network/interfaces
file and then set the value of managed to false in the ifupdown section of the
NetworkManager.conf file:
[ifupdown]
managed=false
For the ifcfg-rh plugin that Fedora and Red Hat use, look for a line like
this in the /etc/sysconfig/network-scripts directory that contains the ifcfg-* configuration
files:
NM_CONTROLLED=yes
If this line is not present or the value is set to no, NetworkManager
ignores the interface. For example, you’ll find it deactivated in the ifcfg-lo
file. You can also specify a hardware address to ignore, like this:
HWADDR=10:78:d2:eb:76:97
206 Chapter 9
If you don’t use either of these network configuration schemes, you
can still use the keyfile plugin to specify the unmanaged device directly
inside your NetworkManager.conf file using the MAC address. Here’s how
that might look:
[keyfile]
unmanaged-devices=mac:10:78:d2:eb:76:97;mac:1c:65:9d:cc:ff:b9
Dispatching
One final detail of NetworkManager configuration relates to specifiying
additional system actions for when a network interface goes up or down.
For example, some network daemons need to know when to start or stop
listening on an interface in order to work correctly (such as the secure shell
daemon discussed in the next chapter).
When the network interface status on a system changes, NetworkManager
runs everything in /etc/NetworkManager/dispatcher.d with an argument such
as up or down. This is relatively straightforward, but many distributions have
their own network control scripts so they don’t place the individual dispatcher
scripts in this directory. Ubuntu, for example, has just one script
named 01ifupdown that runs everything in an appropriate subdirectory of
/etc/network, such as /etc/network/if-up.d.
As with the rest of the NetworkManager configuration, the details of
these scripts are relatively unimportant; all you need to know is how to
track down the appropriate location if you need to make an addition or
change. As ever, don’t be shy about looking at scripts on your system.
9.12 Resolving Hostnames
One of the final basic tasks in any network configuration is hostname resolution
with DNS. You’ve already seen the host resolution tool that translates
a name such as www.example.com to an IP address such as 10.23.2.132.
DNS differs from the network elements we’ve looked at so far because
it’s in the application layer, entirely in user space. Technically, it is slightly
out of place in this chapter alongside the Internet and physical layer discussion,
but without proper DNS configuration, your Internet connection
is practically worthless. No one in their right mind advertises IP addresses
for websites and email addresses because a host’s IP address is subject to
change and it’s not easy to remember a bunch of numbers. Automatic
network configuration services such as DHCP nearly always include DNS
configuration.
Nearly all network applications on a Linux system perform DNS lookups.
The resolution process typically unfolds like this:
1. The application calls a function to look up the IP address behind a
hostname. This function is in the system’s shared library, so the application
doesn’t need to know the details of how it works or whether the
implementation will change.
Understanding Your Network and Its Configuration 207
2. When the function in the shared library runs, it acts according to a set
of rules (found in /etc/nsswitch.conf ) to determine a plan of action on
lookups. For example, the rules usually say that even before going to
DNS, check for a manual override in the /etc/hosts file.
3. When the function decides to use DNS for the name lookup, it consults
an additional configuration file to find a DNS name server. The name
server is given as an IP address.
4. The function sends a DNS lookup request (over the network) to the
name server.
5. The name server replies with the IP address for the hostname, and the
function returns this IP address to the application.
This is the simplified version. In a typical modern system, there are
more actors attempting to speed up the transaction and/or add flexibility.
Let’s ignore that for now and take a closer look at the basic pieces.
9.12.1 /etc/hosts
On most systems, you can override hostname lookups with the /etc/hosts file.
It usually looks like this:
127.0.0.1 localhost
10.23.2.3 atlantic.aem7.net atlantic
10.23.2.4 pacific.aem7.net pacific
You’ll nearly always see the entry for localhost here (see Section 9.13).
NOT E In the bad old days, there was one central hosts file that everyone copied to their own
machine in order to stay up-to-date (see RFCs 606, 608, 623, and 625), but as the
ARPANET/Internet grew, this quickly got out of hand.
9.12.2 resolv.conf
The traditional configuration file for DNS servers is /etc/resolv.conf. When
things were simpler, a typical example might have looked like this, where
the ISP’s name server addresses are 10.32.45.23 and 10.3.2.3:
search mydomain.example.com example.com
nameserver 10.32.45.23
nameserver 10.3.2.3
The search line defines rules for incomplete hostnames (just the first
part of the hostname; for example, myserver instead of myserver.example.com).
Here, the resolver library would try to look up host.mydomain.example.com and
host.example.com. But things are usually no longer this straightforward. Many
enhancements and modifications have been made to the DNS configuration.
208 Chapter 9
9.12.3 Caching and Zero-Configuration DNS
There are two main problems with the traditional DNS configuration. First,
the local machine does not cache name server replies, so frequent repeated
network access may be unnecessarily slow due to name server requests. To
solve this problem, many machines (and routers, if acting as name servers)
run an intermediate daemon to intercept name server requests and return
a cached answer to name service requests if possible; otherwise, requests go
to a real name server. Two of the most common such daemons for Linux are
dnsmasq and nscd. You can also set up BIND (the standard Unix name server
daemon) as a cache. You can often tell if you’re running a name server caching
daemon when you see 127.0.0.1 (localhost) in your /etc/resolv.conf file or
when you see 127.0.0.1 show up as the server if you run nslookup -debug host.
It can be a tricky to track down your configuration if you’re running
a name server–caching daemon. By default, dnsmasq has the configuration
file /etc/dnsmasq.conf, but your distribution may override
that. For example, in Ubuntu, if you’ve manually set up an interface
that’s set up by NetworkManager, you’ll find it in the appropriate file
in /etc/NetworkManager/system-connections because when NetworkManager
activates a connection, it also starts dnsmasq with that configuration.
(You can override all of this by uncommenting the dnsmasq part of
your NetworkManager.conf.)
The other problem with the traditional name server setup is that it can
be particularly inflexible if you want to be able to look up names on your
local network without messing around with a lot of network configuration.
For example, if you set up a network appliance on your network, you’ll want
to be able to call it by name immediately. This is part of the idea behind
zero-configuration name service systems such as Multicast DNS (mDNS)
and Simple Service Discovery Protocol (SSDP). If you want to find a host by
name on the local network, you just broadcast a request over the network; if
the host is there, it replies with its address. These protocols go beyond hostname
resolution by also providing information about available services.
The most widely used Linux implementation of mDNS is called Avahi.
You’ll often see mdns as a resolver option in /etc/nsswitch.conf, which we’ll now
look at in more detail.
9.12.4 /etc/nsswitch.conf
The /etc/nsswitch.conf file controls several name-related precedence settings
on your system, such as user and password information, but we’ll only talk
about the DNS settings in this chapter. The file on your system should have
a line like this:
hosts: files dns
Putting files ahead of dns here ensures that your system checks the
/etc/hosts file for the hostname of your requested IP address before asking
the DNS server. This is usually a good idea (especially for looking up
localhost, as discussed below), but your /etc/hosts file should be as short as
Understanding Your Network and Its Configuration 209
possible. Don’t put anything in there to boost performance; doing so will
burn you later. You can put all the hosts within a small private LAN in
/etc/hosts, but the general rule of thumb is that if a particular host has a
DNS entry, it has no place in /etc/hosts. (The /etc/hosts file is also useful for
resolving hostnames in the early stages of booting, when the network may
not be available.)
NOT E DNS is a broad topic. If you have any responsibility for domain names, read DNS and
BIND, 5th edition, by Cricket Liu and Paul Albitz (O’Reilly, 2006).
9.13 Localhost
When running ifconfig, you’ll notice the lo interface:
lo Link encap:Local Loopback
inet addr:127.0.0.1 Mask:255.0.0.0
inet6 addr: ::1/128 Scope:Host
UP LOOPBACK RUNNING MTU:16436 Metric:1
The lo interface is a virtual network interface called the loopback because
it “loops back” to itself. The effect is that connecting to 127.0.0.1 is connecting
to the machine that you’re currently using. When outgoing data to localhost
reaches the kernel network interface for lo, the kernel just repackages it
as incoming data and sends it back through lo.
The lo loopback interface is often the only place you’ll see static network
configuration in boot-time scripts. For example, Ubuntu’s ifup command
reads /etc/network/interfaces and Fedora uses /etc/sysconfig/network-interfaces/
ifcfg-lo. You can often find the loopback device configuration by digging
around in /etc with grep.
9.14 The Transport Layer: TC P, UD P, and Services
So far, we’ve only seen how packets move from host to host on the Internet—
in other words, the where question from the beginning of the chapter. Now
let’s start to answer the what question. It’s important to know how your computer
presents the packet data it receives from other hosts to its running
processes. It’s difficult and inconvenient for user-space programs to deal
with a bunch of raw packets the way that the kernel can. Flexibility is especially
important: More than one application should be able to talk to the
network at the same time (for example, you might have email and several
web clients running).
Transport layer protocols bridge the gap between the raw packets of the
Internet layer and the refined needs of applications. The two most popular
transport protocols are the Transmission Control Protocol (TCP) and the
User Datagram Protocol (UDP). We’ll concentrate on TCP because it’s by far
the most common protocol in use, but we’ll also take a quick look at UDP.
210 Chapter 9
9.14.1 TCP Ports and Connections
TCP provides for multiple network applications on one machine by means
of network ports. A port is just a number. If an IP address is like the postal
address of an apartment building, a port is like a mailbox number—it’s a
further subdivision.
When using TCP, an application opens a connection (not to be confused
with NetworkManager connections) between one port on its own machine and
a port on a remote host. For example, an application such as a web browser
could open a connection between port 36406 on its own machine and port 80
on a remote host. From the application’s point of view, port 36406 is the
local port and port 80 is the remote port.
You can identify a connection by using the pair of IP addresses and
port numbers. To view the connections currently open on your machine,
use netstat. Here’s an example that shows TCP connections: The -n option
disables hostname (DNS) resolution, and -t limits the output to TCP.
$ netstat -nt
Active Internet connections (w/o servers)
Proto Recv-Q Send-Q Local Address Foreign Address State
tcp 0 0 10.23.2.4:47626 10.194.79.125:5222 ESTABLISHED
tcp 0 0 10.23.2.4:41475 172.19.52.144:6667 ESTABLISHED
tcp 0 0 10.23.2.4:57132 192.168.231.135:22 ESTABLISHED
The Local Address and Foreign Address fields show connections from
your machine’s point of view, so the machine here has an interface configured
at 10.23.2.4, and ports 47626, 41475, and 57132 on the local side are all connected.
The first connection here shows port 47626 connected to port 5222 of
10.194.79.125.
9.14.2 Establishing TCP Connections
To establish a transport layer connection, a process on one host initiates the
connection from one of its local ports to a port on a second host with a special
series of packets. In order to recognize the incoming connection and
respond, the second host must have a process listening on the correct port.
Usually, the connecting process is called the client, and the listener is the
called the server (more about this in Chapter 10).
The important thing to know about the ports is that the client picks a
port on its side that isn’t currently in use, but it nearly always connects to
some well-known port on the server side. Recall this output from the netstat
command in the preceding section:
Proto Recv-Q Send-Q Local Address Foreign Address State
tcp 0 0 10.23.2.4:47626 10.194.79.125:5222 ESTABLISHED
With a little help, you can see that this connection was probably initiated
by a local client to a remote server because the port on the local side (47626)
looks like a dynamically assigned number, whereas the remote port (5222) is
a well-known service (the Jabber or XMPP messaging service, to be specific).
Understanding Your Network and Its Configuration 211
NOT E A dynamically assigned port is called an ephemeral port.
However, if the local port in the output is well-known, a remote
host probably initiated the connection. In this example, remote host
172.24.54.234 has connected to port 80 (the default web port) on the
local host.
Proto Recv-Q Send-Q Local Address Foreign Address State
tcp 0 0 10.23.2.4:80 172.24.54.234:43035 ESTABLISHED
A remote host connecting to your machine on a well-known port implies
that a server on your local machine is listening on this port. To confirm
this, list all TCP ports that your machine is listening on with netstat:
$ netstat -ntl
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address Foreign Address State
tcp 0 0 0.0.0.0:80 0.0.0.0:* LISTEN
tcp 0 0 127.0.0.1:53 0.0.0.0:* LISTEN
--snip--
The line with 0.0.0.0:80 as the local address shows that the local machine
is listening on port 80 for connections from any remote machine. (A server
can restrict the access to certain interfaces, as shown in the last line, where
something is listening for connections only on the localhost interface.) To
learn even more, use lsof to identify the specific process that’s listening (as
discussed in Section 10.5.1).
9.14.3 Port Numbers and /etc/services
How do you know if a port is a well-known port? There’s no single way to
tell, but one good place to start is to look in /etc/services, which translates
well-known port numbers into names. This is a plaintext file. You should
see entries like this:
ssh 22/tcp # SSH Remote Login Protocol
smtp 25/tcp
domain 53/udp
The first column is a name and the second column indicates the port
number and the specific transport layer protocol (which can be other
than TCP).
NOT E In addition to /etc/services, an online registry for ports at http://www.iana.org/
is governed by the RFC6335 network standards document.
On Linux, only processes running as the superuser can use ports 1
through 1023. All user processes may listen on and create connections
from ports 1024 and up.
212 Chapter 9
9.14.4 Characteristics of TCP
TCP is popular as a transport layer protocol because it requires relatively
little from the application side. An application process only needs to know
how to open (or listen for), read from, write to, and close a connection. To
the application, it seems as if there are incoming and outgoing streams of
data; the process is nearly as simple as working with a file.
However, there’s a lot of work to do behind the scenes. For one, the TCP
implementation needs to know how to break an outgoing data stream from
a process into packets. However, the hard part is knowing how to convert a
series of incoming packets into an input data stream for processes to read,
especially when incoming packets don’t necessarily arrive in the correct
order. In addition, a host using TCP must check for errors: Packets can get
lost or mangled when sent across the Internet, and a TCP implementation
must detect and correct these situations. Figure 9-3 shows a simplification of
how a host might use TCP to send a message.
Luckily, you need to know next to nothing about this mess other than
that the Linux TCP implementation is primarily in the kernel and that
utilities that work with the transport layer tend to manipulate kernel data
structures. One example is the IP Tables packet-filtering system discussed
in Section 9.21.
9.14.5 UDP
UDP is a far simpler transport layer than TCP. It defines a transport only
for single messages; there is no data stream. At the same time, unlike TCP,
UDP won’t correct for lost or out-of-order packets. In fact, although UDP
has ports, it doesn’t even have connections! One host simply sends a message
from one of its ports to a port on a server, and the server sends something
back if it wants to. However, UDP does have error detection for data
inside a packet; a host can detect if a packet gets mangled, but it doesn’t
have to do anything about it.
Where TCP is like having a telephone conversation, UDP is like sending
a letter, telegram, or instant message (except that instant messages
are more reliable). Applications that use UDP are often concerned with
speed—sending a message as quickly as possible. They don’t want the overhead
of TCP because they assume the network between two hosts is generally
reliable. They don’t need TCP’s error correction because they either
have their own error detection systems or simply don’t care about errors.
One example of an application that uses UDP is the Network Time Protocol
(NTP). A client sends a short and simple request to a server to get the current
time, and the response from the server is equally brief. Because the client
wants the response as quickly as possible, UDP suits the application; if the
response from the server gets lost somewhere in the network, the client can
just resend a request or give up. Another example is video chat—in this case,
pictures are sent with UDP—and if some pieces get lost along the way, the
client on the receiving end compensates the best it can.
Understanding Your Network and Its Configuration 213
Internet
Hi! H
Seq: 1
ow ar
Seq: 2
e you t
Seq: 3
oday
Seq: 4
?
Seq: 5
Hi! H
Seq: 1
ow ar
Seq: 2
e you t
Seq: 3
oday
Seq: 4
?
Seq: 5
Hi! How are you today?
Message to be sent with TCP
Origin host breaks message into packets.
Internet carries packets to destination.
Packets arrive at destination host (not necessarily as transmitted).
Destination host reconstructs message from packets.
Hi! How are you today?
Figure 9-3: Sending a message with TCP
NOT E The rest of this chapter deals with more advanced networking topics, such as network
filtering and routers, as they relate to the lower network layers that we’ve already seen:
physical, network, and transport. If you like, feel free to skip ahead to the next chapter
to see the application layer where everything comes together in user space. You’ll see
processes that actually use the network rather than just throwing around a bunch of
addresses and packets.
214 Chapter 9
9.15 Revisiting a Simple Local Network
We’re now going to look at additional components of the simple network
introduced in Section 9.3. Recall that this network consists of one local area
network as one subnet and a router that connects the subnet to the rest of
the Internet. You’ll learn the following:
• How a host on the subnet automatically gets its network configuration
• How to set up routing
• What a router really is
• How to know which IP addresses to use for the subnet
• How to set up firewalls to filter out unwanted traffic from the Internet
Let’s start by learning how a host on the subnet automatically gets its
network configuration.
9.16 Understanding DHCP
When you set a network host to get its configuration automatically from the
network, you’re telling it to use the Dynamic Host Configuration Protocol
(DHCP) to get an IP address, subnet mask, default gateway, and DNS servers.
Aside from not having to enter these parameters by hand, DHCP has other
advantages for a network administrator, such as preventing IP address clashes
and minimizing the impact of network changes. It’s very rare to see a modern
network that doesn’t use DHCP.
For a host to get its configuration with DHCP, it must be able to send
messages to a DHCP server on its connected network. Therefore, each physical
network should have its own DHCP server, and on a simple network (such
as the one in Section 9.3), the router usually acts as the DHCP server.
NOT E When making an initial DHCP request, a host doesn’t even know the address of a
DHCP server, so it broadcasts the request to all hosts (usually all hosts on its physical
network).
When a machine asks a DHCP server for an IP address, it’s really asking
for a lease on an address for a certain amount of time. When the lease is up,
a client can ask to renew the lease.
9.16.1 The Linux DHCP Client
Although there are many different kinds of network manager systems,
nearly all use the Internet Software Consortium (ISC) dhclient program to
do the actual work. You can test dhclient by hand on the command line, but
before doing so you must remove any default gateway route. To run the test,
simply specify the network interface name (here, it’s eth0):
# dhclient eth0
Understanding Your Network and Its Configuration 215
Upon startup, dhclient stores its process ID in /var/run/dhclient.pid and
its lease information in /var/state/dhclient.leases.
9.16.2 Linux DHCP Servers
You can task a Linux machine with running a DHCP server, which provides a
good amount of control over the addresses that it gives out. However, unless
you’re administering a large network with many subnets, you’re probably better
off using specialized router hardware that includes built-in DHCP servers.
Probably the most important thing to know about DHCP servers is that
you want only one running on the same subnet in order to avoid problems
with clashing IP addresses or incorrect configurations.
9.17 Configuring Linux as a Router
Routers are essentially just computers with more than one physical network
interface. You can easily configure a Linux machine as a router.
For example, say you have two LAN subnets, 10.23.2.0/24 and
192.168.45.0/24. To connect them, you have a Linux router machine
with three network interfaces: two for the LAN subnets and one for an
Internet uplink, as shown in Figure 9-4. As you can see, this doesn’t look
very different from the simple network example that we’ve used in the rest
of this chapter.
Internet
Subnet 10.23.2.0/24 (LAN)
Host A
10.23.2.4
Host B
10.23.2.37
Host C
10.23.2.132
Router
10.23.2.1 Uplink
Address
Host C
192.168.45.2
Host C
192.168.45.61
Host C
192.168.45.163
Subnet 192.168.45.0/24 (LAN)
192.168.45.1
Figure 9-4: Two subnets joined with a router
216 Chapter 9
The router’s IP addresses for the LAN subnets are 10.23.2.1 and
192.168.45.1. When those addresses are configured, the routing table looks
something like this (the interface names might vary in practice; ignore the
Internet uplink for now):
Destination Gateway Genmask Flags Metric Ref Use Iface
10.23.2.0 0.0.0.0 255.255.255.0 U 0 0 0 eth0
192.168.45.0 0.0.0.0 255.255.255.0 U 0 0 0 eth1
Now let’s say that the hosts on each subnet have the router as
their default gateway (10.23.2.1 for 10.23.2.0/24 and 192.168.45.1 for
192.168.45.0/24). If 10.23.2.4 wants to send a packet to anything outside
of 10.23.2.0/24, it passes the packet to 10.23.2.1. For example, to send a
packet from 10.23.2.4 (Host A) to 192.168.45.61 (Host E), the packet goes
to 10.23.2.1 (the router) via its eth0 interface, then back out through the
router’s eth1 interface.
However, by default, the Linux kernel does not automatically move
packets from one subnet to another. To enable this basic routing function,
you need to enable IP forwarding in the router’s kernel with this command:
# sysctl -w net.ipv4.ip_forward
As soon as you enter this command, the machine should start routing
packets between the two subnets, assuming that the hosts on those subnets
know to send their packets to the router you just created.
To make this change permanent upon reboot, you can add it to your
/etc/sysctl.conf file. Depending on your distribution, you may have the option
to put it into a file in /etc/sysctl.d so that distribution updates won’t overwrite
your changes.
9.17.1 Internet Uplinks
When the router also has the third network interface with an Internet
uplink, this same setup allows Internet access for all hosts on both subnets
because they’re configured to use the router as the default gateway. But
that’s where things get more complicated. The problem is that certain IP
addresses such as 10.23.2.4 are not actually visible to the whole Internet;
they’re on so-called private networks. To provide for Internet connectivity,
you must set up a feature called Network Address Translation (NAT) on the
router. The software on nearly all specialized routers does this, so there’s
nothing out of the ordinary here, but let’s examine the problem of private
networks in a bit more detail.
9.18 Private Networks
Say you decide to build your own network. You have your machines, router,
and network hardware ready. Given what you know about a simple network
so far, your next question is “What IP subnet should I use?”
Understanding Your Network and Its Configuration 217
If you want a block of Internet addresses that every host on the Internet
can see, you can buy one from your ISP. However, because the range of IPv4
addresses is very limited, this costs a a lot and isn’t useful for much more
than running a server that the rest of the Internet can see. Most people don’t
really need this kind of service because they access the Internet as a client.
The conventional, inexpensive alternative is to pick a private subnet
from the addresses in the RFC 1918/6761 Internet standards documents,
shown in Table 9-2.
Table 9-2: Private Networks Defined by RFC 1918 and 6761
Network Subnet Mask CIDR Form
10.0.0.0 255.0.0.0 10.0.0.0/8
192.168.0.0 255.255.0.0 192.168.0.0/16
172.16.0.0 255.240.0.0 172.16.0.0/12
You can carve up private subnets as you wish. Unless you plan to have more
than 254 hosts on a single network, pick a small subnet like 10.23.2.0/24,
as we’ve been using throughout this chapter. (Networks with this netmask
are sometimes called class C subnets. Although the term is technically somewhat
obsolete, it’s still useful.)
What’s the catch? Hosts on the real Internet know nothing about private
subnets and will not send packets to them, so without some help, hosts
on private subnets cannot talk to the outside world. A router connected to
the Internet (with a true, nonprivate address) needs to have some way to fill
in the gap between that connection and the hosts on a private network.
9.19 Network Address Translation (IP Masquerading)
NAT is the most commonly used way to share a single IP address with a private
network, and it’s nearly universal in home and small office networks. In
Linux, the variant of NAT that most people use is known as IP masquerading.
The basic idea behind NAT is that the router doesn’t just move packets
from one subnet to another; it transforms them as it moves them. Hosts
on the Internet know how to connect to the router, but they know nothing
about the private network behind it. The hosts on the private network need
no special configuration; the router is their default gateway.
The system works roughly like this:
1. A host on the internal private network wants to make a connection
to the outside world, so it sends its connection request packets through
the router.
2. The router intercepts the connection request packet rather than passing
it out to the Internet (where it would get lost because the public
Internet knows nothing about private networks).
3. The router determines the destination of the connection request packet
and opens its own connection to the destination.
218 Chapter 9
4. When the router obtains the connection, it fakes a “connection established”
message back to the original internal host.
5. The router is now the middleman between the internal host and the
destination. The destination knows nothing about the internal host;
the connection on the remote host looks like it came from the router.
This isn’t quite as simple as it sounds. Normal IP routing knows only
source and destination IP addresses in the Internet layer. However, if the
router dealt only with the Internet layer, each host on the internal network
could establish only one connection to a single destination at one time
(among other limitations), because there is no information in the Internet
layer part of a packet to distinguish multiple requests from the same host
to the same destination. Therefore, NAT must go beyond the Internet layer
and dissect packets to pull out more identifying information, particularly
the UDP and TCP port numbers from the transport layers. UDP is fairly
easy because there are ports but no connections, but the TCP transport
layer is complex.
In order to set up a Linux machine to perform as a NAT router, you
must activate all of the following inside the kernel configuration: network
packet filtering (“firewall support”), connection tracking, IP tables support,
full NAT, and MASQUERADE target support. Most distribution kernels
come with this support.
Next you need to run some complex-looking iptables commands to
make the router perform NAT for its private subnet. Here’s an example that
applies to an internal Ethernet network on eth1 sharing an external connection
at eth0 (you’ll learn more about the iptables syntax in Section 9.21):
# sysctl -w net.ipv4.ip_forward
# iptables -P FORWARD DROP
# iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
# iptables -A FORWARD -i eth0 -o eth1 -m state --state ESTABLISHED,RELATED -j ACCEPT
# iptables -A FORWARD -i eth1 -o eth0 -j ACCEPT
NOT E Although NAT works well in practice, remember that it’s essentially a hack used to
extend the lifetime of the IPv4 address space. In a perfect world, we would all be
using IPv6 (the next-generation Internet) and using its larger and more sophisticated
address space without any pain.
You likely won’t ever need to use the commands above unless you’re
developing your own software, especially with so much special-purpose router
hardware available. But the role of Linux in a network doesn’t end here.
9.20 Routers and Linux
In the early days of broadband, users with less demanding needs simply
connected their machine directly to the Internet. But it didn’t take long
Understanding Your Network and Its Configuration 219
for many users to want to share a single broadband connection with their
own networks, and Linux users in particular would often set up an extra
machine to use as a router running NAT.
Manufacturers responded to this new market by offering specialized
router hardware consisting of an efficient processor, some flash memory,
and several network ports—with enough power to manage a typical simple
network, run important software such as a DHCP server, and use NAT.
When it came to software, many manufacturers turned to Linux to power
their routers. They added the necessary kernel features, stripped down the
user-space software, and created GUI-based administration interfaces.
Almost as soon as the first of these routers appeared, many people
became interested in digging deeper into the hardware. One manufacturer,
Linksys, was required to release the source code for its software
under the terms of the license of one its components, and soon specialized
Linux distributions such as OpenWRT appeared for routers. (The
“WRT” in these names came from the Linksys model number.)
Aside from the hobbyist aspect, there are good reasons to use these
distributions: They’re often more stable than the manufacturer firmware,
especially on older router hardware, and they typically offer additional
features. For example, to bridge a network with a wireless connection,
many manufacturers require you to buy matching hardware, but with
OpenWRT installed, the manufacturer and age of the hardware don’t
really matter. This is because you’re using a truly open operating system
on the router that doesn’t care what hardware you use as long as your
hardware is supported.
You can use much of the knowledge in this book to examine the internals
of custom Linux firmware, though you’ll encounter differences, especially
when logging in. As with many embedded systems, open firmware
tends to use BusyBox to provide many shell features. BusyBox is a single
executable program that offers limited functionality for many Unix commands
such as the shell, ls, grep, cat, and more. (This saves a significant
amount of memory.) In addition, the boot-time init tends to be very simple
on embedded systems. However, you typically won’t find these limitations to
be a problem, because custom Linux firmware often includes a web administration
interface similar to what you’d see from a manufacturer.
9.21 Firewalls
Routers in particular should always include some kind of firewall to keep
undesirable traffic out of your network. A firewall is a software and/or hardware
configuration that usually sits on a router between the Internet and a
smaller network, attempting to ensure that nothing “bad” from the Internet
harms the smaller network. You can also set up firewall features for each
machine where the machine screens all of its incoming and outgoing data
at the packet level (as opposed to the application layer, where server programs
usually try to perform some access control of their own). Firewalling
on individual machines is sometimes called IP filtering.
220 Chapter 9
A system can filter packets when it
• receives a packet,
• sends a packet, or
• forwards (routes) a packet to another host or gateway.
With no firewalling in place, a system just processes packets and sends
them on their way. Firewalls put checkpoints for packets at the points of
data transfer identified above. The checkpoints drop, reject, or accept packets,
usually based on some of these criteria:
• The source or destination IP address or subnet
• The source or destination port (in the transport layer information)
• The firewall’s network interface
Firewalls provide an opportunity to work with the subsystem of the
Linux kernel that processes IP packets. Let’s look at that now.
9.21.1 Linux Firewall Basics
In Linux, you create firewall rules in a series known as a chain. A set of
chains makes up a table. As a packet moves through the various parts of the
Linux networking subsystem, the kernel applies the rules in certain chains
to the packets. For example, after receiving a new packet from the physical
layer, the kernel activates rules in chains corresponding to input.
All of these data structures are maintained by the kernel. The whole
system is called iptables, with an iptables user-space command to create and
manipulate the rules.
NOT E There is a newer system called nftables that has a goal of replacing iptables, but as of
this writing, iptables is the dominant system for firewalls.
Because there can be many tables—each with their own sets of chains,
each of which can contain many rules—packet flow can become quite complicated.
However, you’ll normally work primarily with a single table named
filter that controls basic packet flow. There are three basic chains in the filter
table: INPUT for incoming packets, OUTPUT for outgoing packets, and
FORWARD for routed packets.
Figures 9-5 and 9-6 show simplified flowcharts for where rules are
applied to packets in the filter table. There are two figures because packets
can either come into the system from a network interface (Figure 9-5) or
be generated by a local process (Figure 9-6). As you can see, an incoming
packet from the network can be consumed by a user process and may not
reach the FORWARD chain or the OUTPUT chain. Packets generated by
user processes won’t reach the INPUT or FORWARD chains.
Understanding Your Network and Its Configuration 221
INPUT
Chain processing
Packet from network
Is this
host the
destination?
Consumed by
local process
Sent back out on
way to destination
FORWARD
Chain processing
No
Yes
Figure 9-5: Chain-processing sequence for incoming packets from a network
OUTPUT
Chain processing
Packet generated
by local process
Sent out to
destination
Figure 9-6: Chain-processing sequence for incoming packets from a local process
This gets more complicated because there are many steps along the
way other than just these three chains. For example, packets are subject to
PREROUTING and POSTROUTING chains, and chain processing can also
occur at any of the three lower network levels. For a big diagram for everything
that’s going on, search the Internet for “Linux netfilter packet flow,”
but remember that these diagrams try to include every possible scenario for
packet input and flow. It often helps to break the diagrams down by packet
source, as in Figures 9-5 and 9-6.
9.21.2 Setting Firewall Rules
Let’s look at how the IP tables system works in practice. Start by viewing the
current configuration with this command:
# iptables -L
The output is usually an empty set of chains, as follows:
Chain INPUT (policy ACCEPT)
target prot opt source destination
Chain FORWARD (policy ACCEPT)
target prot opt source destination
Chain OUTPUT (policy ACCEPT)
target prot opt source destination
222 Chapter 9
Each firewall chain has a default policy that specifies what to do with
a packet if no rule matches the packet. The policy for all three chains in
this example is ACCEPT, meaning that the kernel allows the packet to pass
through the packet-filtering system. The DROP policy tells the kernel to discard
the packet. To set the policy on a chain, use iptables -P like this:
# iptables -P FORWARD DROP
WARNING Don’t do anything rash with the policies on your machine until you’ve read through
the rest of this section.
Say that someone at 192.168.34.63 is annoying you. To prevent them
from talking to your machine, run this command:
# iptables -A INPUT -s 192.168.34.63 -j DROP
The -A INPUT parameter appends a rule to the INPUT chain. The
-s 192.168.34.63 part specifies the source IP address in the rule, and -j DROP
tells the kernel to discard any packet matching the rule. Therefore, your
machine will throw out any packet coming from 192.168.34.63.
To see the rule in place, run iptables -L:
Chain INPUT (policy ACCEPT)
target prot opt source destination
DROP all -- 192.168.34.63 anywhere
Unfortunately, your friend at 192.168.34.63 has told everyone on his
subnet to open connections to your SMTP port (TCP port 25). To get rid
of that traffic as well, run
# iptables -A INPUT -s 192.168.34.0/24 -p tcp --destination-port 25 -j DROP
This example adds a netmask qualifier to the source address as well as
-p tcp to specify TCP packets only. A further restriction, --destination-port 25,
says that the rule should only apply to traffic to port 25. The IP table list for
INPUT now looks like this:
Chain INPUT (policy ACCEPT)
target prot opt source destination
DROP all -- 192.168.34.63 anywhere
DROP tcp -- 192.168.34.0/24 anywhere tcp dpt:smtp
All is well until you hear from someone you know at 192.168.34.37
saying that they can’t send you email because you blocked their machine.
Thinking that this is a quick fix, you run this command:
# iptables -A INPUT -s 192.168.34.37 -j ACCEPT
Understanding Your Network and Its Configuration 223
However, it doesn’t work. To see why, look at the new chain:
Chain INPUT (policy ACCEPT)
target prot opt source destination
DROP all -- 192.168.34.63 anywhere
DROP tcp -- 192.168.34.0/24 anywhere tcp dpt:smtp
ACCEPT all -- 192.168.34.37 anywhere
The kernel reads the chain from top to bottom, using the first rule that
matches.
The first rule does not match 192.168.34.37, but the second does,
because it applies to all hosts from 192.168.34.1 to 192.168.34.254 and this
second rule says to drop packets. When a rule matches, the kernel carries
out the action and looks no further down in the chain. (You might notice
that 192.168.34.37 can send packets to any port on your machine except
port 25 because the second rule only applies to port 25.)
The solution is to move the third rule to the top. First, delete the third
rule with this command:
# iptables -D INPUT 3
Then insert that rule at the top of the chain with iptables -I:
# iptables -I INPUT -s 192.168.34.37 -j ACCEPT
To insert a rule elsewhere in a chain, put the rule number after the
chain name (for example, iptables -I INPUT 4 ...).
9.21.3 Firewall Strategies
Although the tutorial above showed you how to insert rules and how the
kernel processes IP chains, we haven’t seen firewall strategies that actually
work. Let’s talk about that now.
There are two basic kinds of firewall scenarios: one for protecting individual
machines (where you set rules in each machine’s INPUT chain) and
one for protecting a network of machines (where you set rules in the router’s
FORWARD chain). In both cases, you can’t have serious security if you use a
default policy of ACCEPT and continuously insert rules to drop packets from
sources that start to send bad stuff. You must allow only the packets that you
trust and deny everything else.
For example, say your machine has an SSH server on TCP port 22.
There’s no reason for any random host to initiate a connection to any other
port on your machine, and you shouldn’t give any such host a chance. To set
that up, first set the INPUT chain policy to DROP:
# iptables -P INPUT DROP
224 Chapter 9
To enable ICMP traffic (for ping and other utilities), use this line:
# iptables -A INPUT -p icmp -j ACCEPT
Make sure that you can receive packets you send to both your own network
IP address and 127.0.0.1 (localhost). Assuming your host’s IP address
is my_addr, do this:
# iptables -A INPUT -s 127.0.0.1 -j ACCEPT
# iptables -A INPUT -s my_addr -j ACCEPT
If you control your entire subnet (and trust everything on it), you can
replace my_addr with your subnet address and subnet mask, for example,
10.23.2.0/24.
Now, although you still want to deny incoming TCP connections, you
still need to make sure that your host can make TCP connections to the
outside world. Because all TCP connections start with a SYN (connection
request) packet, if you let all TCP packets through that aren’t SYN packets,
you’re still okay:
# iptables -A INPUT -p tcp '!' --syn -j ACCEPT
Next, if you’re using remote UDP-based DNS, you must accept traffic
from your name server so that your machine can look up names with DNS.
Do this for all DNS servers in /etc/resolv.conf. Use this command (where the
name server’s address is ns_addr):
# iptables -A INPUT -p udp --source-port 53 -s ns_addr -j ACCEPT
And finally, allow SSH connections from anywhere:
# iptables -A INPUT -p tcp --destination-port 22 -j ACCEPT
The preceding iptables settings work for many situations, including
any direct connection (especially broadband) where an intruder is much
more likely to port-scan your machine. You could also adapt these settings
for a firewalling router by using the FORWARD chain instead of
INPUT and using source and destination subnets where appropriate. For
more advanced configurations, you may find a configuration tool such as
Shorewall to be helpful.
This discussion has only touched on security policy. Remember that
the key idea is to permit only the things that you find acceptable, not to try
to find and execute the bad stuff. Furthermore, IP firewalling is only one
piece of the security picture. (You’ll see more in the next chapter.)
Understanding Your Network and Its Configuration 225
9.22 Ethernet, IP, and AR P
There is one interesting basic detail in the implementation of IP over
Ethernet that we have yet to cover. Recall that a host must place an IP
packet inside an Ethernet frame in order to transmit the packet across the
physical layer to another host. Recall, too, that frames themselves do not
include IP address information; they use MAC (hardware) addresses. The
question is this: When constructing the Ethernet frame for an IP packet,
how does the host know which MAC address corresponds to the destination
IP address?
We don’t normally think about this question much because networking
software includes an automatic system of looking up MAC addresses called
Address Resolution Protocol (ARP). A host using Ethernet as its physical layer
and IP as the network layer maintains a small table called an ARP cache that
maps IP addresses to MAC addresses. In Linux, the ARP cache is in the
kernel. To view your machine’s ARP cache, use the arp command. (As with
many other network commands, the -n option here disables reverse DNS
lookups.)
$ arp -n
Address Hwtype Hwaddr Flags Mask Iface
10.1.2.141 ether 00:11:32:0d:ca:82 C eth0
10.1.2.1 ether 00:24:a5:b5:a0:11 C eth0
10.1.2.50 ether 00:0c:41:f6:1c:99 C eth0
When a machine boots, its ARP cache is empty. So how do these MAC
addresses get in the cache? It all starts when the machine wants to send a
packet to another host. If a target IP address is not in an ARP cache, the
following steps occur:
1. The origin host creates a special Ethernet frame containing an ARP
request packet for the MAC address that corresponds to the target IP
address.
2. The origin host broadcasts this frame to the entire physical network for
the target’s subnet.
3. If one of the other hosts on the subnet knows the correct MAC address,
it creates a reply packet and frame containing the address and sends it
back to the origin. Often, the host that replies is the target host and is
simply replying with its own MAC address.
4. The origin host adds the IP-MAC address pair to the ARP cache and
can proceed.
NOT E Remember that ARP only applies to machines on local subnets (refer to Section 9.4
to see your local subnets). To reach destinations outside your subnet, your host sends
the packet to the router, and it’s someone else’s problem after that. Of course, your host
still needs to know the MAC address for the router, and it can use ARP to find it.
226 Chapter 9
The only real problem you can have with ARP is that your system’s
cache can get out-of-date if you’re moving an IP address from one network
interface card to another because the cards have different MAC addresses
(for example, when testing a machine). Unix systems invalidate ARP cache
entries if there’s no activity after a while, so there shouldn’t be any trouble
other than a small delay for invalidated data, but you can delete an ARP
cache entry immediately with this command:
# arp -d host
You can also view the ARP cache for a single network interface with
$ arp -i interface
The arp(8) manual page explains how to manually set ARP cache
entries, but you shouldn’t need to do this.
NOT E Don’t confuse ARP with Reverse Address Resolution Protocol (RARP). RARP
transforms a MAC address back to a hostname or IP address. Before DHCP became
popular, some diskless workstations and other devices used RARP to get their configuration,
but RARP is rare today.
9.23 Wireless Ethernet
In principle, wireless Ethernet (“WiFi”) networks aren’t much different
from wired networks. Much like any wired hardware, they have MAC
addresses and use Ethernet frames to transmit and receive data, and as a
result the Linux kernel can talk to a wireless network interface much as it
would a wired network interface. Everything at the network layer and above
is the same; the main differences are additional components in the physical
layer such as frequencies, network IDs, security, and so on.
Unlike wired network hardware, which is very good at automatically
adjusting to nuances in the physical setup without much fuss, wireless network
configuration is much more open-ended. To get a wireless interface
working properly, Linux needs additional configuration tools.
Let’s take a quick look at the additional components of wireless networks.
Transmission details These are physical characteristics, such as the
radio frequency.
Network identification Because more than one wireless network
can share the same basic medium, you have to be able to distinguish
between them. The SSID (Service Set Identifier, also known as the
“network name”) is the wireless network identifier.
Management Although it’s possible to configure wireless networking
to have hosts talk directly to each other, most wireless networks
are managed by one or more access points that all traffic goes through.
Access points often bridge a wireless network with a wired network,
making both appear as one single network.
Understanding Your Network and Its Configuration 227
Authentication You may want to restrict access to a wireless network.
To do so, you can configure access points to require a password or
other authentication key before they’ll even talk to a client.
Encryption In addition to restricting the initial access to a wireless
network, you normally want to encrypt all traffic that goes out across
radio waves.
The Linux configuration and utilities that handle these components
are spread out over a number of areas. Some are in the kernel: Linux features
a set of wireless extensions that standardize user-space access to hardware.
As far as user space goes, wireless configuration can get complicated,
so most people prefer to use GUI frontends, such as the desktop applet for
NetworkManager, to get things working. Still, it’s worth looking at a few of
the things happening behind the scenes.
9.23.1 iw
You can view and change kernel space device and network configuration
with a utility called iw. To use iw, you normally need to know the network
interface name for the device, such as wlan0. Here’s an example that dumps
a scan of available wireless networks. (Expect a lot of output if you’re in an
urban area.)
# iw dev wlan0 scan
NOT E The network interface must be up for this command to work (if it’s not, run ifconfig
wlan0 up), but you don’t need to configure any network layer parameters, such as an
IP address.
If the network interface has joined a wireless network, you can view the
network details like this:
# iw dev wlan0 link
The MAC address in the output of this command is from the access
point that you’re currently talking to.
NOT E The iw command distinguishes between physical device names such as phy0 and
network interface names such as wlan0 and allows you to change various settings
for each. You can even create more than one network interface for a single physical
device. However, in nearly all basic cases, you’ll just use the network interface name.
Use iw to connect a network interface to an unsecured wireless network
as follows:
# iw wlan0 connect network_name
228 Chapter 9
Connecting to secured networks is a different story. For the rather insecure
Wired Equivalent Privacy (WEP) system, you can use the keys parameter
with the iw connect command. However, you shouldn’t use WEP if you’re
serious about security.
9.23.2 Wireless Security
For most wireless security setups, Linux relies on a daemon called
wpa_supplicant to manage both authentication and encryption for a wire-
less
network interface. This daemon can handle both WPA (WiFi Protected
Access) and WPA2 schemes of authentication, as well as nearly any kind of
encryption technique used on wireless networks. When the daemon first
starts, it reads a configuration file (by default, /etc/wpa_supplicant.conf ) and
attempts to identify itself to an access point and establish communication
based on a given network name. The system is well documented; in particular,
the wpa_supplicant(1) and wpa_supplicant.conf(5) manual pages are
very detailed.
Running the daemon by hand every time you want to establish a connection
is a lot of work. In fact, just creating the configuration file is tedious
due to the number of possible options. To make matters worse, all of the
work of running iw and wpa_supplicant simply allows your system to join a
wireless physical network; it doesn’t even set up the network layer. And that’s
where automatic network configuration managers such as NetworkManager
take a lot of pain out of the process. Although they don’t do any of the work
on their own, they know the correct sequence and required configuration
for each step toward getting a wireless network operational.
9.24 Summary
You can now see that understanding the positions and roles of the various
network layers is critical to understanding how Linux networking operates
and how to perform network configuration. Although we’ve covered only
the basics, more advanced topics in the physical, network, and transport
layers bear similarities to what you’ve seen. Layers themselves are often
subdivided, as you just saw with the various pieces of the physical layer in
a wireless network.
A substantial amount of action that you’ve seen in this chapter happens
in the kernel, with some basic user-space control utilities to manipulate the
kernel’s internal data structures (such as routing tables). This is the traditional
way of working with the network. However, as with many of the topics
discussed in this book, some tasks aren’t suitable for the kernel due to their
complexity and need for flexibility, and that’s where user-space utilities take
over. In particular, NetworkManager monitors and queries the kernel and
then manipulates the kernel configuration. Another example is support for
dynamic routing protocols such as Border Gateway Protocol (BGP), which
is used in large Internet routers.
But you’re probably a little bit bored with network configuration by
now. Let’s turn to using the network—the application layer.
10
Ne twork Appl ications
and Service s
This chapter explores basic network
applications—the clients and servers running
in user space that reside at the application
layer. Because this layer is at the top of
the stack, close to end users, you may find this material
more accessible than the material in Chapter 9.
Indeed, you interact with network client applications
such as web browsers and email readers every day.
To do their work, network clients connect to corresponding network
servers. Unix network servers come in many forms. A server program can
listen to a port on its own or through a secondary server. In addition, servers
have no common configuration database and a wide variety of features. Most
servers have a configuration file to control their behavior (though with no
common format), and most use the operating system’s syslog service for
message logging. We’ll look at some common servers as well as some tools
that will help you understand and debug server operation.
230 Chapter 10
Network clients use the operating system’s transport layer protocols and
interfaces, so understanding the basics of the TCP and UDP transport layers
is important. Let’s start looking at network applications by experimenting
with a network client that uses TCP.
10.1 The Basics of Services
TCP services are among the easiest to understand because they are built
upon simple, uninterrupted two-way data streams. Perhaps the best way to
see how they work is to talk directly to a web server on TCP port 80 to get
an idea of how data moves across the connection. For example, run the following
command to connect to a web server:
$ telnet www.wikipedia.org 80
You should get a response like this:
Trying some address...
Connected to www.wikipedia.org.
Escape character is '^]'.
Now enter
GET / HTTP/1.0
Press enter twice. The server should send a bunch of HTML text as a
response and then terminate the connection.
This exercise tells us that
• the remote host has a web server process listening on TCP port 80; and
• telnet was the client that initiated the connection.
NOT E telnet is a program originally meant to enable logins to remote hosts. Although the
non-Kerberos telnet remote login server is completely insecure (as you will learn
later), the telnet client can be useful for debugging remote services. telnet does not
work with UDP or any transport layer other than TCP. If you’re looking for a generalpurpose
network client, consider netcat, described in Section 10.5.3.
10.1.1 A Closer Look
In the example above, you manually interacted with a web server on the
network with telnet, using the Hypertext Transfer Protocol (HTTP) application
layer protocol. Although you’d normally use a web browser to make
this sort of connection, let’s take just one step up from telnet and use a
command-line program that knows how to speak to the HTTP application
layer. We’ll use the curl utility with a special option to record details about
its communication:
$ curl --trace-ascii trace_file http://www.wikipedia.org/
Network Applications and Services 231
NOT E Your distribution may not have the curl package preinstalled, but you should have
no trouble installing it if necessary.
You’ll get a lot of HTML output. Ignore it (or redirect it to /dev/null)
and instead look at the newly created file trace_file. Assuming that the connection
was successful, the first part of the file should look something like
the following, at the point where curl attempts to establish the TCP connection
to the server:
== Info: About to connect() to www.wikipedia.org port 80 (#0)
== Info: Trying 10.80.154.224... == Info: connected
Everything you’ve seen so far happens in the transport layer or below.
However, if this connection succeeds, curl tries to send the request (the
“header”); this is where the application layer starts:
=> Send header, 167 bytes (0xa7)
0000: GET / HTTP/1.1
0010: User-Agent: curl/7.22.0 (i686-pc-linux-gnu) libcurl/7.22.0 OpenS
0050: SL/1.0.1 zlib/1.2.3.4 libidn/1.23 librtmp/2.3
007f: Host: www.wikipedia.org
0098: Accept: */*
00a5:
The first line here is curl debugging output telling you what it will do
next. The remaining lines show what curl sends to the server. The text in
bold is what goes to the server; the hexadecimal numbers at the beginning
are just debugging offsets from curl to help you keep track of how much
data was sent or received.
You can see that curl starts by issuing a GET command to the server (as
you did with telnet), followed by some extra information for the server
and an empty line. Next, the server sends a reply, first with its own header,
shown here in bold:
<= Recv header, 17 bytes (0x11)
0000: HTTP/1.1 200 OK
<= Recv header, 16 bytes (0x10)
0000: Server: Apache
<= Recv header, 42 bytes (0x2a)
0000: X-Powered-By: PHP/5.3.10-1ubuntu3.9+wmf1
--snip--
Much like the previous output, the <= lines are debugging output, and
0000: precedes the lines of output to tell you offsets.
The header in the server’s reply can be fairly long, but at some point
the server transitions from transmitting headers to sending the actual
requested document, like this:
<= Recv header, 55 bytes (0x37)
0000: X-Cache: cp1055 hit (16), cp1054 frontend hit (22384)
232 Chapter 10
<= Recv header, 2 bytes (0x2)
0000:
<= Recv data, 877 bytes (0x36d)
0000: 008000
0008: <!DOCTYPE html>.<html lang=”mul” dir=”ltr”>.<head>.<!-- Sysops:
--snip--
This output also illustrates an important property of the application
layer. Even though the debugging output says Recv header and Recv data,
implying that those are two different kinds of messages from the server,
there’s no difference in the way that curl talked to the operating system to
retrieve the two kinds of messages, nor any difference in how the operating
system handled them, nor any difference in the way that the network
handled the packets underneath. The difference is entirely within the userspace
curl application itself. curl knew that until this point it had been
getting headers, but when it received a blank line (the 2-byte chunk in the
middle) signifying the end of headers in HTTP, it knew to interpret anything
that followed as the requested document.
The same is true of the server sending this data. When sending the
reply, the server didn’t differentiate between header and document data
sent to the operating system; the distinctions happen inside the user-space
server program.
10.2 Network Servers
Most network servers are like other server daemons on your system such as
cron, except that they interact with network ports. In fact, recall syslogd discussed
in Chapter 7; it accepts UDP packets on port 514 when started with
the -r option.
These are some other common network servers that you might find
running on your system:
httpd, apache, apache2 Web servers
sshd Secure shell daemon (see Section 10.3)
postfix, qmail, sendmail Mail servers
cupsd Print server
nfsd, mountd Network filesystem (file-sharing) daemons
smbd, nmbd Windows file-sharing daemons (see Chapter 12)
rpcbind Remote procedure call (RPC) portmap service daemon
One feature common to most network servers is that they usually
operate as multiple processes. At least one process listens on a network
port, and when a new incoming connection is received, the listening process
uses fork() to create a new child process, which is then responsible for
the new connection. The child, often called a worker process, terminates
Network Applications and Services 233
when the connection is closed. Meanwhile, the original listening process
continues to listen on the network port. This process allows a server to
easily handle many connections without much trouble.
There are some exceptions to this model, however. Calling fork() adds
a significant amount of system overhead. In comparison, high-performance
TCP servers such as the Apache web server can create a number of worker
processes upon startup so that they are already there to handle connections
as needed. Servers that accept UDP packets simply receive data and react to
it; they don’t have connections to listen for.
10.3 Secure Shell (SS H)
Every server works a bit differently. Let’s take a close look at one—the
standalone SSH server. One of the most common network service applications
is the secure shell (SSH), the de facto standard for remote access to
a Unix machine. When configured, SSH allows secure shell logins, remote
program execution, simple file sharing, and more—replacing the old, insecure
telnet and rlogin remote-access systems with public-key cryptography
for authentication and simpler ciphers for session data. Most ISPs and cloud
providers require SSH for shell access to their services, and many Linuxbased
network appliances (such as NAS devices) allow access via SSH as well.
OpenSSH (http://www.openssh.com/) is a popular free SSH implementation
for Unix, and nearly all Linux distributions come with it preinstalled. The
OpenSSH client is ssh, and the server is sshd. There are two main SSH protocol
versions: 1 and 2. OpenSSH supports both, but version 1 is rarely used.
Among its many useful capabilities and features, SSH does the following:
• Encrypts your password and all other session data, protecting you
from snoopers.
• Tunnels other network connections, including those from X Window
System clients. You’ll learn more about X in Chapter 14.
• Offers clients for nearly any operating system.
• Uses keys for host authentication.
NOT E Tunneling is the process of packaging and transporting one network connection
using another one. The advantages of using SSH to tunnel X Window System connections
are that SSH sets up the display environment for you and encrypts the X
data inside the tunnel.
SSH does have its disadvantages. For one, in order to set up an SSH
connection, you need the remote host’s public key, and you don’t necessarily
get it in a secure way (though you can check it manually to make sure
you’re not being spoofed). For an overview of how several methods of cryptography
work, get your hands on the book Applied Cryptography: Protocols,
Algorithms, and Source Code in C, 2nd edition, by Bruce Schneier (Wiley, 1996).
234 Chapter 10
Two in-depth books on SSH are SSH Mastery: OpenSSH, PuTTY, Tunnels and
Keys by Michael W. Lucas (Tilted Windmill Press, 2012) and SSH, The Secure
Shell, 2nd edition, by Daniel J. Barrett, Richard E. Silverman, and Robert G.
Byrnes(O’Reilly, 2005).
10.3.1 The SSHD Server
Running sshd requires a configuration file and host keys. Most distributions
keep configurations in the /etc/ssh configuration directory and try
to configure everything properly for you if you install their sshd package.
(The configuration filename sshd_config is easy to confuse with the client’s
ssh_config setup file, so be careful.)
You shouldn’t need to change anything in sshd_config, but it never hurts
to check. The file consists of keyword-value pairs, as shown in this fragment:
Port 22
#Protocol 2,1
#ListenAddress 0.0.0.0
#ListenAddress ::
HostKey /etc/ssh/ssh_host_key
HostKey /etc/ssh/ssh_host_rsa_key
HostKey /etc/ssh/ssh_host_dsa_key
Lines beginning with # are comments, and many comments in your
sshd_config might indicate default values. The sshd_config(5) manual page
contains descriptions of all possible values, but these are the most important
ones:
HostKey file Uses file as a host key. (Host keys are described shortly.)
LogLevel level Logs messages with syslog level level.
PermitRootLogin value Permits the superuser to log in with SSH if value
is set to yes. Set value to no to prevent this.
SyslogFacility name Logs messages with syslog facility name.
X11Forwarding value Enables X Window System client tunneling if value
is set to yes.
XAuthLocation path Provides a path for xauth. X11 tunneling will not
work without this path. If xauth isn’t in /usr/bin, set path to the full pathname
for xauth.
Host Keys
OpenSSH has three host key sets: one for protocol version 1 and two for
protocol 2. Each set has a public key (with a .pub file extension) and a private
key (with no extension). Do not let anyone see your private key, even on your
own system, because if someone obtains it, you’re at risk from intruders.
SSH version 1 has RSA keys only, and SSH version 2 has RSA and DSA
keys. RSA and DSA are public key cryptography algorithms. The key filenames
are given in Table 10-1.
Network Applications and Services 235
Table 10-1: OpenSSH Key Files
Filename Key Type
ssh_host_rsa_key Private RSA key (version 2)
ssh_host_rsa_key.pub Public RSA key (version 2)
ssh_host_dsa_key Private DSA key (version 2)
ssh_host_dsa_key.pub Public DSA key (version 2)
ssh_host_key Private RSA key (version 1)
ssh_host_key.pub Public RSA key (version 1)
Normally you won’t need to build the keys because the OpenSSH installation
program or your distribution’s installation script will do it for you,
but you do need to know how to create keys if you plan to use programs
like ssh-agent. To create SSH protocol version 2 keys, use the ssh-keygen program
that comes with OpenSSH:
# ssh-keygen -t rsa -N '' -f /etc/ssh/ssh_host_rsa_key
# ssh-keygen -t dsa -N '' -f /etc/ssh/ssh_host_dsa_key
For the version 1 keys, use
# ssh-keygen -t rsa1 -N '' -f /etc/ssh/ssh_host_key
The SSH server and clients also use a key file called ssh_known_hosts,
which contains public keys from other hosts. If you intend to use host-based
authentication, the server’s ssh_known_hosts file must contain the public
host keys of all trusted clients. Knowing about the key files is handy if you’re
replacing a machine. When installing a new machine from scratch, you can
import the key files from the old machine to ensure that users don’t get key
mismatches when connecting to the new one.
Starting the SSH Server
Although most distributions ship with SSH, they usually don’t start the sshd
server by default. On Ubuntu and Debian, installing the SSH server package
creates the keys, starts the server, and adds the startup to the bootup
configuration. On Fedora, sshd is installed by default but turned off. To
start sshd at boot, use chkconfig like this (this won’t start the server immediately;
use service sshd start for that):
# chkconfig sshd on
Fedora normally creates any missing host key files upon the first sshd
startup.
If you don’t have any init support installed yet, running sshd as root
starts the server, and upon startup, sshd writes its PID to /var/run/sshd.pid.
236 Chapter 10
You can also start sshd as a socket unit in systemd or with inetd, but it’s usually
not a good idea to do so because the server occasionally needs to generate
key files, a process that can take a long time.
10.3.2 The SSH Client
To log in to a remote host, run
$ ssh remote_username@host
You may omit remote_username@ if your local username is the same as on
host. You can also run pipelines to and from an ssh command as shown in
the following example, which copies a directory dir to another host:
$ tar zcvf - dir | ssh remote_host tar zxvf -
The global SSH client configuration file ssh_config should be in /etc/ssh
with your sshd_config file. As with the server configuration file, the client
configuration file has key-value pairs, but you shouldn’t need to change them.
The most frequent problem with using SSH clients occurs when an SSH
public key in your local ssh_known_hosts or .ssh/known_hosts file does not
match the key on the remote host. Bad keys cause errors or warnings like this:
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@ WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED! @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that the RSA host key has just been changed.
The fingerprint for the RSA key sent by the remote host is
38:c2:f6:0d:0d:49:d4:05:55:68:54:2a:2f:83:06:11.
Please contact your system administrator.
Add correct host key in /home/user/.ssh/known_hosts to get rid of this
message.
Offending key in /home/user/.ssh/known_hosts:12u
RSA host key for host has changed and you have requested
strict checking.
Host key verification failed.
This usually just means that the remote host’s administrator changed
the keys (this often happens when replacing hardware), but it never hurts
to check with the administrator if you’re not sure. In any case, the preceding
message tells you that the bad key is in line 12 of a user’s known_hosts
file, as shown at u.
If you don’t suspect foul play, just remove the offending line or replace
it with the correct public key.
SSH File Transfer Clients
OpenSSH includes the file transfer programs scp and sftp, which are
intended as replacements for the older, insecure programs rcp and ftp.
Network Applications and Services 237
You can use scp to transfer files to or from a remote machine to your
machine or from one host to another. It works like the cp command.
Here are a few examples:
$ scp user@host:file .
$ scp file user@host:dir
$ scp user1@host1:file user2@host2:dir
The sftp program works like the command-line ftp client, using get
and put commands. The remote host must have an sftp-server program
installed, which you can expect if the remote host also uses OpenSSH.
NOT E If you need more features and flexibility than the offerings of scp and sftp (for example,
if you’re transferring large numbers of files often), have a look at rsync, described in
Chapter 12.
SSH Clients for Non-Unix Platforms
There are SSH clients for all popular operating systems, as listed on the
OpenSSH web page (http://www.openssh.com/). Which one should you
choose? PuTTY is a good, basic Windows client that includes a secure filecopy
program. MacSSH works well for Mac OS 9.x and lower. Mac OS X is
based on Unix and includes OpenSSH.
10.4 The inetd and xinetd Daemons
Implementing standalone servers for every service can be somewhat inefficient.
Each server must be separately configured to handle port listening,
access control, and port configuration. These actions are performed in the
same way for most services; only when a server accepts a connection is there
any difference in the way communication is handled.
One traditional way to simplify the use of servers is with the inetd daemon,
a kind of superserver designed to standardize network port access and
interfaces between server programs and network ports. After you start inetd,
it reads its configuration file and then listens on the network ports defined
in that file. As new network connections come in, inetd attaches a newly
started process to the connection.
A newer version of inetd called xinetd offers easier configuration and
better access control, but xinetd itself is being phased out in favor of systemd,
which can provide the same functionality through socket units, as described
in Section 6.4.7.
Although inetd is no longer commonly used, its configuration shows
everything necessary to set up a service. As it turns out, sshd can also be
invoked by inetd rather than as a standalone server, as shown in this /etc/
inetd.conf configuration file:
ident stream tcp nowait root /usr/sbin/sshd sshd -i
238 Chapter 10
The seven fields here are, from left to right:
Service name The service name from /etc/services (see Section 9.14.3).
Socket type This is usually stream for TCP and dgram for UDP.
Protocol The transport protocol, usually tcp or udp.
Datagram server behavior For UDP, this is wait or nowait. Services
using any other transport protocol should use nowait.
User The username to run the service. Add .group to set a group.
Executable The program that inetd should connect to the service.
Arguments The arguments for the executable. The first argument
should be the name of the program.
10.4.1 TCP Wrappers: tcpd, /etc/hosts.allow, and /etc/hosts.deny
Before lower-level firewalls became popular, many administrators used the
TCP wrapper library and daemon for host control over network services. In
these implementations, inetd runs the tcpd program, which first looks at the
incoming connection as well as the access control lists in the /etc/hosts.allow
and /etc/hosts.deny files. The tcpd program logs the connection, and if it decides
that the incoming connection is okay, it hands it to the final service program.
(Although you may find a system that still uses the TCP wrapper system, we
won’t cover it in detail because it has largely fallen into disuse.)
10.5 Diagnostic Tools
Let’s look at a few diagnostic tools that are useful for poking around the
application layer. Some dig into the transport and network layers, because
everything in the application layer eventually maps down to something in
those lower layers.
As discussed in Chapter 9, netstat is a basic network service debugging
tool that can display a number of transport and network layer statistics.
Table 10-2 reviews a few useful options for viewing connections.
Table 10-2: Useful Connection-Reporting Options for netstat
Option Description
-t Prints TCP port information
-u Prints UDP port information
-l Prints listening ports
-a Prints every active port
-n Disables name lookups (speeds things up; also useful if DNS isn’t working)
Network Applications and Services 239
10.5.1 lsof
In Chapter 8, you learned that lsof can track open files, but it can also list
the programs currently using or listening to ports. For a complete list of
programs using or listening to ports, run
# lsof -i
When run as a regular user, this command only shows that user’s processes.
When run as root, the output should look something like this, displaying
a variety of processes and users:
COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAME
rpcbind 700 root 6u IPv4 10492 0t0 UDP *:sunrpc
rpcbind 700 root 8u IPv4 10508 0t0 TCP *:sunrpc (LISTEN)
avahi-dae 872 avahi 13u IPv4 21736375 0t0 UDP *:mdns
cupsd 1010 root 9u IPv6 42321174 0t0 TCP ip6-localhost:ipp (LISTEN)
ssh 14366 juser 3u IPv4 38995911 0t0 TCP thishost.local:55457->
somehost.example.com:ssh (ESTABLISHED)
chromium- 26534 juser 8r IPv4 42525253 0t0 TCP thishost.local:41551->
anotherhost.example.com:https (ESTABLISHED)
This example output shows users and process IDs for server and client
programs, from the old-style RPC services at the top, to the multicast DNS
service provided by avahi, and even an IPv6-ready printer service (cupsd).
The last two entries show client connections: an SSH connection and a
secure web connection from the Chromium web browser. Because the output
can be extensive, it’s usually best to apply a filter (as discussed in the
following section).
The lsof program is like netstat in that it tries to reverse-resolve every
IP address that it finds into a hostname, which slows down the output. Use
the -n option to disable name resolution:
# lsof -n -i
You can also specify -P to disable /etc/services port name lookups.
Filtering by Protocol and Port
If you’re looking for a particular port (say, you know that a process is using a
particular port and you want to know what that process is), use this command:
# lsof -i:port
The full syntax is as follows:
# lsof -iprotocol@host:port
The protocol, @host, and :port parameters are all optional and will filter
the lsof output accordingly. As with most network utilities, host and port can
240 Chapter 10
be either names or numbers. For example, if you only want to see connections
on TCP port 80 (the HTTP port), use
# lsof -iTCP:80
Filtering by Connection Status
One particularly handy lsof filter is connection status. For example, to show
only the processes listening on TCP ports, enter
# lsof -iTCP -sTCP:LISTEN
This command gives you a good overview of the network server processes
currently running on your system. However, because UDP servers
don’t listen and don’t have connections, you’ll have to use -iUDP to view
running clients as well as servers. This usually isn’t a problem, because you
probably won’t have many UDP servers on your system.
10.5.2 tcpdump
If you need to see exactly what’s crossing your network, tcpdump puts your
network interface card into promiscuous mode and reports on every packet
that crosses the wire. Entering tcpdump with no arguments produces output
like the following, which includes an ARP request and web connection:
# tcpdump
tcpdump: listening on eth0
20:36:25.771304 arp who-has mikado.example.com tell duplex.example.com
20:36:25.774729 arp reply mikado.example.com is-at 0:2:2d:b:ee:4e
20:36:25.774796 duplex.example.com.48455 > mikado.example.com.www: S
3200063165:3200063165(0) win 5840 <mss 1460,sackOK,timestamp 38815804[|tcp]>
(DF)
20:36:25.779283 mikado.example.com.www > duplex.example.com.48455: S
3494716463:3494716463(0) ack 3200063166 win 5792 <mss 1460,sackOK,timestamp
4620[|tcp]> (DF)
20:36:25.779409 duplex.example.com.48455 > mikado.example.com.www: . ack 1 win
5840 <nop,nop,timestamp 38815805 4620> (DF)
20:36:25.779787 duplex.example.com.48455 > mikado.example.com.www: P 1:427(426)
ack 1 win 5840 <nop,nop,timestamp 38815805 4620> (DF)
20:36:25.784012 mikado.example.com.www > duplex.example.com.48455: . ack 427
win 6432 <nop,nop,timestamp 4620 38815805> (DF)
20:36:25.845645 mikado.example.com.www > duplex.example.com.48455: P 1:773(772)
ack 427 win 6432 <nop,nop,timestamp 4626 38815805> (DF)
20:36:25.845732 duplex.example.com.48455 > mikado.example.com.www: . ack 773
win 6948 <nop,nop,timestamp 38815812 4626> (DF)
9 packets received by filter
0 packets dropped by kernel
You can tell tcpdump to be more specific by adding filters. You can filter
based on source and destination hosts, networks, Ethernet addresses,
Network Applications and Services 241
protocols at many different layers in the network model, and much more.
Among the many packet protocols that tcpdump recognizes are ARP, RARP,
ICMP, TCP, UDP, IP, IPv6, AppleTalk, and IPX packets. For example, to tell
tcpdump to output only TCP packets, run
# tcpdump tcp
To see web packets and UDP packets, enter
# tcpdump udp or port 80
NOT E If you need to do a lot of packet sniffing, consider using a GUI alternative to tcpdump
such as Wireshark.
Primitives
In the preceding examples, tcp, udp, and port 80 are called primitives. The
most important primitives are in Table 10-3:
Table 10-3: tcpdump Primitives
Primitive Packet Specification
tcp TCP packets
udp UDP packets
port port TCP and/or UDP packets to/from port port
host host Packets to or from host
net network Packets to or from network
Operators
The or used in the previous example is an operator. tcpdump can use multiple
operators (such as and and !), and you can group operators in parentheses.
If you plan to do any serious work with tcpdump, make sure to read the manual
page, especially the section that describes the primitives.
When Not to Use tcpdump
Be very careful when using tcpdump. The tcpdump output shown earlier in this
section includes only packet TCP (transport layer) and IP (Internet layer)
header information, but you can also make tcpdump print the entire packet
contents. Even though many network operators make it far too easy to look
at their network packets, you shouldn’t snoop around on networks unless
you own them.
10.5.3 netcat
If you need more flexibility in connecting to a remote host than a command
like telnet host port allows, use netcat (or nc). netcat can connect to remote
242 Chapter 10
TCP/UDP ports, specify a local port, listen on ports, scan ports, redirect
standard I/O to and from network connections, and more. To open a TCP
connection to a port with netcat, run
$ netcat host port
netcat only terminates when the other side of the connection ends the
connection, which can confuse things if you redirect standard input to netcat.
You can end the connection at any time by pressing ctrl-C. (If you’d like the
program and network connection to terminate based on the standard input
stream, try the sock program instead.)
To listen on a particular port, run
$ netcat -l -p port_number
10.5.4 Port Scanning
Sometimes you don’t even know what services the machines on your networks
are offering or even which IP addresses are in use. The Network Mapper
(Nmap) program scans all ports on a machine or network of machines looking
for open ports, and it lists the ports it finds. Most distributions have an
Nmap package, or you can get it at http://www.insecure.org/. (See the Nmap
manual page and online resources for all that Nmap can do.)
When listing ports on your own machine, it often helps to run the Nmap
scan from at least two points: from your own machine and from another one
(possibly outside your local network). Doing so will give you an overview of
what your firewall is blocking.
WARNING If someone else controls the network that you want to scan with Nmap, ask for permission.
Network administrators watch for port scans and usually disable access to
machines that run them.
Run nmap host to run a generic scan on a host. For example:
$ nmap 10.1.2.2
Starting Nmap 5.21 ( http://nmap.org ) at 2015-09-21 16:51 PST
Nmap scan report for 10.1.2.2
Host is up (0.00027s latency).
Not shown: 993 closed ports
PORT STATE SERVICE
22/tcp open ssh
25/tcp open smtp
80/tcp open http
111/tcp open rpcbind
8800/tcp open unknown
9000/tcp open cslistener
9090/tcp open zeus-admin
Nmap done: 1 IP address (1 host up) scanned in 0.12 seconds
Network Applications and Services 243
As you can see, a number of services are open here, many of which are
not enabled by default on most distributions. In fact, the only one here
that’s usually on by default is port 111, the rpcbind port.
10.6 Remote Procedure Call (RPC)
What about the rpcbind service that you just saw in the scan in the preceding
section? RPC stands for remote procedure call, a system residing in the lower
parts of the application layer. It’s designed to make it easier for programmers
to access network applications by leveraging the fact that programs
call functions on remote programs (identified by program numbers) and
the remote programs return a result code or message.
RPC implementations use transport protocols such as TCP and UDP,
and they require a special intermediary service to map program numbers
to TCP and UDP ports. The server is called rpcbind, and it must be running
on any machine that wants to use RPC services.
To see what RPC services your computer has, run
$ rpcinfo -p localhost
RPC is one of those protocols that just doesn’t want to die. The Network
File System (NFS) and Network Information Service (NIS) systems use RPC,
but they are completely unnecessary on standalone machines. But whenever
you think that you’ve eliminated all need for rpcbind, something else comes
up, such as File Access Monitor (FAM) support in GNOME.
10.7 Network Security
Because Linux is a very popular Unix flavor on the PC platform, and especially
because it is widely used for web servers, it attracts many unpleasant
characters who try to break into computer systems. Section 9.21 discussed
firewalls, but that’s not really the whole story on security.
Network security attracts extremists—those who really like to break into
systems (whether for fun or money) and those who come up with elaborate
protection schemes who really like to swat away people trying to break into their
systems. (This, too, can be very profitable.) Fortunately, you don’t need to know
very much to keep your system safe. Here are a few basic rules of thumb:
Run as few services as possible Intruders can’t break into services
that don’t exist on your system. If you know what a service is and you’re
not using it, don’t turn it on for the sole reason that you might want to
use it “at some later point.”
Block as much as possible with a firewall Unix systems have a number
of internal services that you may not know about (such as TCP port 111
for the RPC port-mapping server), and no other system in the world should
know about them. It can be very difficult to track and regulate the services
244 Chapter 10
on your system because many different kinds of programs listen on various
ports. To keep intruders from discovering internal services on your system,
use effective firewall rules, and install a firewall at your router.
Track the services that you offer to the Internet If you run an SSH
server, Postfix, or similar services, keep your software up-to-date and
get appropriate security alerts. (See Section 10.7.2 for some online
resources.)
Use “long-term support” distribution releases for servers Security
teams normally concentrate their work on stable, supported distribution
releases. Development and testing releases such Debian Unstable
and Fedora Rawhide receive much less attention.
Don’t give an account on your system to anyone who doesn’t need
one It’s much easier to gain superuser access from a local account
than it is to break in remotely. In fact, given the huge base of software
(and the resulting bugs and design flaws) available on most systems, it
can be easy to gain superuser access to a system after you get to a shell
prompt. Don’t assume that your friends know how to protect their passwords
(or choose good passwords in the first place).
Avoid installing dubious binary packages They can contain Trojan
horses.
That’s the practical end of protecting yourself. But why is it important
to do so? There are three basic kinds of network attacks:
Full compromise This means getting superuser access (full control)
of a machine. An intruder can accomplish this by trying a service attack,
such as a buffer overflow exploit, or by taking over a poorly protected
user account and then trying to exploit a poorly written setuid program.
Denial-of-service (DoS) attack This prevents a machine from carrying
out its network services or forces a computer to malfunction in
some other way without the use of any special access. These attacks are
harder to prevent, but they are easier to respond to.
Malware Linux users are mostly immune to malware such as email
worms and viruses, simply because their email clients aren’t stupid
enough to actually run programs that they get in message attachments.
But Linux malware does exist. Avoid downloading and installing binary
software from places that you’ve never heard of.
10.7.1 Typical Vulnerabilities
There are two important kinds of vulnerabilities to worry about: direct
attacks and clear-text password sniffing. Direct attacks try to take over a
machine without being terribly subtle. The most common is a buffer overflow
exploit, where a careless programmer doesn’t check the bounds of
a buffer array. The attacker fabricates a stack frame inside a huge chunk
of data, dumps it to the remote server, and then hopes that the server
overwrites its program data and eventually executes the new stack frame.
Although a somewhat complicated attack, it’s easy to replicate.
Network Applications and Services 245
A second attack to worry about is one that captures passwords sent
across the wire as clear text. As soon as an attacker gets your password,
it’s game over. From there, the assailant will inevitably try to gain superuser
access locally (which is much easier than making a remote attack), try to
use the machine as an intermediary for attacking other hosts, or both.
NOT E If you have a service that offers no native support for encryption, try Stunnel
( http://www.stunnel.org/), an encryption wrapper package much like TCP
wrappers. Like tcpd, Stunnel is especially good at wrapping inetd services.
Some services are chronic attack targets due to poor implementation
and design. You should always deactivate the following services (they’re
rarely activated by default on most systems):
ftpd For whatever reason, all FTP servers seem plagued with vulnerabilities.
In addition, most FTP servers use clear-text passwords. If you
have to move files from one machine to another, consider an SSH-based
solution or an rsync server.
telnetd, rlogind, rexecd All of these pass remote session data (including
passwords) in clear-text form. Avoid them unless you happen to have a
Kerberos-enabled version.
fingerd Intruders can get user lists and other information with the
finger service.
10.7.2 Security Resources
Here are three good security sites:
http://www.sans.org/ Offers training, services, a free weekly newsletter
listing the top current vulnerabilities, sample security policies, and more.
http://www.cert.org/ A place to look for the most severe problems.
http://www.insecure.org/ This is the place to go for Nmap and pointers
to all sorts of network exploit-testing tools. It’s much more open and
specific about exploits than are many other sites.
If you’re interested in network security, you should learn all about
Transport Layer Security (TLS) and its predecessor, Secure Socket Layer
(SSL). These user-space network levels are typically added to networking
clients and servers to support network transactions through the
use of public-key encryption and certificates. A good guide is Davies’s
Implementing SSL/TLS Using Cryptography and PKI (Wiley, 2011).
10.8 Looking Forward
If you’re interested in getting your hands dirty with some complicated
network servers, two very common ones are the Apache web server and
the Postfix email server. In particular, Apache is easy to install and most
246 Chapter 10
distributions supply a package. If your machine is behind a firewall or NATenabled
router, you can experiment with the configuration as much as
you’d like without worrying about security.
Throughout the last few chapters, we’ve been gradually moving from kernel
space into user space. Only a few utilities discussed in this chapter, such
as tcpdump, interact with the kernel. The remainder of this chapter describes
how sockets bridge the gap between the kernel’s transport layer and the userspace
application layer. It’s more advanced material, of particular interest to
programmers, so feel free to skip to the next chapter if you like.
10.9 Sockets: How Processes Communicate with the Network
We’re now going to shift gears a little and look at how processes do the work
of reading data from and writing data to the network. It’s easy enough for
processes to read from and write to network connections that are already
set up: All you need are some system calls, which you can read about in the
recv(2) and send(2) manual pages. From the point of view of a process, perhaps
the most important thing to know is how to refer to the network when
using these system calls. On Unix systems, a process uses a socket to identify
when and how it’s talking to the network. Sockets are the interface that
processes use to access the network through the kernel; they represent the
boundary between user space and kernel space. They’re often also used for
interprocess communication (IPC).
There are different types of sockets because processes need to access
the network in different ways. For example, TCP connections are represented
by stream sockets (SOCK_STREAM, from a programmer’s point of view),
and UDP connections are represented by datagram sockets (SOCK_DGRAM).
Setting up a network socket can be somewhat complicated because you
need to account for socket type, IP addresses, ports, and transport protocol
at particular times. However, after all of the initial details are sorted out,
servers use certain standard methods to deal with incoming traffic from the
network.
The flowchart in Figure 10-1 shows how many servers handle connections
for incoming stream sockets. Notice that this type of server involves
two kinds of sockets: a listening socket and a socket for reading and writing.
The master process uses the listening socket to look for connections from
the network. When a new connection comes in, the master process uses the
accept() system call to accept the connection, which creates the read/write
socket dedicated to that one connection. Next, the master process uses
fork() to create a new child process to deal with the connection. Finally, the
original socket remains the listener and continues to look for more connections
on behalf of the master process.
After a process has set up a socket of a particular type, it can interact
with it in a way that fits the socket type. This is what makes sockets flexible:
If you need to change the underlying transport layer, you don’t have
to rewrite all of the parts that send and receive data; you mostly need to
modify the initialization code.
Network Applications and Services 247
Original process
New child process
Incoming
connection
detected
accept() fork()
Server master listens
with listener socket
Server child handles connection
using new socket created by accept()
Figure 10-1: One method for accepting and processing incoming connections
If you’re a programmer and you’d like to learn how to use the socket
interface, Unix Network Programming, Volume 1, 3rd edition, by W. Richard
Stephens, Bill Fenner, and Andrew M. Rudoff (Addison-Wesley Professional,
2003) is the classic guide. Volume 2 also covers interprocess communication.
10.10 Unix Domain Sockets
Applications that use network facilities don’t have to involve two separate
hosts. Many applications are built as client-server or peer-to-peer mechanisms,
where processes running the same machine use interprocess communication
(IPC) to negotiate what work needs to be done and who does it. For
example, recall that daemons such as systemd and NetworkManager use
D-Bus to monitor and react to system events.
Processes can use regular IP networking over localhost (127.0.0.1) to
communicate, but instead, typically use a special kind of socket, which we
briefly touched upon in Chapter 3, called a Unix domain socket. When a process
connects to a Unix domain socket, it behaves almost exactly like a network
socket: It can listen for and accept connections on the socket, and you
can even choose between different kinds of socket types to make it behave
like TCP or UDP.
NOT E It’s important to remember that a Unix domain socket is not a network socket, and
there’s no network behind one. You don’t even need networking to be configured to use
one. And Unix domain sockets don’t have to be bound to socket files. A process can
create an unnamed Unix domain socket and share the address with another process.
10.10.1 Advantages for Developers
Developers like Unix domain sockets for IPC for two reasons. First, they
allow developers the option to use special socket files in the filesystem to
248 Chapter 10
control access, so any process that doesn’t have access to a socket file can’t
use it. And because there’s no interaction with the network, it’s simpler
and less prone to conventional network intrusion. For example, you’ll usually
find the socket file for D-Bus in /var/run/dbus:
$ ls -l /var/run/dbus/system_bus_socket
srwxrwxrwx 1 root root 0 Nov 9 08:52 /var/run/dbus/system_bus_socket
Second, because the Linux kernel does not have to go through the
many layers of its networking subsystem when working with Unix domain
sockets, performance tends to be much better.
Writing code for Unix domain sockets is not much different from supporting
normal network sockets. Because the benefits can be significant,
some network servers offer communication through both network and
Unix domain sockets. For example, the MySQL database server mysqld can
accept client connections from remote hosts, but it usually also offers a Unix
domain socket at /var/run/mysqld/mysqld.sock.
10.10.2 Listing Unix Domain Sockets
You can view a list of Unix domain sockets currently in use on your system
with lsof -U:
# lsof -U
COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAME
mysqld 19701 mysql 12u unix 0xe4defcc0 0t0 35201227 /var/run/mysqld/mysqld.sock
chromium- 26534 juser 5u unix 0xeeac9b00 0t0 42445141 socket
tlsmgr 30480 postfix 5u unix 0xc3384240 0t0 17009106 socket
tlsmgr 30480 postfix 6u unix 0xe20161c0 0t0 10965 private/tlsmgr
--snip--
The listing will be quite long because many modern applications make
extensive use of unnamed sockets. You can identify the unnamed ones
because you’ll see socket in the NAME output column.
11
Introduction to
Shell Sc ripts
If you can enter commands into the shell,
you can write shell scripts (also known as
Bourne shell scripts). A shell script is a series
of commands written in a file; the shell reads
the commands from the file just as it would if you
typed them into a terminal.
11.1 Shell Script Basics
Bourne shell scripts generally start with the following line, which indicates
that the /bin/sh program should execute the commands in the script file.
(Make sure that no whitespace appears at the beginning of the script file.)
#!/bin/sh
250 Chapter 11
The #! part is called a shebang; you’ll see it in other scripts in this book.
You can list any commands that you want the shell to execute following the
#!/bin/sh line. For example:
#!/bin/sh
#
# Print something, then run ls
echo About to run the ls command.
ls
NOT E A # character at the beginning of a line indicates that the line is a comment; that is,
the shell ignores anything on a line after a #. Use comments to explain parts of your
scripts that are difficult to understand.
After creating a shell script and setting its permissions, you can run it
by placing the script file in one of the directories in your command path
and then running the script name on the command line. You can also run
./script if the script is located in your current working directory, or you can
use the full pathname.
As with any program on Unix systems, you need to set the executable
bit for a shell script file, but you must also set the read bit in order for the
shell to read the file. The easiest way to do this is as follows:
$ chmod +rx script
This chmod command allows other users to read and execute script.
If you don’t want that, use the absolute mode 700 instead (and refer to
Section 2.17 for a refresher on permissions).
With the basics behind us, let’s look at some of the limitations of shell
scripts.
11.1.1 Limitations of Shell Scripts
The Bourne shell manipulates commands and files with relative ease. In
Section 2.14, you saw the way the shell can redirect output, one of the
important elements of shell script programming. However, the shell script
is only one tool for Unix programming, and although scripts have considerable
power, they also have limitations.
One of the main strengths of shell scripts is that they can simplify and
automate tasks that you can otherwise perform at the shell prompt, like
manipulating batches of files. But if you’re trying to pick apart strings, perform
repeated arithmetic computations, or access complex databases, or if
you want functions and complex control structures, you’re better off using a
scripting language like Python, Perl, or awk, or perhaps even a compiled language
like C. (This is important, so we’ll repeat it throughout the chapter.)
Finally, be aware of your shell script sizes. Keep your shell scripts short.
Bourne shell scripts aren’t meant to be big (though you will undoubtedly
encounter some monstrosities).
Introduction to Shell Scripts 251
11.2 Quoting and Literals
One of the most confusing elements of working with the shell and scripts is
when to use quotation marks (or quotes) and other punctuation, and why it’s
sometimes necessary to do so. Let’s say you want to print the string $100 and
you do the following:
$ echo $100
00
Why did this print 00? Because the shell saw $1, which is a shell variable
(we’ll cover it soon). So you might think that if you surround it with double
quotes, the shell will leave the $1 alone. But it still doesn’t work:
$ echo "$100"
00
Then you ask a friend, who says that you need to use single quotes instead:
$ echo '$100'
$100
Why did this particular incantation work?
11.2.1 Literals
When you use quotes, you’re often trying to create a literal, a string that you
want the shell to pass to the command line untouched. In addition to the $
in the example that you just saw, other similar circumstances include when
you want to pass a * character to a command such as grep instead of having
the shell expand it, and when you need to need to use a semicolon (;) in a
command.
When writing scripts and working on the command line, just remember
what happens whenever the shell runs a command:
1. Before running the command, the shell looks for variables, globs, and
other substitutions and performs the substitutions if they appear.
2. The shell passes the results of the substitutions to the command.
Problems involving literals can be subtle. Let’s say you’re looking for all
entries in /etc/passwd that match the regular expression r.*t (that is, a line
that contains an r followed by a t later in the line, which would enable you
to search for usernames such as root and ruth and robot). You can run this
command:
$ grep r.*t /etc/passwd
252 Chapter 11
It works most of the time, but sometimes it mysteriously fails. Why? The
answer is probably in your current directory. If that directory contains
files with names such as r.input and r.output, then the shell expands r.*t to
r.input r.output and creates this command:
$ grep r.input r.output /etc/passwd
The key to avoiding problems like this is to first recognize the characters
that can get you in trouble and then apply the correct kind of quotes to
protect the characters.
11.2.2 Single Quotes
The easiest way to create a literal and make the shell leave a string alone
is to enclose the entire string in single quotes, as in this example with grep
and the * character:
$ grep 'r.*t' /etc/passwd
As far as the shell is concerned, all characters between the two single
quotes, including spaces, make up a single parameter. Therefore, the following
command does not work, because it asks the grep command to search
for the string r.*t /etc/passwd in the standard input (because there’s only
one parameter to grep):
$ grep 'r.*t /etc/passwd'
When you need to use a literal, you should always turn to single quotes
first, because you’re guaranteed that the shell won’t try any substitutions. As
a result, it’s a generally clean syntax. However, sometimes you need a little
more flexibility, so you can turn to double quotes.
11.2.3 Double Quotes
Double quotes (") work just like single quotes, except that the shell expands
any variables that appear within double quotes. You can see the difference
by running the following command and then replacing the double quotes
with single quotes and running it again.
$ echo "There is no * in my path: $PATH"
When you run the command, notice that the shell substitutes for $PATH but
does not substitute for the *.
NOT E If you’re using double quotes when printing large amounts of text, consider using a
here document, as described in Section 11.9.
Introduction to Shell Scripts 253
11.2.4 Passing a Literal Single Quote
One tricky part to using literals with the Bourne shell comes when passing a
literal single quote to a command. One way to do this is to place a backslash
before the single quote character:
$ echo I don\'t like contractions inside shell scripts.
The backslash and quote must appear outside any pair of single quotes,
and a string such as 'don\'t results in a syntax error. Oddly enough, you can
enclose the single quote inside double quotes, as shown in the following
example (the output is identical to that of the preceding command):
$ echo "I don't like contractions inside shell scripts."
If you’re in a bind and you need a general rule to quote an entire
string with no substitutions, follow this procedure:
1. Change all instances of ' (single quote) to '\'' (single quote, backslash,
single quote, single quote).
2. Enclose the entire string in single quotes.
Therefore, you can quote an awkward string such as this isn't a forward
slash: \ as follows:
$ echo 'this isn'\''t a forward slash: \'
NOT E It's worth repeating that when you quote a string, the shell treats everything inside the
quotes as a single parameter. Therefore, a b c counts as three parameters, but a "b c"
is only two.
11.3 Special Variables
Most shell scripts understand command-line parameters and interact with
the commands that they run. To take your scripts from being just a simple
list of commands to becoming more flexible shell script programs, you
need to know how to use the special Bourne shell variables. These special
variables are like any other shell variable as described in Section 2.8, except
that you cannot change the values of certain ones.
NOT E After reading the next few sections, you’ll understand why shell scripts accumulate
many special characters as they are written. If you’re trying to understand a shell
script and you come across a line that looks completely incomprehensible, pick it
apart piece by piece.
254 Chapter 11
11.3.1 Individual Arguments: $1, $2, …
$1, $2, and all variables named as positive nonzero integers contain the values
of the script parameters, or arguments. For example, say the name of
the following script is pshow:
#!/bin/sh
echo First argument: $1
echo Third argument: $3
Try running the script as follows to see how it prints the arguments:
$ ./pshow one two three
First argument: one
Third argument: three
The built-in shell command shift can be used with argument variables
to remove the first argument ($1) and advance the rest of the arguments
forward. Specifically, $2 becomes $1, $3 becomes $2, and so on. For example,
assume that the name of the following script is shiftex:
#!/bin/sh
echo Argument: $1
shift
echo Argument: $1
shift
echo Argument: $1
Run it like this to see it work:
$ ./shiftex one two three
Argument: one
Argument: two
Argument: three
As you can see, shiftex prints all three arguments by printing the first,
shifting the remaining arguments, and repeating.
11.3.2 Number of Arguments: $#
The $# variable holds the number of arguments passed to a script and is
especially important when running shift in a loop to pick through arguments.
When $# is 0, no arguments remain, so $1 is empty. (See Section 11.6
for a description of loops.)
11.3.3 All Arguments: $@
The $@ variable represents all of a script’s arguments, and it is very useful
for passing them to a command inside the script. For example, Ghostscript
commands (gs) are usually long and complicated. Suppose you want a
shortcut for rasterizing a PostScript file at 150 dpi, using the standard
Introduction to Shell Scripts 255
output stream, while also leaving the door open for passing other options
to gs. You could write a script like this to allow for additional command-line
options:
#!/bin/sh
gs -q -dBATCH -dNOPAUSE -dSAFER -sOutputFile=- -sDEVICE=pnmraw $@
NOT E If a line in your shell script gets too long for your text editor, you can split it up with a
backslash ( \). For example, you can alter the preceding script as follows:
#!/bin/sh
gs -q -dBATCH -dNOPAUSE -dSAFER \
-sOutputFile=- -sDEVICE=pnmraw $@
11.3.4 Script Name: $0
The $0 variable holds the name of the script, and it is useful for generating
diagnostic messages. For example, say your script needs to report an invalid
argument that is stored in the $BADPARM variable. You can print the diagnostic
message with the following line so that the script name appears in the
error message:
echo $0: bad option $BADPARM
All diagnostic error messages should go to the standard error. Recall
from Section 2.14.1 that 2>&1 redirects the standard error to the standard
output. For writing to the standard error, you can reverse the process with
1>&2. To do this for the preceding example, use this:
echo $0: bad option $BADPARM 1>&2
11.3.5 Process ID: $$
The $$ variable holds the process ID of the shell.
11.3.6 Exit Code: $?
The $? variable holds the exit code of the last command that the shell
executed. Exit codes, which are critical to mastering shell scripts, are discussed
next.
11.4 Exit Codes
When a Unix program finishes, it leaves an exit code for the parent process
that started the program. The exit code is a number and is sometimes
called an error code or exit value. When the exit code is zero (0), it typically
256 Chapter 11
means that the program ran without a problem. However, if the program
has an error, it usually exits with a number other than 0 (but not always, as
you’ll see next).
The shell holds the exit code of the last command in the $? special variable,
so you can check it out at your shell prompt:
$ ls / > /dev/null
$ echo $?
0
$ ls /asdfasdf > /dev/null
ls: /asdfasdf: No such file or directory
$ echo $?
1
You can see that the successful command returned 0 and the unsuccessful
command returned 1 (assuming, of course, that you don’t have a directory
named /asdfasdf on your system).
If you intend to use the exit code of a command, you must use or store
the code immediately after running the command. For example, if you
run echo $? twice in a row, the output of the second command is always 0
because the first echo command completes successfully.
When writing shell code that aborts a script abnormally, use something
like exit 1 to pass an exit code of 1 back to whatever parent process ran the
script. (You may want to use different numbers for different conditions.)
One thing to note is that some programs like diff and grep use nonzero
exit codes to indicate normal conditions. For example, grep returns 0 if it
finds something matching a pattern and 1 if it doesn’t. For these programs,
an exit code of 1 is not an error; grep and diff use the exit code 2 for real
problems. If you think a program is using a nonzero exit code to indicate
success, read its manual page. The exit codes are usually explained in the
EXIT VALUE or DIAGNOSTICS section.
11.5 Conditionals
The Bourne shell has special constructs for conditionals, such as if/then/
else and case statements. For example, this simple script with an if conditional
checks to see whether the script’s first argument is hi:
#!/bin/sh
if [ $1 = hi ]; then
echo 'The first argument was "hi"'
else
echo -n 'The first argument was not "hi" -- '
echo It was '"'$1'"'
fi
The words if, then, else, and fi in the preceding script are shell keywords;
everything else is a command. This distinction is extremely important
Introduction to Shell Scripts 257
because one of the commands is [ $1 = "hi" ] and the [ character is an actual
program on a Unix system, not special shell syntax. (This is actually not quite
true, as you’ll soon learn, but treat it as a separate command in your head for
now.) All Unix systems have a command called [ that performs tests for shell
script conditionals. This program is also known as test and careful examination
of [ and test should reveal that they share an inode, or that one is a symbolic
link to the other.
Understanding the exit codes in Section 11.4 is vital, because this is how
the whole process works:
1. The shell runs the command after the if keyword and collects the exit
code of that command.
2. If the exit code is 0, the shell executes the commands that follow the
then keyword, stopping when it reaches an else or fi keyword.
3. If the exit code is not 0 and there is an else clause, the shell runs the
commands after the else keyword.
4. The conditional ends at fi.
11.5.1 Getting Around Empty Parameter Lists
There is a slight problem with the conditional in the preceding example
due to a very common mistake: $1 could be empty, because the user might
not enter a parameter. Without a parameter, the test reads [ = hi ], and the
[ command aborts with an error. You can fix this by enclosing the parameter
in quotes in one of two ways (both of which are common):
if [ "$1" = hi ]; then
if [ x"$1" = x"hi" ]; then
11.5.2 Using Other Commands for Tests
The stuff following if is always a command. Therefore, if you want to put
the then keyword on the same line, you need a semicolon (;) after the test
command. If you skip the semicolon, the shell passes then as a parameter
to the test command. (If you don’t like the semicolon, you can put the then
keyword on a separate line.)
There are many possibilities for using other commands instead of the
[ command. Here’s an example that uses grep:
#!/bin/sh
if grep -q daemon /etc/passwd; then
echo The daemon user is in the passwd file.
else
echo There is a big problem. daemon is not in the passwd file.
fi
258 Chapter 11
11.5.3 elif
There is also an elif keyword that lets you string if conditionals together, as
shown below. But don’t get too carried away with elif, because the case construct
that you’ll see in Section 11.5.6 is often more appropriate.
#!/bin/sh
if [ "$1" = "hi" ]; then
echo 'The first argument was "hi"'
elif [ "$2" = "bye" ]; then
echo 'The second argument was "bye"'
else
echo -n 'The first argument was not "hi" and the second was not "bye"-- '
echo They were '"'$1'"' and '"'$2'"'
fi
11.5.4 && and || Logical Constructs
There are two quick one-line conditional constructs that you may see from
time to time: && (“and”) and || (“or”). The && construct works like this:
command1 && command2
Here, the shell runs command1, and if the exit code is 0, the shell also runs
command2. The || construct is similar; if the command before a || returns a
nonzero exit code, the shell runs the second command.
The constructs && and || often find their way into use in if tests, and in
both cases, the exit code of the last command run determines how the shell
processes the conditional. In the case of the && construct, if the first command
fails, the shell uses its exit code for the if statement, but if the first
command succeeds, the shell uses the exit code of the second command for
the conditional. In the case of the || construct, the shell uses the exit code
of the first command if successful, or the exit code of the second if the first
is unsuccessful.
For example:
#!/bin/sh
if [ "$1" = hi ] || [ "$1" = bye ]; then
echo 'The first argument was "'$1'"'
fi
If your conditionals include the test ([) command, as shown here, you
can use -a and -o instead of && and ||, as described in the next section.
11.5.5 Testing Conditions
You’ve seen how [ works: The exit code is 0 if the test is true and nonzero when
the test fails. You also know how to test string equality with [ str1 = str2 ].
However, remember that shell scripts are well suited to operations on entire
Introduction to Shell Scripts 259
files because the most useful [ tests involve file properties. For example, the
following line checks whether file is a regular file (not a directory or special
file):
[ -f file ]
In a script, you might see the -f test in a loop similar to this next one,
which tests all of the items in the current working directory (you’ll learn
more about loops in general shortly):
for filename in *; do
if [ -f $filename ]; then
ls -l $filename
file $filename
else
echo $filename is not a regular file.
fi
done
You can invert a test by placing the ! operator before the test arguments.
For example, [ ! -f file ] returns true if file is not a regular file.
Furthermore, the -a and -o flags are the logical “and” and “or” operators
(for example, [ -f file1 -a file2 ]).
NOT E Because the test command is so widely used in scripts, many versions of the Bourne
shell (including bash) incorporate the test command as a built-in. This can speed up
scripts because the shell doesn’t have to run a separate command for each test.
There are dozens of test operations, all of which fall into three general
categories: file tests, string tests, and arithmetic tests. The info manual contains
complete online documentation, but the test(1) manual page is a fast
reference. The following sections outline the main tests. (I’ve omitted some
of the less common ones.)
File Tests
Most file tests, like -f, are called unary operations because they require only
one argument: the file to test. For example, here are two important file tests:
-e Returns true if a file exists
-s Returns true if a file is not empty
Several operations inspect a file’s type, meaning that they can determine
whether something is a regular file, a directory, or some kind of
special device, as listed in Table 11-1. There are also a number of unary
operations that check a file’s permissions, as listed in Table 11-2. (See
Section 2.17 for an overview of permissions.)
260 Chapter 11
Table 11-1: File Type Operators
Operator Tests For
-f Regular file
-d Directory
-h Symbolic link
-b Block device
-c Character device
-p Named pipe
-S Socket
NOT E The test command follows symbolic links (except for the -h test). That is, if link is a
symbolic link to a regular file, [ -f link ] returns an exit code of true (0).
Table 11-2: File Permissions Operators
Operator Operator
-r Readable
-w Writable
-x Executable
-u Setuid
-g Setgid
-k “Sticky”
Finally, three binary operators (tests that need two files as arguments)
are used in file tests, but they’re not terribly common. Consider this command
that includes -nt (newer than):
[ file1 -nt file2 ]
This exits true if file1 has a newer modification date than file2. The
-ot (older than) operator does the opposite. And if you need to detect identical
hard links, -ef compares two files and returns true if they share inode
numbers and devices.
String Tests
You’ve seen the binary string operator = that returns true if its operands are
equal. The != operator returns true if its operands are not equal. And there
are two unary string operations:
-z Returns true if its argument is empty ([ -z "" ] returns 0)
-n Returns true if its argument is not empty ([ -n "" ] returns 1)
Introduction to Shell Scripts 261
Arithmetic Tests
It’s important to recognize that the equal sign (=) looks for string equality,
not numeric equality. Therefore, [ 1 = 1 ] returns 0 (true), but [ 01 = 1 ]
returns false. When working with numbers, use -eq instead of the equal
sign: [ 01 -eq 1 ] returns true. Table 11-3 provides the full list of numeric
comparison operators.
Table 11-3: Arithmetic Comparison Operators
Operator Returns True When the First Argument Is . . . the Second
-eq Equal to
-ne Not equal to
-lt Less than
-gt Greater than
-le Less than or equal to
-ge Greater than or equal to
11.5.6 Matching Strings with case
The case keyword forms another conditional construct that is exceptionally
useful for matching strings. The case conditional does not execute any test
commands and therefore does not evaluate exit codes. However, it can do
pattern matching. This example should tell most of the story:
#!/bin/sh
case $1 in
bye)
echo Fine, bye.
;;
hi|hello)
echo Nice to see you.
;;
what*)
echo Whatever.
;;
*)
echo 'Huh?'
;;
esac
The shell executes this as follows:
1. The script matches $1 against each case value demarcated with the
) character.
2. If a case value matches $1, the shell executes the commands below the
case until it encounters ;;, at which point it skips to the esac keyword.
3. The conditional ends with esac.
262 Chapter 11
For each case value, you can match a single string (like bye in the
preceding example) or multiple strings with | (hi|hello returns true if $1
equals hi or hello), or you can use the * or ? patterns (what*). To make a
default case that catches all possible values other than the case values specified,
use a single * as shown by the final case in the preceding example.
NOT E Each case must end with a double semicolon (;;) or you risk a syntax error.
11.6 Loops
There are two kinds of loops in the Bourne shell: for and while loops.
11.6.1 for Loops
The for loop (which is a “for each” loop) is the most common. Here’s an
example:
#!/bin/sh
for str in one two three four; do
echo $str
done
In this listing, for, in, do, and done are all shell keywords. The shell does
the following:
1. Sets the variable str to the first of the four space-delimited values following
the in keyword (one).
2. Runs the echo command between the do and done.
3. Goes back to the for line, setting str to the next value (two), runs the
commands between do and done, and repeats the process until it’s through
with the values following the in keyword.
The output of this script looks like this:
one
two
three
four
11.6.2 while Loops
The Bourne shell’s while loop uses exit codes, like the if conditional. For
example, this script does 10 iterations:
#!/bin/sh
FILE=/tmp/whiletest.$$;
echo firstline > $FILE
Introduction to Shell Scripts 263
while tail -10 $FILE | grep -q firstline; do
# add lines to $FILE until tail -10 $FILE no longer prints "firstline"
echo -n Number of lines in $FILE:' '
wc -l $FILE | awk '{print $1}'
echo newline >> $FILE
done
rm -f $FILE
Here, the exit code of grep -q firstline is the test. As soon as the exit
code is nonzero (in this case, when the string firstline no longer appears in
the last 10 lines in $FILE), the loop exits.
You can break out of a while loop with the break statement. The Bourne
shell also has an until loop that works just like while, except that it breaks
the loop when it encounters a zero exit code rather than a nonzero exit
code. This said, you shouldn’t need to use the while and until loops very
often. In fact, if you find that you need to use while, you should probably be
using a language like awk or Python instead.
11.7 Command Substitution
The Bourne shell can redirect a command’s standard output back to the
shell’s own command line. That is, you can use a command’s output as an
argument to another command, or you can store the command output in a
shell variable by enclosing a command in $().
This example stores a command inside the FLAGS variable. The bold in
the second line shows the command substitution.
#!/bin/sh
FLAGS=$(grep ^flags /proc/cpuinfo | sed 's/.*://' | head -1)
echo Your processor supports:
for f in $FLAGS; do
case $f in
fpu) MSG="floating point unit"
;;
3dnow) MSG="3DNOW graphics extensions"
;;
mtrr) MSG="memory type range register"
;;
*) MSG="unknown"
;;
esac
echo $f: $MSG
done
This example is somewhat complicated because it demonstrates that you
can use both single quotes and pipelines inside the command substitution.
The result of the grep command is sent to the sed command (more about sed
in Section 11.10.3), which removes anything matching the expression .*:,
and the result of sed is passed to head.
264 Chapter 11
It’s easy to go overboard with command substitution. For example,
don’t use $(ls) in a script because using the shell to expand * is faster.
Also, if you want to invoke a command on several filenames that you get as
a result of a find command, consider using a pipeline to xargs rather than
command substitution, or use the -exec option (see Section 11.10.4).
NOT E The traditional syntax for command substitution is to enclose the command in backticks
( ``), and you’ll see this in many shell scripts. The $() syntax is a newer form,
but it is a POSIX standard and is generally easier to read and write.
11.8 Temporary File Management
It’s sometimes necessary to create a temporary file to collect output for use
by a later command. When making such a file, make sure that the filename
is distinct enough that no other programs will accidentally write to it.
Here’s how to use the mktemp command to create temporary filenames.
This script shows you the device interrupts that have occurred in the last
two seconds:
#!/bin/sh
TMPFILE1=$(mktemp /tmp/im1.XXXXXX)
TMPFILE2=$(mktemp /tmp/im2.XXXXXX)
cat /proc/interrupts > $TMPFILE1
sleep 2
cat /proc/interrupts > $TMPFILE2
diff $TMPFILE1 $TMPFILE2
rm -f $TMPFILE1 $TMPFILE2
The argument to mktemp is a template. The mktemp command converts
the XXXXXX to a unique set of characters and creates an empty file with that
name. Notice that this script uses variable names to store the filenames so
that you only have to change one line if you want to change a filename.
NOT E Not all Unix flavors come with mktemp. If you’re having portability problems, it’s best
to install the GNU coreutils package for your operating system.
Another problem with scripts that employ temporary files is that if the
script is aborted, the temporary files could be left behind. In the preceding
example, pressing ctrl-C before the second cat command leaves a temporary
file in /tmp. Avoid this if possible. Instead, use the trap command to create a
signal handler to catch the signal that ctrl-C generates and remove the temporary
files, as in this handler:
#!/bin/sh
TMPFILE1=$(mktemp /tmp/im1.XXXXXX)
TMPFILE2=$(mktemp /tmp/im2.XXXXXX)
trap "rm -f $TMPFILE1 $TMPFILE2; exit 1" INT
--snip--
Introduction to Shell Scripts 265
You must use exit in the handler to explicitly end script execution, or
the shell will continue running as usual after running the signal handler.
NOT E You don’t need to supply an argument to mktemp; if you don’t, the template will begin
with a /tmp/tmp. prefix.
11.9 Here Documents
Say you want to print a large section of text or feed a lot of text to another
command. Rather than use several echo commands, you can use the shell’s
here document feature, as shown in the following script:
#!/bin/sh
DATE=$(date)
cat <<EOF
Date: $DATE
The output above is from the Unix date command.
It's not a very interesting command.
EOF
The items in bold control the here document. The <<EOF tells the shell
to redirect all lines that follow the standard input of the command that precedes
<<EOF, which in this case is cat. The redirection stops as soon as the EOF
marker occurs on a line by itself. The marker can actually be any string, but
remember to use the same marker at the beginning and end of the here document.
Also, convention dictates that the marker be in all uppercase letters.
Notice the shell variable $DATE in the here document. The shell expands
shell variables inside here documents, which is especially useful when you’re
printing out reports that contain many variables.
11.10 Important Shell Script Utilities
Several programs are particularly useful in shell scripts. Certain utilities
such as basename are really only practical when used with other programs,
and therefore don’t often find a place outside shell scripts. However, others
such as awk can be quite useful on the command line, too.
11.10.1 basename
If you need to strip the extension from a filename or get rid of the directories
in a full pathname, use the basename command. Try these examples on
the command line to see how the command works:
$ basename example.html .html
$ basename /usr/local/bin/example
266 Chapter 11
In both cases, basename returns example. The first command strips the
.html suffix from example.html, and the second removes the directories from
the full pathname.
This example shows how you can use basename in a script to convert GIF
image files to the PNG format:
#!/bin/sh
for file in *.gif; do
# exit if there are no files
if [ ! -f $file ]; then
exit
fi
b=$(basename $file .gif)
echo Converting $b.gif to $b.png...
giftopnm $b.gif | pnmtopng > $b.png
done
11.10.2 awk
The awk command is not a simple single-purpose command; it’s actually
a powerful programming language. Unfortunately, awk usage is now
something of a lost art, having been replaced by larger languages such as
Python.
The are entire books on the subject of awk, including The AWK Programming
Language by Alfred V. Aho, Brian W. Kernighan, and Peter J. Weinberger
(Addison-Wesley, 1988). This said, many, many people use awk to do one
thing—to pick a single field out of an input stream like this:
$ ls -l | awk '{print $5}'
This command prints the fifth field of the ls output (the file size). The
result is a list of file sizes.
11.10.3 sed
The sed program (sed stands for stream editor) is an automatic text editor
that takes an input stream (a file or the standard input), alters it according
to some expression, and prints the results to standard output. In many
respects, sed is like ed, the original Unix text editor. It has dozens of operations,
matching tools, and addressing capabilities. As with awk, entire books
have been written about sed including a quick reference covering both, sed
& awk Pocket Reference, 2nd edition, by Arnold Robbins (O’Reilly, 2002).
Although sed is a big program, and an in-depth analysis is beyond the
scope of this book, it’s easy to see how it works. In general, sed takes an
address and an operation as one argument. The address is a set of lines,
and the command determines what to do with the lines.
Introduction to Shell Scripts 267
A very common task for sed is to substitute some text for a regular
expression (see Section 2.5.1), like this:
$ sed 's/exp/text/'
So if you wanted to replace the first colon in /etc/passwd with a % and
send the result to the standard output, you’d do it like this:
$ sed 's/:/%/' /etc/passwd
To substitute all colons in /etc/passwd, add a g modifier to the end of the
operation, like this:
$ sed 's/:/%/g' /etc/passwd
Here’s a command that operates on a per-line basis; it reads /etc/passwd
and deletes lines three through six and sends the result to the standard output:
$ sed 3,6d /etc/passwd
In this example, 3,6 is the address (a range of lines), and d is the operation
(delete). If you omit the address, sed operates on all lines in its input
stream. The two most common sed operations are probably s (search and
replace) and d.
You can also use a regular expression as the address. This command
deletes any line that matches the regular expression exp:
$ sed '/exp/d'
11.10.4 xargs
When you have to run one command on a huge number of files, the command
or shell may respond that it can’t fit all of the arguments in its buffer.
Use xargs to get around this problem by running a command on each filename
in its standard input stream.
Many people use xargs with the find command. For example, the script
below can help you verify that every file in the current directory tree that
ends with .gif is actually a GIF (Graphic Interchange Format) image:
$ find . -name '*.gif' -print | xargs file
In the example above, xargs runs the file command. However, this
invocation can cause errors or leave your system open to security problems,
because filenames can include spaces and newlines. When writing a script,
use the following form instead, which changes the find output separator
and the xargs argument delimiter from a newline to a NULL character:
$ find . -name '*.gif' -print0 | xargs -0 file
268 Chapter 11
xargs starts a lot of processes, so don’t expect great performance if you
have a large list of files.
You may need to add two dashes (--) to the end of your xargs command
if there is a chance that any of the target files start with a single dash (-).
The double dash (--) can be used to tell a program that any arguments that
follow the double dash are filenames, not options. However, keep in mind
that not all programs support the use of a double dash.
There’s an alternative to xargs when using find: the -exec option.
However, the syntax is somewhat tricky because you need to supply a {}
to substitute the filename and a literal ; to indicate the end of the command.
Here’s how to perform the preceding task using only find:
$ find . -name '*.gif' -exec file {} \;
11.10.5 expr
If you need to use arithmetic operations in your shell scripts, the expr command
can help (and even do some string operations). For example, the
command expr 1 + 2 prints 3. (Run expr --help for a full list of operations.)
The expr command is a clumsy, slow way of doing math. If you find
yourself using it frequently, you should probably be using a language like
Python instead of a shell script.
11.10.6 exec
The exec command is a built-in shell feature that replaces the current shell
process with the program you name after exec. It carries out the exec() system
call that you learned about in Chapter 1. This feature is designed for
saving system resources, but remember that there’s no return; when you
run exec in a shell script, the script and shell running the script are gone,
replaced by the new command.
To test this in a shell window, try running exec cat. After you press
ctrl-D or ctrl-C to terminate the cat program, your window should disappear
because its child process no longer exists.
11.11 Subshells
Say you need to alter the environment in a shell slightly but don’t want a
permanent change. You can change and restore a part of the environment
(such as the path or working directory) using shell variables, but that’s a
clumsy way to go about things. The easy way around these kinds of problems
is to use a subshell, an entirely new shell process that you can create just
to run a command or two. The new shell has a copy of the original shell’s
environment, and when the new shell exits, any changes you made to its
shell environment disappear, leaving the initial shell to run as normal.
To use a subshell, put the commands to be executed by the subshell
in parentheses. For example, the following line executes the command
uglyprogram in uglydir and leaves the original shell intact:
Introduction to Shell Scripts 269
$ (cd uglydir; uglyprogram)
This example shows how to add a component to the path that might
cause problems as a permanent change:
$ (PATH=/usr/confusing:$PATH; uglyprogram)
Using a subshell to make a single-use alteration to an environment variable
is such a common task that there is even a built-in syntax that avoids
the subshell:
$ PATH=/usr/confusing:$PATH uglyprogram
Pipes and background processes work with subshells, too. The following
example uses tar to archive the entire directory tree within orig and then
unpacks the archive into the new directory target, which effectively duplicates
the files and folders in orig (this is useful because it preserves ownership
and permissions, and it’s generally faster than using a command such
as cp -r):
$ tar cf - orig | (cd target; tar xvf -)
WARNING Double-check this sort of command before you run it to make sure that the target
directory exists and is completely separate from the orig directory.
11.12 Including Other Files in Scripts
If you need to include another file in your shell script, use the dot (.) operator.
For example, this runs the commands in the file config.sh:
. config.sh
This “include” file syntax does not start a subshell, and it can be useful
for a group of scripts that need to use a single configuration file.
11.13 Reading User Input
The read command reads a line of text from the standard input and stores
the text in a variable. For example, the following command stores the input
in $var:
$ read var
This is a built-in shell command that can be useful in conjunction with
other shell features not mentioned in this book.
270 Chapter 11
11.14 When (Not) to Use Shell Scripts
The shell is so feature-rich that it’s difficult to condense its important elements
into a single chapter. If you’re interested in what else the shell can do,
have a look at some of the books on shell programming, such as Unix Shell
Programming, 3rd edition, by Stephen G. Kochan and Patrick Wood (SAMS
Publishing, 2003), or the shell script discussion in The UNIX Programming
Environment by Bran W. Kernighan and Rob Pike (Prentice Hall, 1984).
However, at a certain point (especially when you start using the read
built-in), you have to ask yourself if you’re still using the right tool for the
job. Remember what shell scripts do best: manipulate simple files and commands.
As stated earlier, if you find yourself writing something that looks
convoluted, especially if it involves complicated string or arithmetic operations,
you should probably look to a scripting language like Python, Perl,
or awk.
12
Moving File s
Ac ross the Ne twork
This chapter surveys options for moving
and sharing files between machines on a
network. We’ll start by looking at some ways
to copy files other than the scp and sftp utilities
that you’ve already seen. Then we’ll briefly look at
true file sharing, where you attach a directory on one
machine to another machine.
This chapter describes some alternative ways to transfer files because
not every file transfer problem is the same. Sometimes you need to provide
quick, temporary access to machines that you don’t know much about,
sometimes you need to efficiently maintain copies of large directory structures,
and sometimes you need more constant access.
272 Chapter 12
12.1 Quick Copy
Let’s say you want to copy a file (or files) from your machine to another one
on your network, and you don’t care about copying it back or need to do
anything fancy. You just want to do it quickly. There’s a convenient way to
do this with Python. Just go to the directory containing the file(s) and run
$ python -m SimpleHTTPServer
This starts a basic web server that makes the directory available to any
browser on the network. It usually runs on port 8000, so if the machine you
run this on is at 10.1.2.4, go to http://10.1.2.4:8000 on the destination and
you’ll be able to grab what you need.
12.2 rsync
If you want to move an entire directory structure around, you can do so
with scp -r—or if you need a little more performance, tar in a pipeline:
$ tar cBvf - directory | ssh remote_host tar xBvpf -
These methods get the job done but are not very flexible. In particular,
after the transfer completes, the remote host may not have an exact copy of
the directory. If directory already exists on the remote machine and contains
some extraneous files, those files persist after the transfer.
If you need to do this sort of thing regularly (and especially if you plan
to automate the process), use a dedicated synchronizer system. On Linux,
rsync is the standard synchronizer, offering good performance and many
useful ways to perform transfers. We’ll cover some of the essential rsync
operation modes and look at some of its peculiarities.
12.2.1 rsync Basics
To get rsync working between two hosts, the rsync program must be installed
on both the source and destination, and you’ll need a way to access one
machine from the other. The easiest way to transfer files is to use a remote
shell account, and we’ll assume that you want to transfer files using SSH
access. However, remember that rsync can be handy even for copying files
and directories between locations on a single machine, such as from one
filesystem to another.
On the surface, the rsync command is not much different from scp. In
fact, you can run rsync with the same arguments. For example, to copy a
group of files to your home directory on host, enter
$ rsync file1 file2 ... host:
On any modern system, rsync assumes that you’re using SSH to connect
to the remote host.
Moving Files Across the Network 273
Beware of this error message:
rsync not found
rsync: connection unexpectedly closed (0 bytes read so far)
rsync error: error in rsync protocol data stream (code 12) at io.c(165)
This notice says that your remote shell can’t find rsync on its system. If
rsync isn’t in the remote path but is on the system, use --rsync-path=path to
manually specify its location.
If your username is different on the remote host, add user@ to the hostname,
where user is your username on host:
$ rsync file1 file2 ... user@host:
Unless you supply extra options, rsync copies only files. In fact, if you
specify just the options described so far and you supply a directory dir as an
argument, you’ll see this message:
skipping directory dir
To transfer entire directory hierarchies—complete with symbolic links,
permissions, modes, and devices—use the -a option. Furthermore, if you
want to copy to some place other than your home directory on the remote
host, place this destination after the remote host, like this:
$ rsync -a dir host:destination_dir
Copying directories can be tricky, so if you’re not exactly sure what will
happen when you transfer the files, use the -nv option combination. The
-n option tells rsync to operate in “dry run” mode—that is, to run a trial
without actually copying any files. The -v option is for verbose mode, which
shows details about the transfer and the files involved:
$ rsync -nva dir host:destination_dir
The output looks like this:
building file list ... done
ml/nftrans/nftrans.html
[more files]
wrote 2183 bytes read 24 bytes 401.27 bytes/sec
12.2.2 Making Exact Copies of a Directory Structure
By default, rsync copies files and directories without considering the previous
contents of the destination directory. For example, if you transferred
the directory d containing the files a and b to a machine that already had a
file named d/c, the destination would contain d/a, d/b, and d/c after the rsync.
274 Chapter 12
To make an exact replica of the source directory, you must delete files
in the destination directory that do not exist in the source directory, such
as d/c in this example. Use the --delete option to do that:
$ rsync -a --delete dir host:destination_dir
WARNING This can be dangerous, because you should typically inspect the destination directory
to see if there’s anything that you’ll inadvertently delete. Remember, if you’re not
certain about your transfer, use the -n option to perform a dry run so that you’ll know
exactly when rsync wants to delete a file.
12.2.3 Using the Trailing Slash
Be particularly careful when specifying a directory as the source in an rsync
command line. Consider the basic command that we’ve been working with
so far:
$ rsync -a dir host:dest_dir
Upon completion, you’ll have a directory dir inside dest_dir on host.
Figure 12-1 shows an example of how rsync normally handles a directory
with files named a and b. However, adding a slash (/) significantly changes
the behavior:
$ rsync -a dir/ host:dest_dir
Here, rsync copies everything inside dir to dest_dir on host without actually
creating dir on the destination host. Therefore, you can think of a
transfer of dir/ as an operation similar to cp dir/* dest_dir on the local
filesystem.
For example, say you have a directory dir containing the files a and
b (dir/a and dir/b). You run the trailing-slash version of the command to
transfer them to the dest_dir directory on host:
$ rsync -a dir/ host:dest_dir
When the transfer completes, dest_dir contains copies of a and b but not
dir. If, however, you had omitted the trailing / on dir, dest_dir would have
gotten a copy of dir with a and b inside. Then, as a result of the transfer,
you’d have files and directories named dest_dir/dir/a and dest_dir/dir/b on
the remote host. Figure 12-2 illustrates how rsync handles the directory
structure from Figure 12-1 when using a trailing slash.
When transferring files and directories to a remote host, accidentally
adding a / after a path would normally be nothing more than a nuisance;
you could go to the remote host, add the dir directory, and put all of the
transferred items back in dir. Unfortunately, you must be careful to avoid
disaster when combining the trailing / with the --delete option, because
you can easily remove unrelated files this way.
Moving Files Across the Network 275
dir
a b
dest_dir
dir
a b
dir
a b
dest_dir
a b
rsync -a dir host:dest_dir
rsync -a dir/ host:dest_dir
Figure 12-1: Normal rsync copy
dir
a b
dest_dir
dir
a b
dir
a b
dest_dir
a b
rsync -a dir host:dest_dir
rsync -a dir/ host:dest_dir
Figure 12-2: Effect of trailing slash in rsync
NOT E Be wary of your shell’s automatic filename completion feature. GNU readline and
many other completion libraries tack trailing slashes onto completed directory names.
12.2.4 Excluding Files and Directories
One very important feature of rsync is its ability to exclude files and directories
from a transfer operation. For example, say you’d like to transfer a local
directory called src to host, but you want to exclude anything named .git.
You can do it like this:
$ rsync -a --exclude=.git src host:
Note that this command excludes all files and directories named .git
because --exclude takes a pattern, not an absolute filename. To exclude one
specific item, specify an absolute path that starts with /, as shown here:
$ rsync -a --exclude=/src/.git src host:
276 Chapter 12
NOT E The first / in /src/.git in this command is not the root directory of your system but
rather the base directory of the transfer.
Here are a few more tips on how to exclude patterns:
• You can have as many --exclude parameters as you like.
• If you use the same patterns repeatedly, place them in a plaintext file
(one pattern per line) and use --exclude-from=file.
• To exclude directories named item but include files with this name, use
a trailing slash: --exclude=item/.
• The exclude pattern is based on a full file or directory name component
and may contain simple globs (wildcards). For example, t*s
matches this, but it does not match ethers.
• If you exclude a directory or filename but find that your pattern is too
restrictive, use --include to specifically include another file or directory.
12.2.5 Transfer Integrity, Safeguards, and Verbose Modes
To speed operation, rsync uses a quick check to determine whether any
files on the transfer source are already on the destination. The quick check
uses a combination of the file size and its last-modified date. The first time
you transfer an entire directory hierarchy to a remote host, rsync sees that
none of the files already exist at the destination, and it transfers everything.
Testing your transfer with rsync -n verifies this for you.
After running rsync once, run it again using rsync -v. This time you
should see that no files show up in the transfer list because the file set exists
on both ends, with the same modification dates.
When the files on the source side are not identical to the files on the
destination side, rsync transfers the source files and overwrites any files that
exist on the remote side. The default behavior may be inadequate, though,
because you may need additional reassurance that files are indeed the same
before skipping over them in transfers, or you may want to put in some
extra safeguards. Here are some options that come in handy:
--checksum (abbreviation: -c) Compute checksums (mostly unique signatures)
of the files to see if they’re the same. This consumes additional
I/O and CPU resources during transfers, but if you’re dealing with sensitive
data or files that often have uniform sizes, this option is a must.
--ignore-existing Doesn’t clobber files already on the target side.
--backup (abbreviation: -b) Doesn’t clobber files already on the target
but rather renames these existing files by adding a ~ suffix to their
names before transferring the new files.
--suffix=s Changes the suffix used with --backup from ~ to s.
--update (abbreviation: -u) Doesn’t clobber any file on the target that
has a later date than the corresponding file on the source.
Moving Files Across the Network 277
With no special options, rsync operates quietly, only producing output
when there is a problem. However, you can use rsync -v for verbose mode or
rsync -vv for even more details. (You can tack on as many v options as you
like, but two is probably more than you need.) For a comprehensive summary
after the transfer, use rsync --stats.
12.2.6 Compression
Many users like the -z option in conjunction with -a to compress the data
before transmission:
$ rsync -az dir host:destination_dir
Compression can improve performance in certain situations, such as
when uploading a large amount of data across a slow connection (like the
slow upstream link on many DSL connections) or when the latency between
the two hosts is high. However, across a fast local area network, the two endpoint
machines can be constrained by the CPU time that it takes to compress
and decompress data, so uncompressed transfer may be faster.
12.2.7 Limiting Bandwidth
It’s easy to clog the uplink of Internet connections when uploading a large
amount of data to a remote host. Even though you won’t be using your (normally
large) downlink capacity during such a transfer, your connection will
still seem quite slow if you let rsync go as fast as it can, because outgoing
TCP packets such as HTTP requests will have to compete with your transfers
for bandwidth on your uplink.
To get around this, use --bwlimit to give your uplink a little breathing
room. For example, to limit the bandwidth to 10,000 Kpbs you might do
something like this:
$ rsync --bwlimit=10000 -a dir host:destination_dir
12.2.8 Transferring Files to Your Computer
The rsync command isn’t just for copying files from your local machine to a
remote host. You can also transfer files from a remote machine to your local
host by placing the remote host and remote source path as the first argument
on the command line. Therefore, to transfer src_dir on the host to
dest_dir on the local host, run this command:
$ rsync -a host:src_dir dest_dir
NOT E As mentioned before, you can use rsync to duplicate directories on your local machines
if you omit host: entirely.
278 Chapter 12
12.2.9 Further rsync Topics
Whenever you need to copy numerous files, rsync should be one of the first
utilities that comes to mind. Running rsync in batch mode is particularly
useful, and you’ll find a number of options to employ auxiliary files related
to command options, logging, and transfer state. In particular, the state
files make long transfers faster and easier to resume when interrupted.
You’ll also find rsync useful for making backups. For example, you can
attach Internet storage, such as Amazon’s S3, to your Linux system and then
use rsync --delete to periodically synchronize a filesystem with the network
storage to create a very effective backup system.
There are many more command-line options than those described
here. For a rough overview, run rsync --help. You’ll find more detailed
information in the rsync(1) manual page as well as at the rsync home page:
http://rsync.samba.org/.
12.3 Introduction to File Sharing
Your Linux machine probably doesn’t live alone on your network, and when
you have multiple machines on a network, there’s nearly always a reason to
share files between them. For the remainder of this chapter, we’ll primarily
be concerned with file sharing between Windows and Mac OS X machines,
because it’s interesting to see how Linux adapts to completely foreign environments.
For the purpose of sharing files between Linux machines, or for
accessing files from a Network Area Storage (NAS) device, we’ll briefly talk
about using Network File System (NFS) as a client.
12.4 Sharing Files with Samba
If you have machines running Windows, you’ll probably want to permit access
to your Linux system’s files and printers from those Windows machines using
the standard Windows network protocol, Server Message Block (SMB). Mac
OS X also supports SMB file sharing.
The standard file-sharing software suite for Unix is called Samba. Not
only does Samba allow your network’s Windows computers to get to your
Linux system, but it works the other way around: You can print and access
files on Windows servers from your Linux machine with the Samba client
software.
To set up a Samba server, perform these steps:
1. Create an smb.conf file.
2. Add file-sharing sections to smb.conf.
3. Add printer-sharing sections to smb.conf.
4. Start the Samba daemons nmbd and smbd.
Moving Files Across the Network 279
When you install Samba from a distribution package, your system
should perform the steps listed above using some reasonable defaults for
the server. However, it probably won’t be able to determine which particular
shares (resources) on your Linux machine you offer to clients.
NOT E The discussion of Samba in this chapter is brief and limited to getting Windows machines
on a single subnet to see a standalone Linux machine through the Windows Network
Places browser. There are countless ways to configure Samba, because there are many
possibilities for access control and network topology. For the gory details on how to
configure a large-scale server, see Using Samba, 3rd edition (O’Reilly, 2007), a
much more extensive guide, and visit the Samba website, http://www.samba.org/.
12.4.1 Configuring the Server
The central Samba configuration file is smb.conf, which most distributions
place in an etc directory such as /etc/samba. However, you may have to hunt
around to find this file, as it may also be in a lib directory such as /usr/local/
samba/lib.
The smb.conf file is similar to the XDG style that you’ve seen elsewhere
(such as the systemd configuration format) and breaks down into several
sections denoted with square brackets (such as [global] and [printers]). The
[global] section in smb.conf contains general options that apply to the entire
server and all shares. These options primarily pertain to network configuration
and access control. The sample [global] section below shows how to set
the server name, description, and workgroup:
[global]
# server name
netbios name = name
# server description
server string = My server via Samba
# workgroup
workgroup = MYNETWORK
These parameters work like this:
netbios name The server name. If you omit this parameter, Samba uses
the Unix hostname.
server string A short description of the server. The default is the Samba
version number.
workgroup The SMB workgroup name. If you’re on a Windows
domain, set this parameter to the name of your domain.
12.4.2 Server Access Control
You can add options to your smb.conf file to limit the machines and users
that can access your Samba server. The following list includes many options
280 Chapter 12
that you can set in your [global] section and in the sections that control
individual shares (as described later in the chapter):
interfaces Set this to have Samba listen on the given networks or interfaces.
For example:
interfaces = 10.23.2.0/255.255.255.0
interfaces = eth0
bind interfaces only Set this to yes when using the interfaces parameter
in order to limit access to machines that you can reach on those
interfaces.
valid users Set this to allow the given users access. For example:
valid users = jruser, bill
guest ok Set this parameter to true to make a share available to anonymous
users on the network.
guest only Set this parameter to true to allow anonymous access only.
browseable Set this to make shares viewable by network browsers. If you
set this parameter to no for any shares, you’ll still be able to access the
shares on the Samba server, but you’ll need to know their exact names
in order to be able to access them.
12.4.3 Passwords
In general, you should only allow access to your Samba server with password
authentication. Unfortunately, the basic password system on Unix is
different than that on Windows, so unless you specify clear-text network
passwords or authenticate passwords with a Windows server, you must set
up an alternative password system. This section shows you how to set up an
alternative password system using Samba’s Trivial Database (TDB) backend,
which is appropriate for small networks.
First, use these entries in your smb.conf [global] section to define the
Samba password database characteristics:
# use the tdb for Samba to enable encrypted passwords
security = user
passdb backend = tdbsam
obey pam restrictions = yes
smb passwd file = /etc/samba/passwd_smb
These lines allow you to manipulate the Samba password database with
the smbpasswd command. The obey pam restrictions parameter ensures that
any user changing their password with the smbpasswd command must obey any
rules that PAM enforces for normal password changes. For the passdb backend
parameter, you can add an optional pathname for the TDB file after a colon;
for example, tdbsam:/etc/samba/private/passwd.tdb.
Moving Files Across the Network 281
NOT E If you have access to a Windows domain, you can set security = domain to make
Samba use the domain’s usernames and eliminate the need for a password database.
However, in order for domain users to access the machine running Samba, each
domain user must have a local account with the same username on the machine running
Samba.
Adding and Deleting Users
The first thing you need to do in order to give a Windows user access to
your Samba server is to add the user to the password database with the
smbpasswd -a command:
# smbpasswd -a username
The username parameter to the smbpasswd command must be a valid username
on your Linux system.
Like the regular system’s passwd program, smbpasswd asks you to enter
the new user’s password twice. If the password passes any necessary security
checks, smbpasswd confirms that it has created the new user.
To remove a user, use the -x option to smbpasswd:
# smbpasswd -x username
To temporarily deactivate a user instead, use the -d option; the -e option
will reenable the user:
# smbpasswd -d username
# smbpasswd -e username
Changing Passwords
You can change a Samba password as the superuser by using smbpasswd with
no options or keywords other than the username:
# smbpasswd username
However, if the Samba server is running, any user can change their own
Samba password by entering smbpasswd by itself on the command line.
Finally, here’s one place in your configuration to beware of. If you see a
line like this in your smb.conf file, be careful:
unix password sync = yes
This line causes smbpasswd to change a user’s normal password in addition
to the Samba password. The result can be very confusing, especially
when a user changes their Samba password to something that’s not their
Linux password and discovers that they can no longer log in. Some distributions
set this parameter by default in their Samba server packages!
282 Chapter 12
12.4.4 Starting the Server
You may need to start your server if you didn’t install Samba from a distribution
package. To do so, run nmbd and smbd with the following arguments,
where smb_config_file is the full path of your smb.conf file:
# nmbd -D -s smb_config_file
# smbd -D -s smb_config_file
The nmbd daemon is a NetBIOS name server, and smbd does the actual
work of handling share requests. The -D option specifies daemon mode. If
you alter the smb.conf file while smbd is running, you can notify the daemon
of the changes with a HUP signal or use your distribution’s service restart
command (such as systemctl or initctl).
12.4.5 Diagnostics and Log Files
If something goes wrong when starting one of the Samba servers, an error
message appears on the command line. However, runtime diagnostic messages
go to the log.nmbd and log.smbd log files, which are usually in a /var/log
directory, such as /var/log/samba. You’ll also find other log files there, such
as individual logs for each individual client.
12.4.6 Configuring a File Share
To export a directory to SMB clients (that is, to share a directory with a
client), add a section like this to your smb.conf file, where label is what you
would like to call the share and path is the full directory path:
[label]
path = path
comment = share description
guest ok = no
writable = yes
printable = no
These parameters are useful in directory shares:
guest ok Allows guest access to the share. The public parameter is a
synonym.
writable A yes or true setting here marks the share as read-write. Do
not allow guest access to a read-write share.
printable Specifies a printing share. This parameter must be set to no
or false for a directory share.
veto files Prevents the export of any files that match the given patterns.
You must enclose each pattern between forward slashes (so that
it looks like /pattern/). This example bars object files, as well as any file
or directory named bin:
veto files = /*.o/bin/
Moving Files Across the Network 283
12.4.7 Home Directories
You can add a section called [homes] to your smb.conf file if you want to export
home directories to users. The section should look like this:
[homes]
comment = home directories
browseable = no
writable = yes
By default, Samba reads the logged-in user’s /etc/passwd entry to determine
their home directory for [homes]. However, if you don’t want Samba to
follow this behavior (that is, you want to keep the Windows home directories
in a different place than the regular Linux home directories), you can
use the %S substitution in a path parameter. For example, here’s how you
would switch a user’s [homes] directory to /u/user :
path = /u/%S
Samba substitutes the current username for the %S .
12.4.8 Sharing Printers
You can export all of your printers to Windows clients by adding a [printers]
section to your smb.conf file. Here’s how the section looks when you’re using
CUPS, the standard Unix printing system:
[printers]
comment = Printers
browseable = yes
printing = CUPS
path = cups
printable = yes
writable = no
To use the printing = CUPS parameter, your Samba installation must be
configured and linked against the CUPS library.
NOT E Depending on your configuration, you may also want to allow guest access to your
printers with the guest ok = yes option rather than give a Samba password or
account to everyone who needs to access the printers. For example, it’s easy to limit
printer access to a single subnet with firewall rules.
12.4.9 Using the Samba Client
The Samba client program smbclient can print to and access remote Windows
shares. This program comes in handy when you are in an environment where
you must interact with Windows servers that don’t offer a Unix-friendly means
of communication.
284 Chapter 12
To get started with smbclient use the -L option to get a list of shares from
a remote server named SERVER:
$ smbclient -L -U username SERVER
You do not need -U username if your Linux username is the same as your
username on SERVER .
After running this command, smbclient asks for a password. To try to
access a share as a guest, press enter; otherwise, enter your password on
SERVER. Upon success, you should get a share list like this:
Sharename Type Comment
--------- ---- -------
Software Disk Software distribution
Scratch Disk Scratch space
IPC$ IPC IPC Service
ADMIN$ IPC IPC Service
Printer1 Printer Printer in room 231A
Printer2 Printer Printer in basement
Use the Type field to help you make sense of each share and pay attention
only to the Disk and Printer shares (the IPC shares are for remote
management). This list has two disk shares and two printer shares. Use the
name in the Sharename column to access each share.
12.4.10 Accessing Files as a Client
If you need only casual access to files in a disk share, use the following command.
(Again, you can omit the -U username if your Linux username matches
your username on the server.)
$ smbclient -U username '\\SERVER\sharename'
Upon success, you will get a prompt like this, indicating that you can
now transfer files:
smb: \>
In this file transfer mode, smbclient is similar to the Unix ftp, and you
can run these commands:
get file Copies file from the remote server to the current local
directory.
put file Copies file from the local machine to the remote server.
cd dir Changes the directory on the remote server to dir .
lcd localdir Changes the current local directory to localdir .
Moving Files Across the Network 285
pwd Prints the current directory on the remote server, including the
server and share names.
!command Runs command on the local host. Two particularly handy commands
are !pwd and !ls to determine directory and file status on the
local side.
help Shows a full list of commands.
Using the CIFS Filesystem
If you need frequent, regular access to files on a Windows server, you can
attach a share directly to your system with mount. The command syntax is
shown below. Notice the use of SERVER:sharename rather than the normal
\\SERVER\sharename format.
# mount -t cifs SERVER:sharename mountpoint -o user=username,pass=password
In order to use mount like this, you must have the Common Internet File
System (CIFS) utilities available for Samba. Most distributions offer these as
a separate package.
12.5 NFS Clients
The standard system for file sharing among Unix systems is NFS; there are
many different versions of NFS for different scenarios. You can serve NFS
over TCP and UDP, with a large number of authentication and encryption
techniques. Because there are so many options, NFS can be a big topic, so
we’ll just stick to the basics of NFS clients.
To mount a remote directory on a server with NFS, use the same basic
syntax as for mounting a CIFS directory:
# mount -t nfs server:directory mountpoint
Technically, you don’t need the -t nfs option because mount should
figure this out for you, but you may want to investigate the options in the
nfs(5) manual page. (You’ll find several different options for security
using the sec option. Many administrators on small, closed networks use
host-based access control. However, more sophisticated methods, such as
Kerberos-based authentication, require additional configuration on other
parts of your system.)
When you find that you’re making greater use of filesystems over a
network, set up the automounter so that your system will mount the filesystems
only when you actually try to use them in order to prevent problems
with dependencies on boot. The traditional automounting tool is
called automount, with a newer version called amd, but much of this is now
being supplanted by the automount unit type in systemd.
286 Chapter 12
12.6 Further Network File Service Options and Limitations
Setting up an NFS server to share files to other Linux machines is more
complicated than using a simple NFS client. You need to run the server
daemons (mountd and nfsd) and set up the /etc/exports file to reflect the
directories that you’re sharing. However, we won’t cover NFS servers primarily
because shared storage over a network is often made much more
convenient by simply purchasing an NAS device to handle it for you. Many
of these devices are Linux based, so they’ll naturally have NFS server support.
Vendors add value to their NAS devices by offering their own administration
tools to take the pain out of tedious tasks such as setting up RAID
configurations and cloud backups.
Speaking of cloud backups, another network file service option is
cloud storage. This can be handy when you need the extra storage that
comes with automatic backups and you don’t mind an extra hit on performance.
It’s especially useful when you don’t need the service for a long
time or don’t need to access it very much. You can usually mount Internet
storage much as you would NFS.
Although NFS and other file-sharing systems work well for casual use,
don’t expect great performance. Read-only access to larger files should
work well, such as when you’re streaming audio or video, because you’re
reading data in large, predictable chunks that don’t require much backand-
forth communication between the file server and its client. As long as
the network is fast enough and the client has enough memory, a server can
supply data as needed.
Local storage is much faster for tasks involving many small files, such
as compiling software packages and starting desktop environments. The
picture becomes more complicated when you have a larger network with
many users accessing many different machines, because there are tradeoffs
between convenience, performance, and ease of administration.
13
User Environments
This book’s primary focus is on the Linux
system that normally lies underneath server
processes and interactive user sessions. But
eventually, the system and the user have to
meet somewhere. Startup files play an important role
at this point, because they set defaults for the shell
and other interactive programs. They determine how
the system behaves when a user logs in.
Most users don’t pay close attention to their startup files, only touching
them when they want to add something for convenience, such as an alias.
Over time, the files become cluttered with unnecessary environment variables
and tests that can lead to annoying (or quite serious) problems.
If you’ve had your Linux machine for a while, you may notice that your
home directory accumulates a bafflingly large array of startup files over
time. These are sometimes called dot files because they nearly always start
with a dot (.). Many of these are automatically created when you first run
a program, and you’ll never need to change them. This chapter primarily
288 Chapter 13
covers shell startup files, which are the ones you’re most likely to modify
or rewrite from scratch. Let’s first look at how much care you need to take
when working on these files.
13.1 Guidelines for Creating Startup Files
When designing startup files, keep the user in mind. If you’re the only user
on a machine, you don’t have much to worry about because errors only affect
you and they’re easy enough to fix. However, if you’re creating startup files
meant to be the defaults for all new users on a machine or network, or if you
think that someone might copy your files for use on a different machine, your
task becomes considerably more difficult. If you make an error in a startup
file for 10 users, you might end up fixing this error 10 times.
Keep two essential goals in mind when creating startup files for other
users:
Simplicity Keep the number of startup files small, and keep the files
as small and simple as possible so that they are easy to modify but hard
to break. Each item in a startup file is just one more thing that can break.
Readability Use extensive comments in files so that the users get a
good picture of what each part of a file does.
13.2 When to Alter Startup Files
Before making a change to a startup file, ask yourself whether you really
should be making that change. Here are some good reasons for changing
startup files:
• You want to change the default prompt.
• You need to accommodate some critical locally installed software.
(Consider using wrapper scripts first, though.)
• Your existing startup files are broken.
If everything in your Linux distribution works, be careful. Sometimes
the default startup files interact with other files in /etc.
That said, you probably wouldn’t be reading this chapter if you weren’t
interested in changing the defaults, so let’s examine what’s important.
13.3 Shell Startup File Elements
What goes into a shell startup file? Some things might seem obvious, such
as the path and a prompt setting. But what exactly should be in the path,
and what does a reasonable prompt look like? And how much is too much
to put in a startup file?
The next few sections discuss the essentials of a shell startup file—from
the command path, prompt, and aliases through the permissions mask.
User Environments 289
13.3.1 The Command Path
The most important part of any shell startup file is the command path. The
path should cover the directories that contain every application of interest
to a regular user. At the very least, the path should contain these components,
in order:
/usr/local/bin
/usr/bin
/bin
This order ensures that you can override standard default programs
with site-specific variants located in /usr/local.
Most Linux distributions install executables for nearly all packaged software
in /usr/bin. There are occasional differences, such as putting games in
/usr/games and graphical applications in a separate location, so check your
system’s defaults first. And make sure that every general-use program on
the system is available through one of the directories listed above. If not,
your system is probably getting out of control. Don’t change the default
path in your user environment to accommodate a new software installation
directory. A cheap way to accommodate separate installation directories is
to use symbolic links in /usr/local/bin.
Many users use a bin directory of their own to store shell scripts and
programs, so you may want to add this to the front of the path:
$HOME/bin
NOT E A newer convention is to place binaries in $HOME/.local/bin.
If you’re interested in systems utilities (such as traceroute, ping, and
lsmod), add the sbin directories to your path:
/usr/local/sbin
/usr/sbin
/sbin
Adding Dot (.) to the Path
There is one small but controversial command path component to discuss:
the dot. Placing a dot (.) in your path allows you to run programs in the
current directory without using ./ in front of the program name. This may
seem convenient when writing scripts or compiling programs, but it’s a bad
idea for two reasons:
• It can be a security problem. You should never put a dot at the front of
the path. Here’s an example of what can happen: An attacker could put
a Trojan horse named ls in an archive distributed on the Internet. Even
if a dot were at the end of the path, you’d still be vulnerable to typos
such as sl or ks.
290 Chapter 13
• It is inconsistent and can be confusing. A dot in a path can mean that a
command’s behavior will change according to the current directory.
13.3.2 The Manual Page Path
The traditional manual page path was determined by the MANPATH environment
variable, but you shouldn’t set it because doing so overrides the system
defaults in /etc/manpath.config.
13.3.3 The Prompt
Experienced users tend to avoid long, complicated, useless prompts. In
comparison, many administrators and distributions drag everything into a
default prompt. Your choice should reflect your users’ needs; place the current
working directory, hostname, and username in the prompt if it really
helps.
Above all, avoid characters that mean something significant to the shell,
such as these:
{ } = & < >
NOT E Take extra care to avoid the > character, which can cause erratic, empty files to appear
in your current directory if you accidentally copy and paste a section of your shell window
(recall that > redirects output to a file).
Even a shell’s default prompt isn’t ideal. For example, the default bash
prompt contains the shell name and version number.
This simple prompt setting for bash ends with the customary $ (the traditional
csh prompt ends with %):
PS1='\u\$ '
The \u is a substitution for the current username (see the PROMPTING
section of the bash(1) manual page). Other popular substitutions include
the following:
\h The hostname (the short form, without domain names)
\! The history number
\w The current directory. Because this can become long, you can limit
the display to just the final component with \W.
\$ $ if running as a user account, # if root
13.3.4 Aliases
Among the stickier points of modern user environments is the role of
aliases, a shell feature that substitutes one string for another before
User Environments 291
executing a command. These can be efficient shortcuts that save some
typing. However, aliases also have these drawbacks:
• It can be tricky to manipulate arguments.
• They are confusing; a shell’s built-in which command can tell you if
something is an alias, but it won’t tell you where it was defined.
• They are frowned upon in subshells and noninteractive shells; they do
not work in other shells.
Given these disadvantages, you should probably avoid aliases whenever
possible because it’s easier to write a shell function or an entirely new shell
script. Modern computers can start and execute shells so quickly that the
difference between an alias and an entirely new command should mean
nothing to you.
That said, aliases do come in handy when you wish to alter a part of the
shell’s environment. You can’t change an environment variable with a shell
script, because scripts run as subshells. (You can also define shell functions
to perform this task.)
13.3.5 The Permissions Mask
As described in Chapter 2, a shell’s built-in umask (permissions mask) facility
sets your default permissions. You should run umask in one of your startup
files to make certain that any program you run creates files with your desired
permissions. The two reasonable choices are these:
077 This mask is the most restrictive permissions mask because it
doesn’t give any other users access to new files and directories. This is
often appropriate on a multi-user system where you don’t want other
users to look at any of your files. However, when set as the default, it
can sometimes lead to problems when your users want to share files
but don’t understand how to set permissions correctly. (Inexperienced
users have a tendency to set files to a world-writable mode.)
022 This mask gives other users read access to new files and directories.
This can be important on a single-user system because many daemons
that run as pseudo-users are not be able to see files and directories
created with the more restrictive 077 umask.
NOT E Certain applications (especially mail programs) override the umask, changing it to
077 because they feel that their files are the business of no one but the file owner.
13.4 Startup File Order and Examples
Now that you know what to put into shell startup files, it’s time to see some
specific examples. Surprisingly, one of the most difficult and confusing parts
of creating startup files is determining which of several startup files to use.
The next sections cover the two most popular Unix shells: bash and tcsh.
292 Chapter 13
13.4.1 The bash Shell
In bash, you can choose from the startup filenames .bash_profile, .profile,
.bash_login, and .bashrc. Which one is appropriate for your command path,
manual page path, prompt, aliases, and permissions mask? The answer is
that you should have a .bashrc file accompanied by a .bash_profile symbolic
link pointing to .bashrc because there are a few different kinds of bash shell
instance types.
The two main shell instance types are interactive and noninteractive,
but of those, only interactive shells are of interest because noninteractive
shells (such as those that run shell scripts) usually don’t read any startup
files. Interactive shells are the ones that you use to run commands from a
terminal, such as the ones you’ve seen in this book, and they can be classified
as login or non-login.
Login Shells
Traditionally, a login shell is what you get when you first log in to a system
with the terminal using a program such as /bin/login. Logging in
remotely with SSH also gives you a login shell. The basic idea is that the
login shell is an initial shell. You can tell if a shell is a login shell by running
echo $0; if the first character is a -, the shell’s a login shell.
When bash runs as a login shell, it runs /etc/profile. Then it looks for a
user’s .bash_profile, .bash_login, and .profile files, running only the first one
that it sees.
As strange as it sounds, it’s possible to run a noninteractive shell as a
login shell to force it to run startup files. To do so, start the shell with the
-l or --login option.
Non-Login Shells
A non-login shell is an additional shell that you run after you log in. It’s
simply any interactive shell that’s not a login shell. Windowing system terminal
programs (xterm, GNOME Terminal, and so on) start non-login shells
unless you specifically ask for a login shell.
Upon starting up as a non-login shell, bash runs /etc/bash.bashrc and
then runs the user’s .bashrc.
The Consequences of Two Kinds of Shells
The reasoning behind the two different startup filesystems is that in the old
days, users logged in through a traditional terminal with a login shell, then
started non-login subshells with windowing systems or the screen program.
For the non-login subshells, it was deemed a waste to repeatedly set the
user environment and run a bunch of programs that had already been run.
With login shells, you could run fancy startup commands in a file such as
.bash_profile, leaving only aliases and other “lightweight” things to your .bashrc.
Nowadays, most desktop users log in through a graphical display manager
(you’ll learn more about these in the next chapter). Most of these start
with one noninteractive login shell in order to preserve the login versus
User Environments 293
non-login model described above. When they do not, you need to set up
your entire environment (path, manual path, and so on) in your .bashrc, or
you’ll never see any of your environment in your terminal window shells.
However, you also need a .bash_profile if you ever want to log in on the console
or remotely, because those login shells don’t ever bother with .bashrc.
Example .bashrc
In order to satisfy both non-login and login shells, how would you create a
.bashrc that can also be used as your .bash_profile? Here’s one very elementary
(yet perfectly sufficient) example:
# Command path.
PATH=/usr/local/bin:/usr/bin:/bin:/usr/games
PATH=$HOME/bin:$PATH
# PS1 is the regular prompt.
# Substitutions include:
# \u username \h hostname \w current directory
# \! history number \s shell name \$ $ if regular user
PS1='\u\$ '
# EDITOR and VISUAL determine the editor that programs such as less
# and mail clients invoke when asked to edit a file.
EDITOR=vi
VISUAL=vi
# PAGER is the default text file viewer for programs such as man.
PAGER=less
# These are some handy options for less.
# A different style is LESS=FRX
# (F=quit at end, R=show raw characters, X=don't use alt screen)
LESS=meiX
# You must export environment variables.
export PATH EDITOR VISUAL PAGER LESS
# By default, give other users read-only access to most new files.
umask 022
As described earlier, you can share this .bashrc file with .bash_profile via
a symbolic link, or you can make the relationship even clearer by creating
.bash_profile as this one-liner:
. $HOME/.bashrc
Checking for Login and Interactive Shells
With a .bashrc matching your .bash_profile, you don’t normally run extra
commands for login shells. However, if you want to define different actions
294 Chapter 13
for login and non-login shells, you can add the following test to your .bashrc,
which checks the shell’s $- variable for an i character:
case $- in
*i*) # interactive commands go here
command
--snip--
;;
*) # non-interactive commands go here
command
--snip--
;;
esac
13.4.2 The tcsh Shell
The standard csh on virtually all Linux systems is tcsh, an enhanced C
shell that popularized features such as command-line editing and multimode
filename and command completion. Even if you don’t use tcsh as the
default new user shell (we suggest using bash), you should still provide tcsh
startup files in case your users happen to come across tcsh.
You don’t have to worry about the difference between login shells and
non-login shells in tcsh. Upon startup, tcsh looks for a .tcshrc file. Failing
this, it looks for the csh shell’s .cshrc startup file. The reason for this order
is that you can use the .tcshrc file for tcsh extensions that don’t work in csh.
You should probably stick to using the traditional .cshrc instead of .tcshrc; it’s
highly unlikely that anyone will ever use your startup files with csh. And if a
user actually does come across csh on some other system, your .cshrc will work.
Example .cshrc
Here is sample .cshrc file:
# Command path.
setenv PATH /usr/local/bin:/usr/bin:/bin:$HOME/bin
# EDITOR and VISUAL determine the editor that programs such as less
# and mail clients invoke when asked to edit a file.
setenv EDITOR vi
setenv VISUAL vi
# PAGER is the default text file viewer for programs such as man.
setenv PAGER less
# These are some handy options for less.
setenv LESS meiX
# By default, give other users read-only access to most new files.
umask 022
# Customize the prompt.
User Environments 295
# Substitutions include:
# %n username %m hostname %/ current directory
# %h history number %l current terminal %% %
set prompt="%m%% "
13.5 Default User Settings
The best way to write startup files and choose defaults for new users is to
experiment with a new test user on the system. Create the test user with an
empty home directory and refrain from copying your own startup files to
the test user’s directory. Write the new startup files from scratch.
When you think you have a working setup, log in as the new test user in
all possible ways (on the console, remotely, and so on). Make sure that you
test as many things as possible, including the windowing system operation
and manual pages. When you’re happy with the test user, create a second
test user, copying the startup files from the first test user. If everything still
works, you now have a new set of startup files that you can distribute to new
users.
The following sections outline reasonable defaults for new users.
13.5.1 Shell Defaults
The default shell for any new user on a Linux system should be bash because:
• Users interact with the same shell that they use to write shell scripts (for
example, csh is a notoriously bad scripting tool—don’t even think about it).
• bash is standard on Linux systems.
• bash uses GNU readline, and therefore its interface is identical to that
of many other tools.
• bash gives you fine, easy-to-understand control over I/O redirection and
file handles.
However, many seasoned Unix wizards use shells such as csh and tcsh
simply because they can’t bear to switch. Of course, you can choose any
shell you like, but choose bash if you don’t have any preference, and use bash
as the default shell for any new user on the system. (A user can change his
or her shell with the chsh command to suit individual preferences.)
NOT E There are plenty of other shells out there (rc, ksh, zsh, es, and so on). Some are not
appropriate as beginner shells, but zsh and fish are sometimes popular with new
users looking for an alternative shell.
13.5.2 Editor
On a traditional system, the default editor should be vi or emacs. These are
the only editors virtually guaranteed to exist on nearly any Unix system,
296 Chapter 13
which means they’ll cause the least trouble in the long run for a new user.
However, Linux distributions often configure nano to be the default editor,
because it’s easier for beginners to use.
As with shell startup files, avoid large default editor startup files. A
little set showmatch in the .exrc startup file never hurt anyone but steer clear
of anything that significantly changes the editor’s behavior or appearance,
such as the showmode feature, auto-indentation, and wrap margins.
13.5.3 Pager
It’s perfectly reasonable to set the default PAGER environment variable to less.
13.6 Startup File Pitfalls
Avoid these in startup files:
• Don’t put any kind of graphical command in a shell startup file.
• Don’t set the DISPLAY environment variable in a shell startup file.
• Don’t set the terminal type in a shell startup file.
• Don’t skimp on descriptive comments in default startup files.
• Don’t run commands in a startup file that print to the standard output.
• Never set LD_LIBRARY_PATH in a shell startup file (see Section 15.1.4).
13.7 Further Startup Topics
Because this book deals only with the underlying Linux system, we won’t
cover windowing environment startup files. This is a large issue indeed,
because the display manager that logs you in to a modern Linux system has
its own set of startup files, such as .xsession, .xinitrc, and the endless combinations
of GNOME- and KDE-related items.
The windowing choices may seem bewildering, and there is no one
common way to start a windowing environment in Linux. The next chapter
describes some of the many possibilities. However, when you determine
what your system does, you may get a little carried away with the files that
relate to your graphical environment. That’s fine, but don’t carry it over to
new users. The same tenet of keeping things simple in shell startup files
works wonders for GUI startup files, too. In fact, you probably don’t need
to change your GUI startup files at all.
14
A Brief Surve y of the
Linux De sktop
This chapter is a quick introduction to the
components found in a typical Linux desktop
system. Of all of the different kinds of
software that you can find on Linux systems,
the desktop arena is one of the wildest and most colorful
because there are so many environments and
applications to choose from, and most distributions
make it relatively easy for you to try them out.
Unlike other parts of a Linux system, such as storage and networking,
there isn’t much of a hierarchy of layers involved in creating a desktop structure.
Instead, each component performs a specific task, communicating
with other components as necessary. Some components do share common
building blocks (in particular, libraries for graphical toolkits), and these can
be thought of as simple abstraction layers, but that’s about as deep as it goes.
298 Chapter 14
This chapter offers a high-level discussion of desktop components in
general, but we’ll look at two pieces in a little more detail: the X Window
System, which is the core infrastructure behind most desktops, and D-Bus,
an interprocess communication service used in many parts of the system.
We’ll limit the hands-on discussion and examples to a few diagnostic utilities
that, while not terribly useful day-to-day (most GUIs don’t require
you to enter shell commands in order to interact with them), will help you
understand the underlying mechanics of the system and perhaps provide
some entertainment along the way. We’ll also take a quick look at printing.
14.1 Desktop Components
Linux desktop configurations offer a great deal of flexibility. Most of what
the Linux user experiences (the “look and feel” of the desktop) comes from
applications or building blocks of applications. If you don’t like a particular
application, you can usually find an alternative. And if what you’re looking
for doesn’t exist, you can write it yourself. Linux developers tend to have a
wide variety of preferences for how a desktop should act, which makes for a
lot of choices.
In order to work together, all applications need to have something in
common, and at the core of nearly everything on most Linux desktops is
the X (X Window System) server. Think of X as sort of the “kernel” of the
desktop that manages everything from rendering windows to configuring
displays to handling input from devices such as keyboards and mice. The
X server is also the one component that you won’t easily find a replacement
for (see Section 14.4).
The X server is just a server and does not dictate the way anything
should act or appear. Instead, X client programs handle the user interface.
Basic X client applications, such as terminal windows and web browsers,
make connections to the X server and ask to draw windows. In response,
the X server figures out where to place the windows and renders them. The
X server also channels input back to the client when appropriate.
14.1.1 Window Managers
X clients don’t have to act like windowed user applications; they can act
as services for other clients or provide other interface functions. A window
manager is perhaps the most important client service application because it
figures out how to arrange windows on screen and provides interactive decorations
like title bars that allow the user to move and minimize windows.
These elements are central to the user experience.
There are many window manager implementations. Examples such
as Mutter/GNOME Shell and Compiz are meant to be more or less standalone,
while others are built into environments such as Xfce. Most window
managers included in the standard Linux distributions strive for maximum
user comfort, but others provide specific visual effects or take a minimalist
A Brief Survey of the Linux Desktop 299
approach. There’s not likely to ever be a standard Linux window manager
because user tastes and requirements are diverse and constantly changing; as
a result, new window managers appear all the time.
14.1.2 Toolkits
Desktop applications include certain common elements, such as buttons
and menus, called widgets. To speed up development and provide a common
look, programmers use graphical toolkits to provide these elements.
On operating systems such as Windows or Mac OS X, the vendor provides
a common toolkit, and most programmers use that. On Linux, the GTK+
toolkit is one of the most common, but you’ll also frequently see widgets
built on the Qt framework and others.
Toolkits usually consist of shared libraries and support files such as
images and theme information.
14.1.3 Desktop Environments
Although toolkits provide the user with a uniform outward appearance,
some details of a desktop require a degree of cooperation between different
applications. For example, one application may wish to share data with
another or update a common notification bar on a desktop. To provide for
these needs, toolkits and other libraries are bundled into larger packages
called desktop environments. GNOME, KDE, Unity, and Xfce are some common
Linux desktop environments.
Toolkits are at the core of most desktop environments, but to create a
unified desktop, environments must also include numerous support files,
such as icons and configurations, that make up themes. All of this is bound
together with documents that describe design conventions, such as how
application menus and titles should appear and how applications should
react to certain system events.
14.1.4 Applications
At the top of the desktop are applications, such as web browsers and
the terminal window. X applications can range from crude (such as the
ancient xclock program) to complex (such as the Chrome web browser and
LibreOffice suite). These applications normally stand alone, but they often
use interprocess communication to become aware of pertinent events. For
example, an application can express interest when you attach a new storage
device or when you receive new email or an instant message. This communication
usually occurs over D-Bus, described in Section 14.5.
14.2 A Closer Look at the X Window System
The X Window System (http://www.x.org/) has historically been very large,
with the base distribution including the X server, client support libraries,
and clients. Due to the emergence of desktop environments such as
300 Chapter 14
GNOME and KDE, the role of the X distribution has changed over time,
with the focus now more on the core server that manages rendering and
input devices, as well as a simplified client library.
The X server is easy to identify on your system. It’s called X. Check for
it in a process listing; you’ll usually see it running with a number of options
like this:
/usr/bin/X :0 -auth /var/run/lightdm/root/:0 -nolisten tcp vt7 -novtswitch
The :0 shown here is called the display, an identifier representing one
or more monitors that you access with a common keyboard and/or mouse.
Usually, the display just corresponds to the single monitor you attach to
your computer, but you can put multiple monitors under the same display.
When using an X session, the DISPLAY environment variable is set to the display
identifier.
NOT E Displays can be further subdivided into screens, such as :0.0 and :0.1, but this has
become increasingly rare because X extensions, such as RandR, can combine multiple
monitors into one larger virtual screen.
On Linux, an X server runs on a virtual terminal. In this example, the
vt7 argument tells us that it’s been told to run on /dev/tty7 (normally, the
server starts on the first virtual terminal available). You can run more than
one X server at a time on Linux by running them on separate virtual terminals,
but if you do, each server needs a unique display identifier. You can
switch between the servers with the ctrl-alt-fn keys or the chvt command.
14.2.1 Display Managers
You normally don’t start the X server with a command line because starting
the server doesn’t define any clients that are supposed to run on the server.
If you start the server by itself, you’ll just get a blank screen. Instead, the
most common way to start an X server is with a display manager, a program
that starts the server and puts a login box on the screen. When you log in,
the display manager starts a set of clients, such as a window manager and
file manager, so that you can start to use the machine.
There are many different display managers, such as gdm (for GNOME)
and kdm (for KDE). The lightdm in the argument list for the X server invocation
above is a cross-platform display manager meant to be able to start
GNOME or KDE sessions.
To start an X session from a virtual console instead of using a display
manager, you can run the startx or xinit command. However, the session
you get will likely be a very simple one that looks completely unlike that of a
display manager, because the mechanics and startup files are different.
14.2.2 Network Transparency
One feature of X is network transparency. Because clients talk to the server
using a protocol, it’s possible to run clients across a network to a server
A Brief Survey of the Linux Desktop 301
running on a different machine directly over the network, with the X server
listening for TCP connections on port 6000. Clients connecting to that port
could authenticate, then send windows to the server.
Unfortunately, this method does not normally offer any encryption and
is insecure as a result. To close this hole, most distributions now disable
the X server’s network listener (with the -nolisten tcp option to the server,
as seen on page 300). However, you can still run X clients from a remote
machine with SSH tunneling, as described in Chapter 10, by connecting the
X server’s Unix domain socket to a socket on the remote machine.
14.3 Exploring X Clients
Although one doesn’t normally think of working with a graphical user interface
from the command line, there are several utilities that allow you to
explore the parts of the X Window System. In particular, you can inspect
clients as they run.
One of the simplest tools is xwininfo. When run without any arguments,
it asks you to click on a window:
$ xwininfo
xwininfo: Please select the window about which you
would like information by clicking the
mouse in that window.
After you click, it prints a list of information about the window, such as
its location and size:
xwininfo: Window id: 0x5400024 "xterm"
Absolute upper-left X: 1075
Absolute upper-left Y: 594
--snip--
Notice the window ID here—the X server and window managers use
this identifier to keep track of windows. To get a list of all window IDs and
clients, use the xlsclients -l command.
NOT E There is a special window called the root window; it’s the background on the display.
However, you may never see this window (see “Desktop Background” on page 304).
14.3.1 X Events
X clients get their input and other information about the state of the server
through a system of events. X events work like other asynchronous interprocess
communication events such as udev events and D-Bus events: The
X server receives information from a source such as an input device, then
redistributes that input as an event to any interested X client.
302 Chapter 14
You can experiment with events with the xev command. Running it
opens a new window that you can mouse into, click, and type. As you do so,
xev generates output describing the X events that it receives from the server.
For example, here’s sample output for mouse movement:
$ xev
--snip--
MotionNotify event, serial 36, synthetic NO, window 0x6800001,
root 0xbb, subw 0x0, time 43937883, (47,174), root:(1692,486),
state 0x0, is_hint 0, same_screen YES
MotionNotify event, serial 36, synthetic NO, window 0x6800001,
root 0xbb, subw 0x0, time 43937891, (43,177), root:(1688,489),
state 0x0, is_hint 0, same_screen YES
Notice the coordinates in parentheses. The first pair represents the xand
y-coordinates of the mouse pointer inside the window, and the second
(root:) is the location of the pointer on the entire display.
Other low-level events include key presses and button clicks, but a few
more advanced ones indicate whether the mouse has entered or exited the
window, or if the window has gained or lost focus from the window manager.
For example, here are corresponding exit and unfocus events:
LeaveNotify event, serial 36, synthetic NO, window 0x6800001,
root 0xbb, subw 0x0, time 44348653, (55,185), root:(1679,420),
mode NotifyNormal, detail NotifyNonlinear, same_screen YES,
focus YES, state 0
FocusOut event, serial 36, synthetic NO, window 0x6800001,
mode NotifyNormal, detail NotifyNonlinear
One common use of xev is to extract keycodes and key symbols for different
keyboards when remapping the keyboard. Here’s the output from
pressing the L key; the keycode here is 46:
KeyPress event, serial 32, synthetic NO, window 0x4c00001,
root 0xbb, subw 0x0, time 2084270084, (131,120), root:(197,172),
state 0x0, keycode 46 (keysym 0x6c, l), same_screen YES,
XLookupString gives 1 bytes: (6c) "l"
XmbLookupString gives 1 bytes: (6c) "l"
XFilterEvent returns: False
You can also attach xev to an existing window ID with the -id id option.
(Use the ID that you get from xwininfo as id) or monitor the root window
with -root.)
14.3.2 Understanding X Input and Preference Settings
One of the most potentially baffling characteristics of X is that there’s often
more than one way to set preferences, and some methods may not work. For
example, one common keyboard preference on Linux systems is to remap
A Brief Survey of the Linux Desktop 303
the Caps Lock key to a Control key. There are a number of ways to do this,
from making small adjustments with the old xmodmap command to providing
an entirely new keyboard map with the setxkbmap utility. How do you know
which ones (if any) to use? It’s a matter of knowing which pieces of the system
have responsibility, but determining this can be difficult. Keep in mind
that a desktop environment may provide its own settings and overrides.
With this said, here are a few pointers on the underlying infrastructure.
Input Devices (General)
The X server uses the X Input Extension to manage input from many different
devices. There are two basic types of input device—keyboard and
pointer (mouse)—and you can attach as many devices as you like. In order
to use more than one of the same type of device simultaneously, the X
Input Extension creates a “virtual core” device that funnels device input to
the X server. The core device is called the master; the physical devices that
you plug in to the machine become slaves.
To see the device configuration on your machine, try running the
xinput --list command:
$ xinput --list
⎡ Virtual core pointer id=2 [master pointer (3)]
⎜ ↳ Virtual core XTEST pointer id=4 [slave pointer (2)]
⎜ ↳ Logitech Unifying Device id=8 [slave pointer (2)]
⎣ Virtual core keyboard id=3 [master keyboard (2)]
↳ Virtual core XTEST keyboard id=5 [slave keyboard (3)]
↳ Power Button id=6 [slave keyboard (3)]
↳ Power Button id=7 [slave keyboard (3)]
↳ Cypress USB Keyboard id=9 [slave keyboard (3)]
Each device has an associated ID that you can use with xinput and other
commands. In this output, IDs 2 and 3 are the core devices, and IDs 8 and 9
are the real devices. Notice that the power buttons on the machine are also
treated as X input devices.
Most X clients listen for input from the core devices, because there is no
reason for them to be concerned about which particular device originates
an event. In fact, most clients know nothing about the X Input Extension.
However, a client can use the extension to single out a particular device.
Each device has a set of associated properties. To view the properties, use
xinput with the device number, as in this example:
$ xinput --list-props 8
Device 'Logitech Unifying Device. Wireless PID:4026':
Device Enabled (126): 1
Coordinate Transformation Matrix (128): 1.000000, 0.000000, 0.000000,
0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 1.000000
Device Accel Profile (256): 0
Device Accel Constant Deceleration (257): 1.000000
Device Accel Adaptive Deceleration (258): 1.000000
Device Accel Velocity Scaling (259): 10.000000
--snip--
304 Chapter 14
As you can see, there are a number of very interesting properties that
you can change with the --set-prop option (See the xinput(1) manual page
for more information.)
Mouse
You can manipulate device-related settings with the xinput command,
and many of the most useful pertain to the mouse (pointer). You can
change many settings directly as properties, but it’s usually easier with
the specialized --set-ptr-feedback and --set-button-map options to xinput.
For example, if you have a three-button mouse at dev on which you’d
like to reverse the order of buttons (this is handy for left-handed users),
try this:
$ xinput --set-button-map dev 3 2 1
Keyboard
The many different keyboard layouts available internationally present particular
difficulties for integration into any windowing system. X has always
had an internal keyboard-mapping capability in its core protocol that you
can manipulate with the xmodmap command, but any reasonably modern system
uses the XKB (the X keyboard extension) to gain finer control.
XKB is complicated, so much so that many people still use xmodmap when
they need to make quick changes. The basic idea behind XKB is that you
can define a keyboard map and compile it with the xkbcomp command, then
load and activate that map in the X server with the setxkbmap command. Two
especially interesting features of the system are these:
• You can define partial maps to supplement existing maps. This is
especially handy for tasks such as changing your Caps Lock key into a
Control key, and it is used by many graphical keyboard preference utilities
in desktop environments.
• You can define individual maps for each attached keyboard.
Desktop Background
The old X command xsetroot allows you to set the background color and
other characteristics of the root window, but it produces no effect on most
machines because the root window is never visible. Instead, most desktop
environments place a big window in the back of all of your other windows
in order to enable features such as “active wallpaper” and desktop file
browsing. There are ways to change the background from the command
line (for example, with the gsettings command in some GNOME installations),
but if you actually want to do this, you probably have too much time
on your hands.
A Brief Survey of the Linux Desktop 305
xset
Probably the oldest preference command is xset. It’s not used much anymore,
but you can run a quick xset q to get the status of a few features.
Perhaps the most useful are the screensaver and Display Power Management
Signaling (DPMS) settings.
14.4 The Future of X
As you were reading the preceding discussion, you may have gotten the
feeling that X is a really old system that’s been poked at a lot in order to
get it to do new tricks. You wouldn’t be far off. The X Window System was
first developed in the 1980s. Although its evolution over the years has been
significant (flexibility was an important part of its original design), you can
push the original architecture only so far.
One sign of the age of the X Window System is that the server itself
supports an extremely large number of libraries, many for backward compatibility.
But perhaps more significantly, the idea of having a server manage
clients, their windows, and act as an intermediary for the window memory
has become a burden on performance. It’s much faster to allow applications
to render the contents of their windows directly in the display memory, with
a lighter-weight window manager, called a compositing window manager, to
arrange the windows and do minimal management of the display memory.
A new standard based on this idea, Wayland, has started to gain traction.
The most significant piece of Wayland is a protocol that defines how
clients talk to the compositing window manager. Other pieces include input
device management and an X-compatibility system. As a protocol, Wayland
also maintains the idea of network transparency. Many pieces of the Linux
desktop now support Wayland, such as GNOME and KDE.
But Wayland isn’t the only alternative to X. As of this writing, another
project, Mir, has similar goals, though its architecture takes a somewhat
different approach. At some point, there will be widespread adoption of at
least one system, which may or may not be one of these.
These new developments are significant because they won’t be limited
to the Linux desktop. Due to its poor performance and gigantic footprint,
the X Window System is not suitable for environments such as tablets and
smartphones, so manufacturers have so far used alternative systems to drive
embedded Linux displays. However, standardized direct rendering can
make for a more cost-effective way to support these displays.
14.5 D-Bus
One of the most important developments to come out of the Linux desktop
is the Desktop Bus (D-Bus), a message-passing system. D-Bus is important
because it serves as an interprocess communication mechanism that allows
desktop applications to talk to each other, and because most Linux systems
use it to notify processes of system events, such as inserting a USB drive.
306 Chapter 14
D-Bus itself consists of a library that standardizes interprocess communication
with a protocol and supporting functions for any two processes
to talk to each other. By itself, this library doesn’t offer much more than a
fancy version of normal IPC facilities such as Unix domain sockets. What
makes D-Bus useful is a central “hub” called dbus-daemon. Processes that
need to react to events can connect to dbus-daemon and register to receive
certain kinds of events. Processes also create the events. For example,
the process udisks-daemon listens to ubus for disk events and sends them to
dbus-daemon, which then retransmits the events to applications interested in
disk events.
14.5.1 System and Session Instances
D-Bus has become a more integral part of the Linux system, and it now
goes beyond the desktop. For example, both systemd and Upstart have
D-Bus channels of communication. However, adding dependencies to
desktop tools inside the core system goes against a core design rule of
Linux.
To address this problem, there are actually two kinds of dbus-daemon
instances (processes) that can run. The first is the system instance, which is
started by init at boot time with the --system option. The system instance usually
runs as a D-Bus user, and its configuration file is /etc/dbus-1/system.conf
(though you probably shouldn’t change the configuration). Processes can
connect to the system instance through the /var/run/dbus/system_bus_socket
Unix domain socket.
Independent of the system D-Bus instance, there is an optional session
instance that runs only when you start a desktop session. Desktop applications
that you run connect to this instance.
14.5.2 Monitoring D-Bus Messages
One of the best ways to see the difference between the system and session
dbus-daemon instances is to monitor the events that go over the bus. Try using
the dbus-monitor utility in system mode like this:
$ dbus-monitor --system
signal sender=org.freedesktop.DBus -> dest=:1.952 serial=2 path=/org/
freedesktop/DBus; interface=org.freedesktop.DBus; member=NameAcquired
string ":1.952"
The startup message here indicates that the monitor connected and
acquired a name. You shouldn’t see much activity when you run it like this,
because the system instance usually isn’t very busy. To see something happen,
try plugging in a USB storage device.
By comparison, session instances have much more to do. Assuming
you’ve logged in to a desktop session, try this:
$ dbus-monitor --session
A Brief Survey of the Linux Desktop 307
Now move your mouse around to different windows; if your desktop is
D-Bus aware, you should get a flurry of messages indicating activated windows.
14.6 Printing
Printing a document on Linux is a multistage process. It goes like this:
1. The program doing the printing usually converts the document into
PostScript form. This step is optional.
2. The program sends the document to a print server.
3. The print server receives the document and places it on a print queue.
4. When the document’s turn in the queue arrives, the print server sends
the document to a print filter.
5. If the document is not in PostScript form, a print filter might perform a
conversion.
6. If the destination printer does not understand PostScript, a printer
driver converts the document to a printer-compatible format.
7. The printer driver adds optional instructions to the document, such as
paper tray and duplexing options.
8. The print server uses a backend to send the document to the printer.
The most confusing part of this process is why so much revolves around
PostScript. PostScript is actually a programming language, so when you print
a file using it, you’re sending a program to the printer. PostScript serves as a
standard for printing in Unix-like systems, much as the .tar format serves as
an archiving standard. (Some applications now use PDF output, but this is
relatively easy to convert.)
We’ll talk more about the print format later; first, let’s look at the queuing
system.
14.6.1 CUPS
The standard printing system in Linux is CUPS (http://www.cups.org/),
which is the same system used on Mac OS X. The CUPS server daemon is
called cupsd, and you can use the lpr command as a simple client to send
files to the daemon.
One significant feature of CUPS is that it implements Internet Print
Protocol (IPP), a system that allows for HTTP-like transactions among clients
and servers on TCP port 631. In fact, if you have CUPS running on your
system, you can probably connect to http://localhost:631/ to see your current
configuration and check on any printer jobs. Most network printers
and print servers support IPP, as does Windows, which can make setting
up remote printers a relatively simple task.
You probably won’t be able to administer the system from the web interface,
because the default setup isn’t very secure. Instead, your distribution
likely has a graphical settings interface to add and modify printers. These
tools manipulate the configuration files, normally found in /etc/cups. It’s
308 Chapter 14
usually best to let these tools do the work for you, because configuration
can be complicated. And even if you do run into a problem and need to
configure manually, it’s usually best to create a printer using the graphical
tools so that you have somewhere to start.
14.6.2 Format Conversion and Print Filters
Many printers, including nearly all low-end models, do not understand
PostScript or PDF. In order for Linux to support one of these printers, it
must convert documents to a format specific to the printer. CUPS sends
the document to a Raster Image Processor (RIP) to produce a bitmap. The
RIP almost always uses the Ghostscript (gs) program to do most of the real
work, but it’s somewhat complicated because the bitmap must fit the format
of the printer. Therefore, the printer drivers that CUPS uses consult the
PostScript Printer Definition (PPD) file for the specific printer to figure out
settings such as resolution and paper sizes.
14.7 Other Desktop Topics
One interesting characteristic of the Linux desktop environment is that
you can generally choose which pieces you want to use and stop using the
ones that you dislike. For a survey of many of the desktop projects, have a
look at the mailing lists and project links for the various projects at http://
www.freedesktop.org/. Elsewhere, you’ll find other desktop projects, such as
Ayatana, Unity, and Mir.
Another major development in the Linux desktop is the Chromium
OS open source project and its Google Chrome OS counterpart found on
Chromebook PCs. This is a Linux system that uses much of the desktop
technology described in this chapter but is centered around the Chromium/
Chrome web browsers. Much of what’s found on a traditional desktop has
been stripped away in Chrome OS.
15
De vel opment Tools
Linux and Unix are very popular with programmers,
not just due to the overwhelming
array of tools and environments available
but also because the system is exceptionally well
documented and transparent. On a Linux machine,
you don’t have to be a programmer to take advantage
of development tools, but when working with the system, you should know
something about programming tools because they play a larger role in
managing Unix systems than in other operating systems. At the very least,
you should be able to identify development utilities and have some idea of
how to run them.
This chapter packs a lot of information into a small space, but you don’t
need to master everything here. You can easily skim the material and come
back later. The discussion of shared libraries is likely the most important
thing that you need to know. But to understand where shared libraries
come from, you first need some background on how to build programs.
310 Chapter 15
15.1 The C Compiler
Knowing how to run the C programming language compiler can give
you a great deal of insight into the origin of the programs that you see on
your Linux system. The source code for most Linux utilities, and for many
applications on Linux systems, is written in C or C++. We’ll primarily use
examples in C for this chapter, but you’ll be able to carry the information
over to C++.
C programs follow a traditional development process: You write programs,
you compile them, and they run. That is, when you write a C program
and want to run it, you must compile the source code that you wrote into a
binary low-level form that the computer understands. You can compare this
to the scripting languages that we’ll discuss later, where you don’t need to
compile anything.
NOT E By default, most distributions do not include the tools necessary to compile C code
because these tools occupy a fairly large amount of space. If you can’t find some of the
tools described here, you can install the build-essential package for Debian/Ubuntu
or the “Development Tools” yum groupinstall for Fedora/CentOS. Failing that, try a
package search for “C compiler.”
The C compiler executable on most Unix systems is the GNU C complier,
gcc, though the newer clang compiler from the LLVM project is gaining
popularity. C source code files end with .c. Take a look at the single,
self-contained C source code file called hello.c, which you can find in The C
Programming Language, 2nd edition, by Brian W. Kernighan and Dennis M.
Ritchie (Prentice Hall, 1988):
#include <stdio.h>
main() {
printf("Hello, World.\n");
}
Put this source code in a file called hello.c and then run this command:
$ cc hello.c
The result is an executable named a.out, which you can run like any
other executable on the system. However, you should probably give the
executable another name (such as hello). To do this, use the compiler’s
-o option:
$ cc -o hello hello.c
For small programs, there isn’t much more to compiling than that. You
might need to add an extra include directory or library (see Sections 15.1.2
and 15.1.3), but let’s look at slightly larger programs before getting into
those topics.
Development Tools 311
15.1.1 Multiple Source Files
Most C programs are too large to reasonably fit inside a single source code
file. Mammoth files become too disorganized for the programmer, and
compilers sometimes even have trouble parsing large files. Therefore, developers
group components of the source code together, giving each piece its
own file.
When compiling most .c files, you don’t create an executable right away.
Instead, use the compiler’s -c option on each file to create object files. To see
how this works, let’s say you have two files, main.c and aux.c. The following
two compiler commands do most of the work of building the program:
$ cc -c main.c
$ cc -c aux.c
The preceding two commands compile the two source files into the two
object files main.o and aux.o.
An object file is a binary file that a processor can almost understand,
except that there are still a few loose ends. First, the operating system doesn’t
know how to run an object file, and second, you likely need to combine several
object files and some system libraries to make a complete program.
To build a fully functioning executable from one or more object files,
you must run the linker, the ld command in Unix. Programmers rarely
use ld on the command line, because the C compiler knows how to run
the linker program. So to create an executable called myprog from the two
object files above, run this command to link them:
$ cc -o myprog main.o aux.o
Although you can compile multiple source files by hand, as the preceding
example shows, it can be hard to keep track of them all during the
compiling process when the number of source files multiplies. The make
system described in Section 15.2 is the traditional Unix standard for managing
compiles. This system is especially important in managing the files
described in the next two sections.
15.1.2 Header (Include) Files and Directories
C header files are additional source code files that usually contain type and
library function declarations. For example, stdio.h is a header file (see the
simple program in Section 15.1).
Unfortunately, a great number of compiler problems crop up with header
files. Most glitches occur when the compiler can’t find header files and libraries.
There are even some cases where a programmer forgets to include a
required header file, causing some of the source code to not compile.
312 Chapter 15
Fixing Include File Problems
Tracking down the correct include files isn’t always easy. Sometimes there
are several include files with the same names in different directories, and
it’s not clear which is the correct one. When the compiler can’t find an
include file, the error message looks like this:
badinclude.c:1:22: fatal error: notfound.h: No such file or directory
This message reports that the compiler can’t find the notfound.h header
file that the badinclude.c file references. This specific error is a direct result
of this directive on line 1 of badinclude.c:
#include <notfound.h>
The default include directory in Unix is /usr/include; the compiler always
looks there unless you explicitly tell it not to. However, you can make the
compiler look in other include directories (most paths that contain header
files have include somewhere in the name).
not e You’ll learn more about how to find missing include files in Chapter 16.
For example, let’s say that you find notfound.h in /usr/junk/include. You
can make the compiler see this directory with the -I option:
$ cc -c -I/usr/junk/include badinclude.c
Now the compiler should no longer stumble on the line of code in
badinclude.c that references the header file.
You should also beware of includes that use double quotes (" ") instead
of angle brackets (< >), like this:
#include "myheader.h"
Double quotes mean that the header file is not in a system include directory
but that the compiler should otherwise search its include path. It often
means that the include file is in the same directory as the source file. If you
encounter a problem with double quotes, you’re probably trying to compile
incomplete source code.
What Is the C Preprocessor (cpp)?
It turns out that the C compiler does not actually do the work of looking for
all of these include files. That task falls to the C preprocessor, a program that
the compiler runs on your source code before parsing the actual program.
The preprocessor rewrites source code into a form that the compiler understands;
it’s a tool for making source code easier to read (and for providing
shortcuts).
Development Tools 313
Preprocessor commands in the source code are called directives, and
they start with the # character. There are three basic types of directives:
Include files An #include directive instructs the preprocessor to
include an entire file. Note that the compiler’s -I flag is actually an
option that causes the preprocessor to search a specified directory
for include files, as you saw in the previous section.
Macro definitions A line such as #define BLAH something tells the preprocessor
to substitute something for all occurrences of BLAH in the source
code. Convention dictates that macros appear in all uppercase, but
it should come as no shock that programmers sometimes use macros
whose names look like functions and variables. (Every now and then,
this causes a world of headaches. Many programmers make a sport out
of abusing the preprocessor.)
NOT E Instead of defining macros within your source code, you can also define macros by
passing parameters to the compiler: -DBLAH=something works like the directive above.
Conditionals You can mark out certain pieces of code with #ifdef, #if,
and #endif. The #ifdef MACRO directive checks to see whether the preprocessor
macro MACRO is defined, and #if condition tests to see whether
condition is nonzero. For both directives, if the condition following the
“if statement” is false, the preprocessor does not pass any of the program
text between the #if and the next #endif to the compiler. If you
plan to look at any C code, you’d better get used to this.
An example of a conditional directive follows. When the preprocessor
sees the following code, it checks to see whether the macro DEBUG is defined
and, if so, passes the line containing fprintf() on to the compiler. Otherwise,
the preprocessor skips this line and continues to process the file after the
#endif:
#ifdef DEBUG
fprintf(stderr, "This is a debugging message.\n");
#endif
NOT E The C preprocessor doesn’t know anything about C syntax, variables, functions, and
other elements. It understands only its own macros and directives.
On Unix, the C preprocessor’s name is cpp, but you can also run it with
gcc -E. However, you’ll rarely need to run the preprocessor by itself.
15.1.3 Linking with Libraries
The C compiler doesn’t know enough about your system to create a useful
program all by itself. You need libraries to build complete programs. A
C library is a collection of common precompiled functions that you can
build into your program. For example, many executables use the math
library because it provides trigonometric functions and the like.
314 Chapter 15
Libraries come into play primarily at link time, when the linker program
creates an executable from object files. For example, if you have a
program that uses the gobject library but you forget to tell the compiler
to link against that library, you’ll see linker errors like this:
badobject.o(.text+0x28): undefined reference to ‘g_object_new’
The most important parts of these error messages are in bold. When
the linker program examined the badobject.o object file, it couldn’t find the
function that appears in bold, and as a consequence, it couldn’t create the
executable. In this particular case, you might suspect that you forgot the
gobject library because the missing function is g_object_new().
NOT E Undefined references do not always mean that you’re missing a library. One of the
program’s object files could be missing in the link command. It’s usually easy to differentiate
between library functions and functions in your object files, though.
To fix this problem, you must first find the gobject library and then use
the compiler’s -l option to link against the library. As with include files,
libraries are scattered throughout the system (/usr/lib is the system default
location), though most libraries reside in a subdirectory named lib. For the
preceding example, the basic gobject library file is libgobject.a, so the library
name is gobject. Putting it all together, you would link the program like this:
$ cc -o badobject badobject.o -lgobject
You must tell the linker about nonstandard library locations; the
parameter for this is -L. Let’s say that the badobject program requires
libcrud.a in /usr/junk/lib. To compile and create the executable, use a command
like this:
$ cc -o badobject badobject.o -lgobject -L/usr/junk/lib -lcrud
NOT E If you want to search a library for a particular function, use the nm command. Be
prepared for a lot of output. For example, try this: nm libgobject.a. (You might need
to use the locate command to find libgobject.a; many distributions now put libraries
in architecture-specific subdirectories in /usr/lib.)
15.1.4 Shared Libraries
A library file ending with .a (such as libgobject.a) is called a static library.
When you link a program against a static library, the linker copies machine
code from the library file into your executable. Therefore, the final executable
does not need the original library file to run, and furthermore, the
executable’s behavior never changes.
However, library sizes are always increasing, as is the number of libraries
in use, and this makes static libraries wasteful in terms of disk space
Development Tools 315
and memory. In addition, if a static library is later found to be inadequate
or insecure, there’s no way to change any executable linked against it, short
of recompiling the executable.
Shared libraries counter these problems. When you run a program linked
against one, the system loads the library’s code into the process memory
space only when necessary. Many processes can share the same shared
library code in memory. And if you need to slightly modify the library code,
you can generally do so without recompiling any programs.
Shared libraries have their own costs: difficult management and a
somewhat complicated linking procedure. However, you can bring shared
libraries under control if you know four things:
• How to list the shared libraries that an executable needs
• How an executable looks for shared libraries
• How to link a program against a shared library
• The common shared library pitfalls
The following sections tell you how to use and maintain your system’s
shared libraries. If you’re interested in how shared libraries work or if you
want to know about linkers in general, you can check out Linkers and Loaders
by John R. Levine (Morgan Kaufmann, 1999), “The Inside Story on Shared
Libraries and Dynamic Loading” by David M. Beazley, Brian D. Ward, and
Ian R. Cooke (Computing in Science & Engineering, September/October 2001),
or online resources such as the Program Library HOWTO (http://dwheeler
.com/program-library/). The ld.so(8) manual page is also worth a read.
Listing Shared Library Dependencies
Shared library files usually reside in the same places as static libraries. The
two standard library directories on a Linux system are /lib and /usr/lib. The
/lib directory should not contain static libraries.
A shared library has a suffix that contains .so (shared object), as in
libc-2.15.so and libc.so.6. To see what shared libraries a program uses, run
ldd prog, where prog is the executable name. Here’s an example for the shell:
$ ldd /bin/bash
linux-gate.so.1 => (0xb7799000)
libtinfo.so.5 => /lib/i386-linux-gnu/libtinfo.so.5 (0xb7765000)
libdl.so.2 => /lib/i386-linux-gnu/libdl.so.2 (0xb7760000)
libc.so.6 => /lib/i386-linux-gnu/libc.so.6 (0xb75b5000)
/lib/ld-linux.so.2 (0xb779a000)
In the interest of optimal performance and flexibility, executables
alone don’t usually know the locations of their shared libraries; they know
only the names of the libraries, and perhaps a little hint about where to find
them. A small program named ld.so (the runtime dynamic linker/loader) finds
and loads shared libraries for a program at runtime. The preceding ldd output
shows the library names on the left—that’s what the executable knows.
The right side shows where ld.so finds the library.
316 Chapter 15
The final line of output here shows the actual location of ld.so:
ld-linux.so.2.
How ld.so Finds Shared Libraries
One of the common trouble points for shared libraries is that the dynamic
linker cannot find a library. The first place the dynamic linker should normally
look for shared libraries is an executable’s preconfigured runtime library
search path (rpath), if it exists. You’ll see how to create this path shortly.
Next, the dynamic linker looks in a system cache, /etc/ld.so.cache, to see
if the library is in a standard location. This is a fast cache of the names of
library files found in directories listed in the cache configuration file /etc/
ld.so.conf.
NOT E As is typical of many of the Linux configuration files that you’ve seen, ld.so.conf
may include a number of files in a directory such as /etc/ld.so.conf.d.
Each line in ld.so.conf is a directory that you want to include in the cache.
The list of directories is usually short, containing something like this:
/lib/i686-linux-gnu
/usr/lib/i686-linux-gnu
The standard library directories /lib and /usr/lib are implicit, which
means that you don’t need to include them in /etc/ld.so.conf.
If you alter ld.so.conf or make a change to one of the shared library
directories, you must rebuild the /etc/ld.so.cache file by hand with the following
command:
# ldconfig -v
The -v option provides detailed information on libraries that ldconfig
adds to the cache and any changes that it detects.
There is one more place that ld.so looks for shared libraries: the environment
variable LD_LIBRARY_PATH. We’ll talk about this soon.
Don’t get into the habit of adding stuff to /etc/ld.so.conf. You should
know what shared libraries are in the system cache, and if you put every
bizarre little shared library directory into the cache, you risk conflicts and
an extremely disorganized system. When you compile software that needs an
obscure library path, give your executable a built-in runtime library search
path. Let’s see how to do that.
Linking Programs Against Shared Libraries
Let’s say you have a shared library named libweird.so.1 in /opt/obscure/lib that
you need to link myprog against. Link the program as follows:
$ cc -o myprog myprog.o -Wl,-rpath=/opt/obscure/lib -L/opt/obscure/lib -lweird
Development Tools 317
The -Wl,-rpath option tells the linker to include a following directory
into the executable’s runtime library search path. However, even if you use
-Wl,-rpath, you still need the -L flag.
If you have a pre-existing binary, you can also use the patchelf program
to insert a different runtime library search path, but it’s generally better to
do this at compile time.
Problems with Shared Libraries
Shared libraries provide remarkable flexibility, not to mention some really
incredible hacks, but it’s also possible to abuse them to the point where
your system becomes an utter and complete mess. Three particularly bad
things can happen:
• Missing libraries
• Terrible performance
• Mismatched libraries
The number one cause of all shared library problems is the environment
variable named LD_LIBRARY_PATH. Setting this variable to a colondelimited
set of directory names makes ld.so search the given directories
before anything else when looking for a shared library. This is a cheap way
to make programs work when you move a library around, if you don’t have
the program’s source code and can’t use patchelf, or if you’re just too lazy
to recompile the executables. Unfortunately, you get what you pay for.
Never set LD_LIBRARY_PATH in shell startup files or when compiling software.
When the dynamic runtime linker encounters this variable, it must
often search through the entire contents of each specified directory more
times than you’d care to know. This causes a big performance hit, but more
importantly, you can get conflicts and mismatched libraries because the
runtime linker looks in these directories for every program.
If you must use LD_LIBRARY_PATH to run some crummy program for which
you don’t have the source (or an application that you’d rather not compile,
like Mozilla or some other beast), use a wrapper script. Let’s say your executable
is /opt/crummy/bin/crummy.bin and needs some shared libraries in
/opt/crummy/lib. Write a wrapper script called crummy that looks like this:
#!/bin/sh
LD_LIBRARY_PATH=/opt/crummy/lib
export LD_LIBRARY_PATH
exec /opt/crummy/bin/crummy.bin $@
Avoiding LD_LIBRARY_PATH prevents most shared library problems. But one
other significant problem that occasionally comes up with developers is that
a library’s application programming interface (API) may change slightly
from one minor version to another, breaking installed software. The best
solutions here are preventive: Either use a consistent methodology to install
shared libraries with -Wl,-rpath to create a runtime link path or simply use
the static versions of obscure libraries.
318 Chapter 15
15.2 make
A program with more than one source code file or that requires strange
compiler options is too cumbersome to compile by hand. This problem has
been around for years, and the traditional Unix compile management utility
that eases these pains is called make. You should know a little about make
if you’re running a Unix system, because system utilities sometimes rely on
make to operate. However, this chapter is only the tip of the iceberg. There
are entire books on make, such as Managing Projects with GNU Make by Robert
Mecklenburg (O’Reilly, 2004). In addition, most Linux packages are built
using an additional layer around make or a similar tool. There are many
build systems out there; we’ll look at one named autotools in Chapter 16.
make is a big system, but it’s not very difficult to get an idea of how it works.
When you see a file named Makefile or makefile, you know that you’re dealing
with make. (Try running make to see if you can build anything.)
The basic idea behind make is the target, a goal that you want to achieve. A
target can be a file (a .o file, an executable, and so on) or a label. In addition,
some targets depend on other targets; for instance, you need a complete set
of .o files before you can link your executable. These requirements are called
dependencies.
To build a target, make follows a rule, such as a rule for how to go from a
.c source file to a .o object file. make already knows several rules, but you can
customize these existing rules and create your own.
15.2.1 A Sample Makefile
The following very simple Makefile builds a program called myprog from
aux.c and main.c:
# object files
OBJS=aux.o main.o
all: myprog
myprog: $(OBJS)
$(CC) -o myprog $(OBJS)
The # in the first line of this Makefile denotes a comment.
The next line is just a macro definition; it sets the OBJS variable to two
object filenames. This will be important later. For now, take note of how you
define the macro and also how you reference it later ($(OBJS)).
The next item in the Makefile contains its first target, all. The first target
is always the default, the target that make wants to build when you run
make by itself on the command line.
The rule for building a target comes after the colon. For all, this
Makefile says that you need to satisfy something called myprog. This is the
first dependency in the file; all depends on myprog. Note that myprog can be
an actual file or the target of another rule. In this case, it’s both (the rule
for all and the target of OBJS).
Development Tools 319
To build myprog, this Makefile uses the macro $(OBJS) in the dependencies.
The macro expands to aux.o and main.o, so myprog depends on these
two files (they must be actual files, because there aren’t any targets with
those names anywhere in the Makefile).
This Makefile assumes that you have two C source files named aux.c and
main.c in the same directory. Running make on the Makefile yields the following
output, showing the commands that make is running:
$ make
cc -c -o aux.o aux.c
cc -c -o main.o main.c
cc -o myprog aux.o main.o
A diagram of the dependencies is shown in Figure 15-1.
myprog
main.o aux.o
main.c aux.c
Figure 15-1: Makefile dependencies
15.2.2 Built-in Rules
So how does make know how to go from aux.c to aux.o? After all, aux.c is not
in the Makefile. The answer is that make follows its built-in rules. It knows to
look for a .c file when you want a .o file, and furthermore, it knows how to
run cc -c on that .c file to get to its goal of creating a .o file.
15.2.3 Final Program Build
The final step in getting to myprog is a little tricky, but the idea is clear
enough. After you have the two object files in $(OBJS), you can run the
C compiler according to the following line (where $(CC) expands to the
compiler name):
$(CC) -o myprog $(OBJS)
The whitespace before $(CC) is a tab. You must insert a tab before any
real command, on its own line.
320 Chapter 15
Watch out for this:
Makefile:7: *** missing separator. Stop.
An error like this means that the Makefile is broken. The tab is the
separator, and if there is no separator or there’s some other interference,
you’ll see this error.
15.2.4 Staying Up-to-Date
One last make fundamental is that targets should be up-to-date with their
dependencies. If you type make twice in a row for the preceding example,
the first command builds myprog, but the second yields this output:
make: Nothing to be done for ‘all’.
This second time through, make looked at its rules and noticed that
myprog already exists, so it didn’t build myprog again because none of the
dependencies had changed since it was last built. To experiment with this,
do the following:
1. Run touch aux.c.
2. Run make again. This time, make determines that aux.c is newer than the
aux.o already in the directory, so it compiles aux.o again.
3. myprog depends on aux.o, and now aux.o is newer than the preexisting
myprog, so make must create myprog again.
This type of chain reaction is very typical.
15.2.5 Command-Line Arguments and Options
You can get a great deal of mileage out of make if you know how its commandline
arguments and options work.
One of the most useful options is to specify a single target on the command
line. For the preceding Makefile, you can run make aux.o if you want
only the aux.o file.
You can also define a macro on the command line. For example, to use
the clang compiler, try
$ make CC=clang
Here, make uses your definition of CC instead of its default compiler, cc.
Command-line macros come in handy when testing preprocessor definitions
and libraries, especially with the CFLAGS and LDFLAGS macros that we’ll
discuss shortly.
In fact, you don’t even need a Makefile to run make. If built-in make rules
match a target, you can just ask make to try to create the target. For example,
Development Tools 321
if you have the source to a very simple program called blah.c, try make blah.
The make run proceeds like this:
$ make blah
cc blah.o -o blah
This use of make works only for the most elementary C programs; if your
program needs a library or special include directory, you should probably
write a Makefile. Running make without a Makefile is actually most useful
when you’re dealing with something like Fortran, Lex, or Yacc and don’t
know how the compiler or utility works. Why not let make try to figure it out
for you? Even if make fails to create the target, it will probably still give you a
pretty good hint as to how to use the tool.
Two make options stand out from the rest:
-n Prints the commands necessary for a build but prevents make from
actually running any commands
-f file Tells make to read from file instead of Makefile or makefile
15.2.6 Standard Macros and Variables
make has many special macros and variables. It’s difficult to tell the difference
between a macro and a variable, so we’ll use the term macro to mean
something that usually doesn’t change after make starts building targets.
As you saw earlier, you can set macros at the start of your Makefile.
These are the most common macros:
CFLAGS C compiler options. When creating object code from a .c file,
make passes this as an argument to the compiler.
LDFLAGS Like CFLAGS, but they’re for the linker when creating an executable
from object code.
LDLIBS If you use LDFLAGS but do not want to combine the library name
options with the search path, put the library name options in this file.
CC The C compiler. The default is cc.
CPPFLAGS C preprocessor options. When make runs the C preprocessor in
some way, it passes this macro’s expansion on as an argument.
CXXFLAGS GNU make uses this for C++ compiler flags.
A make variable changes as you build targets. Because you never set make
variables by hand, the following list includes the $.
$@ When inside a rule, this expands to the current target.
$* Expands to the basename of the current target. For example, if
you’re building blah.o, this expands to blah.
The most comprehensive list of make variables on Linux is the make info
manual.
322 Chapter 15
NOT E Keep in mind that GNU make has many extensions, built-in rules, and features that
other variants do not have. This is fine as long as you’re running Linux, but if you
step off onto a Solaris or BSD machine and expect the same stuff to work, you might
be in for a surprise. However, that’s the problem that multi-platform build systems
such as GNU autotools solve.
15.2.7 Conventional Targets
Most Makefiles contain several standard targets that perform auxiliary tasks
related to compiles.
clean The clean target is ubiquitous; a make clean usually instructs
make to remove all of the object files and executables so that you can
make a fresh start or pack up the software. Here’s an example rule for
the myprog Makefile:
clean:
rm -f $(OBJS) myprog
distclean A Makefile created by way of the GNU autotools system
always has a distclean target to remove everything that wasn’t part of
the original distribution, including the Makefile. You’ll see more of
this in Chapter 16. On very rare occasions, you might find that a developer
opts not to remove the executable with this target, preferring
something like realclean instead.
install Copies files and compiled programs to what the Makefile
thinks is the proper place on the system. This can be dangerous, so
always run a make -n install first to see what will happen without actually
running any commands.
test or check Some developers provide test or check targets to make
sure that everything works after performing a build.
depend Creates dependencies by calling the compiler with -M to examine
the source code. This is an unusual-looking target because it often
changes the Makefile itself. This is no longer common practice, but if
you come across some instructions telling you to use this rule, make
sure to do so.
all Often the first target in the Makefile. You’ll often see references to
this target instead of an actual executable.
15.2.8 Organizing a Makefile
Even though there are many different Makefile styles, most programmers
adhere to some general rules of thumb. For one, in the first part of the
Makefile (inside the macro definitions), you should see libraries and
includes grouped according to package:
MYPACKAGE_INCLUDES=-I/usr/local/include/mypackage
MYPACKAGE_LIB=-L/usr/local/lib/mypackage -lmypackage
Development Tools 323
PNG_INCLUDES=-I/usr/local/include
PNG_LIB=-L/usr/local/lib -lpng
Each type of compiler and linker flag often gets a macro like this:
CFLAGS=$(CFLAGS) $(MYPACKAGE_INCLUDES) $(PNG_INCLUDES)
LDFLAGS=$(LDFLAGS) $(MYPACKAGE_LIB) $(PNG_LIB)
Object files are usually grouped according to executables. For example,
say you have a package that creates executables called boring and trite. Each
has its own .c source file and requires the code in util.c. You might see something
like this:
UTIL_OBJS=util.o
BORING_OBJS=$(UTIL_OBJS) boring.o
TRITE_OBJS=$(UTIL_OBJS) trite.o
PROGS=boring trite
The rest of the Makefile might look like this:
all: $(PROGS)
boring: $(BORING_OBJS)
$(CC) -o $@ $(BORING_OBJS) $(LDFLAGS)
trite: $(TRITE_OBJS)
$(CC) -o $@ $(TRITE_OBJS) $(LDFLAGS)
You could combine the two executable targets into one rule, but it’s usually
not a good idea to do so because you would not easily be able to move a
rule to another Makefile, delete an executable, or group executables differently.
Furthermore, the dependencies would be incorrect: If you had just one
rule for boring and trite, trite would depend on boring.c, boring would depend
on trite.c, and make would always try to rebuild both programs whenever you
changed one of the two source files.
NOT E If you need to define a special rule for an object file, put the rule for the object file just
above the rule that builds the executable. If several executables use the same object file,
put the object rule above all of the executable rules.
15.3 Debuggers
The standard debugger on Linux systems is gdb; user-friendly frontends
such as the Eclipse IDE and Emacs systems are also available. To enable full
324 Chapter 15
debugging in your programs, run the compiler with -g to write a symbol
table and other debugging information into the executable. To start gdb
on an executable named program, run
$ gdb program
You should get a (gdb) prompt. To run program with the command-line
argument options, enter this at the (gdb) prompt:
(gdb) run options
If the program works, it should start, run, and exit as normal. However,
if there’s a problem, gdb stops, prints the failed source code, and throws you
back to the (gdb) prompt. Because the source code fragment often hints
at the problem, you’ll probably want to print the value of a particular variable
that the trouble may be related to. (The print command also works for
arrays and C structures.)
(gdb) print variable
To make gdb stop the program at any point in the original source code,
use the breakpoint feature. In the following command, file is a source code
file, and line_num is the line number in that file where gdb should stop:
(gdb) break file:line_num
To tell gdb to continue executing the program, use
(gdb) continue
To clear a breakpoint, enter
(gdb) clear file:line_num
This section has provided only the briefest introduction to gdb, which
includes an extensive manual that you can read online, in print, or buy
as Debugging with GDB, 10th edition, by Richard M. Stallman et al. (GNU
Press, 2011). The Art of Debugging by Norman Matloff and Peter Jay Salzman
(No Starch Press, 2008) is another guide to debugging.
NOT E If you’re interested in rooting out memory problems and running profiling tests, try
Valgrind ( http://valgrind.org/).
15.4 Lex and Yacc
You might encounter Lex and Yacc when compiling programs that read
configuration files or commands. These tools are building blocks for programming
languages.
Development Tools 325
• Lex is a tokenizer that transforms text into numbered tags with labels.
The GNU/Linux version is named flex. You may need a -ll or -lfl
linker flag in conjunction with Lex.
• Yacc is a parser that attempts to read tokens according to a grammar. The
GNU parser is bison; to get Yacc compatibility, run bison -y. You may
need the -ly linker flag.
15.5 Scripting Languages
A long time ago, the average Unix systems manager didn’t have to worry
much about scripting languages other than the Bourne shell and awk.
Shell scripts (discussed in Chapter 11) continue to be an important part
of Unix, but awk has faded somewhat from the scripting arena. However,
many powerful
successors have arrived, and many systems programs have
actually switched from C to scripting languages (such as the sensible version
of the whois program). Let’s look at some scripting basics.
The first thing you need to know about any scripting language is that
the first line of a script looks like the shebang of a Bourne shell script. For
example, a Python script starts out like this:
#!/usr/bin/python
Or this:
#!/usr/bin/env python
In Unix, any executable text file that starts with #! is a script. The
pathname following this prefix is the scripting language interpreter executable.
When Unix tries to run an executable file that starts with a #! shebang,
it runs the program following the #! with the rest of the file as the standard
input. Therefore, even this is a script:
#!/usr/bin/tail -2
This program won’t print this line,
but it will print this line...
and this line, too.
The first line of a shell script often contains one of the most common
basic script problems: an invalid path to the scripting language interpreter.
For example, say you named the previous script myscript. What if tail were
actually in /bin instead of /usr/bin on your system? In that case, running
myscript would produce this error:
bash: ./myscript: /usr/bin/tail: bad interpreter: No such file or directory
Don’t expect more than one argument in the script’s first line to work.
That is, the -2 in the preceding example might work, but if you add another
326 Chapter 15
argument, the system could decide to treat the -2 and the new argument
as one big argument, spaces and all. This can vary from system to system;
don’t test your patience on something as insignificant as this.
Now, let’s look at a few of the languages out there.
15.5.1 Python
Python is a scripting language with a strong following and an array of
powerful features, such as text processing, database access, networking,
and multithreading. It has a powerful interactive mode and a very organized
object model.
Python’s executable is python, and it’s usually in /usr/bin. However,
Python isn’t used just from the command line for scripts. One place you’ll
find it is as a tool to build websites. Python Essential Reference, 4th edition, by
David M. Beazley (Addison-Wesley, 2009) is a great reference with a small
tutorial at the beginning to get you started.
15.5.2 Perl
One of the older third-party Unix scripting languages is Perl. It’s the original
“Swiss army chainsaw” of programming tools. Although Perl has lost a
fair amount of ground to Python in recent years, it excels in particular at
text processing, conversion, and file manipulation, and you may find many
tools built with it. Learning Perl, 6th edition, by Randal L. Schwartz, brian
d foy, and Tom Phoenix(O’Reilly, 2011) is a tutorial-style introduction; a
larger reference is Modern Perl by Chromatic (Onyx Neon Press, 2014).
15.5.3 Other Scripting Languages
You might also encounter these scripting languages:
PHP This is a hypertext-processing language often found in dynamic
web scripts. Some people use PHP for standalone scripts. The PHP website
is at http://www.php.net/.
Ruby Object-oriented fanatics and many web developers enjoy programming
in this language (http://www.ruby-lang.org/).
JavaScript This language is used inside web browsers primarily to
manipulate dynamic content. Most experienced programmers shun it
as a standalone scripting language due to its many flaws, but it’s nearly
impossible to avoid when doing web programming. You might find an
implementation called Node.js with an executable name of node on your
system.
Emacs Lisp A variety of the Lisp programming language used by the
Emacs text editor.
Matlab, Octave Matlab is a commercial matrix and mathematical programming
language and library. There is a very similar free software
project called Octave.
Development Tools 327
R A popular free statistical analysis language. See http://www.r-project
.org/ and The Art of R Programming by Norman Matloff (No Starch Press,
2011) for more information.
Mathematica Another commercial mathematical programming language
with libraries.
m4 This is a macro-processing language, usually found only in the
GNU autotools.
Tcl Tcl (tool command language) is a simple scripting language usually
associated with the Tk graphical user interface toolkit and Expect,
an automation utility. Although Tcl does not enjoy the widespread use
that it once did, don’t discount its power. Many veteran developers prefer
Tk, especially for its embedded capabilities. See http://www.tcl.tk/ for
more on Tk.
15.6 Java
Java is a compiled language like C, with a simpler syntax and powerful support
for object-oriented programming. It has a few niches in Unix systems.
For one, it’s often used as a web application environment, and it’s popular
for specialized applications. For example, Android applications are usually
written in Java. Even though it’s not often seen on a typical Linux desktop,
you should know how Java works, at least for standalone applications.
There are two kinds of Java compilers: native compilers for producing
machine code for your system (like a C compiler) and bytecode compilers
for use by a bytecode interpreter (sometimes called a virtual machine, which
is different from the virtual machine offered by a hypervisor, as described
in Chapter 17). You’ll practically always encounter bytecode on Linux.
Java bytecode files end in .class. The Java runtime environment (JRE)
contains all of the programs you need to run Java bytecode. To run a bytecode
file, use
$ java file.class
You might also encounter bytecode files that end in .jar, which are collections
of archived .class files. To run a .jar file, use this syntax:
$ java -jar file.jar
Sometimes you need to set the JAVA_HOME environment variable to your
Java installation prefix. If you’re really unlucky, you might need to use
CLASSPATH to include any directories containing classes that your program
expects. This is a colon-delimited set of directories like the regular PATH
variable for executables.
328 Chapter 15
If you need to compile a .java file into bytecode, you need the Java
Development Kit (JDK). You can run the javac compiler from JDK to create
some .class files:
$ javac file.java
JDK also comes with jar, a program that can create and pick apart .jar
files. It works like tar.
15.7 Looking Forward: Compiling Packages
The world of compilers and scripting languages is vast and constantly
expanding. As of this writing, new compiled languages such as Go
(golang) and Swift are gaining popularity.
The LLVM compiler infrastructure set (http://llvm.org/) has significantly
eased compiler development. If you’re interested in how to design and implement
a compiler, two good books are Compilers: Principles, Techniques, and
Tools, 2nd edition, by Alfred V. Aho et al. (Addison-Wesley, 2006) and Modern
Compiler Design, 2nd edition, by Dick Grune et al. (Springer, 2012). For scripting
language development, it’s usually best to look for online resources, as
the implementations vary widely.
Now that you know the basics of the programming tools on the system,
you’re ready to see what they can do. The next chapter is all about how you
can build packages on Linux from source code.
16
Introduction to Compiling
Sof tware from C Source Code
Most nonproprietary third-party Unix
software packages come as source code
that you can build and install. One reason
for this is that Unix (and Linux itself)
has so many different flavors and architectures that it
would be difficult to distribute binary packages for all
possible platform combinations. The other reason, which is at least as important,
is that widespread source code distribution throughout the Unix community
encourages users to contribute bug fixes and new features to software,
giving meaning to the term open source.
You can get nearly everything you see on a Linux system as source
code—from the kernel and C library to the web browsers. It’s even possible
to update and augment your entire system by (re-)installing parts of your
system from the source code. However, you probably shouldn’t update your
machine by installing everything from source code, unless you really enjoy
the process or have some other reason.
Linux distributions typically provide easier ways to update core parts
of the system, such as the programs in /bin, and one particularly important
330 Chapter 16
property of distributions is that they usually fix security problems very quickly.
But don’t expect your distribution to provide everything for you. Here are
some reasons why you may want to install certain packages yourself:
• To control configuration options.
• To install the software anywhere you like. You can even install several
different versions of the same package.
• To control the version that you install. Distributions don’t always stay
up-to-date with the latest versions of all packages, particularly add-ons
to software packages (such as Python libraries).
• To better understand how a package works.
16.1 Software Build Systems
There are many programming environments on Linux, from traditional
C to interpreted scripting languages such as Python. Each typically has at
least one distinct system for building and installing packages in addition to
the tools that a Linux distribution provides.
We’re going to look at compiling and installing C source code in this
chapter with only one of these build systems—the configuration scripts
generated from the GNU autotools suite. This system is generally considered
stable, and many of the basic Linux utilities use it. Because it’s based
on existing tools such as make, after you see it in action, you’ll be able to
transfer your knowledge to other build systems.
Installing a package from C source code usually involves the following
steps:
1. Unpack the source code archive.
2. Configure the package.
3. Run make to build the programs.
4. Run make install or a distribution-specific install command to install
the package.
NOT E You should understand the basics in Chapter 15 before proceeding with this chapter.
16.2 Unpacking C Source Packages
A package’s source code distribution usually comes as a .tar.gz, .tar.bz2, or
.tar.xz file, and you should unpack the file as described in Section 2.18.
Before you unpack, though, verify the contents of the archive with tar tvf
or tar ztvf, because some packages don’t create their own subdirectories in
the directory where you extract the archive.
Introduction to Compiling Software from C Source Code 331
Output like this means that the package is probably okay to unpack:
package-1.23/Makefile.in
package-1.23/README
package-1.23/main.c
package-1.23/bar.c
--snip--
However, you may find that not all files are in a common directory (like
package-1.23 in the preceding example):
Makefile
README
main.c
--snip--
Extracting an archive like this one can leave a big mess in your current
directory. To avoid that, create a new directory and cd there before extracting
the contents of the archive.
Finally, beware of packages that contain files with absolute pathnames
like this:
/etc/passwd
/etc/inetd.conf
You likely won’t come across anything like this, but if you do, remove
the archive from your system. It probably contains a Trojan horse or some
other malicious code.
16.2.1 Where to Start
Once you’ve extracted the contents of a source archive and have a bunch
of files in front of you, try to get a feel for the package. In particular, look
for the files README and INSTALL. Always look at any README files first
because they often contain a description of the package, a small manual,
installation hints, and other useful information. Many packages also come with
INSTALL files with instructions on how to compile and install the package.
Pay particular attention to special compiler options and definitions.
In addition to README and INSTALL files, you will find other package
files that roughly fall into three categories:
• Files relating to the make system, such as Makefile, Makefile.in, configure,
and CMakeLists.txt. Some very old packages come with a Makefile that
you may need to modify, but most use a configuration utility such as
GNU autoconf or CMake. They come with a script or configuration file
(such as configure or CMakeLists.txt) to help generate a Makefile from
Makefile.in based on your system settings and configuration options.
332 Chapter 16
• Source code files ending in .c, .h, or .cc. C source code files may appear
just about anywhere in a package directory. C++ source code files usually
have .cc, .C, or .cxx suffixes.
• Object files ending in .o or binaries. Normally, there aren’t any object
files in source code distributions, but you might find some in rare cases
when the package maintainer is not permitted to release certain source
code and you need to do something special in order to use the object
files. In most cases, object (or binary executable) files in a source distribution
mean that the package wasn’t put together well, and you should
run make clean to make sure that you get a fresh compile.
16.3 GNU Autoconf
Even though C source code is usually fairly portable, differences on each platform
make it impossible to compile most packages with a single Makefile.
Early solutions to this problem were to provide individual Makefiles for
every operating system or to provide a Makefile that was easy to modify.
This approach evolved into scripts that generate Makefiles based on an
analysis of the system used to build the package.
GNU autoconf is a popular system for automatic Makefile generation.
Packages using this system come with files named configure, Makefile.in, and
config.h.in. The .in files are templates; the idea is to run the configure script
in order to discover the characteristics of your system, then make substitutions
in the .in files to create the real build files. For the end user, it’s easy;
to generate a Makefile from Makefile.in, run configure:
$ ./configure
You should get a lot of diagnostic output as the script checks your
system for prerequisites. If all goes well, configure creates one or more
Makefiles and a config.h file, as well as a cache file (config.cache), so that it
doesn’t need to run certain tests again.
Now you can run make to compile the package. A successful configure
step doesn’t necessarily mean that the make step will work, but the chances
are pretty good. (See Section 16.6 for troubleshooting failed configures and
compiles.)
Let’s get some firsthand experience with the process.
NOT E At this point, you must have all of the required build tools available on your system.
For Debian and Ubuntu, the easiest way is to install the build-essential package; in
Fedora-like systems, use the “Development Tools” groupinstall.
16.3.1 An Autoconf Example
Before discussing how you can change the behavior of autoconf, let’s look
at a simple example so that you know what to expect. You’ll install the GNU
coreutils package in your own home directory (to make sure that you don’t
Introduction to Compiling Software from C Source Code 333
mess up your system). Get the package from http://ftp.gnu.org/gnu/coreutils/
(the latest version is usually the best), unpack it, change to its directory, and
configure it like this:
$ ./configure --prefix=$HOME/mycoreutils
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
--snip--
config.status: executing po-directories commands
config.status: creating po/POTFILES
config.status: creating po/Makefile
Now run make:
$ make
GEN lib/alloca.h
GEN lib/c++defs.h
--snip--
make[2]: Leaving directory ‘/home/juser/coreutils-8.22/gnulib-tests’
make[1]: Leaving directory ‘/home/juser/coreutils-8.22’
Next, try to run one of the executables that you just created, such as
./src/ls, and try running make check to run a series of tests on the package.
(This might take a while, but it’s interesting to see.)
Finally, you’re ready to install the package. Do a dry run with make -n
first to see what make install does without actually doing the install:
$ make -n install
Browse through the output, and if nothing seems strange (such as installing
anywhere other than your mycoreutils directory), do the install for real:
$ make install
You should now have a subdirectory named mycoreutils in your home
directory that contains bin, share, and other subdirectories. Check out
some of the programs in bin (you just built many of the basic tools that you
learned in Chapter 2). Finally, because you configured the mycoreutils directory
to be independent of the rest of your system, you can remove it completely
without worrying about causing damage.
16.3.2 Installing Using a Packaging Tool
On most distributions, it’s possible to install new software as a package that
you can maintain later with your distribution’s packaging tools. Debian-based
distributions such as Ubuntu are perhaps the easiest; rather than running a
plain make install, you can do it with the checkinstall utility, as follows:
# checkinstall make install
334 Chapter 16
Use the --pkgname=name option to give your new package a specific name.
Creating an RPM package is a little more involved, because you must
first create a directory tree for your package(s). You can do this with the
rpmdev-setuptree command; when complete, you can use the rpmbuild utility
to work through the rest of the steps. It’s best to follow an online tutorial for
this process.
16.3.3 configure Script Options
You’ve just seen one of the most useful options for the configure script: using
--prefix to specify the installation directory. By default, the install target
from an autoconf-generated Makefile uses a prefix of /usr/local—that is,
binary programs go in /usr/local/bin, libraries go in /usr/local/lib, and so on.
You will often want to change that prefix like this:
$ ./configure --prefix=new_prefix
Most versions of configure have a --help option that lists other configuration
options. Unfortunately, the list is usually so long that it’s sometimes hard
to figure out what might be important, so here are some essential options:
--bindir=directory Installs executables in directory.
--sbindir=directory Installs system executables in directory.
--libdir=directory Installs libraries in directory.
--disable-shared Prevents the package from building shared libraries.
Depending on the library, this can save hassles later on (see
Section 15.1.4).
--with-package=directory Tells configure that package is in directory.
This is handy when a necessary library is in a nonstandard location.
Unfortunately, not all configure scripts recognize this type of option,
and it can be difficult to determine the exact syntax.
Using Separate Build Directories
You can create separate build directories if you want to experiment with
some of these options. To do so, create a new directory anywhere on the system
and, from that directory, run the configure script in the original package
source code directory. You’ll find that configure then makes a symbolic
link farm in your new build directory, where all of the links point back to
the source tree in the original package directory. (Some developers prefer
that you build packages this way, because the original source tree is never
modified. This is also useful if you want to build for more than one platform
or configuration option set using the same source package.)
16.3.4 Environment Variables
You can influence configure with environment variables that the configure
script puts into make variables. The most important ones are CPPFLAGS,
CFLAGS, and LDFLAGS. But be aware that configure can be very picky about
Introduction to Compiling Software from C Source Code 335
environment variables. For example, you should normally use CPPFLAGS
instead of CFLAGS for header file directories, because configure often runs the
preprocessor independently of the compiler.
In bash, the easiest way to send an environment variable to configure is
by placing the variable assignment in front of ./configure on the command
line. For example, to define a DEBUG macro for the preprocessor, use this
command:
$ CPPFLAGS=-DDEBUG ./configure
NOT E You can also pass a variable as an option to configure; for example:
$ ./configure CPPFLAGS=-DDEBUG
Environment variables are especially handy when configure doesn’t
know where to look for third-party include files and libraries. For example,
to make the preprocessor search in include_dir, run this command:
$ CPPFLAGS=-Iinclude_dir ./configure
As shown in Section 15.2.6, to make the linker look in lib_dir, use this
command:
$ LDFLAGS=-Llib_dir ./configure
If lib_dir has shared libraries (see Section 15.1.4), the previous command
probably won’t set the runtime dynamic linker path. In that case, use
the -rpath linker option in addition to -L:
$ LDFLAGS="-Llib_dir -Wl,-rpath=lib_dir" ./configure
Be careful when setting variables. A small slip can trip up the compiler and
cause configure to fail. For example, say you forget the - in -I, as shown here:
$ CPPFLAGS=Iinclude_dir ./configure
This yields an error like this:
configure: error: C compiler cannot create executables
See ‘config.log’ for more details
Digging through the config.log generated from this failed attempt
yields this:
configure:5037: checking whether the C compiler works
configure:5059: gcc Iinclude_dir conftest.c >&5
gcc: error: Iinclude_dir: No such file or directory
configure:5063: $? = 1
configure:5101: result: no
336 Chapter 16
16.3.5 Autoconf Targets
Once you get configure working, you’ll find that the Makefile that it generates
has a number of other useful targets in addition to the standard all
and install:
make clean As described in Chapter 15, this removes all object files,
executables, and libraries.
make distclean This is similar to make clean except that it removes all
automatically generated files, including Makefiles, config.h, config.log,
and so on. The idea is that the source tree should look like a newly
unpacked distribution after running make distclean.
make check Some packages come with a battery of tests to verify that the
compiled programs work properly; the command make check runs the
tests.
make install-strip This is like make install except that it strips the
symbol table and other debugging information from executables and
libraries when installing. Stripped binaries require much less space.
16.3.6 Autoconf Log Files
If something goes wrong during the configure process and the cause isn’t
obvious, you can examine config.log to find the problem. Unfortunately,
config.log is often a gigantic file, which can make it difficult to locate the
exact source of the problem.
The general approach to finding the problem is to go to the very end of
config.log (for example, by pressing G in less) and then page back up until
you see the problem. However, there is still a lot of stuff at the end because
configure dumps its entire environment there, including output variables,
cache variables, and other definitions. So rather than going to the end
and paging up, go to the end and search backward for a string such as for
more details or some other part near the end of the failed configure output.
(Remember that you can initiate a reverse search in less with the ? command.)
There’s a good chance that the error will be just above what your search finds.
16.3.7 pkg-config
There are so many third-party libraries that keeping all of them in a common
location can be messy. However, installing each with a separate prefix
can lead to problems when building packages that require these third-party
libraries. For example, if you want to compile OpenSSH, you need the
OpenSSL library. How do you tell the OpenSSH configuration process the
location of the OpenSSL libraries and which libraries are required?
Many libraries now use the pkg-config program not only to advertise
the locations of their include files and libraries but also to specify the exact
flags that you need to compile and link a program. The syntax is as follows:
$ pkg-config options package1 package2 ...
Introduction to Compiling Software from C Source Code 337
For example, to find the libraries required for OpenSSL, you can run
this command:
$ pkg-config --libs openssl
The output should be something like this:
-lssl -lcrypto
To see all libraries that pkg-config knows about, run this command:
$ pkg-config --list-all
How pkg-config Works
If you look behind the scenes, you will find that pkg-config finds package
information by reading configuration files that end with .pc. For example,
here is openssl.pc for the OpenSSL socket library, as seen on an Ubuntu system
(located in /usr/lib/i386-linux-gnu/pkgconfig):
prefix=/usr
exec_prefix=${prefix}
libdir=${exec_prefix}/lib/i386-linux-gnu
includedir=${prefix}/include
Name: OpenSSL
Description: Secure Sockets Layer and cryptography libraries and tools
Version: 1.0.1
Requires:
Libs: -L${libdir} -lssl -lcrypto
Libs.private: -ldl -lz
Cflags: -I${includedir} exec_prefix=${prefix}
You can change this file, for example, by adding -Wl,-rpath=${libdir} to
the library flags to set a runtime dynamic linker path. However, the bigger
question is how pkg-config finds the .pc files in the first place. By default,
pkg-config looks in the lib/pkgconfig directory of its installation prefix. For
example, a pkg-config installed with a /usr/local prefix looks in /usr/local/lib/
pkgconfig.
Installing pkg-config Files in Nonstandard Locations
Unfortunately, by default, pkg-config does not read any .pc files outside its
installation prefix. So a .pc file that’s in a nonstandard location, such as /opt/
openssl/lib/pkgconfig/openssl.pc, will be out of the reach of any stock pkg-config
installation. There are two basic ways to make .pc files available outside of
the pkg-config installation prefix:
• Make symbolic links (or copies) from the actual .pc files to the central
pkgconfig directory.
338 Chapter 16
• Set your PKG_CONFIG_PATH environment variable to include any extra pkgconfig
directories. This strategy does not work well on a system-wide basis.
16.4 Installation Practice
Knowing how to build and install software is good, but knowing when and
where to install your own packages is even more useful. Linux distributions
try to cram in as much software as possible at installation, and you should
always check whether it would be best to install a package yourself instead.
Here are the advantages of doing installs on your own:
• You can customize package defaults.
• When installing a package, you often get a clearer picture of how to use
the package.
• You control the release that you run.
• It’s easier to back up a custom package.
• It’s easier to distribute self-installed packages across a network (as long
as the architecture is consistent and the installation location is relatively
isolated).
Here are the disadvantages:
• It takes time.
• Custom packages do not automatically upgrade themselves. Distributions
keep most packages up-to-date without requiring much work. This is a
particular concern for packages that interact with the network, because
you want to ensure that you always have the latest security updates.
• If you don’t actually use the package, you’re wasting your time.
• There is a potential for misconfiguring packages.
There’s not much point in installing packages such as the ones in the
coreutils package that you built earlier in the chapter (ls, cat, and so on)
unless you’re building a very custom system. On the other hand, if you have
a vital interest in network servers such as Apache, the best way to get complete
control is to install the servers yourself.
16.4.1 Where to Install
The default prefix in GNU autoconf and many other packages is /usr/local,
the traditional directory for locally installed software. Operating system
upgrades ignore /usr/local, so you won’t lose anything installed there during
an operating system upgrade and for small local software installations,
/usr/local is fine. The only problem is that if you have a lot of custom software
installed, this can turn into a terrible mess. Thousands of odd little
files can make their way into the /usr/local hierarchy, and you may have no
idea where the files came from.
If things really start to get unruly, you should create your own packages
as described in Section 16.3.2.
Introduction to Compiling Software from C Source Code 339
16.5 Applying a Patch
Most changes to software source code are available as branches of the developer’s
online version of the source code (such as a git repository). However,
every now and then, you might get a patch that you need to apply against
source code to fix bugs or add features. You may also see the term diff used
as a synonym for patch, because the diff program produces the patch.
The beginning of a patch looks something like this:
--- src/file.c.orig 2015-07-17 14:29:12.000000000 +0100
+++ src/file.c 2015-09-18 10:22:17.000000000 +0100
@@ -2,16 +2,12 @@
Patches usually contain alterations to more than one file. Search the
patch for three dashes in a row (---) to see the files that have alterations
and always look at the beginning of a patch to determine the required
working directory. Notice that the preceding example refers to src/file.c.
Therefore, you should change to the directory that contains src before
applying the patch, not to the src directory itself.
To apply the patch, run the patch command:
$ patch -p0 < patch_file
If everything goes well, patch exits without a fuss, leaving you with an
updated set of files. However, patch may ask you this question:
File to patch:
This usually means that you are not in the correct directory, but it
could also indicate that your source code does not match the source code
in the patch. In this case, you’re probably out of luck: Even if you could
identify some of the files to patch, others would not be properly updated,
leaving you with source code that you could not compile.
In some cases, you might come across a patch that refers to a package
version like this:
--- package-3.42/src/file.c.orig 2015-07-17 14:29:12.000000000 +0100
+++ package-3.42/src/file.c 2015-09-18 10:22:17.000000000 +0100
If you have a slightly different version number (or you just renamed
the directory), you can tell patch to strip leading path components. For
example, say you were in the directory that contains src (as before). To tell
patch to ignore the package-3.42/ part of the path (that is, strip one leading
path component), use -p1:
$ patch -p1 < patch_file
340 Chapter 16
16.6 Troubleshooting Compiles and Installations
If you understand the difference between compiler errors, compiler warnings,
linker errors, and shared library problems as described in Chapter 15, you
shouldn’t have too much trouble fixing many of the glitches that arise when
building software. This section covers some common problems. Although
you’re unlikely to run into any of these when building using autoconf, it
never hurts to know what these kinds of problems look like.
Before covering specifics, make sure that you can read certain kinds of
make output. It’s important to know the difference between an error and an
ignored error. The following is a real error that you need to investigate:
make: *** [target] Error 1
However, some Makefiles suspect that an error condition might occur
but know that these errors are harmless. You can usually disregard any messages
like this:
make: *** [target] Error 1 (ignored)
Furthermore, GNU make often calls itself many times in large packages,
with each instance of make in the error message marked with [N], where N is
a number. You can often quickly find the error by looking at the make error
that comes directly after the compiler error message. For example:
[compiler error message involving file.c]
make[3]: *** [file.o] Error 1
make[3]: Leaving directory ‘/home/src/package-5.0/src’
make[2]: *** [all] Error 2
make[2]: Leaving directory ‘/home/src/package-5.0/src’
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory ‘/home/src/package-5.0/’
make: *** [all] Error 2
The first three lines practically give it away: The trouble centers around
file.c located in /home/src/package-5.0/src. Unfortunately, there is so much
extra output that it can be difficult to spot the important details. Learning
how to filter out the subsequent make errors goes a long way toward digging
out the real cause.
16.6.1 Specific Errors
Here are some common build errors that you might encounter.
Problem
Compiler error message:
src.c:22: conflicting types for ‘item’
/usr/include/file.h:47: previous declaration of ‘item’
Introduction to Compiling Software from C Source Code 341
Explanation and Fix
The programmer made an erroneous redeclaration of item on line 22
of src.c. You can usually fix this by removing the offending line (with a
comment, an #ifdef, or whatever works).
Problem
Compiler error message:
src.c:37: ‘time_t’ undeclared (first use this function)
--snip--
src.c:37: parse error before ‘...’
Explanation and Fix
The programmer forgot a critical header file. The manual pages are
the best way to find the missing header file. First, look at the offending
line (in this case, line 37 in src.c). It’s probably a variable declaration
like the following:
time_t v1;
Search forward for v1 in the program for its use around a function
call. For example:
v1 = time(NULL);
Now run man 2 time or man 3 time to look for system and library calls
named time(). In this case, the section 2 manual page has what you need:
SYNOPSIS
#include <time.h>
time_t time(time_t *t);
This means that time() requires time.h. Place #include <time.h> at the
beginning of src.c and try again.
Problem
Compiler (preprocessor) error message:
src.c:4: pkg.h: No such file or directory
(long list of errors follows)
Explanation and Fix
The compiler ran the C preprocessor on src.c but could not find the
pkg.h include file. The source code likely depends on a library that
you need to install, or you may just need to provide the compiler with
the nonstandard include path. Usually, you will just need to add a
342 Chapter 16
-I include path option to the C preprocessor flags (CPPFLAGS). (Keep
in mind that you might also need a -L linker flag to go along with the
include files.)
If it doesn’t look as though you’re missing a library, there’s an
outside chance that you’re attempting a compile for an operating system
that this source code does not support. Check the Makefile and
README files for details about platforms.
If you’re running a Debian-based distribution, try the apt-file command
on the header filename:
$ apt-file search pkg.h
This might find the development package that you need. For distributions
that provide yum, you can try this instead:
$ yum provides */pkg.h
Problem
make error message:
make: prog: Command not found
Explanation and Fix
To build the package, you need prog on your system. If prog is something
like cc, gcc, or ld, you don’t have the development utilities installed on
your system. On the other hand, if you think prog is already installed
on your system, try altering the Makefile to specify the full pathname
of prog.
In rare cases, make builds prog and then uses prog immediately,
assuming that the current directory (.) is in your command path. If
your $PATH does not include the current directory, you can edit the
Makefile and change prog to ./prog. Alternatively, you could append . to
your path temporarily.
16.7 Looking Forward
We’ve only touched on the basics of building software. Here are some more
topics that you can explore after you get the hang of your own builds:
• Understanding how to use build systems other than autoconf, such as
CMake and SCons.
• Setting up builds for your own software. If you’re writing your own
software, you want to choose a build system and learn to use it. For
GNU autoconf packaging, Autotools by John Calcote (No Starch Press,
2010) can help you out.
Introduction to Compiling Software from C Source Code 343
• Compiling the Linux kernel. The kernel’s build system is completely
different from that of other tools. It has its own configuration system
tailored to customizing your own kernel and modules. The procedure
is straightforward, though, and if you understand how the boot loader
works, you won’t have any trouble with it. However, you should be careful
when doing so; make sure that you always keep your old kernel
handy in case you can’t boot with a new one.
• Distribution-specific source packages. Linux distributions maintain
their own versions of software source code as special source packages.
Sometimes you can find useful patches that expand functionality or
fix problems in otherwise unmaintained packages. The source package
management systems include tools for automatic builds, such as
Debian’s debuild and the RPM-based mock.
Building software is often a stepping-stone to learning about programming
and software development. The tools you’ve seen in the past two chapters
take the mystery out of where your system software came from. It’s not
difficult to take the next steps of looking inside the source code, making
changes, and creating your own software.

17
Building on the Basics
The chapters in this book have covered
the fundamental components of a Linux
system, from low-level kernel and process
organization, to networking, to some of the
tools used to build software. With all of that behind
you, what can you do now? Quite a lot, as it turns out!
Because Linux supports nearly every kind of non-proprietary
programming environment, it’s only natural
that a plethora of applications is available. Let’s look
at a few application areas where Linux excels and see
how what you’ve learned in this book relates.
346 Chapter 17
17.1 Web Servers and Applications
Linux is a popular operating system for web servers, and the reigning
monarch of Linux application servers is the Apache HTTP Server (usually
referred to as just “Apache”). Another web server that you’ll often hear
about is Tomcat (also an Apache project), which provides support for Javabased
applications.
By themselves, web servers don’t do much—they can serve files, but that’s
about it. The end goal of most web servers such as Apache is to provide an
underlying platform to serve web applications. For example, Wikipedia is
built on the MediaWiki package, which you can use to set up your own wiki.
Content management systems like Wordpress and Drupal let you build your
own blogs and media sites. All of these applications are built on programming
languages that run especially well on Linux. For example, MediaWiki,
Wordpress, and Drupal are all written in PHP.
The building blocks that make up web applications are highly modular,
so it’s easy to add your own extensions and create applications with frameworks
such as Django, Flask, and Rails, which offer facilities for common
web infrastructure and features, such as templates, multiple users, and database
support.
A well-functioning web server depends on a solid operating system foundation.
In particular, the material in Chapters 8 through 10 is particularly
important. Your network configuration must be flawless, but perhaps more
importantly, you must understand resource management. Adequately-sized,
efficient memory and disk are critical, especially if you plan to use a database
in your application.
17.2 Databases
Databases are specialized services for storing and retrieving data, and many
different database servers and systems run on Linux. Two primary features
of databases make them attractive: They offer easy, uniform ways to manage
individual pieces and groups of data, and superior access performance.
Databases make it easier for applications to examine and alter data, especially
when compared with parsing and changing text files. For example, the
/etc/passwd and /etc/shadow files on a Linux system can become difficult to
maintain over a network of machines. Instead, you can set up a database
that offers user information LDAP (Lightweight Directory Access Protocol)
to feed this information into the Linux authentication system. The configuration
on the Linux client side is easy; all you need to do is edit the /etc/
nsswitch.conf file and add a little extra configuration.
The primary reason that databases generally offer superior performance
when retrieving data is that they use indexing to keep track of data
locations. For example, say you have a set of data representing a directory
containing first and last names and telephone numbers. You can use a
Building on the Basics 347
database to place an index on any of these attributes, like the last name.
Then, when looking up a person by last name, the database simply consults
the index for the last name rather than searching the entire directory.
17.2.1 Types of Databases
Databases come in two basic forms: relational and non-relational. Relational
databases (also called Relational Database Management Systems, or RDBMS),
such as MySQL, PostgreSQL, Oracle, and MariaDB, are general-purpose
databases that excel in tying different sets of data together. For example,
say you have two sets of data, one with postal (ZIP) codes and names, and
another with the postal codes and their corresponding states. A relational
database would allow you to very quickly retrieve all of the names located
in a particular state. You normally talk to relational databases using a programming
language called SQL (Structured Query Language).
Non-relational databases, sometimes known as NoSQL databases, tend to
solve particular problems that relational databases don’t easily handle. For
example, document-store databases, such as MongoDB, attempt to make
storing and indexing entire documents easier. Key-value databases, such as
redis, tend to focus on performance. NoSQL databases don’t have a common
query language like SQL for access. Instead, you’ll talk to them using
a variety of interfaces and commands.
The disk and memory performance issues discussed in Chapter 8 are
extremely important in most database implementations because there’s a
trade-off between how much you can store in RAM (which is fast) versus
on disk. Most larger database systems also involve significant networking
because they’re distributed over many servers. The most common such network
setup is called replication, where one database is basically copied to a
number of database servers to increase the number of clients that connect
to the servers.
17.3 Virtualization
In most large organizations, it’s inefficient to dedicate hardware to specific
server tasks because installing an operating system tailored to one task on
one server means that you’re limited to that task until you reinstall it. Virtual
machine technology makes it possible to simultaneously install one or more
operating systems (often called guests) on a single piece of hardware, and
then activate and deactivate the systems at will. You can even move and copy
the virtual machines to other machines.
There are many virtualization systems for Linux, such as the kernel’s
KVM (kernel virtual machine) and Xen. Virtual machines are especially
handy for web servers and database servers. Although it’s possible to set
up a single Apache server to serve several websites, this comes at a cost of
flexibility and maintainability. If those sites are all run by different users,
you have to manage the servers and the users together. Instead, it’s usually
348 Chapter 17
preferable to set up virtual machines on one physical server with their own
supporting users, so that they don’t interfere with each other and you can
alter and move them at will.
The software that operates virtual machines is called a hypervisor. The
hypervisor manipulates many pieces of the lower levels of a Linux system
that you’ve seen in this book with the result that, if you install a Linux guest
on a virtual machine, it should behave just like any other installed Linux
system.
17.4 Distributed and On-Demand Computing
To ease local resource management, you can build sophisticated tools on
top of virtual machine technology. The term cloud computing is a catch-all
term that’s often used as label for this area. More specifically, infrastructure
as a service (IaaS ) refers to systems that allow you to provision and control
basic computing resources such as CPU, memory, storage, and networking
on a remote server. The OpenStack project is one such API and platform
that includes IaaS.
Moving up past the raw infrastructure, you can also provision platform
resources such as the operating system, database servers, and web
servers. Systems that offer resources on this level are said to be platform
as a service (PaaS).
Linux is central to many of these computing services, as it’s often the
underlying operating system behind all of it. Nearly all of the elements that
you’ve seen in this book, starting with the kernel, are reflected throughout
these systems.
17.5 Embedded Systems
An embedded system is anything designed to serve a specific purpose, such as
a music player, video streamer, or thermostat. Compare this to a desktop or
server system that can handle many different kinds of tasks (but may not do
one specific thing very well).
You can think of embedded systems as almost the opposite of distributed
computing; rather than expanding the scale of the operating system,
an embedded system usually (but not always) shrinks it, often into a small
device. Android is perhaps the most widespread embedded version of
Linux in use today.
Embedded systems often combine specialized hardware with software.
For example, you can set up a PC to do anything a wireless router can
by adding enough network hardware and correctly configuring a Linux
installation. But it’s usually preferable to buy a smaller, dedicated device
consisting of the necessary hardware and eliminate any hardware that isn’t
necessary. For example, a router needs more network ports than most desktops
but doesn’t need video or sound hardware. And once you have custom
Building on the Basics 349
hardware, you must tailor the system’s software, such as the operating system
internals and user interface. OpenWRT, mentioned in Chapter 9, is
one such customized Linux distribution.
Interest in embedded systems is increasing as more capable small hardware
is introduced, particularly system-on-a-chip (SoC) designs that can
cram a processor, memory, and peripheral interfaces into a small space.
For example, the Raspberry Pi and BeagleBone single-board computers are
based around such a design, with several Linux variants to choose from as
an operating system. These devices have easily accessible output and sensor
input that connects to language interfaces such as Python, making them
popular for prototyping and small gadgets.
Embedded versions of Linux vary in how many features from the server/
desktop version can be carried over. Small, very limited devices must strip
out everything except the bare minimum because of lack of space, which
often means that even the shell and core utilities come in the form of a
single BusyBox executable. These systems tend to exhibit the most differences
between a full-featured Linux installation, and you’ll often see older
software on them, such as System V init.
You’ll normally develop software for embedded devices using a regular
desktop machine. More powerful devices, such as the Raspberry Pi, have
the luxury of more storage and the power to run newer and more complete
software, so you can even natively run many development tools on them.
Regardless of the differences, though, embedded devices still share
the Linux genes described in this book: You’ll see a kernel, a bunch of
devices, network interfaces, and an init alongside a bunch of user processes.
Embedded kernels tend to be close (or identical) to regular kernel releases,
simply with many features disabled. As you work your way up through user
space, though, the differences become more pronounced.
17.6 Final Remarks
Whatever your goals for gaining a better understanding of Linux systems,
I hope that you’ve found this book to be helpful. My goal has been to
instill you with confidence when you need to get inside your system to
make changes or do something new. At this point, you should feel like
you’re really in control of your system. Now go and push it around a little
and have some fun.

Bibl iogr aph y
Abrahams, Paul W., and Bruce Larson, UNIX for the Impatient, 2nd ed.
Boston: Addison-Wesley Professional, 1995.
Aho, Alfred V., Brian W. Kernighan, and Peter J. Weinberger, The AWK
Programming Language. Boston: Addison-Wesley, 1988.
Aho, Alfred V., Monica S. Lam, Ravi Sethi, and Jeffrey D. Ullman, Compilers:
Principles, Techniques, and Tools, 2nd ed. Boston: Addison-Wesley, 2006.
Barrett, Daniel J., Richard E. Silverman, and Robert G. Byrnes, SSH, The
Secure Shell: The Definitive Guide, 2nd ed. Sebastopol: O’Reilly, 2005.
Beazley, David M., Python Essential Reference, 4th ed. Boston: Addison-
Wesley, 2009.
Beazley, David M., Brian D. Ward, and Ian R. Cooke, “The Inside Story
on Shared Libraries and Dynamic Loading.” Computing in Science &
Engineering 3, no. 5 (September/October 2001): 90-97.
Calcote, John, Autotools: A Practitioner’s Guide to GNU Autoconf, Automake, and
Libtool. San Francisco: No Starch Press, 2010.
352 Bibliography
Carter, Gerald, Jay Ts, and Robert Eckstein, Using Samba: A File and Print
Server for Linux, Unix & Mac OS X, 3rd ed. Sebastopol: O’Reilly, 2007.
Christiansen, Tom, brian d foy, Larry Wall, and Jon Orwant, Programming
Perl: Unmatched Power for Processing and Scripting, 4th ed. Sebastopol:
O’Reilly, 2012.
Chromatic, Modern Perl, rev. ed. Hillsboro: Onyx Neon Press, 2014.
Davies, Joshua, Implementing SSL/TLS Using Cryptography and PKI. Hoboken:
Wiley, 2011.
Filesystem Hierarchy Standard Group, “Filesystem Hierarchy Standard,
Version 2.3,” edited by Rusty Russell, Daniel Quinlan, and Christopher
Yeoh, 2004, http://www.pathname.com/fhs/.
Friedl, Jeffrey E. F., Mastering Regular Expressions: Understand Your Data and
Be More Productive, 3rd ed. Sebastopol: O’Reilly, 2006.
Gregg, Brendan, Systems Performance: Enterprise and the Cloud. Upper Saddle
River: Prentice Hall, 2013.
Grune, Dick, Kees van Reeuwijk, Henri E. Bal, Ceriel J.H. Jacobs, and Koen
Langendoen, Modern Compiler Design, 2nd ed. New York: Springer, 2012.
Hopcroft, John E., Rajeev Motwani, and Jeffrey D. Ullman, Introduction to
Automata Theory, Languages and Computation, 3rd ed. Upper Saddle River:
Prentice Hall, 2006.
Kernighan, Brian W., and Rob Pike, The UNIX Programming Environment.
Upper Saddle River: Prentice Hall, 1983.
Kernighan, Brian W., and Dennis M. Ritchie, The C Programming Language,
2nd ed. Upper Saddle River: Prentice Hall, 1988.
Kochan, Stephen G., and Patrick Wood, Unix Shell Programming, 3rd ed.
Indianapolis: SAMS Publishing, 2003.
Levine, John R., Linkers and Loaders. San Francisco: Morgan Kaufmann, 1999.
Liu, Cricket, and Paul Albitz, DNS and BIND, 5th ed. Sebastopol:
O’Reilly, 2006.
Lucas, Michael W., SSH Mastery: OpenSSH, PuTTY, Tunnels and Keys. Tilted
Windmill Press, 2012.
Matloff, Norman, The Art of R Programming: A Tour of Statistical Software
Design. San Francisco: No Starch Press, 2011.
Matloff, Norman, and Peter Jay Salzman, The Art of Debugging with GDB,
DDD, and Eclipse. San Francisco: No Starch Press, 2008.
Mecklenburg, Robert, Managing Projects with GNU Make: The Power of GNU
Make for Building Anything, 3rd ed. Sebastopol: O’Reilly, 2004.
The New Hacker’s Dictionary, 3rd ed. Edited by Eric S. Raymond. Cambridge:
MIT Press, 1996.
Bibliography 353
Peek, Jerry, Grace Todino-Gonguet, and John Strang, Learning The UNIX
Operating System: A Concise Guide for the New User, 5th ed. Sebastopol:
O’Reilly, 2001.
Pike, Rob, Dave Presotto, Sean Dorward, Bob Flandrena, Ken Thompson,
Howard Trickey, and Phil Winterbottom, “Plan 9 from Bell Labs.” Bell
Labs. Accessed July 10, 2014, http://plan9.bell-labs.com/sys/doc/9.html.
Robbins, Arnold, sed & awk Pocket Reference: Text Processing with Regular
Expressions, 2nd ed. Sebastopol: O’Reilly, 2002.
Robbins, Arnold, Elbert Hannah, and Linda Lamb, Learning the vi and Vim
Editors: Unix Text Processing, 7th ed. Sebastopol: O’Reilly, 2008.
Salus, Peter H., The Daemon, the Gnu, and the Penguin. Reed Media
Services, 2008.
Samar, V., and R. Schemers, “Unified Login with Pluggable Authentication
Modules (PAM),” October 1995, Open Software Foundation (RFC 86.0),
http://www.opengroup.org/rfc/mirror-rfc/rfc86.0.txt.
Schneier, Bruce, Applied Cryptography: Protocols, Algorithms, and Source Code in
C, 2nd ed. Hoboken: Wiley, 1996.
Shotts, William E. Jr., The Linux Command Line: A Complete Introduction. San
Francisco: No Starch Press, 2012
Schwartz, Randal L., brian d foy, and Tom Phoenix, Learning Perl:
Making Easy Things Easy and Hard Things Possible, 6th ed. Sebastopol:
O’Reilly, 2011.
Silberschatz, Abraham, Peter B. Galvin, and Greg Gagne, Operating System
Concepts, 9th ed. Hoboken: Wiley, 2012.
Stallman, Richard M., GNU Emacs Manual, 17th ed. Boston: Free Software
Foundation, 2012. http://www.gnu.org/software/emacs/manual/.
Stallman, Richard M., Roland Pesch, Stan Shebs, Etienne Suvasa, and Matt
Lee, Debugging with GDB: The GNU Source-Level Debugger, 10th ed. Boston:
GNU Press, 2011. http://sourceware.org/gdb/current/onlinedocs/gdb/.
Stevens, W. Richard, UNIX Network Programming, Volume 2: Interprocess
Communications, 2nd ed. Upper Saddle River: Prentice Hall, 1998.
Stevens, W. Richard, Bill Fenner, and Andrew M. Rudoff, Unix Network
Programming, Volume 1: The Sockets Networking API, 3rd ed. Boston:
Addison-Wesley Professional, 2003.
Tanenbaum, Andrew S., and Herbert Bos, Modern Operating Systems, 4th ed.
Upper Saddle River: Prentice Hall, 2014.
Tanenbaum, Andrew S., and David J. Wetherall, Computer Networks, 5th ed.
Upper Saddle River: Prentice Hall, 2010.

Symbols
<, 28
<<, 265
>, 27–28
>>, 27–28
[, 256–261
$, xxi, 12–13, 22, 290
$#, 254
$$, 255
$0, 255
$1, 254
$?, 255–256. See also exit code
$@, 254–255
#, xxi, 13. See also root
#!, 249–250, 325
|, 19, 27, 39
/, 40, 93, 95–97, 99–100
*, 17–18, 21, 251–252. See also regular
expressions
A
abstraction, 1–2
administrator. See root
alias, 290–291
ALSA, 53
Apache, 346
Apple partition, 73
application layer, 191, 229–232
archive, 37–39
table of contents, 38
testing, 38, 330–331
ARP, 225–226
at, 161
ATA, 62
autoconf, 332–336
autotools, GNU, 330, 342. See also
autoconf
Avahi, 208, 239
awk, 266
B
basename, 265–266
bash, 12. See also Bourne Shell
startup file, 292–295
bg, 32
/bin, 40
/bin/bash. See bash
/bin/sh. See Bourne Shell
BIOS, 97
boot partition, 108
bison, 325
blkid, 76
block bitmap, 90
blockdev, 70
block device, 46–48, 53, 61, 63,
65–67, 70
/boot, 41, 102–103
boot, 93–94. See also init
loader, 93, 97–98
chainloading, 106–107
filesystem access, 97, 101–102
GRUB, 102
internals, 107–109
multi-stage, 107
for systems other than Linux,
106–107
messages, 94–95
network configuration, 202–203
Bourne Shell, 12
basic use, 12–13
Bourne-again, 12
script (see shell script)
building software, 330–333, 340–342
bunzip2, 39
bus error, 30
BusyBox, 349
bzip2, 39
Index
356 Index
C
C, 310–311
compiler, 320–321, 340–341
preprocessor, 312–313, 321, 335,
341–342
case, 262
cat, 13
cd, 16–17
chainloading, 106–107
character device, 46–47, 53
child process, 175
Chrome OS, 308
chsh, 12, 21, 166–168
chvt, 52, 300
CIDR, 195
clang, 310
CLASSPATH, 327
clobber, 27
cloud computing, 348
CMake, 331, 342
command-line editing, 24
command substitution, 263–264
compiling, 310–311
compositing window manager, 305
compressing files, 37–39, 277
concatenating files, 13
configuration file, 40, 149–150
configure, 332–336
context switch, 5–6
control group, 123
controlling terminal, 51
coreboot, 98
coreutils, 332–333, 338
cp, 15
cpio, 146
cpp, 312–313, 321, 335, 341–342
CPU, 2–4
multiple, 6, 176
time, 171–172, 178–181, 183–185
CPU time, 32
cron, 159–161
csh, 294
ctrl-C, 14
ctrl-D, 13–14
CUPS, 307–308
curl, 230–232
current working directory, 16, 19–20,
172–173
cylinder, 71–72
D
daemon, 149
database, 346–347
date, 157–158
D-Bus (Desktop Bus), 58, 124–125,
203, 299, 305–307
instance, 306
monitoring, 306–307
dd, 48–49, 83
debugfs, 84
debugger, 323–324
default gateway, 196, 201
demand paging, 182
desktop, 297–298
background, 304
environment, 299
Desktop Bus. See D–Bus
/dev, 40, 46–48
device, 45
audio, 53
block, 46–48, 53, 61, 63, 65–67, 70
character, 46–47, 53
copy, 48–49
creating file, 53–54
disk, 46–48
driver, 4, 7, 93
file, 40, 46–47, 53–57, 80
finding, 48–49
information, 47–48, 57–58
initialization, 53–58
major and minor numbers, 47–49
monitor, 57–58
name, 47–53
network, 47
node, 40, 46–47, 53–57, 80
optical, 51, 63–64, 73
parallel, 52
pipe, 47, 53
SCSI (see SCSI)
serial, 52
socket, 47, 247–248
terminal, 51–52
types, 46–47
/dev/hd*, 51
/dev/lp*, 52
/dev/null, 46
/dev/parport*, 52
/dev/pts, 51
/dev/sd*, 50–51
Index 357
/dev/sg*, 51, 63–64
/dev/snd, 53
/dev/sr*, 51, 63–64
devtmpfs, 53–55
/dev/tty*, 51–52
/dev/zero, 48–49
df, 81
DHCP, 214–215
diff, 20, 256, 339
directory, 16, 33
change, 16–17
create, 17
current, 16, 19–20, 172–173
errors, 30
hierarchy, 16, 40–42
home, 17, 40, 154–155
internal structure, 88
listing contents, 14–15
parent, 16, 88–90
permissions, 35
remove, 17
root, 40, 93, 95–97, 99–100
disk
addressing, 71–72
buffer, 77
cache, 77
capacity, 69
copy, 48–49
device, 50–51, 65–68
device file, 46–48
format, 68, 74–75
geometry, 70–72
monitoring usage, 183–187
partition (see partition)
PATA, 51
quota, 188
raw access, 48–49, 67
SATA, 50–51, 56, 62
scheduling priority, 187
schematic, 65–66
SCSI, 50–51, 59–62
solid-state, 72, 91
swap 80, 85–86
usage, 81
display, 300
manager, 300
modes, 51–52
dmesg, 49, 94–95, 153. See also
kernel: log
DNS (Domain Name Service),
198–199, 206–209
documentation, 25–27
Domain Name Service (DNS),
198–199, 206–209
dot file, 21, 287
DPMS, 305
du, 81
E
e2fsck. 80, 82–84
echo, 13, 16
EDITOR, 295–296
effective user ID (euid), 162–165
EFI, 97–98, 105–108
ESP, 108–109
secure boot, 106
efilinux, 98
egrep, 18
elapsed time, 178–179
Emacs, 24–25
embedded system, 348–349
encryption, 170, 233–234
environment variable, 21–22,
268–269
error message, 27–30, 175
ESP, 108–109. See also EFI
/etc, 40, 149–150
/etc/fstab, 50, 77, 79–81
/etc/hosts, 207
/etc/init.d, 142
/etc/inittab, 139–141
/etc/ld.so.cache, 316
/etc/ld.so.conf, 316
/etc/localtime, 158
/etc/login.defs, 170
/etc/mtab, 78
/etc/nologin, 144
/etc/nsswitch.conf, 207–209, 346
/etc/passwd, 26, 153–155, 164–165, 346
/etc/profile, 292
/etc/rc.d, 140–142
/etc/resolv.conf, 207
/etc/services, 211
/etc/shadow, 154–155
/etc/shells, 155, 166–168
Ethernet, 199–200, 225–226
wireless, 226–228
euid (effective user ID), 162–165
358 Index
exec(), 7, 174, 268
executable, 34–35, 40–41, 78,
310–311, 325
exit code, 255–257
export, 22
F
fdisk, 68–70
fg, 32–33
files, 20
comparing with another file, 20
compressing, 37–39, 277
copying, 15
creating empty, 15
deleting, 16, 89
descriptor, 172–173
details, 14–15
device, 40, 46–47, 53–57, 80
dot, 21, 287
errors, 29–30
find, 20
find text in, 18–19
format, 20
group, 14–15, 33–34
identify, 259–260
link, 36, 87–90, 260
link count, 89–90
listing, 14–15
mode, 33–35
move, 15
open, 172–174
owner, 14–15, 33–34
permissions (see permissions)
redirecting
command input from, 28
command output to, 27–28
regular, 33
rename, 15
sharing
across a network, 278–286
with other users, 9–10
socket, 47, 247–248
swap, 85
temporary, 264–265
test, 259–260
transfering, 271
with Python, 271
rsync, 272
SSH, 236–237
type, 33, 35, 46, 173
updating timestamp, 15
filesystem, 66–67, 72–73
Btrfs, 74, 91
capacity, 81
check, 82–84
CIFS, 285
creating, 68, 74–75
currently attached, 75–76
ext2/ext3/ext4, 73–77, 82–84
FAT, 73
HFS+, 73
hierarchy, 40–42
internal structure, 74, 87–90
ISO 9660, 73, 78
journal, 73, 82–83
mount, 75–80, 114, 130–131
options, 77–80
NFS, 285–286
proc, 40, 79–80, 84
read-only, 78–79, 96
remount, 79
repair, 82–84
tmpfs, 84
type, 73–74
usage, 81
user space, 73
interface, 90–91
UUID, 50, 76–77, 79, 96, 99–101
find, 20, 267–268
finding command, 25
firewall, 219–221
rule, 221–223
strategy, 223–224
flex, 325
for, 262
fork(), 7, 123–124, 136–137, 174, 176,
232–233
frame, 199
free, 85
fsck, 80, 82–84
FTP, 237, 245
G
gateway, 192, 196
gcc, 310
gdb, 323–324
gdisk, 68
GECOS, 154
Index 359
geteuid(), 164–165
getty, 52, 120, 135–136, 140, 157
Ghostscript, 308
glob, 17–18, 21, 251–252. See also
regular expression
GNU autotools, 330, 342. See also
autoconf
gparted, 67–69
GPT, 67–69, 101
grep, 18–19, 256–257
group, 10, 154, 156–157
listing, 34
permissions, 33–35
groups, 34
GRUB, 98
boot command, 102
command line, 100–101
configuration, 98–99, 102–104
devices, 100–101
filesystem access, 101–102
insmod, 99–100
install, 104–106
internals, 108–109
menu, 98–99, 103
on removable media, 105–106
root, 99–102
grub-mkconfig, 103–104
GTK+, 299
guest operating system, 347–348
gunzip, 37–39
gzip, 37–39
H
halt, 144–145
hard link, 36, 87–90, 260
hardware operation, 4
head, 21, 71–72
header file, 41, 311–312, 335, 337
locating, 341–342
help, 25–27
here document, 265
/home, 40
home directory, 17, 40, 154–155
host, 190, 198–199
host key, 234–236
HTTP, 230–232
hypervisor, 348
I
ICMP, 197–198
ifconfig, 193–194, 200–202
if/then/else, 256–258
image, 4
include file, 311–313, 335, 336
inetd, 237
info, 26–27, 43
init, 93–95, 112–113. See also systemd;
Upstart
identifying, 114
process tracking, 112–113
runlevel, 113
systemd, 129
System V, 139–142
Upstart, 138–139
sequence, 112, 141–143
System V, 112–114, 129, 138–143
initctl, 132
initramfs, 99–100, 109, 145–146
initrd, 146. See also initramfs
inode, 82, 87–90, 260
root, 88–90
installing software, 329–330, 338
interactive shell, 292–294
Internet layer, network, 191–192. See
also IP
iostat, 185–186
iotop, 186–187
IP, 192
address, 192–194, 200–202,
216–217
chain, 220–224
filter, 219–220
forwarding, 216
subnet, 192–195
choosing, 216–217
mask, 194–195, 201
routing between, 215–216
table, 220
IPP, 307–308
iptables, 221–224
IPv4, 192
IPv6, 192
J
Java, 327–328
job control, 32
jobs, 32
360 Index
K
kernel, 2–5
as a resource, 171
boot, 93, 95–96
boot messages, 94–95
compiling, 343
disk buffer, 77
disk cache, 77
disk I/O system, 66–67, 86
load, 93, 97–98
location, 42
log, 58–59, 153
modules, 42
network interface, 47, 200–203
parameters, 96–97, 99–100
reading partition table, 69–70
ring buffer, 94
routing table, 196
SCSI subsystem, 58–64
kernel mode, 3
kernel space, 3
keyboard, 302–304
kill, 31–32
L
LAN, 190
layer, 2
network, 189–192
LBA, 71–72, 97
LDAP, 346
ldconfig, 316
ldd, 315–316
LD_LIBRARY_PATH, 296, 316–317
ld.so, 315–316
less, 19, 293–294, 296, 336
level, 2
in user space, 8–9
Lex, 324–325
/lib, 40
libata, 60, 62
library, 40, 336–337
linking against, 313–314,
316–317, 321
shared, 40, 314–317, 334–335, 337
system calls, 174–175
trace, 176
LILO, 98
link
count, 89–90
farm, 142
hard, 36, 87–90, 260
symbolic, 35–36
listen, 210–211, 239–240
literal, 251–253
LLVM, 310, 328
ln, 35–36, 87, 89–90
loadable kernel modules, 42
load average, 180–181
LOADLIN, 98
localhost, 205, 209
locate, 20
log, 9. See also kernel, log; syslog
kernel, 58–59, 153
syslog, 150–153
system, 121
Upstart, 134, 138
logger, 153
login, 157
login shell, 292–294
logrotate, 153
loops, 262–263
lost+found, 83, 90
ls, 14–15
lsof, 172–174
network, 239
Unix domain socket, 248
lsscsi, 50, 59, 63
lsusb, 62
ltrace, 176
M
MAC address, 199–200, 205–206,
225–226
main memory. See memory
make, 318–323
Makefile
dependency, 318–319, 323
organization, 322–323
rule, 318–319
separator, 319–320
staying up-to-date, 320
target, 318–319
standard 322, 336
man, 25–26. See also manual page
manual page, 25–27, 42, 290
Index 361
MBR, 67–69, 101
boot, 107–108
mDNS, 208
/media, 41
memory, 3–4
capacity, 85–86, 181
insufficient, 84, 86, 181
management, 6, 95, 182–183
monitoring usage, 183–185
page, 182
protection, 3
swap, 80, 85–86
partitions, 68–69, 85
test, 104
virtual, 6, 85
Mir, 305
mkdir, 17
mkfs, 74–75
mknod, 53–54
mkswap, 85
MMU, 6, 182
modules, kernel, 42
mount, 75–80. See also filesystem:
mount
mouse, 303–304
multitasking, 5–6
mv, 15
N
NAT, 216–218
netcat, 241–242
netstat, 210–211, 238
network, 189–191
application layer, 191, 229–232
client, 210
configuration, 193–194,
200–203, 214
connection, 210–211, 230,
239–241
firewall, 219–221
rule, 221–223
strategy, 223–224
host, 190, 198–199
interface, 47, 200–203
Internet layer, 191–192
layer, 189–192
localhost, 205, 209
packet, 190–191
physical layer, 191
port, 210–211, 230
prefix, 194
private, 216–217
promiscuous mode, 240
route, 195–196, 198
router, 190, 192–193, 196–197,
215–216, 218–21
server, 210, 232–233
simple, 190, 192–193, 214
stack, 191
transport layer, 191–192
troubleshooting, 197–198,
239–242
wireless, 202–204
network configuration manager,
203–206
NetworkManager, 203–206, 228
Network Time Protocol (NTP),
158–159, 212
NFS, 285–286
nftables, 220
nice value, 179–180
nmap, 242–243
NTP (Network Time Protocol),
158–159, 212
O
object file, 311
OOM killer, 86
open(), 175
open source, 329
OpenWRT, 219, 349
/opt, 41
OSS, 53
P
package, 333–334, 338, 341–343
packet, 190–191
page, 182
fault, 182–183
table, 6, 182
PAGER, 296
pager, 19, 296
PAM (Pluggable Authentication
Modules), 165–170
parallel port, 52
parted, 67–70
362 Index
partition, 50
alignment, 72
altering table, 67–70
Apple, 73
capacity, 69, 81
extended, 68–69
geometry, 70–72
logical, 68–69
primary, 68
reading table, 69–70
swap, 68–69, 85
system ID, 69
table, 66–70
viewing, 68–69
Windows, 73
passwd, 21, 34, 155–156
password
changing, 21, 170
file, 26, 153–155, 164–165, 346
patch, 339
patchelf, 317
path, 16
PATH, 22–23, 288–290
path
absolute, 16
command, 22–23, 288–290
relative, 16
pathname. See path
performance, 171
memory, 86
Perl, 19, 326
permissions, 30, 33–35
bits, 34
changing, 34–35
default, 35, 291
directory, 35
execute, 34–35
group, 33–35
other, 33–35
preserving, 38
read, 33–35
testing, 260
user, 33–35
world, 33–35
write, 33–35
physical layer, 191, 199–200
Pico, 25
PID (process ID), 30–32, 177, 255
pidstat, 187–188
ping, 197–198
pipe, 19, 27, 39
named, 47, 53
pkg-config, 336–338
Pluggable Authentication Modules
(PAM), 165–170
plymouth, 51–52
port scan, 242–243
printing, 52, 307–308
private network, 216–217
/proc, 40, 79–80, 84
process, 2–4, 30–33, 84
accounting, 188
background, 32–33
blocked, 185
child, 175
continue, 32
ID, 30–32, 177, 255
interface, 40
list, 30–31
management, 5
memory, 6, 86, 172
monitoring, 187–188
open files, 172–174
owner, 9, 162–163
priority, 179–180
starting new, 7
status, 31
stop, 31–32
terminate, 31–32
tracking, 172
unexpected termination, 86
.profile, 292
prompt (shell), 12–13, 22, 290
ps, 30–31, 162–163, 183
pseudodevice, 8
pseudoterminal, 51
pulseaudio, 53
pwd, 19–20
Python, 325–326
Q
Qt, 299
R
Raspberry Pi, 349
real-time clock, 157
real user ID (ruid), 162–163
reboot, 144–145
redraw display, 33
Index 363
regular expressions, 19
regular file, 33
relational database, 347
remote login, 233–237
renice, 180
replication, 347
resource monitoring, 178
reverse isearch, 33
RIP, 308
rm, 16
rmdir, 17
root, 9–10
directory, 40, 93, 95–97, 99–100
prompt, 13
running programs as, 42–43
route, 195, 201–202
route (network), 195–196, 198
configuration, 200–201
router, 190, 192–193, 196–197,
215–216, 218–219
RPC, 243
rsync, 271
bandwidth, 277
compression, 277
copying
from remote host, 277
to remote host, 271–274
exact copy, 273–274
excluding files, 275–276
verifying transfer, 276–277
rsyslogd, 151–153
ruid (real user ID), 162–163
runlevel, 113
System V, 139–142
systemd, 129
Upstart, 138–139
run-parts, 143
runtime
information, 41
library search path, 316
S
Samba, 278–285
client, 283–285
sar, 188
SATA, 59–60
saved user ID, 163
/sbin, 41
scheduling tasks, 159–161
SCons, 342
scp, 237
screen, 32
scripting language, 325–327
SCSI, 50, 58–64
disk, 50–51, 59–62
generic, 51, 63–64
ID, 58–59
listing device information, 50,
59, 63
sector, 71–72
security, 162–170
in command path, 289
network, 243–245
sed, 266–267
segmentation fault, 30
serial port, 52
USB, 52
server role, 8–9
setuid, 34, 78, 162–163
sftp, 237
shadow password, 154–155
shared library, 40, 314–317,
334–335, 337
system calls, 174–175
trace, 176
shebang, 249–250, 325
shell, 12. See also Bourne Shell
change, 12, 21
editing commands, 24
prompt, 12–13, 22, 290
quoting, 251–253
user, 154–155
variables, 21–22, 31, 253
special variables, 253–255
window, 12, 32–33, 51
shell script, 12, 249–250
arguments, 254–255
arithmetic, 261, 268, 270
conditional, 256–257
include, 269
limitations, 250, 270
loops, 262–263
name, 255
permission, 250
PID, 255
reading user input, 269
string test, 260–262
shortcut. See symbolic link
shutdown, 144–145
364 Index
signal, 31–32, 264–265
single-user mode, 96, 113, 146–147
socket, 246–247
device, 47, 247–248
Unix domain, 247–248
solid-state disk (SSD), 72, 91
sort, 21
sound, 53
source code, 310
special characters, 23–24
splash screen, 51–52, 94, 96
SQL, 347
SSD (solid-state disk), 72, 91
SSH, 119, 136–137, 233–237
standard error, 27–28, 33, 160
standard I/O, 13–14
input, 14, 19, 28, 33, 37, 49
output, 14, 19, 27–28, 33, 37,
49, 160
redirection, 27–28
startup. See boot
startup file, 287–290
example, 293–295
order, 291–295
stat, 89–90
stat(), 90
state, 4
static library, 314
stderr, 27–28, 33, 160
stdin, 14, 19, 28, 33, 37, 49
stdio, 13–14, 310–311
redirection, 27–28
stdout, 14, 19, 27–28, 33, 37, 49, 160
strace, 137, 174–175
stream, 19, 27–28, 46–49
edit, 266–267
ID (in shell), 28
I/O, 13–14
search, 18–19, 256–257
su, 42–43
subnet, 192–195
choosing, 216–217
mask, 194–195, 201
routing between, 215–216
subshell, 268–269
sudo, 43, 163
superblock, 74, 83, 90
superserver, 237
superuser. See root
swap, 80, 85–86
partitions, 68–69, 85
swapoff, 85
swapon, 85
symbolic link, 35–36
sync, 77
/sys. See sysfs
syscall. See system call
sysfs, 45, 47–48, 55, 84
SYSLINUX, 98
syslog, 150–153
system call, 4, 7–8
trace, 174–175
system clock, 157–159
systemctl, 116, 118, 120–121
systemd, 112–114
activating unit, 120, 123, 128
configuration, 117–120
creating unit, 122–123
deactivating unit, 123
dependency, 114–117
disabling unit, 123
enabling unit, 119–120, 123
job, 121–122
log, 121
mount unit, 81, 114, 118
on-demand resource, 124–129
operating, 120–122
parallel unit activation, 125–127
process tracking, 123–124
service unit, 114, 119, 127–129
socket unit, 127–128, 237
specifier, 120
startup, 114
System V compatibility, 129
target unit, 114
unit, 114–115
file, 118–120
instance, 128
variable, 120
system messaging, 151
system time, 178–179
System V init, 112–114, 129, 138–143
T
tail, 21
tar, 37–39, 269
Index 365
TCP, 209–213, 218
filtering, 222–224
interacting with service, 230–232
tcpdump, 240–241
TCP wrapper, 238
tcsh, 292–295
telnet, 230, 233, 241, 245
tempfs, 84
temporary file, 264–265
terminal, 51–52. See also shell: window
controlling, 51
device, 51–52
virtual, 51–52, 113, 135–136, 300
test, 256–261
text editor, 24–25, 295–296
text search, 18–19
thrash, 181. See also memory:
insufficient
thread, 176–178
time, 178–179. See also CPU time;
elapsed time; system time
time (of day), 157–159
time slice, 5
/tmp, 41
toolkit, 299
top, 172, 178–179
touch, 15
traceroute, 198
transport layer, 209. See also network,
application layer
troubleshooting, 151–153
tune2fs, 77
U
udev, 45, 48–50, 53–58
configuration and rules, 55–56
event, 55, 58
udevadm, 48–50, 57–58, 70
udevd, 53–58, 77
udisks-daemon, 58
UDP, 209, 212, 218, 240
UEFI, 97–98, 105–108
ESP, 108–109
secure boot, 106
uevent, 55, 58
umask, 35, 291
umount, 76–77
Unix, 11
Unix domain socket, 247–248
unlinking, 89. See also files: deleting
unxz, 39
unzip, 39
Upstart, 112–113, 130
configuration, 133–135
event, 112, 130–131, 133–135, 137
job, 130–133, 137–138
log, 134, 138
mounting filesystems, 130–131,
133–134
operation, 137–138
process tracking, 136–137
runlevel, 138–139
startup, 130–131
System V compatibility, 138–139
uptime, 180
USB, 61–62
listing device information, 62
relationship to SCSI, 50, 60–62
serial port, 52
user, 9–10
authentication, 164–170
authorization, 164
changing, 42–43
environment, 287–288
ID, 9, 153–155, 162–164
identification, 164–165
management, 154–157
mode, 3
process (see process)
regular, 12
root (see root)
user space, 2–3
filesystem, 73
interface, 90–91
organization, 8–9
start, 93, 95–96, 111–112
userland. See user space
username, 9, 153–155
/usr, 41–42
/usr/lib, 314
/usr/local, 41, 334, 338
/usr/share, 41
UTC, 157–158
UUID, 50, 76–77, 79, 96, 99–101
366 Index
V
/var, 41
/var/log, 151–153
VFS, 73, 90
vi, 24–25
vipw, 155–156
virtual console, 51–52, 113,
135–136, 300
virtual machine, 327, 347–348
virtual memory, 6, 85. See also
memory: management
vmstat, 183–185
W
wallpaper. See desktop background
warning messages, 29
Wayland, 305
web application, 346
web server, 271, 346
WEP, 228
while, 262–263
who -r, 113
widget, 299
wildcard. See glob
window manager, 298–299
Windows
boot, 106–107
file sharing, 278–285
partition, 73
password, 280–281
printer sharing, 283
wireless network, 202–204. See also
Ethernet: wireless
worker process, 232–233
WPA, 228
X
xargs, 267–268
xev, 302
X event, 301–302
xinetd, 237
xinput, 303–304
XKB, 304
xlsclients, 301
xmodmap, 302, 304
xset, 305
X Window System
application, 299
client, 298, 301
diagnostics, 301–305
display (see display)
event, 301–302
future, 305
input, 302–304
network transparency, 300–301
preferences, 302–305
server, 51, 298–300
tunneling, 233–234, 301
window manager, 298–299
xwininfo, 301
xz, 39
Y
Yacc, 324–325
Z
zcat, 39
zip, 39
How Linux Works, 2nd Edition is set in New Baskerville,TheSansMono
Condensed,
Futura, and Dogma. The book was printed and bound by
Edwards Brothers Malloy in Ann Arbor, Michigan. The paper is 60# Husky
Opaque, which is certified by the Sustainable Forestry Initiative (SFI).
The book uses a RepKover binding, in which the pages are bound
together with a cold-set, flexible glue and the first and last pages of the
resulting book block are attached to the cover with tape. The cover is not
actually glued to the book’s spine, and when open, the book lies flat and
the spine doesn’t crack.
Updates
Visit http://nostarch.com/howlinuxworks2 for updates, errata, and other information.
phone:
800.420.7240 or
415.863.9900
email:
sales@no starch.com
web:
www .no starch.com
The Book of Gimp
A Complete Guide to Nearly Everything
by olivier lecarme
and karine delvare
january 2013, 676 pp., $49.95
isbn 978-1-59327-383-5
Ab solute OpenBSD ,
2nd Edition
Unix for the Practical Paranoid
by michael w. lucas
april 2013, 536 pp., $59.95
isbn 978-1-59327-476-4
The Linux Command Line
A Complete Introduction
by william e. shotts, jr.
january 2012, 480 pp., $39.95
isbn 978-1-59327-389-7
The Linu x Programming
In terface
A Linux and UNIX System
Programming Handbook
by michael kerr isk
octob er 2010, 1552 pp., $99.95
isbn 978-1-59327-220-3
Think Like a Programmer
An Introduction to Creative Problem Solving
by v. anton spraul
august 2012, 256 pp., $34.95
isbn 978-1-59327-424-5
The Art of R Programming
A Tour of Statistical Software Design
by nor man matloff
octob er 2011, 400 pp., $39.95
isbn 978-1-59327-384-2
More no-nonsense books from No Starch Press
SHELVE IN:
OPERATING SYSTEMS/LINUX
$39.95 ($41.95 CDN)
L I NU X
F O R THE
SUPERUSER
Unlike some operating systems, Linux doesn’t try to hide the
important bits from you—it gives you full control of your
computer. But to truly master Linux, you need to understand
its internals, like how the system boots, how networking
works, and what the kernel actually does.
In this completely revised second edition of the perennial
best seller How Linux Works, author Brian Ward makes
the concepts behind Linux internals accessible to anyone
curious about the inner workings of the operating system.
Inside, you’ll find the kind of knowledge that normally
comes from years of experience doing things the hard
way. You’ll learn:
• How Linux boots, from boot loaders to init implementations
(systemd, Upstart, and System V)
• How the kernel manages devices, device drivers, and
processes
• How networking, interfaces, firewalls, and servers work
• How development tools work and relate to shared
libraries
• How to write effective shell scripts
You’ll also explore the kernel and examine key system
tasks inside user space, including system calls, input
and output, and filesystems. With its combination of
background, theory, real-world examples, and patient
explanations, How Linux Works will teach you what
you need to know to solve pesky problems and take
control of your operating system.
ABOUT THE AUTHOR
Brian Ward has been working with Linux since 1993.
He is the author of the Linux Kernel-HOWTO, The Book
of VMware (No Starch Press), and The Linux Problem
Solver (No Starch Press).
www.nostarch.com
THE FINEST IN GE E K ENTERTAINMENT™
The Project Gutenberg EBook of The History of Don Quixote by Miguel de Cervantes

This eBook is for the use of anyone anywhere at no cost and with
almost no restrictions whatsoever.  You may copy it, give it away or
re-use it under the terms of the Project Gutenberg License included
with this eBook or online at www.gutenberg.net


Title: The History of Don Quixote

Author: Miguel de Cervantes Saavedra

Release Date: July 27, 2004 [EBook #996]
Last Updated: August 26, 2019

Language: English

Character set encoding: UTF-8

*** START OF THIS PROJECT GUTENBERG EBOOK DON QUIXOTE ***




Produced by David Widger








bookcover.jpg (230K)


Full Size











spine.jpg (152K)


Full Size






Don Quixote



by Miguel de Cervantes



 Translated by John Ormsby




Ebook Editor’s Note



The book cover and spine above and the images which follow were not
part of the original Ormsby translation—they are taken from the 1880
edition of J. W. Clark, illustrated by Gustave Doré. Clark in his
edition states that, “The English text of ‘Don Quixote’ adopted in this
edition is that of Jarvis, with occasional corrections from Motteaux.”
See in the introduction below John Ormsby’s critique of both the Jarvis
and Motteaux translations. It has been elected in the present Project
Gutenberg edition to attach the famous engravings of Gustave Doré to
the Ormsby translation instead of the Jarvis/Motteaux. The detail of
many of the Doré engravings can be fully appreciated only by utilizing
the “Full Size” button to expand them to their original dimensions.
Ormsby in his Preface has criticized the fanciful nature of Doré’s
illustrations; others feel these woodcuts and steel engravings well
match Quixote’s dreams.            D.W.



p003.jpg (307K)


Full Size



CONTENTS VOLUME I



CHAPTER I WHICH TREATS OF THE CHARACTER AND
PURSUITS OF THE FAMOUS GENTLEMAN DON QUIXOTE OF LA MANCHA 

CHAPTER II WHICH TREATS OF THE FIRST SALLY THE INGENIOUS
DON QUIXOTE MADE FROM HOME 

CHAPTER III
WHEREIN IS RELATED THE DROLL WAY IN WHICH DON QUIXOTE HAD HIMSELF DUBBED A
KNIGHT 

CHAPTER IV OF WHAT HAPPENED TO OUR
KNIGHT WHEN HE LEFT THE INN 

CHAPTER V IN
WHICH THE NARRATIVE OF OUR KNIGHT’S MISHAP IS CONTINUED 

CHAPTER VI OF THE DIVERTING AND IMPORTANT SCRUTINY WHICH
THE CURATE AND THE BARBER MADE IN THE LIBRARY OF OUR INGENIOUS GENTLEMAN


CHAPTER VII OF THE SECOND SALLY OF OUR WORTHY
KNIGHT DON QUIXOTE OF LA MANCHA 

CHAPTER VIII
OF THE GOOD FORTUNE WHICH THE VALIANT DON QUIXOTE HAD IN THE TERRIBLE AND
UNDREAMT-OF ADVENTURE OF THE WINDMILLS, WITH OTHER OCCURRENCES WORTHY TO
BE FITLY RECORDED 

CHAPTER IX IN WHICH IS
CONCLUDED AND FINISHED THE TERRIFIC BATTLE BETWEEN THE GALLANT BISCAYAN
AND THE VALIANT MANCHEGAN 

CHAPTER X OF THE
PLEASANT DISCOURSE THAT PASSED BETWEEN DON QUIXOTE AND HIS SQUIRE SANCHO
PANZA 

CHAPTER XI OF WHAT BEFELL DON QUIXOTE
WITH CERTAIN GOATHERDS 

CHAPTER XII OF WHAT A
GOATHERD RELATED TO THOSE WITH DON QUIXOTE 

CHAPTER
XIII IN WHICH IS ENDED THE STORY OF THE SHEPHERDESS MARCELA, WITH
OTHER INCIDENTS 

CHAPTER XIV WHEREIN ARE
INSERTED THE DESPAIRING VERSES OF THE DEAD SHEPHERD, TOGETHER WITH OTHER
INCIDENTS NOT LOOKED FOR 

CHAPTER XV IN WHICH
IS RELATED THE UNFORTUNATE ADVENTURE THAT DON QUIXOTE FELL IN WITH WHEN HE
FELL OUT WITH CERTAIN HEARTLESS YANGUESANS 

CHAPTER
XVI OF WHAT HAPPENED TO THE INGENIOUS GENTLEMAN IN THE INN WHICH HE
TOOK TO BE A CASTLE 

CHAPTER XVII IN WHICH
ARE CONTAINED THE INNUMERABLE TROUBLES WHICH THE BRAVE DON QUIXOTE AND HIS
GOOD SQUIRE SANCHO PANZA ENDURED IN THE INN, WHICH TO HIS MISFORTUNE HE
TOOK TO BE A CASTLE 

CHAPTER XVIII IN WHICH
IS RELATED THE DISCOURSE SANCHO PANZA HELD WITH HIS MASTER, DON QUIXOTE,
AND OTHER ADVENTURES WORTH RELATING 

CHAPTER XIX
OF THE SHREWD DISCOURSE WHICH SANCHO HELD WITH HIS MASTER, AND OF THE
ADVENTURE THAT BEFELL HIM WITH A DEAD BODY, TOGETHER WITH OTHER NOTABLE
OCCURRENCES 

CHAPTER XX OF THE UNEXAMPLED AND
UNHEARD-OF ADVENTURE WHICH WAS ACHIEVED BY THE VALIANT DON QUIXOTE OF LA
MANCHA WITH LESS PERIL THAN ANY EVER ACHIEVED BY ANY FAMOUS KNIGHT IN THE
WORLD 

CHAPTER XXI WHICH TREATS OF THE
EXALTED ADVENTURE AND RICH PRIZE OF MAMBRINO’S HELMET, TOGETHER WITH OTHER
THINGS THAT HAPPENED TO OUR INVINCIBLE KNIGHT 

CHAPTER
XXII OF THE FREEDOM DON QUIXOTE CONFERRED ON SEVERAL UNFORTUNATES WHO
AGAINST THEIR WILL WERE BEING CARRIED WHERE THEY HAD NO WISH TO GO 

CHAPTER XXIII OF WHAT BEFELL DON QUIXOTE IN THE SIERRA
MORENA, WHICH WAS ONE OF THE RAREST ADVENTURES RELATED IN THIS VERACIOUS
HISTORY 

CHAPTER XXIV IN WHICH IS CONTINUED
THE ADVENTURE OF THE SIERRA MORENA 

CHAPTER XXV
WHICH TREATS OF THE STRANGE THINGS THAT HAPPENED TO THE STOUT KNIGHT OF LA
MANCHA IN THE SIERRA MORENA, AND OF HIS IMITATION OF THE PENANCE OF
BELTENEBROS 

CHAPTER XXVI IN WHICH ARE
CONTINUED THE REFINEMENTS WHEREWITH DON QUIXOTE PLAYED THE PART OF A LOVER
IN THE SIERRA MORENA 

CHAPTER XXVII OF HOW
THE CURATE AND THE BARBER PROCEEDED WITH THEIR SCHEME; TOGETHER WITH OTHER
MATTERS WORTHY OF RECORD IN THIS GREAT HISTORY 

CHAPTER
XXVIII WHICH TREATS OF THE STRANGE AND DELIGHTFUL ADVENTURE THAT
BEFELL THE CURATE AND THE BARBER IN THE SAME SIERRA 

CHAPTER XXIX WHICH TREATS OF THE DROLL DEVICE AND METHOD
ADOPTED TO EXTRICATE OUR LOVE-STRICKEN KNIGHT FROM THE SEVERE PENANCE HE
HAD IMPOSED UPON HIMSELF 

CHAPTER XXX WHICH
TREATS OF ADDRESS DISPLAYED BY THE FAIR DOROTHEA, WITH OTHER MATTERS
PLEASANT AND AMUSING 

CHAPTER XXXI OF THE
DELECTABLE DISCUSSION BETWEEN DON QUIXOTE AND SANCHO PANZA, HIS SQUIRE,
TOGETHER WITH OTHER INCIDENTS 

CHAPTER XXXII
WHICH TREATS OF WHAT BEFELL DON QUIXOTE’S PARTY AT THE INN 

CHAPTER XXXIII IN WHICH IS RELATED THE NOVEL OF “THE
ILL-ADVISED CURIOSITY” 

CHAPTER XXXIV IN
WHICH IS CONTINUED THE NOVEL OF “THE ILL-ADVISED CURIOSITY” 

CHAPTER XXXV WHICH TREATS OF THE HEROIC AND PRODIGIOUS
BATTLE DON QUIXOTE HAD WITH CERTAIN SKINS OF RED WINE, AND BRINGS THE
NOVEL OF “THE ILL-ADVISED CURIOSITY” TO A CLOSE 

CHAPTER
XXXVI WHICH TREATS OF MORE CURIOUS INCIDENTS THAT OCCURRED AT THE INN


CHAPTER XXXVII IN WHICH IS CONTINUED THE
STORY OF THE FAMOUS PRINCESS MICOMICONA, WITH OTHER DROLL ADVENTURES 

CHAPTER XXXVIII WHICH TREATS OF THE CURIOUS DISCOURSE DON
QUIXOTE DELIVERED ON ARMS AND LETTERS 

CHAPTER
XXXIX WHEREIN THE CAPTIVE RELATES HIS LIFE AND ADVENTURES 

CHAPTER XL IN WHICH THE STORY OF THE CAPTIVE IS CONTINUED


CHAPTER XLI IN WHICH THE CAPTIVE STILL
CONTINUES HIS ADVENTURES 

CHAPTER XLII WHICH
TREATS OF WHAT FURTHER TOOK PLACE IN THE INN, AND OF SEVERAL OTHER THINGS
WORTH KNOWING 

CHAPTER XLIII WHEREIN IS
RELATED THE PLEASANT STORY OF THE MULETEER, TOGETHER WITH OTHER STRANGE
THINGS THAT CAME TO PASS IN THE INN 

CHAPTER XLIV
IN WHICH ARE CONTINUED THE UNHEARD-OF ADVENTURES OF THE INN 

CHAPTER XLV IN WHICH THE DOUBTFUL QUESTION OF MAMBRINO’S
HELMET AND THE PACK-SADDLE IS FINALLY SETTLED, WITH OTHER ADVENTURES THAT
OCCURRED IN TRUTH AND EARNEST 

CHAPTER XLVI
OF THE END OF THE NOTABLE ADVENTURE OF THE OFFICERS OF THE HOLY
BROTHERHOOD; AND OF THE GREAT FEROCITY OF OUR WORTHY KNIGHT, DON QUIXOTE


CHAPTER XLVII OF THE STRANGE MANNER IN WHICH
DON QUIXOTE OF LA MANCHA WAS CARRIED AWAY ENCHANTED, TOGETHER WITH OTHER
REMARKABLE INCIDENTS 

CHAPTER XLVIII IN WHICH
THE CANON PURSUES THE SUBJECT OF THE BOOKS OF CHIVALRY, WITH OTHER MATTERS
WORTHY OF HIS WIT 

CHAPTER XLIX WHICH TREATS
OF THE SHREWD CONVERSATION WHICH SANCHO PANZA HELD WITH HIS MASTER DON
QUIXOTE 

CHAPTER L OF THE SHREWD CONTROVERSY
WHICH DON QUIXOTE AND THE CANON HELD, TOGETHER WITH OTHER INCIDENTS 

CHAPTER LI WHICH DEALS WITH WHAT THE GOATHERD TOLD THOSE
WHO WERE CARRYING OFF DON QUIXOTE 

CHAPTER LII
OF THE QUARREL THAT DON QUIXOTE HAD WITH THE GOATHERD, TOGETHER WITH THE
RARE ADVENTURE OF THE PENITENTS, WHICH WITH AN EXPENDITURE OF SWEAT HE
BROUGHT TO A HAPPY CONCLUSION 



CONTENTS VOLUME II



CHAPTER I OF THE INTERVIEW THE CURATE AND
THE BARBER HAD WITH DON QUIXOTE ABOUT HIS MALADY 

CHAPTER
II WHICH TREATS OF THE NOTABLE ALTERCATION WHICH SANCHO PANZA HAD WITH
DON QUIXOTE’S NIECE, AND HOUSEKEEPER, TOGETHER WITH OTHER
DROLLMATTERS 

CHAPTER III OF THE LAUGHABLE
CONVERSATION THAT PASSED BETWEEN DON QUIXOTE, SANCHO PANZA, AND THE
BACHELOR SAMSON CARRASCO 

CHAPTER IV IN WHICH
SANCHO PANZA GIVES A SATISFACTORY REPLY TO THE DOUBTS AND QUESTIONS OF THE
BACHELOR SAMSON CARRASCO, TOGETHER WITH OTHER MATTERS WORTH KNOWING AND
TELLING 

CHAPTER V OF THE SHREWD AND DROLL
CONVERSATION THAT PASSED BETWEEN SANCHO PANZA AND HIS WIFE TERESA PANZA,
AND OTHER MATTERS WORTHY OF BEING DULY RECORDED 

CHAPTER
VI OF WHAT TOOK PLACE BETWEEN DON QUIXOTE AND HIS NIECE AND
HOUSEKEEPER; ONE OF THE MOST IMPORTANT CHAPTERS IN THE WHOLE HISTORY 

CHAPTER VII OF WHAT PASSED BETWEEN DON QUIXOTE AND HIS
SQUIRE, TOGETHER WITH OTHER VERY NOTABLE INCIDENTS 

CHAPTER VIII WHEREIN IS RELATED WHAT BEFELL DON QUIXOTE
ON HIS WAY TO SEE HIS LADY DULCINEA DEL TOBOSO 

CHAPTER
IX WHEREIN IS RELATED WHAT WILL BE SEEN THERE 

CHAPTER X WHEREIN IS RELATED THE CRAFTY DEVICE SANCHO
ADOPTED TO ENCHANT THE LADY DULCINEA, AND OTHER INCIDENTS AS LUDICROUS AS
THEY ARE TRUE 

CHAPTER XI OF THE STRANGE
ADVENTURE WHICH THE VALIANT DON QUIXOTE HAD WITH THE CAR OR CART OF
“THE CORTES OF DEATH” 

CHAPTER XII
OF THE STRANGE ADVENTURE WHICH BEFELL THE VALIANT DON QUIXOTE WITH THE
BOLD KNIGHT OF THE MIRRORS 

CHAPTER XIII IN
WHICH IS CONTINUED THE ADVENTURE OF THE KNIGHT OF THE GROVE, TOGETHER WITH
THE SENSIBLE, ORIGINAL, AND TRANQUIL COLLOQUY THAT PASSED BETWEEN THE TWO
SQUIRES 

CHAPTER XIV WHEREIN IS CONTINUED
THE ADVENTURE OF THE KNIGHT OF THE GROVE 

CHAPTER
XV WHEREIN IT IS TOLD AND KNOWN WHO THE KNIGHT OF THE MIRRORS AND HIS
SQUIRE WERE 

CHAPTER XVI OF WHAT BEFELL DON
QUIXOTE WITH A DISCREET GENTLEMAN OF LA MANCHA 

CHAPTER
XVII WHEREIN IS SHOWN THE FURTHEST AND HIGHEST POINT WHICH THE
UNEXAMPLEDCOURAGE OF DON QUIXOTE REACHED OR COULD REACH; TOGETHER WITH THE
HAPPILY ACHIEVED ADVENTURE OF THE LIONS 

CHAPTER
XVIII OF WHAT HAPPENED DON QUIXOTE IN THE CASTLE OR HOUSE OF THE
KNIGHT OF THE GREEN GABAN, TOGETHER WITH OTHER MATTERS OUT OF THE COMMON


CHAPTER XIX IN WHICH IS RELATED THE
ADVENTURE OF THE ENAMOURED SHEPHERD, TOGETHER WITH OTHER TRULY DROLL
INCIDENTS 

CHAPTER XX WHEREIN AN ACCOUNT IS
GIVEN OF THE WEDDING OF CAMACHO THE RICH, TOGETHER WITH THE INCIDENT OF
BASILIO THE POOR 

CHAPTER XXI IN WHICH
CAMACHO’S WEDDING IS CONTINUED, WITH OTHER DELIGHTFUL INCIDENTS


CHAPTER XXII WHEREIN IS RELATED THE GRAND
ADVENTURE OF THE CAVE OF MONTESINOS IN THE HEART OF LA MANCHA, WHICH THE
VALIANT DON QUIXOTE BROUGHT TO A HAPPY TERMINATION 

CHAPTER XXIII OF THE WONDERFUL THINGS THE INCOMPARABLE
DON QUIXOTE SAID HE SAW IN THE PROFOUND CAVE OF MONTESINOS, THE
IMPOSSIBILITY AND MAGNITUDE OF WHICH CAUSE THIS ADVENTURE TO BE DEEMED
APOCRYPHAL 

CHAPTER XXIV WHEREIN ARE RELATED
A THOUSAND TRIFLING MATTERS, AS TRIVIAL AS THEY ARE NECESSARY TO THE RIGHT
UNDERSTANDING OF THIS GREAT HISTORY 

CHAPTER XXV
WHEREIN IS SET DOWN THE BRAYING ADVENTURE, AND THE DROLL ONE OF THE
PUPPET-SHOWMAN, TOGETHER WITH THE MEMORABLE DIVINATIONS OF THE DIVINING
APE 

CHAPTER XXVI WHEREIN IS CONTINUED THE
DROLL ADVENTURE OF THE PUPPET-SHOWMAN, TOGETHER WITH OTHER THINGS IN TRUTH
RIGHT GOOD 

CHAPTER XXVII WHEREIN IT IS
SHOWN WHO MASTER PEDRO AND HIS APE WERE, TOGETHER WITH THE MISHAP DON
QUIXOTE HAD IN THE BRAYING ADVENTURE, WHICH HE DID NOT CONCLUDE AS HE
WOULD HAVE LIKED OR AS HE HAD EXPECTED 

CHAPTER
XXVIII OF MATTERS THAT BENENGELI SAYS HE WHO READS THEM WILL KNOW, IF
HE READS THEM WITH ATTENTION 

CHAPTER XXIX
OF THE FAMOUS ADVENTURE OF THE ENCHANTED BARK 

CHAPTER
XXX OF DON QUIXOTE’S ADVENTURE WITH A FAIR HUNTRESS 

CHAPTER XXXI WHICH TREATS OF MANY AND GREAT MATTERS


CHAPTER XXXII OF THE REPLY DON QUIXOTE GAVE
HIS CENSURER, WITH OTHER INCIDENTS, GRAVE AND DROLL 

CHAPTER XXXIII OF THE DELECTABLE DISCOURSE WHICH THE
DUCHESS AND HER DAMSELS HELD WITH SANCHO PANZA, WELL WORTH READING AND
NOTING 

CHAPTER XXXIV WHICH RELATES HOW THEY
LEARNED THE WAY IN WHICH THEY WERE TO DISENCHANT THE PEERLESS DULCINEA DEL
TOBOSO, WHICH IS ONE OF THE RAREST ADVENTURES IN THIS BOOK 

CHAPTER XXXV WHEREIN IS CONTINUED THE INSTRUCTION GIVEN
TO DON QUIXOTE TOUCHING THE DISENCHANTMENT OF DULCINEA, TOGETHER WITH
OTHER MARVELLOUS INCIDENTS 

CHAPTER XXXVI
WHEREIN IS RELATED THE STRANGE AND UNDREAMT-OF ADVENTURE OF THE DISTRESSED
DUENNA, ALIAS THE COUNTESS TRIFALDI, TOGETHER WITH A LETTER WHICH SANCHO
PANZA WROTE TO HIS WIFE, TERESA PANZA 

CHAPTER
XXXVII WHEREIN IS CONTINUED THE NOTABLE ADVENTURE OF THE DISTRESSED
DUENNA 

CHAPTER XXXVIII WHEREIN IS TOLD THE
DISTRESSED DUENNA’S TALE OF HER MISFORTUNES 

CHAPTER XXXIX IN WHICH THE TRIFALDI CONTINUES HER
MARVELLOUS AND MEMORABLE STORY 

CHAPTER XL
OF MATTERS RELATING AND BELONGING TO THIS ADVENTURE AND TO THIS MEMORABLE
HISTORY 

CHAPTER XLI OF THE ARRIVAL OF
CLAVILEÑO AND THE END OF THIS PROTRACTED ADVENTURE 

CHAPTER XLII OF THE COUNSELS WHICH DON QUIXOTE GAVE
SANCHO PANZA BEFORE HE SET OUT TO GOVERN THE ISLAND, TOGETHER WITH OTHER
WELL-CONSIDERED MATTERS 

CHAPTER XLIII OF
THE SECOND SET OF COUNSELS DON QUIXOTE GAVE SANCHO PANZA 

CHAPTER XLIV HOW SANCHO PANZA WAS CONDUCTED TO HIS
GOVERNMENT, AND OF THE STRANGE ADVENTURE THAT BEFELL DON QUIXOTE IN THE
CASTLE 

CHAPTER XLV OF HOW THE GREAT SANCHO
PANZA TOOK POSSESSION OF HIS ISLAND, AND OF HOW HE MADE A BEGINNING IN
GOVERNING 

CHAPTER XLVI OF THE TERRIBLE BELL
AND CAT FRIGHT THAT DON QUIXOTE GOT IN THE COURSE OF THE ENAMOURED
ALTISIDORA’S WOOING 

CHAPTER XLVII
WHEREIN IS CONTINUED THE ACCOUNT OF HOW SANCHO PANZA CONDUCTED HIMSELF IN
HIS GOVERNMENT 

CHAPTER XLVIII OF WHAT
BEFELL DON QUIXOTE WITH DOÑA RODRIGUEZ, THE DUCHESS’S DUENNA,
TOGETHER WITH OTHER OCCURRENCES WORTHY OF RECORD AND ETERNAL REMEMBRANCE


CHAPTER XLIX OF WHAT HAPPENED SANCHO IN
MAKING THE ROUND OF HIS ISLAND 

CHAPTER L
WHEREIN IS SET FORTH WHO THE ENCHANTERS AND EXECUTIONERS WERE WHO FLOGGED
THE DUENNA AND PINCHED DON QUIXOTE, AND ALSO WHAT BEFELL THE PAGE WHO
CARRIED THE LETTER TO TERESA PANZA, SANCHO PANZA’S WIFE 

CHAPTER LI OF THE PROGRESS OF SANCHO’S GOVERNMENT,
AND OTHER SUCH ENTERTAINING MATTERS 

CHAPTER LII
WHEREIN IS RELATED THE ADVENTURE OF THE SECOND DISTRESSED OR AFFLICTED
DUENNA, OTHERWISE CALLED DOÑA RODRIGUEZ 

CHAPTER
LIII OF THE TROUBLOUS END AND TERMINATION SANCHO PANZA’S
GOVERNMENT CAME TO 

CHAPTER LIV WHICH DEALS
WITH MATTERS RELATING TO THIS HISTORY AND NO OTHER 

CHAPTER LV OF WHAT BEFELL SANCHO ON THE ROAD, AND OTHER
THINGS THAT CANNOT BE SURPASSED 

CHAPTER LVI
OF THE PRODIGIOUS AND UNPARALLELED BATTLE THAT TOOK PLACE BETWEEN DON
QUIXOTE OF LA MANCHA AND THE LACQUEY TOSILOS IN DEFENCE OF THE DAUGHTER OF
DOÑA RODRIGUEZ 

CHAPTER LVII WHICH TREATS OF
HOW DON QUIXOTE TOOK LEAVE OF THE DUKE, AND OF WHAT FOLLOWED WITH THE
WITTY AND IMPUDENT ALTISIDORA, ONE OF THE DUCHESS’S DAMSELS 

CHAPTER LVIII WHICH TELLS HOW ADVENTURES CAME CROWDING
ON DON QUIXOTE IN SUCH NUMBERS THAT THEY GAVE ONE ANOTHER NO
BREATHING-TIME 

CHAPTER LIX WHEREIN IS
RELATED THE STRANGE THING, WHICH MAY BE REGARDED AS AN ADVENTURE, THAT
HAPPENED DON QUIXOTE 

CHAPTER LX OF WHAT
HAPPENED DON QUIXOTE ON HIS WAY TO BARCELONA 

CHAPTER
LXI OF WHAT HAPPENED DON QUIXOTE ON ENTERING BARCELONA, TOGETHER WITH
OTHER MATTERS THAT PARTAKE OF THE TRUE RATHER THAN OF THE INGENIOUS 

CHAPTER LXII WHICH DEALS WITH THE ADVENTURE OF THE
ENCHANTED HEAD, TOGETHER WITH OTHER TRIVIAL MATTERS WHICH CANNOT BE LEFT
UNTOLD

CHAPTER LXIII OF THE MISHAP THAT
BEFELL SANCHO PANZA THROUGH THE VISIT TO THE GALLEYS, AND THE STRANGE
ADVENTURE OF THE FAIR MORISCO 

CHAPTER LXIV
TREATING OF THE ADVENTURE WHICH GAVE DON QUIXOTE MORE UNHAPPINESS THAN ALL
THAT HAD HITHERTO BEFALLEN HIM 

CHAPTER LXV
WHEREIN IS MADE KNOWN WHO THE KNIGHT OF THE WHITE MOON WAS; LIKEWISE DON
GREGORIO’S RELEASE, AND OTHER EVENTS 

CHAPTER
LXVI WHICH TREATS OF WHAT HE WHO READS WILL SEE, OR WHAT HE WHO HAS IT
READ TO HIM WILL HEAR

CHAPTER LXVII OF THE
RESOLUTION DON QUIXOTE FORMED TO TURN SHEPHERD AND TAKE TO A LIFE IN THE
FIELDS WHILE THE YEAR FOR WHICH HE HAD GIVEN HIS WORD WAS RUNNING ITS
COURSE; WITH OTHER EVENTS TRULY DELECTABLE AND HAPPY 

CHAPTER LXVIII OF THE BRISTLY ADVENTURE THAT BEFELL DON
QUIXOTE 

CHAPTER LXIX OF THE STRANGEST AND
MOST EXTRAORDINARY ADVENTURE THAT BEFELL DON QUIXOTE IN THE WHOLE COURSE
OF THIS GREAT HISTORY 

CHAPTER LXX WHICH
FOLLOWS SIXTY-NINE AND DEALS WITH MATTERS INDISPENSABLE FOR THE CLEAR
COMPREHENSION OF THIS HISTORY 

CHAPTER LXXI
OF WHAT PASSED BETWEEN DON QUIXOTE AND HIS SQUIRE SANCHO ON THE WAY TO
THEIR VILLAGE 

CHAPTER LXXII OF HOW DON
QUIXOTE AND SANCHO REACHED THEIR VILLAGE 

CHAPTER
LXXIII OF THE OMENS DON QUIXOTE HAD AS HE ENTERED HIS OWN VILLAGE, AND
OTHER INCIDENTS THAT EMBELLISH AND GIVE A COLOUR TO THIS GREAT HISTORY


CHAPTER LXXIV OF HOW DON QUIXOTE FELL SICK,
AND OF THE WILL HE MADE, AND HOW HE DIED 



TRANSLATOR’S PREFACE

I: ABOUT THIS TRANSLATION

It was with considerable reluctance that I abandoned in favour of the
present undertaking what had long been a favourite project: that of a
new edition of Shelton’s “Don Quixote,” which has now become a somewhat
scarce book. There are some—and I confess myself to be one—for whom
Shelton’s racy old version, with all its defects, has a charm that no
modern translation, however skilful or correct, could possess. Shelton
had the inestimable advantage of belonging to the same generation as
Cervantes; “Don Quixote” had to him a vitality that only a contemporary
could feel; it cost him no dramatic effort to see things as Cervantes
saw them; there is no anachronism in his language; he put the Spanish
of Cervantes into the English of Shakespeare. Shakespeare himself most
likely knew the book; he may have carried it home with him in his
saddle-bags to Stratford on one of his last journeys, and under the
mulberry tree at New Place joined hands with a kindred genius in its
pages.

But it was soon made plain to me that to hope for even a moderate
popularity for Shelton was vain. His fine old crusted English would, no
doubt, be relished by a minority, but it would be only by a minority.
His warmest admirers must admit that he is not a satisfactory
representative of Cervantes. His translation of the First Part was very
hastily made and was never revised by him. It has all the freshness and
vigour, but also a full measure of the faults, of a hasty production.
It is often very literal—barbarously literal frequently—but just as
often very loose. He had evidently a good colloquial knowledge of
Spanish, but apparently not much more. It never seems to occur to him
that the same translation of a word will not suit in every case.

It is often said that we have no satisfactory translation of “Don
Quixote.” To those who are familiar with the original, it savours of
truism or platitude to say so, for in truth there can be no thoroughly
satisfactory translation of “Don Quixote” into English or any other
language. It is not that the Spanish idioms are so utterly
unmanageable, or that the untranslatable words, numerous enough no
doubt, are so superabundant, but rather that the sententious terseness
to which the humour of the book owes its flavour is peculiar to
Spanish, and can at best be only distantly imitated in any other
tongue.

The history of our English translations of “Don Quixote” is
instructive. Shelton’s, the first in any language, was made,
apparently, about 1608, but not published till 1612. This of course was
only the First Part. It has been asserted that the Second, published in
1620, is not the work of Shelton, but there is nothing to support the
assertion save the fact that it has less spirit, less of what we
generally understand by “go,” about it than the first, which would be
only natural if the first were the work of a young man writing
_currente calamo_, and the second that of a middle-aged man writing for
a bookseller. On the other hand, it is closer and more literal, the
style is the same, the very same translations, or mistranslations,
occur in it, and it is extremely unlikely that a new translator would,
by suppressing his name, have allowed Shelton to carry off the credit.

In 1687 John Phillips, Milton’s nephew, produced a “Don Quixote” “made
English,” he says, “according to the humour of our modern language.”
His “Quixote” is not so much a translation as a travesty, and a
travesty that for coarseness, vulgarity, and buffoonery is almost
unexampled even in the literature of that day.

Ned Ward’s “Life and Notable Adventures of Don Quixote, merrily
translated into Hudibrastic Verse” (1700), can scarcely be reckoned a
translation, but it serves to show the light in which “Don Quixote” was
regarded at the time.

A further illustration may be found in the version published in 1712 by
Peter Motteux, who had then recently combined tea-dealing with
literature. It is described as “translated from the original by several
hands,” but if so all Spanish flavour has entirely evaporated under the
manipulation of the several hands. The flavour that it has, on the
other hand, is distinctly Franco-cockney. Anyone who compares it
carefully with the original will have little doubt that it is a
concoction from Shelton and the French of Filleau de Saint Martin, eked
out by borrowings from Phillips, whose mode of treatment it adopts. It
is, to be sure, more decent and decorous, but it treats “Don Quixote”
in the same fashion as a comic book that cannot be made too comic.

To attempt to improve the humour of “Don Quixote” by an infusion of
cockney flippancy and facetiousness, as Motteux’s operators did, is not
merely an impertinence like larding a sirloin of prize beef, but an
absolute falsification of the spirit of the book, and it is a proof of
the uncritical way in which “Don Quixote” is generally read that this
worse than worthless translation—worthless as failing to represent,
worse than worthless as misrepresenting—should have been favoured as it
has been.

It had the effect, however, of bringing out a translation undertaken
and executed in a very different spirit, that of Charles Jervas, the
portrait painter, and friend of Pope, Swift, Arbuthnot, and Gay. Jervas
has been allowed little credit for his work, indeed it may be said
none, for it is known to the world in general as Jarvis’s. It was not
published until after his death, and the printers gave the name
according to the current pronunciation of the day. It has been the most
freely used and the most freely abused of all the translations. It has
seen far more editions than any other, it is admitted on all hands to
be by far the most faithful, and yet nobody seems to have a good word
to say for it or for its author. Jervas no doubt prejudiced readers
against himself in his preface, where among many true words about
Shelton, Stevens, and Motteux, he rashly and unjustly charges Shelton
with having translated not from the Spanish, but from the Italian
version of Franciosini, which did not appear until ten years after
Shelton’s first volume. A suspicion of incompetence, too, seems to have
attached to him because he was by profession a painter and a mediocre
one (though he has given us the best portrait we have of Swift), and
this may have been strengthened by Pope’s remark that he “translated
‘Don Quixote’ without understanding Spanish.” He has been also charged
with borrowing from Shelton, whom he disparaged. It is true that in a
few difficult or obscure passages he has followed Shelton, and gone
astray with him; but for one case of this sort, there are fifty where
he is right and Shelton wrong. As for Pope’s dictum, anyone who
examines Jervas’s version carefully, side by side with the original,
will see that he was a sound Spanish scholar, incomparably a better one
than Shelton, except perhaps in mere colloquial Spanish. He was, in
fact, an honest, faithful, and painstaking translator, and he has left
a version which, whatever its shortcomings may be, is singularly free
from errors and mistranslations.

The charge against it is that it is stiff, dry—“wooden” in a word,—and
no one can deny that there is a foundation for it. But it may be
pleaded for Jervas that a good deal of this rigidity is due to his
abhorrence of the light, flippant, jocose style of his predecessors. He
was one of the few, very few, translators that have shown any
apprehension of the unsmiling gravity which is the essence of Quixotic
humour; it seemed to him a crime to bring Cervantes forward smirking
and grinning at his own good things, and to this may be attributed in a
great measure the ascetic abstinence from everything savouring of
liveliness which is the characteristic of his translation. In most
modern editions, it should be observed, his style has been smoothed and
smartened, but without any reference to the original Spanish, so that
if he has been made to read more agreeably he has also been robbed of
his chief merit of fidelity.

Smollett’s version, published in 1755, may be almost counted as one of
these. At any rate it is plain that in its construction Jervas’s
translation was very freely drawn upon, and very little or probably no
heed given to the original Spanish.

The later translations may be dismissed in a few words. George Kelly’s,
which appeared in 1769, “printed for the Translator,” was an impudent
imposture, being nothing more than Motteux’s version with a few of the
words, here and there, artfully transposed; Charles Wilmot’s (1774) was
only an abridgment like Florian’s, but not so skilfully executed; and
the version published by Miss Smirke in 1818, to accompany her
brother’s plates, was merely a patchwork production made out of former
translations. On the latest, Mr. A. J. Duffield’s, it would be in every
sense of the word impertinent in me to offer an opinion here. I had not
even seen it when the present undertaking was proposed to me, and since
then I may say vidi tantum, having for obvious reasons resisted the
temptation which Mr. Duffield’s reputation and comely volumes hold out
to every lover of Cervantes.

From the foregoing history of our translations of “Don Quixote,” it
will be seen that there are a good many people who, provided they get
the mere narrative with its full complement of facts, incidents, and
adventures served up to them in a form that amuses them, care very
little whether that form is the one in which Cervantes originally
shaped his ideas. On the other hand, it is clear that there are many
who desire to have not merely the story he tells, but the story as he
tells it, so far at least as differences of idiom and circumstances
permit, and who will give a preference to the conscientious translator,
even though he may have acquitted himself somewhat awkwardly.

But after all there is no real antagonism between the two classes;
there is no reason why what pleases the one should not please the
other, or why a translator who makes it his aim to treat “Don Quixote”
with the respect due to a great classic, should not be as acceptable
even to the careless reader as the one who treats it as a famous old
jest-book. It is not a question of caviare to the general, or, if it
is, the fault rests with him who makes so. The method by which
Cervantes won the ear of the Spanish people ought, mutatis mutandis, to
be equally effective with the great majority of English readers. At any
rate, even if there are readers to whom it is a matter of indifference,
fidelity to the method is as much a part of the translator’s duty as
fidelity to the matter. If he can please all parties, so much the
better; but his first duty is to those who look to him for as faithful
a representation of his author as it is in his power to give them,
faithful to the letter so long as fidelity is practicable, faithful to
the spirit so far as he can make it.

My purpose here is not to dogmatise on the rules of translation, but to
indicate those I have followed, or at least tried to the best of my
ability to follow, in the present instance. One which, it seems to me,
cannot be too rigidly followed in translating “Don Quixote,” is to
avoid everything that savours of affectation. The book itself is,
indeed, in one sense a protest against it, and no man abhorred it more
than Cervantes. For this reason, I think, any temptation to use
antiquated or obsolete language should be resisted. It is after all an
affectation, and one for which there is no warrant or excuse. Spanish
has probably undergone less change since the seventeenth century than
any language in Europe, and by far the greater and certainly the best
part of “Don Quixote” differs but little in language from the
colloquial Spanish of the present day. Except in the tales and Don
Quixote’s speeches, the translator who uses the simplest and plainest
everyday language will almost always be the one who approaches nearest
to the original.

Seeing that the story of “Don Quixote” and all its characters and
incidents have now been for more than two centuries and a half familiar
as household words in English mouths, it seems to me that the old
familiar names and phrases should not be changed without good reason.
Of course a translator who holds that “Don Quixote” should receive the
treatment a great classic deserves, will feel himself bound by the
injunction laid upon the Morisco in Chap. IX not to omit or add
anything.



II: ABOUT CERVANTES AND DON QUIXOTE

Four generations had laughed over “Don Quixote” before it occurred to
anyone to ask, who and what manner of man was this Miguel de Cervantes
Saavedra whose name is on the title-page; and it was too late for a
satisfactory answer to the question when it was proposed to add a life
of the author to the London edition published at Lord Carteret’s
instance in 1738. All traces of the personality of Cervantes had by
that time disappeared. Any floating traditions that may once have
existed, transmitted from men who had known him, had long since died
out, and of other record there was none; for the sixteenth and
seventeenth centuries were incurious as to “the men of the time,” a
reproach against which the nineteenth has, at any rate, secured itself,
if it has produced no Shakespeare or Cervantes. All that Mayans y
Siscar, to whom the task was entrusted, or any of those who followed
him, Rios, Pellicer, or Navarrete, could do was to eke out the few
allusions Cervantes makes to himself in his various prefaces with such
pieces of documentary evidence bearing upon his life as they could
find.

This, however, has been done by the last-named biographer to such good
purpose that he has superseded all predecessors. Thoroughness is the
chief characteristic of Navarrete’s work. Besides sifting, testing, and
methodising with rare patience and judgment what had been previously
brought to light, he left, as the saying is, no stone unturned under
which anything to illustrate his subject might possibly be found.
Navarrete has done all that industry and acumen could do, and it is no
fault of his if he has not given us what we want. What Hallam says of
Shakespeare may be applied to the almost parallel case of Cervantes:
“It is not the register of his baptism, or the draft of his will, or
the orthography of his name that we seek; no letter of his writing, no
record of his conversation, no character of him drawn ... by a
contemporary has been produced.”

It is only natural, therefore, that the biographers of Cervantes,
forced to make brick without straw, should have recourse largely to
conjecture, and that conjecture should in some instances come by
degrees to take the place of established fact. All that I propose to do
here is to separate what is matter of fact from what is matter of
conjecture, and leave it to the reader’s judgment to decide whether the
data justify the inference or not.

The men whose names by common consent stand in the front rank of
Spanish literature, Cervantes, Lope de Vega, Quevedo, Calderon,
Garcilaso de la Vega, the Mendozas, Gongora, were all men of ancient
families, and, curiously, all, except the last, of families that traced
their origin to the same mountain district in the North of Spain. The
family of Cervantes is commonly said to have been of Galician origin,
and unquestionably it was in possession of lands in Galicia at a very
early date; but I think the balance of the evidence tends to show that
the “solar,” the original site of the family, was at Cervatos in the
north-west corner of Old Castile, close to the junction of Castile,
Leon, and the Asturias. As it happens, there is a complete history of
the Cervantes family from the tenth century down to the seventeenth
extant under the title of “Illustrious Ancestry, Glorious Deeds, and
Noble Posterity of the Famous Nuno Alfonso, Alcaide of Toledo,” written
in 1648 by the industrious genealogist Rodrigo Mendez Silva, who
availed himself of a manuscript genealogy by Juan de Mena, the poet
laureate and historiographer of John II.

The origin of the name Cervantes is curious. Nuno Alfonso was almost as
distinguished in the struggle against the Moors in the reign of Alfonso
VII as the Cid had been half a century before in that of Alfonso VI,
and was rewarded by divers grants of land in the neighbourhood of
Toledo. On one of his acquisitions, about two leagues from the city, he
built himself a castle which he called Cervatos, because “he was lord
of the solar of Cervatos in the Montana,” as the mountain region
extending from the Basque Provinces to Leon was always called. At his
death in battle in 1143, the castle passed by his will to his son
Alfonso Munio, who, as territorial or local surnames were then coming
into vogue in place of the simple patronymic, took the additional name
of Cervatos. His eldest son Pedro succeeded him in the possession of
the castle, and followed his example in adopting the name, an
assumption at which the younger son, Gonzalo, seems to have taken
umbrage.

Everyone who has paid even a flying visit to Toledo will remember the
ruined castle that crowns the hill above the spot where the bridge of
Alcántara spans the gorge of the Tagus, and with its broken outline and
crumbling walls makes such an admirable pendant to the square solid
Alcazar towering over the city roofs on the opposite side. It was
built, or as some say restored, by Alfonso VI shortly after his
occupation of Toledo in 1085, and called by him San Servando after a
Spanish martyr, a name subsequently modified into San Servan (in which
form it appears in the “Poem of the Cid”), San Servantes, and San
Cervantes: with regard to which last the “Handbook for Spain” warns its
readers against the supposition that it has anything to do with the
author of “Don Quixote.” Ford, as all know who have taken him for a
companion and counsellor on the roads of Spain, is seldom wrong in
matters of literature or history. In this instance, however, he is in
error. It has everything to do with the author of “Don Quixote,” for it
is in fact these old walls that have given to Spain the name she is
proudest of to-day. Gonzalo, above mentioned, it may be readily
conceived, did not relish the appropriation by his brother of a name to
which he himself had an equal right, for though nominally taken from
the castle, it was in reality derived from the ancient territorial
possession of the family, and as a set-off, and to distinguish himself
(diferenciarse) from his brother, he took as a surname the name of the
castle on the bank of the Tagus, in the building of which, according to
a family tradition, his great-grandfather had a share.

Both brothers founded families. The Cervantes branch had more tenacity;
it sent offshoots in various directions, Andalusia, Estremadura,
Galicia, and Portugal, and produced a goodly line of men distinguished
in the service of Church and State. Gonzalo himself, and apparently a
son of his, followed Ferdinand III in the great campaign of 1236-48
that gave Cordova and Seville to Christian Spain and penned up the
Moors in the kingdom of Granada, and his descendants intermarried with
some of the noblest families of the Peninsula and numbered among them
soldiers, magistrates, and Church dignitaries, including at least two
cardinal-archbishops.

Of the line that settled in Andalusia, Deigo de Cervantes, Commander of
the Order of Santiago, married Juana Avellaneda, daughter of Juan Arias
de Saavedra, and had several sons, of whom one was Gonzalo Gomez,
Corregidor of Jerez and ancestor of the Mexican and Columbian branches
of the family; and another, Juan, whose son Rodrigo married Doña Leonor
de Cortinas, and by her had four children, Rodrigo, Andrea, Luisa, and
Miguel, our author.

The pedigree of Cervantes is not without its bearing on “Don Quixote.”
A man who could look back upon an ancestry of genuine knights-errant
extending from well-nigh the time of Pelayo to the siege of Granada was
likely to have a strong feeling on the subject of the sham chivalry of
the romances. It gives a point, too, to what he says in more than one
place about families that have once been great and have tapered away
until they have come to nothing, like a pyramid. It was the case of his
own.

He was born at Alcalá de Henares and baptised in the church of Santa
Maria Mayor on the 9th of October, 1547. Of his boyhood and youth we
know nothing, unless it be from the glimpse he gives us in the preface
to his “Comedies” of himself as a boy looking on with delight while
Lope de Rueda and his company set up their rude plank stage in the
plaza and acted the rustic farces which he himself afterwards took as
the model of his interludes. This first glimpse, however, is a
significant one, for it shows the early development of that love of the
drama which exercised such an influence on his life and seems to have
grown stronger as he grew older, and of which this very preface,
written only a few months before his death, is such a striking proof.
He gives us to understand, too, that he was a great reader in his
youth; but of this no assurance was needed, for the First Part of “Don
Quixote” alone proves a vast amount of miscellaneous reading, romances
of chivalry, ballads, popular poetry, chronicles, for which he had no
time or opportunity except in the first twenty years of his life; and
his misquotations and mistakes in matters of detail are always, it may
be noticed, those of a man recalling the reading of his boyhood.

Other things besides the drama were in their infancy when Cervantes was
a boy. The period of his boyhood was in every way a transition period
for Spain. The old chivalrous Spain had passed away. The new Spain was
the mightiest power the world had seen since the Roman Empire and it
had not yet been called upon to pay the price of its greatness. By the
policy of Ferdinand and Ximenez the sovereign had been made absolute,
and the Church and Inquisition adroitly adjusted to keep him so. The
nobles, who had always resisted absolutism as strenuously as they had
fought the Moors, had been divested of all political power, a like fate
had befallen the cities, the free constitutions of Castile and Aragon
had been swept away, and the only function that remained to the Cortés
was that of granting money at the King’s dictation.

The transition extended to literature. Men who, like Garcilaso de la
Vega and Diego Hurtado de Mendoza, followed the Italian wars, had
brought back from Italy the products of the post-Renaissance
literature, which took root and flourished and even threatened to
extinguish the native growths. Damon and Thyrsis, Phyllis and Chloe had
been fairly naturalised in Spain, together with all the devices of
pastoral poetry for investing with an air of novelty the idea of a
dispairing shepherd and inflexible shepherdess. As a set-off against
this, the old historical and traditional ballads, and the true
pastorals, the songs and ballads of peasant life, were being collected
assiduously and printed in the cancioneros that succeeded one another
with increasing rapidity. But the most notable consequence, perhaps, of
the spread of printing was the flood of romances of chivalry that had
continued to pour from the press ever since Garci Ordoñez de Montalvo
had resuscitated “Amadis of Gaul” at the beginning of the century.

For a youth fond of reading, solid or light, there could have been no
better spot in Spain than Alcalá de Henares in the middle of the
sixteenth century. It was then a busy, populous university town,
something more than the enterprising rival of Salamanca, and altogether
a very different place from the melancholy, silent, deserted Alcalá the
traveller sees now as he goes from Madrid to Saragossa. Theology and
medicine may have been the strong points of the university, but the
town itself seems to have inclined rather to the humanities and light
literature, and as a producer of books Alcalá was already beginning to
compete with the older presses of Toledo, Burgos, Salamanca and
Seville.

A pendant to the picture Cervantes has given us of his first playgoings
might, no doubt, have been often seen in the streets of Alcalá at that
time; a bright, eager, tawny-haired boy peering into a book-shop where
the latest volumes lay open to tempt the public, wondering, it may be,
what that little book with the woodcut of the blind beggar and his boy,
that called itself “Vida de Lazarillo de Tormes, segunda impresion,”
could be about; or with eyes brimming over with merriment gazing at one
of those preposterous portraits of a knight-errant in outrageous
panoply and plumes with which the publishers of chivalry romances loved
to embellish the title-pages of their folios. If the boy was the father
of the man, the sense of the incongruous that was strong at fifty was
lively at ten, and some such reflections as these may have been the
true genesis of “Don Quixote.”

For his more solid education, we are told, he went to Salamanca. But
why Rodrigo de Cervantes, who was very poor, should have sent his son
to a university a hundred and fifty miles away when he had one at his
own door, would be a puzzle, if we had any reason for supposing that he
did so. The only evidence is a vague statement by Professor Tomas
Gonzalez, that he once saw an old entry of the matriculation of a
Miguel de Cervantes. This does not appear to have been ever seen again;
but even if it had, and if the date corresponded, it would prove
nothing, as there were at least two other Miguels born about the middle
of the century; one of them, moreover, a Cervantes Saavedra, a cousin,
no doubt, who was a source of great embarrassment to the biographers.

That he was a student neither at Salamanca nor at Alcalá is best proved
by his own works. No man drew more largely upon experience than he did,
and he has nowhere left a single reminiscence of student life—for the
“Tia Fingida,” if it be his, is not one—nothing, not even “a college
joke,” to show that he remembered days that most men remember best. All
that we know positively about his education is that Juan Lopez de
Hoyos, a professor of humanities and belles-lettres of some eminence,
calls him his “dear and beloved pupil.” This was in a little collection
of verses by different hands on the death of Isabel de Valois, second
queen of Philip II., published by the professor in 1569, to which
Cervantes contributed four pieces, including an elegy, and an epitaph
in the form of a sonnet. It is only by a rare chance that a “Lycidas”
finds its way into a volume of this sort, and Cervantes was no Milton.
His verses are no worse than such things usually are; so much, at
least, may be said for them.

By the time the book appeared he had left Spain, and, as fate ordered
it, for twelve years, the most eventful ones of his life. Giulio,
afterwards Cardinal, Acquaviva had been sent at the end of 1568 to
Philip II. by the Pope on a mission, partly of condolence, partly
political, and on his return to Rome, which was somewhat brusquely
expedited by the King, he took Cervantes with him as his camarero
(chamberlain), the office he himself held in the Pope’s household. The
post would no doubt have led to advancement at the Papal Court had
Cervantes retained it, but in the summer of 1570 he resigned it and
enlisted as a private soldier in Captain Diego Urbina’s company,
belonging to Don Miguel de Moncada’s regiment, but at that time forming
a part of the command of Marc Antony Colonna. What impelled him to this
step we know not, whether it was distaste for the career before him, or
purely military enthusiasm. It may well have been the latter, for it
was a stirring time; the events, however, which led to the alliance
between Spain, Venice, and the Pope, against the common enemy, the
Porte, and to the victory of the combined fleets at Lepanto, belong
rather to the history of Europe than to the life of Cervantes. He was
one of those that sailed from Messina, in September 1571, under the
command of Don John of Austria; but on the morning of the 7th of
October, when the Turkish fleet was sighted, he was lying below ill
with fever. At the news that the enemy was in sight he rose, and, in
spite of the remonstrances of his comrades and superiors, insisted on
taking his post, saying he preferred death in the service of God and
the King to health. His galley, the _Marquesa_, was in the thick of the
fight, and before it was over he had received three gunshot wounds, two
in the breast and one in the left hand or arm. On the morning after the
battle, according to Navarrete, he had an interview with the
commander-in-chief, Don John, who was making a personal inspection of
the wounded, one result of which was an addition of three crowns to his
pay, and another, apparently, the friendship of his general.

How severely Cervantes was wounded may be inferred from the fact, that
with youth, a vigorous frame, and as cheerful and buoyant a temperament
as ever invalid had, he was seven months in hospital at Messina before
he was discharged. He came out with his left hand permanently disabled;
he had lost the use of it, as Mercury told him in the “Viaje del
Parnaso” for the greater glory of the right. This, however, did not
absolutely unfit him for service, and in April 1572 he joined Manuel
Ponce de Leon’s company of Lope de Figueroa’s regiment, in which, it
seems probable, his brother Rodrigo was serving, and shared in the
operations of the next three years, including the capture of the
Goletta and Tunis. Taking advantage of the lull which followed the
recapture of these places by the Turks, he obtained leave to return to
Spain, and sailed from Naples in September 1575 on board the _Sun_
galley, in company with his brother Rodrigo, Pedro Carrillo de Quesada,
late Governor of the Goletta, and some others, and furnished with
letters from Don John of Austria and the Duke of Sesa, the Viceroy of
Sicily, recommending him to the King for the command of a company, on
account of his services; a _dono infelice_ as events proved. On the
26th they fell in with a squadron of Algerine galleys, and after a
stout resistance were overpowered and carried into Algiers.

By means of a ransomed fellow-captive the brothers contrived to inform
their family of their condition, and the poor people at Alcalá at once
strove to raise the ransom money, the father disposing of all he
possessed, and the two sisters giving up their marriage portions. But
Dali Mami had found on Cervantes the letters addressed to the King by
Don John and the Duke of Sesa, and, concluding that his prize must be a
person of great consequence, when the money came he refused it
scornfully as being altogether insufficient. The owner of Rodrigo,
however, was more easily satisfied; ransom was accepted in his case,
and it was arranged between the brothers that he should return to Spain
and procure a vessel in which he was to come back to Algiers and take
off Miguel and as many of their comrades as possible. This was not the
first attempt to escape that Cervantes had made. Soon after the
commencement of his captivity he induced several of his companions to
join him in trying to reach Oran, then a Spanish post, on foot; but
after the first day’s journey, the Moor who had agreed to act as their
guide deserted them, and they had no choice but to return. The second
attempt was more disastrous. In a garden outside the city on the
sea-shore, he constructed, with the help of the gardener, a Spaniard, a
hiding-place, to which he brought, one by one, fourteen of his
fellow-captives, keeping them there in secrecy for several months, and
supplying them with food through a renegade known as El Dorador, “the
Gilder.” How he, a captive himself, contrived to do all this, is one of
the mysteries of the story. Wild as the project may appear, it was very
nearly successful. The vessel procured by Rodrigo made its appearance
off the coast, and under cover of night was proceeding to take off the
refugees, when the crew were alarmed by a passing fishing boat, and
beat a hasty retreat. On renewing the attempt shortly afterwards, they,
or a portion of them at least, were taken prisoners, and just as the
poor fellows in the garden were exulting in the thought that in a few
moments more freedom would be within their grasp, they found themselves
surrounded by Turkish troops, horse and foot. The Dorador had revealed
the whole scheme to the Dey Hassan.

When Cervantes saw what had befallen them, he charged his companions to
lay all the blame upon him, and as they were being bound he declared
aloud that the whole plot was of his contriving, and that nobody else
had any share in it. Brought before the Dey, he said the same. He was
threatened with impalement and with torture; and as cutting off ears
and noses were playful freaks with the Algerines, it may be conceived
what their tortures were like; but nothing could make him swerve from
his original statement that he and he alone was responsible. The upshot
was that the unhappy gardener was hanged by his master, and the
prisoners taken possession of by the Dey, who, however, afterwards
restored most of them to their masters, but kept Cervantes, paying Dali
Mami 500 crowns for him. He felt, no doubt, that a man of such
resource, energy, and daring, was too dangerous a piece of property to
be left in private hands; and he had him heavily ironed and lodged in
his own prison. If he thought that by these means he could break the
spirit or shake the resolution of his prisoner, he was soon undeceived,
for Cervantes contrived before long to despatch a letter to the
Governor of Oran, entreating him to send him someone that could be
trusted, to enable him and three other gentlemen, fellow-captives of
his, to make their escape; intending evidently to renew his first
attempt with a more trustworthy guide. Unfortunately the Moor who
carried the letter was stopped just outside Oran, and the letter being
found upon him, he was sent back to Algiers, where by the order of the
Dey he was promptly impaled as a warning to others, while Cervantes was
condemned to receive two thousand blows of the stick, a number which
most likely would have deprived the world of “Don Quixote,” had not
some persons, who they were we know not, interceded on his behalf.

After this he seems to have been kept in still closer confinement than
before, for nearly two years passed before he made another attempt.
This time his plan was to purchase, by the aid of a Spanish renegade
and two Valencian merchants resident in Algiers, an armed vessel in
which he and about sixty of the leading captives were to make their
escape; but just as they were about to put it into execution one Doctor
Juan Blanco de Paz, an ecclesiastic and a compatriot, informed the Dey
of the plot. Cervantes by force of character, by his self-devotion, by
his untiring energy and his exertions to lighten the lot of his
companions in misery, had endeared himself to all, and become the
leading spirit in the captive colony, and, incredible as it may seem,
jealousy of his influence and the esteem in which he was held, moved
this man to compass his destruction by a cruel death. The merchants
finding that the Dey knew all, and fearing that Cervantes under torture
might make disclosures that would imperil their own lives, tried to
persuade him to slip away on board a vessel that was on the point of
sailing for Spain; but he told them they had nothing to fear, for no
tortures would make him compromise anybody, and he went at once and
gave himself up to the Dey.

As before, the Dey tried to force him to name his accomplices.
Everything was made ready for his immediate execution; the halter was
put round his neck and his hands tied behind him, but all that could be
got from him was that he himself, with the help of four gentlemen who
had since left Algiers, had arranged the whole, and that the sixty who
were to accompany him were not to know anything of it until the last
moment. Finding he could make nothing of him, the Dey sent him back to
prison more heavily ironed than before.

The poverty-stricken Cervantes family had been all this time trying
once more to raise the ransom money, and at last a sum of three hundred
ducats was got together and entrusted to the Redemptorist Father Juan
Gil, who was about to sail for Algiers. The Dey, however, demanded more
than double the sum offered, and as his term of office had expired and
he was about to sail for Constantinople, taking all his slaves with
him, the case of Cervantes was critical. He was already on board
heavily ironed, when the Dey at length agreed to reduce his demand by
one-half, and Father Gil by borrowing was able to make up the amount,
and on September 19, 1580, after a captivity of five years all but a
week, Cervantes was at last set free. Before long he discovered that
Blanco de Paz, who claimed to be an officer of the Inquisition, was now
concocting on false evidence a charge of misconduct to be brought
against him on his return to Spain. To checkmate him Cervantes drew up
a series of twenty-five questions, covering the whole period of his
captivity, upon which he requested Father Gil to take the depositions
of credible witnesses before a notary. Eleven witnesses taken from
among the principal captives in Algiers deposed to all the facts above
stated and to a great deal more besides. There is something touching in
the admiration, love, and gratitude we see struggling to find
expression in the formal language of the notary, as they testify one
after another to the good deeds of Cervantes, how he comforted and
helped the weak-hearted, how he kept up their drooping courage, how he
shared his poor purse with this deponent, and how “in him this deponent
found father and mother.”

On his return to Spain he found his old regiment about to march for
Portugal to support Philip’s claim to the crown, and utterly penniless
now, had no choice but to rejoin it. He was in the expeditions to the
Azores in 1582 and the following year, and on the conclusion of the war
returned to Spain in the autumn of 1583, bringing with him the
manuscript of his pastoral romance, the “Galatea,” and probably also,
to judge by internal evidence, that of the first portion of “Persiles
and Sigismunda.” He also brought back with him, his biographers assert,
an infant daughter, the offspring of an amour, as some of them with
great circumstantiality inform us, with a Lisbon lady of noble birth,
whose name, however, as well as that of the street she lived in, they
omit to mention. The sole foundation for all this is that in 1605 there
certainly was living in the family of Cervantes a Doña Isabel de
Saavedra, who is described in an official document as his natural
daughter, and then twenty years of age.

With his crippled left hand promotion in the army was hopeless, now
that Don John was dead and he had no one to press his claims and
services, and for a man drawing on to forty life in the ranks was a
dismal prospect; he had already a certain reputation as a poet; he made
up his mind, therefore, to cast his lot with literature, and for a
first venture committed his “Galatea” to the press. It was published,
as Salva y Mallen shows conclusively, at Alcalá, his own birth-place,
in 1585 and no doubt helped to make his name more widely known, but
certainly did not do him much good in any other way.

While it was going through the press, he married Doña Catalina de
Palacios Salazar y Vozmediano, a lady of Esquivias near Madrid, and
apparently a friend of the family, who brought him a fortune which may
possibly have served to keep the wolf from the door, but if so, that
was all. The drama had by this time outgrown market-place stages and
strolling companies, and with his old love for it he naturally turned
to it for a congenial employment. In about three years he wrote twenty
or thirty plays, which he tells us were performed without any throwing
of cucumbers or other missiles, and ran their course without any
hisses, outcries, or disturbance. In other words, his plays were not
bad enough to be hissed off the stage, but not good enough to hold
their own upon it. Only two of them have been preserved, but as they
happen to be two of the seven or eight he mentions with complacency, we
may assume they are favourable specimens, and no one who reads the
“Numancia” and the “Trato de Argel” will feel any surprise that they
failed as acting dramas. Whatever merits they may have, whatever
occasional they may show, they are, as regards construction, incurably
clumsy. How completely they failed is manifest from the fact that with
all his sanguine temperament and indomitable perseverance he was unable
to maintain the struggle to gain a livelihood as a dramatist for more
than three years; nor was the rising popularity of Lope the cause, as
is often said, notwithstanding his own words to the contrary. When Lope
began to write for the stage is uncertain, but it was certainly after
Cervantes went to Seville.

Among the “Nuevos Documentos” printed by Señor Asensio y Toledo is one
dated 1592, and curiously characteristic of Cervantes. It is an
agreement with one Rodrigo Osorio, a manager, who was to accept six
comedies at fifty ducats (about 6l.) apiece, not to be paid in any case
unless it appeared on representation that the said comedy was one of
the best that had ever been represented in Spain. The test does not
seem to have been ever applied; perhaps it was sufficiently apparent to
Rodrigo Osorio that the comedies were not among the best that had ever
been represented. Among the correspondence of Cervantes there might
have been found, no doubt, more than one letter like that we see in the
“Rake’s Progress,” “Sir, I have read your play, and it will not doo.”

He was more successful in a literary contest at Saragossa in 1595 in
honour of the canonisation of St. Jacinto, when his composition won the
first prize, three silver spoons. The year before this he had been
appointed a collector of revenues for the kingdom of Granada. In order
to remit the money he had collected more conveniently to the treasury,
he entrusted it to a merchant, who failed and absconded; and as the
bankrupt’s assets were insufficient to cover the whole, he was sent to
prison at Seville in September 1597. The balance against him, however,
was a small one, about 26l., and on giving security for it he was
released at the end of the year.

It was as he journeyed from town to town collecting the king’s taxes,
that he noted down those bits of inn and wayside life and character
that abound in the pages of “Don Quixote:” the Benedictine monks with
spectacles and sunshades, mounted on their tall mules; the strollers in
costume bound for the next village; the barber with his basin on his
head, on his way to bleed a patient; the recruit with his breeches in
his bundle, tramping along the road singing; the reapers gathered in
the venta gateway listening to “Felixmarte of Hircania” read out to
them; and those little Hogarthian touches that he so well knew how to
bring in, the ox-tail hanging up with the landlord’s comb stuck in it,
the wine-skins at the bed-head, and those notable examples of hostelry
art, Helen going off in high spirits on Paris’s arm, and Dido on the
tower dropping tears as big as walnuts. Nay, it may well be that on
those journeys into remote regions he came across now and then a
specimen of the pauper gentleman, with his lean hack and his greyhound
and his books of chivalry, dreaming away his life in happy ignorance
that the world had changed since his great-grandfather’s old helmet was
new. But it was in Seville that he found out his true vocation, though
he himself would not by any means have admitted it to be so. It was
there, in Triana, that he was first tempted to try his hand at drawing
from life, and first brought his humour into play in the exquisite
little sketch of “Rinconete y Cortadillo,” the germ, in more ways than
one, of “Don Quixote.”

Where and when that was written, we cannot tell. After his imprisonment
all trace of Cervantes in his official capacity disappears, from which
it may be inferred that he was not reinstated. That he was still in
Seville in November 1598 appears from a satirical sonnet of his on the
elaborate catafalque erected to testify the grief of the city at the
death of Philip II, but from this up to 1603 we have no clue to his
movements. The words in the preface to the First Part of “Don Quixote”
are generally held to be conclusive that he conceived the idea of the
book, and wrote the beginning of it at least, in a prison, and that he
may have done so is extremely likely.

There is a tradition that Cervantes read some portions of his work to a
select audience at the Duke of Bejar’s, which may have helped to make
the book known; but the obvious conclusion is that the First Part of
“Don Quixote” lay on his hands some time before he could find a
publisher bold enough to undertake a venture of so novel a character;
and so little faith in it had Francisco Robles of Madrid, to whom at
last he sold it, that he did not care to incur the expense of securing
the copyright for Aragon or Portugal, contenting himself with that for
Castile. The printing was finished in December, and the book came out
with the new year, 1605. It is often said that “Don Quixote” was at
first received coldly. The facts show just the contrary. No sooner was
it in the hands of the public than preparations were made to issue
pirated editions at Lisbon and Valencia, and to bring out a second
edition with the additional copyrights for Aragon and Portugal, which
he secured in February.

No doubt it was received with something more than coldness by certain
sections of the community. Men of wit, taste, and discrimination among
the aristocracy gave it a hearty welcome, but the aristocracy in
general were not likely to relish a book that turned their favourite
reading into ridicule and laughed at so many of their favourite ideas.
The dramatists who gathered round Lope as their leader regarded
Cervantes as their common enemy, and it is plain that he was equally
obnoxious to the other clique, the culto poets who had Gongora for
their chief. Navarrete, who knew nothing of the letter above mentioned,
tries hard to show that the relations between Cervantes and Lope were
of a very friendly sort, as indeed they were until “Don Quixote” was
written. Cervantes, indeed, to the last generously and manfully
declared his admiration of Lope’s powers, his unfailing invention, and
his marvellous fertility; but in the preface of the First Part of “Don
Quixote” and in the verses of “Urganda the Unknown,” and one or two
other places, there are, if we read between the lines, sly hits at
Lope’s vanities and affectations that argue no personal good-will; and
Lope openly sneers at “Don Quixote” and Cervantes, and fourteen years
after his death gives him only a few lines of cold commonplace in the
“Laurel de Apolo,” that seem all the colder for the eulogies of a host
of nonentities whose names are found nowhere else.

In 1601 Valladolid was made the seat of the Court, and at the beginning
of 1603 Cervantes had been summoned thither in connection with the
balance due by him to the Treasury, which was still outstanding. He
remained at Valladolid, apparently supporting himself by agencies and
scrivener’s work of some sort; probably drafting petitions and drawing
up statements of claims to be presented to the Council, and the like.
So, at least, we gather from the depositions taken on the occasion of
the death of a gentleman, the victim of a street brawl, who had been
carried into the house in which he lived. In these he himself is
described as a man who wrote and transacted business, and it appears
that his household then consisted of his wife, the natural daughter
Isabel de Saavedra already mentioned, his sister Andrea, now a widow,
her daughter Constanza, a mysterious Magdalena de Sotomayor calling
herself his sister, for whom his biographers cannot account, and a
servant-maid.

Meanwhile “Don Quixote” had been growing in favour, and its author’s
name was now known beyond the Pyrenees. In 1607 an edition was printed
at Brussels. Robles, the Madrid publisher, found it necessary to meet
the demand by a third edition, the seventh in all, in 1608. The
popularity of the book in Italy was such that a Milan bookseller was
led to bring out an edition in 1610; and another was called for in
Brussels in 1611. It might naturally have been expected that, with such
proofs before him that he had hit the taste of the public, Cervantes
would have at once set about redeeming his rather vague promise of a
second volume.

But, to all appearance, nothing was farther from his thoughts. He had
still by him one or two short tales of the same vintage as those he had
inserted in “Don Quixote” and instead of continuing the adventures of
Don Quixote, he set to work to write more of these “Novelas Exemplares”
as he afterwards called them, with a view to making a book of them.

The novels were published in the summer of 1613, with a dedication to
the Conde de Lemos, the Maecenas of the day, and with one of those
chatty confidential prefaces Cervantes was so fond of. In this, eight
years and a half after the First Part of “Don Quixote” had appeared, we
get the first hint of a forthcoming Second Part. “You shall see
shortly,” he says, “the further exploits of Don Quixote and humours of
Sancho Panza.” His idea of “shortly” was a somewhat elastic one, for,
as we know by the date to Sancho’s letter, he had barely one-half of
the book completed that time twelvemonth.

But more than poems, or pastorals, or novels, it was his dramatic
ambition that engrossed his thoughts. The same indomitable spirit that
kept him from despair in the bagnios of Algiers, and prompted him to
attempt the escape of himself and his comrades again and again, made
him persevere in spite of failure and discouragement in his efforts to
win the ear of the public as a dramatist. The temperament of Cervantes
was essentially sanguine. The portrait he draws in the preface to the
novels, with the aquiline features, chestnut hair, smooth untroubled
forehead, and bright cheerful eyes, is the very portrait of a sanguine
man. Nothing that the managers might say could persuade him that the
merits of his plays would not be recognised at last if they were only
given a fair chance. The old soldier of the Spanish Salamis was bent on
being the Aeschylus of Spain. He was to found a great national drama,
based on the true principles of art, that was to be the envy of all
nations; he was to drive from the stage the silly, childish plays, the
“mirrors of nonsense and models of folly” that were in vogue through
the cupidity of the managers and shortsightedness of the authors; he
was to correct and educate the public taste until it was ripe for
tragedies on the model of the Greek drama—like the “Numancia” for
instance—and comedies that would not only amuse but improve and
instruct. All this he was to do, could he once get a hearing: there was
the initial difficulty.

He shows plainly enough, too, that “Don Quixote” and the demolition of
the chivalry romances was not the work that lay next his heart. He was,
indeed, as he says himself in his preface, more a stepfather than a
father to “Don Quixote.” Never was great work so neglected by its
author. That it was written carelessly, hastily, and by fits and
starts, was not always his fault, but it seems clear he never read what
he sent to the press. He knew how the printers had blundered, but he
never took the trouble to correct them when the third edition was in
progress, as a man who really cared for the child of his brain would
have done. He appears to have regarded the book as little more than a
mere libro de entretenimiento, an amusing book, a thing, as he says in
the “Viaje,” “to divert the melancholy moody heart at any time or
season.” No doubt he had an affection for his hero, and was very proud
of Sancho Panza. It would have been strange indeed if he had not been
proud of the most humorous creation in all fiction. He was proud, too,
of the popularity and success of the book, and beyond measure
delightful is the naivete with which he shows his pride in a dozen
passages in the Second Part. But it was not the success he coveted. In
all probability he would have given all the success of “Don Quixote,”
nay, would have seen every copy of “Don Quixote” burned in the Plaza
Mayor, for one such success as Lope de Vega was enjoying on an average
once a week.

And so he went on, dawdling over “Don Quixote,” adding a chapter now
and again, and putting it aside to turn to “Persiles and
Sigismunda”—which, as we know, was to be the most entertaining book in
the language, and the rival of “Theagenes and Chariclea”—or finishing
off one of his darling comedies; and if Robles asked when “Don Quixote”
would be ready, the answer no doubt was: En breve—shortly, there was
time enough for that. At sixty-eight he was as full of life and hope
and plans for the future as a boy of eighteen.

Nemesis was coming, however. He had got as far as Chapter LIX, which at
his leisurely pace he could hardly have reached before October or
November 1614, when there was put into his hand a small octave lately
printed at Tarragona, and calling itself “Second Volume of the
Ingenious Gentleman Don Quixote of La Mancha: by the Licentiate Alonso
Fernandez de Avellaneda of Tordesillas.” The last half of Chapter LIX
and most of the following chapters of the Second Part give us some idea
of the effect produced upon him, and his irritation was not likely to
be lessened by the reflection that he had no one to blame but himself.
Had Avellaneda, in fact, been content with merely bringing out a
continuation to “Don Quixote,” Cervantes would have had no reasonable
grievance. His own intentions were expressed in the very vaguest
language at the end of the book; nay, in his last words, “forse altro
cantera con miglior plettro,” he seems actually to invite someone else
to continue the work, and he made no sign until eight years and a half
had gone by; by which time Avellaneda’s volume was no doubt written.

In fact Cervantes had no case, or a very bad one, as far as the mere
continuation was concerned. But Avellaneda chose to write a preface to
it, full of such coarse personal abuse as only an ill-conditioned man
could pour out. He taunts Cervantes with being old, with having lost
his hand, with having been in prison, with being poor, with being
friendless, accuses him of envy of Lope’s success, of petulance and
querulousness, and so on; and it was in this that the sting lay.
Avellaneda’s reason for this personal attack is obvious enough. Whoever
he may have been, it is clear that he was one of the dramatists of
Lope’s school, for he has the impudence to charge Cervantes with
attacking him as well as Lope in his criticism on the drama. His
identification has exercised the best critics and baffled all the
ingenuity and research that has been brought to bear on it. Navarrete
and Ticknor both incline to the belief that Cervantes knew who he was;
but I must say I think the anger he shows suggests an invisible
assailant; it is like the irritation of a man stung by a mosquito in
the dark. Cervantes from certain solecisms of language pronounces him
to be an Aragonese, and Pellicer, an Aragonese himself, supports this
view and believes him, moreover, to have been an ecclesiastic, a
Dominican probably.

Any merit Avellaneda has is reflected from Cervantes, and he is too
dull to reflect much. “Dull and dirty” will always be, I imagine, the
verdict of the vast majority of unprejudiced readers. He is, at best, a
poor plagiarist; all he can do is to follow slavishly the lead given
him by Cervantes; his only humour lies in making Don Quixote take inns
for castles and fancy himself some legendary or historical personage,
and Sancho mistake words, invert proverbs, and display his gluttony;
all through he shows a proclivity to coarseness and dirt, and he has
contrived to introduce two tales filthier than anything by the
sixteenth century novellieri and without their sprightliness.

But whatever Avellaneda and his book may be, we must not forget the
debt we owe them. But for them, there can be no doubt, “Don Quixote”
would have come to us a mere torso instead of a complete work. Even if
Cervantes had finished the volume he had in hand, most assuredly he
would have left off with a promise of a Third Part, giving the further
adventures of Don Quixote and humours of Sancho Panza as shepherds. It
is plain that he had at one time an intention of dealing with the
pastoral romances as he had dealt with the books of chivalry, and but
for Avellaneda he would have tried to carry it out. But it is more
likely that, with his plans, and projects, and hopefulness, the volume
would have remained unfinished till his death, and that we should have
never made the acquaintance of the Duke and Duchess, or gone with
Sancho to Barataria.

From the moment the book came into his hands he seems to have been
haunted by the fear that there might be more Avellanedas in the field,
and putting everything else aside, he set himself to finish off his
task and protect Don Quixote in the only way he could, by killing him.
The conclusion is no doubt a hasty and in some places clumsy piece of
work and the frequent repetition of the scolding administered to
Avellaneda becomes in the end rather wearisome; but it is, at any rate,
a conclusion and for that we must thank Avellaneda.

The new volume was ready for the press in February, but was not printed
till the very end of 1615, and during the interval Cervantes put
together the comedies and interludes he had written within the last few
years, and, as he adds plaintively, found no demand for among the
managers, and published them with a preface, worth the book it
introduces tenfold, in which he gives an account of the early Spanish
stage, and of his own attempts as a dramatist. It is needless to say
they were put forward by Cervantes in all good faith and full
confidence in their merits. The reader, however, was not to suppose
they were his last word or final effort in the drama, for he had in
hand a comedy called “Engano a los ojos,” about which, if he mistook
not, there would be no question.

Of this dramatic masterpiece the world has no opportunity of judging;
his health had been failing for some time, and he died, apparently of
dropsy, on the 23rd of April, 1616, the day on which England lost
Shakespeare, nominally at least, for the English calendar had not yet
been reformed. He died as he had lived, accepting his lot bravely and
cheerfully.

Was it an unhappy life, that of Cervantes? His biographers all tell us
that it was; but I must say I doubt it. It was a hard life, a life of
poverty, of incessant struggle, of toil ill paid, of disappointment,
but Cervantes carried within himself the antidote to all these evils.
His was not one of those light natures that rise above adversity merely
by virtue of their own buoyancy; it was in the fortitude of a high
spirit that he was proof against it. It is impossible to conceive
Cervantes giving way to despondency or prostrated by dejection. As for
poverty, it was with him a thing to be laughed over, and the only sigh
he ever allows to escape him is when he says, “Happy he to whom Heaven
has given a piece of bread for which he is not bound to give thanks to
any but Heaven itself.” Add to all this his vital energy and mental
activity, his restless invention and his sanguine temperament, and
there will be reason enough to doubt whether his could have been a very
unhappy life. He who could take Cervantes’ distresses together with his
apparatus for enduring them would not make so bad a bargain, perhaps,
as far as happiness in life is concerned.

Of his burial-place nothing is known except that he was buried, in
accordance with his will, in the neighbouring convent of Trinitarian
nuns, of which it is supposed his daughter, Isabel de Saavedra, was an
inmate, and that a few years afterwards the nuns removed to another
convent, carrying their dead with them. But whether the remains of
Cervantes were included in the removal or not no one knows, and the
clue to their resting-place is now lost beyond all hope. This furnishes
perhaps the least defensible of the items in the charge of neglect
brought against his contemporaries. In some of the others there is a
good deal of exaggeration. To listen to most of his biographers one
would suppose that all Spain was in league not only against the man but
against his memory, or at least that it was insensible to his merits,
and left him to live in misery and die of want. To talk of his hard
life and unworthy employments in Andalusia is absurd. What had he done
to distinguish him from thousands of other struggling men earning a
precarious livelihood? True, he was a gallant soldier, who had been
wounded and had undergone captivity and suffering in his country’s
cause, but there were hundreds of others in the same case. He had
written a mediocre specimen of an insipid class of romance, and some
plays which manifestly did not comply with the primary condition of
pleasing: were the playgoers to patronise plays that did not amuse
them, because the author was to produce “Don Quixote” twenty years
afterwards?

The scramble for copies which, as we have seen, followed immediately on
the appearance of the book, does not look like general insensibility to
its merits. No doubt it was received coldly by some, but if a man
writes a book in ridicule of periwigs he must make his account with
being coldly received by the periwig wearers and hated by the whole
tribe of wigmakers. If Cervantes had the chivalry-romance readers, the
sentimentalists, the dramatists, and the poets of the period all
against him, it was because “Don Quixote” was what it was; and if the
general public did not come forward to make him comfortable for the
rest of his days, it is no more to be charged with neglect and
ingratitude than the English-speaking public that did not pay off
Scott’s liabilities. It did the best it could; it read his book and
liked it and bought it, and encouraged the bookseller to pay him well
for others.

It has been also made a reproach to Spain that she has erected no
monument to the man she is proudest of; no monument, that is to say, of
him; for the bronze statue in the little garden of the Plaza de las
Cortés, a fair work of art no doubt, and unexceptionable had it been
set up to the local poet in the market-place of some provincial town,
is not worthy of Cervantes or of Madrid. But what need has Cervantes of
“such weak witness of his name;” or what could a monument do in his
case except testify to the self-glorification of those who had put it
up? Si monumentum quoeris, circumspice. The nearest bookseller’s shop
will show what bathos there would be in a monument to the author of
“Don Quixote.”

Nine editions of the First Part of “Don Quixote” had already appeared
before Cervantes died, thirty thousand copies in all, according to his
own estimate, and a tenth was printed at Barcelona the year after his
death. So large a number naturally supplied the demand for some time,
but by 1634 it appears to have been exhausted; and from that time down
to the present day the stream of editions has continued to flow rapidly
and regularly. The translations show still more clearly in what request
the book has been from the very outset. In seven years from the
completion of the work it had been translated into the four leading
languages of Europe. Except the Bible, in fact, no book has been so
widely diffused as “Don Quixote.” The “Imitatio Christi” may have been
translated into as many different languages, and perhaps “Robinson
Crusoe” and the “Vicar of Wakefield” into nearly as many, but in
multiplicity of translations and editions “Don Quixote” leaves them all
far behind.

Still more remarkable is the character of this wide diffusion. “Don
Quixote” has been thoroughly naturalised among people whose ideas about
knight-errantry, if they had any at all, were of the vaguest, who had
never seen or heard of a book of chivalry, who could not possibly feel
the humour of the burlesque or sympathise with the author’s purpose.
Another curious fact is that this, the most cosmopolitan book in the
world, is one of the most intensely national. “Manon Lescaut” is not
more thoroughly French, “Tom Jones” not more English, “Rob Roy” not
more Scotch, than “Don Quixote” is Spanish, in character, in ideas, in
sentiment, in local colour, in everything. What, then, is the secret of
this unparalleled popularity, increasing year by year for well-nigh
three centuries? One explanation, no doubt, is that of all the books in
the world, “Don Quixote” is the most catholic. There is something in it
for every sort of reader, young or old, sage or simple, high or low. As
Cervantes himself says with a touch of pride, “It is thumbed and read
and got by heart by people of all sorts; the children turn its leaves,
the young people read it, the grown men understand it, the old folk
praise it.”

But it would be idle to deny that the ingredient which, more than its
humour, or its wisdom, or the fertility of invention or knowledge of
human nature it displays, has insured its success with the multitude,
is the vein of farce that runs through it. It was the attack upon the
sheep, the battle with the wine-skins, Mambrino’s helmet, the balsam of
Fierabras, Don Quixote knocked over by the sails of the windmill,
Sancho tossed in the blanket, the mishaps and misadventures of master
and man, that were originally the great attraction, and perhaps are so
still to some extent with the majority of readers. It is plain that
“Don Quixote” was generally regarded at first, and indeed in Spain for
a long time, as little more than a queer droll book, full of laughable
incidents and absurd situations, very amusing, but not entitled to much
consideration or care. All the editions printed in Spain from 1637 to
1771, when the famous printer Ibarra took it up, were mere trade
editions, badly and carelessly printed on vile paper and got up in the
style of chap-books intended only for popular use, with, in most
instances, uncouth illustrations and clap-trap additions by the
publisher.

To England belongs the credit of having been the first country to
recognise the right of “Don Quixote” to better treatment than this. The
London edition of 1738, commonly called Lord Carteret’s from having
been suggested by him, was not a mere _édition de luxe_. It produced
“Don Quixote” in becoming form as regards paper and type, and
embellished with plates which, if not particularly happy as
illustrations, were at least well intentioned and well executed, but it
also aimed at correctness of text, a matter to which nobody except the
editors of the Valencia and Brussels editions had given even a passing
thought; and for a first attempt it was fairly successful, for though
some of its emendations are inadmissible, a good many of them have been
adopted by all subsequent editors.

The zeal of publishers, editors, and annotators brought about a
remarkable change of sentiment with regard to “Don Quixote.” A vast
number of its admirers began to grow ashamed of laughing over it. It
became almost a crime to treat it as a humorous book. The humour was
not entirely denied, but, according to the new view, it was rated as an
altogether secondary quality, a mere accessory, nothing more than the
stalking-horse under the presentation of which Cervantes shot his
philosophy or his satire, or whatever it was he meant to shoot; for on
this point opinions varied. All were agreed, however, that the object
he aimed at was not the books of chivalry. He said emphatically in the
preface to the First Part and in the last sentence of the Second, that
he had no other object in view than to discredit these books, and this,
to advanced criticism, made it clear that his object must have been
something else.

One theory was that the book was a kind of allegory, setting forth the
eternal struggle between the ideal and the real, between the spirit of
poetry and the spirit of prose; and perhaps German philosophy never
evolved a more ungainly or unlikely camel out of the depths of its
inner consciousness. Something of the antagonism, no doubt, is to be
found in “Don Quixote,” because it is to be found everywhere in life,
and Cervantes drew from life. It is difficult to imagine a community in
which the never-ceasing game of cross-purposes between Sancho Panza and
Don Quixote would not be recognised as true to nature. In the stone
age, among the lake dwellers, among the cave men, there were Don
Quixotes and Sancho Panzas; there must have been the troglodyte who
never could see the facts before his eyes, and the troglodyte who could
see nothing else. But to suppose Cervantes deliberately setting himself
to expound any such idea in two stout quarto volumes is to suppose
something not only very unlike the age in which he lived, but
altogether unlike Cervantes himself, who would have been the first to
laugh at an attempt of the sort made by anyone else.

The extraordinary influence of the romances of chivalry in his day is
quite enough to account for the genesis of the book. Some idea of the
prodigious development of this branch of literature in the sixteenth
century may be obtained from the scrutiny of Chapter VII, if the reader
bears in mind that only a portion of the romances belonging to by far
the largest group are enumerated. As to its effect upon the nation,
there is abundant evidence. From the time when the Amadises and
Palmerins began to grow popular down to the very end of the century,
there is a steady stream of invective, from men whose character and
position lend weight to their words, against the romances of chivalry
and the infatuation of their readers. Ridicule was the only besom to
sweep away that dust.

That this was the task Cervantes set himself, and that he had ample
provocation to urge him to it, will be sufficiently clear to those who
look into the evidence; as it will be also that it was not chivalry
itself that he attacked and swept away. Of all the absurdities that,
thanks to poetry, will be repeated to the end of time, there is no
greater one than saying that “Cervantes smiled Spain’s chivalry away.”
In the first place there was no chivalry for him to smile away. Spain’s
chivalry had been dead for more than a century. Its work was done when
Granada fell, and as chivalry was essentially republican in its nature,
it could not live under the rule that Ferdinand substituted for the
free institutions of mediaeval Spain. What he did smile away was not
chivalry but a degrading mockery of it.

The true nature of the “right arm” and the “bright array,” before
which, according to the poet, “the world gave ground,” and which
Cervantes’ single laugh demolished, may be gathered from the words of
one of his own countrymen, Don Felix Pacheco, as reported by Captain
George Carleton, in his “Military Memoirs from 1672 to 1713.” “Before
the appearance in the world of that labour of Cervantes,” he said, “it
was next to an impossibility for a man to walk the streets with any
delight or without danger. There were seen so many cavaliers prancing
and curvetting before the windows of their mistresses, that a stranger
would have imagined the whole nation to have been nothing less than a
race of knight-errants. But after the world became a little acquainted
with that notable history, the man that was seen in that once
celebrated drapery was pointed at as a Don Quixote, and found himself
the jest of high and low. And I verily believe that to this, and this
only, we owe that dampness and poverty of spirit which has run through
all our councils for a century past, so little agreeable to those
nobler actions of our famous ancestors.”

To call “Don Quixote” a sad book, preaching a pessimist view of life,
argues a total misconception of its drift. It would be so if its moral
were that, in this world, true enthusiasm naturally leads to ridicule
and discomfiture. But it preaches nothing of the sort; its moral, so
far as it can be said to have one, is that the spurious enthusiasm that
is born of vanity and self-conceit, that is made an end in itself, not
a means to an end, that acts on mere impulse, regardless of
circumstances and consequences, is mischievous to its owner, and a very
considerable nuisance to the community at large. To those who cannot
distinguish between the one kind and the other, no doubt “Don Quixote”
is a sad book; no doubt to some minds it is very sad that a man who had
just uttered so beautiful a sentiment as that “it is a hard case to
make slaves of those whom God and Nature made free,” should be
ungratefully pelted by the scoundrels his crazy philanthropy had let
loose on society; but to others of a more judicial cast it will be a
matter of regret that reckless self-sufficient enthusiasm is not
oftener requited in some such way for all the mischief it does in the
world.

A very slight examination of the structure of “Don Quixote” will
suffice to show that Cervantes had no deep design or elaborate plan in
his mind when he began the book. When he wrote those lines in which
“with a few strokes of a great master he sets before us the pauper
gentleman,” he had no idea of the goal to which his imagination was
leading him. There can be little doubt that all he contemplated was a
short tale to range with those he had already written, a tale setting
forth the ludicrous results that might be expected to follow the
attempt of a crazy gentleman to act the part of a knight-errant in
modern life.

It is plain, for one thing, that Sancho Panza did not enter into the
original scheme, for had Cervantes thought of him he certainly would
not have omitted him in his hero’s outfit, which he obviously meant to
be complete. Him we owe to the landlord’s chance remark in Chapter III
that knights seldom travelled without squires. To try to think of a Don
Quixote without Sancho Panza is like trying to think of a one-bladed
pair of scissors.

The story was written at first, like the others, without any division
and without the intervention of Cid Hamete Benengeli; and it seems not
unlikely that Cervantes had some intention of bringing Dulcinea, or
Aldonza Lorenzo, on the scene in person. It was probably the ransacking
of the Don’s library and the discussion on the books of chivalry that
first suggested it to him that his idea was capable of development.
What, if instead of a mere string of farcical misadventures, he were to
make his tale a burlesque of one of these books, caricaturing their
style, incidents, and spirit?

In pursuance of this change of plan, he hastily and somewhat clumsily
divided what he had written into chapters on the model of “Amadis,”
invented the fable of a mysterious Arabic manuscript, and set up Cid
Hamete Benengeli in imitation of the almost invariable practice of the
chivalry-romance authors, who were fond of tracing their books to some
recondite source. In working out the new ideas, he soon found the value
of Sancho Panza. Indeed, the keynote, not only to Sancho’s part, but to
the whole book, is struck in the first words Sancho utters when he
announces his intention of taking his ass with him. “About the ass,” we
are told, “Don Quixote hesitated a little, trying whether he could call
to mind any knight-errant taking with him an esquire mounted on
ass-back; but no instance occurred to his memory.” We can see the whole
scene at a glance, the stolid unconsciousness of Sancho and the
perplexity of his master, upon whose perception the incongruity has
just forced itself. This is Sancho’s mission throughout the book; he is
an unconscious Mephistopheles, always unwittingly making mockery of his
master’s aspirations, always exposing the fallacy of his ideas by some
unintentional ad absurdum, always bringing him back to the world of
fact and commonplace by force of sheer stolidity.

By the time Cervantes had got his volume of novels off his hands, and
summoned up resolution enough to set about the Second Part in earnest,
the case was very much altered. Don Quixote and Sancho Panza had not
merely found favour, but had already become, what they have never since
ceased to be, veritable entities to the popular imagination. There was
no occasion for him now to interpolate extraneous matter; nay, his
readers told him plainly that what they wanted of him was more Don
Quixote and more Sancho Panza, and not novels, tales, or digressions.
To himself, too, his creations had become realities, and he had become
proud of them, especially of Sancho. He began the Second Part,
therefore, under very different conditions, and the difference makes
itself manifest at once. Even in translation the style will be seen to
be far easier, more flowing, more natural, and more like that of a man
sure of himself and of his audience. Don Quixote and Sancho undergo a
change also. In the First Part, Don Quixote has no character or
individuality whatever. He is nothing more than a crazy representative
of the sentiments of the chivalry romances. In all that he says and
does he is simply repeating the lesson he has learned from his books;
and therefore, it is absurd to speak of him in the gushing strain of
the sentimental critics when they dilate upon his nobleness,
disinterestedness, dauntless courage, and so forth. It was the business
of a knight-errant to right wrongs, redress injuries, and succour the
distressed, and this, as a matter of course, he makes his business when
he takes up the part; a knight-errant was bound to be intrepid, and so
he feels bound to cast fear aside. Of all Byron’s melodious nonsense
about Don Quixote, the most nonsensical statement is that “’tis his
virtue makes him mad!” The exact opposite is the truth; it is his
madness makes him virtuous.

In the Second Part, Cervantes repeatedly reminds the reader, as if it
was a point upon which he was anxious there should be no mistake, that
his hero’s madness is strictly confined to delusions on the subject of
chivalry, and that on every other subject he is discreto, one, in fact,
whose faculty of discernment is in perfect order. The advantage of this
is that he is enabled to make use of Don Quixote as a mouthpiece for
his own reflections, and so, without seeming to digress, allow himself
the relief of digression when he requires it, as freely as in a
commonplace book.

It is true the amount of individuality bestowed upon Don Quixote is not
very great. There are some natural touches of character about him, such
as his mixture of irascibility and placability, and his curious
affection for Sancho together with his impatience of the squire’s
loquacity and impertinence; but in the main, apart from his craze, he
is little more than a thoughtful, cultured gentleman, with instinctive
good taste and a great deal of shrewdness and originality of mind.

As to Sancho, it is plain, from the concluding words of the preface to
the First Part, that he was a favourite with his creator even before he
had been taken into favour by the public. An inferior genius, taking
him in hand a second time, would very likely have tried to improve him
by making him more comical, clever, amiable, or virtuous. But Cervantes
was too true an artist to spoil his work in this way. Sancho, when he
reappears, is the old Sancho with the old familiar features; but with a
difference; they have been brought out more distinctly, but at the same
time with a careful avoidance of anything like caricature; the outline
has been filled in where filling in was necessary, and, vivified by a
few touches of a master’s hand, Sancho stands before us as he might in
a character portrait by Velazquez. He is a much more important and
prominent figure in the Second Part than in the First; indeed, it is
his matchless mendacity about Dulcinea that to a great extent supplies
the action of the story.

His development in this respect is as remarkable as in any other. In
the First Part he displays a great natural gift of lying. His lies are
not of the highly imaginative sort that liars in fiction commonly
indulge in; like Falstaff’s, they resemble the father that begets them;
they are simple, homely, plump lies; plain working lies, in short. But
in the service of such a master as Don Quixote he develops rapidly, as
we see when he comes to palm off the three country wenches as Dulcinea
and her ladies in waiting. It is worth noticing how, flushed by his
success in this instance, he is tempted afterwards to try a flight
beyond his powers in his account of the journey on Clavileño.

In the Second Part it is the spirit rather than the incidents of the
chivalry romances that is the subject of the burlesque. Enchantments of
the sort travestied in those of Dulcinea and the Trifaldi and the cave
of Montesinos play a leading part in the later and inferior romances,
and another distinguishing feature is caricatured in Don Quixote’s
blind adoration of Dulcinea. In the romances of chivalry love is either
a mere animalism or a fantastic idolatry. Only a coarse-minded man
would care to make merry with the former, but to one of Cervantes’
humour the latter was naturally an attractive subject for ridicule.
Like everything else in these romances, it is a gross exaggeration of
the real sentiment of chivalry, but its peculiar extravagance is
probably due to the influence of those masters of hyperbole, the
Provencal poets. When a troubadour professed his readiness to obey his
lady in all things, he made it incumbent upon the next comer, if he
wished to avoid the imputation of tameness and commonplace, to declare
himself the slave of her will, which the next was compelled to cap by
some still stronger declaration; and so expressions of devotion went on
rising one above the other like biddings at an auction, and a
conventional language of gallantry and theory of love came into being
that in time permeated the literature of Southern Europe, and bore
fruit, in one direction in the transcendental worship of Beatrice and
Laura, and in another in the grotesque idolatry which found exponents
in writers like Feliciano de Silva. This is what Cervantes deals with
in Don Quixote’s passion for Dulcinea, and in no instance has he
carried out the burlesque more happily. By keeping Dulcinea in the
background, and making her a vague shadowy being of whose very
existence we are left in doubt, he invests Don Quixote’s worship of her
virtues and charms with an additional extravagance, and gives still
more point to the caricature of the sentiment and language of the
romances.

One of the great merits of “Don Quixote,” and one of the qualities that
have secured its acceptance by all classes of readers and made it the
most cosmopolitan of books, is its simplicity. There are, of course,
points obvious enough to a Spanish seventeenth century audience which
do not immediately strike a reader now-a-days, and Cervantes often
takes it for granted that an allusion will be generally understood
which is only intelligible to a few. For example, on many of his
readers in Spain, and most of his readers out of it, the significance
of his choice of a country for his hero is completely lost. It would be
going too far to say that no one can thoroughly comprehend “Don
Quixote” without having seen La Mancha, but undoubtedly even a glimpse
of La Mancha will give an insight into the meaning of Cervantes such as
no commentator can give. Of all the regions of Spain it is the last
that would suggest the idea of romance. Of all the dull central plateau
of the Peninsula it is the dullest tract. There is something impressive
about the grim solitudes of Estremadura; and if the plains of Leon and
Old Castile are bald and dreary, they are studded with old cities
renowned in history and rich in relics of the past. But there is no
redeeming feature in the Manchegan landscape; it has all the sameness
of the desert without its dignity; the few towns and villages that
break its monotony are mean and commonplace, there is nothing venerable
about them, they have not even the picturesqueness of poverty; indeed,
Don Quixote’s own village, Argamasilla, has a sort of oppressive
respectability in the prim regularity of its streets and houses;
everything is ignoble; the very windmills are the ugliest and shabbiest
of the windmill kind.

To anyone who knew the country well, the mere style and title of “Don
Quixote of La Mancha” gave the key to the author’s meaning at once. La
Mancha as the knight’s country and scene of his chivalries is of a
piece with the pasteboard helmet, the farm-labourer on ass-back for a
squire, knighthood conferred by a rascally ventero, convicts taken for
victims of oppression, and the rest of the incongruities between Don
Quixote’s world and the world he lived in, between things as he saw
them and things as they were.

It is strange that this element of incongruity, underlying the whole
humour and purpose of the book, should have been so little heeded by
the majority of those who have undertaken to interpret “Don Quixote.”
It has been completely overlooked, for example, by the illustrators. To
be sure, the great majority of the artists who illustrated “Don
Quixote” knew nothing whatever of Spain. To them a venta conveyed no
idea but the abstract one of a roadside inn, and they could not
therefore do full justice to the humour of Don Quixote’s misconception
in taking it for a castle, or perceive the remoteness of all its
realities from his ideal. But even when better informed they seem to
have no apprehension of the full force of the discrepancy. Take, for
instance, Gustave Doré’s drawing of Don Quixote watching his armour in
the inn-yard. Whether or not the Venta de Quesada on the Seville road
is, as tradition maintains, the inn described in “Don Quixote,” beyond
all question it was just such an inn-yard as the one behind it that
Cervantes had in his mind’s eye, and it was on just such a rude stone
trough as that beside the primitive draw-well in the corner that he
meant Don Quixote to deposit his armour. Gustave Doré makes it an
elaborate fountain such as no arriero ever watered his mules at in the
corral of any venta in Spain, and thereby entirely misses the point
aimed at by Cervantes. It is the mean, prosaic, commonplace character
of all the surroundings and circumstances that gives a significance to
Don Quixote’s vigil and the ceremony that follows.

Cervantes’ humour is for the most part of that broader and simpler
sort, the strength of which lies in the perception of the incongruous.
It is the incongruity of Sancho in all his ways, words, and works, with
the ideas and aims of his master, quite as much as the wonderful
vitality and truth to nature of the character, that makes him the most
humorous creation in the whole range of fiction. That unsmiling gravity
of which Cervantes was the first great master, “Cervantes’ serious
air,” which sits naturally on Swift alone, perhaps, of later
humourists, is essential to this kind of humour, and here again
Cervantes has suffered at the hands of his interpreters. Nothing,
unless indeed the coarse buffoonery of Phillips, could be more out of
place in an attempt to represent Cervantes, than a flippant, would-be
facetious style, like that of Motteux’s version for example, or the
sprightly, jaunty air, French translators sometimes adopt. It is the
grave matter-of-factness of the narrative, and the apparent
unconsciousness of the author that he is saying anything ludicrous,
anything but the merest commonplace, that give its peculiar flavour to
the humour of Cervantes. His, in fact, is the exact opposite of the
humour of Sterne and the self-conscious humourists. Even when Uncle
Toby is at his best, you are always aware of “the man Sterne” behind
him, watching you over his shoulder to see what effect he is producing.
Cervantes always leaves you alone with Don Quixote and Sancho. He and
Swift and the great humourists always keep themselves out of sight, or,
more properly speaking, never think about themselves at all, unlike our
latter-day school of humourists, who seem to have revived the old
horse-collar method, and try to raise a laugh by some grotesque
assumption of ignorance, imbecility, or bad taste.

It is true that to do full justice to Spanish humour in any other
language is well-nigh an impossibility. There is a natural gravity and
a sonorous stateliness about Spanish, be it ever so colloquial, that
make an absurdity doubly absurd, and give plausibility to the most
preposterous statement. This is what makes Sancho Panza’s drollery the
despair of the conscientious translator. Sancho’s curt comments can
never fall flat, but they lose half their flavour when transferred from
their native Castilian into any other medium. But if foreigners have
failed to do justice to the humour of Cervantes, they are no worse than
his own countrymen. Indeed, were it not for the Spanish peasant’s
relish of “Don Quixote,” one might be tempted to think that the great
humourist was not looked upon as a humourist at all in his own country.

The craze of Don Quixote seems, in some instances, to have communicated
itself to his critics, making them see things that are not in the book
and run full tilt at phantoms that have no existence save in their own
imaginations. Like a good many critics now-a-days, they forget that
screams are not criticism, and that it is only vulgar tastes that are
influenced by strings of superlatives, three-piled hyperboles, and
pompous epithets. But what strikes one as particularly strange is that
while they deal in extravagant eulogies, and ascribe all manner of
imaginary ideas and qualities to Cervantes, they show no perception of
the quality that ninety-nine out of a hundred of his readers would rate
highest in him, and hold to be the one that raises him above all
rivalry.

To speak of “Don Quixote” as if it were merely a humorous book would be
a manifest misdescription. Cervantes at times makes it a kind of
commonplace book for occasional essays and criticisms, or for the
observations and reflections and gathered wisdom of a long and stirring
life. It is a mine of shrewd observation on mankind and human nature.
Among modern novels there may be, here and there, more elaborate
studies of character, but there is no book richer in individualised
character. What Coleridge said of Shakespeare in minimis is true of
Cervantes; he never, even for the most temporary purpose, puts forward
a lay figure. There is life and individuality in all his characters,
however little they may have to do, or however short a time they may be
before the reader. Samson Carrasco, the curate, Teresa Panza,
Altisidora, even the two students met on the road to the cave of
Montesinos, all live and move and have their being; and it is
characteristic of the broad humanity of Cervantes that there is not a
hateful one among them all. Even poor Maritornes, with her deplorable
morals, has a kind heart of her own and “some faint and distant
resemblance to a Christian about her;” and as for Sancho, though on
dissection we fail to find a lovable trait in him, unless it be a sort
of dog-like affection for his master, who is there that in his heart
does not love him?

But it is, after all, the humour of “Don Quixote” that distinguishes it
from all other books of the romance kind. It is this that makes it, as
one of the most judicial-minded of modern critics calls it, “the best
novel in the world beyond all comparison.” It is its varied humour,
ranging from broad farce to comedy as subtle as Shakespeare’s or
Molière’s that has naturalised it in every country where there are
readers, and made it a classic in every language that has a literature.



THE AUTHOR’S PREFACE

Idle reader: thou mayest believe me without any oath that I would this
book, as it is the child of my brain, were the fairest, gayest, and
cleverest that could be imagined. But I could not counteract Nature’s
law that everything shall beget its like; and what, then, could this
sterile, illtilled wit of mine beget but the story of a dry,
shrivelled, whimsical offspring, full of thoughts of all sorts and such
as never came into any other imagination—just what might be begotten in
a prison, where every misery is lodged and every doleful sound makes
its dwelling? Tranquillity, a cheerful retreat, pleasant fields, bright
skies, murmuring brooks, peace of mind, these are the things that go
far to make even the most barren muses fertile, and bring into the
world births that fill it with wonder and delight. Sometimes when a
father has an ugly, loutish son, the love he bears him so blindfolds
his eyes that he does not see his defects, or, rather, takes them for
gifts and charms of mind and body, and talks of them to his friends as
wit and grace. I, however—for though I pass for the father, I am but
the stepfather to “Don Quixote”—have no desire to go with the current
of custom, or to implore thee, dearest reader, almost with tears in my
eyes, as others do, to pardon or excuse the defects thou wilt perceive
in this child of mine. Thou art neither its kinsman nor its friend, thy
soul is thine own and thy will as free as any man’s, whate’er he be,
thou art in thine own house and master of it as much as the king of his
taxes and thou knowest the common saying, “Under my cloak I kill the
king;” all which exempts and frees thee from every consideration and
obligation, and thou canst say what thou wilt of the story without fear
of being abused for any ill or rewarded for any good thou mayest say of
it.

My wish would be simply to present it to thee plain and unadorned,
without any embellishment of preface or uncountable muster of customary
sonnets, epigrams, and eulogies, such as are commonly put at the
beginning of books. For I can tell thee, though composing it cost me
some labour, I found none greater than the making of this Preface thou
art now reading. Many times did I take up my pen to write it, and many
did I lay it down again, not knowing what to write. One of these times,
as I was pondering with the paper before me, a pen in my ear, my elbow
on the desk, and my cheek in my hand, thinking of what I should say,
there came in unexpectedly a certain lively, clever friend of mine,
who, seeing me so deep in thought, asked the reason; to which I, making
no mystery of it, answered that I was thinking of the Preface I had to
make for the story of “Don Quixote,” which so troubled me that I had a
mind not to make any at all, nor even publish the achievements of so
noble a knight.

“For, how could you expect me not to feel uneasy about what that
ancient lawgiver they call the Public will say when it sees me, after
slumbering so many years in the silence of oblivion, coming out now
with all my years upon my back, and with a book as dry as a rush,
devoid of invention, meagre in style, poor in thoughts, wholly wanting
in learning and wisdom, without quotations in the margin or annotations
at the end, after the fashion of other books I see, which, though all
fables and profanity, are so full of maxims from Aristotle, and Plato,
and the whole herd of philosophers, that they fill the readers with
amazement and convince them that the authors are men of learning,
erudition, and eloquence. And then, when they quote the Holy
Scriptures!—anyone would say they are St. Thomases or other doctors of
the Church, observing as they do a decorum so ingenious that in one
sentence they describe a distracted lover and in the next deliver a
devout little sermon that it is a pleasure and a treat to hear and
read. Of all this there will be nothing in my book, for I have nothing
to quote in the margin or to note at the end, and still less do I know
what authors I follow in it, to place them at the beginning, as all do,
under the letters A, B, C, beginning with Aristotle and ending with
Xenophon, or Zoilus, or Zeuxis, though one was a slanderer and the
other a painter. Also my book must do without sonnets at the beginning,
at least sonnets whose authors are dukes, marquises, counts, bishops,
ladies, or famous poets. Though if I were to ask two or three obliging
friends, I know they would give me them, and such as the productions of
those that have the highest reputation in our Spain could not equal.

“In short, my friend,” I continued, “I am determined that Señor Don
Quixote shall remain buried in the archives of his own La Mancha until
Heaven provide someone to garnish him with all those things he stands
in need of; because I find myself, through my shallowness and want of
learning, unequal to supplying them, and because I am by nature shy and
careless about hunting for authors to say what I myself can say without
them. Hence the cogitation and abstraction you found me in, and reason
enough, what you have heard from me.”

Hearing this, my friend, giving himself a slap on the forehead and
breaking into a hearty laugh, exclaimed, “Before God, Brother, now am I
disabused of an error in which I have been living all this long time I
have known you, all through which I have taken you to be shrewd and
sensible in all you do; but now I see you are as far from that as the
heaven is from the earth. It is possible that things of so little
moment and so easy to set right can occupy and perplex a ripe wit like
yours, fit to break through and crush far greater obstacles? By my
faith, this comes, not of any want of ability, but of too much
indolence and too little knowledge of life. Do you want to know if I am
telling the truth? Well, then, attend to me, and you will see how, in
the opening and shutting of an eye, I sweep away all your difficulties,
and supply all those deficiencies which you say check and discourage
you from bringing before the world the story of your famous Don
Quixote, the light and mirror of all knight-errantry.”

“Say on,” said I, listening to his talk; “how do you propose to make up
for my diffidence, and reduce to order this chaos of perplexity I am
in?”

To which he made answer, “Your first difficulty about the sonnets,
epigrams, or complimentary verses which you want for the beginning, and
which ought to be by persons of importance and rank, can be removed if
you yourself take a little trouble to make them; you can afterwards
baptise them, and put any name you like to them, fathering them on
Prester John of the Indies or the Emperor of Trebizond, who, to my
knowledge, were said to have been famous poets: and even if they were
not, and any pedants or bachelors should attack you and question the
fact, never care two maravedis for that, for even if they prove a lie
against you they cannot cut off the hand you wrote it with.

“As to references in the margin to the books and authors from whom you
take the aphorisms and sayings you put into your story, it is only
contriving to fit in nicely any sentences or scraps of Latin you may
happen to have by heart, or at any rate that will not give you much
trouble to look up; so as, when you speak of freedom and captivity, to
insert

_Non bene pro toto libertas venditur auro;_


and then refer in the margin to Horace, or whoever said it; or, if you
allude to the power of death, to come in with—

_Pallida mors æquo pulsat pede pauperum tabernas,
Regumque turres._


“If it be friendship and the love God bids us bear to our enemy, go at
once to the Holy Scriptures, which you can do with a very small amount
of research, and quote no less than the words of God himself: _Ego
autem dico vobis: diligite inimicos vestros._ If you speak of evil
thoughts, turn to the Gospel: _De corde exeunt cogitationes malæ._ If
of the fickleness of friends, there is Cato, who will give you his
distich:

_Donec eris felix multos numerabis amicos,
Tempora si fuerint nubila, solus eris._


“With these and such like bits of Latin they will take you for a
grammarian at all events, and that now-a-days is no small honour and
profit.

“With regard to adding annotations at the end of the book, you may
safely do it in this way. If you mention any giant in your book
contrive that it shall be the giant Goliath, and with this alone, which
will cost you almost nothing, you have a grand note, for you can
put—_The giant Golias or Goliath was a Philistine whom the shepherd
David slew by a mighty stone-cast in the Terebinth valley, as is
related in the Book of Kings_—in the chapter where you find it written.

“Next, to prove yourself a man of erudition in polite literature and
cosmography, manage that the river Tagus shall be named in your story,
and there you are at once with another famous annotation, setting
forth—_The river Tagus was so called after a King of Spain: it has its
source in such and such a place and falls into the ocean, kissing the
walls of the famous city of Lisbon, and it is a common belief that it
has golden sands_, etc. If you should have anything to do with robbers,
I will give you the story of Cacus, for I have it by heart; if with
loose women, there is the Bishop of Mondonedo, who will give you the
loan of Lamia, Laida, and Flora, any reference to whom will bring you
great credit; if with hard-hearted ones, Ovid will furnish you with
Medea; if with witches or enchantresses, Homer has Calypso, and Virgil
Circe; if with valiant captains, Julius Cæsar himself will lend you
himself in his own ‘Commentaries,’ and Plutarch will give you a
thousand Alexanders. If you should deal with love, with two ounces you
may know of Tuscan you can go to Leon the Hebrew, who will supply you
to your heart’s content; or if you should not care to go to foreign
countries you have at home Fonseca’s ‘Of the Love of God,’ in which is
condensed all that you or the most imaginative mind can want on the
subject. In short, all you have to do is to manage to quote these
names, or refer to these stories I have mentioned, and leave it to me
to insert the annotations and quotations, and I swear by all that’s
good to fill your margins and use up four sheets at the end of the
book.

“Now let us come to those references to authors which other books have,
and you want for yours. The remedy for this is very simple: You have
only to look out for some book that quotes them all, from A to Z as you
say yourself, and then insert the very same alphabet in your book, and
though the imposition may be plain to see, because you have so little
need to borrow from them, that is no matter; there will probably be
some simple enough to believe that you have made use of them all in
this plain, artless story of yours. At any rate, if it answers no other
purpose, this long catalogue of authors will serve to give a surprising
look of authority to your book. Besides, no one will trouble himself to
verify whether you have followed them or whether you have not, being no
way concerned in it; especially as, if I mistake not, this book of
yours has no need of any one of those things you say it wants, for it
is, from beginning to end, an attack upon the books of chivalry, of
which Aristotle never dreamt, nor St. Basil said a word, nor Cicero had
any knowledge; nor do the niceties of truth nor the observations of
astrology come within the range of its fanciful vagaries; nor have
geometrical measurements or refutations of the arguments used in
rhetoric anything to do with it; nor does it mean to preach to anybody,
mixing up things human and divine, a sort of motley in which no
Christian understanding should dress itself. It has only to avail
itself of truth to nature in its composition, and the more perfect the
imitation the better the work will be. And as this piece of yours aims
at nothing more than to destroy the authority and influence which books
of chivalry have in the world and with the public, there is no need for
you to go a-begging for aphorisms from philosophers, precepts from Holy
Scripture, fables from poets, speeches from orators, or miracles from
saints; but merely to take care that your style and diction run
musically, pleasantly, and plainly, with clear, proper, and well-placed
words, setting forth your purpose to the best of your power, and
putting your ideas intelligibly, without confusion or obscurity.
Strive, too, that in reading your story the melancholy may be moved to
laughter, and the merry made merrier still; that the simple shall not
be wearied, that the judicious shall admire the invention, that the
grave shall not despise it, nor the wise fail to praise it. Finally,
keep your aim fixed on the destruction of that ill-founded edifice of
the books of chivalry, hated by some and praised by many more; for if
you succeed in this you will have achieved no small success.”

In profound silence I listened to what my friend said, and his
observations made such an impression on me that, without attempting to
question them, I admitted their soundness, and out of them I determined
to make this Preface; wherein, gentle reader, thou wilt perceive my
friend’s good sense, my good fortune in finding such an adviser in such
a time of need, and what thou hast gained in receiving, without
addition or alteration, the story of the famous Don Quixote of La
Mancha, who is held by all the inhabitants of the district of the Campo
de Montiel to have been the chastest lover and the bravest knight that
has for many years been seen in that neighbourhood. I have no desire to
magnify the service I render thee in making thee acquainted with so
renowned and honoured a knight, but I do desire thy thanks for the
acquaintance thou wilt make with the famous Sancho Panza, his squire,
in whom, to my thinking, I have given thee condensed all the squirely
drolleries that are scattered through the swarm of the vain books of
chivalry. And so—may God give thee health, and not forget me. Vale.



SOME COMMENDATORY VERSES



URGANDA THE UNKNOWN

To the book of Don Quixote of la Mancha

If to be welcomed by the good,
O Book! thou make thy steady aim,
No empty chatterer will dare
To question or dispute thy claim.
But if perchance thou hast a mind
To win of idiots approbation,
Lost labour will be thy reward,
Though they’ll pretend appreciation.

They say a goodly shade he finds
Who shelters ’neath a goodly tree;
And such a one thy kindly star
In Bejar bath provided thee:
A royal tree whose spreading boughs
A show of princely fruit display;
A tree that bears a noble Duke,
The Alexander of his day.

Of a Manchegan gentleman
Thy purpose is to tell the story,
Relating how he lost his wits
O’er idle tales of love and glory,
Of “ladies, arms, and cavaliers:”
A new Orlando Furioso—
Innamorato, rather—who
Won Dulcinea del Toboso.

Put no vain emblems on thy shield;
All figures—that is bragging play.
A modest dedication make,
And give no scoffer room to say,
“What! Álvaro de Luna here?
Or is it Hannibal again?
Or does King Francis at Madrid
Once more of destiny complain?”

Since Heaven it hath not pleased on thee
Deep erudition to bestow,
Or black Latino’s gift of tongues,
No Latin let thy pages show.
Ape not philosophy or wit,
Lest one who cannot comprehend,
Make a wry face at thee and ask,
“Why offer flowers to me, my friend?”

Be not a meddler; no affair
Of thine the life thy neighbours lead:
Be prudent; oft the random jest
Recoils upon the jester’s head.
Thy constant labour let it be
To earn thyself an honest name,
For fooleries preserved in print
Are perpetuity of shame.

A further counsel bear in mind:
If that thy roof be made of glass,
It shows small wit to pick up stones
To pelt the people as they pass.
Win the attention of the wise,
And give the thinker food for thought;
Whoso indites frivolities,
Will but by simpletons be sought.




AMADIS OF GAUL
To Don Quixote of la Mancha

SONNET

Thou that didst imitate that life of mine
When I in lonely sadness on the great
Rock Peña Pobre sat disconsolate,
In self-imposed penance there to pine;
Thou, whose sole beverage was the bitter brine
Of thine own tears, and who withouten plate
Of silver, copper, tin, in lowly state
Off the bare earth and on earth’s fruits didst dine;
Live thou, of thine eternal glory sure.
So long as on the round of the fourth sphere
The bright Apollo shall his coursers steer,
In thy renown thou shalt remain secure,
Thy country’s name in story shall endure,
And thy sage author stand without a peer.




DON BELIANIS OF GREECE
To Don Quixote of la Mancha

SONNET

In slashing, hewing, cleaving, word and deed,
I was the foremost knight of chivalry,
Stout, bold, expert, as e’er the world did see;
Thousands from the oppressor’s wrong I freed;
Great were my feats, eternal fame their meed;
In love I proved my truth and loyalty;
The hugest giant was a dwarf for me;
Ever to knighthood’s laws gave I good heed.
My mastery the Fickle Goddess owned,
And even Chance, submitting to control,
Grasped by the forelock, yielded to my will.
Yet—though above yon horned moon enthroned
My fortune seems to sit—great Quixote, still
Envy of thy achievements fills my soul.




THE LADY OF ORIANA
To Dulcinea del Toboso

SONNET

Oh, fairest Dulcinea, could it be!
It were a pleasant fancy to suppose so—
Could Miraflores change to El Toboso,
And London’s town to that which shelters thee!
Oh, could mine but acquire that livery
Of countless charms thy mind and body show so!
Or him, now famous grown—thou mad’st him grow so—
Thy knight, in some dread combat could I see!
Oh, could I be released from Amadis
By exercise of such coy chastity
As led thee gentle Quixote to dismiss!
Then would my heavy sorrow turn to joy;
None would I envy, all would envy me,
And happiness be mine without alloy.




GANDALIN, SQUIRE OF AMADIS OF GAUL,
To Sancho Panza, squire of Don Quixote

SONNET

All hail, illustrious man! Fortune, when she
Bound thee apprentice to the esquire trade,
Her care and tenderness of thee displayed,
Shaping thy course from misadventure free.
No longer now doth proud knight-errantry
Regard with scorn the sickle and the spade;
Of towering arrogance less count is made
Than of plain esquire-like simplicity.
I envy thee thy Dapple, and thy name,
And those alforjas thou wast wont to stuff
With comforts that thy providence proclaim.
Excellent Sancho! hail to thee again!
To thee alone the Ovid of our Spain
Does homage with the rustic kiss and cuff.




FROM EL DONOSO, THE MOTLEY POET,

On Sancho Panza and Rocinante

ON SANCHO

I am the esquire Sancho Pan—
Who served Don Quixote of La Man—;
But from his service I retreat—,
Resolved to pass my life discreet—;
For Villadiego, called the Si—,
Maintained that only in reti—
Was found the secret of well-be—,
According to the “Celesti—:”
A book divine, except for sin—
By speech too plain, in my opin—




ON ROCINANTE

I am that Rocinante fa—,
Great-grandson of great Babie—,
Who, all for being lean and bon—,
Had one Don Quixote for an own—;
But if I matched him well in weak—,
I never took short commons meek—,
But kept myself in corn by steal—,
A trick I learned from Lazaril—,
When with a piece of straw so neat—
The blind man of his wine he cheat—.




ORLANDO FURIOSO
To Don Quixote of La Mancha

SONNET

If thou art not a Peer, peer thou hast none;
Among a thousand Peers thou art a peer;
Nor is there room for one when thou art near,
Unvanquished victor, great unconquered one!
Orlando, by Angelica undone,
Am I; o’er distant seas condemned to steer,
And to Fame’s altars as an offering bear
Valour respected by Oblivion.
I cannot be thy rival, for thy fame
And prowess rise above all rivalry,
Albeit both bereft of wits we go.
But, though the Scythian or the Moor to tame
Was not thy lot, still thou dost rival me:
Love binds us in a fellowship of woe.




THE KNIGHT OF PHŒBUS

To Don Quixote of La Mancha

My sword was not to be compared with thine
Phœbus of Spain, marvel of courtesy,
Nor with thy famous arm this hand of mine
That smote from east to west as lightnings fly.
I scorned all empire, and that monarchy
The rosy east held out did I resign
For one glance of Claridiana’s eye,
The bright Aurora for whose love I pine.
A miracle of constancy my love;
And banished by her ruthless cruelty,
This arm had might the rage of Hell to tame.
But, Gothic Quixote, happier thou dost prove,
For thou dost live in Dulcinea’s name,
And famous, honoured, wise, she lives in thee.




FROM SOLISDAN
To Don Quixote of La Mancha

SONNET

Your fantasies, Sir Quixote, it is true,
That crazy brain of yours have quite upset,
But aught of base or mean hath never yet
Been charged by any in reproach to you.
Your deeds are open proof in all men’s view;
For you went forth injustice to abate,
And for your pains sore drubbings did you get
From many a rascally and ruffian crew.
If the fair Dulcinea, your heart’s queen,
Be unrelenting in her cruelty,
If still your woe be powerless to move her,
In such hard case your comfort let it be
That Sancho was a sorry go-between:
A booby he, hard-hearted she, and you no lover.




DIALOGUE
Between Babieca and Rocinante

SONNET

B.  “How comes it, Rocinante, you’re so lean?”
R.  “I’m underfed, with overwork I’m worn.”
B.  “But what becomes of all the hay and corn?”
R.  “My master gives me none; he’s much too mean.”
B.  “Come, come, you show ill-breeding, sir, I ween;
’Tis like an ass your master thus to scorn.”
R.  He is an ass, will die an ass, an ass was born;
Why, he’s in love; what’s plainer to be seen?”
B.  “To be in love is folly?”—R. “No great sense.”
B.  “You’re metaphysical.”—R. “From want of food.”
B.  “Rail at the squire, then.”—R. “Why, what’s the good?
I might indeed complain of him, I grant ye,
But, squire or master, where’s the difference?
They’re both as sorry hacks as Rocinante.”



p005.jpg (171K)

Full Size



DEDICATION OF PART I

TO THE DUKE OF BEJAR, MARQUIS OF GIBRALEON, COUNT OF BENALCAZAR AND
BANARES, VICECOUNT OF THE PUEBLA DE ALCOCER, MASTER OF THE TOWNS OF
CAPILLA, CURIEL AND BURGUILLOS




In belief of the good reception and honours that Your Excellency
bestows on all sort of books, as prince so inclined to favor good arts,
chiefly those who by their nobleness do not submit to the service and
bribery of the vulgar, I have determined bringing to light The
Ingenious Gentleman Don Quixote of la Mancha, in shelter of Your
Excellency’s glamorous name, to whom, with the obeisance I owe to such
grandeur, I pray to receive it agreeably under his protection, so that
in this shadow, though deprived of that precious ornament of elegance
and erudition that clothe the works composed in the houses of those who
know, it dares appear with assurance in the judgment of some who,
trespassing the bounds of their own ignorance, use to condemn with more
rigour and less justice the writings of others. It is my earnest hope
that Your Excellency’s good counsel in regard to my honourable purpose,
will not disdain the littleness of so humble a service.

Miguel de Cervantes



e00.jpg (24K)



CHAPTER I.
WHICH TREATS OF THE CHARACTER AND PURSUITS OF THE FAMOUS GENTLEMAN DON
QUIXOTE OF LA MANCHA




p007.jpg (150K)

Full Size

In a village of La Mancha, the name of which I have no desire to call
to mind, there lived not long since one of those gentlemen that keep a
lance in the lance-rack, an old buckler, a lean hack, and a greyhound
for coursing. An olla of rather more beef than mutton, a salad on most
nights, scraps on Saturdays, lentils on Fridays, and a pigeon or so
extra on Sundays, made away with three-quarters of his income. The rest
of it went in a doublet of fine cloth and velvet breeches and shoes to
match for holidays, while on week-days he made a brave figure in his
best homespun. He had in his house a housekeeper past forty, a niece
under twenty, and a lad for the field and market-place, who used to
saddle the hack as well as handle the bill-hook. The age of this
gentleman of ours was bordering on fifty; he was of a hardy habit,
spare, gaunt-featured, a very early riser and a great sportsman. They
will have it his surname was Quixada or Quesada (for here there is some
difference of opinion among the authors who write on the subject),
although from reasonable conjectures it seems plain that he was called
Quexana. This, however, is of but little importance to our tale; it
will be enough not to stray a hair’s breadth from the truth in the
telling of it.

You must know, then, that the above-named gentleman whenever he was at
leisure (which was mostly all the year round) gave himself up to
reading books of chivalry with such ardour and avidity that he almost
entirely neglected the pursuit of his field-sports, and even the
management of his property; and to such a pitch did his eagerness and
infatuation go that he sold many an acre of tillageland to buy books of
chivalry to read, and brought home as many of them as he could get. But
of all there were none he liked so well as those of the famous
Feliciano de Silva’s composition, for their lucidity of style and
complicated conceits were as pearls in his sight, particularly when in
his reading he came upon courtships and cartels, where he often found
passages like “_the reason of the unreason with which my reason is
afflicted so weakens my reason that with reason I murmur at your
beauty;” or again, “the high heavens, that of your divinity divinely
fortify you with the stars, render you deserving of the desert your
greatness deserves_.” Over conceits of this sort the poor gentleman
lost his wits, and used to lie awake striving to understand them and
worm the meaning out of them; what Aristotle himself could not have
made out or extracted had he come to life again for that special
purpose. He was not at all easy about the wounds which Don Belianis
gave and took, because it seemed to him that, great as were the
surgeons who had cured him, he must have had his face and body covered
all over with seams and scars. He commended, however, the author’s way
of ending his book with the promise of that interminable adventure, and
many a time was he tempted to take up his pen and finish it properly as
is there proposed, which no doubt he would have done, and made a
successful piece of work of it too, had not greater and more absorbing
thoughts prevented him.

Many an argument did he have with the curate of his village (a learned
man, and a graduate of Siguenza) as to which had been the better
knight, Palmerin of England or Amadis of Gaul. Master Nicholas, the
village barber, however, used to say that neither of them came up to
the Knight of Phœbus, and that if there was any that could compare with
_him_ it was Don Galaor, the brother of Amadis of Gaul, because he had
a spirit that was equal to every occasion, and was no finikin knight,
nor lachrymose like his brother, while in the matter of valour he was
not a whit behind him. In short, he became so absorbed in his books
that he spent his nights from sunset to sunrise, and his days from dawn
to dark, poring over them; and what with little sleep and much reading
his brains got so dry that he lost his wits. His fancy grew full of
what he used to read about in his books, enchantments, quarrels,
battles, challenges, wounds, wooings, loves, agonies, and all sorts of
impossible nonsense; and it so possessed his mind that the whole fabric
of invention and fancy he read of was true, that to him no history in
the world had more reality in it. He used to say the Cid Ruy Diaz was a
very good knight, but that he was not to be compared with the Knight of
the Burning Sword who with one back-stroke cut in half two fierce and
monstrous giants. He thought more of Bernardo del Carpio because at
Roncesvalles he slew Roland in spite of enchantments, availing himself
of the artifice of Hercules when he strangled Antæus the son of Terra
in his arms. He approved highly of the giant Morgante, because,
although of the giant breed which is always arrogant and
ill-conditioned, he alone was affable and well-bred. But above all he
admired Reinaldos of Montalban, especially when he saw him sallying
forth from his castle and robbing everyone he met, and when beyond the
seas he stole that image of Mahomet which, as his history says, was
entirely of gold. To have a bout of kicking at that traitor of a
Ganelon he would have given his housekeeper, and his niece into the
bargain.

In short, his wits being quite gone, he hit upon the strangest notion
that ever madman in this world hit upon, and that was that he fancied
it was right and requisite, as well for the support of his own honour
as for the service of his country, that he should make a knight-errant
of himself, roaming the world over in full armour and on horseback in
quest of adventures, and putting in practice himself all that he had
read of as being the usual practices of knights-errant; righting every
kind of wrong, and exposing himself to peril and danger from which, in
the issue, he was to reap eternal renown and fame. Already the poor man
saw himself crowned by the might of his arm Emperor of Trebizond at
least; and so, led away by the intense enjoyment he found in these
pleasant fancies, he set himself forthwith to put his scheme into
execution.

The first thing he did was to clean up some armour that had belonged to
his great-grandfather, and had been for ages lying forgotten in a
corner eaten with rust and covered with mildew. He scoured and polished
it as best he could, but he perceived one great defect in it, that it
had no closed helmet, nothing but a simple morion. This deficiency,
however, his ingenuity supplied, for he contrived a kind of half-helmet
of pasteboard which, fitted on to the morion, looked like a whole one.
It is true that, in order to see if it was strong and fit to stand a
cut, he drew his sword and gave it a couple of slashes, the first of
which undid in an instant what had taken him a week to do. The ease
with which he had knocked it to pieces disconcerted him somewhat, and
to guard against that danger he set to work again, fixing bars of iron
on the inside until he was satisfied with its strength; and then, not
caring to try any more experiments with it, he passed it and adopted it
as a helmet of the most perfect construction.

He next proceeded to inspect his hack, which, with more quartos than a
real and more blemishes than the steed of Gonela, that “_tantum pellis
et ossa fuit_,” surpassed in his eyes the Bucephalus of Alexander or
the Babieca of the Cid. Four days were spent in thinking what name to
give him, because (as he said to himself) it was not right that a horse
belonging to a knight so famous, and one with such merits of his own,
should be without some distinctive name, and he strove to adapt it so
as to indicate what he had been before belonging to a knight-errant,
and what he then was; for it was only reasonable that, his master
taking a new character, he should take a new name, and that it should
be a distinguished and full-sounding one, befitting the new order and
calling he was about to follow. And so, after having composed, struck
out, rejected, added to, unmade, and remade a multitude of names out of
his memory and fancy, he decided upon calling him Rocinante, a name, to
his thinking, lofty, sonorous, and significant of his condition as a
hack before he became what he now was, the first and foremost of all
the hacks in the world.

Having got a name for his horse so much to his taste, he was anxious to
get one for himself, and he was eight days more pondering over this
point, till at last he made up his mind to call himself “Don Quixote,”
whence, as has been already said, the authors of this veracious history
have inferred that his name must have been beyond a doubt Quixada, and
not Quesada as others would have it. Recollecting, however, that the
valiant Amadis was not content to call himself curtly Amadis and
nothing more, but added the name of his kingdom and country to make it
famous, and called himself Amadis of Gaul, he, like a good knight,
resolved to add on the name of his, and to style himself Don Quixote of
La Mancha, whereby, he considered, he described accurately his origin
and country, and did honour to it in taking his surname from it.

So then, his armour being furbished, his morion turned into a helmet,
his hack christened, and he himself confirmed, he came to the
conclusion that nothing more was needed now but to look out for a lady
to be in love with; for a knight-errant without love was like a tree
without leaves or fruit, or a body without a soul. As he said to
himself, “If, for my sins, or by my good fortune, I come across some
giant hereabouts, a common occurrence with knights-errant, and
overthrow him in one onslaught, or cleave him asunder to the waist, or,
in short, vanquish and subdue him, will it not be well to have someone
I may send him to as a present, that he may come in and fall on his
knees before my sweet lady, and in a humble, submissive voice say, ‘I
am the giant Caraculiambro, lord of the island of Malindrania,
vanquished in single combat by the never sufficiently extolled knight
Don Quixote of La Mancha, who has commanded me to present myself before
your Grace, that your Highness dispose of me at your pleasure’?” Oh,
how our good gentleman enjoyed the delivery of this speech, especially
when he had thought of someone to call his Lady! There was, so the
story goes, in a village near his own a very good-looking farm-girl
with whom he had been at one time in love, though, so far as is known,
she never knew it nor gave a thought to the matter. Her name was
Aldonza Lorenzo, and upon her he thought fit to confer the title of
Lady of his Thoughts; and after some search for a name which should not
be out of harmony with her own, and should suggest and indicate that of
a princess and great lady, he decided upon calling her Dulcinea del
Toboso—she being of El Toboso—a name, to his mind, musical, uncommon,
and significant, like all those he had already bestowed upon himself
and the things belonging to him.



p007b.jpg (61K)



CHAPTER II.
WHICH TREATS OF THE FIRST SALLY THE INGENIOUS DON QUIXOTE MADE FROM
HOME




p007c.jpg (97K)

Full Size




These preliminaries settled, he did not care to put off any longer the
execution of his design, urged on to it by the thought of all the world
was losing by his delay, seeing what wrongs he intended to right,
grievances to redress, injustices to repair, abuses to remove, and
duties to discharge. So, without giving notice of his intention to
anyone, and without anybody seeing him, one morning before the dawning
of the day (which was one of the hottest of the month of July) he
donned his suit of armour, mounted Rocinante with his patched-up helmet
on, braced his buckler, took his lance, and by the back door of the
yard sallied forth upon the plain in the highest contentment and
satisfaction at seeing with what ease he had made a beginning with his
grand purpose. But scarcely did he find himself upon the open plain,
when a terrible thought struck him, one all but enough to make him
abandon the enterprise at the very outset. It occurred to him that he
had not been dubbed a knight, and that according to the law of chivalry
he neither could nor ought to bear arms against any knight; and that
even if he had been, still he ought, as a novice knight, to wear white
armour, without a device upon the shield until by his prowess he had
earned one. These reflections made him waver in his purpose, but his
craze being stronger than any reasoning, he made up his mind to have
himself dubbed a knight by the first one he came across, following the
example of others in the same case, as he had read in the books that
brought him to this pass. As for white armour, he resolved, on the
first opportunity, to scour his until it was whiter than an ermine; and
so comforting himself he pursued his way, taking that which his horse
chose, for in this he believed lay the essence of adventures.

Thus setting out, our new-fledged adventurer paced along, talking to
himself and saying, “Who knows but that in time to come, when the
veracious history of my famous deeds is made known, the sage who writes
it, when he has to set forth my first sally in the early morning, will
do it after this fashion? ‘Scarce had the rubicund Apollo spread o’er
the face of the broad spacious earth the golden threads of his bright
hair, scarce had the little birds of painted plumage attuned their
notes to hail with dulcet and mellifluous harmony the coming of the
rosy Dawn, that, deserting the soft couch of her jealous spouse, was
appearing to mortals at the gates and balconies of the Manchegan
horizon, when the renowned knight Don Quixote of La Mancha, quitting
the lazy down, mounted his celebrated steed Rocinante and began to
traverse the ancient and famous Campo de Montiel;’” which in fact he
was actually traversing. “Happy the age, happy the time,” he continued,
“in which shall be made known my deeds of fame, worthy to be moulded in
brass, carved in marble, limned in pictures, for a memorial for ever.
And thou, O sage magician, whoever thou art, to whom it shall fall to
be the chronicler of this wondrous history, forget not, I entreat thee,
my good Rocinante, the constant companion of my ways and wanderings.”
Presently he broke out again, as if he were love-stricken in earnest,
“O Princess Dulcinea, lady of this captive heart, a grievous wrong hast
thou done me to drive me forth with scorn, and with inexorable obduracy
banish me from the presence of thy beauty. O lady, deign to hold in
remembrance this heart, thy vassal, that thus in anguish pines for love
of thee.”

So he went on stringing together these and other absurdities, all in
the style of those his books had taught him, imitating their language
as well as he could; and all the while he rode so slowly and the sun
mounted so rapidly and with such fervour that it was enough to melt his
brains if he had any. Nearly all day he travelled without anything
remarkable happening to him, at which he was in despair, for he was
anxious to encounter someone at once upon whom to try the might of his
strong arm.



p008.jpg (289K)

Full Size




Writers there are who say the first adventure he met with was that of
Puerto Lapice; others say it was that of the windmills; but what I have
ascertained on this point, and what I have found written in the annals
of La Mancha, is that he was on the road all day, and towards nightfall
his hack and he found themselves dead tired and hungry, when, looking
all around to see if he could discover any castle or shepherd’s shanty
where he might refresh himself and relieve his sore wants, he perceived
not far out of his road an inn, which was as welcome as a star guiding
him to the portals, if not the palaces, of his redemption; and
quickening his pace he reached it just as night was setting in. At the
door were standing two young women, girls of the district as they call
them, on their way to Seville with some carriers who had chanced to
halt that night at the inn; and as, happen what might to our
adventurer, everything he saw or imagined seemed to him to be and to
happen after the fashion of what he read of, the moment he saw the inn
he pictured it to himself as a castle with its four turrets and
pinnacles of shining silver, not forgetting the drawbridge and moat and
all the belongings usually ascribed to castles of the sort. To this
inn, which to him seemed a castle, he advanced, and at a short distance
from it he checked Rocinante, hoping that some dwarf would show himself
upon the battlements, and by sound of trumpet give notice that a knight
was approaching the castle. But seeing that they were slow about it,
and that Rocinante was in a hurry to reach the stable, he made for the
inn door, and perceived the two gay damsels who were standing there,
and who seemed to him to be two fair maidens or lovely ladies taking
their ease at the castle gate.

At this moment it so happened that a swineherd who was going through
the stubbles collecting a drove of pigs (for, without any apology, that
is what they are called) gave a blast of his horn to bring them
together, and forthwith it seemed to Don Quixote to be what he was
expecting, the signal of some dwarf announcing his arrival; and so with
prodigious satisfaction he rode up to the inn and to the ladies, who,
seeing a man of this sort approaching in full armour and with lance and
buckler, were turning in dismay into the inn, when Don Quixote,
guessing their fear by their flight, raising his pasteboard visor,
disclosed his dry dusty visage, and with courteous bearing and gentle
voice addressed them, “Your ladyships need not fly or fear any
rudeness, for that it belongs not to the order of knighthood which I
profess to offer to anyone, much less to highborn maidens as your
appearance proclaims you to be.” The girls were looking at him and
straining their eyes to make out the features which the clumsy visor
obscured, but when they heard themselves called maidens, a thing so
much out of their line, they could not restrain their laughter, which
made Don Quixote wax indignant, and say, “Modesty becomes the fair, and
moreover laughter that has little cause is great silliness; this,
however, I say not to pain or anger you, for my desire is none other
than to serve you.”

The incomprehensible language and the unpromising looks of our cavalier
only increased the ladies’ laughter, and that increased his irritation,
and matters might have gone farther if at that moment the landlord had
not come out, who, being a very fat man, was a very peaceful one. He,
seeing this grotesque figure clad in armour that did not match any more
than his saddle, bridle, lance, buckler, or corselet, was not at all
indisposed to join the damsels in their manifestations of amusement;
but, in truth, standing in awe of such a complicated armament, he
thought it best to speak him fairly, so he said, “Señor Caballero, if
your worship wants lodging, bating the bed (for there is not one in the
inn) there is plenty of everything else here.” Don Quixote, observing
the respectful bearing of the Alcaide of the fortress (for so innkeeper
and inn seemed in his eyes), made answer, “Sir Castellan, for me
anything will suffice, for

‘My armour is my only wear,
My only rest the fray.’”


The host fancied he called him Castellan because he took him for a
“worthy of Castile,” though he was in fact an Andalusian, and one from
the strand of San Lucar, as crafty a thief as Cacus and as full of
tricks as a student or a page. “In that case,” said he,

“‘Your bed is on the flinty rock,
Your sleep to watch alway;’


and if so, you may dismount and safely reckon upon any quantity of
sleeplessness under this roof for a twelvemonth, not to say for a
single night.” So saying, he advanced to hold the stirrup for Don
Quixote, who got down with great difficulty and exertion (for he had
not broken his fast all day), and then charged the host to take great
care of his horse, as he was the best bit of flesh that ever ate bread
in this world. The landlord eyed him over but did not find him as good
as Don Quixote said, nor even half as good; and putting him up in the
stable, he returned to see what might be wanted by his guest, whom the
damsels, who had by this time made their peace with him, were now
relieving of his armour. They had taken off his breastplate and
backpiece, but they neither knew nor saw how to open his gorget or
remove his make-shift helmet, for he had fastened it with green
ribbons, which, as there was no untying the knots, required to be cut.
This, however, he would not by any means consent to, so he remained all
the evening with his helmet on, the drollest and oddest figure that can
be imagined; and while they were removing his armour, taking the
baggages who were about it for ladies of high degree belonging to the
castle, he said to them with great sprightliness:

“Oh, never, surely, was there knight
So served by hand of dame,
As served was he, Don Quixote hight,
When from his town he came;
With maidens waiting on himself,
Princesses on his hack—


—or Rocinante, for that, ladies mine, is my horse’s name, and Don
Quixote of La Mancha is my own; for though I had no intention of
declaring myself until my achievements in your service and honour had
made me known, the necessity of adapting that old ballad of Lancelot to
the present occasion has given you the knowledge of my name altogether
prematurely. A time, however, will come for your ladyships to command
and me to obey, and then the might of my arm will show my desire to
serve you.”

The girls, who were not used to hearing rhetoric of this sort, had
nothing to say in reply; they only asked him if he wanted anything to
eat. “I would gladly eat a bit of something,” said Don Quixote, “for I
feel it would come very seasonably.” The day happened to be a Friday,
and in the whole inn there was nothing but some pieces of the fish they
call in Castile “abadejo,” in Andalusia “bacallao,” and in some places
“curadillo,” and in others “troutlet;” so they asked him if he thought
he could eat troutlet, for there was no other fish to give him. “If
there be troutlets enough,” said Don Quixote, “they will be the same
thing as a trout; for it is all one to me whether I am given eight
reals in small change or a piece of eight; moreover, it may be that
these troutlets are like veal, which is better than beef, or kid, which
is better than goat. But whatever it be let it come quickly, for the
burden and pressure of arms cannot be borne without support to the
inside.” They laid a table for him at the door of the inn for the sake
of the air, and the host brought him a portion of ill-soaked and worse
cooked stockfish, and a piece of bread as black and mouldy as his own
armour; but a laughable sight it was to see him eating, for having his
helmet on and the beaver up, he could not with his own hands put
anything into his mouth unless someone else placed it there, and this
service one of the ladies rendered him. But to give him anything to
drink was impossible, or would have been so had not the landlord bored
a reed, and putting one end in his mouth poured the wine into him
through the other; all which he bore with patience rather than sever
the ribbons of his helmet.

While this was going on there came up to the inn a sowgelder, who, as
he approached, sounded his reed pipe four or five times, and thereby
completely convinced Don Quixote that he was in some famous castle, and
that they were regaling him with music, and that the stockfish was
trout, the bread the whitest, the wenches ladies, and the landlord the
castellan of the castle; and consequently he held that his enterprise
and sally had been to some purpose. But still it distressed him to
think he had not been dubbed a knight, for it was plain to him he could
not lawfully engage in any adventure without receiving the order of
knighthood.



e02.jpg (39K)



CHAPTER III.
WHEREIN IS RELATED THE DROLL WAY IN WHICH DON QUIXOTE HAD HIMSELF
DUBBED A KNIGHT




p009.jpg (164K)

Full Size




Harassed by this reflection, he made haste with his scanty pothouse
supper, and having finished it called the landlord, and shutting
himself into the stable with him, fell on his knees before him, saying,
“From this spot I rise not, valiant knight, until your courtesy grants
me the boon I seek, one that will redound to your praise and the
benefit of the human race.” The landlord, seeing his guest at his feet
and hearing a speech of this kind, stood staring at him in
bewilderment, not knowing what to do or say, and entreating him to
rise, but all to no purpose until he had agreed to grant the boon
demanded of him. “I looked for no less, my lord, from your High
Magnificence,” replied Don Quixote, “and I have to tell you that the
boon I have asked and your liberality has granted is that you shall dub
me knight to-morrow morning, and that to-night I shall watch my arms in
the chapel of this your castle; thus to-morrow, as I have said, will be
accomplished what I so much desire, enabling me lawfully to roam
through all the four quarters of the world seeking adventures on behalf
of those in distress, as is the duty of chivalry and of knights-errant
like myself, whose ambition is directed to such deeds.”

The landlord, who, as has been mentioned, was something of a wag, and
had already some suspicion of his guest’s want of wits, was quite
convinced of it on hearing talk of this kind from him, and to make
sport for the night he determined to fall in with his humour. So he
told him he was quite right in pursuing the object he had in view, and
that such a motive was natural and becoming in cavaliers as
distinguished as he seemed and his gallant bearing showed him to be;
and that he himself in his younger days had followed the same
honourable calling, roaming in quest of adventures in various parts of
the world, among others the Curing-grounds of Malaga, the Isles of
Riaran, the Precinct of Seville, the Little Market of Segovia, the
Olivera of Valencia, the Rondilla of Granada, the Strand of San Lucar,
the Colt of Cordova, the Taverns of Toledo, and divers other quarters,
where he had proved the nimbleness of his feet and the lightness of his
fingers, doing many wrongs, cheating many widows, ruining maids and
swindling minors, and, in short, bringing himself under the notice of
almost every tribunal and court of justice in Spain; until at last he
had retired to this castle of his, where he was living upon his
property and upon that of others; and where he received all
knights-errant of whatever rank or condition they might be, all for the
great love he bore them and that they might share their substance with
him in return for his benevolence. He told him, moreover, that in this
castle of his there was no chapel in which he could watch his armour,
as it had been pulled down in order to be rebuilt, but that in a case
of necessity it might, he knew, be watched anywhere, and he might watch
it that night in a courtyard of the castle, and in the morning, God
willing, the requisite ceremonies might be performed so as to have him
dubbed a knight, and so thoroughly dubbed that nobody could be more so.
He asked if he had any money with him, to which Don Quixote replied
that he had not a farthing, as in the histories of knights-errant he
had never read of any of them carrying any. On this point the landlord
told him he was mistaken; for, though not recorded in the histories,
because in the author’s opinion there was no need to mention anything
so obvious and necessary as money and clean shirts, it was not to be
supposed therefore that they did not carry them, and he might regard it
as certain and established that all knights-errant (about whom there
were so many full and unimpeachable books) carried well-furnished
purses in case of emergency, and likewise carried shirts and a little
box of ointment to cure the wounds they received. For in those plains
and deserts where they engaged in combat and came out wounded, it was
not always that there was someone to cure them, unless indeed they had
for a friend some sage magician to succour them at once by fetching
through the air upon a cloud some damsel or dwarf with a vial of water
of such virtue that by tasting one drop of it they were cured of their
hurts and wounds in an instant and left as sound as if they had not
received any damage whatever. But in case this should not occur, the
knights of old took care to see that their squires were provided with
money and other requisites, such as lint and ointments for healing
purposes; and when it happened that knights had no squires (which was
rarely and seldom the case) they themselves carried everything in
cunning saddle-bags that were hardly seen on the horse’s croup, as if
it were something else of more importance, because, unless for some
such reason, carrying saddle-bags was not very favourably regarded
among knights-errant. He therefore advised him (and, as his godson so
soon to be, he might even command him) never from that time forth to
travel without money and the usual requirements, and he would find the
advantage of them when he least expected it.

Don Quixote promised to follow his advice scrupulously, and it was
arranged forthwith that he should watch his armour in a large yard at
one side of the inn; so, collecting it all together, Don Quixote placed
it on a trough that stood by the side of a well, and bracing his
buckler on his arm he grasped his lance and began with a stately air to
march up and down in front of the trough, and as he began his march
night began to fall.

The landlord told all the people who were in the inn about the craze of
his guest, the watching of the armour, and the dubbing ceremony he
contemplated. Full of wonder at so strange a form of madness, they
flocked to see it from a distance, and observed with what composure he
sometimes paced up and down, or sometimes, leaning on his lance, gazed
on his armour without taking his eyes off it for ever so long; and as
the night closed in with a light from the moon so brilliant that it
might vie with his that lent it, everything the novice knight did was
plainly seen by all.

Meanwhile one of the carriers who were in the inn thought fit to water
his team, and it was necessary to remove Don Quixote’s armour as it lay
on the trough; but he seeing the other approach hailed him in a loud
voice, “O thou, whoever thou art, rash knight that comest to lay hands
on the armour of the most valorous errant that ever girt on sword, have
a care what thou dost; touch it not unless thou wouldst lay down thy
life as the penalty of thy rashness.” The carrier gave no heed to these
words (and he would have done better to heed them if he had been
heedful of his health), but seizing it by the straps flung the armour
some distance from him. Seeing this, Don Quixote raised his eyes to
heaven, and fixing his thoughts, apparently, upon his lady Dulcinea,
exclaimed, “Aid me, lady mine, in this the first encounter that
presents itself to this breast which thou holdest in subjection; let
not thy favour and protection fail me in this first jeopardy;” and,
with these words and others to the same purpose, dropping his buckler
he lifted his lance with both hands and with it smote such a blow on
the carrier’s head that he stretched him on the ground, so stunned that
had he followed it up with a second there would have been no need of a
surgeon to cure him. This done, he picked up his armour and returned to
his beat with the same serenity as before.



p010.jpg (261K)

Full Size




Shortly after this, another, not knowing what had happened (for the
carrier still lay senseless), came with the same object of giving water
to his mules, and was proceeding to remove the armour in order to clear
the trough, when Don Quixote, without uttering a word or imploring aid
from anyone, once more dropped his buckler and once more lifted his
lance, and without actually breaking the second carrier’s head into
pieces, made more than three of it, for he laid it open in four. At the
noise all the people of the inn ran to the spot, and among them the
landlord. Seeing this, Don Quixote braced his buckler on his arm, and
with his hand on his sword exclaimed, “O Lady of Beauty, strength and
support of my faint heart, it is time for thee to turn the eyes of thy
greatness on this thy captive knight on the brink of so mighty an
adventure.” By this he felt himself so inspired that he would not have
flinched if all the carriers in the world had assailed him. The
comrades of the wounded perceiving the plight they were in began from a
distance to shower stones on Don Quixote, who screened himself as best
he could with his buckler, not daring to quit the trough and leave his
armour unprotected. The landlord shouted to them to leave him alone,
for he had already told them that he was mad, and as a madman he would
not be accountable even if he killed them all. Still louder shouted Don
Quixote, calling them knaves and traitors, and the lord of the castle,
who allowed knights-errant to be treated in this fashion, a villain and
a low-born knight whom, had he received the order of knighthood, he
would call to account for his treachery. “But of you,” he cried, “base
and vile rabble, I make no account; fling, strike, come on, do all ye
can against me, ye shall see what the reward of your folly and
insolence will be.” This he uttered with so much spirit and boldness
that he filled his assailants with a terrible fear, and as much for
this reason as at the persuasion of the landlord they left off stoning
him, and he allowed them to carry off the wounded, and with the same
calmness and composure as before resumed the watch over his armour.

But these freaks of his guest were not much to the liking of the
landlord, so he determined to cut matters short and confer upon him at
once the unlucky order of knighthood before any further misadventure
could occur; so, going up to him, he apologised for the rudeness which,
without his knowledge, had been offered to him by these low people,
who, however, had been well punished for their audacity. As he had
already told him, he said, there was no chapel in the castle, nor was
it needed for what remained to be done, for, as he understood the
ceremonial of the order, the whole point of being dubbed a knight lay
in the accolade and in the slap on the shoulder, and that could be
administered in the middle of a field; and that he had now done all
that was needful as to watching the armour, for all requirements were
satisfied by a watch of two hours only, while he had been more than
four about it. Don Quixote believed it all, and told him he stood there
ready to obey him, and to make an end of it with as much despatch as
possible; for, if he were again attacked, and felt himself to be dubbed
knight, he would not, he thought, leave a soul alive in the castle,
except such as out of respect he might spare at his bidding.

Thus warned and menaced, the castellan forthwith brought out a book in
which he used to enter the straw and barley he served out to the
carriers, and, with a lad carrying a candle-end, and the two damsels
already mentioned, he returned to where Don Quixote stood, and bade him
kneel down. Then, reading from his account-book as if he were repeating
some devout prayer, in the middle of his delivery he raised his hand
and gave him a sturdy blow on the neck, and then, with his own sword, a
smart slap on the shoulder, all the while muttering between his teeth
as if he was saying his prayers. Having done this, he directed one of
the ladies to gird on his sword, which she did with great
self-possession and gravity, and not a little was required to prevent a
burst of laughter at each stage of the ceremony; but what they had
already seen of the novice knight’s prowess kept their laughter within
bounds. On girding him with the sword the worthy lady said to him, “May
God make your worship a very fortunate knight, and grant you success in
battle.” Don Quixote asked her name in order that he might from that
time forward know to whom he was beholden for the favour he had
received, as he meant to confer upon her some portion of the honour he
acquired by the might of his arm. She answered with great humility that
she was called La Tolosa, and that she was the daughter of a cobbler of
Toledo who lived in the stalls of Sanchobienaya, and that wherever she
might be she would serve and esteem him as her lord. Don Quixote said
in reply that she would do him a favour if thenceforward she assumed
the “Don” and called herself Doña Tolosa. She promised she would, and
then the other buckled on his spur, and with her followed almost the
same conversation as with the lady of the sword. He asked her name, and
she said it was La Molinera, and that she was the daughter of a
respectable miller of Antequera; and of her likewise Don Quixote
requested that she would adopt the “Don” and call herself Doña
Molinera, making offers to her further services and favours.

Having thus, with hot haste and speed, brought to a conclusion these
never-till-now-seen ceremonies, Don Quixote was on thorns until he saw
himself on horseback sallying forth in quest of adventures; and
saddling Rocinante at once he mounted, and embracing his host, as he
returned thanks for his kindness in knighting him, he addressed him in
language so extraordinary that it is impossible to convey an idea of it
or report it. The landlord, to get him out of the inn, replied with no
less rhetoric though with shorter words, and without calling upon him
to pay the reckoning let him go with a Godspeed.



p017.jpg (54K)

Full Size



CHAPTER IV.
OF WHAT HAPPENED TO OUR KNIGHT WHEN HE LEFT THE INN




p018.jpg (94K)

Full Size




Day was dawning when Don Quixote quitted the inn, so happy, so gay, so
exhilarated at finding himself now dubbed a knight, that his joy was
like to burst his horse-girths. However, recalling the advice of his
host as to the requisites he ought to carry with him, especially that
referring to money and shirts, he determined to go home and provide
himself with all, and also with a squire, for he reckoned upon securing
a farm-labourer, a neighbour of his, a poor man with a family, but very
well qualified for the office of squire to a knight. With this object
he turned his horse’s head towards his village, and Rocinante, thus
reminded of his old quarters, stepped out so briskly that he hardly
seemed to tread the earth.

He had not gone far, when out of a thicket on his right there seemed to
come feeble cries as of someone in distress, and the instant he heard
them he exclaimed, “Thanks be to heaven for the favour it accords me,
that it so soon offers me an opportunity of fulfilling the obligation I
have undertaken, and gathering the fruit of my ambition. These cries,
no doubt, come from some man or woman in want of help, and needing my
aid and protection;” and wheeling, he turned Rocinante in the direction
whence the cries seemed to proceed. He had gone but a few paces into
the wood, when he saw a mare tied to an oak, and tied to another, and
stripped from the waist upwards, a youth of about fifteen years of age,
from whom the cries came. Nor were they without cause, for a lusty
farmer was flogging him with a belt and following up every blow with
scoldings and commands, repeating, “Your mouth shut and your eyes
open!” while the youth made answer, “I won’t do it again, master mine;
by God’s passion I won’t do it again, and I’ll take more care of the
flock another time.”

Seeing what was going on, Don Quixote said in an angry voice,
“Discourteous knight, it ill becomes you to assail one who cannot
defend himself; mount your steed and take your lance” (for there was a
lance leaning against the oak to which the mare was tied), “and I will
make you know that you are behaving as a coward.” The farmer, seeing
before him this figure in full armour brandishing a lance over his
head, gave himself up for dead, and made answer meekly, “Sir Knight,
this youth that I am chastising is my servant, employed by me to watch
a flock of sheep that I have hard by, and he is so careless that I lose
one every day, and when I punish him for his carelessness and knavery
he says I do it out of niggardliness, to escape paying him the wages I
owe him, and before God, and on my soul, he lies.”

“Lies before me, base clown!” said Don Quixote. “By the sun that shines
on us I have a mind to run you through with this lance. Pay him at once
without another word; if not, by the God that rules us I will make an
end of you, and annihilate you on the spot; release him instantly.”



p019.jpg (339K)

Full Size




The farmer hung his head, and without a word untied his servant, of
whom Don Quixote asked how much his master owed him.

He replied, nine months at seven reals a month. Don Quixote added it
up, found that it came to sixty-three reals, and told the farmer to pay
it down immediately, if he did not want to die for it.

The trembling clown replied that as he lived and by the oath he had
sworn (though he had not sworn any) it was not so much; for there were
to be taken into account and deducted three pairs of shoes he had given
him, and a real for two blood-lettings when he was sick.

“All that is very well,” said Don Quixote; “but let the shoes and the
blood-lettings stand as a setoff against the blows you have given him
without any cause; for if he spoiled the leather of the shoes you paid
for, you have damaged that of his body, and if the barber took blood
from him when he was sick, you have drawn it when he was sound; so on
that score he owes you nothing.”

“The difficulty is, Sir Knight, that I have no money here; let Andres
come home with me, and I will pay him all, real by real.”

“I go with him!” said the youth. “Nay, God forbid! No, señor, not for
the world; for once alone with me, he would ray me like a Saint
Bartholomew.”

“He will do nothing of the kind,” said Don Quixote; “I have only to
command, and he will obey me; and as he has sworn to me by the order of
knighthood which he has received, I leave him free, and I guarantee the
payment.”

“Consider what you are saying, señor,” said the youth; “this master of
mine is not a knight, nor has he received any order of knighthood; for
he is Juan Haldudo the Rich, of Quintanar.”

“That matters little,” replied Don Quixote; “there may be Haldudos
knights; moreover, everyone is the son of his works.”

“That is true,” said Andres; “but this master of mine—of what works is
he the son, when he refuses me the wages of my sweat and labour?”

“I do not refuse, brother Andres,” said the farmer, “be good enough to
come along with me, and I swear by all the orders of knighthood there
are in the world to pay you as I have agreed, real by real, and
perfumed.”

“For the perfumery I excuse you,” said Don Quixote; “give it to him in
reals, and I shall be satisfied; and see that you do as you have sworn;
if not, by the same oath I swear to come back and hunt you out and
punish you; and I shall find you though you should lie closer than a
lizard. And if you desire to know who it is lays this command upon you,
that you be more firmly bound to obey it, know that I am the valorous
Don Quixote of La Mancha, the undoer of wrongs and injustices; and so,
God be with you, and keep in mind what you have promised and sworn
under those penalties that have been already declared to you.”

So saying, he gave Rocinante the spur and was soon out of reach. The
farmer followed him with his eyes, and when he saw that he had cleared
the wood and was no longer in sight, he turned to his boy Andres, and
said, “Come here, my son, I want to pay you what I owe you, as that
undoer of wrongs has commanded me.”

“My oath on it,” said Andres, “your worship will be well advised to
obey the command of that good knight—may he live a thousand years—for,
as he is a valiant and just judge, by Roque, if you do not pay me, he
will come back and do as he said.”

“My oath on it, too,” said the farmer; “but as I have a strong
affection for you, I want to add to the debt in order to add to the
payment;” and seizing him by the arm, he tied him up again, and gave
him such a flogging that he left him for dead.

“Now, Master Andres,” said the farmer, “call on the undoer of wrongs;
you will find he won’t undo that, though I am not sure that I have
quite done with you, for I have a good mind to flay you alive.” But at
last he untied him, and gave him leave to go look for his judge in
order to put the sentence pronounced into execution.

Andres went off rather down in the mouth, swearing he would go to look
for the valiant Don Quixote of La Mancha and tell him exactly what had
happened, and that all would have to be repaid him sevenfold; but for
all that, he went off weeping, while his master stood laughing.

Thus did the valiant Don Quixote right that wrong, and, thoroughly
satisfied with what had taken place, as he considered he had made a
very happy and noble beginning with his knighthood, he took the road
towards his village in perfect self-content, saying in a low voice,
“Well mayest thou this day call thyself fortunate above all on earth, O
Dulcinea del Toboso, fairest of the fair! since it has fallen to thy
lot to hold subject and submissive to thy full will and pleasure a
knight so renowned as is and will be Don Quixote of La Mancha, who, as
all the world knows, yesterday received the order of knighthood, and
hath to-day righted the greatest wrong and grievance that ever
injustice conceived and cruelty perpetrated: who hath to-day plucked
the rod from the hand of yonder ruthless oppressor so wantonly lashing
that tender child.”

Programming in Scala
artima
Martin Odersky
Lex Spoon
Bill Venners
A comprehensive step-by-step guide
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Programming in Scala
PrePrint™ Edition
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
iii
Thank you for purchasing the PrePrint™ Edition of Programming in
Scala.
A PrePrint™ is a work-in-progress, a book that has not yet been fully
written, reviewed, edited, or formatted. We are publishing this book as a
PrePrint™ for two main reasons. First, even though this book is not quite
finished, the information contained in its pages can already provide value to
many readers. Second, we hope to get reports of errata and suggestions for
improvement from those readers while we still have time incorporate them
into the first printing.
As a PrePrint™ customer, you’ll be able to download new PrePrint™
versions from Artima as the book evolves, as well as the final PDF of the
book once finished. You’ll have access to the book’s content prior to its
print publication, and can participate in its creation by submitting feedback.
Please submit by clicking on the Suggest link at the bottom of each page.
Thanks for your participation. We hope you find the book useful and
enjoyable.
Bill Venners
President, Artima, Inc.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Programming in Scala
PrePrint™ Edition
Martin Odersky, Lex Spoon, Bill Venners
artima
ARTIMA PRESS
MOUNTAIN VIEW, CALIFORNIA
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
v
Programming in Scala
PrePrint™ Edition Version 2
Martin Odersky is the creator of the Scala language and a professor at EPFL in
Lausanne, Switzerland. Lex Spoon worked on Scala for two years as a post-doc
with Martin Odersky. Bill Venners is president of Artima, Inc.
Artima Press is an imprint of Artima, Inc.
P.O. Box 390122, Mountain View, California 94039
Copyright © 2007, 2008 Martin Odersky, Lex Spoon, and Bill Venners.
All rights reserved.
PrePrint™ Edition first published 2007
Version 2 published February 18, 2008
Produced in the United States of America
12 11 10 09 08 2 3 4 5 6
No part of this publication may be reproduced, modified, distributed, stored in a
retrieval system, republished, displayed, or performed, for commercial or
noncommercial purposes or for compensation of any kind without prior written
permission from Artima, Inc.
All information and materials in this book are provided "as is" and without
warranty of any kind.
The term “Artima” and the Artima logo are trademarks or registered trademarks of
Artima, Inc. All other company and/or product names may be trademarks or
registered trademarks of their owners.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
to Nastaran - M.O.
to Fay - L.S.
to Siew - B.V.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Overview
Contents viii
Preface xvi
Acknowledgments xvii
Introduction xx
1. A Scalable Language 27
2. First Steps in Scala 47
3. Next Steps in Scala 63
4. Classes and Objects 90
5. Basic Types and Operations 114
6. Functional Objects 136
7. Built-in Control Structures 151
8. Functions and Closures 169
9. Control Abstraction 190
10. Composition and Inheritance 205
11. Traits and Mixins 233
12. Case Classes and Pattern Matching 249
13. Packages and Imports 279
14. Working with Lists 292
15. Collections 322
16. Stateful Objects 342
17. Type Parameterization 362
18. Abstract Members and Properties 379
19. Implicit Conversions and Parameters 396
20. Implementing Lists 413
21. Object Equality 424
22. Working with XML 438
23. Actors and Concurrency 450
24. Extractors 461
25. Objects As Modules 473
26. Annotations 484
27. Combining Scala and Java 490
28. Combinator Parsing 502
Glossary 530
Bibliography 544
About the Authors 546
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Contents
Contents viii
Preface xvi
Acknowledgments xvii
Introduction xx
1 A Scalable Language 27
1.1 A language that grows on you . . . . . . . . . . . . . . . . 28
1.2 What makes Scala scalable? . . . . . . . . . . . . . . . . . 33
1.3 Why Scala? . . . . . . . . . . . . . . . . . . . . . . . . . . 36
1.4 Scala’s roots . . . . . . . . . . . . . . . . . . . . . . . . . . 44
1.5 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 45
2 First Steps in Scala 47
Step 1. Learn to use the Scala interpreter . . . . . . . . . . . . . . 47
Step 2. Define some variables . . . . . . . . . . . . . . . . . . . . 49
Step 3. Define some functions . . . . . . . . . . . . . . . . . . . 51
Step 4. Write some Scala scripts . . . . . . . . . . . . . . . . . . 55
Step 5. Loop with while, decide with if . . . . . . . . . . . . . . 57
Step 6. Iterate with foreach and for . . . . . . . . . . . . . . . . 59
Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 62
3 Next Steps in Scala 63
Step 7. Understand the importance of vals . . . . . . . . . . . . . 63
Step 8. Parameterize Arrays with types . . . . . . . . . . . . . . 65
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Contents ix
Step 9. Use Lists and Tuples . . . . . . . . . . . . . . . . . . . 69
Step 10. Use Sets and Maps . . . . . . . . . . . . . . . . . . . . . 74
Step 11. Understand classes and singleton objects . . . . . . . . . 79
Step 12. Understand traits and mixins . . . . . . . . . . . . . . . 86
Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 89
4 Classes and Objects 90
4.1 Objects and variables . . . . . . . . . . . . . . . . . . . . . 91
4.2 Mapping to Java . . . . . . . . . . . . . . . . . . . . . . . . 93
4.3 Classes and types . . . . . . . . . . . . . . . . . . . . . . . 96
4.4 Fields and methods . . . . . . . . . . . . . . . . . . . . . . 97
4.5 Class documentation . . . . . . . . . . . . . . . . . . . . . 102
4.6 Variable scope . . . . . . . . . . . . . . . . . . . . . . . . . 104
4.7 Semicolon inference . . . . . . . . . . . . . . . . . . . . . 108
4.8 Singleton objects . . . . . . . . . . . . . . . . . . . . . . . 110
4.9 A Scala application . . . . . . . . . . . . . . . . . . . . . . 111
4.10 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 113
5 Basic Types and Operations 114
5.1 Some basic types . . . . . . . . . . . . . . . . . . . . . . . 115
5.2 Literals . . . . . . . . . . . . . . . . . . . . . . . . . . . . 116
5.3 Operators are methods . . . . . . . . . . . . . . . . . . . . 121
5.4 Arithmetic operations . . . . . . . . . . . . . . . . . . . . . 125
5.5 Relational and logical operations . . . . . . . . . . . . . . . 126
5.6 Object equality . . . . . . . . . . . . . . . . . . . . . . . . 128
5.7 Bitwise operations . . . . . . . . . . . . . . . . . . . . . . 130
5.8 Operator precedence and associativity . . . . . . . . . . . . 131
5.9 Rich wrappers . . . . . . . . . . . . . . . . . . . . . . . . . 133
5.10 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 134
6 Functional Objects 136
6.1 A class for rational numbers . . . . . . . . . . . . . . . . . 136
6.2 Choosing between val and var . . . . . . . . . . . . . . . . 138
6.3 Class parameters and constructors . . . . . . . . . . . . . . 139
6.4 Multiple constructors . . . . . . . . . . . . . . . . . . . . . 140
6.5 Reimplementing the toString method . . . . . . . . . . . 141
6.6 Private methods and fields . . . . . . . . . . . . . . . . . . 142
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Contents x
6.7 Self references . . . . . . . . . . . . . . . . . . . . . . . . 143
6.8 Defining operators . . . . . . . . . . . . . . . . . . . . . . 143
6.9 Identifiers in Scala . . . . . . . . . . . . . . . . . . . . . . 145
6.10 Method overloading . . . . . . . . . . . . . . . . . . . . . . 147
6.11 Going further . . . . . . . . . . . . . . . . . . . . . . . . . 148
6.12 A word of caution . . . . . . . . . . . . . . . . . . . . . . . 149
6.13 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 150
7 Built-in Control Structures 151
7.1 If expressions . . . . . . . . . . . . . . . . . . . . . . . . . 152
7.2 While loops . . . . . . . . . . . . . . . . . . . . . . . . . . 154
7.3 For expressions . . . . . . . . . . . . . . . . . . . . . . . . 156
7.4 Try expressions . . . . . . . . . . . . . . . . . . . . . . . . 161
7.5 Match expressions . . . . . . . . . . . . . . . . . . . . . . 164
7.6 Living without break and continue . . . . . . . . . . . . . 166
7.7 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 168
8 Functions and Closures 169
8.1 Methods . . . . . . . . . . . . . . . . . . . . . . . . . . . . 169
8.2 Nested functions . . . . . . . . . . . . . . . . . . . . . . . 171
8.3 First-class functions . . . . . . . . . . . . . . . . . . . . . . 172
8.4 Short forms of function literals . . . . . . . . . . . . . . . . 175
8.5 Placeholder syntax . . . . . . . . . . . . . . . . . . . . . . 175
8.6 Partially applied functions . . . . . . . . . . . . . . . . . . 177
8.7 Closures . . . . . . . . . . . . . . . . . . . . . . . . . . . . 181
8.8 Repeated parameters . . . . . . . . . . . . . . . . . . . . . 184
8.9 Tail recursion . . . . . . . . . . . . . . . . . . . . . . . . . 185
8.10 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 189
9 Control Abstraction 190
9.1 Reducing code duplication . . . . . . . . . . . . . . . . . . 190
9.2 Simplifying client code . . . . . . . . . . . . . . . . . . . . 194
9.3 Currying . . . . . . . . . . . . . . . . . . . . . . . . . . . . 196
9.4 Writing new control structures . . . . . . . . . . . . . . . . 198
9.5 By-name parameters . . . . . . . . . . . . . . . . . . . . . 201
9.6 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 204
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Contents xi
10 Composition and Inheritance 205
10.1 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . 205
10.2 Abstract classes . . . . . . . . . . . . . . . . . . . . . . . . 206
10.3 The Uniform Access Principle . . . . . . . . . . . . . . . . 207
10.4 Assertions and assumptions . . . . . . . . . . . . . . . . . . 209
10.5 Subclasses . . . . . . . . . . . . . . . . . . . . . . . . . . . 210
10.6 Two name spaces, not four . . . . . . . . . . . . . . . . . . 211
10.7 Class parameter fields . . . . . . . . . . . . . . . . . . . . . 213
10.8 More method implementations . . . . . . . . . . . . . . . . 214
10.9 Private helper methods . . . . . . . . . . . . . . . . . . . . 215
10.10Imperative or functional? . . . . . . . . . . . . . . . . . . . 216
10.11Adding other subclasses . . . . . . . . . . . . . . . . . . . 218
10.12Override modifiers and the fragile base class problem . . . . 219
10.13Factories . . . . . . . . . . . . . . . . . . . . . . . . . . . . 221
10.14Putting it all together . . . . . . . . . . . . . . . . . . . . . 222
10.15Scala’s class hierarchy . . . . . . . . . . . . . . . . . . . . 225
10.16Implementing primitives . . . . . . . . . . . . . . . . . . . 229
10.17Bottom types . . . . . . . . . . . . . . . . . . . . . . . . . 231
10.18Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 232
11 Traits and Mixins 233
11.1 Syntax . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 233
11.2 Thin versus thick interfaces . . . . . . . . . . . . . . . . . . 235
11.3 The standard Ordered trait . . . . . . . . . . . . . . . . . . 236
11.4 Traits for modifying interfaces . . . . . . . . . . . . . . . . 238
11.5 Stacking modifications . . . . . . . . . . . . . . . . . . . . 241
11.6 Locking and logging queues . . . . . . . . . . . . . . . . . 242
11.7 Traits versus multiple inheritance . . . . . . . . . . . . . . . 245
11.8 To trait, or not to trait? . . . . . . . . . . . . . . . . . . . . 247
12 Case Classes and Pattern Matching 249
12.1 A simple example . . . . . . . . . . . . . . . . . . . . . . . 249
12.2 Kinds of patterns . . . . . . . . . . . . . . . . . . . . . . . 253
12.3 Pattern guards . . . . . . . . . . . . . . . . . . . . . . . . . 261
12.4 Pattern overlaps . . . . . . . . . . . . . . . . . . . . . . . . 263
12.5 Sealed classes . . . . . . . . . . . . . . . . . . . . . . . . . 264
12.6 The Option type . . . . . . . . . . . . . . . . . . . . . . . 266
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Contents xii
12.7 Patterns everywhere . . . . . . . . . . . . . . . . . . . . . . 267
12.8 A larger example . . . . . . . . . . . . . . . . . . . . . . . 271
12.9 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 278
13 Packages and Imports 279
13.1 Packages . . . . . . . . . . . . . . . . . . . . . . . . . . . 280
13.2 Imports . . . . . . . . . . . . . . . . . . . . . . . . . . . . 283
13.3 Access modifiers . . . . . . . . . . . . . . . . . . . . . . . 286
14 Working with Lists 292
14.1 List literals . . . . . . . . . . . . . . . . . . . . . . . . . . 292
14.2 The List type . . . . . . . . . . . . . . . . . . . . . . . . . 292
14.3 Constructing lists . . . . . . . . . . . . . . . . . . . . . . . 293
14.4 Basic operations on lists . . . . . . . . . . . . . . . . . . . 294
14.5 List patterns . . . . . . . . . . . . . . . . . . . . . . . . . . 295
14.6 Operations on lists Part I: First-order methods . . . . . . . . 297
14.7 Operations on lists Part II: Higher-order methods . . . . . . 307
14.8 Operations on lists Part III: Methods of the List object . . . 315
14.9 Understanding Scala’s type inference algorithm . . . . . . . 318
15 Collections 322
15.1 Overview of the library . . . . . . . . . . . . . . . . . . . . 322
15.2 Sequences . . . . . . . . . . . . . . . . . . . . . . . . . . . 324
15.3 Tuples . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 328
15.4 Sets and maps . . . . . . . . . . . . . . . . . . . . . . . . . 331
15.5 Initializing collections . . . . . . . . . . . . . . . . . . . . 335
15.6 Immutable collections . . . . . . . . . . . . . . . . . . . . . 336
15.7 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 341
16 Stateful Objects 342
16.1 What makes an object stateful? . . . . . . . . . . . . . . . . 342
16.2 Reassignable variables and properties . . . . . . . . . . . . 344
16.3 Case study: discrete event simulation . . . . . . . . . . . . . 347
16.4 A language for digital circuits . . . . . . . . . . . . . . . . 348
16.5 The Simulation API . . . . . . . . . . . . . . . . . . . . . 352
16.6 Circuit Simulation . . . . . . . . . . . . . . . . . . . . . . . 355
16.7 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 361
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Contents xiii
17 Type Parameterization 362
17.1 Functional queues . . . . . . . . . . . . . . . . . . . . . . . 362
17.2 Information hiding . . . . . . . . . . . . . . . . . . . . . . 365
17.3 Variance annotations . . . . . . . . . . . . . . . . . . . . . 367
17.4 Lower bounds . . . . . . . . . . . . . . . . . . . . . . . . . 374
17.5 Contravariance . . . . . . . . . . . . . . . . . . . . . . . . 375
17.6 Object-local data . . . . . . . . . . . . . . . . . . . . . . . 376
17.7 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 378
18 Abstract Members and Properties 379
18.1 Abstract vals . . . . . . . . . . . . . . . . . . . . . . . . . 380
18.2 Abstract vars . . . . . . . . . . . . . . . . . . . . . . . . . 381
18.3 Abstract types . . . . . . . . . . . . . . . . . . . . . . . . 382
18.4 Case study: Currencies . . . . . . . . . . . . . . . . . . . . 385
18.5 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 395
19 Implicit Conversions and Parameters 396
19.1 Implicit conversions . . . . . . . . . . . . . . . . . . . . . . 396
19.2 The fine print . . . . . . . . . . . . . . . . . . . . . . . . . 399
19.3 Implicit conversion to an expected type . . . . . . . . . . . 403
19.4 Converting the receiver . . . . . . . . . . . . . . . . . . . . 403
19.5 Implicit parameters . . . . . . . . . . . . . . . . . . . . . . 406
19.6 View bounds . . . . . . . . . . . . . . . . . . . . . . . . . 408
19.7 Debugging implicits . . . . . . . . . . . . . . . . . . . . . . 410
20 Implementing Lists 413
20.1 The List class in principle . . . . . . . . . . . . . . . . . . 413
20.2 The ListBuffer class . . . . . . . . . . . . . . . . . . . . 418
20.3 The List class in practice . . . . . . . . . . . . . . . . . . 420
20.4 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 422
21 Object Equality 424
21.1 Writing an equality method . . . . . . . . . . . . . . . . . . 425
22 Working with XML 438
22.1 Semi-structured data . . . . . . . . . . . . . . . . . . . . . 438
22.2 Creating XML . . . . . . . . . . . . . . . . . . . . . . . . . 439
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Contents xiv
22.3 Taking XML apart . . . . . . . . . . . . . . . . . . . . . . 442
22.4 Loading and saving . . . . . . . . . . . . . . . . . . . . . . 444
22.5 Pattern matching . . . . . . . . . . . . . . . . . . . . . . . 446
22.6 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 449
23 Actors and Concurrency 450
23.1 Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . 450
23.2 Locks considered harmful . . . . . . . . . . . . . . . . . . . 450
23.3 Actors and message passing . . . . . . . . . . . . . . . . . 451
23.4 Treating native threads as actors . . . . . . . . . . . . . . . 454
23.5 Tips for better actors . . . . . . . . . . . . . . . . . . . . . 455
24 Extractors 461
24.1 An Example . . . . . . . . . . . . . . . . . . . . . . . . . . 461
24.2 Extractors . . . . . . . . . . . . . . . . . . . . . . . . . . . 463
24.3 Patterns with zero or one variables . . . . . . . . . . . . . . 465
24.4 Variable argument extractors . . . . . . . . . . . . . . . . . 467
24.5 Extractors and sequence patterns . . . . . . . . . . . . . . . 469
24.6 Extractors vs Case Classes . . . . . . . . . . . . . . . . . . 470
24.7 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 472
25 Objects As Modules 473
25.1 A basic database . . . . . . . . . . . . . . . . . . . . . . . 473
25.2 Abstraction . . . . . . . . . . . . . . . . . . . . . . . . . . 476
25.3 Splitting modules into traits . . . . . . . . . . . . . . . . . . 478
25.4 Runtime linking . . . . . . . . . . . . . . . . . . . . . . . . 480
25.5 Tracking module instances . . . . . . . . . . . . . . . . . . 481
25.6 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 483
26 Annotations 484
26.1 Why have annotations? . . . . . . . . . . . . . . . . . . . . 484
26.2 Syntax of annotations . . . . . . . . . . . . . . . . . . . . . 485
26.3 Standard annotations . . . . . . . . . . . . . . . . . . . . . 487
26.4 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 489
27 Combining Scala and Java 490
27.1 Translation details . . . . . . . . . . . . . . . . . . . . . . . 490
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Contents xv
27.2 Annotations . . . . . . . . . . . . . . . . . . . . . . . . . . 494
27.3 Existential types . . . . . . . . . . . . . . . . . . . . . . . . 498
27.4 Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 501
28 Combinator Parsing 502
28.1 Example: Arithmetic Expressions . . . . . . . . . . . . . . 503
28.2 Running Your Parser . . . . . . . . . . . . . . . . . . . . . 505
28.3 Another Example: JSON . . . . . . . . . . . . . . . . . . . 507
28.4 Parser Output . . . . . . . . . . . . . . . . . . . . . . . . . 509
28.5 Implementing Combinator Parsers . . . . . . . . . . . . . . 513
28.6 Lexing and Parsing . . . . . . . . . . . . . . . . . . . . . . 522
28.7 Standard Token Parsers . . . . . . . . . . . . . . . . . . . . 523
28.8 Error reporting . . . . . . . . . . . . . . . . . . . . . . . . 524
28.9 Backtracking vs LL(1) . . . . . . . . . . . . . . . . . . . . 526
28.10Conclusion . . . . . . . . . . . . . . . . . . . . . . . . . . 528
Glossary 530
Bibliography 544
About the Authors 546
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Preface
I’d like to thank you for purchasing the PrePrint™ Edition of Programming
in Scala. Even though the book is still somewhat rough, we believe you can
already use this book very effectively to learn Scala.
We released this PrePrint™ quite early in the book-writing process in
part because so little documentation has up to now existed for Scala, but also
because we want feedback to help us make the book better. At the bottom of
each page is a Suggest link, which will take you to a small web application
where you can submit comments about that page. We’ll know which version
and page you’re on, so all you need to do is type your comment.
At this point we’re interested in feedback on all aspects of the book except
formatting. Please report any misspelled words, typos, or grammar errors.
Let us know if you find something confusing, and be specific. Point out
places where we appear to assume you know something that you don’t. In
short, we’re interested in hearing about your reading experience, but please
don’t report formatting errors.
Formatting is something we plan to fix shortly before we send the book to
the printer. At this point, we are aware that some lines are too long, the words
are spaced out a bit too much here and there, the figures are surrounded by
inconsistently sized white space, etc. Please forgive us for this for the time
being, and don’t report such problems.
By purchasing Version 2 of Programming in Scala, PrePrint™ Edition,
you are entitled to download all updates until we publish the final version of
the book. We thank you again for getting in on the ground floor and look
forward to your feedback.
Bill Venners
Sunnyvale, California
February 18, 2008
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Acknowledgments
Many people have contributed to this book and to the material it covers. We
are grateful to all of them.
Scala itself has been a collective effort of many people. The design and
the implementation of version 1.0 was helped by Philippe Altherr, Vincent
Cremet, Gilles Dubochet, Burak Emir, Stéphane Micheloud, Nikolay Mihaylov,
Michel Schinz, Erik Stenman, and Matthias Zenger. Iulian Dragos,
Gilles Dubochet, Philipp Haller, Sean McDirmid, Ingo Maier, and Adriaan
Moors joined in the effort to develop the second and current version of the
language and tools.
Gilad Bracha, Craig Chambers, Erik Ernst, Matthias Felleisen, Shriram
Krishnamurti, Gary Leavens, Sebastian Maneth, Erik Meijer, David Pollak,
Jon Pretty, Klaus Ostermann, Didier Rémy, Vijay Saraswat, Don Syme,
Mads Torgersen, PhilipWadler, JamieWebb, and JohnWilliams have shaped
the design of the language by graciously sharing their ideas with us in lively
and inspiring discussions, as well as through comments on previous versions
of this document. The contributors to the Scala mailing list have also given
very useful feedback that helped us improve the language and its tools.
George Berger has worked tremendously to make the build process and
the web presence for the book work smoothly. As a result this project has
been delightfully free of technical snafus.
Many people have given us feedback on early versions of the text. Thank
you to Eric Armstrong, George Berger, Gilad Bracha, William Cook, Bruce
Eckel, Stéphane Micheloud, Todd Millstein, David Pollak, Frank Sommers,
Philip Wadler, and Matthias Zenger. We’d also like to thank Dewayne Johnson
and Kim Leedy for their help with the cover art.
Bill would also like to thank Gary Cornell, Greg Doench, Andy Hunt,
Mike Leonard, Tyler Ortman, and Dave Thomas for providing insight and
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Acknowledgments xviii
advice on book publishing.
And we’d like to extend a very special thanks to all of our readers who
contributed comments. Your comments have been very helpful to us in
shaping this into an even better book. Here’s the names of everyone who
submitted comments on eBook version 1 by clicking on the Suggest link,
sorted first by the total number of comments submitted (higher numbers
first), then alphabetically. Thanks goes to: Blair Zajac, Tony Sloane, Javier
Diaz Soto, Mats Henricson, Justin Forder, David Biesack, Nigel Harrison,
Donn Stephan, Mark Hayes, Calum MacLean, Les Pruszynski, Martin Elwin,
Dmitry Grigoriev, Ervin Varga, Marius Scurtescu, Jeff Ervin, Jamie
Webb, Howard Lovatt, Shanky Surana, Alexandre Patry, EricWilligers, Filip
Moens, Peter McLain, Arkadiusz Stryjski, Boris Lorbeer, Fred Janon, Jim
Menard, George Berger, Martin Smith, Richard Dallaway, Thomas Jung, Andrew
Tolopko, Joshua Cough, Craig Bordelon, Juan Miguel Garcia Lopez,
Matt Russell, Michel Schinz, Peter Moore, Randolph Kahle, Bjarte S. Karlsen,
Colin Perkins, Hiroaki Nakamura, Martin Smith, Bhaskar Maddala, George
Kollias, Kristian Nordal, Maarten Hazewinkel, Marcus Schulte, Normen
Mueller, Ole Hougaard, Rafael Ferreira, Vadim Gerassimov, Cameron Taggart,
LarsWestergren, Sam Owen, Silvestre Zabala,Will McQueen, Christopher
Rodrigues Macias, Jeroen Dijkmeijer, Jorge Ortiz, Michel Salim, Scot
McSweeney-Roberts, Tim Azzopardi, Benjamin Smith, Eelco Hillenius, F
Isphording, Frederic Jean, James Iry, Jonathan Feinberg, Marcus Dubois,
Paolo Losi, Robert Christie, Trustin Lee, Alx Barker, Bjorn Zetterstrom,
Chee Seng Chua, Chris Hagan, Claudi Paniagua, David Bernard, Deklan
Dieterly, Hans Dockter, JC Zulian, Jay Lawrence, Johannes Rudolph, John
D. Heintz, John Franey, Martin Scheffler, Matthew Passell, Michael Campbell,
Robert Alexander, Rupert Key, Simon Epstein, Thomas Boam, Tomoyasu
Kobayashi, Tyler Perkins, Aashutosh Vijayant, Amir Michail, Daniel
Wellman, Dianne Marsh, Dirk Meister, Edgar Honing, Guy Oliver, Hanson
Char, Jan Lohre, Jeff Heon, Johan Karlberg, John Tyler, Jon-Anders
Teigen, Jonathan O’Connor, Jozef Saniga, Jörn Zaefferer, Kean Heng Lim,
Kegan Gan, Marc Boehret, MauriceWalton, Narayan Iyer, Oliver Goodman,
Paul Jackson, Roberto Chiaretti, Ryan Boyer, Sergey Novgorodsky, Sultan
Rehman, Tom Davies, Tom Duffey, Tristan Woerth, Ulrik Rasmussen, Will
Hays, William Heelan, and Wim Stolker.
Now, we can’t promise this long list will make it into the printed book,
but we’ll see what we can do. We wanted to let you know at least in this
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Acknowledgments xix
PrePrint that we find your feedback very helpful and appreciate it. Sorry if
we missed anyone, as some people have submitted feedback via forums or
email. It is a bit more convenient for us to process feedback submitted via
the Suggest link, so we encourage that, but we appreciate your suggestions
no matter how they come in.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Introduction
This book is a tutorial for the Scala programming language, written by people
directly involved in the development of Scala. Our goal is that by reading
this book, you can learn everything you need to be a productive Scala programmer.
Who should read this book
The main target audience is programmers who want to learn to program in
Scala. If you want to do your next software project in Scala, then this is
the book for you. In addition, the book should be interesting to programmers
wishing to expand their horizons by learning new concepts. If you’re
a Java programmer, for example, reading this book will expose you to many
concepts from functional programming as well as advanced object oriented
ideas. We believe learning Scala can help you become a better programmer
in general.
General programming knowledge is assumed. While Scala is a fine first
programming language, this is not the book to use to learn programming.
On the other hand, no specific knowledge of programming languages is
required. Even though most people use Scala on the Java platform, this book
does not presume you know anything about Java. However, we expect many
readers to be familiar with Java, and so we sometimes compare Scala to Java
to help such readers understand the differences.
How to use this book
The main purpose of this book is to serve as a tutorial to help you learn to
program in Scala. Thus, the recommended way to read this book is in chapter
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Introduction xxi
order, from front to back. We have tried hard to introduce one topic at a time,
and only explain new topics in terms of topics we’ve already introduced.
Thus, if you skip to the back to get an early peak at something, you may
find it explained in terms of things you don’t quite understand. To the extent
you read the chapters in order, we think you’ll find it quite straightforward
to gain competency in Scala, one step at a time.
If you see a term you do not know, be sure to check the glossary and
the index. Many readers will skim parts of the book, and that is just fine.
The glossary and index can help you backtrack whenever you skim over
something too quickly.
After you have read the book once, it should also serve as a language
reference. There is a formal specification of the Scala language, but the language
specification tries for precision at the expense of readability. Although
this book doesn’t cover every detail of Scala, it is quite comprehensive and
should serve as an approachable language reference as you become more
adept at programming in Scala.
How to learn Scala
You will learn a lot about Scala simply by reading this book from cover to
cover. You can learn Scala faster and more thoroughly, though, if you do a
few extra things.
First of all, you can take advantage of the many program examples included
in the book. Typing them in yourself is a way to force your mind
through each line of code. Trying variations is a way to make them more fun
and to make sure you really understand how they work.
Second, keep in touch with the numerous online forums. That way, you
and other Scala enthusiasts can help each other. There are numerous mailing
lists, there is a wiki, and there are multiple Scala-specific article feeds. Take
some time to find ones that fit your information needs. You will spend a lot
less time stuck on little problems, so you can spend your time on deeper,
more important questions.
Finally, once you have read enough, take on a programming project of
your own. Work on a small program from scratch, or develop an add-in to a
larger program. You can only go so far by reading.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Introduction xxii
Ebook features
The eBook is not simply a printable version of the paper version of the book.
While the content is the same as in the paper version, the eBook has been
carefully prepared for reading on a computer screen.
The first thing to notice is that most references within the book are hyperlinked.
If you select a reference to a chapter, figure, or glossary entry,
your browser should take you immediately to the selected item so that you
do not have to flip around to find it.
Additionally, at the bottom of each page are a number of navigation links.
The “Cover,” “Overview,” and “Contents” links take you to major portions
of the book. The “Glossary” and “Index” links take you to reference parts
of the book. Finally, the “Discuss” link takes you to an online forum where
you discuss questions with other readers, the authors, and the larger Scala
community. If you find a typo, or something you think could be explained
better, please click on the “Suggest” link, which will take you to an online
web application with which you can give the authors feedback.
Although the same pages appear in the eBook as the printed book, blank
pages are removed and the remaining pages renumbered. The pages are numbered
differently so that it is easier for you to determine PDF page numbers
when printing only a portion of the eBook. The pages in the eBook are,
therefore, numbered exactly as in your PDF reader will number them.
Typographic conventions
The first time a term is used, it is italicized. Small code examples, such as
x + 1, are written inline with a mono-spaced font. Larger code examples are
put into mono-spaced quotation blocks like this:
def hello() {
println("Hello, world!")
}
When interactive shells are shown, responses from the shell are shown in a
lighter font.
scala> 3 + 4
res0: Int = 7
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Introduction xxiii
Content overview
• Chapter 1, “A Scalable Language,” describes the history of Scala and
why you should care about the language.
• Chapter 2, “First Steps in Scala,” rapidly shows you how to do a number
of basic programming tasks in Scala, without going into detail
about how they work.
• Chapter 3, “Next Steps in Scala,” continues the previous chapter and
rapidly shows you several more basic programming tasks.
• Chapter 4, “Classes and Objects,” starts the in-depth coverage of Scala
with a description of the basic building blocks of object-oriented languages.
• Chapter 5, “Basic Types and Operations,” shows how to work with
common types like integers and common operations like addition.
• Chapter 6, “Functional Objects,” goes into more depth on object-oriented
structures, using immutable rational numbers as a case study.
• Chapter 7, “Basic Control Structures,” shows how to use familiar control
structures like if and while.
• Chapter 8, “Functions,” discusses in depth functions, the basic building
block of functional languages.
• Chapter 10, “Composition and Inheritance,” discusses more of Scala’s
support object-oriented programming. The topics are not as fundamental
as those in Chapter 4, but they frequently arise in practice.
• Chapter 11, “Traits and Mixins,” shows Scala’s trait mechanism for
mixin composition.
• Chapter 12, “Case Classes and Pattern Matching,” introduces case
classes and pattern matching, twin constructs that support you when
writing regular, non-encapsulated data structures. The two constructs
are particularly helpful for tree-like recursive data.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Introduction xxiv
• Chapter 13, “Packages and Imports,” is the first chapter to discuss
issues with programming in the large. It discusses top-level packages,
import statements, and access control modifiers like public and
private.
• Chapter 14, “Working with Lists,” explains lists in detail. Lists are
probably the most commonly used data structure in Scala programs.
• Chapter 15, “Collections,” shows you how to use Scala’s collection
library to organize large amounts of data.
• Chapter 16, “Stateful Objects,” explains what stateful objects are, and
what Scala provides in term of syntax to express them. The second part
of this chapter also introduces are larger case study on discrete event
simulation, an application area where stateful objects arise naturally.
• Chapter 17, “Type Parameterization,” explains some of the techniques
for information hiding introduced in the Chapter 13 by means of a
concrete example: the design of a class for purely functional queues.
The chapter builds up to a description of variance of type parameters
and how it interacts with information hiding.
• Chapter 18, “Abstract Members and Properties,” describes all kinds
of abstract members that Scala supports. Not only methods, but also
fields and types can be declared abstract.
• Chapter 19, “Implicit Conversions and Parameters,” describes implicit
conversions and implicit parameters, two constructs which help programmers
omit tedious details from source code and let the compiler
infer them.
• Chapter 20, “Implementing Lists,” describes the implementation of
class List. It is important to understand how lists work in Scala, and
furthermore the implementation demonstrates the use of several Scala
features.
• Chapter 21, “Object Equality,” points out several issues to consider
when writing an equals method. There are several pitfalls to avoid.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Introduction xxv
• Chapter 22, “Working with XML,” shows you how to process XML
in Scala. It shows you idioms for generating XML, parsing it, and
processing it once it is parsed.
• Chapter 23, “Actors and Concurrency,” shows you how to use Scala’s
actors support for concurrency. You can also use the threads and locks
of the native platform, which work in Scala, but actors help you avoid
the deadlocks and race conditions that plague that concurrency approach.
• Chapter 24, “Extractors,” shows how to pattern match against arbitrary
classes, not just case classes.
• Chapter 25, “Objects As Modules,” shows how Scala’s objects are rich
enough to remove the need for a separate modules system.
• Chapter 26, “Annotations,” shows how to work with language extension
via annotation. The chapter shows several standard annotations
and shows you how to make your own.
• Chapter 27, “Combining Scala and Java,” discusses several issues that
arise when programming in Scala on the Java platform.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Programming in Scala
PrePrint™ Edition
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 1
A Scalable Language
The name Scala stands for “scalable language.” The language is so named
because it was designed to grow with the demands of its users. You can apply
Scala to a wide range of programming tasks, from writing small scripts to
building large systems.1
Scala is easy to get into. It runs on the standard Java platform and it interoperates
seamlessly with all Java libraries. It’s a great language for writing
scripts that pull together Java components. But it can play out its strengths
even more for building large systems and frameworks of reusable components.
Technically, Scala is a blend of object-oriented and functional programming
concepts in a statically typed language. The fusion of object-oriented
and functional programming shows up in many different aspects of Scala; it
is probably more pervasive than in any other widely used language. The two
programming styles have complementary strengths when it comes to scalability.
Scala’s functional programming constructs make it easy to build interesting
things quickly from simple parts. Its object-oriented constructs make
it easy to structure larger systems and to adapt them to new demands. The
combination of both styles in Scala makes it possible to express new kinds of
programming patterns and component abstractions. It also leads to a legible
and concise programming style. Because it is so malleable, programming in
Scala can be a lot of fun.
This initial chapter answers the question, “Why Scala?” It gives a highlevel
view of Scala’s design and the reasoning behind it. After reading the
1Scala is pronounced skah-la.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 1.1 Chapter 1 · A Scalable Language 28
chapter you should have a basic feel for what Scala is and what kinds of
tasks it might help you accomplish. Although this book is a Scala tutorial,
this chapter isn’t really part of the tutorial. If you’re anxious to start writing
some Scala code, you should jump ahead to Chapter 2.
1.1 A language that grows on you
Programs of different sizes tend to require different programming constructs.
Consider, for example, the following small Scala program:
var capital = Map("US" >
"Washington",
"France" >
"Paris")
capital += ("Japan" >
"Tokyo")
println(capital("France"))
This program sets up a map from countries to their capitals, modifies the map
by adding a new binding ("Japan" >
"Tokyo"), and prints the capital associated
with the country France.2 The notation in this example is high-level,
to the point, and uncluttered with extraneous semicolons or type annotations.
Indeed, the feel is that of a modern “scripting” language like Perl, Python or
Ruby. One common characteristic of these languages, which is relevant for
the example above, is that they each support an “associative map” construct
in the syntax of the language.
Associative maps are very useful because they help keep programs legible
and concise. However, sometimes you might not agree with their “one
size fits all” philosophy, because you need to control the properties of the
maps you use in your program in a more fine-grained way. Scala gives you
this fine-grained control if you need it, because maps in Scala are not language
syntax. They are library abstractions that you can extend and adapt.
In the above program, you’ll get a default Map implementation, but you
can easily change that. You could for example specify a particular implementation,
such as a HashMap or a TreeMap, or you could specify that the
map should be thread-safe, “mixing in” a SynchronizedMap “trait.” You
could specify a default value for the map, or you could override any other
2Please bear with us if you don’t understand all details of this program. They will be
explained in the next two chapters.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 1.1 Chapter 1 · A Scalable Language 29
method of the map you create. In each case, you can use the same easy
access syntax for maps as in the example above.
This example shows that Scala can give you both convenience and flexibility.
Scala has a set of convenient constructs that help you get started
quickly and let you program in a pleasantly concise style. At the same time,
you have the assurance that you will not “outgrow” the language. You can
always tailor the program to your requirements, because everything is based
on library modules that you can select and adapt as needed.
Growing new types
Eric Raymond introduced the cathedral and bazaar as two metaphors of software
development.3 The cathedral is a near-perfect building that takes a long
time to build. Once built, it stays unchanged for a long time. The bazaar, by
contrast, is adapted and extended each day by the people working in it. In
Raymond’s work the bazaar is a metaphor for open-source software development.
Guy Steele noted in a talk on “growing a language” that the same
distinction can be applied to language design.4 Scala is much more like a
bazaar than a cathedral, in the sense that it is designed to be extended and
adapted by the people programming in it. Instead of providing all constructs
you might ever need in one “perfectly complete” language, Scala puts the
tools for building such constructs into your hands.
Here’s an example. Many applications need a type of integer that can
become arbitrarily large without overflow or “wrap-around” of arithmetic
operations. Scala defines such a type in a library class scala.BigInt. Here
is the definition of a method using that type, which calculates the factorial of
a passed integer value:5
def factorial(x: BigInt): BigInt =
if (x == 0) 1 else x * factorial(x 1)
Now, if you call factorial(30) you would get:
265252859812191058636308480000000
3Raymond, The Cathedral and the Bazaar [Ray99]
4Steele, “Growing a language” [Ste99]
5factorial(x), or x! in mathematical notation, is the result of computing
1 * 2 * ... * x, with 0! defined to be 1.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 1.1 Chapter 1 · A Scalable Language 30
BigInt looks like a built-in type, because you can use integer literals and
operators such as * and with
values of that type. Yet it is just a class that
happens to be defined in Scala’s standard library. If the class were missing, it
would be straightforward for any Scala programmer to write an implementation,
for instance by wrapping Java’s class java.math.BigInteger (in fact
that’s how Scala’s BigInt class is implemented).
Of course, you could also use Java’s class directly. But the result is not
nearly as pleasant, because although Java allows you to create new types,
those types don’t feel much like native language support:
import java.math.BigInteger
def factorial(x: BigInteger): BigInteger =
if (x == BigInteger.ZERO)
BigInteger.ONE
else
x.multiply(factorial(x.subtract(BigInteger.ONE)))
BigInt is a representative of many other number-like types—big decimals,
complex numbers, rational numbers, confidence intervals, polynomials—the
list goes on. Some programming languages implement some of these types
natively. For instance, Lisp, Haskell, and Python implement big integers;
Fortran and Python implement complex numbers. But no sane language can
implement all these abstractions at the same time. It would simply become
too big to be manageable. What’s more, even if such a language were to
exist, some applications would surely benefit from other number-like types
that were not supplied. So the approach of attempting to provide everything
in one language doesn’t scale very well. Instead, Scala allows users to grow
and adapt the language in the directions they need by defining easy-to-use
libraries that feel like native language support.
Growing new control constructs
The previous example demonstrates that Scala lets you add new types that
can be used as conveniently as built-in types. The same extension principle
also applies to control structures. This kind of extensibility is illustrated by
Scala’s API for “actor-based” concurrent programming.
As multicore processors proliferate in the coming years, achieving acceptable
performance will demand you use more parallelism in your ap-
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 1.1 Chapter 1 · A Scalable Language 31
plications. Often, this means rewriting your code so that computations are
distributed over several concurrent threads. Unfortunately, creating dependable
multi-threaded applications has proven challenging in practice. Java’s
threading model is built around shared memory and locking, a model that
is often difficult to reason about, especially as systems scale up in size and
complexity. It is hard to be sure you don’t have a race condition or deadlock
lurking—something that didn’t show up during testing, but might just
show up in production. An arguably safer alternative is a message passing
architecture such as the “actors” approach used by the Erlang programming
language.
Java comes with a rich thread-based concurrency library. Scala programs
can use it like any other Java API. However, Scala also offers an additional
library that essentially implements Erlang’s actor model.
Actors are concurrency abstractions that can be implemented on top of
threads. They communicate by sending messages to each other. An actor can
perform two basic operations, message send and receive. The send operation,
denoted by an exclamation point (!), sends a message to an actor. Here’s an
example in which the actor is named recipient:
recipient ! msg
A send is asynchronous; that is, the sending actor can proceed immediately,
without waiting for the message to be received and processed. Every actor
has a mailbox in which incoming messages are queued. An actor handles
messages that have arrived in its mailbox via a receive block:
receive {
case Msg1 => ... // handle Msg1
case Msg2 => ... // handle Msg2
// ...
}
A receive block consists of a number of cases that each query the mailbox
with a message pattern. The first message in the mailbox that matches any of
the cases is selected, and the corresponding action is performed on it. If the
mailbox does not contain any messages that match one of the given cases,
the actor suspends and waits for further incoming messages.
As an example, here is a simple Scala actor implementing a checksum
calculator service:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 1.1 Chapter 1 · A Scalable Language 32
actor {
var sum = 0
loop {
receive {
case Data(bytes) => sum += hash(bytes)
case GetSum(requester) => requester ! sum
}
}
}
This actor first defines a local variable named sum with initial value zero. It
then repeatedly waits in a loop for messages, using a receive statement. If it
receives a Data message, it adds a hash of the sent bytes to the sum variable.
If it receives a GetSum message, it sends the current value of sum back to the
requester using the message send requester ! sum. The requester field
is embedded in the GetSum message; it refers usually to the actor that made
the request.
We don’t expect you to understand fully the actor example at this point.
Rather, what’s significant about this example for the topic of scalability is
that neither actor nor loop nor receive nor message send (!) are built-in
operations in Scala. Even though actor, loop and receive look and act
very similar to control constructs like while or for loops, they are in fact
methods defined in Scala’s actors library. Likewise, even though (!) looks
like a built-in operator, it too is just a method defined in the actors library. All
four of these constructs are completely independent of the Scala language.
The receive block and send (!) syntax look in Scala much like they
look in Erlang, but in Erlang, these constructs are built into the language.
Scala also implements most of Erlang’s other concurrent programming constructs,
such as monitoring failed actors and time-outs. All in all, actors
have turned out to be a very pleasant means for expressing concurrent and
distributed computations. They feel like an integral part of Scala.
This example illustrates that you can “grow” the Scala language in new
directions even as specialized as concurrent programming. To be sure, you
need good architects and programmers to do this. But the crucial thing is
that it is feasible—you can design and implement abstractions in Scala that
address radically new application domains, yet still feel like native language
support.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 1.2 Chapter 1 · A Scalable Language 33
1.2 What makes Scala scalable?
Scalability is influenced by many factors, ranging from syntax details to
component abstraction constructs. If we were forced to name just one aspect
of Scala that helps scalability, we’d pick its combination of object-oriented
and functional programming (well, we cheated, that’s really two aspects, but
they are intertwined).
Scala goes further than all other well-known languages in fusing objectoriented
and functional programming into a uniform language design. For
instance, where other languages might have objects and functions as two
different concepts, in Scala a function value is an object. Function types are
classes that can be inherited by subclasses. This might seem nothing more
than an academic nicety, but it has deep consequences for scalability. In
fact the actor concept shown previously could not have been implemented
without this unification of functions and objects.
Scala is object-oriented
Object-oriented programming has been immensely successful. Starting from
Simula in the mid-60’s and Smalltalk in the 70’s, it is now available in more
languages than not. In some domains objects have taken over completely.
While there is not a precise definition of what object-oriented means, there
is clearly something about objects that appeals to programmers.
In principle, the motivation for object-oriented programming is very simple:
all but the most trivial programs need some sort of structure. The most
straightforward way to do this is to put data and operations into some form of
containers. The great idea of object-oriented programming is to make these
containers fully general, so that they can contain data as well as operations,
and that they are themselves values that can be stored in other containers, or
passed as parameters to operations. Such containers are called objects. Alan
Kay, the inventor of Smalltalk, remarked that in this way the simplest object
has the same construction principle as a full computer: it combines data with
operations under a formalized interface.6 So objects have a lot to do with
language scalability: the same techniques apply to the construction of small
as well as large programs.
6Kay, “The Early History of Smalltalk” [Kay96]
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 1.2 Chapter 1 · A Scalable Language 34
Even though object-oriented programming has been mainstream for a
long time, there are relatively few languages that have followed Smalltalk
in pushing this construction principle to its logical conclusion. For instance,
many languages admit values that are not objects, such as the primitive values
in Java. Or they allow static fields and methods that are not members
of any object. These deviations from the pure idea of object-oriented programming
look quite harmless at first, but they have an annoying tendency
to complicate things and limit scalability.
By contrast, Scala is an object-oriented language in pure form: every
value is an object and every operation is a method call. For example, when
you say 1 + 2 in Scala, you are actually invoking a method named + defined
in class Int. You can define methods with operator-like names that clients
of your API can then use in operator notation. This is how the designer of
Scala’s actors API enabled you to use expressions such as requester ! sum
shown in the previous example: (!) is a method of the Actor class.
Scala is more advanced than most other languages when it comes to composing
objects. An example is Scala’s traits. Traits are like interfaces in Java,
but they can also have method implementations and even fields. Objects are
constructed by mixin composition, which takes the definitions of a class and
adds the deltas of a number of traits to it. In this way, different aspects of
classes can be encapsulated in different traits. This looks a bit like multiple
inheritance, but is different when it comes to the details. Unlike a class, a
trait can add a delta of functionality to an unspecified superclass. This makes
traits more “pluggable” than classes. In particular, it avoids the classical “diamond
inheritance” problems of multiple inheritance, which arise when the
same class is inherited via several different paths.
Scala is functional
In addition to being a pure object-oriented language, Scala is also a fullblown
functional language. The ideas of functional programming are older
than (electronic) computers. Their foundation was laid in Alonzo Church’s
lambda calculus, which he developed in the 1930s. The first functional programming
language was Lisp, which dates from the late 50s. Other popular
functional languages are Scheme, SML, Erlang, Haskell, OCaml, and F#.
For a long time, functional programming has been a bit on the sidelines,
popular in academia, but not that widely used in industry. However, recent
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 1.2 Chapter 1 · A Scalable Language 35
years have seen an increased interest in functional programming languages
and techniques.
Functional programming is guided by two main ideas. The first idea is
that functions are first-class values. In a functional language, a function is a
value of the same status as, say, an integer or a string. You can pass functions
as arguments to other functions, return them as results from functions,
or store them in variables. You can also define a function inside another
function, just as you can define an integer value inside a function. And you
can define functions without giving them a name, sprinkling your code with
function literals as easily as you might write integer literals like 42.
Functions that are first-class values provide a convenient means for abstracting
over operations and creating new control structures. This generalization
of functions provides great expressiveness, which often leads to very
legible and concise programs. It also plays an important role in Scala’s scalability.
As an example, the receive construct shown previously in the actor
example is an invocation of a method that takes a function as argument. The
code inside the receive construct is a function that is passed unexecuted
into the receive method.
In most traditional languages, by contrast, functions are not values. Languages
that do have function values often relegate them to second-class status.
For example, the function pointers of C and C++ do not have the same
status as non-functional values in those languages: function pointers can
only refer to global functions, they do not give you the possibility to define
first-class nested functions that refer to some values in their environment.
Nor do they provide the possibility to define name-less function literals.
The second main idea of functional programming is that the operations
of a program should map input values to output values rather than change
data in place. To see the difference, consider the implementation of strings
in Ruby and in Java. In Ruby, a string is an array of characters. Characters
in a string can be changed individually. For instance you can change a
semicolon character in a string to a period inside the same string object. In
Java and Scala, on the other hand, a string is a sequence of characters in the
mathematical sense. Replacing a character in a string using an expression
like s.replace(';', '.') yields a new string object, which is different
from s. Another way of expressing this is that strings are immutable in Java
whereas they are mutable in Ruby. So looking at just strings, Java is a functional
language, whereas Ruby is not. Immutable data structures are one
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 1.3 Chapter 1 · A Scalable Language 36
of the cornerstones of functional programming. The Scala libraries define
many more immutable data types on top of those found in the Java APIs. For
instance, Scala has immutable lists, tuples, maps, and sets.
Another way of stating this second idea of functional programming is
that methods should not have any side effects. They should communicate
with their environment only by taking arguments and returning results. For
instance, the replace method in Java’s String class fits this description. It
takes a string and two characters and yields a new string where all occurrences
of one character are replaced by the other. There is no other effect of
calling replace. Methods like replace are called referentially transparent.
Functional languages encourage immutable data structures and referentially
transparent methods. Some functional languages even require them.
Scala gives you a choice. When you want to, you can write in an imperative
style, which is what programming with mutable data and side effects
is called. But Scala generally makes it easy to avoid imperative constructs
when you want, because good functional alternatives exist.
1.3 Why Scala?
Is Scala for you? You will have to see and decide for yourself. We have
found that there are actually many reasons besides scalability to like programming
in Scala. Four of the most important aspects will be discussed in
the following. They are: compatibility, brevity, high-level abstractions, and
advanced static typing.
Scala is compatible
Scala’s doesn’t require you to leap backwards off the Java platform to step
forward from the Java language. It allows you to add value to existing code—
to build on what you already have, because it was designed for seamless interoperability
with Java.7 Scala programs compile to JVM bytecodes. Their
run-time performance is usually on par with Java programs. Scala code can
call Java methods, access Java fields, inherit from Java classes, and implement
Java interfaces. None of this requires special syntax, explicit interface
7There is also a Scala variant that runs on the .NET platform, but the JVM variant currently
has better support.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 1.3 Chapter 1 · A Scalable Language 37
descriptions, or glue code. In fact, almost all Scala code makes heavy use of
Java libraries, often without programmers being aware of this fact.
Another aspect of full interoperability is that Scala heavily re-uses Java
types. Scala’s Ints are represented as Java primitive integers of type int,
Floats are represented as floats, Booleans as booleans, and so on. Scala
arrays are mapped to Java arrays. Scala also re-uses many of the standard
Java library types. For instance, the type of a string literal "abc" in
Scala is java.lang.String, and a thrown exception must be a subclass of
java.lang.Throwable.
Scala not only re-uses Java’s types, but also “dresses them up” to
make them nicer. For instance, Scala’s strings support methods like
toInt or toFloat, which convert the string to an integer or floating
point number. So you can write str.toInt as a shorter alternative for
Integer.parseInt(str). How can this be achieved without breaking interoperability?
Java’s String class certainly has no toInt method! In fact,
Scala has a very general solution to solve this tension between advanced
library design and interoperability. Scala lets you define implicit conversions,
which are always applied when types would not normally match up,
or when non-existing members are selected. In the case above, when looking
for a toInt method on a string, the Scala compiler will find no such member
of class String, but it will find an implicit conversion that converts a
Java String to an instance of the Scala class RichString, which does define
such a member. The conversion will then be applied implicitly before
performing the toInt operation.
Scala code can also be invoked from Java code. This is sometimes a bit
more subtle, because Scala is a richer language than Java, so some of Scala’s
more advanced features need to be encoded before they can be mapped to
Java. Chapter 27 explains the details.
Scala is concise
Scala programs tend to be short. Scala programmers have reported reductions
in number of lines of up to a factor of ten compared to Java. These
might be extreme cases. A more conservative estimate would be that a typical
Scala program should have about half the number of lines of the same
program written in Java. Fewer lines of code mean not only less typing, but
also less effort at reading and understanding programs and fewer possibili-
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 1.3 Chapter 1 · A Scalable Language 38
ties of defects. There are several factors that contribute to this reduction in
lines of code.
First, Scala’s syntax avoids some of the boilerplate that burdens Java
programs. For instance, semicolons are optional in Scala and are usually left
out. There are also several other areas where Scala’s syntax is less noisy.
As an example, compare how you write classes and constructors in Java and
Scala. In Java, a class with a constructor often looks like this:
// this is Java
class MyClass {
private int index;
private String name;
public MyClass(int index, String name) {
this.index = index;
this.name = name;
}
}
In Scala, you would likely write this instead:
class MyClass(index: Int, name: String) {}
Given this code, the Scala compiler will produce a class that has two private
instance variables, an Int named index and a String named name, and a
constructor that takes initial values for those variables as parameters. The
code of this constructor will initialize the two instance variables with the
values passed as parameters. In short, you get essentially the same functionality
as the more verbose Java version.8 The Scala class is quicker to write,
easier to read, and most importantly, less error prone than the Java class.
Scala’s type inference is another factor that contributes to its conciseness.
Repetitive type information can be left out, so programs become less
cluttered and more readable.
But probably the most important key to compact code is code you don’t
have to write because it is done in a library for you. Scala gives you many
tools to define powerful libraries that let you capture and factor out common
8The only real difference is that the instance variables produced in the Scala case will be
final. You’ll learn how to make them non-final in Chapter 10, Composition and Inheritance.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 1.3 Chapter 1 · A Scalable Language 39
behavior. For instance, different aspects of library classes can be separated
out into traits, which can then be mixed together in flexible ways. Or library
methods can be parameterized with operations, which lets you define
constructs that are, in effect, your own control structures. Together, these
constructs allow the definition of libraries that are both high-level and flexible
to use.
Scala is high-level
Programmers are constantly grappling with complexity. To program productively,
you must understand the code on which you are working. Overly
complex code has been the downfall of many a software project. Unfortunately,
important software usually has complex requirements. Such complexity
can’t be avoided; it must instead be managed.
Scala helps you manage complexity by letting you raise the level of abstraction
in the interfaces you design and use. As an example, imagine you
have a String variable name, and you want to find out whether or not that
String contains an upper case character. In Java, you might write this:
// this is Java
boolean nameHasUpperCase = false;
for (int i = 0; i < name.length(); ++i) {
if (Character.isUpperCase(name.charAt(i))) {
nameHasUpperCase = true;
break;
}
}
Whereas in Scala, you could write this:
val nameHasUpperCase = name.exists(_.isUpperCase)
The Java code treats strings as low-level entities that are stepped through
character by character in a loop. The Scala code treats the same strings
as higher-level sequences of characters that can be queried with predicates.
Clearly the Scala code is much shorter and—for trained eyes—easier to understand
than the Java code. So the Scala code weighs less heavily on the
total complexity budget. It also gives you less opportunity to make mistakes.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 1.3 Chapter 1 · A Scalable Language 40
The predicate (_.isUpperCase) is an example of a function literal in
Scala.9 It describes a function that takes a character argument (represented
by the underscore character), and tests whether it is an upper case letter.10
In principle, such control abstractions are possible in Java as well. You’d
need to define an interface that contains a method with the abstracted functionality.
For instance, if you wanted to support querying over strings,
you might invent an interface CharacterProperty with a single method
hasProperty:
// this is Java
interface CharacterProperty {
boolean hasProperty(char ch);
}
With that interface you can formulate a method exists in Java: It takes
a string and a CharacterProperty and returns true if there is a character
in the string that satisfies the property. You could then invoke exists as
follows:
// this is Java
exists(name, new CharacterProperty {
boolean hasProperty(char ch) {
return Character.isUpperCase(ch);
}
});
However, all this feels rather heavy. So heavy, in fact, that most Java programmers
would not bother. They would just live with the increased complexity
in their code. On the other hand, function literals in Scala are really
lightweight, so they are used frequently. As you get to know Scala better
you’ll find more and more opportunities to define and use your own control
abstractions. You’ll find that this helps avoid code duplication and thus keeps
your programs shorter and clearer.
9A function literal can be called a predicate if its result type is Boolean.
10This use of the underscore as a placeholder for arguments is described in Section 8.5 on
page 175
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 1.3 Chapter 1 · A Scalable Language 41
Scala is statically typed
A static type system classifies variables and expressions according to the
kinds of values they hold and compute. Scala stands out as a language with
a very advanced static type system. Starting from a system of nested class
types much like Java’s, it allows you to parameterize types with generics, to
combine types using intersections, and to hide details of types using abstract
types.11 These give a strong foundation for building and composing your
own types, so that you can design interfaces that are at the same time safe
and flexible to use.
If you like dynamic languages such as Perl, Python, Ruby, or Groovy,
you might find it a bit strange that Scala’s static type system is listed as
one of its strong points. After all, the absence of a static type system has
been cited by some as a major advantage of dynamic languages. The most
common counter-arguments against static types are that they make programs
too verbose, that they prevent programmers from expressing themselves as
they wish, and that they prevent certain patterns of dynamic modifications of
software systems. However, often these counter-arguments do not go against
the idea of static types in general, but against specific type systems, which
are perceived to be too verbose or too inflexible. For instance, Alan Kay, the
inventor of the Smalltalk language, once remarked: “I’m not against types,
but I don’t know of any type systems that aren’t a complete pain, so I still
like dynamic typing.”
We’ll hope to convince you in this book that Scala’s type system is far
from being a “complete pain.” In fact, it addresses nicely two of the usual
concerns about static typing: verbosity is avoided through type inference and
flexibility is gained through pattern matching and several new ways to write
and compose types. With these impediments out of the way, the classical
benefits of static type systems can be better appreciated. Among the most
important of these benefits are verifiable properties of program abstractions,
safe refactorings, and better documentation.
Verifiable properties. Static type systems can prove the absence of certain
run-time errors. For instance, they can prove properties like: booleans are
never added to integers, private variables are not accessed from outside their
11Generics are discussed in Chapter 17, intersections in Chapter 11, and abstract types in
Chapter 18.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 1.3 Chapter 1 · A Scalable Language 42
class, functions are applied to the right number of arguments, only strings
are ever added to a set of strings.
Other kinds of errors are not detected by today’s static type systems.
For instance, they will usually not detect array bounds violations, nonterminating
functions, or divisions by zero. They will also not detect that
your program does not conform to its specification (assuming there is a spec,
that is!). Static type systems have therefore been dismissed by some as not
being very useful. The argument goes that since such type systems can only
detect simple errors, whereas unit tests provide more extensive coverage,
why bother with static types at all? We believe that these arguments miss the
point. Certainly a static type system cannot replace unit testing, even though
it can reduce the number of unit tests that are necessary, because it takes care
of some of the properties that would need to be tested otherwise. However,
unit testing can not replace static typing either. After all, as Edsger Dijkstra
said, testing can only prove the presence of errors, never their absence.
So the guarantees that static typing gives may be simple but they are real
guarantees, of the form no amount of testing can deliver.
Safe refactorings. A static type system provides a safety net that lets you
make changes to a codebase with a high degree of confidence. Consider
for instance a refactoring that adds an additional parameter to a method. In a
statically typed language you can do the change, re-compile your system and
simply fix all lines that cause a type error. Once you have finished with this,
you are sure to have found all places that needed to be changed. The same
holds for many other simple refactorings like changing a method name, or
moving methods from one class to another. In all cases a static type check
will provide enough assurance that the new system works just like the old
one.
Documentation. Static types are program documentation that is checked
by the compiler for correctness. Unlike a normal comment, a type annotation
can never be out of date (at least not if the source file that contains it
has recently passed a compiler). Furthermore, compilers and integrated development
environments can make use of type annotations to provide better
context help. For instance, an integrated development environment can display
all the members available for a selection by determining the static type
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 1.3 Chapter 1 · A Scalable Language 43
of the expression on which the selection is made and looking up all members
of that type.
Even though static types are generally useful for program documentation,
they can sometimes be annoying when they clutter the program. Typically,
useful documentation is what readers of a program cannot easily derive
themselves. In a method definition like
def f(x: String) = ...
it’s useful to know that f’s argument should be a String. On the other hand,
at least one of the two annotations in the following example is annoying:
val x: HashMap[Int, String] = new HashMap[Int, String]()
Clearly, it should be enough to say just once that x is a HashMap with Ints
as keys and Strings as values; there is no need to repeat the same phrase
twice.
Scala has a very sophisticated type inference system that lets you omit
almost all type information that’s usually considered as annoying. In the
example above, the following two less annoying alternatives would work as
well.
val x = new HashMap[Int, String]()
val x: Map[Int, String] = new HashMap()
Type inference in Scala can go quite far. In fact, it’s not uncommon for
user code to have no explicit types at all. Therefore, Scala programs often
look a bit like programs written in a dynamically typed scripting language.
This holds particularly for client application code, which glues together prewritten
library components. It’s less true for the library components themselves,
because these often employ fairly sophisticated types to allow flexible
usage patterns. This is only natural. After all, the type signatures of the members
that make up the interface of a re-usable component should be explicitly
given, because they constitute an essential part of the contract between the
component and its clients.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 1.4 Chapter 1 · A Scalable Language 44
1.4 Scala’s roots
Scala’s design has been influenced by many programming languages and
ideas in programming language research. In fact, only a few features of
Scala are genuinely new; most have been already applied in some form in
other languages. Scala’s innovations come primarily from how its constructs
are put together. In this section, we list the main influences on Scala’s design.
The list cannot be exhaustive—there are simply too many smart ideas around
in programming language design to enumerate them all here.
At the surface level, Scala adopts a large part of the syntax of Java and
C#, which in turn borrowed most of their syntactic conventions from C and
C++. Expressions, statements and blocks are mostly as in Java, as is the
syntax of classes, packages and imports.12 Besides syntax, Scala adopts
other elements of Java, such as its basic types, its class libraries, and its
execution model.
Scala also owes much to other languages. Its uniform object model was
pioneered by Smalltalk and taken up subsequently by Ruby. Its idea of universal
nesting (almost every construct in Scala can be nested inside any other
construct) is also present in Algol, Simula, and, more recently in Beta and
gbeta. Its uniform access principle for method invocation and field selection
comes from Eiffel. Its approach to functional programming is quite similar
in spirit to the ML family of languages, which has SML, OCaml, and
F# as prominent members. Many higher-order functions in Scala’s standard
library are also present in ML or Haskell. Scala’s implicit parameters were
motivated by Haskell’s type classes; they achieve analogous results in a more
classical object-oriented setting. Scala’s actor-based concurrency library was
heavily inspired by Erlang.
Scala is not the first language to emphasize scalability and extensibility.
The historic root of extensible languages that can span different appli-
12 The major deviation from Java concerns the syntax for type annotations—it’s
“variable: Type” instead of “Type variable” in Java. Scala’s postfix type syntax resembles
Pascal, Modula-2, or Eiffel. The main reason for this deviation has to do with type
inference, which often lets you omit the type of a variable or the return type of a method.
Using the “variable: Type” syntax this is easy—just leave out the colon and the type. But
in C-style “Type variable” syntax you cannot simply leave off the type—there would be no
marker to start the definition anymore. You’d need some alternative keyword to be a placeholder
for a missing type (C# 3.0, which does some type inference, uses var for this purpose).
Such an alternative keyword feels more ad-hoc and less regular than Scala’s approach.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 1.5 Chapter 1 · A Scalable Language 45
cation areas is Peter Landin’s 1966 paper “The Next 700 Programming Languages.”
13 (The language described in this paper, Iswim, stands beside Lisp
as one of the pioneering functional languages.) The specific idea of treating
an infix operator as a function can be traced back to Iswim and Smalltalk.
Another important idea is to permit a function literal (or block) as a parameter,
which enables libraries to define control structures. Again, this goes
back to Iswim and Smalltalk. Smalltalk and Lisp have both a flexible syntax
that has been applied extensively for building embedded domain-specific
languages. C++ is another scalable language that can be adapted and extended
through operator overloading and its template system; compared to
Scala it is built on a lower-level, more systems-oriented core.
Scala is also not the first language to integrate functional and objectoriented
programming, although it probably goes furthest in this direction.
Other languages that have integrated some elements of functional programming
into OOP include Ruby, Smalltalk, and Python. On the Java platform,
Pizza, Nice, andMulti-Java have all extended a Java-like core with functional
ideas. There are also primarily functional languages that have acquired an
object system; examples are OCaml, F#, and PLT-Scheme.
Scala has also contributed some innovations to the field of programming
languages. For instance, its abstract types provide a more object-oriented
alternative to generic types, its traits allow for flexible component assembly,
and its extractors provide a representation-independent way to do pattern
matching. These innovations have been presented in papers at programming
language conferences in recent years.14
1.5 Conclusion
In this chapter, we gave you a glimpse of what Scala is and how it might help
you in your programming. To be sure, Scala is not a silver bullet that will
magically make you more productive. To advance, you will need to apply
Scala artfully, and that will require some learning and practice. If you’re
coming to Scala from Java, the most challenging aspects of learning Scala
may involve Scala’s type system (which is richer than Java’s) and its support
for functional programming. The goal of this book is to guide you gently up
13Landin, “The Next 700 Programming Languages” [Lan66]
14For more information, see [Ode03], [Ode05], and [Emi07] in the bibliography.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 1.5 Chapter 1 · A Scalable Language 46
Scala’s learning curve, one step at a time. We think you’ll find it a rewarding
intellectual experience that will expand your horizons and make you think
differently about program design. Hopefully, you will also gain pleasure and
inspiration from programming in Scala.
In the next chapter, we’ll get you started writing some Scala code.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 2
First Steps in Scala
It’s time to write some Scala code. Before we start on the in-depth Scala
tutorial, we put in two chapters that will give you the big picture of Scala,
and most importantly, get you writing code. We encourage you to actually
try out all the code examples presented in this chapter and the next as you
go. The best way to get started learning Scala is to program in it.
To run the examples in this chapter, you should have a standard Scala
installation. To get one, go to http://www.scalalang.
org/downloads
and follow the directions for your platform. You can also use a Scala plug-in
for Eclipse, but for the steps in this chapter, we’ll assume you’re using the
Scala distribution from scalalang.
org.
If you are a veteran programmer new to Scala, the next two chapters
should give you enough understanding to enable you to start writing useful
programs in Scala. If you are less experienced, some of the material may
seem a bit mysterious to you. But don’t worry. Everything will be explained
in greater detail in later chapters.
Step 1. Learn to use the Scala interpreter
The easiest way to get started with Scala is by using the Scala interpreter,
which is an interactive “shell” for writing Scala expressions and programs.
Simply type an expression into the interpreter and it will evaluate the expression
and print the resulting value. The interactive shell for Scala is simply
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 1 Chapter 2 · First Steps in Scala 48
called scala. You use it by typing scala at a command prompt:1
$ scala
Welcome to Scala version 2.6.1final.
Type in expressions to have them evaluated.
Type :help for more information.
scala>
After you type an expression, such as 1 + 2, and hit return:
scala> 1 + 2
The interpreter will print:
res0: Int = 3
This line includes:
• an automatically generated or user-defined name to refer to the computed
value (res0, which means result 0)
• a colon (:)
• the type of the expression and its resulting value (Int)
• an equals sign (=)
• the value resulting from evaluating the expression (3)
The type Int names the class Int in the package scala. Packages
in Scala are similar to packages in Java: they partition the global namespace
and provide a mechanism for information hiding.2 Values of class
Int correspond to Java’s int values. More generally, all of Java’s
primitive types have corresponding classes in the scala package. For
example, scala.Boolean corresponds to Java’s boolean primitive type.
1If you’re using Windows, you’ll need to type the scala command into the “Command
Prompt” DOS box. If you’re on Unix, you’ll need to say either “ledit scala” or
“rlwrap scala” to get line editing functionality in the interpeter.
2If you’re not familiar with Java packages, you can think of them as providing a full
name for classes. Because Int is a member of package scala, “Int” is the class’s simple
name, and “scala.Int” is its full name. The details of packages are explained in Chapter 13.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 2 Chapter 2 · First Steps in Scala 49
scala.Float corresponds to Java’s float. When you compile your Scala
code to Java bytecodes, the Scala compiler will use Java’s primitive types
where possible to give you the performance benefits of the primitive types.
The resX identifier may be used in later lines. For instance, since res0
was set to 3 previously, res0 * 3 will be 9:
scala> res0 * 3
res1: Int = 9
To print the necessary, but not sufficient, Hello, world! greeting, type:
scala> println("Hello, world!")
Hello, world!
The println function prints the passed string to the standard output, similar
to System.out.println in Java.
Step 2. Define some variables
Scala has two kinds of variables, vals and vars. vals are similar to final
variables in Java. Once initialized, a val can never be reassigned. vars, by
contrast, are similar to non-final variables in Java. A var can be reassigned
throughout its lifetime. Here’s a val definition:
scala> val msg = "Hello, world!"
msg: java.lang.String = Hello, world!
This statement introduces msg as a name for the String "Hello world!".
The type of msg is java.lang.String, because Scala strings are implemented
by Java’s String class.
If you’re used to declaring variables in Java, you’ll notice one striking
difference here: neither java.lang.String or String appear anywhere in
the val definition. This example illustrates type inference, Scala’s ability to
figure out types from context. In this case, because you initialized msg with a
String, Scala inferred the type of msg to be String. When the Scala interpreter
(or compiler) can infer a type, it is usually best to let it do so rather than
fill the code with unnecessary, explicit type annotations. You can, however,
specify a type explicitly if you wish, and sometimes you probably should.
An explicit type annotation can both ensure that the Scala compiler infers
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 2 Chapter 2 · First Steps in Scala 50
the type you intend, as well as serve as useful documentation for future readers
of the code. In contrast to Java, where you specify a variable’s type before
its name, in Scala you specify a variable’s type after its name, separated by
a colon. For example:
scala> val msg2: java.lang.String = "Hello again, world!"
msg2: java.lang.String = Hello again, world!
Or, since java.lang types are visible with their simple names3 in Scala
programs, simply:
scala> val msg3: String = "Hello yet again, world!"
msg3: String = Hello yet again, world!
Going back to the original msg, now that it is defined, you can use it as you’d
expect, for example:
scala> println(msg)
Hello, world!
What you can’t do with msg, given that it is a val, not a var, is reassign
it.4 For example, see how the interpreter complains when you attempt the
following:
scala> msg = "Goodbye cruel world!"
<console>:7: error: assignment to immutable value
msg = "Goodbye cruel world!"
ˆ
If reassignment is what you want, you’ll need to use a var, as in:
scala> var greeting = "Hello, world!"
greeting: java.lang.String = Hello, world!
Since greeting is a var not a val, you can reassign it later. If you are
feeling grouchy later, for example, you could change your greeting to:
3The simple name of java.lang.String is String.
4In the interpreter, however, you can define a new val with a name that was already used
before. This mechanism is explained in Section 4.6.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 3 Chapter 2 · First Steps in Scala 51
scala> greeting = "Leave me alone, world!"
greeting: java.lang.String = Leave me alone, world!
To enter something into the interpreter that spans multiple lines, just keep
typing after the first line. If the code you typed so far is not complete, the
interpreter will respond with a vertical bar on the next line.
scala> val multiLine =
| "This is the next line."
multiLine: java.lang.String = This is the next line.
If you realize you have typed something wrong, but the interpreter is still
waiting for more input, you can escape by pressing enter twice:
scala> val oops =
|
|
You typed two blank lines. Starting a new command.
scala>
Step 3. Define some functions
Now that you’ve worked with Scala variables, you’ll probably want to write
some functions. Here’s how you do that in Scala:
scala> def max(x: Int, y: Int): Int = {
| if (x > y)
| x
| else
| y
| }
max: (Int,Int)Int
Function definitions start with def. The function’s name, in this case max, is
followed by a comma-separated list of parameters in parentheses. A type annotation
must follow every function parameter, preceded by a colon, because
the Scala compiler (and interpreter, but from now on we’ll just say compiler)
does not infer function parameter types. In this example, the function named
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 3 Chapter 2 · First Steps in Scala 52
def max(x: Int, y: Int): Int = {
if (x > y)
x
else
y
}
“def” starts a function definition
function name
parameter list in parentheses
equals sign
function’s result type
function body
in curly braces
Figure 2.1: The basic form of a function definition in Scala.
max takes two parameters, x and y, both of type Int. After the close parenthesis
of max’s parameter list you’ll find another “: Int” type annotation.
This one defines the result type of the max function itself.5 Following the
function’s result type is an equals sign and a pair of curly braces that contain
the body of the function. In this case, the body contains a single if expression,
which selects either x or y, whichever is greater, as the result of the max
function.6 The equals sign that precedes the body of a function hints that in
the functional world view, a function defines an expression that results in a
value. The basic structure of a function is illustrated in Figure 2.1.
Sometimes the Scala compiler will require you to specify the result type
of a function. If the function is recursive,7 for example, you must explicitly
specify the function’s result type. In the case of max however, you may leave
the result type off and the compiler will infer it.8 Also, if a function consists
5In Java, the type of the value returned from a method is its return type. In Scala, that
same concept is called result type.
6As demonstrated here, Scala’s if expression can result in a value, similar to Java’s
ternary operator. For example, the Scala expression “if (x > y) x else y” behaves similarly
to “(x > y) ? x : y” in Java.
7A function is recursive if it calls itself.
8Function result types is one of the cases where it is sometimes better to provide an
explicit type annotation. Such type annotations can make the code easier to read, because the
reader need not study the function body to figure out the inferred result type.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 3 Chapter 2 · First Steps in Scala 53
of just one statement, you can optionally leave off the curly braces. Thus,
you could alternatively write the max function like this:
scala> def max2(x: Int, y: Int) = if (x > y) x else y
max2: (Int,Int)Int
Once you have defined a function, you can call it by name, as in:
scala> max(3, 5)
res6: Int = 5
Here’s the definition of a function that takes no parameters and returns no
usable result:
scala> def greet() = println("Hello, world!")
greet: ()Unit
When you define the greet() function, the interpreter will respond with
greet: ()Unit. “greet” is, of course, the name of the function. The empty
parentheses indicates the function takes no parameters. And Unit is greet’s
result type. A result type of Unit indicates the function returns no usable
value. Scala’s Unit type is similar to Java’s void type, and in fact every
void-returning method in Java is mapped to a Unit-returning method in
Scala. Methods with the result type of Unit, therefore, are only executed for
their side effects. In the case of greet(), the side effect is a friendly greeting
printed to the standard output.
If a function takes no parameters, as is the case with greet(), you can
call it with or without parentheses:
scala> greet()
Hello, world!
scala> greet // This is bad style
Hello, world!
The recommended style for such function invocations is that if the function
performs an operation, invoke it with empty parentheses. If the function
returns a conceptual property, leave the empty parentheses off. Since the
greet function prints a greeting to the standard output, it performs an operation
and you should invoke it with parentheses, as in greet(). By contrast,
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 3 Chapter 2 · First Steps in Scala 54
since the length method9 of java.lang.String returns a conceptual property
(the length of a String), you should invoke it without parentheses, as
in msg.length.
Moreover, when you define a function that takes no parameters and returns
a conceptual property, you should leave the empty parentheses off, like
this:
scala> def greeting = "Hello, world!"
greeting: java.lang.String
Such functions are called parameterless functions. This style of function
definition supports the uniform access principle, which states that client code
should look the same whether it is accessing a val or a parameterless function.
10 Although greeting is a function, it can only be invoked without
parentheses:
scala> println(greeting)
Hello, world!
If you attempt to invoke greeting with an empty parameter list, your program
will not compile, even though greeting is a function:
scala> println(greeting())
<console>:6: error: wrong number of arguments for method
apply: (Int)Char in class RichString
println(greeting())
ˆ
The uniform access principle allows you to change a parameterless function
definition into a val without needing to change client code. One benefit of
requiring an equals sign before the body of a function is that you can change
a parameterless function definition into a val definition simply by changing
the def into a val, for example:
scala> val greeting = "Hello, world!"
greeting: java.lang.String = Hello, world!
9A method is a function that is a member of a class, Java interface, Scala trait, etc. In
other words, a method is a “member function.”
10The uniform access principle will be discussed in Section 10.3 on page 207.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 4 Chapter 2 · First Steps in Scala 55
Even though greeting is a val now instead of a def, client code still looks
the same:
scala> println(greeting)
Hello, world!
In the next step, you’ll place Scala code in a file and run it as a script. If
you wish to exit the interpreter, you can do so by entering :quit or :q.
scala> :quit
$
Step 4. Write some Scala scripts
Although Scala is designed to help programmers build very large-scale systems,
it also scales down nicely to scripting. A script is just a sequence of
statements in a file that will be executed sequentially. Put this into a file
named hello.scala:
println("Hello, world, from a script!")
then run:
$ scala hello.scala
And you should get yet another greeting:
Hello, world, from a script!
Command line arguments to a Scala script are available via a Scala array
named args. In Scala, arrays are zero based, as in Java, but you access
an element by specifying an index in parentheses rather than square brackets.
So the first element in a Scala array named steps is steps(0), not
steps[0], as in Java. To try this out, type the following into a new file
named helloarg.scala:
// Say hello to the first argument
println("Hello, " + args(0) + "!")
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 4 Chapter 2 · First Steps in Scala 56
then run:
$ scala helloarg.scala planet
In this command, "planet" is passed as a command line argument, which
is accessed in the script as args(0). Thus, you should see:
Hello, planet!
Note also that this script included a comment. As with Java, the Scala compiler
will ignore characters between // and the next end of line, as well as
any characters between /* and */. This example also shows Strings being
concatenated with the + operator. This works as you’d expect. The expression
"Hello, " + "world!" will result in the string "Hello, world!".
By the way, if you’re on some flavor of Unix, you can run a Scala script
as a shell script by prepending a “pound bang” directive at the top of the file.
For example, type the following into a file named helloarg:
#!/bin/sh
exec scala "$0" "$@"
!#
// Say hello to the first argument
println("Hello, " + args(0) + "!")
The initial #!/bin/sh must be the very first line in the file. Once you set its
execute permission:
$ chmod +x helloarg
You can run the Scala script as a shell script by simply saying:
$ ./helloarg globe
Which should yield:
Hello, globe!
If you’re on Windows, you can achieve the same effect by placing this at
the top of your script:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 5 Chapter 2 · First Steps in Scala 57
::n#!
@echo off
call scala n%0 n%*
goto :eof
::!n#
Step 5. Loop with while, decide with if
You write while loops in Scala in much the same way as in Java. Try out a
while by typing the following into a file name printargs.scala:
var i = 0
while (i < args.length) {
println(args(i))
i += 1
}
This script starts with a variable definition, var i = 0. Type inference
gives i the type scala.Int, because that is the type of its initial value, 0.
The while construct on the next line causes the block (the code between
the curly braces) to be repeatedly executed until the boolean expression
i < args.length is false. args.length gives the length of the args array,
similar to the way you get the length of an array in Java. The block
contains two statements, each indented two spaces, the recommended indentation
style for Scala. The first statement, println(args(i)), prints out
the ith command line argument. The second statement, i += 1, increments
i by one. Note that Java’s ++i and i++ don’t work in Scala. To increment
in Scala, you need to say either i = i + 1 or i += 1. Run this script with the
following command:
$ scala printargs.scala Scala is fun
And you should see:
Scala
is
fun
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 5 Chapter 2 · First Steps in Scala 58
For even more fun, type the following code into a new file named
echoargs.scala:
var i = 0
while (i < args.length) {
if (i != 0)
print(" ")
print(args(i))
i += 1
}
println()
In this version, you’ve replaced the println call with a print call, so that
all the arguments will be printed out on the same line. To make this readable,
you’ve inserted a single space before each argument except the first via the
if (i != 0) construct. Since i != 0 will be false the first time through
the while loop, no space will get printed before the initial argument. Lastly,
you’ve added one more println to the end, to get a line return after printing
out all the arguments. Your output will be very pretty indeed. If you run this
script with the following command:
$ scala echoargs.scala Scala is even more fun
You’ll get:
Scala is even more fun
Note that in Scala, as in Java, you must put the boolean expression for
a while or an if in parentheses. (In other words, you can’t say in Scala
things like if i < 10 as you can in a language such as Ruby. You must say
if (i < 10) in Scala.) Another similarity to Java is that if a block has only
one statement, you can optionally leave off the curly braces, as demonstrated
by the if statement in echoargs.scala. And although you haven’t seen any
of them, Scala does use semi-colons to separate statements as in Java, except
that in Scala the semi-colons are very often optional, giving some welcome
relief to your right little finger. If you had been in a more verbose mood,
therefore, you could have written the echoargs.scala script as follows:
var i = 0;
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 6 Chapter 2 · First Steps in Scala 59
while (i < args.length) {
if (i != 0) {
print(" ");
}
print(args(i));
i += 1;
}
println();
If you type the previous code into a new file named
echoargsverbosely.scala, and run it with the command:
$ scala echoargsverbosely.scala In Scala semicolons are often optional
You should see the output:
In Scala semicolons are often optional
Note that because you had no parameters to pass to the println function,
you could have left off the parentheses and the compiler would have
been perfectly happy. But given the style guideline that you should always
use parentheses when calling functions that may have side effects—
coupled with the fact that by printing to the standard output, println will
indeed have side effects—you specified the parentheses even in the concise
echoargs.scala version.
Step 6. Iterate with foreach and for
Although you may not have realized it, when you wrote the while loops
in the previous step, you were programming in an imperative style. In the
imperative style, which is the style you would ordinarily use with languages
like Java, C++, and C, you give one imperative command at a time, iterate
with loops, and often mutate state shared between different functions. Scala
enables you to program imperatively, but as you get to know Scala better,
you’ll likely often find yourself programming in a more functional style. In
fact, one of the main aims of this book is to help you become as comfortable
with the functional style as you are with imperative style.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 6 Chapter 2 · First Steps in Scala 60
One of the main characteristics of a functional language is that functions
are first class constructs, and that’s very true in Scala. For example, another
(far more concise) way to print each command line argument is:
args.foreach(arg => println(arg))
In this code, you call the foreach method on args, and pass in a function. In
this case, you’re passing in a function literal that takes one parameter named
arg. The body of the function is println(arg). If you type the above code
into a new file named pa.scala, and execute with the command:
$ scala pa.scala Concise is nice
You should see:
Concise
is
nice
In the previous example, the Scala interpreter infers the type of arg to
be String, since String is the element type of the array on which you’re
calling foreach. If you’d prefer to be more explicit, you can mention the
type name, but when you do you’ll need to wrap the argument portion in
parentheses (which is the normal form of the syntax anyway). Try typing
this into a file named epa.scala.
args.foreach((arg: String) => println(arg))
Running this script has the same behavior as the previous one. With the
command:
$ scala epa.scala Explicit can be nice too
You’ll get:
Explicit
can
be
nice
too
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 6 Chapter 2 · First Steps in Scala 61
(x: Int, y: Int) => x + y
function
parameters
in parentheses
function
body
right
arrow
Figure 2.2: The syntax of a function literal in Scala.
If instead of an explicit mood, you’re in the mood for even more conciseness,
you can take advantage of a special shorthand in Scala. If an function
literal consists of one statement that takes a single argument, you need not
explicitly name and specify the argument.11 Thus, the following code also
works:
args.foreach(println)
To summarize, the syntax for a function literal is a list of named parameters,
in parentheses, a right arrow, and then the body of the function. This syntax
is illustrated in Figure 2.2.
Now, by this point you may be wondering what happened to those trusty
for loops you have been accustomed to using in imperative languages such
as Java. In an effort to guide you in a functional direction, only a functional
relative of the imperative for (called a for expression) is available in Scala.
While you won’t see their full power and expressiveness until you reach (or
peek ahead to) Section 7.3 on page 156, we’ll give you a glimpse here. In a
new file named forprintargs.scala, type the following:
for (arg <args)
println(arg)
The parentheses after the for in this for expression contain
11This shorthand is called a partially applied function, and is described in Section 8.6 on
page 177.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Conclusion Chapter 2 · First Steps in Scala 62
arg <args.
12 To the right of <is
the familiar args array. To the left
of the <symbol
is “arg,” the name of a val (not a var). For each element
of the args array, a new arg val will be created and initialized to the element
value, and the body of the for will be executed. Scala’s for expressions
can do much more than this, but this simple form is similar in functionality
to Java 5’s:
for (String arg : args) { // This is Java
System.out.println(arg);
}
When you run the forprintargs.scala script with the command:
$ scala forprintargs.scala for is functional
You should see:
for
is
functional
Conclusion
In this chapter, you learned some Scala basics and, hopefully, took advantage
of the opportunity to write a bit of Scala code. In the next chapter, we’ll
continue this introductory overview and get into more advanced topics.
12You can say “in” for the <symbol.
You’d read for (arg <args),
therefore, as “for
arg in args.”
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 3
Next Steps in Scala
This chapter continues the previous chapter’s introduction to Scala. In this
chapter, we’ll introduce some more advanced features. When you complete
this chapter, you should have enough knowledge to enable you to start writing
useful scripts in Scala. As with the previous chapter, we recommend you
try out these examples as you go. The best way to start getting a feel for
Scala is to start writing in it.
Step 7. Understand the importance of vals
As mentioned in Chapter 1, Scala allows you to program in an imperative
style, but encourages you to adopt a more functional style. If you are coming
to Scala from an imperative background—for example, if you are a Java
programmer—one of the main challenges you will likely face when learning
Scala is figuring out how to program in the functional style. We realize
this transition can be difficult, and in this book we try hard to guide you
through it. But it will require some work on your part, and we encourage
you to make the effort. If you come from an imperative background, we
believe that learning to program in a functional style will not only make you
a better Scala programmer, it will expand your horizons and make you a
better programmer in general.
The first step along the path to a more functional style is to recognize the
difference between the two styles in code. One way to think about this is that
if code contains any vars, variables that can be reassigned, it is probably in
the imperative style. If the code contains no vars at all—i.e., it contains only
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 7 Chapter 3 · Next Steps in Scala 64
vals—it is probably in the functional style. Thus one way to move towards
a functional style is to try to program without any vars.
For example, the following while loop example, taken from Chapter 2,
uses a var and is therefore in the imperative style:
var i = 0
while (i < args.length) {
println(args(i))
i += 1
}
You can transform this bit of code into a functional style by getting rid of the
var, for example, like this:
for (arg <args)
println(arg)
or this:
args.foreach(println)
This example illustrates the main benefit of programming in a functional
style. The functional code is more concise, more clear, and less error-prone
than the corresponding imperative code. The reason Scala encourages a
functional style, in fact, is that the functional style can help you write more
understandable, less error prone code.
That said, bear in mind that vars are not evil. Scala is not a pure functional
language that forces you to program everything in the functional style.
Scala is a hybrid imperative/functional language. You may find that in some
situations an imperative style is a better fit for the problem at hand, and
in such cases you should not hesitate to use it. In fact, the for expression
and foreach examples above are not purely functional, because they call
println, a method that has side effects. They are simply more functional
than the while loop that uses a var.
The attitude we suggest you adopt is to be suspicious of vars in your
code. Challenge them. If there isn’t a good justification for a particular var,
try and find a way to do the same thing without any vars.
In short, you should prefer vals over vars in your code. For someone
coming from an imperative background, this can be easier said than done.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 8 Chapter 3 · Next Steps in Scala 65
To help you learn how, we’ll show you many specific examples of code with
vars and how to transform those vars to vals in Chapter 7.
Step 8. Parameterize Arrays with types
In addition to being functional, Scala is object-oriented. In Scala, as in Java,
you define a blueprint for objects with classes. From a class blueprint, you
can instantiate objects, or class instances, by using new. For example, the
following Scala code instantiates a new String and prints it out:
val s = new String("Hello, world!")
println(s)
In the previous example, you parameterize the String instance with the
initial value "Hello, world!". Parameterization means configuring an instance
at the point in your program that you create that instance. You configure
an instance with values by passing objects to a constructor of the instance
in parentheses, just like you do when you create an instance in Java. If
you place the previous code in a new file named paramwithvalues.scala
and run it with scala paramwithvalues.scala, you’ll see the familiar
Hello, world! greeting printed out.
In addition to parameterizing instances with values at the point of instantiation,
you can also parameterize them with types. This kind of parameterization
is akin to specifying a type in angle brackets when instantiating
a generic type in Java 5 and beyond. The main difference is that instead
of the angle brackets used for this purpose in Java, in Scala you use square
brackets. Here’s an example:
val greetStrings = new Array[String](3)
greetStrings(0) = "Hello"
greetStrings(1) = ", "
greetStrings(2) = "world!nn"
for (i <0
to 2)
print(greetStrings(i))
In this example, greetStrings is a value of type Array[String] (say
this as, “an array of string”) that is initialized to length 3 by passing the
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 8 Chapter 3 · Next Steps in Scala 66
value 3 to a constructor in parentheses in the first line of code. Type this
code into a new file called paramwithtypes.scala and execute it with
scala paramwithtypes.scala, and you’ll see yet another Hello, world!
greeting. Note that when you parameterize an instance with both a type and
a value, the type comes first in its square brackets, followed by the value in
parentheses.
Had you been in a more explicit mood, you could have specified the type
of greetStrings explicitly like this:
val greetStrings: Array[String] = new Array[String](3)
Given Scala’s type inference, this line of code is semantically equivalent
to the actual first line of code in paramwithtypes.scala. But this form
demonstrates that while the type parameterization portion (the type names in
square brackets) forms part of the type of the instance, the value parameterization
part (the values in parentheses) does not. The type of greetStrings
is Array[String], not Array[String](3).
The next three lines of code in paramwithtypes.scala initialize each
element of the greetStrings array:
greetStrings(0) = "Hello"
greetStrings(1) = ", "
greetStrings(2) = "world!nn"
As mentioned previously, arrays in Scala are accessed by placing the index
inside parentheses, not square brackets as in Java. Thus the zeroth element
of the array is greetStrings(0), not greetStrings[0] as in Java.
These three lines of code illustrate an important concept to understand
about Scala concerning the meaning of val. When you define a variable
with val, the variable can’t be reassigned, but the object to which it refers
could potentially still be mutated. So in this case, you couldn’t reassign
greetStrings to a different array; greetStrings will always point to the
same Array[String] instance with which it was initialized. But you can
change the elements of that Array[String] over time, so the array itself is
mutable.
The final two lines in paramwithtypes.scala contain a for expression
that prints out each greetStrings array element in turn.
for (i <0
to 2)
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 8 Chapter 3 · Next Steps in Scala 67
Int object
with value 1
Passing the Int
object 2 to the
‘+’ method
invoking on 1
a method
named ‘+’
(1).+(2)
1 + 2
Figure 3.1: All operations are method calls in Scala.
print(greetStrings(i))
The first line of code in this for expression illustrates another general rule of
Scala: if a method takes only one parameter, you can call it without a dot
or parentheses. to is actually a method that takes one Int argument. The
code 0 to 2 is transformed into the method call (0).to(2). (This to method
actually returns not an Array but a Scala iterator containing the values 0, 1,
and 2, which the for expression iterates over. Iterators will be described in
Chapter 15.) Scala doesn’t technically have operator overloading, because it
doesn’t actually have operators in the traditional sense. Characters such as +,
,
*, and /, have no special meaning in Scala, but they can be used in method
names. Thus, when you typed 1 + 2 into the Scala interpreter in Step 1, you
were actually invoking a method named + on the Int object 1, passing in
2 as a parameter. As illustrated in Figure 3.1, you could alternatively have
written 1 + 2 using traditional method invocation syntax, (1).+(2).
Another important idea illustrated by this example will give you insight
into why arrays are accessed with parentheses in Scala. Scala has fewer
special cases than Java. Arrays are simply instances of classes like any
other class in Scala. When you apply parentheses to a variable (a val or
a var) and pass in a single argument, Scala will transform that into an invocation
of a method named apply. So greetStrings(i) gets transformed
into greetStrings.apply(i). Thus accessing the element of an array in
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 8 Chapter 3 · Next Steps in Scala 68
Scala is simply a method call like any other method call. What’s more, the
compiler will transform any application of parentheses with a single argument
on any type into an apply method call, not just arrays. Of course it will
compile only if that type actually defines an apply method. So it’s not a
special case; it’s a general rule.
Similarly, when an assignment is made to a variable to which parentheses
and a single argument have been applied, the compiler will transform
that into an invocation of an update method that takes two parameters. For
example,
greetStrings(0) = "Hello"
will be transformed into
greetStrings.update(0, "Hello")
Thus, the following Scala code is semantically equivalent to the code you
typed into paramwithtypes.scala:
val greetStrings = new Array[String](3)
greetStrings.update(0, "Hello")
greetStrings.update(1, ", ")
greetStrings.update(2, "world!nn")
for (i <0.
to(2))
print(greetStrings.apply(i))
Scala achieves a conceptual simplicity by treating everything, from arrays
to expressions, as objects with methods. You as the programmer don’t
have to remember lots of special cases, such as the differences in Java between
primitive and their corresponding wrapper types, or between arrays
and regular objects. However, it is significant to note that in Scala this uniformity
does not incur the significant performance cost that it often has in
other languages that have aimed to be pure in their object orientation. The
Scala compiler uses Java arrays, primitive types, and native arithmetic where
possible in the compiled code.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 9 Chapter 3 · Next Steps in Scala 69
Step 9. Use Lists and Tuples
One of the big ideas of the functional style of programming is that methods
should not have side effects. The only effect of a method should be to
compute the value or values that are returned by the method. Some benefits
gained when you take this approach are that methods become less entangled,
and therefore more reliable and reusable. Another benefit of the functional
style in a statically typed language is that everything that goes into and out
of a method is checked by a type checker, so logic errors are more likely to
manifest themselves as type errors. To apply this functional philosophy to
the world of objects, you would make objects immutable. A simple example
of an immutable object in Java is String. If you create a String with the
value "Hello, ", it will keep that value for the rest of its lifetime. If you
later call concat("world!") on that String, it will not add "world!" to
itself. Instead, it will create and return a brand new String with the value
"Hello, world!".
As you’ve seen, a Scala Array is a mutable sequence of objects that
all share the same type. An Array[String] contains only Strings, for
example. Although you can’t change the length of an Array after it is instantiated,
you can change its element values. Thus, Arrays are mutable
objects. An immutable, and therefore more functional-oriented, sequence
of objects that share the same type is Scala’s List. As with Arrays, a
List[String] contains only Strings. Scala’s List, scala.List, differs
from Java’s java.util.List type in that Scala Lists are always immutable
(whereas Java Lists can be mutable). But more importantly, Scala’s List
is designed to enable a functional style of programming. Creating a List is
easy, you just say:
val oneTwoThree = List(1, 2, 3)
This establishes a new val named oneTwoThree, which is initalized with a
new List[Int] with the integer element values 1, 2 and 3.1 Because Lists
are immutable, they behave a bit like Java Strings in that when you call
a method on one that might seem by its name to imply the List will be
mutated, it instead creates a new List with the new value and returns it. For
1You don’t need to say new List because “List.apply()” is defined as a factory method
on the scala.List companion object. You’ll read more on companion objects in Step 11.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 9 Chapter 3 · Next Steps in Scala 70
example, List has a method named ::: that prepends a passed List to the
List on which ::: was invoked. Here’s how you use it:
val oneTwo = List(1, 2)
val threeFour = List(3, 4)
val oneTwoThreeFour = oneTwo ::: threeFour
println(oneTwo + " and " + threeFour + " were not mutated.")
println("Thus, " + oneTwoThreeFour + " is a new List.")
Type this code into a new file called listcat.scala and execute it with
scala listcat.scala, and you should see:
List(1, 2) and List(3, 4) were not mutated.
Thus, List(1, 2, 3, 4) is a new List.
Enough said.2 Perhaps the most common operator you’ll use with Lists
is ::, which is pronounced “cons.” Cons prepends a new element to the
beginning of an existing List, and returns the resulting List.3 For example,
if you type the following code into a file named consit.scala:
val twoThree = List(2, 3)
val oneTwoThree = 1 :: twoThree
println(oneTwoThree)
And execute it with scala consit.scala, you should see:
List(1, 2, 3)
2Actually, you may have noticed something amiss with the associativity of the :::
method (or suspected “prepend” was a typo), but it is actually a simple rule to remember.
If a method is used in operator notation, as in a * b or a ::: b, the method is invoked on
the left hand operand, as in a.*(b), unless the method name ends in a colon. If the method
name ends in a colon, then the method is invoked on the right hand operand. For example, in
a ::: b, the ::: method is invoked on a, passing in b, like this: b.:::(a). Thus, b prepends
a to itself and returns the result.
3Class List does not offer an append operation, because the time it takes to append to
a List grows linearly with the size of the List, whereas prepending takes constant time.
Your options if you want to build a list by appending elements is to prepend them, then when
you’re done call reverse, or use a ListBuffer, a mutable List that does offer an append
operation, and call toList when you’re done. ListBuffer will be described in Section 20.2
on page 418.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 9 Chapter 3 · Next Steps in Scala 71
Given that a shorthand way to specify an empty List is Nil, one way
to initialize new Lists is to string together elements with the cons operator,
with Nil as the last element.4 For example, if you type the following code
into a file named consinit.scala:
val oneTwoThree = 1 :: 2 :: 3 :: Nil
println(oneTwoThree)
And execute it with scala consinit.scala, you should again see:
List(1, 2, 3)
Scala’s List is packed with useful methods, many of which are shown in
Table 3.1.
Table 3.1: Some List methods and usages.
What it is What it does
List() Creates an empty List
Nil An empty List
List("Cool", "tools", "rule") Creates a new List[String] with
the three values "Cool", "tools",
and "rule"
val thrill = "Will" :: "fill" ::
"until" :: Nil
Creates a new List[String] with
the three values "Will", "fill",
and "until"
List("a", "b") ::: List("c", "d") Creates a new List[String] with
values "a", "b", "c", and "d"
thrill(2) Returns the 2nd element (zero based)
of the thrill List (returns
"until")
thrill.count(s => s.length == 4) Counts the number of String
elements in thrill that have length
4 (returns 2)
4The reason you need Nil at the end is that :: is defined on class List. If you try to just
say 1 :: 2 :: 3, it won’t compile because 3 is an Int, which doesn’t have a :: method.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 9 Chapter 3 · Next Steps in Scala 72
Table 3.1: continued
thrill.drop(2) Returns the thrill List without its
first 2 elements (returns
List("until"))
thrill.dropRight(2) Returns the thrill List without its
rightmost 2 elements (returns
List("Will"))
thrill.exists(s => s == "until") Determines whether a String
element exists in thrill that has the
value "until" (returns true)
thrill.filter(s => s.length == 4) Returns a List of all elements, in
order, of the thrill List that have
length 4 (returns
List("Will", "fill"))
thrill.forall(s =>
s.endsWith("l"))
Indicates whether all elements in the
thrill List end with the letter "l"
(returns true)
thrill.foreach(s => print(s)) Executes the print statement on
each of the Strings in the thrill
List (prints "Willfilluntil")
thrill.foreach(print) Same as the previous, but more
concise (also prints
"Willfilluntil")
thrill.head Returns the first element in the
thrill List (returns "Will")
thrill.init Returns a List of all but the last
element in the thrill List (returns
List("Will", "fill"))
thrill.isEmpty Indicates whether the thrill List
is empty (returns false)
thrill.last Returns the last element in the
thrill List (returns "until")
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 9 Chapter 3 · Next Steps in Scala 73
Table 3.1: continued
thrill.length Returns the number of elements in
the thrill List (returns 3)
thrill.map(s => s + "y") Returns a List resulting from adding
a "y" to each String element in the
thrill List (returns
List("Willy", "filly", "untily"))
thrill.remove(s => s.length == 4) Returns a List of all elements, in
order, of the thrill List except
those that have length 4 (returns
List("until"))
thrill.reverse Returns a List containing all
elements of the thrill List in
reverse order (returns
List("until", "fill", "Will"))
thrill.sort((s, t) =>
s.charAt(0).toLowerCase <
t.charAt(0).toLowerCase)
Returns a List containing all
elements of the thrill List in
alphabetical order of the first
character lowercased (returns
List("fill", "until", "Will"))
thrill.tail Returns the thrill List minus its
first element (returns
List("fill", "until"))
Besides List, one other ordered collection of object elements that’s very
useful in Scala is the tuple. Like Lists, tuples are immutable, but unlike
Lists, tuples can contain different types of elements. Thus whereas a List
might be a List[Int] or a List[String], a tuple could contain both an Int
and a String at the same time. Tuples are very useful, for example, if you
need to return multiple objects from a method. Whereas in Java, you would
often create a JavaBean-like class to hold the multiple return values, in Scala
you can simply return a tuple. And it is simple: to instantiate a new tuple that
holds some objects, just place the objects in parentheses, separated by commas.
Once you have a tuple instantiated, you can access its elements individually
with a dot, underscore, and the one-based index of the element. For
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 10 Chapter 3 · Next Steps in Scala 74
example, type the following code into a file named luftballons.scala:
val pair = (99, "Luftballons")
println(pair._1)
println(pair._2)
In the first line of this example, you create a new tuple that contains
an Int with the value 99 as its first element, and a String with the value
"Luftballons" as its second element. Scala infers the type of the tuple
to be Tuple2[Int, String], and gives that type to the variable pair as
well. In the second line, you access the _1 field, which will produce the first
element, 99. The “.” in the second line is the same dot you’d use to access
a field or invoke a method. In this case you are accessing a field named _1.5
If you run this script with scala luftballons.scala, you’ll see:
99
Luftballons
The actual type of a tuple depends on the number of elements it contains
and the types of those elements. Thus, the type of (99, "Luftballons")
is Tuple2[Int, String]. The type of ('u', 'r', "the", 1, 4, "me") is
Tuple6[Char, Char, String, Int, Int, String].6
Step 10. Use Sets and Maps
Because Scala aims to help you take advantage of both functional and imperative
styles, its collections libraries make a point to differentiate between
mutable and immutable collection classes. For example, Arrays are always
mutable, whereas Lists are always immutable. When it comes to Sets and
Maps, Scala also provides mutable and immutable alternatives, but in a different
way. For Sets and Maps, Scala models mutability in the class hierarchy.
5You may be wondering why you can’t access the elements of a tuple like the elements
of a List, such as pair(0). The apply method always returns the same type for a List, but
each element of a tuple may be a different type. _1 can have one result type, _2 another, and
so on. These _N numbers are one-based, instead of zero-based, because starting with 1 is a
tradition set by other languages with statically typed typles, such as Haskell and ML.
6Although conceptually you could create tuples of any length, currently the Scala library
only defines them up to Tuple22.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 10 Chapter 3 · Next Steps in Scala 75
scala.collection.immutable
Set
«trait»
scala.collection.mutable
Set
«trait»
scala.collection
Set
«trait»
scala.collection.immutable
HashSet
scala.collection.mutable
HashSet
Figure 3.2: Class hierarchy for Scala Sets.
For example, the Scala API contains a base trait for Sets, where a trait
is similar to a Java interface. (You’ll find out more about traits in Step 12.)
Scala then provides two subtraits, one for mutable Sets and another for immutable
Sets. As you can see in Figure 3.2, these three traits all share the
same simple name, Set. Their fully qualified names differ, however, because
each resides in a different package. Concrete Set classes in the Scala API,
such as the HashSet classes shown in Figure 3.2, extend either the mutable or
immutable Set trait. (Although in Java you “implement” interfaces, in Scala
you “extend” traits.) Thus, if you want to use a HashSet, you can choose
between mutable and immutable varieties depending upon your needs.
To try out Scala Sets, type the following code into file jetset.scala:
import scala.collection.mutable.HashSet
val jetSet = new HashSet[String]
jetSet += "Lear"
jetSet += ("Boeing", "Airbus")
println(jetSet.contains("Cessna"))
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 10 Chapter 3 · Next Steps in Scala 76
The first line of jetSet.scala imports the mutable HashSet. As with Java,
the import allows you to use the simple name of the class, HashSet, in that
source file. After a blank line, the third line initializes jetSet with a new
HashSet that will contain only Strings. Note that just as with Lists and
Arrays, when you create a Set, you need to parameterize it with a type (in
this case, String), since every object in a Set must share the same type. The
subsequent two lines add three objects to the mutable Set via the += method.
As with most other symbols you’ve seen that look like operators in Scala, +=
is actually a method defined on class HashSet. Had you wanted to, instead
of writing jetSet += "Lear", you could have written jetSet.+=("Lear").
Because the += method takes a variable number of arguments, you can pass
one or more objects at a time to it. For example, jetSet += "Lear" adds
one String to the HashSet, but jetSet += ("Boeing", "Airbus") adds
two Strings to the Set.7 Finally, the last line prints out whether or not the
Set contains a particular String. (As you’d expect, it prints false.)
If you want an immutable Set, you can take advantage of a factory
method defined in scala.collection.Set’s companion object, which is
imported automatically into every Scala source file. Just say:
val movieSet = Set("Hitch", "Poltergeist", "Shrek")
println(movieSet)
Another useful collection class in Scala is Map. As with Sets, Scala
provides mutable and immutable versions of Map, using a class hierarchy.
As you can see in Figure 3.3, the class hierarchy for Maps looks a lot like the
one for Sets. There’s a base Map trait in package scala.collection, and
two subtrait Maps: a mutable Map in scala.collection.mutable and an
immutable one in scala.collection.immutable.
Implementations of Map, such as the HashMaps shown in the class hierarchy
in Figure 3.3, implement either the mutable or immutable trait. To see
a Map in action, type the following code into a file named treasure.scala:
7Although ("Boeing", "Airbus") by itself looks like a tuple containing two Strings,
as used here it is a parameter list to jetSet’s += method. In other words, the statement
could have also been written like this: jetSet.+=("Boeing", "Airbus"). If you ever want
to pass a tuple into a function that expects one, you’ll need two sets of parentheses, as in
functionThatTakesATuple(("a", "b")). The outer parentheses enclose the parameter
list; the inner ones define the tuple.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 10 Chapter 3 · Next Steps in Scala 77
scala.collection.immutable
Map
«trait»
scala.collection.mutable
Map
«trait»
scala.collection
Map
«trait»
scala.collection.immutable
HashMap
scala.collection.mutable
HashMap
Figure 3.3: Class hierarchy for Scala Maps.
import scala.collection.mutable.HashMap
val treasureMap = new HashMap[Int, String]
treasureMap += (1 >
"Go to island.")
treasureMap += (2 >
"Find big X on ground.")
treasureMap += (3 >
"Dig.")
println(treasureMap(2))
On the first line of treasure.scala, you import the mutable form of
HashMap. After a blank line, you define a val named treasureMap and
initialize it with a new mutable HashMap whose keys will be Ints and values
Strings. On the next three lines you add key/value pairs to the HashMap using
the >
method. As illustrated in previous examples, the Scala compiler
transforms a binary operation expression like 1 >
"Go to island." into
(1).>("
Go to island."). Thus, when you say 1 >
"Go to island.",
you are actually calling a method named >
on an Int with the value 1, and
passing in a String with the value "Go to island." This >
method, which
you can invoke on any object in a Scala program, returns a two-element tuple
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 10 Chapter 3 · Next Steps in Scala 78
containing the key and value.8 You then pass this tuple to the += method of
the HashMap object to which treasureMap refers. Finally, the last line prints
the value that corresponds to the key 2 in the treasureMap. If you run this
code, it will print:
Find big X on ground.
Because maps are such a useful programming construct, Scala provides a
factory method for Maps that is similar in spirit to the factory method shown
in Step 9 that allows you to create Lists without using the new keyword. To
try out this more concise way of constructing maps, type the following code
into a file called numerals.scala:
val romanNumeral = Map(
1 >
"I",
2 >
"II",
3 >
"III",
4 >
"IV",
5 >
"V"
)
println(romanNumeral(4))
In numerals.scala you take advantage of the fact that the immutable
Map trait is automatically imported into any Scala source file. Thus when
you say Map in the first line of code, the Scala interpreter knows you mean
scala.collection.immutable.Map. In this line, you call a factory method
on the immutable Map’s companion object, passing in five key/value tuples
as parameters.9 This factory method returns an instance of the immutable
HashMap containing the passed key/value pairs. The name of the factory
method is actually apply, but as mentioned in Step 8, if you say Map(...)
it will be transformed by the compiler to Map.apply(...). If you run the
numerals.scala script, it will print IV.
8The Scala mechanism that allows you to invoke >
on any object is called implicit
conversion, which will be covered in Chapter 19.
9Companion objects will be covered in Step 11.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 11 Chapter 3 · Next Steps in Scala 79
Step 11. Understand classes and singleton objects
Up to this point you’ve written Scala scripts to try out the concepts presented
in this chapter. For all but the simplest projects, however, you will likely
want to partition your application code into classes. To give this a try, type
the following code into a file called greetSimply.scala:
class SimpleGreeter {
val greeting = "Hello, world!"
def greet() = println(greeting)
}
val g = new SimpleGreeter
g.greet()
greetSimply.scala is actually a Scala script, but one that contains
a class definition. This first example, however, illustrates that as in Java,
classes in Scala encapsulate fields and methods. Fields are defined with
either val or var. Methods are defined with def. For example, in class
SimpleGreeter, greeting is a field and greet is a method. To use the
class, you initialize a val named g with a new instance of SimpleGreeter.
You then invoke the greet instance method on g. If you run this script
with scala greetSimply.scala, you will be dazzled with yet another
Hello, world!.
Although classes in Scala are in many ways similar to Java, in several
ways they are quite different. One difference between Java and Scala involves
constructors. In Java, classes have constructors, which can take parameters,
whereas in Scala, classes can take parameters directly. The Scala
notation is more concise—class parameters can be used directly in the body
of the class; there’s no need to define fields and write assignments that copy
constructor parameters into fields. This can yield substantial savings in boilerplate
code, especially for small classes. To see this in action, type the
following code into a file named greetFancily.scala:
class FancyGreeter(greeting: String) {
def greet() = println(greeting)
}
val g = new FancyGreeter("Salutations, world")
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 11 Chapter 3 · Next Steps in Scala 80
g.greet()
Instead of defining a constructor that takes a String, as you would do
in Java, in greetFancily.scala you placed the greeting parameter of
that constructor in parentheses placed directly after the name of the class
itself, before the open curly brace of the body of class FancyGreeter.
When defined in this way, greeting essentially becomes a private val (not
a var—it can’t be reassigned) field that’s accessible anywhere inside the
class body, but not accessible outside. In fact, you pass it to println in
the body of the greet method. If you run this script with the command
scala greetFancily.scala, it will inspire you with:
Salutations, world!
This is cool and concise, but what if you wanted to check the String
used to parameterize a new FancyGreeter instance for null, and throw
NullPointerException to abort the construction of the new instance? Fortunately,
you can. Any code sitting inside the curly braces surrounding the
class definition, but which isn’t part of a method or variable definition, is
compiled into the body of a constructor generated by the Scala compiler,
which takes the class parameters as constructor parameters. This generated
constructor is called the class’s primary constructor. In essence, the primary
constructor will first initialize a val field for each parameter in parentheses
following the class name.10 It will then execute any top-level code contained
in the class’s body. For example, to check a passed parameter for null, type
in the following code into a file named greetCarefully.scala:
class CarefulGreeter(greeting: String) {
if (greeting == null)
throw new NullPointerException("greeting was null")
def greet() = println(greeting)
}
new CarefulGreeter(null)
10Actually, if a class parameter is never used in the body of the class, the Scala compiler
will optimize it away and not create a field for it.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 11 Chapter 3 · Next Steps in Scala 81
In greetCarefully.scala, an if statement is sitting smack in the middle
of the class body, something that wouldn’t compile in Java. The Scala
compiler places this if statement into the body of the primary constructor,
just after code that initializes a val field named greeting with the passed
value. Thus, if you pass in null to the primary constructor, as you do in
the last line of the greetCarefully.scala script, the primary constructor
will first initialize the greeting field to null. Then, it will execute the if
statement that checks whether the greeting field is equal to null, which
will throw a NullPointerException. If you run greetCarefully.scala,
you will see a NullPointerException stack trace.
In Java, you sometimes give classes multiple constructors with overloaded
parameter lists. You can do that in Scala as well, however you must
pick one of them to be the primary constructor, and place those constructor
parameters directly after the class name. You then place any additional
auxiliary constructors in the body of the class. You define auxiliary constructors
like methods named this that have no result type. The first statement
in an auxiliary constructor must be an invocation of another constructor in
the same class. To try this out, type the following code into a file named
greetRepeatedly.scala:
class RepeatGreeter(greeting: String, count: Int) {
def this(greeting: String) = this(greeting, 1)
def greet() = {
for (i <1
to count)
println(greeting)
}
}
val g1 = new RepeatGreeter("Hello, world", 3)
g1.greet()
val g2 = new RepeatGreeter("Hi there!")
g2.greet()
RepeatGreeter’s primary constructor takes not only a String
greeting parameter, but also an Int count of the number of times to print
the greeting. However, RepeatGreeter also contains a definition of an auxiliary
constructor, the “def this” that takes a single String greeting pa-
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 11 Chapter 3 · Next Steps in Scala 82
rameter. The body of this constructor consists of a single statement: an invocation
of the primary constructor parameterized with the passed greeting
and a count of 1. In the final four lines of the greetRepeatedly.scala
script, you create two RepeatGreeter instances, one using each constructor,
and call greet on each. If you run greetRepeatedly.scala, it will
print:
Hello, world
Hello, world
Hello, world
Hi there!
Another area in which Scala departs from Java is that you can’t have
any static fields or methods in a Scala class. Instead, Scala allows you to
create singleton objects using the keyword object. A singleton object cannot,
and need not, be instantiated with new. It is essentially automatically
instantiated the first time it is used, and as the “singleton” in its name implies,
there is only ever one instance. A singleton object can share the same
name with a class, and when it does, the singleton is called the class’s companion
object. To give this a try, type the following code into a file named
WorldlyGreeter.scala:11
// The WorldlyGreeter class
class WorldlyGreeter(greeting: String) {
def greet() {
val worldlyGreeting = WorldlyGreeter.worldify(greeting)
println(worldlyGreeting)
}
}
// The WorldlyGreeter companion object
object WorldlyGreeter {
def worldify(s: String) = s + ", world!"
}
11Earlier files were scripts, and had all lower case names. This filename is in camel case
because it is not a script, but rather will form part of an application.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 11 Chapter 3 · Next Steps in Scala 83
In this file, you define both a class, with the class keyword, and
a companion object, with the object keyword. Both types are named
WorldlyGreeter. One way to think about this if you are coming from
a Java programming perspective is that any static methods that you would
have placed in class WorldlyGreeter in Java, you’d put in companion
object WorldlyGreeter in Scala. Note also that in the first line of the
greet method in class WorldlyGreeter, you invoke the companion object’s
worldify method using a syntax similar to the way you invoke static
methods in Java: the companion object name, a dot, and the method name:
// Invoking a method on a singleton object from class WorldlyGreeter
// ...
val worldlyGreeting = WorldlyGreeter.worldify(greeting)
// ...
You could run this code in a script, but this time why not try running
it in an application. Type the following code into a file named
WorldlyApp.scala:
// A singleton object with a main method that allows
// this singleton object to be run as an application.
// This file can't be run from a script, because it
// ends in a definition. It must be compiled.
object WorldlyApp {
def main(args: Array[String]) {
val wg = new WorldlyGreeter("Hello")
wg.greet()
}
}
Because there’s no class named WorldlyApp, this singleton object is not
a companion object. It is instead called a stand-alone object. Thus, a singleton
object is either a companion or a stand-alone object. The distinction
is important because companion objects get a few special privileges, such as
access to the private members of the like-named class. The full details of
companion objects will be described in Chapter 4.
One difference between Scala and Java is that whereas Java requires
you to put a public class in a file named after the class—for example,
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 11 Chapter 3 · Next Steps in Scala 84
you’d put class SpeedRacer in file SpeedRacer.java—in Scala, you can
name .scala files anything you want, no matter what Scala classes or code
you put in them. In general in the case of non-scripts, however, it is recommended
style to name files after the classes they contain as is done in
Java, so that programmers can more easily locate classes by looking at file
names. This is the approach we’ve taken with the two files in this example,
WorldlyGreeter.scala and WorldlyApp.scala.
Neither WorldlyGreeter.scala nor WorldlyApp.scala are scripts,
because they end in a definition. A script, by contrast, must end in a result
expression. Thus if you try to run either of these files as a script, for
example by typing:
scala WorldlyGreeter.scala # This won't work!
the Scala interpreter will complain that WorldlyGreeter.scala does not
end in a result expression (assuming of course you didn’t add any expression
of your own after the WorldlyGreeter object definition). Instead, you’ll
need to actually compile these files with the Scala compiler, then run the
resulting class files. One way to do this is to use scalac, which is the basic
Scala compiler. Simply type:
scalac WorldlyApp.scala WorldlyGreeter.scala
Given that the scalac compiler starts up a new Java runtime instance each
time it is invoked, and that the Java runtime often has a perceptible start-up
delay, the Scala distribution also includes a Scala compiler daemon called
fsc (for fast Scala compiler). You use it like this:
fsc WorldlyApp.scala WorldlyGreeter.scala
The first time you run fsc, it will create a local server daemon attached
to a port on your computer. It will then send the list of files to compile to the
daemon via the port, and the daemon will compile the files. The next time
you run fsc, the daemon will already be running, so fsc will simply send
the file list to the daemon, which will immediately compile the files. Using
fsc, you only need to wait for the Java runtime to startup the first time. If
you ever want to stop the fsc daemon, you can do so with fsc shutdown.
Running either of these scalac or fsc commands will produce Java
class files that you can then run via the scala command, the same command
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 11 Chapter 3 · Next Steps in Scala 85
you used to invoke the interpreter in previous examples. However, instead
of giving it a filename with a .scala extension containing Scala code to
interpret as you did in every previous example,12 in this case you’ll give it the
name of a object containing a main method. Similar to Java, any Scala object
with a main method that takes a single parameter of type Array[String]
and returns Unit can serve as the entry point to an application.13 In this
example, WorldlyApp has a main method with the proper signature, so you
can run this example by typing:
scala WorldlyApp
At which point you should see:
Hello, world!
You may recall seeing this output previously, but this time it was generated
in this interesting manner:
• The scala program fires up a Java runtime with the WorldlyApp’s
main method as the entry point.
• WordlyApp’s main method creates a new WordlyGreeter instance via
new, passing in the string "Hello" as a parameter.
• Class WorldlyGreeter’s primary constructor essentially initializes a
final field named greeting with the passed value, "Hello" (this initialization
code is automatically generated by the Scala compiler).
• WordlyApp’s main method initializes a local val named wg with the
new WorldlyGreeter instance.
• WordlyApp’s main method then invokes greet on the
WorldlyGreeter instance to which wg refers.
• Class WordlyGreeter’s greet method invokes worldify on companion
object WorldlyGreeter, passing along the value of the final
field greeting, "Hello".
12The actual mechanism that the scala program uses to “interpret” a Scala source file is
that it compiles the Scala source code to bytecodes, loads them immediately via a class loader,
and executes them.
13As described in Step 2, Unit in Scala is similar to void in Java.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 12 Chapter 3 · Next Steps in Scala 86
• Companion object WorldlyGreeter’s worldify method returns a
String consisting of the value of a concatenation of the s parameter,
which is "Hello", and the literal String ", world!".
• Class WorldlyGreeter’s greet method then initializes a val named
worldlyGreeting with the "Hello, world!" String returned from
the worldify method.
• Class WorldlyGreeter’s greet method passes the "Hello, world!"
String to which worldlyGreeting refers to println, which sends
the cheerful greeting, via the standard output stream, to you.
Step 12. Understand traits and mixins
As first mentioned in Step 10, Scala includes a construct called a trait, which
is similar in spirit to Java’s interface. One main difference between Java
interfaces and Scala traits is that whereas all methods in Java interfaces are
by definition abstract, you can give methods real bodies with real code in
Scala traits. Here’s an example:
trait Friendly {
def greet() = "Hi"
}
In this example, the greet method returns the String "Hi". If you are
coming from Java, this greet method may look a little funny to you, as
if greet() is somehow a field being initialized to the String value "Hi".
What is actually going on is that lacking an explicit return statement, Scala
methods will return the value of the last expression. In this case, the value of
the last expression is "Hi", so that is returned. A more verbose way to say
the same thing would be:
trait Friendly {
def greet(): String = {
return "Hi"
}
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 12 Chapter 3 · Next Steps in Scala 87
Regardless of how your write the methods, however, the key point is that
Scala traits can actually contain non-abstract methods. Another difference
between Java interfaces and Scala traits is that whereas you implement Java
interfaces, you extend Scala traits. Other than this implements/extends difference,
however, inheritance when you are defining a new type works in
Scala similarly to Java. In both Java and Scala, a class can extend one (and
only one) other class. In Java, an interface can extend zero to many interfaces.
Similarly in Scala, a trait can extend zero to many traits. In Java, a
class can implement zero to many interfaces. Similarly in Scala, a class can
extend zero to many traits; implements is not a keyword in Scala.
Here’s an example:
class Dog extends Friendly {
override def greet() = "Woof"
}
In this example, class Dog extends trait Friendly. This inheritance relationship
implies much the same thing as interface implementation does in
Java. You can assign a Dog instance to a variable of type Friendly. For
example:
var pet: Friendly = new Dog
println(pet.greet())
When you invoke the greet method on the Friendly pet variable, it
will use dynamic binding, as in Java, to determine which implementation of
the method to call. In this case, class Dog overrides the greet method, so
Dog’s implementation of greet will be invoked. Were you to execute the
above code, you would get "Woof" (Dog’s implementation of greet), not
"Hi" (Friendly’s implementation of greet). Note that one difference with
Java is that to override a method in Scala, you must precede the method’s
def with override. If you attempt to override a method without specifying
override, your Scala code won’t compile.
Finally, one quite significant difference between Java’s interfaces and
Scala’s traits is that in Scala, you can mix in traits at instantiation time. For
example, consider the following trait:
trait ExclamatoryGreeter extends Friendly {
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Step 12 Chapter 3 · Next Steps in Scala 88
override def greet() = super.greet() + "!"
}
Trait ExclamatoryGreeter extends trait Friendly and overrides the
greet method. ExclamatoryGreeter’s greet method first invokes the superclass’s
greet method, appends an exclamation point to whatever the superclass’s
greet method returns, and returns the resulting String. With
this trait, you can mix in its behavior at instantiation time using the with
keyword. Here’s an example:
val pup: Friendly = new Dog with ExclamatoryGreeter
println(pup.greet())
Given the initial line of code, the Scala compiler will create a synthetic
class that extends class Dog and trait ExclamatoryGreeter and instantiate
it.14 When you invoke greet on the synthetic class instance, it will cause
the correct implementation to be executed.
When you run this code, the pup variable will first be initialized with
the new instance of the synthetic class, then when greet is invoked on pup,
you’ll see "Woof!". Note that had pup not been explicitly defined to be of
type Friendly, the Scala compiler would have inferred the type of pup to
be Dog with ExclamatoryGreeter.
To give all these concepts a try, type the following code into a file named
friendly.scala:
trait Friendly {
def greet() = "Hi"
}
class Dog extends Friendly {
override def greet() = "Woof"
}
class HungryCat extends Friendly {
override def greet() = "Meow"
}
class HungryDog extends Dog {
14A class is “synthetic” if it is generated automatically by the compiler.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss 1419
Conclusion Chapter 3 · Next Steps in Scala 89
override def greet() = "I'd like to eat my own dog food"
}
trait ExclamatoryGreeter extends Friendly {
override def greet() = super.greet() + "!"
}
var pet: Friendly = new Dog
println(pet.greet())
pet = new HungryCat
println(pet.greet())
pet = new HungryDog
println(pet.greet())
pet = new Dog with ExclamatoryGreeter
println(pet.greet())
pet = new HungryCat with ExclamatoryGreeter
println(pet.greet())
pet = new HungryDog with ExclamatoryGreeter
println(pet.greet())
When you run the friendly.scala script, it will print:
Woof
Meow
I'd like to eat my own dog food
Woof!
Meow!
I'd like to eat my own dog food!
Conclusion
With the knowledge you’ve gained in this chapter, you should already be
able to get started using Scala for small tasks, especially scripts. In future
chapters, we will dive into more detail in these topics, and introduce other
topics that weren’t even hinted at here.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 4
Classes and Objects
As computer hardware has become cheaper and more capable, the software
that people want to run on it has become larger and more complex. Managing
this complexity is one of the main challenges of modern programming. Two
of the most important tools provided by Scala to help programmers deal with
complexity are classes and objects.
When you are faced with writing a program with complex requirements,
you divide those requirements into smaller, simpler pieces. You decompose
your program into classes, each of which encompasses an amount of complexity
that you can handle. In other words, a class should be responsible
for an understandable amount of functionality. In the process of designing
your classes, you also design interfaces to those classes that abstract away
the details of their implementation. Finally, you instantiate those classes into
objects and orchestrate the objects in ways that will solve the larger problem.
The way classes and objects help you manage complexity at this stage is that
as you orchestrate the objects, you can think primarily in terms of their abstract
interfaces, and for the most part forget about the more complex details
of their implementations.
In this chapter you will learn the basics of classes and objects in Scala. If
you are familiar with Java, you’ll find the concepts in Scala are similar, but
not exactly the same. So even if you’re a Java guru, it will pay to read on.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.1 Chapter 4 · Classes and Objects 91
4.1 Objects and variables
When writing the code of a Scala program, you create and interact with
objects. To interact with a particular object, you can use a variable that
refers to the object. You can define a variable with either a val or var, and
assign an object to it with =. For example, when you write:
val i = 1
You create an Int object with the value 1 and assign it to a variable (in this
case, a val) named i. Similarly, when you write:
var s = "Happy"
You create a String object with the value "Happy" and assign it to a variable
(in this case, a var) named s.
You must assign an object to a variable when you define one, a process
called initialization.1 You might say, for example, that in the previous two
lines of code you initialized variable i with the Int 1 and variable s with the
String "Happy". Once an object has been assigned to a variable, you can
say that the variable refers to the object. For example, after the assignments
of the previous two lines of code, you could say that the variable named i
refers to an Int with the value 1, and the variable named s refers to a String
with the value "Happy".
As mentioned in the previous chapters, the difference between the two
kinds of variable, val and var, is that a val will always refer to the object
with which it is initialized, whereas a var can be made to refer to different
objects over time. For example, even though the var named s from the
previous example was initialized with the String "Happy", you could later
make s refer to a different String:
s = "Programming"
1In Java, a variable that is a field of an object may be left unassigned, in which case it
is initialized with a predefined default value. The default value depends on the type of the
variable: it is 0 or 0.0 for numbers, false for booleans, and null for reference types. In
Scala, you always need an explicit initializer. However, you can achieve the same default
initialization effect for fields (but not local variables) by “initializing” with an underscore
“_”, as in var x: Int = _.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.1 Chapter 4 · Classes and Objects 92
The var s initially referred to "Happy", but now refers to
"Programming". Were you to attempt such a reassignment on a val, you
would get a compiler error.
To interact with an object, you must go through a variable that refers to
that object. For example, to find the length of the String "Programming",
to which variable s currently refers, you can invoke the length method2 on
s:
s.length
One way to think about variables is that you use val and var to attach
name tags to objects. Each val or var defines one name tag. You can give
an object a name tag at the beginning of an object’s life, and you can later
give it still more name tags. For example:
var tomato = 7
In this example, you create an Int object with the value 7, and give it the
name tag tomato. Thus, you could picture it this way:
tomato
7
Here’s how you can give it a second name tag:
var tomahto = tomato
In this line of code, you defined another variable, a var named tomahto,
and initialized it with the object to which tomato refers (the Int with the
value 7). Both tomato and tomahto now refer to the same object, thus you
can think of this as a 7 with two name tags.
tomahto
tomato
7
2Functions that are members of classes are called methods in Scala, as in Java.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.2 Chapter 4 · Classes and Objects 93
The tomahto name could have been a val, and you’d still have two name
tags for the 7 at this point. Given that tomahto is indeed a var not a val,
however, you could later assign a different object to it like this:
tomahto = 8
Now you have a 7 with the name tag tomato and an 8 with the name tag
tomahto.
7
tomahto
8
tomato
If you want to really shake things up, though, try this:
tomato = tomahto
Now the 8 has two names, as you’d expect, but what about poor 7?
tomato
7
tomahto
8
Well, the old saying “nothing lasts forever” holds for objects in Scala
programs too. At this point in your program, that 7 has become unreachable.
No variable refers to it—it has no name tags—so there is no way your
program can interact with it anymore. Therefore any memory it consumes
has become available to be automatically reclaimed by the runtime. Thus,
for all practical purposes, the picture in memory now looks like this:
tomato
tomahto
8
4.2 Mapping to Java
If you’re familiar with Java, you may be wondering how all this is implemented
by the Scala compiler. The remainder of this section will be a quick
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.2 Chapter 4 · Classes and Objects 94
tour of how Scala’s objects and variables map to Java’s. If you’re not familiar
with Java, or simply aren’t interested in peaking behind the curtain, you can
safely skip to the beginning of the next section.
In Chapter 1, we claimed that Scala enables programmers to work at a
higher level. One of the ways Scala does that is by abstracting away some
of the details of the underlying host platform. Just as the Java Platform
itself provides an abstraction layer on top of the underlying operating system,
Scala provides an abstraction layer on top of the Java Platform. Talking about
how Scala programs are implemented can be tricky, because some words,
such as “object,” have a different meaning depending upon whether you are
talking at the Scala or the Java level of abstraction.
For example, in Java all objects are allocated in an area of the JVM’s
memory called the heap. If you create a String object in Java, it will reside
on the heap, even if the String is only needed locally within a method. If
you declare a local variable of type String, the memory used by the variable
will reside on the stack, but any String to which it refers will reside on the
heap. The variable itself will hold a reference to the String. The reference
is conceptually a pointer to, or memory address of, the memory (on the heap)
used by the referenced String object.
By contrast, in Java an int value is not an object. The int type is primitive
in Java. Variables of type int contain the integer value itself, not a
reference to an object on the heap. Because sometimes an actual integer object
is needed, however, Java also provides an immutable integer wrapper
type, java.lang.Integer. Class java.lang.Integer models the exact
same concept as int, a 32-bit integer, but instances of java.lang.Integer
are actual objects that reside on the heap. The main purpose of Java’s bifurcation
of the integer concept into separate primitive and wrapper types is
to make possible certain kinds of performance optimization. The tradeoff is
that Java programmers must understand and work with two different incarnations
of the same integer concept, one of which, the primitive int, is not
an object. The same bifurcation exists for all of Java’s primitive types, long,
double, boolean, etc.
To make working with these bifurcated concepts less cumbersome,
Java 5 introduced autoboxing. Prior to Java 5, if you needed a
java.lang.Integer but had a primitive int, you had to wrap the primitive
int yourself, a process called boxing. Similarly, if you had a
java.lang.Integer instance, but needed an int, you had to invoke
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.2 Chapter 4 · Classes and Objects 95
intValue on it, a process called unboxing.
In Scala, every value is an object, including Ints like 1 or 2—but only if
you’re using the word object at the Scala level of abstraction. Nevertheless,
for any Java objects other than the wrapper types, there exists a simple one
to one mapping from Scala object to Java object. Here’s an example:
var s = "a Java object"
Given this source code, the Scala compiler will generate Java bytecodes that
instantiate a java.lang.String object on the JVM’s heap and store a reference
to that new object in a variable. Thus, the Scala String object maps
to a Java String object, and the Scala variable s maps to a Java variable
that holds a reference to the String object. The story is different for Scala
objects that map to Java primitive types, however. For example:
val i = 1
Given this source code, the Scala compiler will essentially generate Java
bytecodes that implement the Scala Int object as a primitive Java int or a
java.lang.Integer instance, whichever is most advantageous. Throughout
its lifetime, a Scala Int object’s representation may be boxed (to
java.lang.Integer) and unboxed (to int) repeatedly. Thus a Scala Int
object may at times map to a Java java.lang.Integer object, but at other
times to a Java primitive int value.
To avoid confusion, in this book we will use the word “reference” only
when a reference is certain to exist at runtime at the Java level of abstraction.
For example, we might say that the var s holds a reference to a String
with the value "a Java object". But we wouldn’t say that the val i holds a
reference to an Int with the value 1, because at runtime there may sometimes
be a reference to a java.lang.Integer, but at other times just a primitive
int. Instead, we’ll say that i refers to the Int with the value 1. Thus the
word “refers” at the Scala level of abstraction does not necessarily imply a
reference exists at runtime at the Java level of abstraction.
Similarly, we will not use the word “unreferenced” except to refer to
objects implemented at runtime by Java objects that are actually becoming
unreferenced and therefore available for garbage collection. Instead, we’ll
use the more abstract term “unreachable.” Any Scala object can become
unreachable at the Scala level of abstraction. A Scala Int implemented as
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.3 Chapter 4 · Classes and Objects 96
a primitive Java int in a local variable on the stack becomes unreachable
when the method returns and the stack frame is popped, but that Int does
not become unreferenced, or garbage collected, because no reference or Java
object is involved.
4.3 Classes and types
The primary tool Scala gives you to organize your programs is the class.
A class is a blueprint for objects. Once you define a class, you can create
objects from the class blueprint with the keyword new. For example, given
the class definition:
class House {
// class definition goes here
}
You can create House objects (also called instances of class House) with:
new House
You may wish to assign the new House to a variable so you can interact with
it later:
val h1 = new House
And just as a builder could construct many houses from one blueprint, you
can construct many objects from one class:
val h2 = new House
val h3 = new House
You now have three House objects. You have arrived!
When you define a class, you establish a new type. You can then define
variables of that type. For example, when you defined class House previously,
you established House as a type. You next create three variables: h1,
h2, and h3. The Scala compiler gives the type House to each of these variables
through type inference. Because you initialized h1 with a new House
instance, for example, the Scala compiler inferred the type of h1 to be House.
As mentioned in Chapter 2, you can also specify the type of a variable explicitly
like this:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.4 Chapter 4 · Classes and Objects 97
val h4: House = new House
The type of a variable determines what kind of objects can be assigned
to it. If you attempt to assign a String to a variable of type House, for
example, it won’t compile, because a String is not a House:
var h5: House = "a String" // This won't compile
4.4 Fields and methods
Inside a class definition, you place fields and methods, which are collectively
called members. Fields are variables that refer to objects. Methods contain
executable code. The fields hold the state, or data, of an object, whereas the
methods use that data to do the computational work of the object. When you
instantiate a class, the runtime sets aside some memory to hold the image
of that object’s state—i.e., the content of its variables. For example, if you
defined a ChecksumCalculator class and gave it a var field named sum:
class ChecksumCalculator {
var sum = 0
}
and you instantiated it twice with:
val cc = new ChecksumCalculator
val dd = new ChecksumCalculator
The image of the objects in memory might look like:
0
sum
cc
sum
dd
Since sum, a field declared inside class ChecksumCalculator, is a var,
not a val, you can later reassign to sum a different Int value, like this:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.4 Chapter 4 · Classes and Objects 98
cc.sum = 3
Now the picture would look like:
0
sum
cc
sum
dd
3
The first thing to notice about this picture is that there are two sum variables,
one inside the ChecksumCalculator object referred to by cc and the
other inside the ChecksumCalculator object referred to by dd. Fields are
also known as instance variables, because every instance gets its own set
of these variables. Collectively, an object’s instance variables make up the
memory image of the object. You can see this illustrated here not only in that
you see two sum variables, but also that when you changed one, the other was
unaffected. After you executed cc.sum = 3, for example, the sum inside the
ChecksumCalculator referred to by dd remained at 0. Similarly, if you reassigned
the sum instance variable inside the ChecksumCalculator object
referred to by dd:
dd.sum = 4
The state of the other ChecksumCalculator object would be unaffected:
4
sum
cc
sum
dd
3
Another thing to note in this example is that you were able to mutate the
objects cc and dd referred to, even though both cc and dd are vals. What
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.4 Chapter 4 · Classes and Objects 99
you can’t do with cc or dd given that they are vals, not vars, is reassign a
different object to them. For example, the following attempt would fail:
// Won't compile, because cc is a val
cc = new ChecksumCalculator
What you can count on, then, is that cc will always refer to the same
ChecksumCalculator object with which you initialize it, but the fields contained
inside that object might change over time.
One important way to pursue robustness of an object is to attempt to
ensure that the object’s state—the values of its instance variables—remains
valid during the entire lifetime of the object. The first step is to prevent
outsiders from accessing the fields directly by making the fields private, so
only the methods of the class can access the fields. This way, the code that
will be updating that state is localized to just code inside methods defined in
the class. To declare a field private, you place a private access modifier in
front of the field, like this:
class ChecksumCalculator {
private var sum = 0
}
Given this definition of ChecksumCalculator, any attempt to access sum
from the outside of the class would fail:
val cc2 = new ChecksumCalculator
cc2.sum = 3 // Won't compile, because sum is private
Note that the way you make members public in Scala is by not explicitly
specifying any access modifier. Put another way, where you’d say “public”
in Java, you simply say nothing in Scala. Public is Scala’s default access
level.
Now that sum is private, the only code that can access sum is code defined
inside the body of the class itself. Thus, ChecksumCalculator won’t be of
much use to anyone unless we define some methods in it:
class ChecksumCalculator {
private var sum = 0
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.4 Chapter 4 · Classes and Objects 100
def add(b: Byte): Unit = {
sum += b
}
def checksum: Int = {
return (sum & 0xFF) + 1
}
}
The ChecksumCalculator now has two methods, one named add and
the other checksum, both of which exhibit the basic form of a function
definition, shown in Figure 2.1 on page 52.3 Because checksum takes no
parameters and returns a conceptual property, we left the parentheses off
and made it, therefore, a parameterless method.4 In other words, we wrote
“def checksum: Int,” not “def checksum(): Int.”
Any parameters to a method can be used inside the method. One important
characteristic of method parameters in Scala is that they are vals,
not vars. The reason parameters are vals is that vals are simpler to reason
about. If you attempt to reassign a parameter inside a method in Scala,
therefore, it won’t compile:
def add(b: Byte): Unit = {
b += 1 // This won't compile, because b is a val
sum += b
}
Although the add and checksum methods in this version of
ChecksumCalculator correctly implement the desired functionality,
in practice you would likely express them using a more concise style. First,
the return statement at the end of the checksum method is superfluous and
can be dropped. In the absence of any explicit return statement, a Scala
method returns the last value computed by the method. The recommended
style for methods is in fact to avoid having explicit, and especially multiple,
return statements. Instead, think of each method as an expression that yields
one value, which is returned. This philosophy will encourage you to make
methods quite small, to factor larger methods into multiple smaller ones.
3As mentioned in Chapter 2, a function defined as a member of a class is called a method.
4The reasoning behind parameterless methods was described in Chapter 2 on page 51.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.4 Chapter 4 · Classes and Objects 101
On the other hand, design choices depend on the design context, and Scala
makes it easy to write methods in multiple return style if that’s what you
desire. Because all checksum does is calculate a value, it does not need a
return. Another shorthand for methods is that you can leave off the curly
braces if a method computes only a single result expression. If the result
expression is short, it can even be placed on the same line as the def itself,
as shown here:
class ChecksumCalculator {
private var sum = 0
def add(b: Byte): Unit = sum += b
def checksum: Int = (sum & 0xFF) + 1
}
Methods with a result type of Unit, such as ChecksumCalculator’s add
method, are executed for their side effects. A side effect is generally defined
as mutating state somewhere external to the method or performing an I/O
action. In add’s case, for example, the side effect is that sum is reassigned.
Another way to express such methods is leaving out the result type and the
equals sign, following the method with a block enclosed in curly braces. In
this form, the method looks like a procedure, a method that is executed only
for its side effects. An example is the add method in the following version
of class ChecksumCalculator:
class ChecksumCalculator {
private var sum = 0
def add(b: Byte) { sum += b }
def checksum: Int = (sum & 0xFF) + 1
}
One gotcha to watch out for is that whenever you leave off the equals sign
before the body of a method, its result type will definitely be Unit. This
is true no matter what the body contains, because the Scala compiler can
convert any type to Unit. Here’s an example in which a String is converted
to Unit, because that’s the declared result type of the method:
scala> def f: Unit = "this String gets lost"
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.5 Chapter 4 · Classes and Objects 102
f: Unit
The Scala compiler treats a method defined in the procedure style, i.e., with
curly braces but no equals sign, essentially the same as a method that explicitly
declares its result type to be Unit. Here’s an example:
scala> def g { "this String gets lost too" }
g: Unit
The gotcha occurs, therefore, if you intend to return a non-Unit value, but
forget the equals sign. To get what you want, you’ll need to insert the equals
sign:
scala> def h = { "this String gets returned!" }
h: java.lang.String
scala> h
res3: java.lang.String = this String gets returned!
4.5 Class documentation
To make ChecksumCalculator usable as a library component, you should
document it. The recommended way of doing this is to use Scaladoc comments.
A Scaladoc comment is essentially the same as a Javadoc comment
in Java: a multi-line comment that starts with /**. The comment always
applies to the definition that comes right after it. With the help of the
scaladoc tool you can produce HTML pages that contain the signatures
of classes and their members together with their Scaladoc comments. The
Eclipse IDE plugin also displays Scaladoc comments when it shows definitions
in its context help feature. Here is a well-commented version of class
ChecksumCalculator:
/** A class that calculates a checksum of bytes. This class
* is not threadsafe.
*/
class ChecksumCalculator {
private var sum = 0
/** Adds the passed <code>Byte</code> to the checksum
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.5 Chapter 4 · Classes and Objects 103
* calculation.
*
* @param b the <code>Byte</code> to add
*/
def add(b: Byte) { sum += b }
/** Gets a checksum for all the <code>Byte</code>s passed
* to <code>add</code>. The sum of the integer
* returned by this method, when added to the
* sum of all the passed bytes will yield zero.
*/
def checksum: Int = (sum & 0xFF) + 1
}
An important point to note is that the purpose of such documentation is
not simply to describe what the code is doing, but to abstract away some of
the detail. When you design a class for others to use, it is important to design
more than just the code. You should also think about the abstraction. The abstraction
allows client programmers to use your class without thinking about,
or even knowing about, all the details of your implementation. If you design
the abstraction as carefully as you design the implementation, you can help
your client programmers manage complexity, by enabling them to work at a
higher level. You can also facilitate future changes, by clearly specifying the
contract to which different implementations of your abstraction must adhere.
A tricky part of design can be figuring out just how much of the detail to
abstract away. Given ChecksumCalculator is a contrived example, with no
real design context, it is hard to say what level of abstraction is appropriate.
In this example, we left out the details of the algorithm used to calculate the
checksum, and simply explained how to use it: add the checksum to the sum
of bytes, and make sure the result is zero. We also didn’t indicate whether the
checksum is calculated when you call checksum, or whether the calculation
is done with each call to add and cached so it can be quickly returned by a
call to checksum. All that detail is left to the implementation.
Should you always carefully design class documentation like this? No.
If you’re just whipping up a class to test a concept or use in a throw-away
script, and many other cases, the documentation probably isn’t worth the
effort. Such care in design and documentation really pays off is when teams
collaborate by offering each other APIs. Carefully defined and documented
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.6 Chapter 4 · Classes and Objects 104
interfaces help such teams work together productively.
For most of this book, we will leave off such Scaladoc documentation,
primarily because it will help you see the points we are trying to illustrate.
Nevertheless, we believe such documentation is a big help to the productivity
of people collaborating on a software project.
4.6 Variable scope
Variable declarations in Scala programs have a scope that defines where you
can use the name. Outside that scope, any use must be via inheritance, an
import, or a field selection such as cc.sum.
The most common example is that curly braces generally introduce a
new scope, so anything defined inside curly braces leaves scope after the
final closing brace.5
For an illustration, consider the following script:
def printMultiTable() {
var i = 1
// only i in scope here
while (i <= 10) {
var j = 1
// both i and j in scope here
while (j <= 10) {
val prod = (i * j).toString
// i, j, and prod in scope here
var k = prod.length
// i, j, prod, and k in scope here
while (k < 4) {
print(" ")
k += 1
}
5There are a few exceptions to this rule, because in Scala you can sometimes use curly
braces in place of parentheses. One example of this kind of curly-brace use is the alternative
for expression syntax described in Section 7.3 on page 156.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.6 Chapter 4 · Classes and Objects 105
print(prod)
j += 1
}
// i and j still in scope; prod and k out of scope
println()
i += 1
}
// i still in scope; j, prod, and k out of scope
}
printMultiTable()
The printMultiTable function prints out a multiplication table. The first
statement of this function introduces a variable named i and initializes it to
the integer 1. You can then use the name i for the remainder of the function.
The next statement in printMultiTable is a while loop:
while (i <= 10) {
var j = 1
...
}
You can use i here because it is still in scope. In the first statement inside
that while loop, you introduce another variable, this time named j, and again
initialize it to 1. Because the variable j was defined inside the open curly
brace of the while loop, it can be used only within that while loop. If you
were to attempt to do something with j after the closing curly brace of this
while loop, after where the comment says that j, prod, and k are out of
scope, your program would not compile.
All of the variables defined in this example—i, j, prod, and k—are
local variables. Local variables are “local” to the function in which they are
defined. Each time a function is invoked, a new set of its local variables is
created.
Once a variable is defined, you can’t define a new variable with the same
name in the same scope. For example, the following script would not compile:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.6 Chapter 4 · Classes and Objects 106
val a = 1
val a = 2 // Does not compile
println(a)
You can, on the other hand, define a variable in an inner scope that has the
same name as a variable in an outer scope. The following script would compile
and run:
val a = 1;
{
val a = 2 // Compiles just fine
a
}
println(a)
When executed, the script shown previously would print 1, because the a
defined inside the curly braces is a different variable, which is in scope only
until the closing curly brace.6 One difference to note between Scala and Java
is that unlike Scala, Java will not let you create a variable in an inner scope
that has the same name as a variable in an outer scope. In a Scala program,
an inner variable is said to shadow a like-named outer variable, because the
outer variable becomes invisible in the inner scope.
The main reason Scala differs from Java in this regard is that shadowing
enables a more forgiving interpreter environment. Consider the following:
scala> val a = 1
a: Int = 1
scala> val a = 2
a: Int = 2
scala> println(a)
2
In the interpreter, unlike in a regular Scala program, you can reuse variable
names to your heart’s content. Among other things, this allows you to
change your mind if you made a mistake when you define a variable the first
6By the way, the semicolon is required in this case after the first definition of a because
Scala’s semicolon inference mechanism will not place one there.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.6 Chapter 4 · Classes and Objects 107
time in the interpreter. The reason you can do this is that implicitly, the interpreter
creates a new nested scope for each new statement you type in. Thus,
you could visualize the previous interpreted code like this:
val a = 1;
{
val a = 2;
{
println(a)
}
}
This code will compile and run as a Scala script, and like the code typed
into the interpreter, will print 2. Keep in mind that such code can be very
confusing to readers, because variable names adopt new meanings in nested
scopes. In general, you should avoid shadowing variables explicitly in code
you write outside of the interpreter.
Lastly, although the printMultiTable shown previously does a fine
job of both printing a multiplication table and demonstrating the concept of
scope, if you listen carefully you’ll hear its many vars and indexes just begging
to be refactored into a more concise, less error-prone, more functional
style. Here’s one way you could do it:
def printMultiTable() {
for (i <1
to 10) {
for (j <1
to 10) {
val prod = (i * j).toString
print(String.format("%4s", Array(prod)))
}
println()
}
}
printMultiTable()
This version of printMultiTable is written in a more functional style
than the previous one, because this version avoids using any vars. All the
variables—i, j, and prod—are vals. One nuance worth pointing out here is
that even though i is a val, each time through the outermost for expression’s
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.7 Chapter 4 · Classes and Objects 108
“loop”, i gets a different value. The first time i is 1, then 2, and so on all the
way to 10. Although this may seem like behavior unbecoming a val, one
way you can think of it is that for each iteration a brand new val named i is
created and placed into scope inside the body of the for expression, where
i remains true to its val nature. If you attempt to assign i a new value inside
the body of the for expression, such as with the statement i = 1,
your
program will not compile.
Now, although this most recent version of printMultiTable is in more
a functional style than the previous version, it still retains some of its imperative
accent. That’s because invoking printMultiTable has the side effect
of printing to the standard output. Because this is the only reason you invoke
printMultiTable, its result type is Unit. An even more functional version
would return the multiplication table as a String.
4.7 Semicolon inference
In a Scala program, a semicolon at the end of a statement is usually optional.
You can type one if you want but you don’t have to if the statement appears
by itself on a single line. Thus, code like the following does not need any
semicolons:
val prod = 15
var k = prod.toString.length
while (k < 4) {
print(" ")
k += 1
}
print(prod)
A semicolon is only required if you write several statements on a single line:
val prod = 15; var k = prod.toString.length
while (k < 4) { print(" "); k += 1 }
print(prod)
If you want to enter a statement that spans multiple lines, most of the time
you can simply enter it and Scala will separate the statements in the correct
place. For example, the following is treated as one four-line statement:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.7 Chapter 4 · Classes and Objects 109
if (x < 2)
println("too small")
else
println("ok")
Occasionally, however, Scala will split a statement into two parts against
your wishes:
x
+ y
This parsers as two statements x and +y. If you intend to parse it as one
statement x + y, you can always wrap it in parentheses:
(x
+ y)
Alternatively, you can put the + at the end of a line. For just this reason,
whenever you are chaining an infix operation such as +, it is a common Scala
style to put the operators at the end of the line instead of the beginning:
x +
y +
z
The precise rules for statement separation are surprisingly simple for how
well they work. In short, a line ending is treated as semicolon unless one of
the following conditions is true.
1. The line in question ends in a word that would not be legal as the end
of a statement, such as a period or an infix-operator.
2. The next line begins with a word that cannot start a statement.
3. The line ends while inside parentheses (...) or brackets [...], because
these cannot contain multiple statements anyway.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.8 Chapter 4 · Classes and Objects 110
4.8 Singleton objects
As mentioned in Chapter 1, one way in which Scala is more object-oriented
than Java is that classes in Scala cannot have static members. Instead, Scala
has singleton objects. A singleton object definition looks like a class definition,
except instead of the keyword class you use the keyword object.
Here’s an example:
// In file ChecksumCalculator.scala
object ChecksumCalculator {
def calcChecksum(s: String): Int = {
val cc = new ChecksumCalculator
for (c <s)
cc.add(c.toByte)
cc.checksum
}
}
This singleton object is named ChecksumCalculator, which is the same
name as the class in the previous example. When a singleton object shares
the same name with a class, it is called that class’s companion object. You
must define both the class and its companion object in the same source file.
The class is called the companion class of the singleton object. A class and
its companion object can access each other’s private members.
The ChecksumCalculator singleton object has one method,
calcChecksum, which takes a String and calculates a checksum for
the characters in the String. The first line of the method defines a val
named cc and initializes it with a new ChecksumCalculator instance.
Because the keyword new is only used to instantiate classes, the new object
created here is an instance of the ChecksumCalculator class. The next
line is a for expression, which cycles through each character in the passed
String, converts the character to a Byte by invoking toByte on it, and
passing that to the add method of the ChecksumCalculator instances to
which cc refers. After the for expression completes, the last line of the
method invokes checksum on cc, which gets the checksum for the passed
String. Because this is the last expression of the method, this checksum is
the result returned from the method.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.9 Chapter 4 · Classes and Objects 111
If you are a Java programmer, one way to think of singleton objects is
as the home for any static methods you might have written in Java. You can
invoke methods on singleton objects using a similar syntax: the name of the
singleton object, a dot, and the name of the method. For example, you can invoke
the calcChecksum method of singleton object ChecksumCalculator
like this:
ChecksumCalculator.calcChecksum("Every value is an object.")
One difference between classes and singleton objects is that singleton objects
cannot take parameters, whereas classes can via primary and auxiliary
constructors. You never have to instantiate a singleton object with the new
keyword. Singleton objects are implemented as static values, so they have
the same initialization semantics as Java statics. In particular, a singleton
object is initialized the first time someone accesses it.
A singleton object that does not share the same name with a companion
class is called a standalone object. You can use standalone objects for many
purposes, including collecting related utility methods together, or defining an
entry point to a Scala application. This use case is shown in the next section.
4.9 A Scala application
To run a Scala program, you must supply the name of a standalone singleton
object with a main method that takes one parameter, an Array[String], and
has a result type of Unit. Any singleton object with a main method of the
proper signature can be used as the entry point into an application. Here’s an
example:
// In file Summer.scala
import ChecksumCalculator.calcChecksum
object Summer {
def main(args: Array[String]) {
for (arg <args)
println(arg + ": " + calcChecksum(arg))
}
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.9 Chapter 4 · Classes and Objects 112
The name of this singleton object is Summer. Its main method has
the proper signature, so you can use it as an application. The first statement
in the file is an import of the calcChecksum method defined in the
ChecksumCalculator object in the previous example. This import statement
allows you to use the method’s simple name in the rest of the file, like a
static import feature introduced in Java 5. The body of the main method simply
prints out each argument and the checksum for the argument, separated
by a colon.
To run this application, place the code for object Summer in a file name
Summer.scala. Because Summer uses ChecksumCalculator, place the
code shown next in a file named ChecksumCalculator.scala:
// In file ChecksumCalculator.scala
class ChecksumCalculator {
private var sum = 0
def add(b: Byte) { sum += b }
def checksum: Int = (sum & 0xFF) + 1
}
object ChecksumCalculator {
def calcChecksum(s: String): Int = {
val cc = new ChecksumCalculator
for (c <s)
cc.add(c.toByte)
cc.checksum
}
}
As described in Step 11 on page 79, to compile these files you can use
scalac, like this:
scalac ChecksumCalculator.scala Summer.scala
This will create binary Java .class files, which you can execute with:
scala Summer of love
You should see checksums printed for the two command line arguments:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 4.10 Chapter 4 · Classes and Objects 113
of: 213
love: 182
4.10 Conclusion
This chapter has given you the basics of classes and objects in Scala. In the
next chapter, you’ll learn about Scala’s basic types and how to use them.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 5
Basic Types and Operations
Now that you’ve taken a tour of Scala and seen how basic classes and objects
work, a good place to start understanding Scala in more depth is by looking
at its basic types and operations. If you’re familiar with Java, you’ll be glad
to find that Java’s basic types and operators have the same meaning in Scala.
However there are some interesting differences that will make this chapter
worthwhile reading even if you’re an experienced Java developer.
As object-oriented languages go, Scala is quite “pure” in the sense that
every value in a Scala program is an object, and every operation on an object
is a method call. This characteristic holds true even for the basic types such
as integers and floating point numbers, and operations such as addition and
multiplication. As mentioned in earlier chapters, this object-oriented purity
gives rise to a conceptual simplicity that makes it easier to learn Scala and
understand Scala programs. However, unlike attempts at purity in some other
object-oriented languages,1 it does not come with a significant performance
cost, because the Scala compiler takes advantage of the efficiency of Java’s
primitive types and their operations when it compiles your Scala program
down to Java bytecodes.
Given that all operations on objects in Scala are method calls, Scala
doesn’t have operators in the same sense as in most languages. Instead, each
of the value types (such as Int, Boolean, and Double, etc.) have methods
with names that act as operators in many other languages. For example, in
Java, * is an operator that you can use to multiply two ints. In Scala, by
1We don’t want to name names here, but if you catch up with one of us at a conference,
we may slip and reveal a name over small talk.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.1 Chapter 5 · Basic Types and Operations 115
contrast, class Int has a method named *, which does multiplication. As
mentioned in the previous chapter, when you say 2 * 3 in Scala, the compiler
transforms your expression into (2).*(3). It calls the method named * on
the Int instance with the value 2, passing in another Int instance with the
value 3.
In this chapter, you’ll get an overview of Scala’s basic types, including
Strings and the value types Int, Long, Short, Byte, Float, Double, Char,
and Boolean. You’ll learn the operations you can perform on these types,
including how operator precedence works in Scala expressions. And if that’s
not enough excitement for you, at the end of the chapter you will learn how
implicit conversions to rich variants of these basic types can grant you access
to more operations than those defined in the classes of these types.
5.1 Some basic types
Several fundamental types of Scala, along with the ranges of values instances
may have, are shown in Table 5.1.
Table 5.1: Some Basic Types
Value Type Range
Byte 8-bit signed two’s complement integer (-27 to 27 - 1, inclusive)
Short 16-bit signed two’s complement integer (-215 to 215 - 1, inclusive)
Int 32-bit signed two’s complement integer (-231 to 231 - 1, inclusive)
Long 64-bit signed two’s complement integer (-263 to 263 - 1, inclusive)
Char 16-bit unsigned Unicode character (0 to 216 - 1, inclusive)
String a sequence of Chars
Float 32-bit IEEE 754 single-precision float
Double 64-bit IEEE 754 double-precision float
Boolean true or false
Other than String, which resides in package java.lang, all of these
basic types are members of package scala.2 For example, the full name of
Int is scala.Int. However, given that all the members of package scala
and java.lang are automatically imported into every Scala source file, you
2Packages will be covered in depth in Chapter 13.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.2 Chapter 5 · Basic Types and Operations 116
can just use the simple names (i.e., names like Boolean, or Char, or String)
everywhere.3
Savvy Java developers will note that these are the same exact ranges of
the corresponding types in Java. This enables the Scala compiler to transform
instances of Scala value types, such as Int or Double, down to Java primitive
types in the bytecodes it produces.
5.2 Literals
All of the basic types listed in Table 5.1 can be written with literals. A literal
is a way to write a constant value directly in code. The syntax of these literals
is exactly the same as in Java, so if you’re a Java master, you may wish to
skim most of this section. The one difference to note is Scala’s multi-line
String literal, which is described on page 120.
Integer literals
Integer literals for the types Int, Long, Short, and Byte come in three
forms: decimal, hexadecimal, and octal. The way an integer literal begins
indicates the base of the number. If the number begins with a 0x or 0X, it is
hexadecimal (base 16), and may contain upper or lowercase digits A through
F as well as 0 through 9. Some examples are:
scala> val hex = 0x5
hex: Int = 5
scala> val hex2 = 0x00FF
hex2: Int = 255
scala> val magic = 0xcafebabe
magic: Int = 889275714
3You can in fact currently use lower case aliases for Scala value types, which correspond
to Java’s primitive types. For example, you can say int instead of Int in a Scala program.
But keep in mind they both mean exactly the same thing: scala.Int. The recommended
style that arose from the experience of the Scala community is to always use the upper case
form, which is what we attempt to do consistently in this book. In honor of this communitydriven
choice, the lower case variants may be deprecated or even removed in a future version
of Scala, so you would be wise indeed to go with the community flow and say Int, not int,
in your Scala code.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.2 Chapter 5 · Basic Types and Operations 117
Note that the Scala shell always prints integer values in base 10, no matter
what literal form you may have used to initialize it. Thus the interpreter
displays the value of the hex2 variable you initialized with literal 0x00FF as
decimal 255. (Of course, you don’t need to take our word for it. A good way
to start getting a feel for the language is to try these statements out in the
interpreter as you read this chapter.) If the number begins with a zero, it is
octal (base 8), and may only contain digits 0 through 7. Some examples are:
scala> val oct = 035 // (35 octal is 29 decimal)
oct: Int = 29
scala> val nov = 0777
nov: Int = 511
scala> val dec = 0321
dec: Int = 209
If the number begins with a non-zero digit, it is decimal (base 10). For
example:
scala> val dec1 = 31
dec1: Int = 31
scala> val dec2 = 255
dec2: Int = 255
scala> val dec3 = 20
dec3: Int = 20
If an integer literal ends in an L or l, it is a Long, otherwise it is an Int.
Some examples of Long integer literals are:
scala> val prog = 0XCAFEBABEL
prog: Long = 3405691582
scala> val tower = 35L
tower: Long = 35
scala> val of = 31l
of: Long = 31
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.2 Chapter 5 · Basic Types and Operations 118
If an Int literal is assigned to a variable of type Short or Byte, the
literal is treated as if it were a Short or Byte type so long as the literal value
is within the valid range for that type. For example:
scala> val little: Short = 367
little: Short = 367
scala> val littler: Byte = 38
littler: Byte = 38
Floating point literals
Floating point literals are made up of decimal digits, optionally containing a
decimal point, and optionally followed by an E or e and an exponent. Some
examples of floating point literals are:
scala> val big = 1.2345
big: Double = 1.2345
scala> val bigger = 1.2345e1
bigger: Double = 12.345
scala> val biggerStill = 123E45
biggerStill: Double = 1.23E47
Note that the exponent portion means the power of 10 by which the other
portion is multiplied. Thus, 1.2345e1 is 1.2345 times 101, which is 12.345.
If a floating point literal ends in a F or f, it is a Float, otherwise it is a
Double. Optionally, a Double floating point literal can end in D or d. Some
examples of Float literals are:
scala> val little = 1.2345F
little: Float = 1.2345
scala> val littleBigger = 3e5f
littleBigger: Float = 300000.0
That last value expressed as a Double could take these (as well as other)
forms:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.2 Chapter 5 · Basic Types and Operations 119
scala> val anotherDouble = 3e5
anotherDouble: Double = 300000.0
scala> val yetAnother = 3e5D
yetAnother: Double = 300000.0
Character literals
Character literals can be any Unicode character between single quotes, such
as:
scala> val a = 'A'
a: Char = A
In addition to providing an explicit character between the single quotes, you
can provide an octal or hex number for the character code point preceded
by a backslash. The octal number must be between 'n0' and 'n377'. For
example, the Unicode character code point for the letter A is 101 octal. Thus:
scala> val c = 'n101'
c: Char = A
A character literal in hex form must have four digits and be preceded by a
nu, as in:
scala> val d = 'nu0041'
d: Char = A
scala> val f = 'nu005a'
f: Char = Z
There are also a few character literals represented by special escape sequences,
shown in Table 5.2.
For example:
scala> val backslash = 'nn'
backslash: Char = n
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.2 Chapter 5 · Basic Types and Operations 120
Table 5.2: Special Character Literal Escape Sequences
Literal Meaning
nn line feed (nu000A)
nb backspace (nu0008)
nt tab (nu0009)
nf form feed (nu000C)
nr carriage return (nu000D)
n" double quote (nu0022)
n' single quote (nu0027)
nn backslash (nu005C)
String literals
The usual notation for a string literal is to surround a number of characters
by double quotes ("):
scala> val hello = "hello"
hello: java.lang.String = hello
The syntax of the characters within the quotes is the same as with character
literals. For example:
scala> val escapes = "nnn"n'"
escapes: java.lang.String = n"'
This syntax is awkward for multi-line strings that contain a lot of escape
sequences. For those, Scala includes a special syntax for multi-line strings.
You start and end a multi-line string with three quotation marks in a row
("""). The interior of a multi-line string may contain any characters whatsoever,
including newlines, quotation marks, and special characters, except of
course three quotes in a row. For example, the following program prints out
a message using a multi-line string:
println("""Welcome to Ultamix 3000.
Type "HELP" for help.""")
Running this code does not produce quite what is desired, however:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.3 Chapter 5 · Basic Types and Operations 121
Welcome to Ultamix 3000.
Type "HELP" for help.
The issue is that the leading spaces before the second line are included in
the string! To help with this common situation, the String class includes a
method call stripMargin. To use this method, put a pipe character (|) at
the front of each line, and then call stripMargin on the whole string:
println("""|Welcome to Ultamix 3000.
|Type "HELP" for help.""".stripMargin)
Now the code behaves as desired:
Welcome to Ultamix 3000.
Type "HELP" for help.
Boolean literals
The Boolean type has two literals, true and false, which can be used like
this:
scala> val bool = true
bool: Boolean = true
scala> val fool = false
fool: Boolean = false
That’s all there is to it. You are now literally4 an expert in Scala.
5.3 Operators are methods
Like most programming languages, Scala facilitates basic operations on its
basic types, such as adding and subtracting numeric values and and-ing and
or-ing boolean values. If you’re familiar with Java, you’ll find that the semantics
of such expressions in Scala look the same as corresponding expressions
in Java, even though they are arrived at in Scala in a slightly more
object-oriented way.
4figuratively speaking
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.3 Chapter 5 · Basic Types and Operations 122
Scala provides a rich set of operators for its basic types. As mentioned in
previous chapters, these operators are actually just a nice syntax for ordinary
method calls. For example, 1 + 2 really means the same thing as (1).+(2).5
In other words, class Int contains a method named + that takes an Int and
returns an Int result. This + method is conceptually invoked when you add
two Ints,6 as in:
scala> val sum = 1 + 2 // Scala invokes (1).+(2),
sum: Int = 3 // which returns an Int
To prove this to yourself, write the expression explicitly as a method
invocation:
scala> val sumMore = (1).+(2)
sumMore: Int = 3
The whole truth, however, is that Int contains several “overloaded” +
methods that take different parameter types.7 For example, Int has a different
method also named + that takes a Long and returns a Long. If you add a
Long to an Int, this alternate + method will be invoked, as in:
scala> val longSum = 1 + 2L // Scala invokes (1).+(2L),
longSum: Long = 3 // an overloaded + method on Int
// that returns a Long
The upshot of all this is that all methods in Scala can be used in operator
notation. In Java, for example, operators are a special language syntax. In
Scala, an operator is a method—any method—invoked without the dot using
one of three operator notations: prefix, postfix, or infix. In prefix notation,
you put the method name before the object on which you are invoking the
method, for example, the “”
in “7”.
In postfix notation, you put the method
after the object, for example, the toLong in “7 toLong”. And in infix notation,
you put the method between the object and the parameter or parameters
you wish to pass to the method, for example, the + in “7 + 2”.
5By the way, the spaces around operators shown in this book usually just for style. 1+2
would compile just as fine as 1 + 2.
6Conceptually invoked, because the Scala compiler will generally optimize this down to
native Java bytecode addition on primitive Java ints.
7Overloaded methods have the same name but different argument types. More on method
overloading in Chapter 6.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.3 Chapter 5 · Basic Types and Operations 123
So in Scala, + is not an operator. It’s a method. But when you say 1 + 2,
you are using + as an operator—an infix operator to be specific. Moreover,
this notation is not limited to things like + that look like operators in other
languages. You can use any method in operator notation. For example, class
java.lang.String has a method indexOf that takes one Char parameter.
The indexOf method searches the String for the first occurrence of the
specified character, and returns its index or 1
if it doesn’t find the character.
You can use indexOf as an infix operator, like this:
scala> val s = "Hello, world!"
s: java.lang.String = Hello, world!
scala> s indexOf 'o' // Scala invokes s.indexOf('o')
res0: Int = 4
In addition, java.lang.String offers an overloaded indexOf method
that takes two parameters, the character for which to search and an index at
which to start. (The other indexOf method, shown previously, starts at index
zero, the beginning of the String.) Even though this indexOf method takes
two arguments, you can use it as an operator in infix notation. But whenever
you call a method that takes multiple arguments using infix notation, you
have to place those arguments in parentheses. For example, here is how you
use this other form of indexOf as an operator (continuing from the previous
example):
scala> s indexOf ('o', 5) // Scala invokes s.indexOf('o', 5)
res1: Int = 8
Thus, in Scala operators are not special language syntax: any method can
be an operator. What makes a method an operator is how you use it. When
you say s.indexOf('o'), indexOf is not an operator. But when you say,
s indexOf 'o', indexOf is an operator.
In contrast to the infix operator notation—in which operators take two
operands, one to the left and the other to the right—prefix and postfix operators
are unary—they take just one operand. In prefix notation, the operand
is to the right of the operator. Some examples of prefix operators are 2.0,
!found, and 0xFF. As with the infix operators, these prefix operators are
a shorthand way of invoking methods on value type objects. In this case,
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.3 Chapter 5 · Basic Types and Operations 124
however, the name of the method has “unary_” prepended to the operator
character. For instance, Scala will transform the expression 2.0
into the
method invocation “(2.0).unary_”.
You can demonstrate this to yourself
by typing the method call both via operator notation and explicitly:
scala> 2.0
// Scala invokes (2.0).unary_res2:
Double = 2.0
scala> (2.0).unary_res3:
Double = 2.0
The only identifiers that can be used as prefix operators are +, ,
!, and .
Thus, if you define a method named unary_!, you could invoke that method
on a value or variable of the appropriate type using prefix operator notation,
such as !p. But if you define a method named unary_*, you wouldn’t be able
to use prefix operator notation, because * isn’t one of the four identifiers that
can be used as prefix operators. You could invoke the method normally, as
in p.unary_*, but if you attempted to invoke it via *p, Scala will parse it as
*.p, which is probably not what you had in mind!8
Postfix operators are methods that take no arguments, invoked without a
dot or parentheses. As mentioned in the previous chapter, if a method takes
no arguments, the convention is that you include parentheses if the method
has side effects, such as println(), but leave them off if the method has no
side effects, such as toLowerCase invoked on a String:
scala> val s = "Hello, world!"
s: java.lang.String = Hello, world!
scala> s.toLowerCase
res4: java.lang.String = hello, world!
In this latter case of a method that requires no arguments, you can alternatively
leave off the dot and use postfix operator notation:
scala> s toLowerCase
res5: java.lang.String = hello, world!
8All is not necessarily lost, however. There is an extremely slight chance your program
with the *p might compile as C++.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.4 Chapter 5 · Basic Types and Operations 125
In this case, toLowerCase is used as a postfix operator on the operand s.
To see what operators you can use with Scala’s value types, therefore,
all you really need to do is look at the methods declared in the value type’s
classes in the Scala API documentation. Given that this is a Scala tutorial,
however, we’ll give you a quick tour of most of these methods in the next few
sections. If you’re a Java guru in a rush, you can likely skip to Section 5.8
on page 131.
5.4 Arithmetic operations
You can invoke arithmetic methods via infix operator notation for addition
(+), subtraction (),
multiplication (*), division (/), and remainder (%), on
any integer or floating point type. Here are some examples:
scala> 1.2 + 2.3
res6: Double = 3.5
scala> 3 1
res7: Int = 2
scala> 'b' '
a'
res8: Int = 1
scala> 2L * 3L
res9: Long = 6
scala> 11 / 4
res10: Int = 2
scala> 11 % 4
res11: Int = 3
scala> 11.0f / 4.0f
res12: Float = 2.75
scala> 11.0 % 4.0
res13: Double = 3.0
When both the left and right operands are integer types (Int, Long, Byte,
Short, or Char), the / operator will tell you the whole number portion of the
quotient, excluding any remainder. The % operator indicates the remainder
of an implied integer division.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.5 Chapter 5 · Basic Types and Operations 126
Note that the floating point remainder you get with % is not the one
defined by the IEEE 754 standard. The IEEE 754 remainder uses rounding
division, not truncating division, in calculating the remainder, so it is quite
different from the integer remainder operation. If you really want an IEEE
754 remainder, you can call IEEEremainder on scala.Math, as in:
scala> Math.IEEEremainder(11.0, 4.0)
res14: Double = 1.0
Numeric types also offer unary prefix + and operators
(methods
unary_+ and unary_),
which allow you to indicate a literal number is positive
or negative, as in 3
or +4.0. If you don’t specify a unary + or ,
a
literal number is interpreted as positive. Unary + exists solely for symmetry
with unary ,
but it has no effect. The unary can
also be used to negate a
variable. Here are some examples:
scala> val neg = 1 + 3
neg: Int = 2
scala> val y = +3
y: Int = 3
scala> neg
res15: Int = 2
5.5 Relational and logical operations
You can compare two value types with the relational methods greater than
(>), less than (<), greater than or equal to (>=), and less than or equal to (<=),
which like the equality operators, yield a Boolean result. In addition, you
can use the unary ! operator (the unary_! method) to invert a Boolean
value. Here are a few examples:
scala> 1 > 2
res16: Boolean = false
scala> 1 < 2
res17: Boolean = true
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.5 Chapter 5 · Basic Types and Operations 127
scala> 1.0 <= 1.0
res18: Boolean = true
scala> 3.5f >= 3.6f
res19: Boolean = false
scala> 'a' >= 'A'
res20: Boolean = true
scala> val thisIsBoring = !true
thisIsBoring: Boolean = false
scala> !thisIsBoring
res21: Boolean = true
The logical methods, logical-and (&&), and logical-or (||), take Boolean
operands in infix notation, and yield a Boolean result. For example:
scala> val toBe = true
toBe: Boolean = true
scala> val question = toBe || !toBe
question: Boolean = true
scala> val paradox = toBe && !toBe
paradox: Boolean = false
The logical-and and logical-or operations are short-circuited as in Java.
Expressions built from these operators are only evaluated as far as needed to
determine the result. In other words, the right hand side of logical-and and
logical-or expressions won’t be evaluated if the left hand side determines the
result. For example, if the left hand side of a logical-and expression evaluates
to false, the result of the expression will definitely be false, so the right
hand side is not evaluated. Likewise, if the left hand side of a logical-or
expression evaluates to true, the result of the expression will definitely be
true, so the right hand side is not evaluated. Here are some examples:
scala> def salt() = { println("salt"); false }
salt: ()Boolean
scala> def pepper() = { println("pepper"); true }
pepper: ()Boolean
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.6 Chapter 5 · Basic Types and Operations 128
scala> salt() && pepper()
salt
res22: Boolean = false
scala> pepper() && salt()
pepper
salt
res23: Boolean = false
Notice that in the second case, both pepper and salt run. In the first comparison,
only salt runs. Because salt returns false, there is no need to
check what pepper returns.
By the way, you may be wondering how short circuiting can work if operators
are just methods. A normal method call evaluates all of the arguments
before entering the method, so how can a method then choose not to evaluate
its second argument? The answer is that all Scala methods have a facility
for delaying the evaluation of their arguments, or even declining to evaluate
them at all. The facility is called by-name parameters, and is discussed in
Chapter 9.
5.6 Object equality
If you want to compare two objects to see if they are equal, you should
usually use either ==, or its inverse !=. Here are a few simple examples:
scala> 1 == 2
res24: Boolean = false
scala> 1 != 2
res25: Boolean = true
scala> 2 == 2
res26: Boolean = true
These operations actually apply to all objects, not just basic types. For example,
you can use it to compare lists:
scala> List(1,2,3) == List(1,2,3)
res27: Boolean = true
scala> List(1,2,3) == List(4,5,6)
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.6 Chapter 5 · Basic Types and Operations 129
res28: Boolean = false
Going further, you can compare two objects that have different types:
scala> 1 == 1.0
res29: Boolean = true
scala> List(1,2,3) == "hello"
res30: Boolean = false
You can even compare against null, or against things that might be null.
No exception will be thrown:
scala> List(1,2,3) == null
res31: Boolean = false
scala> null == List(1,2,3)
res32: Boolean = false
As you see, == has been carefully crafted so that you get just the equality
comparison you want in many cases. This is accomplished with a very simple
rule: first check each side for null, and if neither side is null, call the
equals method. Since equals is a method, the precise comparison you get
depends on the type of the left-hand argument. Since there is an automatic
null check, you do not have to do the check yourself.
This kind of comparison will yield true on different objects, so long as
their contents are the same and their equals method is written to be based on
contents. For example, here is a comparison between two strings that happen
to have the same five letters in them:
scala> ("he" + "llo") == "hello"
res33: Boolean = true
Note that this is different from Java’s == operator, which you can use
to compare both primitive and reference types. On reference types, Java’s
== compares reference equality, which means the two variables point to the
same object on the JVM’s heap. Scala provides this facility, as well, under
the name eq. However, eq and its opposite, ne, only apply to objects that
directly map to Java objects. The full details about eq and ne are given in
Sections 10.15 and 10.16.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.7 Chapter 5 · Basic Types and Operations 130
5.7 Bitwise operations
Scala enables you to perform operations on individual bits of integer types
with several bitwise methods. The bitwise methods are: bitwise-and (&),
bitwise-or (|), and (or bitwise-xor) (ˆ).9 The unary bitwise complement
operator,  (the method unary_), inverts each bit in its operand. For example:
scala> 1 & 2
res34: Int = 0
scala> 1 | 2
res35: Int = 3
scala> 1 ˆ 3
res36: Int = 2
scala> 1
res37: Int = 2
The first expression, 1 & 2, bitwise-ands each bit in 1 (0001) and 2
(0010), which yields 0 (0000). The second expression, 1 | 2, bitwiseors
each bit in the same operands, yielding 3 (0011). The third expression,
1 ˆ 3, bitwise-xors each bit in 1 (0001) and 3 (0011), yielding 2
(0010). The final expression, 1, inverts each bit in 1 (0001), yielding -2
(111111111111111111111111111110).
Scala integer types also offer three shift methods: shift left (<<), shift
right (>>), and unsigned shift right (>>>). The shift methods, when used in
infix operator notation, shift the integer value on the left of the operator by
the amount specified by the integer value on the right. Shift left and unsigned
shift right fill with zeroes as they shift. Shift right fills with the highest bit
(the sign bit) of the left hand value as it shifts. Here are some examples:
scala> 1
>> 31
res38: Int = 1
scala> 1
>>> 31
res39: Int = 1
9The bitwise-xor method performs an exclusive or on its operands. Identical bits yield a
0. Different bits yield a 1. Thus 0011 ˆ 0101 yields 0110
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.8 Chapter 5 · Basic Types and Operations 131
scala> 1 << 2
res40: Int = 4
In the first example, 1
>> 31, -1 (binary
11111111111111111111111111111111) is shifted to the right 31 bit
positions. Since an Int consists of 32 bits, this operation effectively moves
the leftmost bit over until it becomes the rightmost bit.10 Since the >>
method fills with ones as it shifts right, because the leftmost bit of -1 is 1, the
result is identical to the original left operand, 32 one bits, or -1. In the second
example, 1
>>> 31, the leftmost bit is again shifted right until it is in the
rightmost position, but this time filling with zeros along the way. Thus the result
this time is binary 00000000000000000000000000000001, or 1. In the
final example, 1 << 2, the left operand, 1, is shifted left two position (filling
in with zeros), resulting in binary 00000000000000000000000000000100,
or 4.
5.8 Operator precedence and associativity
Operator precedence determines which parts of an expression are evaluated
before the other parts. For example, the expression 2 + 2 * 7 evaluates to 16,
not 28, because the * operator has a higher precedence than the + operator.
Thus the 2 * 7 part of the expression is evaluated before the 2 + 2 part. You
can of course use parentheses in expressions to clarify evaluation order or
to override precedence. For example, if you really wanted the result of the
expression above to be 28, you could write the expression like this:
(2 + 2) * 7
Given that Scala doesn’t have operators, per se, just a way to use methods
in operator notation, you may be wondering how operator precedence works.
Scala decides precedence based on the first character of the methods used in
operator notation. If the method name starts with a *, for example, it will
have a higher precedence than a method that starts with a +. Thus 2 + 2 * 7
will be evaulated as 2 + (2 * 7), and a +++ b *** c (in which a, b, and
10The leftmost bit in an integer type is the sign bit. If the leftmost bit is 1, the number is
negative. If 0, the number is positive.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.8 Chapter 5 · Basic Types and Operations 132
c are values or variables, and +++ and *** are methods) will be evaluated
a +++ (b *** c), because the *** method has a higher precedence than the
+++ method.
Table 5.3 shows the precedence given to the first character of a method
in decreasing order of precedence, with characters on the same line having
the same precedence. The higher a character is in this table, the higher the
precedence of methods that start with that character.
Table 5.3: Operator precedence
(all other special characters)
* / %
+ :
= !
< >
&
ˆ
|
(all letters)
Here’s an example:
scala> 2 << 2 + 2
res41: Int = 32
The << method starts with the character <, which appears lower in Table
5.3 than the character +, which is the first and only character of the +
method. Thus << will have lower precedence than +, and the expression
will be evaluated by first invoking the + method, then the << method, as in
2 << (2 + 2). 2 + 2 is 4, by our math, and 2 << 4 yields 32. Here’s another
example:
scala> 2 + 2 << 2
res42: Int = 16
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.9 Chapter 5 · Basic Types and Operations 133
Since the first characters are the same, the methods will be invoked in
the same order. First the + method will be invoked, then the << method. So
2 + 2 will again yield 4, and 4 << 2 is 16.
When multiple operators of the same precedence appear side by side
in an expression, the associativity of the operators determines the order of
evaluation. The associativity of an operator in Scala is determined by its last
character. As mentioned in the previous chapter in footnote 2 on page 70, any
method that ends in a ‘:’ character is invoked on its right operand, passing in
the left operand. Methods that end in any other character are the other way
around. They are invoked on their left operand, passing in the right operand.
So a * b yields a.*(b), but a ::: b yields b.:::(a). This associativity rule
also plays a role when multiple operators of the same precedence appear side
by side. If the methods end in :, they are evaluated right to left; otherwise,
they are evaluated left to right. For example, a ::: b ::: c is evaluated
a ::: (b ::: c). But a * b *c is evaluated (a * b) * c.
Operator precedence is part of the Scala language. You needn’t be afraid
to use it. But on the other hand, if you find yourself attempting to show off
your knowledge of precedence, consider using parentheses to clarify what
operators are operating upon what expressions. Perhaps the only precedence
you can truly count on other programmers knowing without looking up is
that multiplicative operators, *, /, and %, have a higher precedence than
the additive ones + and .
Thus even if a + b << c yields the result you
want without parentheses, the extra clarity you get by writing (a + b) << c
may reduce the frequency with which your peers utter your name in operator
notation, for example, by shouting in disgust, “bills !*&ˆ% code!.”11
5.9 Rich wrappers
You can invoke many more methods on Scala’s basic types than were described
in the previous sections. A few examples are shown in Table 5.4.
These methods are available via implicit conversions, a technique that will
be described in detail in Chapter 19. All you need to know for now is that
for each basic type described in this chapter, there is also a “rich wrapper”
that provides several additional methods. So, to see all the available methods
11By now you should be able to figure out that given this code, the Scala compiler would
invoke (bills.!*&ˆ%(code)).!().
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.10 Chapter 5 · Basic Types and Operations 134
Table 5.4: Some Rich Operations
Code Result
0 max 5 5
0 min 5 0
2.7
abs 2.7
2.7
round 3L
1.5 isInfinity false
(1.0 / 0) isInfinity true
4 to 6 Range(4, 5, 6)
"bob" capitalize "Bob"
"robert" drop 2 "bert"
Table 5.5: Rich Wrapper Classes
Basic Type Rich Wrapper
Byte scala.runtime.RichByte
Short scala.runtime.RichShort
Int scala.runtime.RichInt
Char scala.runtime.RichChar
String scala.runtime.RichString
Float scala.runtime.RichFloat
Double scala.runtime.RichDouble
Boolean scala.runtime.RichBoolean
on the basic types, you should look at the API documentation on the rich
wrapper for each basic type. Those classes are listed in Table 5.5.
5.10 Conclusion
The main take-aways from this chapter are that operators in Scala are method
calls, that implicit conversions to rich variants exist for Scala’s basic types
that add even more useful methods. In the next chapter, we’ll show you what
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 5.10 Chapter 5 · Basic Types and Operations 135
it means to design objects in a functional style.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 6
Functional Objects
A common thing said about OO is that an object “encapsulates state, behavior
and identity”. In Chapter 4 you have seen a class ChecksumCalculator
where the state was encapsulated in a variable. However, there are many
useful classes that do not encapsulate mutable state, because they describe
something that is immutable. Cases of immutable objects are already found
in Java: Take java.lang.String or java.lang.Integer, for example.
As a functional language, Scala puts great emphasis on such immutable objects.
In this chapter, we present as a case study the design of a class for
Rational numbers, which are immutable objects. On the way, you’ll learn
more aspects of object-oriented programming in Scala: class parameters and
constructors, methods and operators, private members, overloading, and self
references.
6.1 A class for rational numbers
A simple example is rational numbers. A rational number is a fraction x
y
where x and y are whole numbers. x is called the numerator or the fraction
and y is called the denominator. Examples of rational numbers are 1
2 , 2
3 ,
112
239 , or 21
. Compared to floating point numbers, rational numbers have the
advantage that fractions are represented exactly, without any rounding or
approximation.
Computation on rational numbers follows the usual laws. For instance,
to compute 12
+ 2
3 , you first obtain the same denominator by multiplying both
parts of the left operand with 3 and both parts of the right operand with 2.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 6.1 Chapter 6 · Functional Objects 137
This gives 3
6 + 4
6 . After that you add the two numerators, which gives 76
.
Multiplying two rational numbers is done by multiplying their numerators
and multiplying their denominators. For instance, 1
2  25
gives 2
10 , which can
be represented more compactly as 15
. Division is done by swapping numerator
and denominator of the right operand and then multiplying. For instance
1
2=3
5 is the same as 1
2  53
or 56
.
One—maybe rather trivial—observation is that rational numbers do not
have mutable state. You can add a constant to a rational number, but the
result will be a new rational number. The original number will not have
“changed”.
We’ll now design a class which implements rational numbers, and the
arithmetic operations on them. Since rational numbers are by their nature
unchangeable, the class itself will be purely functional. It will not contain
any mutable fields.
Here is a first version of class Rational. It will be augmented and refined
later on in this chapter.
class Rational(n: Int, d: Int) {
val numer: Int = n
val denom: Int = d
def add(that: Rational): Rational =
new Rational(numer * that.denom + that.numer * denom,
denom * that.denom)
def sub(that: Rational): Rational =
new Rational(numer * that.denom that.
numer * denom,
denom * that.denom)
def mul(that: Rational): Rational =
new Rational(numer * that.numer, denom * that.denom)
def div(that: Rational): Rational =
new Rational(numer * that.denom, denom * that.numer)
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 6.2 Chapter 6 · Functional Objects 138
6.2 Choosing between val and var
Class Rational contains two fields, numer and denom, which are both defined
as vals. This means that the fields are immutable; they won’t change
after their initial assignment. You could have also defined the fields as vars.
This would have led to Rational number objects that can change their value
over their lifetime. However, from a mathematical standpoint, this makes little
sense: A rational number is defined by its value, so if you can change
the value, you have a variable containing a rational number, not a rational
number itself.
If you’re coming from an imperative background, such as Java, C++, or
C#, you may think of var as a regular variable and val as a special kind
of variable. From the Java perspective, for example, a val is like a final
variable. On the other hand, if you’re coming from a functional background,
such as Haskell, OCaml, or Erlang, you might think of val as a regular variable
and var as akin to blasphemy. The Scala perspective, however, is that
val and var are just two different tools in your toolbox, both useful, neither
inherently evil. The ChecksumCalculator of Chapter 4 clearly required a
mutable field, whereas the Rational class in this chapter equally clearly
should be immutable. Scala encourages you to reach, without guilt, for the
best tool for the job at hand. Nevertheless, even if you agree with this balanced
philosophy, you might be wondering how to apply val and var most
effectively.
If you’re coming from an imperative background, you may find yourself
using vars everywhere when you start programming in Scala. This is actually
a scientifically recognized disease known as varmonia. Don’t worry.
There’s a cure, which is simply this: challenge vars in your code, and where
possible and appropriate, try and change them into vals. The reason we
recommend you prefer vals over vars is that reassignable values are harder
to reason about. An immutable object is just itself, whereas an object with
mutable fields changes its value over time. You then need to worry whether
the changes and observations of an object are all done in the right order. This
task is hard enough for sequential programs, but it becomes a huge source
of trouble as soon as your program has concurrent threads. By contrast, immutable
objects can be easily shared between computations, whether they
are sequential or concurrent.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 6.3 Chapter 6 · Functional Objects 139
6.3 Class parameters and constructors
Classes in Scala can take parameters. For instance, class Rational takes two
parameters n and d which represent the numerator and denominator of the
fraction. Assuming you have saved the definition of class Rational above
in a file Rational.scala, you can create Rational numbers as follows:
scala> :load Rational.scala
Loading Rational.scala...
defined class Rational
scala> new Rational(1,2)
res0: Rational = Rational@11af7bb
One difference between Java and Scala concerns constructors. In Scala,
classes can take parameters directly, whereas in Java, classes have constructors,
which can take parameters. The Scala notation is more concise – class
parameters can be used directly in the body of the class; there’s no need to
define fields and write assignments which copy constructor parameters into
fields. This can yield substantial savings in boilerplate code; especially for
small classes.
In fact, “under the covers”, a Scala class does have a constructor, even
though it is not directly visible to user programs. This constructor is called
the primary constructor of the class. It takes the class parameters and executes
all statements of the class body. You can verify this by adding a print
statement right into the body of Rational:
class Rational(n: Int, d: Int) {
println("created: "+n+"/"+d)
... // rest of class is as before
}
If you re-load the changed class into the interpreter, you will get something
like the following:
scala> :load Rational.scala
Loading Rational.scala...
defined class Rational
scala> new Rational(1,2)
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 6.4 Chapter 6 · Functional Objects 140
created: 1/2
res1: Rational = Rational@29483
By the way, the Scala interpreter shell offers a shortcut here: you can “replay”
a whole interpreter session using the :replay command. So a shorter
way to try out the changed class Rational would be like this:
scala> :replay
Replaying: :load Rational.scala
Loading Rational.scala...
defined class Rational
Replaying: new Rational(1,2)
created: 1/2
res1: Rational = Rational@10c81a6
6.4 Multiple constructors
Sometimes one wants multiple constructors in a class. Scala supports this as
well, through auxiliary constructors. An example of a auxiliary constructor
is found in the following version of Rational:
class Rational(n: Int, d: Int) {
def this(n: Int) = this(n, 1)
println("created: "+n+"/"+d)
// rest of class is as before
}
Secondary constructors in Scala start with def this(...); In the code
above, an auxiliary constructor is used to create an instance of Rational
with a default value of 1 for the denominator. It does this by calling the primary
constructor with the given parameter n and 1 as arguments. Now, if
you feed the following to the scala shell:
scala> val y = new Rational(3)
you should see:
created: 3/1
y: Rational = Rational@de1520
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 6.5 Chapter 6 · Functional Objects 141
Every auxiliary constructor must call another constructor of the same class
as its first action. The called constructor is either the primary constructor
(as in the example above), or else another auxiliary constructor that comes
textually before the calling constructor. The net effect of this is that every
constructor invocation in Scala will end up eventually calling the primary
constructor of the class. The primary constructor is thus the single point of
entry of a class.1
6.5 Reimplementing the toString method
The current version of Rational does not display in a nice way. It’s time to do
something about this. When the interpreter prints out the value of a rational
number, it invokes the number’s toString method. This method has a default
implementation in Scala’s (and Java’s) root class Object, where it just
prints the class name and a hexadecimal number. This default implementation
can be overridden by adding a method toString to class Rational:
override def toString() = numer+"/"+denom
The override modifier in front of a method definition signals that a previous
method definition is overridden; more on this in Chapter 10.
You can test the new behavior of Rationals in the interpreter (since now
numbers display correctly, you can remove the println statement from the
body of class Rational):
scala> val x = new Rational(1, 3)
x: Rational = 1/3
scala> val y = new Rational(5, 7)
y: Rational = 5/7
scala> val z = new Rational(3, 2)
z: Rational = 3/2
scala> x.add(y).mul(z)
res7: Rational = 66/42
1This is a little bit more restrictive than in Java, in which any constructor can directly
invoke a constructor of the superclass.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 6.6 Chapter 6 · Functional Objects 142
6.6 Private methods and fields
So far so good. But there is still something amiss: The numerator and denominator
of a rational are unnecessarily large – it prints 66/42 instead of
11/7. It would be better to normalize the number by dividing both numerator
and denominator with any common divisors they might have. You could
do this normalization in every arithmetic operation, but that would lead to a
lot of repetition. A more elegant technique is to normalize when a rational
number is created. Here’s how this is done:
class Rational(n: Int, d: Int) {
private def gcd(a: Int, b: Int): Int =
if (b == 0) a else gcd(b, a % b)
private val g = gcd(n, d)
val numer: Int = n / g
val denom: Int = d / g
// rest of class as before
}
The new version of Rational has a private method gcd and a private field
g. As in Java, a private method can be accessed only from inside the class
in which it is defined. There’s also protected, which restricts access to
a member to the class in which it is defined and all its subclasses. Chapter
13 contains more material on private and protected, and other ways
to control member visibility.
The gcd method computes the greatest common divisor of two numbers.
For instance gcd(12, 8) is 4. The g field takes the result of computing
the gcd of the two class parameters. The numer and denom fields then are
initialized to the corresponding class parameters divided by g.
You can test the correct behavior of Rational by creating a nonnormalized
rational number. If you type
scala> val x = new Rational(12, 8)
you should get
x: Rational = 3/2
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 6.7 Chapter 6 · Functional Objects 143
6.7 Self references
Just like in Java, the reserved word this refers to the currently executing
object. As an example, consider adding a method, lessThan, which tests
whether the given rational is smaller than a parameter:
def lessThan(that: Rational) =
this.numer * that.denom < that.numer * this.denom
Here, this.numer refers to the numerator of the object in which the
lessThan method is executed. You can also leave off the this-prefix and
write just numer; the two notations are equivalent.
As an example where you can’t do without this, consider adding a max
method to class Rational that returns the greater of the given rational number
and an argument:
def max(that: Rational) =
if (this.lessThan(that)) that else this
Here, the first this is redundant, you could have equally well written
(lessThan(that)). But the second this represents the result of the
method in the case where the test returns false; if you omit it, there would be
nothing left to return!
6.8 Defining operators
The current implementation of Rationals is OK as it stands, but it could be
made more convenient to use. You might ask yourself why you can write
x * y + z
if x, y, and z are integers or floating point numbers, but you have to write
x.mul(y).add(z)
or at least
x mul y add z
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 6.8 Chapter 6 · Functional Objects 144
if they are rational numbers. There’s no convincing reason why this should
be so. Rational numbers are numbers just like others (in a mathematical
sense they are even more natural than, say floating point numbers). Why
should you not use the natural arithmetic operators on them? In Scala you
can do this. In the rest of this chapter, we walk you through the improvements
of the Rational class that get you there.
The first step is to replace add and friends by the usual mathematical
symbols. This is straightforward, as +, ,
*, / are legal identifiers in Scala.
So you simply define methods with these names:
class Rational(n: Int, d: Int) {
def this(n: Int) = this(n, 1)
private def gcd(a: Int, b: Int): Int =
if (b == 0) a else gcd(b, a % b)
private val g = gcd(n, d)
val numer: Int = n / g
val denom: Int = d / g
def +(that: Rational): Rational =
new Rational(numer * that.denom + that.numer * denom,
denom * that.denom)
def (
that: Rational): Rational =
new Rational(numer * that.denom that.
numer * denom,
denom * that.denom)
def *(that: Rational): Rational =
new Rational(numer * that.numer, denom * that.denom)
def /(that: Rational): Rational =
new Rational(numer * that.denom, denom * that.numer)
override def toString() = numer+"/"+denom
}
With class Rational changed as above, you can now write
scala> val x = new Rational(1, 2); val y = new Rational(3, 4)
x: Rational = 1/2
y: Rational = 3/4
scala> (x + y) * x
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 6.9 Chapter 6 · Functional Objects 145
res0: Rational = 5/8
As always, the operator syntax on the last input line is equivalent to two
method calls. You could also have written
scala> (x.+(y)).*(x)
res1: Rational = 5/8
but this would be not as legible.
6.9 Identifiers in Scala
You have now seen the two most important ways to form an identifier in
Scala: alphanumeric and operator. Scala has very flexible rules for forming
identifiers. Besides the two forms you have seen there are also two others.
All four forms of identifier formation are described below.
An alphanumeric identifier starts with a letter or an underscore character,
which can be followed by further letters, digits, or underscore characters. So
examples of alphanumeric identifiers are:
bob x1 _out_ MAX_DECIMAL_NUMBER CamelCase
The ‘$’-character also counts as a letter, however it is reserved for identifiers
generated by the Scala compiler. Identifiers in user programs should not
contain ‘$’ character, even though it will compile; if they do this might lead
to name clashes with identifiers generated by the Scala compiler.
An operator identifier consists of one or more operator characters. Operator
characters are printable ASCII characters such as +, :, ?,  or #. More
precisely, an operator character belongs to the Unicode set of mathematical
symbols(Sm) or other symbols(So), or to the 7 Bit ASCII characters that are
not letters, digits, or one of the characters
_ ( ) [ ] { } . ; , " ' ‘
Examples of operator identifiers are:
+ ++ ::: <?> :>
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 6.9 Chapter 6 · Functional Objects 146
The Scala compiler will internally “mangle” operator identifiers to turn them
into legal Java identifiers with embedded ‘$’-characters. For instance:
scala> val :>
= "hi!"
$colon$minus$greater: java.lang.String = hi!
Because operator identifiers in Scala can become arbitrarily long, there is a
small incompatibility between Java and Scala. In Java, the input x<y
would
be parsed as four lexical symbols, so it would be equivalent to x < y.
In
Scala, <would
be parsed as a single identifier, giving x <y.
If you want
the first interpretation, you need to separate the ‘<' and the ‘'
characters
by a space. This is unlikely to be a problem in practice, as very few people
would write x<y
in Java without inserting spaces or parentheses between
the operators.
A mixed identifier consists of a alphanumeric identifier, which is followed
by an underscore and an operator identifier. Examples of mixed identifiers
are:
vector_+ success_? myvar_=
Mixed identifiers are useful if you want to attach some explanation to an
operator identifier, as in vector_+. The mixed identifier form myvar_= is
generated by the Scala compiler to support properties; more on that in Chapter
21.
A literal identifier is an arbitrary string enclosed in back-ticks ‘ ... ‘.
Examples of literal identifiers are
‘x‘ ‘<clinit>‘ ‘yield‘
The idea is that you can put any string that’s accepted by the runtime as an
identifier between back ticks. The result is always a Scala identifier. This
holds even if the name contained in the back ticks would be a Scala reserved
word. A typical use case is accessing the static yield method in Java’s
Thread class. You cannot write Thread.yield() because yield is a reserved
word in Scala. However, you can still name the method in back ticks,
e.g. Thread.‘yield‘().
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 6.10 Chapter 6 · Functional Objects 147
6.10 Method overloading
Back to class Rational. With the latest changes, you can now do arithmetic
operations in the natural style on rational numbers. But one thing still missing
is mixed arithmetic. For instance, you cannot multiply a rational number
by an integer because the operands of ‘*’ always have to be rationals. So for
a rational number r you can’t write r * 2, it must be r * new Rational(2),
which is less nice.
To make Rational even more convenient, you can add new methods to
the class that perform mixed arithmetic on rationals and integers:
class Rational {
... // as before
def +(that: Int): Rational = this + new Rational(that)
def (
that: Int): Rational = this new
Rational(that)
def *(that: Int): Rational = this * new Rational(that)
def /(that: Int): Rational = this / new Rational(that)
}
There are now two versions of each arithmetic operator method: one that
takes a rational as argument, the other which takes an integer. In other words,
the methods are overloaded. In a method call, the correct version of an overloaded
method is picked based on the types of the arguments. For instance,
if the argument y in x.*(y) is a Rational, the method * which takes a
Rational parameter is picked. But if the argument is an integer, the method
* which takes a Int parameter is picked instead. You can try this out in the
interpreter:
scala> val x = new Rational(2, 3)
x: Rational = 2/3
scala> val y = x * x
y: Rational = 4/9
scala> val z = y * 2
z: Rational = 8/9
The process of overloading resolution is very similar to what Java does. In
every case, the chosen overloaded version is the one which best matches the
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 6.11 Chapter 6 · Functional Objects 148
static types of the arguments. Sometimes there is no unique best matching
version; in that case the compiler will give you an “ambiguous reference”
error. To experiment with this, you can enter the following nonsensical line
in the interpreter:
val wrong = z * (throw new Error)
You should get:
<console>:5: error: ambiguous reference to overloaded definition,
both method * in class Rational of type (Int)Rational
and method * in class Rational of type (Rational)Rational
match argument types (Nothing)
val wrong = z * (throw new Error)
ˆ
The input line above will probably look a bit mystifying to you right now.
You’ll find out more background information about what goes on in Section
7.4. In short, the argument here is a throw-expression whose type is
Nothing, which is compatible with either Int or Rational. That’s why
overloading resolution could not pick one of the two overloaded variants of
the multiplication method.
6.11 Going further
There’s still room for improvement: Now that you can write r * 2, you might
also want to swap the operands, as in 2 * r. Unfortunately this does not work
yet:
scala> 2 * r
<console>:5: error: overloaded method value * with alternatives
(Double)Double <and> (Float)Float <and> (Long)Long <and> (Int)Int
<and> (Char)Int <and> (Short)Int <and> (Byte)Int cannot be
applied to (Rational)
val res2 = 2 * r
ˆ
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 6.12 Chapter 6 · Functional Objects 149
The problem here is that 2 * r is equivalent to 2.*(r), so it is a method call
on the number 2, which is an integer. But the Int class contains no multiplication
method which takes a Rational argument—it couldn’t because class
Rational has been written by you; it is not a standard class in the Scala
library.
However, there is another way to solve this problem in Scala: You can
create an implicit conversion which automatically converts integers to rationals
when needed. Try to add this line in the interpreter:
scala> implicit def intToRational(x: Int) = new Rational(x)
This defines a conversion method from Int to Rational. The implicit
modifier in front of the method tells the compiler to apply it automatically in
a number of situations. With the conversion defined, you can now retry the
example that failed before:
scala> val r = new Rational(2,3)
r: Rational = 2/3
scala> 2 * r
res0: Rational = 4/3
As you can glimpse from this example, implicit conversions are a very powerful
technique for making libraries more flexible and more convenient to
use. Because they are so powerful, they can also be easily misused. You’ll
find out more on implicit conversions in Chapter 19.
6.12 A word of caution
As this chapter has demonstrated, creating methods with operator names
and defining implicit conversions can help you design libraries for which
client code is concise and easy to understand. This is even easier to see
in Section 1.1 on page 29, where you can compare client code for Java’s
BigInteger with code for Scala’s BigInt. Scala gives you a great deal of
power to design such easy-to-use libraries, but please bear in mind that with
power comes responsibility.
If used unartfully, both operator methods and implicit conversions can
give rise to client code that is hard to read and understand. Because implicit
conversions are applied implicitly by the compiler, not explicitly writ-
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 6.13 Chapter 6 · Functional Objects 150
ten down in the source code, it can be non-obvious to client programmers
what implicit conversions are being applied. And although operator methods
will usually make client code more concise, they will only make it more
readable to the extent client programmers will be able to recognize and remember
the meaning of each operator.
The goal you should keep in mind as you design libraries is not merely
enabling concise client code, but readable, understandable client code. Conciseness
will often be a bit part of that readability, but you can take it too far.
By designing libraries that enable tastefully concise, readable, understandable
client code, you can help those client programmers work productively.
6.13 Conclusion
In this section, you have seen more elements of classes in Scala. You have
seen how to add parameters to a class, how to define several constructors,
how to define operators as methods, and how to customize classes so that
they are natural to use. Maybe most importantly, you should have taken
away from the treatment in this chapter that objects without any mutable
state manifested in vars are quite a natural way to code things in Scala.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 7
Built-in Control Structures
There are not many control structures built into Scala. The only control
structures are if, while, for, try, match, and function calls. The reason
Scala has so few is that it has included function literals since its inception.
Instead of accumulating one higher-level control structure after another in the
base syntax, Scala accumulates them in libraries. The next chapter will show
precisely how that is done. This one will show those few control structures
that are built in.
One thing you will notice is that almost all of Scala’s control structures
result in some value. This is the approach taken by functional languages, in
which programs are viewed as computing a value, thus the components of a
program should also compute values. You can also view this approach as the
logical conclusion of a trend already present in imperative languages. In imperative
languages, function calls can return a value, even though having the
called function update an output variable passed as an argument would work
just as well. In addition, imperative languages often have a ternary operator
(such as the ?: operator of C, C++, and Java), which behaves exactly like
if, but results in a value. Scala adopts this ternary operator model, but calls
it if. In other words, Scala’s if can result in a value. Scala then continues
this trend by having for, try, and match also result in values.
Programmers can use these result values to simplify their code, just as
they use return values of functions. Without this facility, the programmer
must create temporary variables just to hold results that are calculated inside
a control structure. Removing these temporary variables makes the code a
little simpler, and it also prevents many bugs where you set the variable in
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 7.1 Chapter 7 · Built-in Control Structures 152
one branch but forget to set it in another.
Overall, Scala’s basic control structures, minimal as they are, are sufficient
to provide all of the essentials from imperative languages. Further, they
allow you to shorten your code by consistently having result values. To show
you how all of this works, this chapter takes a closer look at each of Scala’s
basic control structures.
7.1 If expressions
Scala’s if works just like in many other languages. It tests a condition and
then executes one of two code branches depending on whether the condition
holds true. Here is a common example, written in an imperative style:
var filename = "default.txt"
if (!args.isEmpty)
filename = args(0)
This code declares a variable, filename, and initializes it to a default value.
It then uses an if expression to check whether any arguments were supplied
to the program. If so, it changes the variable to hold the value specified in
the arguments list. If there are no arguments, it leaves the variable set to the
default.
This code can be written more nicely, because Scala’s if is an expression
that returns a value. Here is the same example that uses an ifelse
expression and is written in a more functional style:
val filename =
if (!args.isEmpty)
args(0)
else
"default.txt"
This time, the if has two branches. If args is not empty, the initial element,
args(0), is chosen. Else, the default value is chosen. The if expression
results in the chosen value, and the filename variable is initialized with that
value.
This code is slightly shorter, but its real advantage is that it uses a val
instead of a var. Using a val is the more functional style, and it helps you in
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 7.1 Chapter 7 · Built-in Control Structures 153
much the same way as a final variable in Java. It tells you that the variable
will never change, saving you from scanning all code in the variable’s scope
to see if it ever changes.
A second advantage to using a val instead of a var is that it better supports
equational reasoning. The introduced variable is equal to the expression
that computes it, assuming that expression has no side effects. Thus,
any time you are about to write the variable name, you could instead write
the expression. Instead of println(filename), for example, you could just
as well write this:
println(if (!args.isEmpty) args(0) else "default.txt")
The choice is yours. You can write it either way. Using vals helps you safely
make this kind of refactoring as your code evolves over time.
For both of these reasons, you should look for opportunities to use vals
wherever possible. They make your code both easier to read and easier to
refactor.
Lastly, you may have wondered if an if without an else returns a value.
It does, just not a very useful one. The type of the result is Unit, which as
mentioned previously, means the expression results in no value. It turns out
that a value (and in fact, only one value) exists whose type is Unit. It is
called the unit value and is written (). The existence of () is how Scala’s
Unit differs from Java’s void. Try this in the interpreter:
scala> val a = if (false) "hi"
a: Unit = ()
scala> val b = if (true) "hi"
b: Unit = ()
scala> a == ()
res0: Boolean = true
Any type can be implicitly converted to Unit if need be, as illustrated
here:
scala> val c: Unit = "hi"
c: Unit = ()
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 7.2 Chapter 7 · Built-in Control Structures 154
When a value’s type is converted to Unit, all information is lost about
that value. In essence, () is the value that means no value. Its only purpose is
to let you use things like if-without-else expressions in contexts where an
expression is expected. The two other build-in control constructs that result
in (), while and do loops, are described next.
7.2 While loops
Scala’s while loop behaves just like in other languages such as Java. The
loop has a condition and a body, and the body is executed over and over as
long as the condition holds true. Here’s an example of a while loop used in a
function that takes an imperative approach to compute the greatest common
denominator of two Longs:
def gcdLoop(x: Long, y: Long): Long = {
var a = x
var b = y
while (a != 0) {
val temp = a
a = b % a
b = temp
}
b
}
Scala also has a dowhile
loop. This is a variant of the while loop that
simply tests the condition after the loop body instead of before. Here’s an
example:
var line = ""
do {
line = readLine
println("Read: " + line)
} while (!line.isEmpty)
As mentioned previously, both while and do loops result in (), the unit
value.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 7.2 Chapter 7 · Built-in Control Structures 155
Because the while loop results in no value, it is often left out of pure
functional languages. Such languages have expressions, not loops. Scala
includes the while loop nonetheless, because sometimes an imperative solution
can be more readable, especially to programmers with a predominantly
imperative background. For example, if you want to code an algorithm that
repeats a process until some condition changes, a while loop can express it
directly while the functional alternative, which likely uses recursion, may be
a bit less obvious to some readers of the code.
For example, here’s a more functional way to determine a greatest common
denominator of two numbers:
def gcd(x: Long, y: Long): Long =
if (b == 0) a else gcd(b, a % b)
Given the same two values for x and y, the gcd function will return the same
result as the gcdLoop function, shown earlier in this section. The difference
between these two approaches is that gcdLoop is written in an imperative
style, using vars and and a while loop, whereas gcd is written in a
more functional style that involves recursion (gcd calls itself) and requires
no vars. Although the functional gcd is clearly more concise than the imperative
gcdLoop, is it more readable? Programmers with a predominantly
imperative background may actually find the more verbose gcdLoop easier
to understand.
In general, we recommend you challenge while loops in your code in the
same way you challenge vars. In fact, while loops and vars often go hand
in hand. Because while loops don’t result in a value, to make any kind of
difference to your program, the while loops will often need to update vars.
You can see this in action in the gcdLoop example shown previously. As
that while loop does its business, it updates vars a and b. Thus, we suggest
you be a bit suspicious of while loops in your code. If there isn’t a good
justification for a particular while or do loop, try and find a way to do the
same thing without it. That said, please keep in mind that your ultimate
goal should not be to show off to your collegues how smart you are, but to
maximize the readability and understandability of your code for the people
who will be reading it.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 7.3 Chapter 7 · Built-in Control Structures 156
7.3 For expressions
Scala’s for expression is a Swiss army knife of enumeration. It lets you combine
a few simple ingredients in different ways to express a wide variety
of enumerations. Simple uses allow common enumerations such as iterating
through a sequence of integers. More advanced expressions can iterate
over multiple collections of different kinds, can filter out elements based on
arbitrary conditions, and can produce new collections.
Iteration through collections
The simplest thing you can do with for is to iterate through all the elements
of an entire collection. For example, here is some code that prints out all
files in the current directory.
val filesHere = (new java.io.File(".")).listFiles
for (file <filesHere)
println(file)
The list of files is computed using methods from the Java API. The code creates
a File on the current directory, and then it calls the standard listFiles
method.
To print out all of the files, the for expression iterates through them
and calls println on each one. The file <filesHere
syntax creates
a new variable file and then causes that variable to be set to one element
of filesHere at a time. For each setting of the variable, the body of the for
expression, println(file), is executed.
This syntax works for any kind of collection, not just arrays.1 One convenient
special case is the Range type, which you briefly saw in Table 5.4 on
page 134. You can create Ranges using syntax like “1 to 5,” and you can
iterate through them with a for. Here is a simple example:
scala> for (i <1
to 5)
| println("Iteration " + i)
Iteration 1
Iteration 2
1To be precise, the expression to the right of the <symbol
must extend the
scala.Iterable trait.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 7.3 Chapter 7 · Built-in Control Structures 157
Iteration 3
Iteration 4
Iteration 5
Iterating through integers like this is common in Scala, but not nearly as
much as in other languages. In other languages, you might use this facility
to iterate through an array, like this:
// Not common in Scala...
for (i <0
to filesHere.length 1)
println(filesHere(i))
This for expression introduces a variable i, sets it in turn to each integer
between 0 and filesHere.length 1,
and executes the body of the for
expression for each setting of i. For each setting of i, the i’th element of
filesHere is extracted and processed.
The reason this kind of iteration is less common in Scala is that you
can just as well iterate over the collection directly. If you do, your code
becomes shorter and you sidestep many of the off-by-one errors that arise so
frequently when iterating through arrays. Should you start at 0 or 1? Should
you add -1, +1, or nothing to the final index? Such questions are easily
answered, but easily answered wrong. It is safer to avoid such questions
entirely.
Filtering
Sometimes you do not want to iterate through a collection in its entirety. You
want to filter it down to some subset. You can do this with a for expression
by adding a semicolon plus an if clause to your for expression. For example,
the following code lists only those files in the current directory whose names
end with .scala:
for (file <filesHere;
if file.getName.endsWith(".scala"))
println(file)
You could alternatively accomplish the same goal with this code:
for (file <filesHere)
if (file.getName.endsWith(".scala"))
println(file)
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 7.3 Chapter 7 · Built-in Control Structures 158
This code yields the same output as the previous code, and likely looks more
familiar to programmers with an imperative background. The imperative
form, however, is only an option because this particular for expression is
executed for its printing side-effects and results in the unit value (). As
will be demonstrated later in this section, the for expression is called an
“expression” because it can result in a interesting value, a collection whose
type is determined by the for expressions’s <clauses.
You can include more tests if you want. Just keep adding clauses. For
example, to be extra defensive, the following code prints only files and not directories.
It does so by adding an if clause that checks the standard isFile
method.
for (
file <filesHere;
if file.isFile;
if file.getName.endsWith(".scala")
) println(file)
To make long for expressions easier to read, you can use curly braces instead
of parentheses. As usual inside curly braces, it is not necessary to put
semicolons at the ends of lines.
for {
file <filesHere
if file.isFile
if file.getName.endsWith(".scala")
} println(file)
Keep in mind that curly braces surrounding a for expressions’s <and
if
clauses serve the same purpose as parentheses. In particular, variables defined
in these clauses, such as file in the previous example, are available
to be used in the body of the for expression. In the previous example, for
instance, file is passed to println. The sole advantage of curly braces in
this case is that they allow you to leave off the semi-colons at the end of the
clauses, which the parentheses require.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 7.3 Chapter 7 · Built-in Control Structures 159
Nested iteration
If you add multiple <clauses,
you will get nested “loops.” For example,
the following for expression has two nested loops. The outer loop iterates
through filesHere, and the inner loop iterates through fileLines(file)
for any file that ends with .scala.
def fileLines(file: java.io.File) =
scala.io.Source.fromFile(file).getLines
def grep(pattern: String) =
for {
file <filesHere
if file.getName.endsWith(".scala")
line <fileLines(
file)
if line.trim.matches(pattern)
} println(file + ": " + line.trim)
grep(".*gcd.*")
Mid-stream assignment
Note that the previous code repeats the expression line.trim. This is a nontrivial
computation, so you might want to only compute it once. You can do
this by binding the result to a variable using an equals sign (=). The bound
variable is introduced and used just like a val, only with the val keyword
left out.
def grep(pattern: String) =
for {
file <filesHere
if file.getName.endsWith(".scala")
line <fileLines(
file)
trimmed = line.trim
if trimmed.matches(pattern)
} println(file + ": " + trimmed)
grep(".*gcd.*")
In this code, a variable named trimmed is introduced halfway through the
for expression. That variable is initialized to the result of line.trim. The
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 7.3 Chapter 7 · Built-in Control Structures 160
rest of the for expression then uses the new variable in a couple of places,
once in an if and once in a println.
Producing a new collection
While all of the examples so far have operated on the iterated values and then
forgotten them, you can also generate a value to remember for each iteration.
You simply prefix the body of the for expression by the keyword yield. For
example, here is a function that identifies the .scala files and stores them in
an array:
def scalaFiles =
for {
file <filesHere
if file.getName.endsWith(".scala")
} yield file
Each time the body of the for expression executes it produces one value, in
this case simply file. When the for expression completes, all of these values
are returned in a single expression. The type of the resulting collection is
based on the kind of collections processed in the iteration clauses. In this
case the result is an array, because filesHere is an array.
Be careful, by the way, where you place the yield keyword. The syntax
of a for-yield expression is like this:
for clauses yield body
The yield goes before the entire body. Even if the body is a block surrounded
by curly braces, put the yield before the first curly brace, not before
the last expression of the block. Avoid the temptation to write things
like this:
for (file <filesHere;
if file.getName.endsWith(".scala")) {
yield file // Syntax error!
}
Stepping back, for-yield is another way that Scala supports functional programming.
If you compute a collection this way, you can ignore integer
indexes and think less about the order things happen. You can focus on the
essence of the code: how the iteration works, and what it should produce.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 7.4 Chapter 7 · Built-in Control Structures 161
For example, in Section 4.6 you saw two versions of printMultiTable,
a function that prints a multiplication table to the standard output. Although
the second version, shown on page 107, is in a more functional style than the
first, shown on page 104, it can be made even more functional by refactoring
so that the function returns the multiplication table as a String. One way to
do this would be to use for experessions with yield like this:
def multiTable = {
val table = for (i <1
to 10) yield {
val row = for (j <1
to 10) yield {
val prod = (i * j).toString
String.format("%4s", Array(prod))
}
row.mkString + 'nn'
}
table.mkString
}
println(multiTable)
7.4 Try expressions
Scala’s exceptions behave just like in many other languages. Instead of returning
a value in the normal way, a method can terminate by throwing an
exception. The method’s caller can either catch and handle that exception,
or it can itself simply terminate, in which case the exception propagates to
the caller’s caller. The exception propagates in this way, unwinding the call
stack, until a method handles it or there are no more methods left.
Throwing exceptions
Throwing an exception looks the same as in Java. You create an exception
object and then you throw it with the throw keyword:
throw new NullPointerException
One note of interest is that throw returns a value, too... sort of. Here is
an example of “returning” a value from a throw:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 7.4 Chapter 7 · Built-in Control Structures 162
val half =
if (n % 2 == 0)
n / 2
else
throw new Exception("n must be even")
What happens here is that if n is even, half will be initialized to half of n. If
n is not even, then an exception will be thrown before half can be initialized
to anything at all. Because of this, it is safe to treat a thrown exception as
any kind of value whatsoever. Any context that tries to use the return from a
throw will never get to do so, and thus no harm will come.
Technically, an exception throw returns type Nothing. You can use a
throw as an expression even though it will never actually evaluate to anything.
This little bit of technical gymnastics might sound weird, but is
frequently useful in cases like the previous example. One branch of an
if computes a value, while the other throws an exception and computes
Nothing. The type of the whole if expression is then the type of that branch
which does compute something. Type Nothing is discussed further in Section
10.17.
Catching exceptions
You catch exceptions using the following syntax:
try {
doSomething()
}
catch {
case ex: IOException => println("Oops!")
case ex: NullPointerException => println("Oops!!")
}
This unusual syntax is chosen for its consistency with an important part of
Scala: pattern matching. Pattern matching, a powerful feature, is described
briefly in this chapter and in more detail in Chapter 12.
The behavior of this try-catch expression is exactly as in other languages
with exceptions.2 The body is executed, and if it throws an excep-
2One difference from Java that you’ll quickly notice in Scala is that unlike Java, Scala
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 7.4 Chapter 7 · Built-in Control Structures 163
tion, each catch clause is tried in turn. In this example, if the exception
is of type IOException, then the first clause will execute. If it is of type
NullPointerException, the second clause will execute. If the exception
is of neither type, then the try-catch will terminate and the exception will
propagate further.
The finally clause
You can wrap an expression with a finally clause if you want to cause
some code to execute even if a method is terminated early. For example,
you might want to be sure an open file gets closed even if a method exits by
throwing an exception.
val file = openFile()
try {
// use the file
}
finally {
file.close() // be sure to close the file
}
Yielding a value
As with most other Scala control structures, try-catch-finally results in a
value. For example, here is how you can try to parse a URL but use a default
value if the URL is badly formed:
val url =
try {
new URL(path)
}
catch {
case e: MalformedURLException =>
new URL("http://www.scalalang.
org")
}
does not require you to catch checked exceptions, or declare them in a throws clause. You
can declare a throws clause if you wish with the ATthrows annotation , but it is not required.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 7.5 Chapter 7 · Built-in Control Structures 164
The result is that of the try clause if no exception is thrown, or the relevant
catch clause if an exception is thrown and caught. If an exception is thrown
but not caught, the expression has no result at all. The value computed in
the finally clause, if there is one, is dropped. Usually finally clauses
do some kind of clean up such as closing a file, and the programmer would
prefer to hold onto the value computed in a different part of the try.
If you’re familiar with Java, it’s worth noting that Scala’s behavior differs
from Java only because Java’s tryfinally
does not result in a value. As
in Java, if a finally clause includes an explicit return statement, or throws an
exception, that return value or exception will “overrule” any previous one
that originated in the try block or one of its catch clauses. For example,
given:
def f(): Int = try { return 1 } finally { return 2 }
calling f() results in 2. By contrast, given:
def g(): Int = try { 1 } finally { 2 }
calling g() results in 1.
7.5 Match expressions
The final build-in control structure you will want to know about is the match
expression. Match expressions let you select from a number of alternatives,
just like switch statements in other languages. In general a match expression
lets you select using arbitrary patterns, as described in Chapter 12. The
general form can wait. For now, just consider using match to select among a
number of alternatives.
As an example, the following code reads a food name from the argument
list and prints a companion to that food.
val firstArg = if (args.length > 0) args(0) else ""
firstArg match {
case "salt" => println("pepper")
case "chips" => println("salsa")
case "eggs" => println("bacon")
case _ => println("huh?")
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 7.5 Chapter 7 · Built-in Control Structures 165
}
This match expression examines firstArg, which has been set to the first
argument out of the argument list. If it is the string “salt,” it prints “pepper,”
while if it is the string “chips,” it prints “salsa,” and so on. The default case is
specified with an underscore (_), a wildcard symbol frequently used in Scala
as a placeholder for a completely unknown value.
There are a few important differences from Java’s switch statement.
One is that any kind of constant, as well as other things, can be used in case
clauses in Scala, not just the integer-type and enum constants of Java’s case
statements. In this case, the alternatives are strings. Another difference is
that there are no breaks at the end of each alternative. Instead the break is
implicit, and there is no fall through from one alternative to the next. The
common case—not falling through—becomes shorter, and a source of errors
is avoided because programmers can no longer fall through by accident.
The most surprising difference, though maybe not so surprising by now,
is that match expressions result in a value. In the previous example, each
alternative in the match expression prints out a value. It would work just as
well to return the value rather than printing it, as shown here:
val firstArg = if (!args.isEmpty) args(0) else ""
val friend =
firstArg match {
case "salt" => "pepper"
case "chips" => "salsa"
case "eggs" => "bacon"
case _ => "huh?"
}
println(friend)
Here the value that results from the match expression is stored in the friend
variable. Aside from the code getting shorter (in number of tokens, anyway),
the code now disentangles two separate concerns: first it chooses a food, and
then it prints it.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 7.6 Chapter 7 · Built-in Control Structures 166
7.6 Living without break and continue
You may have noticed that there has been no mention of break or continue.
Scala leaves out these commands because they do not mesh well with function
literals, a feature described in the next chapter. It is clear what continue
means inside a while loop, but what would it mean inside a function literal?
While Scala supports both imperative and functional styles of programming,
in this case it leans slightly towards functional programming in exchange for
simplifying the language.
Do not worry, though. There are many ways to program without break
and continue, and if you take advantage of function literals, those alternatives
can often be shorter than the original code.
The simplest approach is to replace every continue by an if and every
break by a boolean variable. The boolean variable indicates whether
the enclosing while loop should continue. For example, suppose you are
searching through an argument list for a string that ends with “.scala” but
does not start with a hyphen. That is, you are looking for a Scala file but
want to ignore any options. In Java you could—if you were quite fond of
while loops, break, and continue—write the following:
// This is Java...
int i = 0;
boolean foundIt = false;
while (i < args.length) {
if (args[i].startsWith(""))
{
i = i + 1;
continue;
}
if (args[i].endsWith(".scala")) {
foundIt = true;
break;
}
i = i + 1;
}
To transliterate this directly to Scala, instead of doing an if and then a
continue, you could write an if that surrounds the entire remainder of the
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 7.6 Chapter 7 · Built-in Control Structures 167
while loop. To get rid of the break, you would normally add a boolean
variable indicating whether to keep going, but in this case you can reuse
foundIt. Using both of these tricks, the code ends up looking like this:
var i = 0
var foundIt = false
while (i < args.length && !foundIt) {
if (!args(i).startsWith(""))
{
if (args(i).endsWith(".scala"))
foundIt = true
}
i = i + 1
}
This version is quite similar to the original. All the basic chunks of code are
still there and in the same order. There is a test that i < args.length, a
check for "",
and then a check for ".scala".
To make the code more functional by getting rid of the var, one approach
you can try is to rewrite the loop as a recursive function. Continuing the
previous example, you could define a searchFrom function that takes an
integer as an input, searches forward from there, and then returns the index
of the desired argument. Using this technique the code would look like this:
def searchFrom(i: Int): Int =
if (i >= args.length) // don't go past the end
1
else if (args(i).startsWith(""))
// skip options
searchFrom(i + 1)
else if (args(i).endsWith(".scala")) // found it!
i
else
searchFrom(i + 1) // keep looking
val i = searchFrom(0)
This version is longer, but it has the advantage that searchFrom is given a
human-meaningful name.
Really, though, to write the cleanest, most concise code in Scala you
must get familiar with function literals. There are many methods in the Scala
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 7.7 Chapter 7 · Built-in Control Structures 168
API that take advantage of function literals, and you just have to know they
are there and be comfortable writing function literals. In this case, you could
write the code as briefly as the following:
args.findIndexOf(
arg => !arg.startsWith("")
&& arg.endsWith(".scala")
)
This version uses findIndexOf, one of many methods in the standard library
that help you with common looping patterns. This method finds the first element
of a collection that matches some condition, and returns its index, or
-1 if no matching element is found. The interesting thing is that the condition
is described right inline as a block of code. The function literal syntax
may still feel a bit unfamiliar to you, but if you squint your eyes at it you’ll
see that the argument to findIndexOf first checks for ""
and then checks
for ".scala". The entire block of code gets passed to the findIndexOf
method, and so findIndexOf can run that block of code whenever it needs
to do its job. Because findIndexOf knows just what you are trying to do,
you can leave out several details and the code becomes quite short.
7.7 Conclusion
Scala’s build-in control structures are minimal, but they do the job. They
act much like their imperative equivalents, but because they tend to result
in a value, they support a functional style too. Just as important, they are
careful in what they omit, thus leaving room for one of Scala’s most powerful
features, the function literal.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 8
Functions and Closures
When programs get larger, you need some way to divide them into smaller,
more manageable pieces. For dividing up control flow, Scala offers an approach
familiar to all experienced programmers: divide the code into functions.
In fact, Scala offers several ways to define functions that are not
present in Java. Besides methods, which are functions that are members of
some template (class, trait, or singleton object), there are also nested functions
and function literals. Functions can also be values. This chapter shows
how to write and use such functions in Scala.
8.1 Methods
The most common way to define a function is as a member of some object.
Such a function is called a method. As an example, here are two methods
that together read a file with a given name and print out all lines whose
length exceeds a given width. Every printed line is prefixed with the name
of the file it appears in:
import scala.io.Source
object LongLines {
def processFile(filename: String, width: Int) {
val source = Source.fromFile(filename)
for (line <source.
getLines)
processLine(filename, width, line)
}
def processLine(filename: String, width: Int, line: String) {
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.1 Chapter 8 · Functions and Closures 170
if (line.length > width)
println(filename+": "+line.trim)
}
}
The processFile method takes a filename and width as parameters. It
creates a Source object from the file name and processes all lines of that
file by calling the helper method processLine. The processLine method
takes three parameters: a filename, a width, and a line. It tests whether
the length of the line is greater than the given width, and, if so, it prints the
filename, followed by a colon, and the line.
To make a complete application, the two methods can be placed in an
object LongLines as follows:
import scala.io.Source
object LongLines {
def processFile ...
private def processLine ...
def main(args: Array[String]) {
val width = args(0).toInt
for (arg <args.
drop(1))
processFile(arg, width)
}
}
You could then use the LongLines application to find the long lines in a set
of files. Here’s an example:
scala LongLines 40 *.scala
LongLines.scala: def processFile(filename: String, width: Int) {
LongLines.scala: if (line.length > width) println(filename+": "+line)
LongLines.scala: val source = Source.fromFile(filename)
Queues.scala: class Queue[T](leading: List[T], trailing: List[T]) {
...
So far, this is very similar to what you would do in any object-oriented language.
However the concept of a function in Scala is more general than a
method. In fact, you can define and use a function in roughly the same way
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.2 Chapter 8 · Functions and Closures 171
as, say, an integer value. These added capabilities will be explained in the
following sections.
8.2 Nested functions
The construction of the processFile method in the previous section demonstrated
an important design principle of the functional programming style:
programs should be decomposed into many small functions that each do a
well-defined thing. Individual functions are often quite small. The advantage
of this style is that it gives a programmer many building blocks that
can be flexibly composed to do more difficult things. Each building block
should be simple enough to be understood individually. However, a problem
with the “many small functions” approach is that all these helper function
names have a tendency to pollute the program name space. In the interpreter
shell this not so much of a problem. But once functions are packaged in
reusable classes and objects, its desirable to hide the helper functions from
clients of a class, because they might not make sense individually. In Java,
you would use a private method for this purpose. This private-method approach
works in Scala as well, but Scala offers an alternative approach: you
can define functions inside other functions. Just like local variables, such
nested functions are visible only in their enclosing block. Here’s how you
can use this scheme to clean-up the processFile functions:
def processFile(filename: String, width: Int) {
def processLine(filename: String, width: Int, line: String) {
if (line.length > width) print(filename+": "+line)
}
val source = Source.fromFile(filename)
for (line <source.
getLines) {
processLine(filename, width, line)
}
}
Once you have moved the helper function processLine inside
processFile, another improvement becomes possible. Notice how
filename and width are passed unchanged into the helper function? This
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.3 Chapter 8 · Functions and Closures 172
is not necessary, because you can just use the parameters of the outer
processLine function:
def processFile(filename: String, width: Int) {
def processLine(line: String) {
if (line.length > width) print(filename+": "+line)
}
val source = Source.fromFile(filename)
for (line <source.
getLines) {
processLine(line)
}
}
Regarding scoping, nested function definitions behave just like nested variable
definitions: A nested definition can access everything that’s defined
around it, and the defined entity is visible only in the enclosing block. It’s
a simple principle, but very powerful, in particular in connection with firstclass
functions, which are described next.
8.3 First-class functions
In addition to methods and nested functions, Scala also offers first-class functions.
At runtime, first-class functions are represented by objects called function
values. Like other values, function values can be passed as parameters
to other functions, returned as results, or assigned to variables. In the source
code, you can express first-class functions in a shorthand form called function
literals. We introduced function literals in Chapter 2 and showed the
basic syntax in Figure 2.2 on page 61.
A function literal is compiled into a class that when instantiated at runtime
is a function value.1 Thus the distinction between function literals and
values is that function literals exist in the source code, whereas function values
exist as objects at runtime. You can use the term “first-class function”
to refer to either a function literal or value, as first-class function means the
1Every function value is an instance of some class that extends one of several FunctionN
traits in package scala, such as Function0 for functions with no parameters, Function1 for
functions with one parameter, and so on. Each FunctionN trait has an apply method used to
invoke the function.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.3 Chapter 8 · Functions and Closures 173
kind of function that’s represented at runtime by an object. Each function in
a Scala program, both in source code and at runtime, is either a method, a
nested function, or a first-class function.
Here is a simple example of a function literal that adds one to a number:
(x: Int) => x + 1
The => designates that this function converts the thing on the left (any integer
x) to the thing on the right (x + 1). So, this is a function mapping any integer
x to x + 1.
Function values are objects, so you can store them in variables if you
like. They are functions, too, so you can invoke them using the function-call
notation. Here is an example of both activities:
scala> var increase = (x: Int) => x + 1
increase: (Int) => Int = <function>
scala> increase(10)
res0: Int = 11
As with any other var, you can assign a different function value to increase
whenever you like. For example:
scala> increase = (x: Int) => x + 9999
increase: (Int) => Int = <function>
scala> increase(10)
res2: Int = 10009
If you want to have more than one statement in the function literal, surround
it by curly braces and put one statement per line. Just like a method, when
the function value is invoked, all of the statements will be executed, and the
value returned from the function is whatever the expression on the last line
generates.
scala> increase = (x: Int) => {
| println("Line 1")
| println("Line 2")
| println("Line 3")
| x + 1
| }
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.3 Chapter 8 · Functions and Closures 174
increase: (Int) => Int = <function>
scala> increase(10)
Line 1
Line 2
Line 3
res4: Int = 11
Careful library writers will give you a lot of opportunities to use first-class
functions. For example, a foreach method is available for all collections.2
It takes a function as an argument and invokes that function on each of its
elements. Here is how it can be used to print out all of the elements of a list:
scala> val someNumbers = List(11,
10,
5,
0, 5, 10)
someNumbers: List[Int] = List(11,
10,
5,
0, 5, 10)
scala> someNumbers.foreach((x: Int) => println(x))
11
10
5
0
5
10
As another example, collection types also have a filter method. This
method selects those elements of a collection that pass a test the user supplies.
That test is supplied using a function. For example, the function
(x: Int) => x > 0 could be used for filtering. This function maps positive
integers to true and all other integers to false. Here is how to use it with
filter:
scala> someNumbers.filter((x: Int) => x > 0)
res6: List[Int] = List(5, 10)
2The foreach method is defined in trait Iterable, which is extended by trait
Collection, whose subtypes include List, Set, Array, and Map.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.4 Chapter 8 · Functions and Closures 175
8.4 Short forms of function literals
Scala provides a number of ways to leave out redundant information and
write function literals more briefly. Keep your eyes open for these opportunities,
because they allow you to remove clutter from your code.
One way to make a function literal more brief is to leave off the parameter
types. For example, the previous example with filter could be written like
this:
scala> someNumbers.filter((x) => x > 0)
res7: List[Int] = List(5, 10)
The Scala compiler knows that x must be an integer, because it sees that you
are immediately using the function to filter a list of integers (referred to by
someNumbers). This is called target typing. The precise definition is not
important, though. In practice, you can try writing a function literal without
the argument type, and if the compiler gets confused, you can add the type.
Over time you’ll get a feel for which situations the compiler can and cannot
puzzle out.
Another way to remove useless characters is to leave out parentheses
when they are not needed. You can leave out the parentheses around a function
argument if the type is inferred:
scala> someNumbers.filter(x => x > 0)
res8: List[Int] = List(5, 10)
8.5 Placeholder syntax
To make a function literal even more concise, you can use underscores as
placeholders for one or more parameters, so long as each parameter appears
only one time within the function literal. For example, _ > 0 is very short notation
for a function that checks whether a value is greater than zero. Here’s
an example:
scala> someNumbers.filter(_ > 0)
res10: List[Int] = List(5, 10)
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.5 Chapter 8 · Functions and Closures 176
You can think of the underscore as a “blank” in the expression that needs
to be “filled in.” This blank will be filled in with an argument to the function
each time the function is invoked. For example, given that someNumbers
was initialized on page 174 to the value List(11,
10,
5,
0, 5, 10), the
filter method will replace the blank in _ > 0 first with a 11,
as in 11
> 0,
then with a 10,
as in 10
> 0, then with a 5,
as in 5
> 0, and so on to
the end of the List. The function literal _ > 0, therefore, is equivalent to the
slightly more verbose x => x > 0, as demonstrated here:
scala> someNumbers.filter(x => x > 0)
res11: List[Int] = List(5, 10)
Sometimes when you use underscores as placeholders for parameters,
the compiler might not have enough information to infer missing parameter
types. For example:
scala> val f = _ + _
<console>:4: error: missing parameter type for expanded
function ((x$1, x$2) => x$1.$plus(x$2))
val f = _ + _
ˆ
<console>:4: error: missing parameter type for expanded
function ((x$1: <error>, x$2) => x$1.$plus(x$2))
val f = _ + _
ˆ
In such cases, you can specify the types using a colon, like this:
scala> val f = (_: Int) + (_: Int)
f: (Int, Int) => Int = <function>
scala> f(5, 10)
res12: Int = 15
Note that _ + _ was expanded into a literal for a function that takes two
parameters. This is why you can use this short form only if each parameter
appears in the function literal at most once. The first underscore represents
the first parameter, the second underscore the second parameter, the third
underscore the third parameter, and so on.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.6 Chapter 8 · Functions and Closures 177
8.6 Partially applied functions
Although the previous examples substitute underscores in place of individual
parameters, you can also replace an entire parameter list with an underscore.
For example, instead of writing println(_), you can write println _.
Here’s an example:
someNumbers.foreach(println _)
Scala treats this short form exactly as if you had written the following:
someNumbers.foreach(x => println(x))
Thus, the underscore in this case is not a placeholder for a single parameter.
It is a placeholder for an entire parameter list. Remember that you need
to leave a space between the function name and the underscore, because
otherwise the compiler will think you are referring to a different symbol,
such as for example, a method named println_, which likely does not exist.
When you use an underscore in this way, you are expressing what’s
called a partially applied function. In Scala, when you invoke a function,
passing in any needed arguments, you apply that function to the arguments.
For example, given this function:
scala> def sum(a: Int, b: Int, c: Int) = a + b + c
sum: (Int,Int,Int)Int
You could apply the function sum to the arguments 1, 2, and 3 like this:
scala> sum(1, 2, 3)
res13: Int = 6
A partially applied function is an expression in which you don’t supply all
of the arguments needed by the function. Instead, you supply some, or none,
of the needed arguments. For example, here’s a partially applied function
expression involving sum, in which you supply none of the three required
arguments:
scala> val a = sum _
a: (Int, Int, Int) => Int = <function>
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.6 Chapter 8 · Functions and Closures 178
Given this code, the Scala compiler instantiates a function value that takes the
three Int parameters missing from the partially applied function expression,
sum _, and assigns a reference to that new function value to the variable
a. When you apply three arguments to this new function value, it will turn
around and invoke sum, passing in those same three arguments. Here’s an
example:
scala> a(1, 2, 3)
res14: Int = 6
This may seem a bit mysterious, so to make sure you understand what’s going
on, here’s what just happened: The variable named a refers to an object,
which is a function value. That function value is an instance of a class generated
automatically by the Scala compiler from the partially applied function
expression, sum _. The class generated by the compiler has an apply method
that takes three arguments.3 The reason the generated class’s apply method
takes three arguments is that three is the number of arguments missing in
the sum _ expression (because sum takes three arguments). The Scala compiler
translates the expression a(1, 2, 3) into an invocation of the function
value’s apply method, passing in the three arguments 1, 2, and 3. Thus,
a(1, 2, 3) is a short form for:
scala> a.apply(1, 2, 3)
res15: Int = 6
This apply method, defined in the class generated automatically by the
Scala compiler from the expression sum _, simply forwards those three missing
parameters to sum, and returns the result. In this case apply invokes
sum(1, 2, 3), and returns what sum returns, which is 6.
Another way to think about this kind of expression, in which an underscore
used to represent an entire parameter list, is as a way to transform a
method or nested function, either of which will have a named defined with
def, into a first-class function. For example, if you have a nested function,
such as sum(a: Int, b: Int, c: Int): Int, you can “wrap” it in a function
value whose apply method has the same parameter list and result types.
When you apply this function value to some arguments, it in turn applies sum
3The generated class extends trait Function3, which declares the three-arg apply
method.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.6 Chapter 8 · Functions and Closures 179
to those same arguments, and returns the result. Although you can’t assign a
method or nested function to a variable, or pass it as an argument to another
function, you can do these things if you wrap the method or nested function
in a function value by placing an underscore after its name.
Now, although sum _ is indeed a partially applied function, it may not
be obvious to you why it is called this. It has this name because you are
not applying that function to all of its arguments. In the case of sum _, you
are applying it to none of its arguments. But you can also express a partially
applied function by supply some but not all of the required arguments. Here’s
an example:
scala> val b = sum(1, _: Int, 3)
b: (Int) => Int = <function>
In this case, you’ve supplied the first and last argument to sum, but the middle
argument is missing. Since only one argument is missing, the Scala compiler
generates a new function class whose apply method takes one argument.
When invoked with that one argument, this functions apply method invokes
sum, passing in 1, the argument passed to the function, and 3. Here’s an
example:
scala> b(2)
res5: Int = 6
In this case, apply invoked sum(1, 2, 3).
scala> b(5)
res6: Int = 9
And in this case, apply invoked sum(1, 5, 3).
If you are writing a partially applied function expression in which you
leave off all parameters, such as println _ or sum _, you can express it more
concisely by leaving off the underscore if a function is required at that point
in the code. For example, instead of printing out each of the numbers in
someNumbers, which was defined on page 174, like this:
someNumbers.foreach(println _)
You could just write:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.6 Chapter 8 · Functions and Closures 180
someNumbers.foreach(println)
This last form is allowed only in places where a function is required, such as
the invocation of foreach in this example. The compiler knows a function
is required in this case, because foreach requires that a function be passed
as an argument. In situations where a function is not required, attempting to
use this form will cause a compilation error. Here’s an example:
scala> val c = sum
<console>:5: error: missing arguments for method sum in
object $iw;
follow this method with ‘_' if you want to treat it as a
partially applied function
val c = sum
ˆ
ˆ
scala> val d = sum _
d: (Int, Int, Int) => Int = <function>
scala> d(10, 20, 30)
res16: Int = 60
This example highlights a difference in the design tradeoffs of Scala and
classical functional languages such as Haskell or ML. In these languages,
partially applied functions are considered the normal case. Furthermore,
these languages have a fairly strict static type system that will usually highlight
every error with partial applications that you can make. Scala bears a
much closer relation to imperative languages such as Java, where a method
that’s not applied to all its arguments is considered an error. Furthermore,
the object-oriented tradition of subtyping and a universal root type4 accepts
some programs that would be considered erroneous in classical functional
languages. For instance, say you mistook the drop(n: Int) method of List
for tail(), and you therefore forgot you need to pass a number to drop.
You might write:
println(drop)
4Scala’s universal root type, Any, will be described in Chapter 10.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.7 Chapter 8 · Functions and Closures 181
Had Scala adopted the classical functional tradition that partially applied
functions are OK everywhere, this code would typecheck. However, you
might be surprised to find out that the output printed by this println statement
would always be <function>! What would have happened is that
the expression drop would have been treated as a function object. Because
println takes objects of any type, this would compile OK, but it would have
given an unexpected result.
To avoid situations like this, Scala normally requires you to specify function
arguments that are left out explicitly, even if the indication is as simple
as a ‘_’. It allows you to leave off even the _ only when a function type is
expected.
8.7 Closures
So far in this chapter, all the examples of function literals that we’ve given
have referred only to passed parameters. For example, in (x: Int) => x > 0,
the only variable used in the function body, x > 0, is x, which is defined as
a parameter to the function. You can, however, refer to variables defined
elsewhere. Here’s an example:
(x: Int) => x + more // how much more?
This function adds “more” to its argument, but what is more? From the point
of view of this function, more is a free variable, because the function literal
does not itself give a meaning to it. The x variable, by contrast, is a bound
variable, because it does have a meaning in the context of the function: it is
defined as the function’s lone parameter, an Int.
If you try using this function literal by itself, without any more defined
in its scope, the compiler will complain:
scala> (x: Int) => x + more
<console>:5: error: not found: value more
(x: Int) => x + more
ˆ
On the other hand, the same function literal will work fine so long as there is
something available named more:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.7 Chapter 8 · Functions and Closures 182
scala> var more = 1
more: Int = 1
scala> val addMore = (x: Int) => x + more
addMore: (Int) => Int = <function>
scala> addMore(10)
res18: Int = 11
The function value (the object) that’s created at runtime from this function
literal is called a closure. The name arises from the act of “closing” the
function literal by “capturing” the bindings of its free variables. A function
literal with no free variables, such as (x: Int) => x + 1, is called a
closed term, where a term is a bit of source code. Thus a function value created
at runtime from this function literal is technically not a closure, because
(x: Int) => x + 1 is already closed as written. But any function literal with
free variables, such as (x: Int) => x + more, is an open term. Therefore,
any function value created at runtime from (x: Int) => x + more will by
definition require that a binding for its free variable, more, be captured. The
resulting function value, which will contain a reference to the captured more
variable, is called a closure, because the function value is the end product of
the act of closing the open term, (x: Int) => x + more.
This example brings up a question: what happens if more changes after
the closure is created? In Scala, the answer is that the closure sees the
change. For example:
scala> more = 9999
more: Int = 9999
scala> addMore(10)
res20: Int = 10009
Intuitively, Scala’s closures capture variables themselves, not the value to
which variables refer.5 As the previous example demonstrates, the closure
created for (x: Int) => x + more sees the change to more made outside
the closure. The same is true in the opposite direction. Changes made to a
captured variable made by a closure is visible outside the closure. Here’s an
example.
5By contrast, Java’s inner classes do not allow you to access modifiable variables in
surrounding scopes at all.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.7 Chapter 8 · Functions and Closures 183
scala> val someNumbers = List(11,
10,
5,
0, 5, 10)
someNumbers: List[Int] = List(11,
10,
5,
0, 5, 10)
scala> var sum = 0
sum: Int = 0
scala> someNumbers.foreach(sum += _)
scala> sum
res22: Int = 11
This example uses a roundabout way to sum the numbers in a List to demonstrate
how Scala captures variables in closures. Variable sum is in a surrounding
scope from the function literal sum += _, which adds numbers to sum.
Even though it is the closure modifying sum at runtime, the resulting total,
11,
is still visible outside the closure.
What if a closure accesses some variable that has several different copies
as the program runs? For example, what if a closure uses a local variable of
some function, and the function is invoked many times? Which instance of
that variable gets used at each access?
There is only one answer that is consistent with the rest of the language:
the instance used is the one that was active at the time the closure was created.
For example, here is a function that creates and returns “increase”
closures:
def makeIncreaser(more: Int) = (x: Int) => x + more
This function can be called multiple times, to create multiple closures. Each
closure will access the more variable that was active when the closure was
created.
scala> val inc1 = makeIncreaser(1)
inc1: (Int) => Int = <function>
scala> val inc9999 = makeIncreaser(9999)
inc9999: (Int) => Int = <function>
When you call makeIncreaser(1), a closure is created and returned that
captures the value 1 as the binding for more. Similarly, when you call
makeIncreaser(9999), a closure that captures the value 9999 for more is
returned. When you apply these closures to arguments (in this case, there’s
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.8 Chapter 8 · Functions and Closures 184
just one argument, x, which must be passed in), the result that comes back
depends on how more was defined when the closure was created:
scala> inc1(10)
res23: Int = 11
scala> inc9999(10)
res24: Int = 10009
8.8 Repeated parameters
Scala allows you to indicate that the last parameter to a function may be
repeated. This allows clients to pass variable length argument lists to the
function. To denote a repeated parameter, place an asterisk after the type of
the parameter. For example:
scala> def echo(args: String*) = for (arg <args)
println(arg)
echo: (String*)Unit
Defined this way, echo can be called with zero to many String arguments:
scala> echo()
scala> echo("one")
one
scala> echo("hello", "world!")
hello
world!
scala> echo("1", "2", "3", "4")
1
2
3
4
Inside the function, the type of the repeated parameter is an Array of
the declared type of the parameter. Thus, the type of args inside the echo
function, which is declared as type “String*” is actually Array[String].
Nevertheless, if you have an array of the appropriate type, and attempt to
pass it as a repeated parameter, you’ll get a compiler error:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.9 Chapter 8 · Functions and Closures 185
scala> val arr = Array("What's", "up", "doc?")
arr: Array[java.lang.String] = [Ljava.lang.String;@f4ec00
scala> echo(arr)
<console>:7: error: type mismatch;
found : Array[java.lang.String]
required: String
echo(arr)
ˆ
To accomplish this, you’ll need to append the array argument with a colon
and an “_*” symbol, like this:
scala> echo(arr: _*)
What's
up
doc?
8.9 Tail recursion
In Section 7.2 on page 154, we mentioned that to transform a while loop
that updates vars into a more functional style that uses only vals, you may
sometimes need to use recursion.6 Here’s an example of a recursive function
that approximates a value by repeatedly improving a guess until it is good
enough:
def approximate(guess: Domain) : Domain =
if (isGoodEnough(guess)) guess
else approximate(improve(guess))
A function like this is often used in search problems, with the appropriate
implementations for the type Domain and the isGoodEnough and improve
functions. If you want the approximate function to run faster, you might be
tempted to write it with a while loop to try and speed it up, like this:
6A recursive function is one that calls itself.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.9 Chapter 8 · Functions and Closures 186
def approximateLoop(initialGuess: Domain): Domain = {
var guess = initialGuess
while (!isGoodEnough(guess))
guess = improve(guess)
guess
}
Which of the two versions of approximate is preferable? In terms of brevity
and var avoidance, the first, functional one wins.7 But is the imperative
approach perhaps more efficient? In fact, if we measure execution times it
turns out that they are almost exactly the same! This might seem surprising,
because a recursive call looks much more expensive than a simple jump from
the end of a loop to its beginning.
However, in the case of approximate above, the Scala compiler is
able to apply an important optimization. Note that the recursive call to
approximate is the last thing that happens in the evaluation of the function’s
body. Functions like approximate, which call themselves as their
last action, are called tail recursive. The Scala compiler detects tail recursion
and replaces it with a jump back to the beginning of the function,
after updating the function parameters with the new values. So the compiled
code for approximate is essentially the same as the compiled code
for approximateLoop. Both functions compile down to the same thirteen
instructions of Java bytecodes. If you look through the bytecodes generated
by the Scala compiler for the tail recursive method, approximate, you’ll see
that although both isGoodEnough and improve are invoked in the body of
the method, approximate is not. The Scala compiler optimized away the
recursive call:
public Domain approximate(Domain);
Code:
0: aload_0
1: astore_2
2: aload_0
3: aload_1
4: invokevirtual #24; //Method isGoodEnough:(LDomain;)Z
7: ifeq 12
7The benefit of avoiding vars was described in Step 3 on page 63.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.9 Chapter 8 · Functions and Closures 187
10: aload_1
11: areturn
12: aload_0
13: aload_1
14: invokevirtual #27; //Method improve:(LDomain;)LDomain;
17: astore_1
18: goto 2
The moral is that you should not shy away from using recursive algorithms to
solve your problem. Often, a recursive solution is more elegant and concise
than a loop-based one. If the solution is tail recursive, there won’t be any
runtime overhead to be paid.
Tracing tail-recursive functions
One consequence to watch out for is that a tail-recursive function will not
build a new stack-frame for each call; all calls will execute in a single stackframe.
This may surprise a programmer inspecting a stack-trace of a program
that failed. For instance, consider the function boom, shown next, which calls
itself recursively a number of times and then crashes:
scala> def boom(x: Int): Int =
| if (x == 0) throw new Exception("boom!")
| else boom(x 1)
+ 1
boom: (Int)Int
This function is not tail-recursive because it still performs a (+1) operation
after the recursive call. Here’s what you’ll get when you run it:
scala> boom(5)
java.lang.Exception: boom!
at .boom(<console>:5)
at .boom(<console>:6)
at .boom(<console>:6)
at .boom(<console>:6)
at .boom(<console>:6)
at .boom(<console>:6)
at .<init>(<console>:6)
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.9 Chapter 8 · Functions and Closures 188
...
You see one entry per recursive call in the stack-trace, as expected. If you
now modify boom so that it does become tail-recursive:
scala> def bang(x: Int): Int =
| if (x == 0) throw new Exception("bang!")
| else bang(x 1)
bang: (Int)Int
You’ll get:
scala> bang(5)
java.lang.Exception: bang!
at .bang(<console>:5)
at .<init>(<console>:6)
...
This time, you see only a single stack-frame for bang. You might think that
bang crashed before it called itself, but this is not the case. If you think you
might be confused by tail-call optimizations when looking at a stack-trace,
you can turn them off by giving a
g:
notc
argument to the scala shell or to the scalac compiler. With that option
specified, you will get a longer stack trace:
scala> bang(5)
java.lang.Exception: bang!
at .bang(<console>:5)
at .bang(<console>:5)
at .bang(<console>:5)
at .bang(<console>:5)
at .bang(<console>:5)
at .bang(<console>:5)
at .<init>(<console>:6)
...
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 8.10 Chapter 8 · Functions and Closures 189
Limits of tail recursion
The use of tail recursion in Scala is fairly limited, because the JVM instruction
set makes implementing more advanced forms of tail recursion very difficult.
In fact, only directly recursive calls to a function are optimized. If the
recursion is indirect, as in the following example of two mutually recursive
functions, no optimization is possible:
def isEven(x: Int): Boolean =
if (x == 0) true else isOdd(x 1)
def isOdd(x: Int): Boolean =
if (x == 0) false else isEven(x 1)
You also won’t get a tail-call optimization if the final call goes to a function
value. Consider for instance the following recursive code:
val funValue = nestedFun _
def nestedFun(x: Int) {
if (x != 0) { println(x); funValue(x 1)
}
}
The funValue variable refers to a function value that essentially wraps
nestedFun. When you apply the function value to an argument, it turns
around an applies nestedFun to that same argument, and returns the result.
You might hope, therefore, the Scala compiler would perform a tail-call optimization,
but in this case it would not. Thus, tail-call optimization is limited
to situations in which a method or nested function calls itself directly as its
last operation, without going through a function value or some other intermediary.
(If you don’t fully understand tail recursion yet, see Section 8.9).
8.10 Conclusion
This chapter has shown you several new ways functions can be defined in
Scala. You can nest them inside each other and you can use them as firstclass
values. You have also seen several lightweight methods to define a
function value without giving it a name. Such function values are also called
closures. They are very flexible building blocks for creating your own control
structures.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 9
Control Abstraction
All functions are separated into common parts, which are the same in every
invocation of the function, and non-common parts, which may vary from
one function invocation to the next. The common parts are in the body of
the function, while the non-common parts must be supplied via arguments.
When you use a function value as an argument, the non-common part of
the algorithm is itself some other algorithm! At each invocation of such
a function, you can pass in a different function value as an argument, and
the invoked function will, at times of its choosing, invoke the passed function
value. These higher-order functions—functions that take functions as
parameters—give you extra opportunities to condense and simplify code.
9.1 Reducing code duplication
One benefit of higher-order functions is they enable you to create control
abstractions that allow you to reduce code duplication. For example, suppose
you are writing a file browser, and you want to provide an API that allows
users to search for files matching some criterion. First, you add a facility to
search for files whose names end in a particular string. This would enable
your users to find, for example, all files with a “.scala” extension. You
could provide such an API by defining a public filesEnding method inside
a singleton object like this:
object FileMatcher {
private def filesHere = (new java.io.File(".")).listFiles
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 9.1 Chapter 9 · Control Abstraction 191
def filesEnding(query: String) =
for (file <filesHere;
if file.getName.endsWith(query))
yield file
}
The filesEnding method obtains the list of all files in the current directory
using the private helper method filesHere, then filters them based on
whether each file name ends with the user-specified query. Given filesHere
is private, the filesEnding method is the only accessible method defined in
FilesMatcher, the API you provide to your users.
So far so good, and there is no repeated code yet. Later on, though, you
decide to let people search based on any part of the file name. This is good for
when your users cannot remember if they named a file phbimportant.
doc,
stupidphbreport.
doc, may2003salesdoc.phb, or something entirely
different, but they think that “phb” appears in the name somewhere. You go
back to work and add this function to your FileMatcher API:
def filesContaining(query: String) =
for (file <filesHere;
if file.getName.contains(query))
yield file
This function works just like filesEnding. It searches filesHere, checks
the name, and returns the file if the name matches. The only difference is
that this function uses contains instead of endsWith.
The months go by, and the program becomes more successful. Eventually,
you give in to the requests of a few power users who want to search
based on regular expressions. These sloppy guys have immense directories
with thousands of files, and they would like to do things like find all “pdf”
files that have “oopsla” in the title somewhere. To support them, you write
this function:
def filesRegex(query: String) =
for (file <filesHere;
if file.getName.matches(query))
yield file
Experienced programmers will notice all of this repetition and wonder if it
can be factored into a common helper function. Doing it the obvious way
does not work, however. You would like to be able to do the following:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 9.1 Chapter 9 · Control Abstraction 192
def filesMatching(query: String, method) =
for (file <filesHere;
if file.getName.method(query))
yield file
This approach would work in a dynamically-typed language, but Scala is
statically typed and therefore does not allow code construction like this. So
what do you do?
Function values provide an answer. While you cannot pass around a
method name as a value, you can get the same effect by passing around a
function value that calls the method for you. In this case, you could add a
matcher parameter to the method whose sole purpose is to check a file name
against a query.
def filesMatching(
query: String,
matcher: (String, String) => Boolean
) =
for (file <filesHere;
if matcher(file.getName, query))
yield file
In this version of the method, the if clause now uses matcher to check the
file name against the query. Precisely what this check does depends on what
is specified as the matcher. Second, look at the type of matcher itself. It
is a function, and thus has a => in the type. This function takes two string
arguments—the file name and the query—and returns a boolean, so its full
type signature is (String, String) => Boolean.
Given this new filesMatching helper method, the specific cases can
now be simplified to call the helper method for most of the work:
def filesEnding(query: String) =
filesMatching(query, _.endsWith(_))
def filesContaining(query: String) =
filesMatching(query, _.contains(_))
def filesRegex(query: String) =
filesMatching(query, _.matches(_))
The function literals shown in this example use the placeholder syntax, introduced
in the previous chapter, which may not as yet feel very natural to
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 9.1 Chapter 9 · Control Abstraction 193
you. Thus, here’s a clarification of how placeholders are used in this example.
The function literal _.endsWith(_), used in the filesEnding method,
means the same thing as:
(fileName: String, query: String) => fileName.endsWith(query)
Because filesMatching takes a function that takes two String arguments,
however, you need not specify the types of the arguments. Thus you could
also write (fileName, query) => fileName.endsWith(query). Since the
parameters are each used only once in the body of the function, and since the
first parameter, fileName, is used first in the body, and the second parameter,
query, is used second, you can use the placeholder syntax: _.endsWith(_).
The first underscore is a placeholder for the first parameter, the file name,
and the second underscore a placeholder for the second parameter, the query
string.
This code is already simplified, but it can actually be even shorter. Notice
that the query gets passed to filesMatching, but filesMatching does
nothing with the query except to pass it back to the passed matcher function.
This passing back and forth is unnecessary, because the caller already
knew the query to begin with! You might as well simply remove the query
parameter from filesMatching and matcher, thus simplifying the code to
the following:
object FileMatcher {
private def filesHere = (new java.io.File(".")).listFiles
private def filesMatching(matcher: String => Boolean) =
for (file <filesHere;
if matcher(file.getName))
yield file
def filesEnding(query: String) =
filesMatching(_.endsWith(query))
def filesContaining(query: String) =
filesMatching(_.contains(query))
def filesRegex(query: String) =
filesMatching(_.matches(query))
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 9.2 Chapter 9 · Control Abstraction 194
This example demonstrates the way in which first-class functions can
help you eliminate code duplication where it would be very difficult to do
so without them. In Java, for example, you could create an interface containing
a method that takes one String and returns a Boolean, then create
and pass anonyomous inner class instances that implement this interface to
filesMatching. Although this approach would remove the code duplication
you are trying to eliminate, it would at the same time add as much or
more new code. Thus the benefit is not worth the cost, and often, many
programmers would simply opt to live with the duplication.
Moreover, this example demonstrates how closures can help you reduce
code duplication. The function literals used in the previous example, such as
_.endsWith(_) and _.contains(_), are instantiated at runtime into function
values that are not closures, because they don’t capture any free variables.
Both variables used in the expression, _.endsWith(_), for example,
are represented by underscores, which means they are taken from arguments
to the function. Thus, _.endsWith(_) uses two bound variables, and no free
variables. By contrast, the function literal _.endsWith(query), used in the
most recent example, contains one bound variable, the argument represented
by the underscore, and one free variable named query. It is only because
Scala supports closures that you were able to remove the query parameter
from filesMatching in the most recent example, thereby simplifying the
code even further.
9.2 Simplifying client code
In addition to helping you reduce code duplication as you implement an API,
as demonstrated in the previous example, you can provide higher-order functions
in an API itself to make client code more concise. A good example of
this is the special-purpose looping methods provided by Scala’s collection
types,1 many of which are listed in Table 3.1 in Chapter 3. Scala provides
while loops and for expressions as built-in control structures that can help
you with all of your looping needs. The while loop supports an imperative
style, and the for expression a functional style, of looping code.
1All of these special-purpose looping methods are defined in trait Iterable, which is
extended by most collection types, including List, Set, Array, and Map.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 9.2 Chapter 9 · Control Abstraction 195
In addition to the built-in looping constructs, however, Scala’s collections
API provides many higher-order functions—functions that take functions
as arguments—for common looping needs. More often than not, any
non-trivial loop can be written as a call to one of these methods, thus shortening
your code.
One example is exists, a method that determines whether a passed
value is contained in a collection. You could of course search for an element
by having a var initialized to false, looping through the collection checking
each item, and setting the var to true if you find what you are looking for.
Here’s a method that uses this approach to determine whether a passed List
contains a 0:
def containsZero(nums: List[Int]): Boolean = {
var exists = false
for (num <nums)
if (num == 0)
exists = true
exists
}
If you define this method in the interpreter, you can call it like this:
scala> containsZero(List(1, 2, 3, 4))
res37: Boolean = false
scala> containsZero(List(1, 2, 0, 4))
res38: Boolean = true
A more concise way to define the method, though, is by calling the higherorder
function exists on the passed List, like this:
def containsZero(nums: List[Int]) = nums.exists(_ == 0)
This version of containsZero yields the same results as the previous:
scala> containsZero(Nil)
res43: Boolean = false
scala> containsZero(List(0, 0, 0))
res44: Boolean = true
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 9.3 Chapter 9 · Control Abstraction 196
The exists method represents a control abstraction—a special-purpose
looping construct—provided by the Scala library (as opposed to being built
into the Scala language like while or for). In the previous section, the higherorder
function, filesMatching, reduces code duplication in the implementation
of the object FileMatcher. The exists method provides a similar
benefit, but because exists is public in Scala’s collections API, the code
duplication it reduces is client code of that API. If exists didn’t exist, and
you wanted to write a containsOne method, you might write it like this:
def containsOne(nums: List[Int]): Boolean = {
var exists = false
for (num <nums)
if (num == 1)
exists = true
exists
}
If you compare the body of containsZero with that of containsOne, you’ll
find that everything is repeated except that a 0 is changed to a 1. Using
exists, you could write this instead:
def containsOne(nums: List[Int]) = nums.exists(_ == 1)
The body of the code in this version is again identical to the body of the corresponding
containsZero method (the version that uses exists), except the
0 is changed to a 1. Yet the amount of code duplication is much smaller because
all of the looping infrastructure is factored out into the exists method
itself.
9.3 Currying
In Chapter 1, we said that Scala allows you to create new control abstractions
that “feel like native language support.” Although the examples you’ve
seen so far are indeed control abstractions, it is unlikely anyone would mistake
them for native language support. To understand how to make control
abstractions that feel more like language extensions, you first need to understand
the functional programming technique called currying.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 9.3 Chapter 9 · Control Abstraction 197
A curried function is applied to multiple argument lists, instead of just
one. Here’s a regular, not curried function, which adds two Int parameters,
x and y:
scala> def plainOldSum(x: Int, y: Int) = x + y
plainOldSum: (Int,Int)Int
You invoke it in the usual way:
scala> plainOldSum(1, 2)
res46: Int = 3
By contrast, here’s a similar function that’s curried. Instead of one list of two
Int parameters, you apply this function to two lists of one Int parameter
each:
scala> def curriedSum(x: Int)(y: Int) = x + y
curriedSum: (Int)(Int)Int
Here’s how you invoke it:
scala> curriedSum(1)(2)
res47: Int = 3
What’s happening here is that when you invoke curriedSum, you actually
get two traditional function invocations back to back. The first function
invocation takes a single Int parameter named x, and returns a function
value for the second function. This second function takes the Int parameter
y. Here’s a function named first that does in spirit what the first traditional
function invocation of curriedSum would do:
scala> def first(x: Int) = (y: Int) => x + y
first: (Int)(Int) => Int
Applying 1 to the first function—in other words, invoking the first function
and passing in 1—yields the second function:
scala> val second = first(1)
second: (Int) => Int = <function>
Applying 2 to the second function yields the result:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 9.4 Chapter 9 · Control Abstraction 198
scala> second(2)
res4: Int = 3
Although these first and second functions are just an illustration of the
currying process having nothing to do with the curriedSum function, there
is a way to get an actual reference to curriedSum’s “second” function. You
can use the placeholder notation to use curriedSum in a partially applied
function expression, like this:
scala> val onePlus = curriedSum(1)_
onePlus: (Int) => Int = <function>
The underscore in curriedSum(1)_ is a placeholder for the second parameter
list.2 The result is a reference to a function that, when invoked, adds one
to its sole Int argument and returns the result:
scala> onePlus(2)
res5: Int = 3
And here’s how you’d get a function that adds two to its sole Int argument:
scala> val twoPlus = curriedSum(2)_
twoPlus: (Int) => Int = <function>
scala> twoPlus(2)
res6: Int = 4
Now you may think this is a lot of trouble just to figure out that 2 + 2
yields 4, and you may be right, but currying does have a few uses. One of the
uses, in fact, is in helping you make control abstractions that feel like native
language support. This use case is described in the next section.
9.4 Writing new control structures
In languages with first-class functions, you can effectively make new control
structures even though the syntax of the language is fixed. All you need to
do is create methods that take functions as arguments.
2In the previous chapter, when the placeholder notation was used on traditional methods,
like println _, you had to leave a space between the name and the underscore. In this case
you don’t, because whereas println_ is a legal identifier in Scala, curriedSum(1)_ is not.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 9.4 Chapter 9 · Control Abstraction 199
For example, here is the “twice” control structure, which repeats an operation
two times and returns the result:
scala> def twice(op: Double => Double, x: Double) = op(op(x))
twice: ((Double) => Double,Double)Double
scala> twice(_ + 1, 5)
res24: Double = 7.0
The type of op in this example is Double => Double, which means it is a
function that takes one Double as an argument and returns another Double.
Any time you find a control pattern repeated in multiple parts of your
code, you should think about implementing it as a new control structure. For
example, one common pattern is “open a resource, operate on it, and then
close the resource.” This is sometimes called the loan pattern. You can
capture this pattern using a method like the following:
def withPrintWriter(file: File, op: PrintWriter => Unit) {
val writer = new java.io.PrintWriter(file)
try {
op(writer)
} finally {
writer.close()
}
}
Given such a method, you can use it as follows:
withPrintWriter(
new File("date.txt"),
writer => writer.println(new java.util.Date)
)
The advantage of using this method is that it’s the withPrintWriter method
instead of the user code that assures the file is closed at the end. So it’s
impossible to forget to close the file.
One way in which you can make the client code look a bit more like
a built-in control structure is to use curly braces instead of parentheses to
surround the argument list. In any method invocation in Scala, you can opt
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 9.4 Chapter 9 · Control Abstraction 200
to use curly braces to surround the argument list instead of parentheses. For
example, instead of:
scala> println("Hello, world!")
Hello, world!
You could write:
scala> println { "Hello, world!" }
Hello, world!
In the second example, you used curly braces instead of parentheses to surround
the arguments to println. Using this same technique to call function
withPrintWriter would give you code that looks like:
withPrintWriter {
new File("date.txt"),
writer => writer.println(new java.util.Date)
}
Although in the previous example, withPrintWriter is starting to look
more like a built-in control construct, you can do better. Because the function
passed to withPrintWriter is the last argument in the list, you can use
currying to pull the first argument, the File, outside the curly braces. Here’s
how you’d need to define withPrintWriter:
def withPrintWriter(file: File)(op: PrintWriter => Unit) {
val writer = new java.util.PrintWriter(file)
try {
op(writer)
} finally {
writer.close()
}
}
Unless you look carefully, you may think this version of withPrintWriter
is identical to the one shown previously, but it’s not. The new version differs
from the old one only in that there are now two parameter lists with one
parameter each instead of one parameter list with two parameters. Look
between the two parameters. In the previous version of withPrintWriter,
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 9.5 Chapter 9 · Control Abstraction 201
shown on page 199, you’ll see . . . File, operation. . . . But in this version,
you’ll see . . . File)(operation. . . . Given the above definition, you can call
the method with a more pleasing syntax:
val file = new File("date.txt")
withPrintWriter(file) {
writer => writer.println(new java.util.Date)
}
In this example, the first argument list, which contains one File argument, is
written surrounded by parentheses. The second argument list, which contains
one function argument, is surrounded by curly braces.
9.5 By-name parameters
The withPrintWriter method shown in the previous section differs from
built-in control structures of the language, such as if and while, in that the
code between the curly braces takes an argument. The withPrintWriter
method requires one argument of type PrintWriter. This argument shows
up as the “writer =>” in:
withPrintWriter(file) {
writer => writer.println(new java.util.Date)
}
What if you want to implement something more like if or while, however,
where there is no value to pass into the code between the curly braces of
the control structure? To help with such situations, Scala provides by-name
parameters.
As a concrete example, suppose you want to implement an assertion construct
called myAssert.3 The myAssert function will take a function value
as input and consult a flag to decide what to do. If the flag is set, myAssert
will invoke the passed function and verify that it returns true. If the flag is
turned off, myAssert will quietly do nothing at all.
Without using by-name parameters, you could write myAssert like this:
3You’ll call this myAssert, not assert, because Scala provides an assert of its own,
which will be described in Section 10.4 on page 209.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 9.5 Chapter 9 · Control Abstraction 202
var assertionsEnabled = true
def myAssert(predicate: () => Boolean) =
if (assertionsEnabled && !predicate())
throw new AssertionError
The definition is fine, but using it is a little bit awkward:
myAssert(() => 5 > 3)
You would really prefer to leave out the empty parameter list and => symbol
in the function literal and write the code like this:
myAssert(5 > 3) // Won't work, because missing () =>
By-name parameters exist precisely so that you can do this. To make a byname
parameter, you give the parameter a type starting with => instead of
() =>. For example, you could change myAssert’s predicate parameter
into a by-name parameter by changing its type, “() => Boolean” into
“=> Boolean.” Here’s how that would look:
def byNameAssert(predicate: => Boolean) =
if (assertionsEnabled && !predicate)
throw new AssertionError
Now you can leave out the empty parameter in the property you want to
assert. The result is that using byNameAssert looks exactly like using a
built-in control structure:
byNameAssert(5 > 3)
A by-name type, in which the empty parameter list, (), is left out, is only
allowed for parameters. There is no such thing as a by-name variable or a
by-name field.
Now, you may be wondering why you couldn’t simply write myAssert
using a plain old Boolean for the type of its parameter, like this:
def boolAssert(predicate: Boolean) =
if (assertionsEnabled && !predicate)
throw new AssertionError
It turns out you can, and when you use it, the code also looks quite natural:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 9.5 Chapter 9 · Control Abstraction 203
boolAssert3(5 > 3)
Nevertheless, one difference exists between these two approaches that
is useful to note. Because the type of boolAssert’s parameter is
Boolean, the expression inside the parentheses in boolAssert(5 > 3)
is evalated before the call to boolAssert. The expression 5 > 3 yields
true, which is passed to boolAssert. By contrast, because the type
of byNameAssert’s parameter is => Boolean, the expression inside the
parentheses in byNameAssert2(5 > 3) is not evaluated before the call to
byNameAssert. Instead a function value will be created whose apply
method will evaluate 5 > 3, and this function value will be passed to
byNameAssert.
The difference between the two approaches, therefore, is that if
assertions are disabled, you’ll see any side effects that the expression
inside the parentheses may have in boolAssert, but not in
byNameAssert. For example, if assertions are disabled, attempting to assert
on “throw new Exception” will yield an exception in boolAssert’s
case:
scala> var assertionsEnabled = false
assertionsEnabled: Boolean = false
scala> boolAssert(throw new Exception)
java.lang.Exception
at .<init>(<console>:6)
at .<clinit>(<console>)
at RequestResult$.<init>(<console>:3)
at RequestResult$.<clinit>(<console>)
at RequestResult$result(<console>)...
But attempting to assert on same code in byNameAssert’s case will not yield
an exception:
scala> byNameAssert(throw new Exception)
In this case, the code that throws the exception is wrapped in a function
value that’s passed to byNameAssert. Because assertions are disabled,
byNameAssert never invokes the function, so the exception is never thrown.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 9.6 Chapter 9 · Control Abstraction 204
9.6 Conclusion
This chapter has shown you several new ways functions can be defined in
Scala. You can nest them inside each other and you can use them as firstclass
values. You have also seen several lightweight methods to define a
function value without giving it a name. Such function values are also called
closures. They are very flexible building blocks for creating your own control
structures. You have seen two syntactic tweaks that make operating on closures
more pleasant: currying and call-by-name parameters. With the help
of these, you can write control structures that look as if they were built-in
language constructs.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 10
Composition and Inheritance
This chapter discusses more of Scala’s support for object-oriented programming.
The topics are not as fundamental as those in Chapter 4, but they will
frequently arise as you program in Scala.
10.1 Introduction
As a running example, this chapter presents a simple library for building and
rendering two-dimensional layout elements. Each element represents a rectangle
filled with text. Elements can be composed above or beside each other.
For instance, assume you are given a method with the following signature
which creates a layout element containing a string:
elem(s: String): Element
Then the expression below would construct a larger element consisting of
two columns, each with a height of two.
val column1 = elem("hello") above elem("***")
val column2 = elem("***") above elem("world")
column1 beside column2
Printing the result of this expression would give:
hello ***
*** world
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.2 Chapter 10 · Composition and Inheritance 206
10.2 Abstract classes
The first task covered in this chapter is how to define the type Element of layout
elements. What members should layout elements have? Since elements
are two dimensional rectangles of characters, it makes sense to include a
member contents, which refers to the contents of a layout element. The
contents can be represented as an array of strings, where each string represents
a line. Hence, the type of the result returned by contents should be
Array[String].
Then there should be methods width and height that provide the dimensions
of the layout element.
Finally, there should be methods above and beside for forming new
elements by placing an element above and beside another, respectively.
All five methods together are bundled in a class Element. The outline of
this class is as follows:
abstract class Element {
def contents: Array[String]
def width: Int = ...
def height: Int = ...
def above(that: Element): Element = ...
def beside(that: Element): Element = ...
}
The Element class declares five methods: contents, width, height,
above, and beside. The implementations of the last four of these methods
are left out here; they will will be given below. The first method, contents,
does not have an implementation. In other words, the method is an abstract
member of class Element. A class with abstract members must itself be
declared abstract; this is done by writing an abstract modifier in front of
the class keyword:
abstract class Element ...
The abstract modifier in front of a class signifies that the class may have
abstract members which do not have an implementation. Therefore, it is not
permitted to create an object of an abstract class. If you try to write
scala> new Element
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.3 Chapter 10 · Composition and Inheritance 207
You should get something like this:
<console>:5: error: class Element is abstract; cannot be instantiated
val res6 = new Element
ˆ
You will see below how to create subclasses of class Element which fill in
the missing definition and which can be instantiated.
Note that the methods in class Elements do not carry an abstract modifier.
A method is abstract if it does not have an implementation (i.e., no
equals sign or body). Unlike Java, no abstract modifier is necessary (nor
allowed).
Methods which do have an implementation are called concrete. Another
bit of terminology distinguishes between declarations and definitions. We
say that class Element defines the concrete method height, whereas it declares
the abstract method contents.
10.3 The Uniform Access Principle
The next thing to turn to is the implementation of the concrete methods in
class Element. Here are the first two:
def width: Int =
if (height == 0) 0 else contents(0).length
def height: Int = contents.length
The height method returns the number of lines in contents. The width
method returns the length of the first line, or, if there are no lines in the
element, zero. (This means you cannot define an element with a height of
zero and a non-zero width.)
Note that neither method has a parameter list, not even an empty one.
Parameterless methods such as width or height are quite common in Scala.
The recommendation is to use a parameterless method whenever there are
no arguments and the method neither changes nor depends on mutable state.
This convention supports the uniform access principle, which says that
client code should not be affected by a decision to implement some attribute
as a field or as a method. For instance, you could have chosen to implement
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.3 Chapter 10 · Composition and Inheritance 208
width and height as fields instead of methods, simply by changing the def
in their definition to a val:
val width =
if (contents.length == 0) 0 else contents(0).length
val height = contents.length
The two pairs of definitions are completely equivalent from a client’s point
of view. The only difference is that field accesses might be slightly faster
than method invocations, because the field values are pre-computed when the
class is initialized, instead of being computed on each method call. On the
other hand, the fields require extra memory space in every Element object.
So it depends on the usage profile of a class whether an attribute is better
represented as a field or as an access function, and that usage profile might
change over time. The point is that clients of the Element class should not
be affected when its internal implementation changes.
In particular, a client of class Element should not need to be rewritten if
a field of that class gets changed into an access function as long as the access
function is pure, i.e., it does not have any side effects and it does not depend
on mutable state. It should not need to care either way.
So far so good. But there’s still a slight complication that has to do
with the way Java handles things. The problem is that Java does not implement
the uniform access principle. So it’s string.length() in Java, not
string.length (even though it’s array.length, not array.length()).
Needless to say, this is very confusing.
To bridge that gap, Scala is very liberal when it comes to mixing parameterless
methods and methods with ‘()’ parameters. In particular, you can
override a ‘()’-method with a parameterless method and vice versa. You can
also leave out an empty argument list ‘()’ from a method call. For instance,
the following two lines are both legal in Scala:
Array(1, 2, 3).toString
"abc".length
In principle it’s possible to leave out all empty parameter lists in Scala code.
However, it is recommended to still write an empty parameter list when the
invoked method reads or writes reassignable variables (vars), either directly
or indirectly by using mutable objects. That way, the parameter list acts as
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.4 Chapter 10 · Composition and Inheritance 209
a visual clue that some interesting computation is triggered by the call. For
instance:
myString.length // no () because no sideeffect
out.println() // better not to drop the ()
To summarize, it is encouraged style in Scala to write parameterless pure
member functions without ‘()’. On the other hand, you should never write
a function that has side-effects without a ‘()’, because then it would look
like nothing is evaluated. So you would be surprised to see the side effect.
This applies to both function definitions and applications. As described in
Step 2, one way to think about whether a function has side effects is if the
function performs a conceptual “operation,” use the parentheses, but if it
merely provides access to a conceptual ‘property,” leave the parentheses off.
10.4 Assertions and assumptions
Note that the width method gives a correct result only if all lines in the array
have the same length. You can state this property as a set of assertions in
class Element:
for (line <contents)
assert(line.length == width, "element is not rectangular")
Assertions in Scala are written as calls of a predefined method assert.1
The expression assert(condition) throws an AssertionError if
condition does not hold. There’s also a two argument version:
assert(condition, explanation) tests condition, and, if it does not
hold, throws an AssertionError which contains the given String explanation.
A failing assertion always indicates that some code is incorrect. The
incorrect code is not always the code that contains the assertion, however.
For instance, consider the following function which returns the inverse of its
floating point argument.
def inverse(x: Double) = 1 / x
1The assert method is defined in the Predef singleton object, whose members are
automatically imported into every Scala source file.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.5 Chapter 10 · Composition and Inheritance 210
This function will throw an ArithmeticException if x is zero. You could
specify the legal argument restriction directly, using an assertion:
def inverse(x: Double) = { assert(x != 0); 1 / x }
In that case, inverse(0) would throw an AssertionError instead of an
ArithmeticException. But in a sense, this is still not right, because it
is not the inverse method that should be blamed for this fault but its
caller, which passed the zero argument. In situations like this it is better
to assume that the argument is non-zero, instead of asserting it. Scala defines
analogs of both variants of assert which are called assume. Instead
of throwing an AssertionError like assert does, an assume throws an
IllegalArgumentException when it fails. So assume clearly blames the
caller of the method for a failure, not the method itself. Here’s inverse,
again, using an assume:
def inverse(x: Double) = { assume(x != 0, "must be nonzero");
1/x }
Now if you try to execute inverse(0), you should get:
java.lang.IllegalArgumentException: assumption failed: must be nonzero
Just like Java assertions, assertions and assumptions can be enabled and disabled
using the JVM’s ea
and da
command-line flags.
10.5 Subclasses
For the implementation of the remaining methods above and beside you
need a way to create new element objects. You have already seen that
“new Element” cannot be used for this because class Element is abstract.
You need to create a subclass which extends Element and which implements
the abstract contents method. Here’s a possible way to do this:
class ArrayElement(conts: Array[String]) extends Element {
def contents: Array[String] = conts
}
Class ArrayElement is defined to extend class Element. Just like in Java,
you use an extends clause
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.6 Chapter 10 · Composition and Inheritance 211
extends Element
after the class name to express this. Such an extends clause has two effects:
It makes class ArrayElement inherit all non-private members from
class Element. And it makes the type ArrayElement a subtype of the type
Element. If you leave out an extends clause, the Scala compiler implicitly
assumes your class extends from scala.AnyRef, which on the Java platform
is the same as class java.lang.Object.
Given the extends clause above, class ArrayElement is called a subclass
of class Element. Conversely, Element is a superclass of ArrayElement.
Inheritance means that all members of the superclass are also members
of the subclass, with two exceptions. First, private members of the superclass
are not inherited in a subclass. Second, a member of a superclass is
not inherited if a member with the same name and parameters is already implemented
in the subclass. In that case we say the member of the subclass
overrides the member of the superclass. If the member in the subclass is
concrete and the member of the superclass is abstract, we also say that the
concrete member implements the abstract one.
For instance, the contents method in ArrayElement overrides (or, alternatively:
implements) the abstract method contents in class Element.
On the other hand, class ArrayElement inherits the width, height,
above, and beside methods from class Element. For instance, given an
ArrayElement ae, you can query its width using ae.width, just as if width
has been defined in class ArrayElement.
Subtyping means that a value of the subclass can be used wherever a
value of the superclass is required. For instance, in the value definition
val e: Element = new ArrayElement(...)
The variable e is defined to be of type Element, so its initializing value
should also be an Element. In fact the type of the initializing value is
ArrayElement. This is OK, because class ArrayElement extends class
Element so the type ArrayElement is compatible with the type Element.
10.6 Two name spaces, not four
The uniform access principle is just one aspect where Scala treats fields and
methods more uniformly than Java. Another difference is that, in Scala,
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.6 Chapter 10 · Composition and Inheritance 212
fields and methods belong to the same name space. This makes it possible
that a field may override a parameterless method. For instance, you
could change the implementation of contents in class ArrayElement from
a method to a field without having to modify the abstract method definition
of contents in class Element:
class ArrayElement(conts: Array[String]) extends Element {
val contents: Array[String] = conts
}
The field contents (defined with a val) in ArrayElement is a perfectly
good implementation of the parameterless method contents (declared with
a def) in class Element.
On the other hand, in Scala it is forbidden to define a field and method
with the same name in the same class. This contrasts with Java, which allows
you to declare like-named fields and methods in the same class. For example,
this Java class would compile just fine:
// This is Java
class CompilesFine {
private int f = 0;
public int f() {
return 1;
}
}
But the corresponding Scala class would not compile:
class WontCompile {
private var f = 0 // Won't compile, because a field
def f = 1 // and method have the same name
}
Generally, Scala has just two name spaces for definitions in place of Java’s
four. Java’s four namespaces are:
• fields
• methods
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.7 Chapter 10 · Composition and Inheritance 213
• types
• packages
By contrast, Scala’s two namespaces are:
• values (fields, methods, and packages)
• types (class and trait names)
The reason Scala places fields and methods into the same namespace is precisely
so you can override a parameterless method with a val, something
you can’t do with Java.2
10.7 Class parameter fields
Consider again the definition of class ArrayElement above. It has a parameter
conts whose sole purpose is to be copied into the contents field. The
name conts of the parameter was chosen just so that it would look similar
to the field name contents without actually clashing with it. This is a “code
smell”, a sure sign that there is some unnecessary redundancy and repetition
in your code.
You can avoid the code smell by combining the parameter and the field
in a single class parameter field definition, like this:
class ArrayElement(val contents: Array[String]) extends Element {}
Note that now the contents parameter is prefixed by val. This is a shorthand
which defines at the same time a parameter and a field with the same
name. Concretely, class ArrayElement now has an (unreassignable) field
contents which can be accessed from outside the class. The field is initialized
with the value of the parameter. It’s as if the class had been written as
follows, where x123 is an arbitrary fresh name for the parameter:
2The reason that packages share the same name space as fields and methods in Scala is
to enable you to import packages in addition to just importing the names of types, and the
fields and methods of singleton objects. This is also something you can’t do in Java. It will
be described in Section 13.2 on page 283.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.8 Chapter 10 · Composition and Inheritance 214
class ArrayElement(x123: Array[String]) extends Element {
val contents: Array[String] = x123
}
One can also prefix a class parameter with var, then the corresponding
field would be reassignable. Finally, it is possible to add modifiers such
as private, protected, or override to these parametric fields, just as one
can do for any other class member. Consider for instance the following class
definition
class C(override val x: Int, private var y: String, z: Boolean) {}
This is a shorthand for the following definition of a class C with an overriding
member x and a private member y.
class C(xParam: Int, yParam: String, z: Boolean) {
override val x = xParam
private var y = yParam
}
Both members are initialized from the corresponding parameters.3
10.8 More method implementations
Now that ArrayElement is defined, the next step is to implement method
above in class Element. Putting one element above another means concatenating
the two contents values of the elements. So a first draft of method
above could look like this:
def above(that: Element): Element =
new ArrayElement(this.contents ++ that.contents)
The ‘++’ operation concatenates two arrays. Arrays in Scala are represented
as Java arrays, but support many more methods. Specifically, arrays in Scala
inherit from a class scala.Seq, which represents sequence-like structures
and contains a number of methods for accessing and transforming sequences.
3The parameter names xParam and yParam were chosen arbitrarily. The important thing
was that they not clash with any other name in scope.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.9 Chapter 10 · Composition and Inheritance 215
Some other array methods will be explained in this chapter, and a comprehensive
list of all methods will be given in Chapter 15.
In fact, the code shown previously is not quite sufficient, because it does
not permit you to put elements of different widths on top of each other. For
example, evaluating the expression
new ArrayElement(Array("hello")) above
new ArrayElement(Array("world!"))
should give an assertion error because the second line in the combined element
is longer than the first. To correct this problem, you need to apply
a method that adapts the width of the two elements so that they are equal.
Adaptation means placing an element at the center of a wider box, padding it
with spaces left and right. We’ll design a method widen for performing this
task.
10.9 Private helper methods
Here’s a first implementation of widen (you’ll see a more elegant one below).
private def widen(w: Int): Element =
if (w <= width) this
else {
val lpad = (w width)
/ 2
val rpad = w (
lpad + width)
new ArrayElement(
for (line <contents)
yield spaces(lpad) + line + spaces(rpad)
)
}
The widen method takes a target width w as parameter and returns an
Element. If the current element width is already greater or equal to the
target width, the element itself is returned. Otherwise, the method returns a
new element where each line in contents is prefixed by lpad spaces and
followed by rpad spaces.
Note that the for expression that performs this computation is used directly
as an argument to the object creation new ArrayElement. This is
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.10 Chapter 10 · Composition and Inheritance 216
possible because every statement which is not a definition is an expression
in Scala. So even for expressions count as expressions.
The widen method makes use of another method, spaces, which creates
a string consisting of a given number of spaces. This one is defined as
follows.
private def spaces(n: Int) = new String(Array.make(n, ' '))
This makes use of the Array.make method, defined in Scala’s standard
Array object. Array.make takes two arguments: a length and an array element
value. It constructs an array of the given length with all elements
initialized to the given array element value. So
Array.make(5, 'Z')
makes the array Array('Z', 'Z', 'Z', 'Z', 'Z').
Using widen, the above method can now be implemented correctly as
follows.
def above(that: Element): Element = {
val this1 = this widen that.width
val that1 = that widen this.width
new ArrayElement(this1.contents ++ that1.contents)
}
10.10 Imperative or functional?
The next method to implement is beside. To put two elements beside each
other, you create a new element in which every line results from concatenating
corresponding lines of the two elements. As a first step, the elements
must be adjusted so that they have the same height. This leads to the following
design of method beside:
def beside(that: Element): Element = {
val this1 = this heighten that.height
val that1 = that heighten this.height
val contents = new Array[String](this1.contents.length)
for (i <0
until this1.contents.length)
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.10 Chapter 10 · Composition and Inheritance 217
contents(i) = this1.contents(i) + that1.contents(i)
new ArrayElement(contents)
}
The beside method first adjusts the two arguments to have the same height.
It uses the heighten method for this, which is like the widen, except that
it adjusts the height of a layout element instead of its width. The heightadjusted
arguments are named this1 and that1. After that, the method
allocates a new array contents and fills it with the concatenation of the
corresponding array elements in this1.contents and that1.contents. It
finally produces a new ArrayElement containing contents.
The last four lines can alternatively be abbreviated to one expression:
new ArrayElement(
for ((line1, line2) <this1.
contents zip that1.contents)
yield line1 + line2
)
Here, the two arrays this1.contents and that1.contents are transformed
into an array of pairs using the zip operator. The zip method picks
corresponding elements in its two arguments and forms an array of pairs. For
instance, this expression
Array(1, 2, 3) zip Array("a", "b", "c")
will evaluate to:
Array((1, "a"), (2, "b"))
If one of the two operand arrays is longer than the other, any remaining elements
are dropped. In the expression above, the third element of the left
operand does not form part of the result, because it does not have a corresponding
element in the right operand.
The zipped array is then iterated over by a for expression. Here, the
syntax for ((line1, line2) <...)
allows you to name both elements
of a pair in one pattern, i.e., line1 stands now for the first element of the
pair, and line2 stands of the second. Pattern matching is one of the major
language innovations in Scala; there will be much more on this topic in
Chapter 12.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.11 Chapter 10 · Composition and Inheritance 218
The for expression has a yield part and therefore returns a result. The
result is of the same kind as the expression iterated over, i.e., it is an array.
Each element of the array is the result of concatenating the corresponding
lines line1 and line2. So the end result is the same as in the first version
of beside, but it is obtained in a purely functional way.
You still need a way to display elements. As usual, this is done by defining
a toString method that returns an element formatted as a string. Here
is its definition:
override def toString = contents mkString "nn"
The implementation of toString makes use of a mkString method
which is defined for all sequences, including arrays. An expression like
arr mkString sep returns a string consisting of all elements of the array
arr. Each element is mapped to a string by calling its toString method.
A separator string sep is inserted between consecutive element strings. So
the expression contents mkString "nn" formats the contents array as a
string, where every array element appears on a line by itself.
Note that toString does not carry an empty ‘()’ parameter list. This
follows the recommendations for the uniform access principle, because
toString is a pure method that does not take any parameters.
10.11 Adding other subclasses
You now have a complete system consisting of two classes: An abstract
class Element which is inherited by a concrete class ArrayElement. One
might also envisage other ways to express an element. Think for instance
of a layout element consisting of a single line which is given by a string.
Another possibility would be a layout element of given width and height that
is filled everywhere by some given character. One important aspect of objectoriented
programming is that it makes it easy to extend a system with new
data-variants. You can simply add further subclasses that extend a common
parent class.
For instance, here are two classes for single-line elements and uniform
rectangles:
class LineElement(s: String) extends Element {
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.12 Chapter 10 · Composition and Inheritance 219
def contents = Array(s)
override def width = s.length
override def height = 1
}
class UniformElement(
ch: Char,
override val width: Int,
override val height: Int
) extends Element {
private val line = new String(Array.make(width, ch))
def contents = Array.make(height, line)
}
With the new subclasses, the inheritance hierarchy for layout elements now
looks as in the left part of Figure 10.1. Other hierarchies are also possible.
For instance, class LineElement could inherit from ArrayElement instead
of being a direct subclass of Element, as is shown in the right part of Figure
10.1. Here’s a modified version LineElement2 which implements this
hierarchy:
class LineElement2(s: String) extends ArrayElement(Array(s)) {
override def width = s.length
override def height = 1
}
Since class LineElement2 inherits from the parameterized class
ArrayElement, it needs to pass an argument to the primary constructor
of its superclass. The argument simply follows the name of the
superclass in parentheses, as in
extends ArrayElement(Array(s))
10.12 Override modifiers and the fragile base class
problem
Note that the definitions of width and height in these classes carry an
override modifier. Previously, you have already seen this modifier in the
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.12 Chapter 10 · Composition and Inheritance 220
UniformElement
Element
«abstract»
LineElement ArrayElement
LineElement2
Figure 10.1: Class hierarchy of layout elements
definition of the toString method. Scala requires such a modifier for all
members that override a concrete member in a parent class. The modifier
is optional if a member implements some abstract member with the same
name. The modifier is forbidden if a member does not override or implement
some other member in a base class. Since height and width in class
LineElement and UniformElement override concrete definitions in class
Element, the new definitions need to be flagged with override.
This provides useful information for the compiler which helps avoid
some hard-to-catch errors and makes system evolution safer. For instance, if
you happen to misspell the method or give it a different parameter list, the
compiler will respond with an error message:
$ scalac LayoutElement.scala
.../LayoutElement.scala:50:
error: method hight overrides nothing
override def hight = 1
ˆ
one error found
The override convention is even more important when it comes to system
evolution. Say you have defined a library of 2D drawing methods. You have
made it publicly available and it is widely used. In the next version of the
library you want to add to your base class Shape a new method
def hidden(): Boolean
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.13 Chapter 10 · Composition and Inheritance 221
The method is used by various drawing methods to determine whether a
shape needs to be drawn. This could lead to a significant speedup, but you
cannot do this without the risk of breaking client code. After all, a client
could have defined a subclass of Shape with a different implementation of
hidden. Say, the client’s method actually makes the receiver object disappear
instead of testing whether the object is hidden. Because the two versions
of hidden override each other, your drawing methods would end up making
objects disappear, which is certainly not what you want! These “accidental
overrides” are at the root of what is called the “fragile base class” problem.
The problem is that if you add new members to base classes in a class hierarchy,
you risk breaking client code.
Scala cannot completely solve the fragile base class problem, but it improves
on the situation by comparison to Java. If the drawing library and
its clients are written in Scala, then the client’s original implementation of
hidden could not have an override modifier, because at the time there was
no other method with that name. Once you add the hidden method to the
second version of your shape class, a recompile of the client would give you
an error like the following:
/src/examples/Shapes.scala:6: error: error overriding method hidden
in class Shape of type ()Boolean;
method hidden needs ‘override' modifier
def hidden(): boolean =
ˆ
That is, instead of wrong behavior you get a compile-time error, which is
usually much preferable.
10.13 Factories
You now have a hierarchy of classes for layout elements. This hierarchy
could be presented to a user “as is”. But you might also choose to hide
the hierarchy in a factory object. A factory object contains methods that
construct other objects. Clients would then use these factory methods for
object construction rather than constructing the objects directly with new.
An advantage of this approach is that object creation can be centralized and
the details of how objects are represented with classes can be hidden.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.14 Chapter 10 · Composition and Inheritance 222
The first task in constructing a factory for layout elements is to choose
where the factory methods should be located. Should they be members of
a singleton object or of a class? What should the containing object or class
be called? There are many possibilities. A straightforward solution is to
create a companion object of class Element and make this be the factory object
for layout elements. That way, you need to expose only the class/object
combo of Element to your clients, and you can hide the three implementation
classes ArrayElement, LineElement, and UniformElement.
Here is a design of the Element object that follows this scheme:
object Element {
def elem(contents: Array[String]): Element =
new ArrayElement(contents)
def elem(chr: Char, width: Int, height: Int): Element =
new UniformElement(chr, width, height)
def elem(line: String): Element =
new LineElement(line)
}
The Element contains three overloaded variants of an elem method. Each
variant constructs a different kind of layout object.
10.14 Putting it all together
With the factory methods in Element, the subclasses ArrayElement,
LineElement and UniformElement can now be private because they need
no longer be accessed directly by clients. Some simplifications of class
Element are also possible. First, direct object construction can now be replaced
by a call to a factory method. Another simplification concerns the
implementations of the adjustment methods widen and heighten (which
was not yet shown). Instead of directly manipulating content arrays, they can
also be implemented by composing the elements with blank rectangles of the
right size, using recursive invocations of the above and beside methods. A
complete implementation of class ArrayElement with these simplifications
is shown below.
import Element.elem
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.14 Chapter 10 · Composition and Inheritance 223
abstract class Element {
def contents: Array[String]
def width: Int = contents(0).length
def height: Int = contents.length
def above(that: Element): Element = {
val this1 = this widen that.width
val that1 = that widen this.width
elem(this1.contents ++ that1.contents)
}
def beside(that: Element): Element = {
val this1 = this heighten that.height
val that1 = that heighten this.height
elem(
for ((line1, line2) <this1.
contents zip that1.contents)
yield line1 + line2)
}
def widen(w: Int): Element =
if (w <= width) this
else {
val left = elem(' ', (w width)
/ 2, height)
var right = elem(' ', w width
left.
width, height)
left beside this beside right
}
def heighten(h: Int): Element =
if (h <= height) this
else {
val top = elem(' ', width, (h height)
/ 2)
var bot = elem(' ', width, h height
top.
height)
top above this above bot
}
override def toString = contents mkString "nn"
}
A fun way to test almost all elements of the API for layout elements is writing
a test program that draws a spiral with a given number of edges. The test
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.14 Chapter 10 · Composition and Inheritance 224
program is called layout.Spiral. You invoke it like this:
$ scala layout.Spiral 6
This should draw a spiral with 6 edges as shown below:
+|
| ++
| + |
| |
++
Here’s a larger example:
$ scala layout.Spiral 17
+|
| ++
| | |
| | ++
|
| | | | |
| | | ++
| |
| | | | | | |
| | | | ++ | | |
| | | | | | | |
| | | ++
| | |
| | | | | |
| | ++
| |
| | | |
| ++
|
| |
++
The spiral-drawing program is shown below.
import Element._
object Spiral {
val space = elem(" ")
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.15 Chapter 10 · Composition and Inheritance 225
val corner = elem("+")
def spiral(nedges: Int, direction: Int): Element = {
if (nedges == 1) elem("+")
else {
val sp = spiral(nedges 1,
(direction + 3) % 4)
def verticalBar = elem('|', 1, sp.height)
def horizontalBar = elem('',
sp.width, 1)
if (direction == 0)
(corner beside horizontalBar) above (sp beside space)
else if (direction == 1)
(sp above space) beside (corner above verticalBar)
else if (direction == 2)
(space beside sp) above (horizontalBar beside corner)
else
(verticalBar above corner) beside (space above sp)
}
}
def main(args: Array[String]) = println(spiral(args(0).toInt, 0))
}
The program defines a spiral method which takes two parameters, the number
of edges to be drawn and a direction in which the first edge should be
drawn. Directions are integers from 0 to 3, where 0 means north, 1 west, 2
south, and 3 means east. A single edge spiral is of the form ‘+’. For spirals
of more than one edge, the method first draws recursively a spiral with one
fewer edges, and then adds a new edge consisting of a horizonalbar or
verticalbar and a corner ‘+’.
10.15 Scala’s class hierarchy
Figure 10.2 shows an outline of Scala’s class hierarchy. At the top of the
hierarchy there is class Any. Every Scala class inherits from this class. Class
Any defines some methods which are inherited by all other classes. These
include the following:
final def ==(that: Any): Boolean
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.15 Chapter 10 · Composition and Inheritance 226
(java.lang.Object)
Figure 10.2: Class hierarchy of Scala.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.15 Chapter 10 · Composition and Inheritance 227
final def !=(that: Any): Boolean
def equals(that: Any): Boolean
def hashCode: Int
def toString: String
This means that every Scala value can be compared using ‘==’, ‘!=’ or
equals, hashed using hashCode, and formatted using toString. The equality
and inequality methods ‘==’ and ‘!=’ are declared final in class Any,
which means that they cannot be overridden in subclasses. In fact, ‘==’ is
always the same as equals and ‘!=’ is always the negation of equals. So individual
classes can tailor what ‘==’ or ‘!=’ means by overriding the equals
method. Chapter 21 will have more to say how this should be done.
The root class Any has two subclasses: AnyVal and AnyRef. AnyVal is
the parent class of every built-in value class in Scala. There are nine such
value classes: Byte, Short, Char, Int, Long, Float, Double, Boolean, and
Unit. The first eight of these correspond to Java’s primitive types, and their
values are represented as Java’s primitive values. The instance objects of
these classes are all written as literals in Scala. For instance, 42 is an object
which is an instance of Int, 'x' is an instance of Char and false is an
instance of Boolean. You cannot create objects of these classes using new.
This is enforced by the “trick” that value classes are all defined to be abstract.
So if you write:
scala> new Int
you would get:
<console>:4: error: class Int is abstract; cannot be instantiated
val res0 = new Int
ˆ
The last value class Unit, corresponds roughly to Java’s void type; it is used
as the return type of a method which does not otherwise return an interesting
result. Unit has a single instance value, which is written ().
As explained in Chapter 5, the value classes support the usual arithmetic
and boolean operators as methods. For instance, Int has methods named +
and *, or Boolean has methods named || and &&. Value classes also inherit
all methods from class Any. You can test this in the interpreter:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.15 Chapter 10 · Composition and Inheritance 228
scala> 42.toString
res0: java.lang.String = 42
scala> 42.hashCode
res1: Int = 42
scala> 42 equals 42
res2: Boolean = true
Note that the value class space is flat; all value classes are subtypes of
scala.AnyVal, but they do not subclass each other. Instead there are implicit
conversions (or: views) between elements of different value classes.
For instance a number of class scala.Int is automatically widened to an
element of class scala.Long when required.
Implicit conversions are also used to add more functionality to value
types. For instance the type Int supports all of the operations below.
scala> 42 max 43
res3: Int = 43
scala> 42 min 43
res4: Int = 42
scala> 1 until 10
res5: Range = Range(1, 2, 3, 4, 5, 6, 7, 8, 9)
scala> 1 to 10
res6: Range.Inclusive = Range(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
scala> 3.abs
res7: Int = 3
scala> (3).
abs
res8: Int = 3
Here’s how this works: The methods min, max, until, to, and abs are all defined
in a class scala.runtime.RichInt and there is an implicit conversion
from class Int to RichInt. The conversion is applied whenever a method
is invoked on an Int, which is undefined in Int but defined in RichInt.
Similar “booster classes” and implicit conversions exist for the other value
classes.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.16 Chapter 10 · Composition and Inheritance 229
The other subclass of the root class Any is class AnyRef. This is the base
class of all reference classes in Scala. On the Java Platform, AnyRef is in
fact just an alias for class java.lang.Object. So classes written in Java as
well as classes written in Scala all inherit from AnyRef. Scala classes are
different from Java classes in that they also inherit from a special marker
interface called ScalaObject.
10.16 Implementing primitives
How is all this implemented? In fact, Scala stores integers in the same way
as Java: as 32-bit words. This is important for efficiency on the JVM and
also for interoperability with Java libraries. Standard operations like addition
or multiplication are implemented as primitive operations. However, Scala
uses the “backup” class java.lang.Integer whenever an integer needs to
be seen as a (Java) object. This happens for instance when invoking the
toString method on an integer number or when assigning an integer to a
variable of type Any. Integers of type Int are converted transparently to
“boxed integers” of type java.lang.Integer whenever necessary.
All this sounds a lot like auto-boxing in Java 5 and it is indeed quite
similar. There’s one crucial difference, though, in that boxing in Scala is
much less visible than boxing in Java. Try the following in Java:
boolean isEqual(int x, int y) {
return x == y;
}
System.out.println(isEqual(42, 42));
You will surely get true. Now, change the argument types of isEqual to
java.lang.Integer (or Object, the result will be the same):
boolean isEqual(Integer x, Integer y) {
return x == y;
}
System.out.println(isEqual(42, 42));
You will find that you get false! What happens is that the number 42 gets
boxed twice, so that the arguments for x and y are two different objects.
Because == means reference equality on reference types, and Integer is a
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.16 Chapter 10 · Composition and Inheritance 230
reference type, the result is false. This is one aspect where it shows that
Java is not a pure object-oriented language. There is a difference between
primitive types and reference types which can be clearly observed.
Let’s repeat the same experiment in Scala:
scala> def isEqual(x: Int, y: Int) = x == y
isEqual: (Int,Int)Boolean
scala> isEqual(42, 42)
res9: Boolean = true
scala> def isEqual(x: Any, y: Any) = x == y
isEqual: (Any,Any)Boolean
scala> isEqual(42, 42)
res10: Boolean = true
In fact, the equality operation == in Scala is designed to be transparent with
respect to the type’s representation. For value types, it is the natural (numeric
or boolean) equality. For reference types, == is treated as an alias of the
equals method inherited from Object. That method is originally defined
as reference equality, but is overridden by many subclasses to implement
their natural notion of equality. This also means that in Scala you never fall
into Java’s well-known trap concerning string comparisons. In Scala, string
comparison works as it should:
scala> val x = "abc"
x: java.lang.String = abc
scala> val y = "abc"
y: java.lang.String = abc
scala> x == y
res11: Boolean = true
In Java, the result of comparing x with y would depend on where x and y are
declared. If they are declared in the same class, the comparison would yield
true, but if they are declared in different classes, it would yield false.
However, there are situations where you need reference equality instead
of user-defined equality. An example is hash-consing, where efficiency is
paramount. For these cases, class AnyRef defines an additional eq method,
which cannot be overridden, and which is implemented as reference equality
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.17 Chapter 10 · Composition and Inheritance 231
(i.e., it behaves like == in Java for reference types). There’s also the negation
of eq, which is called ne. Example:
scala> val x = new String("abc")
x: java.lang.String = abc
scala> val y = new String("abc")
y: java.lang.String = abc
scala> x == y
res12: Boolean = true
scala> x eq y
res13: Boolean = false
scala> x ne y
res14: Boolean = true
10.17 Bottom types
At the bottom of the type hierarchy in Figure 10.2 you see the two classes
scala.Null and scala.Nothing. These are special types that handle some
“corner cases” of Scala’s object-oriented type system in a uniform way.
Class Null is the type of the null reference; it is a subclass of every
reference class (i.e., every class which itself inherits from AnyRef). Null is
not compatible with value types. Therefore, you cannot assign a null value
to an integer variable, say.
The type Nothing is at the very bottom of Scala’s class hierarchy. It is
a subtype of every other type. However, there exist no values of this type
whatsoever. Why does it make sense to have a type without values? One
use of Nothing is that it signals abnormal termination. For instance there’s
the error method in the Predef object of Scala’s standard library, which is
defined as follows.
def error(message: String): Nothing = throw new Error(message)
The return type of error is Nothing, which tells users that the method will
not return normally (it throws an exception instead). Because Nothing is a
subtype of every other type, you can use methods like error in very flexible
ways. For instance:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 10.18 Chapter 10 · Composition and Inheritance 232
def divide(x: Int, y: Int): Int =
if (y != 0) x / y
else error("can't divide by zero")
The then-branch of the conditional above has type Int, whereas the else
branch has type Nothing. Because Nothing is a subtype of Int, the type of
the whole conditional is Int, as required.
10.18 Conclusion
In this section, you have seen more concepts related to object-oriented programming
in Scala. Among others, you have encountered abstract classes,
inheritance and subtyping, class hierarchies, class parameter fields, and
method overriding. You should have developed a feel for constructing a
non-trivial class hierarchy in Scala.
Another important aspect that was treated mostly “between the lines”
in this chapter was composition. Layout elements are a good example of
a system where objects can be constructed from simple parts (arrays, lines,
and rectangles) with the aid of composing operators (above and beside).
Such composing operators are also often called combinators because they
combine elements of some domain into new elements.
Thinking in terms of combinators is generally a good way to approach
library design: It pays to think about the fundamental ways to construct objects
in an application domain. What are the simple objects? In what ways
can more interesting objects be constructed out of simpler ones? How do
combinators hang together? What are the most general combinations? Do
they satisfy any interesting laws? If you have good answers to these questions,
your library design is on track.
So far, the whole treatment of classes and objects was based on single
inheritance, where every class inherits from just one superclass. In the next
chapter, you will find out about traits, which let you construct even more
interesting class hierarchies.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 11
Traits and Mixins
Traits offer a more fine-grained way to reuse code than normal inheritance.
Like inheritance, traits let you add code to a class that is written elsewhere in
the program. Unlike inheritance, however, a class can “mix in” any number
of traits. With inheritance, only one superclass is allowed per class.
This chapter introduces traits and shows you two of the most common
ways they are useful: widening thin interfaces to thick ones, and defining
stackable modifications. Chapter 25 will discuss the role of traits in defining
modules.
11.1 Syntax
A trait definition looks just like a class definition except that it uses the keyword
trait:
trait Printable {
def print() {
println(this)
}
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 11.1 Chapter 11 · Traits and Mixins 234
Once a trait is defined, it can be mixed into a class using the with keyword.1
For example, here are a couple of classes that use the above trait:
class Frog extends Object with Printable {
override def toString = "a frog"
}
Methods inherited via a trait can then be used just like methods inherited
otherwise:
scala> val frog = new Frog
frog: Frog = a frog
scala> frog.toString
res0: java.lang.String = a frog
scala> frog.print()
a frog
A trait is also usable as a type. Here is an example using Printable as a
type:
scala> val pr: Printable = frog
pr: Printable = a frog
scala> pr.print()
a frog
As a syntactic shorthand, you can extend a trait directly if you do not care
to extend a more specific superclass. You could have just as well written the
Frog class like this:
class Frog extends Printable {
override def toString = "a frog"
}
A trait can define the same kinds of members that you would otherwise find
in a class. However, a trait cannot have any “class” parameters, parameters
1The phrase “mix in” essentially means that you get the benefit of both inheritance and
composition. Your class inherits the abstract interface of the trait it mixes in through Java’s
interface inheritance mechanism, and “inherits” any concrete method implementations in the
trait via composition.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 11.2 Chapter 11 · Traits and Mixins 235
passed to the primary constructor of a class.2 In other words, although you
could define a class like this:
class Point(x: Int, y: Int) {
}
The following attempt to define a trait would not compile:
trait NoPoint(x: Int, y: Int) { // Does not compile
}
11.2 Thin versus thick interfaces
One major use of traits is to automatically add methods to a class in terms of
methods that the class already has. That is, traits can expand a thin interface
into a thick interface.
Thin versus thick interfaces are a commonly faced trade-off in objectoriented
design. The trade-off is between the implementors and clients of
an interface. A thick interface has many methods, which make it convenient
for the caller. Clients can pick a method that corresponds exactly to the
functionality they want, instead of having to use a more primitive method
and write extra code to adapt the method to their needs. A thin interface, on
the other hand, has fewer methods, and thus is easier to implement. Java’s
interfaces are most often of the thin kind.
Scala traits make thick interfaces more convenient. Unlike Java interfaces,
traits can define methods that include code, i.e., they can not only
declare abstract methods, but also define concrete ones. You just saw one
example of this: the print method of the Printable trait is concrete.
Adding a concrete method to a trait tilts the thin-thick trade-off heavily
towards thick interfaces. Unlike with Java interfaces, adding a concrete
method to a Scala trait is a one-time effort. You only need to implement the
method once, in the trait itself, instead of needing to reimplement it for every
class that mixes in the trait. Thus, thick interfaces are less work to provide
in Scala than in a language without traits.
2They are called class parameters because you can only define them for classes, not for
traits or singleton objects.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 11.3 Chapter 11 · Traits and Mixins 236
To use traits as interface thickeners, simply define a trait with a small
number of abstract methods—the thin part of the trait’s interface—and a
potentially large number of concrete methods, all implemented in terms of
the abstract methods. Then you can take any class implementing the thin
version of the interface, mix in the thickening trait, and end up with a class
that has all of the thick interface available.
11.3 The standard Ordered trait
Comparison is one place where a thick interface is convenient. Whenever
you have objects that are ordered, it is convenient if you can use the precise
ordering operation for each situation. Sometimes you want ‘<’ (less
than), and sometimes you want ‘<=’ (less than or equal). A thin interface
would provide just one of these methods, forcing you to write things like
((x < y) || (x == y)). A thick interface would provide you with all of
the usual comparison operators, so that you can directly write things like
(x <= y). The standard Ordered trait allows you to implement one method
and gain access to four different variations.
Here is what you might do without the Ordered trait. If you are implementing
a Book class that has an ordering, you might write the following
code:
class Book(val author: String, val title: String) {
def <(that: Book) =
(author < that.author) ||
((author == that.author) && title < that.title)
def >(that: Book) = that < this
def <=(that: Book) = (this < that) || (this == that)
def >=(that: Book) = (this > that) || (this == that)
override def equals(that: Any) =
that match {
case that: Book =>
(author == that.author) && (title == that.title)
case _ => false
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 11.3 Chapter 11 · Traits and Mixins 237
}
This class defines four comparison operators (<, >, <=, and >=) plus the standard
equals method. As an aside, you should always override equals instead
of ==, so as to maintain Java compatibility. Don’t worry; the compiler
will fuss at you if you forget and try to override ==. You’ll find more explanations
about equality in chapter 21.
This Book class is a classic demonstration of the costs of defining a thick
interface. First, notice that three of the comparison operators are defined in
terms of the first one. For example, > is defined as the opposite of <, and <=
is defined as literally “less than or equal.” Additionally, notice that all three
of these methods would be the same for any other class that is comparable.
There is nothing special about books regarding <=. In a comparison context,
<= is always used to mean “less than or equals.” There is a lot of boilerplate
code in this class which would probably show up in similar form everytime
you create a class that implements ordering comparison operations.
The Ordered trait can reduce this waste. To use the Ordered trait, your
class must define a single compare method which does the real work of
comparison. Then you can mix in Ordered, and clients of your class can use
four different comparison operations even though you did not define them.
Here is how it looks for the Book class:
class Book(val author: String, val title: String)
extends Ordered[Book]
{
def compare(that: Book): Int =
if (author < that.author) 1
else if (author > that.author) 1
else if (title < that.title) 1
else if (title > that.title) 1
else 0
override def equals(that: Any) =
that match {
case that: Book => compare(that) == 0
case _ => false
}
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 11.4 Chapter 11 · Traits and Mixins 238
Warning: if you use Ordered, you must still define your own equals()
method. For technical reasons involving runtime types, this method cannot
be correctly defined in the Ordered trait itself.
The complete Ordered trait, minus comments and compatibility cruft, is
as follows:
trait Ordered[T] {
def compare(that: T): Int
def <(that: T): Boolean = (this compare that) < 0
def >(that: T): Boolean = (this compare that) > 0
def <=(that: T): Boolean = (this compare that) <= 0
def >=(that: T): Boolean = (this compare that) >= 0
}
11.4 Traits for modifying interfaces
You have now seen one major use of traits: turning a thin interface into a
thick one. Now let us turn to a second major use: provide stackable modifications
to behavior. This section focuses on modifications, while the next
one is about making them stackable.
As an example modification, consider the caching of hash codes. Hash
codes need to be computed quickly, because hash-based collections make
more hash-code comparisons than full == comparisons. If a class’s hashcode
computation is slow, then collections holding that class can waste a lot
of time computing hashes.
One way to speed up hashing is to cache the computed values. That way,
even if a hash routine is not fast already, the cost is only paid one time per
object instead of one time per call to hashCode. Here is a simple trait that
caches the hash code of the class it is mixed into:
trait HashCaching {
/** A cache holding the computed hash. */
private var cachedHash: Int = 0
/** A boolean indicating whether the cache is defined */
private var hashComputed: Boolean = false
/** The hash code computation is abstract */
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 11.4 Chapter 11 · Traits and Mixins 239
def computeHash: Int
/** Override the default Java hash computation */
override def hashCode = {
if (!hashComputed) {
cachedHash = computeHash
hashComputed = true
}
cachedHash
}
}
Given this trait, the Book class can now be modified to include cached hash
codes.
class Book(val author: String, val title: String)
extends Ordered[Book]
with HashCaching
{
// compare and equals() as before...
def computeHash = author.hashCode + title.hashCode
}
Stylistically, this version of HashCaching does not strictly modify the
hashCode method, but instead refactors hashing so that the computation is
actually done in a separate method. It is also possible to have HashCaching
modify a hashCode in place, but there is a catch.
The new HashCaching can be written without problems:
trait HashCaching {
private var cachedHash: Int = 0
private var hashComputed: Boolean = false
/** Override the default Java hash computation */
override def hashCode = {
if (!hashComputed) {
cachedHash = super.hashCode
hashComputed = true
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 11.4 Chapter 11 · Traits and Mixins 240
cachedHash
}
}
However, attempting to use it runs into a problem:
class Book(val author: String, val title: String)
extends Ordered[Book]
with HashCaching
{
// compare and equals() as before...
override def hashCode = {
Thread.sleep(3000) // simulate a VERY slow hash
author.hashCode + title.hashCode
}
}
This version does not get its hash code cached! The problem is that Book’s
hashCode method overrides HashCaching’s. In this way, a class can always
override anything it inherits, including things it inherits via traits. This is
important so that you stay in control of the classes you are writing. However,
sometimes you really do want a trait to modify one of your methods.
In this case, you can divide your class into two parts, putting methods
you wish to be overridable into a “base” class. For the book example it looks
like this:
abstract class BaseBook(val author: String, val title: String)
{
override def hashCode = {
Thread.sleep(3000)
author.hashCode + title.hashCode
}
}
class Book(author: String, title: String)
extends BaseBook(author, title)
with Ordered[Book]
with HashCaching
{
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 11.5 Chapter 11 · Traits and Mixins 241
// compare and equals() as before...
}
Now the hash value gets cached, just as desired.
Arranging HashCaching like this is not just a matter of stylistic taste.
If you arrange a trait like this, using super calls instead of refactoring a
method, then the trait can be stacked with other traits that modify the same
method.
11.5 Stacking modifications
Stackable modifications can be combined with each other in any way you
desire. Given a set of stackable traits that each modify a class in some way,
you can pick and choose any of those traits you would like to use when
defining new classes.
Let us continue the hashing example, and consider another common
hashing challenge: many times, the most useful bits of a hash are concentrated
somewhere in the middle. For some hashing collections, it is better
to either move the useful bits to low-order bits, or to spread the useful bits
throughout the integer.
Thus, you can often improve on a hash function by scrambling the bits
around. Here is a trait that does just that:
trait HashScrambling
{
override def hashCode = {
val original = super.hashCode
def rl(i: Int) = Integer.rotateLeft(original, i)
original ˆ rl(8) ˆ rl(16) ˆ rl(24)
}
}
To use this in the book class, change its definition to:
class Book(author: String, title: String)
extends BaseBook(author, title)
with Ordered[Book]
with HashScrambling
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 11.6 Chapter 11 · Traits and Mixins 242
with HashCaching
{
// compare and equals() as before...
}
Be aware that the order of the with clauses is significant. With the order
specified above, the scrambled hash is cached. If you mix in the traits in the
opposite order, then the unscrambled hash will be cached, and the hash will
be scrambled again each time hashCode is called.
11.6 Locking and logging queues
Locking and logging queues are a well-known example of stackable modifications.
It is well known within the Scala community because it was considered
during the design of traits, and it is known in language-design circles
because of early Scala materials that use it as an example. This section
overviews the problem, and gives the solution in Scala using stackable traits.
The locking logging example involves the following three concepts:
• Queue: an abstract class that can get and put elements.
• Locking: a modification of a queue to use locking.
• Logging: a modification of a queue to log gets and puts.
Using stackable traits, the solution is just as easy as the hash code examples
seen so far. To simplify the example, this code assumes that the queues
are over integers, as opposed to arbitrary objects.
trait Queue {
def get(): Int
def put(x: Int)
}
trait LockingQueue extends Queue {
abstract override def get(): Int =
synchronized { super.get() }
abstract override def put(x: Int) =
synchronized { super.put(x) }
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 11.6 Chapter 11 · Traits and Mixins 243
}
trait LoggingQueue extends Queue {
def log(message: String) = println(message)
abstract override def get(): Int = {
val x = super.get()
log("got: " + x)
x
}
abstract override def put(x: Int) {
super.put(x)
log("put: " + x)
}
}
There are two new issues introduced by this example that did not appear in
the hashing examples.
First, the locking and logging traits specify Queue as a superclass. This
means that any class they are mixed into, must be a subtype of Queue. The
hashCode examples only overrode methods from class Any, so it was not
necessary to specify a superclass. In this example, the traits override methods
that are specific to Queues.
Second, these traits make super calls on methods that are declared abstract!
Such calls are illegal for normal classes, because at runtime they
will certainly fail. For a trait, however, such a call can succeed, so long as
the trait is mixed in after another trait which gives a concrete definition to
the method. This construct is frequently needed with traits that implement
stackable modifications. To tell the compiler you are doing this on purpose,
you must mark such methods as abstract override. This combination of
modifiers is only allowed for members of traits; it makes no sense outside of
traits.
By the way, this second issue shows an important difference between
super calls in traits and super calls in classes. In a class, super calls invoke
a known method, while in a trait, the method is different for each place in
the code the trait is mixed in.
Stylistically, notice that there is as yet no commitment about which traits
are used by which class. Clients remain free to select which traits to use
each time they create a new queue using new. Here is a concrete queue class,
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 11.6 Chapter 11 · Traits and Mixins 244
along with two queue objects using different trait combinations:3
import scala.collection.mutable.ArrayBuffer
class StandardQueue extends Queue {
private val buf = new ArrayBuffer[Int]
def get = buf.remove(0)
def put(x: Int) = buf += x
}
val q1 = new StandardQueue with LockingQueue with LoggingQueue
val q2 = new StandardQueue with LoggingQueue
Given these two modification traits, you can use all four combinations of
mixins: with or without logging, and with or without locking. Additionally,
if you choose both locking and logging, you can select which order you want
them to happen in, i.e. whether to log before or after the lock is acquired.
Thus by defining two traits, you get five different possible modifications.
With three traits, the number would rise to sixteen combinations, and with
four traits, an enormous sixty-five possible combinations. Thus, whenever
you see a way to divide behavior into two or more stackable traits, you should
strongly consider doing so. Stackable traits provide a large number of useful
combinations out of a small amount of code.
Aside: The previous example illustrates that Scala has synchronized
blocks to make a region of code atomic. Staying in line with the expressionoriented
nature of Scala, a synchronized block is an expression that computes
a result. For instance, the first synchronized block in method get
computes an integer as result. Unlike in Java, there is no synchronized
method modifier in Scala. So you can’t write
synchronized def method() = body // ERROR
But the following can always be used as a replacement:
def method() = synchronized { body }
You’ll find out more about concurrency in Chapter 23.
3As mentioned in Chapter 3, an import statement allows you to use a class’s or a trait’s
simple name. Since you import scala.collection.mutable.ArrayBuffer here, you can
just say ArrayBuffer in the rest of the source file.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 11.7 Chapter 11 · Traits and Mixins 245
11.7 Traits versus multiple inheritance
Traits are not the same as the multiple inheritance used in other languages.
The difference is in the meaning of super calls. In multiple inheritance, a
super call invokes a method in one of the superclasses of the calling class.
With traits, the invoked method is found according to a linearization of the
classes and traits that are mixed into a class. Because of this difference,
Scala’s traits support stacking of modifications as described above.
Before looking at linearization, take a moment to consider how to stack
modifications in a language with multiple inheritance. Perhaps your first try
is to implement locking and logging queues as described previously. You
would then instantiate a queue and call a method on it, like this:
val q1 = new StandardQueue with LockingQueue with LoggingQueue
q1.put(42) // which put is called?
The first question is, which put method gets invoked by this call? Perhaps
the rule is that the last superclass wins, in which case LoggingQueue will get
called. LoggingQueue calls super and then logs the call, and that is it. No
locking happened! Likewise, if the rule is that the first superclass wins, the
resulting queue locks accesses but does not log them. Thus neither ordering
works.
Your next try might be to make an explicit subclass for locking, logging
queues. Now you have new problems. for example, suppose you try the
following:
trait LockingLoggingQueue extends LockingQueue with LoggingQueue {
def put(x: Int) = {
LockingQueue.super.put(x)
LoggingQueue.super.put(x)
}
}
Now what happens is that the base class’s put method gets called twice–once
with locking, and once with logging, but in no case with both.
There is simply no good solution to this problem using multiple inheritance.
You have to factor the code differently. By contrast, the traits solution
in Scala is straightforward. You simply mix in LockingQueue or
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 11.7 Chapter 11 · Traits and Mixins 246
LoggingQueue, or both, and the Scala treatment of super makes it all work
out. Something must be different here from multiple inheritance.
The answer is in linearization. When you instantiate a class with new,
Scala takes the class and all of its inherited classes and traits and puts them
in a single, long, linear order. Then, whenever you call super inside one of
those classes, the invoked method is the next one up the chain. If all of the
methods but the last calls super, then the net result is the stackable behavior
described earlier.
The precise order of the linearization is described in the language specification.
It is a little bit complicated, but the main thing you need to know
is that, in any linearization, a class is always linearized before all of its superclasses
and mixed in traits. Thus, when you write a method that calls
super, that method is definitely modifying the behavior of the superclasses
and mixed in traits, not the other way around. This rule means that you can
use super the same way for writing both subclasses that modify a superclass’s
methods, and stackable traits that modify the class they are mixed
into.
The main properties of Scala’s linearization are illustrated by the following
example. You can safely skip the rest of this section if you are not
interested in the details right now.
Say you have a class C which inherits from a superclass Sup and two
traits Trait1 and Trait2. Trait2 extends in turn another trait Trait3.
class Sup
trait Trait1 extends Sup
trait Trait2 extends Sup with Trait3
class C extends Sup with Trait1 with Trait2.
Then the linearization of C is computed from back to front as follows. The
last part of the linearization of C is the linearization of class Sup. This linearization
is copied over without any changes. The second to last part is
the linearization of the first mixin, trait Trait1, but all classes that are already
in the linearization of Sup are left out now, so that each class appears
only once C’s linearization. This is preceded by the linearization of Trait2,
where again any classes that have already been copied in the linearizations
of the superclass or the first mixin are left out. Finally, the first class in the
linearization of C is C itself.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 11.8 Chapter 11 · Traits and Mixins 247
Trait2
C
Trait1
Trait3 Sup
AnyRef
Any
Figure 11.1: Linearization of class C
If you apply this schema to the previous classes and traits, you should get
Class Linearization
Sup Sup, AnyRef, Any
Trait1 Trait1, Sup, AnyRef, Any
Trait2 Trait2, Trait3, Sup, AnyRef, Any
C C, Trait2, Trait3, Trait1, Sup, AnyRef, Any
Figure 11.1 presents
a diagram that depicts the linearization of class C graphically.
11.8 To trait, or not to trait?
Whenever you implement a reusable collection of behavior, you will have to
decide whether you want to use a trait or an abstract class. There is no firm
rule, but here are a few guidelines to consider.
If the behavior will not be reused, then make it into a concrete class. It is
not reusable behavior after all.
If it might be reused in multiple, unrelated classes, then make it a trait.
Only traits can be mixed into different parts of the class hierarchy.
If you want to inherit it in Java code, then use an abstract class. Since
traits with code do not have a close Java analog, it is awkward to inherit
from a trait in Java. Inheriting from a Scala class, meanwhile, is exactly like
inheriting from a Java class.
If you plan to distribute it in compiled form, then lean towards using an
absract class, unless the behavior is only used within the code your group
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 11.8 Chapter 11 · Traits and Mixins 248
distributes. When a trait changes, classes that inherit from it must be recompiled
more frequently than if the trait had been made a class.
If efficiency is very important, lean towards using class. Most Java runtimes
make a virtual method invocation of a class member a faster operation
than an interface method invocation. Traits get compiled to interfaces and
therefore pay a slight performance overhead. However, you should make
this choice only if you know that the class or trait in question will constitute
a performance bottleneck.
If you still do not know, after considering the above, then start by making
it as a trait. You can always change it later, and in general using a trait keeps
more options open.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 12
Case Classes and Pattern Matching
This chapter introduces case classes and pattern matching, twin constructs
that support you when writing regular, non-encapsulated data structures. The
two constructs are particularly helpful for tree-like recursive data.
If you have programmed in a functional language before, then you will
probably recognize pattern matching. Case classes will still be new, however.
Case classes are Scala’s secret for allowing pattern matching without
requiring a large amount of boilerplate to set everything up. In the common
case, you add a single case keyword to each class that you want to be pattern
matchable.
This chapter starts with a simple example of case classes and pattern
matching. It then goes through all of the kinds of patterns that are supported,
talks about the role of sealed classes, discusses the Option type, and shows
some unobvious places in the language that pattern matching is used. Finally,
a larger, more realistic example of pattern matching is shown.
12.1 A simple example
Before delving into all the rules and nuances of pattern matching, it is worth
looking at a simple example to get the general idea. Let us say you want to
write a library that manipulates arithmetic expressions.
A first step to tackle this problem is the definition of the input data. To
keep things simple, let’s concentrate on arithmetic expressions consisting of
variables, numbers, and unary and binary operations. This is expressed by
the following hierarchy of Scala classes:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.1 Chapter 12 · Case Classes and Pattern Matching 250
abstract class Expr
case class Var(name: String) extends Expr
case class Number(num: Double) extends Expr
case class UnOp(operator: String, arg: Expr) extends Expr
case class BinOp(operator: String,
left: Expr, right: Expr) extends Expr
There is an abstract base class Expr with four subclasses, one for each kind
of expressions that’s considered.
Instead of an abstract class, we could have equally well chosen to model
the root of that class hierarchy as a trait (modeling it as an abstract class is
slightly more efficient). The bodies of all five classes are empty. In Scala you
can leave out the braces around an empty class body if you wish, so class C
is the same as class C {}.
Case classes
The only other noteworthy thing about these declarations is that each subclass
has a case modifier. Classes with such a modifier are called case
classes. Using the modifier makes the Scala compiler add some syntactic
conveniences to your class.
First, it adds a factory method with the name of the class. This means
you can write directly, say, Var("x") to construct a Var object instead of the
slightly longer new Var("x"):
scala> val v = Var("x")
v: Var = Var(x)
scala> val op = BinOp("+", Number(1), v)
op: BinOp = BinOp(+,Number(1.0),Var(x))
Second, all arguments in the parameter list of a case class implicitly get a
val prefix, so they are maintained as fields.
scala> v.name
res0: String = x
scala> op.left
res1: Expr = Number(1.0)
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.1 Chapter 12 · Case Classes and Pattern Matching 251
Third, the compiler adds the “natural” implementations of toString,
hashCode, and equals to your class. They will print, hash, and compare
a whole tree consisting of the class and (recursively) all its arguments. Since
== in Scala always forwards to equals, this means in particular that elements
of case classes are always compared structurally.
scala> println(op)
BinOp(+,Number(1.0),Var(x))
scala> op.right == Var("x")
res3: Boolean = true
All these conventions add a lot of convenience, at a small price. The price
is that you have to write the case modifier and that your classes and objects
become a bit larger because additional methods are generated and an implicit
field is added for each constructor parameter.
However, the biggest advantage of case classes is that they support pattern
matching.
Pattern Matching
Let’s say you want to simplify arithmetic expressions of the kinds presented
above. There is a multitude of possible simplification rules. The following
three rules just serve as an illustration:
UnOp("",
UnOp("",
e)) => e // Double negation
BinOp("+", e, Number(0)) => e // Adding zero
BinOp("*", e, Number(1)) => e // Multiplying by one
Using pattern matching, these rules can be taken almost as they are to form
the core of a simplification method in Scala:
def simplifyTop(expr: Expr): Expr = expr match {
case UnOp("",
UnOp("",
e)) => e // Double negation
case BinOp("+", e, Number(0)) => e // Adding zero
case BinOp("*", e, Number(1)) => e // Multiplying by one
case _ => expr
}
Here’s a test application of simplifyTop:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.1 Chapter 12 · Case Classes and Pattern Matching 252
scala> simplifyTop(UnOp("",
UnOp("",
Var("x"))))
res4: Expr = Var(x)
The right hand side of simplifyTop consists of a match expression. match
corresponds to switch in Java, but is written after the selector expression.
I.e. it’s
selector match { alternatives }
instead of
switch (selector) { alternatives }
A pattern match includes a sequence of alternatives, each starting with the
keyword case. Each alternative includes a pattern and one or more expressions
to evaluate if the pattern matches. An arrow symbol => separates the
pattern from the expressions.
A match expression is evaluated by trying each of the patterns in the
order they are written. The first pattern that matches is selected, and the part
following the arrow is selected and executed.
A constant pattern like ""
or 1 matches values that are equal to the
constant with respect to ==. A variable pattern like e matches every value.
The variable then refers to that value in the right hand side of the case clause.
In this example, note that the first three examples evaluate to e, a variable
that is bound within the associated pattern. The wildcard pattern “_” also
matches every value, but it does not introduce a variable name to refer to that
value. In this example, notice how the match ends with a default case that
does nothing.
A constructor pattern looks like UnOp("",
e). This pattern matches all
values of type UnOp whose first argument matches ""
and whose second argument
matches e. Note that the arguments to the constructor are themselves
patterns. This allows you to write deep patterns like
UnOp("",
UnOp("",
e))
using a concise notation. Imagine trying to implement this same functionality
using the visitor design pattern [Gam94]! Almost as awkward, imagine
implementing it as a long sequence of if statements, type tests, and type
casts.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.2 Chapter 12 · Case Classes and Pattern Matching 253
match compared to switch
Match expressions can be seen as a generalization of Java-style switches. A
Java-style switch can be naturally expressed as a match expression where
each pattern is a constant and the last pattern may be a wildcard (which represents
the default case of the switch). There are three differences to keep in
mind, however. First, match is an expression in Scala, i.e. it always returns
a result. Second, Scala’s alternative expressions never “fall through” into
the next case. Third, if none of the patterns matches, an exception named
MatchError is thrown. This means you always have to make sure that all
cases are covered, even if it means adding a default case where there’s nothing
to do.
Here’s an example:
expr match {
case BinOp(op, left, right) => println(expr+"is a binary operation")
case _ =>
}
The second case is necessary because otherwise the expression above would
throw a MatchError for every expr argument which is not a BinOp.
12.2 Kinds of patterns
The previous example showed several kinds of patterns in quick succession.
Now take a minute to look at each.
The syntax of patterns is easy, so do not worry about that too much. All
patterns look exactly like the corresponding expression. For instance, the
pattern Number(x) matches any number object, binding x to the number.
Used as an expression, Number(x) recreates an equivalent object, assuming
x is already bound to the number. The main thing to pay attention to is just
what kinds of patterns are possible.
The wildcard
The wildcard pattern _ matches any object whatsoever. You have already
seen it used as a default, catch-all alternative, like this:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.2 Chapter 12 · Case Classes and Pattern Matching 254
expr match {
case BinOp(op, left, right) => println(expr+"is a binary operation")
case _ =>
}
It can also be used to ignore parts of an object that you do not care about.
For example, the above example does not actually care what the elements of
a binary operation are. It just checks whether it is a binary operation at all.
Thus the code can just as well use the wildcard pattern for the elements of
the BinOp:
expr match {
case BinOp(_, _, _) => println(expr+"is a binary operation")
case _ => println("It's something else")
}
Constants
A constant pattern matches only itself. Any literal may be used as a constant.
For example, 5, true, and "hello" are all constant patterns. Also, any
named value can also be used as a constant. For example, Nil is a pattern that
matches only the empty list. Here are some examples of constant patterns:
def describe(x: Any) = x match {
case 5 => "five"
case true => "truth"
case "hello" => "hi!"
case Nil => "the empty list"
case _ => "something else"
}
Here is how the above pattern match looks in action:
scala> describe(5)
res5: java.lang.String = five
scala> describe(true)
res6: java.lang.String = truth
scala> describe("hello")
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.2 Chapter 12 · Case Classes and Pattern Matching 255
res7: java.lang.String = hi!
scala> describe(Nil)
res8: java.lang.String = the empty list
scala> describe(List(1,2,3))
res9: java.lang.String = something else
Variables
A variable pattern matches any object, just like a wildcard. Unlike a wildcard,
Scala binds the variable to whatever the object is. You can then use this
variable to act on the object further. For example, here is a pattern match that
has a special case for zero, and a default case for all other values. The default
cases uses a variable pattern so that it has a name for the value, whatever it
is.
10 match {
case 0 => "zero"
case somethingElse => "not zero: " + somethingElse
}
Variable or constant?
Constant patterns can have symbolic names. For instance, the following
works as in Java:
scala> import Math._
import Math._
scala> E match {
| case Pi => "strange math? Pi = "+Pi
| case _ => "OK"
| }
res10: java.lang.String = OK
This poses the question how the Scala compiler knows that Pi is a constant
imported from the java.lang.Math object, and not a variable that stands
for the selector value itself. Scala uses a simple lexical rule for disambiguation:
A simple name starting with a lower-case letter is taken to be a pattern
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.2 Chapter 12 · Case Classes and Pattern Matching 256
variable; all other references are taken to be constants. To see the difference,
create a lower-case alias for pi and try with that:
scala> val pi = Math.Pi
pi: Double = 3.141592653589793
scala> E match {
| case pi => "strange math? Pi = "+pi
| }
res11: java.lang.String = strange math? Pi =
2.718281828459045
If you need to, you can still use a lower-case name for a pattern constant,
using one of two tricks. First, if the constant is a field of some object, you can
prefix it with a qualifier. For instance, pi is a variable pattern, but this.pi or
obj.pi are constants. If that does not work (because pi is a locally defined
variable, say), you can alternatively enclose the variable name in back ticks.
For instance, ‘pi‘ would again be interpreted as a constant, not as a variable.
Aside: The back tick syntax for identifiers is also useful outside of patterns.
The idea is that you can put any string that’s accepted by the host VM
as an identifier between back ticks. The result is always a Scala identifier.
This holds even if the name contained in the back ticks would be a Scala
reserved word. A typical use case is accessing the (static) yield method
in Java’s Thread class. You cannot write Thread.yield because yield is
a reserved word in Scala. However, you can still refer to the method using
back ticks, e.g. Thread.‘yield‘().
Constructors
Constructors are where pattern matching becomes really powerful. A constructor
pattern looks like BinOp("+", e, Number(0)). It consists of a
name (BinOp) and then a number of patterns within parentheses ("+", e,
and Number(0)). Assuming the name designates a case class, such a pattern
means to first check that the object is a member of the named case class, and
then to check that the constructor parameters of the object match the extra
patterns supplied.
These extra patterns mean that Scala patterns support deep matches.
Such patterns not only check the top-level object supplied, but also check
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.2 Chapter 12 · Case Classes and Pattern Matching 257
the contents of the object against further patterns. Since the extra patterns
can themselves be constructor patterns, you can use them to check arbitrarily
deep into an object. For example, the pattern BinOp("+", e, Number(0))
checks that the top-level object is a BinOp, that its third constructor parameter
is a Number, and that the value field of that number is 0. This pattern is
one line long yet checks three levels deep.
Sequences
You can match against sequence types like List or Array just like you match
against case classes. Use the same syntax, but now you can specify any
number of elements within the pattern. For example, here is a pattern that
checks for a three-element list starting with zero:
case List(0, _, _) => println("found it")
If you want to match against a sequence without specifying how long it
can be, you can specify _* as the last element of the pattern. This funnylooking
pattern matches any number of elements within a sequence, including
zero elements. Here is an example that matches any list that starts with
zero, regardless of how long the list is:
case List(0, _*) => println("found it")
Tuples
You can match against tuples, too. A pattern like (_, _, _) matches an
arbitrary 3-tuple.
("hello", 10, true) match {
case (word, idx, bool) => // use word, idx and bool here...
}
Typed patterns
Patterns have other uses as well. A form of patterns not seen so far is a convenient
replacement for Java’s type tests and type casts. Here’s an example:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.2 Chapter 12 · Case Classes and Pattern Matching 258
scala> def generalSize(x: Any) = x match {
| case s: String => s.length
| case m: Map[_, _] => m.size
| case _ => 1
| }
generalSize: (Any)Int
scala> generalSize("abc")
res12: Int = 3
scala> generalSize(Map(1 >
'a', 2 >
'b'))
res13: Int = 2
scala> generalSize(Math.Pi)
res14: Int = 1
The generalSize method returns the size or length of objects of various
types. Its argument is of type Any, so it could be any value. If the argument
is a String, the method returns the string’s length. The pattern s: String is
a typed pattern; it matches every (non-null) instance of String. The pattern
variable s then refers to that string.
Note that, even though s and x refer to the same value, the type of x
is Any, but the type of s is String. So you can write s.length in the
alternative expression that corresponds to the pattern, but you could not write
x.length, because the type Any does not have a length member.
An equivalent but more long-winded way that achieves the effect of a
match against a typed pattern employs a type-test followed by a type-cast.
Scala uses a different syntax than Java for these. To test whether an expression
expr has type String, say, you write
expr.isInstanceOf[String]
To cast the same expression to type String, you would use
expr.asInstanceOf[String]
Using a type test and cast, you could rewrite the first case of the previous
match expression as follows:
if (x.isInstanceOf[String]) {
val s = x.asInstanceOf[String]
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.2 Chapter 12 · Case Classes and Pattern Matching 259
s.length
} else ...
The operators isInstanceOf and asInstanceOf are treated as predefined
methods of class Any which take a type parameter in square brackets. In fact,
x.asInstanceOf[String] is a special case of a method invocation with an
explicit type parameter String.
As you will have noted by now, writing type tests and casts is rather longwinded
in Scala. That’s intentional, because it is not encouraged practice.
You are usually better off using a pattern match with a typed pattern. That’s
particularly true if you need to do both a type test and a type cast, because
both operations are then rolled into a single pattern match.
The second case of the previous match expression contains the type pattern
m: Map[_, _]. This pattern matches any value that is a Map of some arbitrary
key and value types and lets m refer to that value. Therefore, m.size
is well-typed and returns the size of the map. The underscores in the type
pattern are like wildcards in other patterns. You could have also used (lowercase)
type variables instead.
Type erasure
Can you also test for a map with specific element types? This would be
handy, say for testing whether a given value is a map from type Int to type
Int. Let’s try:
scala> def isIntIntMap(x: Any) = x match {
| case m: Map[Int, Int] => true
| case _ => false
| }
warning: there were unchecked warnings; rerun
with
unchecked
for details
isIntIntMap: (Any)Boolean
The interpreter emitted an “unchecked warning”. You can find out details by
starting the interpreter again with the unchecked
command-line option:
scala> :quit
$ scala unchecked
Welcome to Scala version 2.7.0 (Java HotSpot(TM) Client VM,
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.2 Chapter 12 · Case Classes and Pattern Matching 260
Java 1.5.0_13).
Type in expressions to have them evaluated.
Type :help for more information.
scala> def isIntIntMap(x: Any) = x match {
| case m: Map[Int, Int] => true
| case _ => false
| }
<console>:5: warning: non variable typeargument
Int in
type pattern is unchecked since it is eliminated by erasure
case m: Map[Int, Int] => true
ˆ
In fact, Scala uses the erasure model of generics, just like Java does. This
means that no information about type arguments is maintained at runtime.
Consequently, there is no way to determine at runtime whether a given Map
object has been created with two Int arguments, rather than with arguments
of different types. All the system can do is determine that a value is a Map
of some arbitrary type parameters. You can verify this behavior by applying
isIntIntMap to arguments of different instances of class Map:
scala> isIntIntMap(Map(1 >
1))
res15: Boolean = true
scala> isIntIntMap(Map("abc" >
"abc"))
res16: Boolean = true
The first application returns true, which looks correct, but the second application
also returns true, which might be a surprise. To alert you to the
possibly non-intuitive runtime behavior, the compiler emits unchecked warnings
like the one shown above.
The only exception to the erasure rule concerns arrays, because these are
handled specially in Java as well as in Scala. The element type of an array
is stored with the array value, so you can pattern match on it. Here’s an
example:
scala> def isStringArray(x: Any) = x match {
| case a: Array[String] => "yes"
| case x: AnyRef => "no"
| }
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.3 Chapter 12 · Case Classes and Pattern Matching 261
isStringArray: (Any)java.lang.String
scala> val as = Array("abc")
as: Array[java.lang.String] = Array(abc)
scala> isStringArray(as)
res17: java.lang.String = yes
scala> val ai = Array(1, 2, 3)
ai: Array[Int] = Array(1, 2, 3)
scala> isStringArray(ai)
res18: java.lang.String = no
Variable binding
In addition to the standalone variable patterns, you can also add a variable
to any other pattern. You simply write the variable name, an at sign @, and
then the pattern. This gives you a variable-binding pattern. The meaning of
such a pattern is to perform the pattern match as normal, and if the pattern
succeeds, set the variable to the matched object just as with a simple variable
pattern.
As an example, here is a pattern match that looks for the absolute value
operation being applied twice in a row. Such an expression can be simplified
to only take the absolute value one time.
case UnOp("abs", e@UnOp("abs", _)) => e
In this example, there is a variable-binding pattern with e as the variable
and UnOp("abs", _) as the pattern. If the entire pattern match succeeds,
then the part that matched the UnOp("abs", _) part is made available as
variable e. As the code is written, e then gets returned as is.
12.3 Pattern guards
Sometimes, syntactic pattern matching is not precise enough. For instance,
say you are given the task of formulating a simplification rule that replaces
sum expressions with two identical operands such as e + e by multiplications
of two, e.g. e * 2. In the language of Expr trees, an expression like
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.3 Chapter 12 · Case Classes and Pattern Matching 262
BinOp("+", Var("x"), Var("x"))
would be transformed by this rule to
BinOp("*", Var("x"), Number(2))
You might try to define this rule as follows:
scala> def simplifyAdd(e: Expr) = e match {
| case BinOp("+", x, x) => BinOp("*", x, Number(2))
| case _ => e
| }
<console>:13: error: x is already defined as value x
case BinOp("+", x, x) => BinOp("*", x, Number(2))
ˆ
This fails, because Scala restricts patterns to be linear: a pattern variable
may only appear once in a pattern. However, you can re-formulate the match
with a pattern guard:
scala> def simplifyAdd(e: Expr) = e match {
| case BinOp("+", x, y) if x == y =>
| BinOp("*", x, Number(2))
| case _ =>
| e
| }
simplifyAdd: (Expr)Expr
A pattern guard comes after a pattern and starts with an if. The guard can
be an arbitrary boolean expression, which typically refers to variables in the
pattern. If a pattern guard is present, the match succeeds only if the guard
evaluates to true. Hence, the first case above would only match binary
operations with two equal operands.
Other examples of guarded patterns are
case n: Int if 0 < n => ...
// match only positive integers
case s: String if s.charAt(0) == 'a' => ...
// match only strings starting with the letter ‘a'
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.4 Chapter 12 · Case Classes and Pattern Matching 263
12.4 Pattern overlaps
Patterns are tried in the order in which they are written. The following version
of simplify presents an example where this order matters.
def simplifyAny(expr: Expr): Expr = expr match {
case UnOp("",
UnOp("",
e)) => e // ‘'
is its own inverse
case BinOp("+", e, Number(0)) => e // ‘0' is a neutral element for ‘+'
case BinOp("*", e, Number(1)) => e // ‘1' is a neutral element for ‘*'
case UnOp(op, e) => UnOp(op, simplifyAny(e))
case BinOp(op, l, r) => BinOp(op, simplifyAny(l), simplifyAny(r))
case _ => expr
}
This version of simplify will apply simplification rules anywhere in an
expression, not just at the top, as simplifyTop did. It can be derived from
simplifyTop by adding two more cases for general unary and binary expressions
(cases four and five in the example above).
The fourth case has the pattern UnOp(op, e); i.e. it matches every unary
operation. The operator and operand of the unary operation can be arbitrary.
They are bound to the pattern variables op and e, respectively. The alternative
in this case applies simplifyAny recursively to the operand e and then
re-builds the same unary operation with the (possibly) simplified operand.
The fifth case for BinOp is analogous; it is a “catch-all” case for arbitrary
binary operations, which recursively applies the simplification method to its
operands.
In this example, it is important that the “catch-all” cases come after the
more specific simplification rules. If you wrote them in the other order, then
the catch-all case would be run in favor of the more specific rules. In many
cases, the compiler will even complain if you try. For example:
scala> def simplifyBad(expr: Expr): Expr = expr match {
| case UnOp(op, e) => UnOp(op, simplifyBad(e))
| case UnOp("",
UnOp("",
e)) => e
| }
<console>:20: error: unreachable code
case UnOp("",
UnOp("",
e)) => e
ˆ
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.5 Chapter 12 · Case Classes and Pattern Matching 264
12.5 Sealed classes
Whenever you write a pattern match, you need to make sure you have covered
all of the possible cases. Sometimes you can do this by adding a default
case at the end of the match, but that only applies if there is a sensible default
behavior. What do you do if there is no default? How can you ever feel safe
that you covered all the cases?
In fact, you can enlist the help of the Scala compiler in detecting missing
combinations of patterns in a match expression. To be able to do this, the
compiler needs to be able to tell which are the possible cases. In general,
this is impossible in Scala, because new case classes can be defined at any
time and in arbitrary compilation units. For instance, nobody would prevent
you from adding a fifth case class to the Expr class hierarchy in a different
compilation unit from the one where the other four cases are defined.
The alternative is to make the superclass of your case classes sealed.
A sealed class cannot have any new subclasses added except the ones in the
same file. This is very useful for pattern matching, because it means you only
need to worry about the subclasses you already know about. What’s more,
you get better compiler support as well. If you match against case classes
that inherit from a sealed class, the compiler will flag missing combinations
of patterns with a warning message.
Therefore, if you write a hierarchy of classes intended to be pattern
matched, you should consider sealing them. Simply put the sealed keyword
in front of the class at the top of the hierarchy. Programmers using
your class hierarchy will then feel confident in pattern matching against it.
The sealed keyword, therefore, is often a license to pattern match.
To experiment with sealed classes, you could turn the root Expr of the
arithmetic expression example defined previously into a sealed class:
sealed abstract class Expr {}
The four case classes Var, Number, UnOp, and BinOp can stay as they are.
Now define a pattern match where some of the possible cases are left out:
def describe(e: Expr): String = e match {
case Number(x) => "a number"
case Var(_) => "a variable"
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.5 Chapter 12 · Case Classes and Pattern Matching 265
You will get a compiler warning like the following:
warning: match is not exhaustive!
missing combination UnOp
missing combination BinOp
The warning tells you that there’s a risk your code might produce a
MatchError exception because some possible patterns (UnOp, BinOp) are
not handled. The warning points to a potential source of runtime faults, so it
is usually a welcome help in getting your program right.
However, at times you might encounter a situation where the compiler
is too picky in emitting the warning. For instance, you might know from
the context that you will only ever apply the describe method above to
expressions that are either Numbers or Vars. So you know that in fact no
MatchError will be produced. To make the warning go away, you could add
a third catch-all case to the method, like this:
def describe(e: Expr): String = (e: @unchecked) match {
case Number(x) => "a number"
case Var(_) => "a variable"
case _ => throw new RuntimeException // Should not happen
}
That works, but it is not ideal. You will probably not be very happy that you
were forced to add code that will never be executed (or so you think), just to
make the compiler shut up.
A more lightweight alternative is to add an @unchecked annotation to
the selector expression of the match. This is done as follows.
def describe(e: Expr): String = (e: @unchecked) match {
case Number(x) => "a number"
case Var(_) => "a variable"
}
Annotations are described in Chapter 26. In general, you can add an annotation
to an expression in the same way you add a type: Follow the expression
with a colon and the name of the annotation. The @unchecked annotation
has a special meaning for pattern matching. If a match selector expression
carries this annotation, exhaustivity checking for the patterns that follow will
be suppressed.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.6 Chapter 12 · Case Classes and Pattern Matching 266
12.6 The Option type
Scala has a standard type named Option for optional values. Such a value
can be of two forms: It can be of the form Some(x) where x is the actual
value. Or it can be the None object, which represents a missing value.
Optional values are produced by some of the standard operations on
Scala’s collections. For instance, the get method of a Map produces
Some(value) if a value corresponding to a given key has been found, or
None if the given key is not defined in the Map. Here’s an example:
scala> val capitals =
| Map("France" >
"Paris", "Japan" >
"Tokyo")
capitals:
scala.collection.immutable.Map[java.lang.String,java.lang.String]
= Map(France >
Paris, Japan >
Tokyo)
scala> capitals get "France"
res19: Option[java.lang.String] = Some(Paris)
scala> capitals get "North Pole"
res20: Option[java.lang.String] = None
The most common way to take optional values apart is through a pattern
match. For instance:
scala> def show(x: Option[String]) = x match {
| case Some(s) => s
| case None => "?"
| }
show: (Option[String])String
scala> show(capitals get "Japan")
res21: String = Tokyo
scala> show(capitals get "North Pole")
res22: String = ?
The Option type is used frequently in Scala programs. Compare this to the
dominant idiom in Java of using null to indicate no value. For example,
the get method of java.util.HashMap returns either a value stored in the
HashMap, or null if no value was found. This approach works, but is error
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.7 Chapter 12 · Case Classes and Pattern Matching 267
prone, because it is difficult in practice to keep track of which variables in a
program are allowed to be null. If a variable is allowed to be null, then you
must remember to check it for null every time you use it. When you forget
to check, you open the possibility that a NullPointerException may result
at runtime. Because such exceptions may not happen very often, it can be
difficult to discover the bug during testing.
By contrast, Scala encourages the use of Option to indicate an optional
value. This approach to optional values has several advantages over Java’s.
First, it is far more obvious to readers of code that a variable whose type
is Option[String] is an optional String than a variable of type String,
which may sometimes be null. But most importantly, that programming
error described earlier of using a variable that may be null without first
checking it for null becomes in Scala a type error. If a variable is of type
Option[String] and you try to use it as a String, your Scala program will
not compile.
12.7 Patterns everywhere
Patterns are allowed in many parts of Scala, not just in standalone match
expressions. Take a look at some other places you can use patterns.
Variable definitions
Any time you define a val or a var, you can use a pattern instead of a simple
identifier. For example, you can use this to take apart a tuple and assign each
of its parts to its own variable:
scala> val mytuple = (123, "abc")
mytuple: (Int, java.lang.String) = (123,abc)
scala> val (number, string) = mytuple
number: Int = 123
string: java.lang.String = abc
This construct is quite useful when working with case classes. If you know
the precise case class you are working with, then you can deconstruct it with
a pattern.
scala> val exp = new BinOp("*", Number(5), Number(1))
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.7 Chapter 12 · Case Classes and Pattern Matching 268
exp: BinOp = BinOp(*,Number(5.0),Number(1.0))
scala> val BinOp(op, left, right) = exp
op: String = *
left: Expr = Number(5.0)
right: Expr = Number(1.0)
Functions
A match expression can be used anywhere a function literal can be used. Essentially,
a match expression is a function literal, only more general. Instead
of having a single entry point and list of parameters, a match expression
has multiple entry points, each with their own list of parameters. Each case
clause is an entry point to the function, and the parameters are specified with
the pattern. The body of each entry point is the right-hand side of the case
clause.
Here is a very simple example:
scala> val increase: Int=>Int = { case x: Int => x + 5 }
increase: (Int) => Int = <function>
scala> increase(12)
res23: Int = 17
This match expression has only one case clause. That case clause binds
variable x on its left-hand side. Its body, x+5, is allowed to reference x, just
like the body of y => y+5 can access y.
This facility is quite useful for the actors library, described in Chapter 23.
Here is a typical piece of code, where a pattern match is passed directly to
the react method:
react {
case (name: String, actor: Actor) => {
actor ! getip(name)
act()
}
case msg => {
println("Unhandled message: " + msg)
act()
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.7 Chapter 12 · Case Classes and Pattern Matching 269
}
}
One other generalization is worth noting: a match expression gives you a
partial function. If you apply such a function on a value it does not support,
it will generate a run-time exception. For example, here is a partial function
that returns the second element of a list of integers.
val second: List[Int]=>Int = {
case x::y::_ => y
}
When you run this, the compiler will correctly complain that the match is
not exhaustive:
<console>:17: warning: match is not exhaustive!
missing combination Nil
This function will succeed if you pass it a three-element list, but not if you
pass it an empty list:
scala> second(List(5,6,7))
res24: Int = 6
scala> second(List())
scala.MatchError: List()
at $anonfun$1.apply(<console>:17)
at $anonfun$1.apply(<console>:17)
If you want to check whether a partial function is defined, you must
first tell the compiler that you know you are working with partial functions.
The type List[Int]=>Int includes all functions from a lists of
integers to integers, whether or not they are partial. The type that only
includes partial functions from lists of integers to integers is written
PartialFunction[List[Int],Int]. Here is the second function again,
this time written with a partial function type.
val second: PartialFunction[List[Int],Int] = {
case x::y::_ => y
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.7 Chapter 12 · Case Classes and Pattern Matching 270
Partial functions have a method isDefinedAt that can be used to test
whether the function is defined at a particular element. In this case, the
function is defined for any list that has at least two elements.
scala> second.isDefinedAt(List(5,6,7))
res24: Boolean = true
scala> second.isDefinedAt(List())
res25: Boolean = false
In general, you should try to work with complete functions whenever possible,
because using partial functions allows for run-time errors that the compiler
cannot help you with. Sometimes partial functions are really helpful,
though. You might be sure that an unhandled value will never be supplied.
Alternatively, you might be using a framework that expects partial functions
and so will always check isDefinedAt before calling the function. An example
of the latter is the react example given above, where the argument
is a partially defined function, defined precisely for those messages that the
caller wants to handle.
For expressions
You can also use a pattern in the generator of a for expression. For instance:
scala> for ((country, city) <capitals)
| println("the capital of "+country+" is "+city)
the capital of France is Paris
the capital of Japan is Tokyo
The for expression above retrieves all key/value pairs from the capitals
map. Each pair is matched against the pattern (country, city), which
defines the two variables country and city.
The pair pattern above was special because the match against it can never
fail. Indeed, capitals yields a sequence of pairs, so you can be sure that
every generated pair can be matched against a pair pattern. But it is equally
possible that a pattern might not match a generated value. Here’s an example
where that is the case:
scala> val results = List(Some("apple"), None, Some("orange"))
results: List[Option[java.lang.String]] = List(Some(apple),
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.8 Chapter 12 · Case Classes and Pattern Matching 271
None, Some(orange))
scala> for (Some(fruit) <results)
println(fruit)
apple
orange
As you can see from this example, generated values that do not match the
pattern are discarded. For instance, the second element None in the results
list does not match the pattern Some(fruit); therefore it does not show up
in the output.
12.8 A larger example
After having learned the different forms of patterns, you might be interested
in seeing them applied in a larger example. The proposed task is to write an
expression formatter class that displays an arithmetic expression in a twodimensional
layout. Divisions such as x / x + 1 should be printed vertically,
by placing the numerator on top of the denominator, like this:
x
x
+ 1
As another example, here’s the expression ((a / (b * c) + 1 / n) / 3) in two
dimensional layout:
a 1
+
b
* c n
3
From these examples it looks like the class (let’s call it ExprFormatter) will
have to do a fair bit of layout juggling, so it makes sense to use the layout
library developed in Chapter 10:
class ExprFormatter {
A useful first step is to concentrate on horizontal layout. A structured expression
like
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.8 Chapter 12 · Case Classes and Pattern Matching 272
BinOp("+",
BinOp("*",
BinOp("+", Var("x"), Var("y")),
Var("z")),
Number(1))
should print (x + y) * z + 1. Note that parentheses are mandatory around
“x + y,” but would be optional around “(x + y) * z.” To keep the layout as
legible as possible, your goal should be to omit parentheses wherever they
are redundant, while ensuring that all necessary parentheses are present.
To know about where to put parentheses, one needs to know about the
relative precedence of each operator, so it’s a good idea to tackle this first.
You could express the relative precedence directly as a map literal of the
form
Map(
"|" >
0, "||" >
0,
"&" >
1, "&&" >
1, ...
)
However, this involves some bit of pre-computation of precedences from the
programmer’s part. A more convenient approach is to just define groups of
operators of increasing precedence and then calculate the precedence of each
operator from that. Here’s the code for that:
/** Contains all operators in groups of increasing precedence */
protected val opGroups =
Array(
Set("|", "||"),
Set("&", "&&"),
Set("ˆ"),
Set("==", "!="),
Set("<", "<=", ">", ">="),
Set("+", ""),
Set("*", "%")
)
/** A mapping from operators to their precedence */
private val precedence = {
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.8 Chapter 12 · Case Classes and Pattern Matching 273
val assocs =
for {
i <0
until opGroups.length
op <opGroups(
i)
} yield op >
i
Map() ++ assocs
}
The precedence value is a Map from operators to their precedences (which
are small integers starting with 0). It is calculated using a for expression with
two generators. The first generator produces every index i of the opGroups
array. The second generator produces every operator op in opGroups(i).
For each such operator the for expression yields an association from the operator
op to its index i. Hence, the relative position of an operator in the
array is taken to be its precedence. Associations are written with an infix
arrow, e.g. op >
i. So far you have seen associations only as part of map
constructions, but they are also values in their own right. In fact, the association
op >
i is nothing else but the pair (op, i).
Now that you have fixed the precedence of all binary operators except
“/” it makes sense to generalize this concept to also cover unary operators.
The precedence of a unary operator is higher than the precedence of every
binary operator:
protected val unaryPrecedence = opGroups.length
The precedence of a fraction is treated differently from the other operators
because fractions use vertical layout. However, it will prove convenient to
assign to the division operator the special precedence value 1:
protected val fractionPrecedence = 1
After these preparations, you are ready to write the main format method.
This method takes two arguments: an expression e of type Expr, together
with the precedence enclPrec of the operator directly enclosing the expression
e (if there’s no enclosing operator, enclPrec is supposed to be zero).
The method yields a layout element which represents a two-dimensional array
of characters. See Chapter 10 for a description how layout elements are
formed and what operations they provide.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.8 Chapter 12 · Case Classes and Pattern Matching 274
Here’s the format method in its entirety. Each of its cases will be discussed
individually below.
private def format(e: Expr, enclPrec: Int): Element = e match {
case Var(name) =>
elem(name)
case Number(num) =>
def stripDot(s: String) =
if (s endsWith ".0") s.substring(0, s.length 2)
else s
elem(stripDot(num.toString))
case UnOp(op, arg) =>
elem(op) beside format(arg, unaryPrecedence)
case BinOp("/", left, right) =>
val top = format(left, fractionPrecedence)
val bot = format(right, fractionPrecedence)
val line = elem('',
top.width max bot.width, 1)
val frac = top above line above bot
if (enclPrec != fractionPrecedence) frac
else elem(" ") beside frac beside elem(" ")
case BinOp(op, left, right) =>
val opPrec = precedence(op)
val l = format(left, opPrec)
val r = format(right, opPrec + 1)
val oper = l beside elem(" "+op+" ") beside r
if (enclPrec <= opPrec) oper
else elem("(") beside oper beside elem(")")
}
As expected, format proceeds by a pattern match on the kind of expression.
There are five cases.
The first case is:
case Var(name) =>
elem(name)
If the expression is a variable, the result is an element formed from the variable’s
name.
The second case is:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.8 Chapter 12 · Case Classes and Pattern Matching 275
case Number(num) =>
def stripDot(s: String) =
if (s endsWith ".0") s.substring(0, s.length 2)
else s
elem(stripDot(num.toString))
If the expression is a number, the result is an element formed from the number’s
value. The stripDot function cleans up the display of a floating-point
number by stripping any .0 suffix from a string.
The third case is:
case UnOp(op, arg) =>
elem(op) beside format(arg, unaryPrecedence)
If the expression is a unary operation UnOp(op, arg) the result is formed
from the operation op and the result of formatting the argument arg with the
highest-possible environment precedence. This means that if arg is a binary
operation (but not a fraction) it will always be displayed in parentheses.
The fourth case is:
case BinOp("/", left, right) =>
val top = format(left, fractionPrecedence)
val bot = format(right, fractionPrecedence)
val line = elem('',
top.width max bot.width, 1)
val frac = top above line above bot
if (enclPrec != fractionPrecedence) frac
else elem(" ") beside frac beside elem(" ")
If the expression is a fraction, an intermediate result frac is formed by placing
the formatted operands left and right on top of each other, separated
by an horizontal line element. The width of the horizontal line is the maximum
of the widths of the formatted operands. This intermediate result is
also the final result unless the fraction appears itself as an argument of another
fraction. In the latter case, a space is added on each side of frac.
To see the reason why, consider the expression (a / b) / c. Without the
widening correction, formatting this expression would give
a
Cover
· Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.8 Chapter 12 · Case Classes and Pattern Matching 276
b
c
The problem with this layout is evident—it’s not clear where the top-level
fractional bar is. The expression above could mean either (a / b) / c or else
a / (b / c). To disambiguate, a space should be added on each side to the
layout of the nested fraction a / b. Then the layout becomes unambiguous:
a
b
c
The fifth and last case is:
case BinOp(op, left, right) =>
val opPrec = precedence(op)
val l = format(left, opPrec)
val r = format(right, opPrec + 1)
val oper = l beside elem(" "+op+" ") beside r
if (enclPrec <= opPrec) oper
else elem("(") beside oper beside elem(")")
This case applies for all other binary operations. Since it comes after the
case starting with
case BinOp("/", left, right) => ...
you know that the operator op in the pattern BinOp(op, left, right) cannot
be a division. To format such a binary operation, one needs to format
first its operands left and right. The precedence parameter for formatting
the left operand is the precedence opPrec of the operator op, while for the
right operand it is one more than that. This scheme ensures that parentheses
also reflect the correct associativity. For instance, the operation
BinOp("",
Var("a"), BinOp("",
Var("b"), Var("c")))
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.8 Chapter 12 · Case Classes and Pattern Matching 277
would be correctly parenthesized as a (
b c).
The intermediate result
oper is then formed by placing the formatted left and right operands sideby-
side, separated by the operator. If the precedence of the current operator
is smaller than the precedence of the enclosing operator, r is placed between
parentheses, otherwise it is returned as-is.
This finishes the design of the format function. For convenience, you
can also add an overloaded variant which formats a top-level expression:
def format(e: Expr): Element = format(e, 0)
} // end ExprFormatter
Here’s a test program which exercises the ExprFormatter class:
object Test extends Application {
val f = new ExprFormatter
val e1 = BinOp("*", BinOp("/", Number(1), Number(2)),
BinOp("+", Var("x"), Number(1)))
val e2 = BinOp("+", BinOp("/", Var("x"), Number(2)),
BinOp("/", Number(1.5), Var("x")))
val e3 = BinOp("/", e1, e2)
def show(e: Expr) = println(e+":nn"+f.format(e)+"nn")
for (val e <Array(
e1, e2, e3)) show(e)
}
Note that, even though this program does not define a main method, it is still
a runnable application because it inherits from the Application trait. That
trait simply defines an empty main method which gets inherited by the Test
object. The actual work in the Test object gets done as part of the object’s
initialization, before the main method is run. That’s why you can apply this
trick only if your program does not take any command-line arguments. Once
there are arguments, you need to write the main method explicitly. You can
then run the Test program with the command:
scala Test
This should give the following output.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 12.9 Chapter 12 · Case Classes and Pattern Matching 278
BinOp(*,BinOp(/,Number(1.0),Number(2.0)),BinOp(+,Var(x),
Number(1.0))):
1
*
(x + 1)
2
BinOp(+,BinOp(/,Var(x),Number(2.0)),BinOp(/,Number(1.5),
Var(x))):
x 1.5
+
2
x
BinOp(/,BinOp(*,BinOp(/,Number(1.0),Number(2.0)),BinOp(+
,Var(x),Number(1.0))),BinOp(+,BinOp(/,Var(x),Number(2.0)
),BinOp(/,Number(1.5),Var(x)))):
1
*
(x + 1)
2
x
1.5
+
2
x
.
12.9 Conclusion
This chapter has described Scala’s case classes and pattern matching in detail.
Using them, you can take advantage of several concise idioms not normally
available in object-oriented languages.
Scala’s pattern matching goes further than this chapter describes, however.
If you want to use pattern matching on one of your classes, but you do
not want to open access to your classes the way case classes do, then you can
use the extractors described in Chapter 24.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 13
Packages and Imports
When working with large programs, there is a risk that programmers will
either step on each other’s toes with conflicting code changes, or be so afraid
of that risk that they become mired in communication that attempts to prevent
such conflicts. One way to reduce this problem is to write in a modular
style. The program is divided into a number of smaller modules, each of
which has an inside and an outside. Programmers working on the inside of a
module—its implementation—then only need to coordinate with other programmers
working on that very same module. Only when there are changes
to the outside of a module—its interface—is it necessary to coordinate with
developers working on other modules. Interface and implementation were
discussed in Chapter 4 for classes, but the concept applies just as well to
packages.
This chapter shows several constructs that help you program in a modular
style. It shows how to place things in packages, how to make names visible
through imports, and how to control the visibility of definitions through access
modifiers. The constructs are similar in spirit with constructs in Java,
but there are some differences—usually ways that are more consistent—so it
is worth reading this chapter even if you already know Java.
Looking ahead, Chapter 25 shows some additional techniques to make
your code modular that are distinctly Scala. Before getting to that, though,
take a look now at the Java-like techniques that are available.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 13.1 Chapter 13 · Packages and Imports 280
13.1 Packages
Packages in Scala are similar to packages in Java. There is a global hierarchy
of packages. You can place the contents of an entire file into one of these
packages by putting a package clause at the top of the file.
package bobsrockets.navigation
class Navigator { ... }
In the above example, class Navigator goes into the package
bobsrockets.navigation. Presumably, this is the navigation software developed
by Bob’s Rockets, Inc.
Scala also supports a syntax more like C# namespaces where a package
clause is followed by a section in curly braces which contains the definitions
that go into the package. Among other things, this syntax lets you put different
parts of a file into different packages. For example, you might include a
class’s tests in the same file as the original code, but put the tests in a different
package, as shown in Figure 13.1.
In Figure 13.1, object NavigatorTest goes into package
bobsrockets.tests, and class Navigator goes into
bobsrockets.navigation. In fact, the first Java-like syntax is just
syntactic sugar for the more general nested syntax. So the following three
versions of bobsrockets.navigation.Navigator are all equivalent:
// Javalike
package clause
package bobsrockets.navigation
class Navigator { ... }
// Namespacelike
package
package bobsrockets.navigation {
class Navigator { ... }
}
// Nested namespacelike
package
package bobsrockets {
package navigation {
class Navigator { ... }
}
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 13.1 Chapter 13 · Packages and Imports 281
package bobsrockets {
package navigation {
class Navigator { ... }
}
package tests {
object NavigatorTest {
val x = new navigation.Navigator
...
}
}
}
Figure 13.1: Scala packages nest. Code inside NavigationTest
can access package navigation directly, instead of needing to write
bobsrockets.navigation.
As this notation hints, Scala’s packages truly nest. That is, package
navigation is semantically inside of package bobsrockets. Java packages,
despite being hierarchical, do not nest. In Java, whenever you name a
package, you have to start at the root of the package hierarchy. Scala uses a
more regular rule in order to simplify the language.
Take a closer look at Figure 13.1. Inside the NavigatorTest
object, it is not necessary to reference Navigator as
bobsrockets.navigation.Navigator, its fully qualified name. Since
packages nest, it can be referred to as simply as navigation.Navigator.
This shorter name is possible because class NavigatorTest is contained
in package bobsrockets, which has navigation as a member. Therefore,
navigation can be referred to without prefix, just like the methods of a
class can refer to other methods of a class without a prefix.
Another consequence of Scala’s scoping rules is that packages in some
inner scope hide packages of the same name that are defined in an outer
scope. For instance, consider the following code:
package bobsrockets {
package navigation {
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 13.1 Chapter 13 · Packages and Imports 282
package tests {
object Test1 { ... }
}
///// how to access Test1, Test2, Test3 here?
}
package tests {
object Test2 { ... }
}
}
package tests {
object Test3 { ... }
}
There are three packages here named tests. One is in package
bobsrockets.navigation, one is in bobsrockets, and one is at the top
level. Such repeated names work fine—after all they are a major reason to
use packages!—but they do mean you must use some care to access precisely
the one you mean.
To see how to choose the one you mean, take a look at the line marked
///// above. How would you reference each of Test1, Test2, and Test3?
Accessing the first one is easiest. A reference to tests by itself will get you
to package bobsrockets.navigation.tests, because that is the tests
package that is defined in the closest enclosing scope. Thus, you can refer
to the first test class as simply tests.Test1. Referring to the second one
also is not tricky. You can write bobrockets.tests.Test2 and be clear
about which one you are referencing. That leaves the question of the third
test class, however. How can you access Test3, considering that there is a
nested tests package shadowing the top-level one?
To help in this situation, Scala provides a package named _root_
that is outside any package a user can write. Put in other words, every
top-level package you can write is treated as a member of package
_root_. Thus, _root_.tests gives you the top-level tests package, and
_root_.tests.Test3 designates the outermost test class.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 13.2 Chapter 13 · Packages and Imports 283
13.2 Imports
As in Java, packages and their members can be imported using import
clauses. Imported items can then be accessed by a single identifier like File,
as opposed to requiring a qualified name like java.io.File.
Scala’s import clauses are quite a bit more flexible than Java’s. There
are three principal differences. In Scala, imports may appear anywhere, they
may refer to singleton objects in addition to packages, and they let you rename
and hide some of the imported members. The rest of this section
explains the details. Assume for the discussion the following code which
defines some kinds of fruit:
package bobsdelights
trait Fruit {
val name: String
val color: Color
}
object Fruits {
object Apple extends Fruit { ... }
object Orange extends Fruit { ... }
object Pear extends Fruit { ... }
val menu = List(Apple, Orange, Pear)
}
An import clause makes members of a package or object available by their
names alone without needing to prefix them by the package or object. Here
are some simple examples:
import bobsdelights.Fruit // easy access to Fruit
import bobsdelights._ // easy access to all members of bobsdelights
import bobsdelights.Fruits._ // easy access to all members of Fruits
The first of these corresponds to Java’s single type import, the second to
Java’s “on demand” import. The only difference is that Scala’s on demand
imports are written with a trailing under-bar ‘_’ instead of an asterisk ‘*’
(after all, *, is a valid identifier in Scala!). The third import clause above
corresponds roughly to Java’s import of static class fields, but it is more
general.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 13.2 Chapter 13 · Packages and Imports 284
Imports in Scala can appear anywhere, not just at the beginning of a compilation
unit. They can refer to arbitrary values. For instance, the following
is possible:
def showFruit(f: Fruit) {
import f._
println(name+"s are "+color)
}
Here, method showFruit imports all members of its parameter f, which is of
type Fruit. The subsequent println statement can refer to name and color
directly. These two references are equivalent to f.name and f.color. This
syntax is particularly useful when you use objects as modules, as described
in Chapter 25.
Imports can import packages themselves, not just their non-package
members. This is only natural if you think of nested packages being contained
in their surrounding package.
import java.util.regex
regex.Pattern.compile("a*b") // accesses java.util.regex.Pattern
Imports in Scala can also rename or hide members. This is done with
an import selector clause enclosed in braces which follows the object from
which members are imported. Here are some examples:
import Fruits.{Apple, Orange}
This imports just the two members Apple and Orange from object Fruits.
import Fruits.{Apple => McIntosh, Orange}
This imports the two members Apple and Orange from object Fruits. However,
the Apple object is renamed to McIntosh. So this object can be accessed
with either Fruits.Apple or McIntosh. A renaming clause is always of the
form <originalname>
=> <newname>.
import java.sql.{Date=>SDate}
This imports the SQL date class as SDate, so that you can simultaneously
import the normal Java date class as simply Date.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 13.2 Chapter 13 · Packages and Imports 285
import java.{sql=>S}
This imports the SQL package as S, so that you can write things like S.Date.
import Fruits.{_}
This imports all members from object Fruits, just as import Fruits._ does.
import Fruits.{Apple => McIntosh, _}
This imports all members from object Fruits but renames Apple to
McIntosh.
import Fruits.{Pear => _, _}
This imports all members except Pear. A clause of the form
<originalname>
=> _ excludes <originalname>
from the names that are
imported. In a sense, renaming something to _ means hiding it altogether.
These examples demonstrate the great flexibility Scala offers when it
comes to importing members selectively and possibly under different names.
In summary, an import selector can consist of the following:
• A simple name x. This includes x in the set of imported names.
• A renaming clause x => y. This makes the member named x visible
under the name y.
• A hiding clause x => _. This excludes x from the set of imported
names.
• A “catch-all” _. This imports all members except those members mentioned
in a preceding clause. If a catch-all is given, it must come last
in the list of import selectors.
The simpler import clauses shown at the beginning of this section can
be seen as special abbreviations of import clauses with a selector clause:
import p._ is equivalent to import p.{_} and import p.n is equivalent to
import p.{n}.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 13.3 Chapter 13 · Packages and Imports 286
13.3 Access modifiers
Members of packages, classes or objects can be labeled with the access modifiers
private and protected. These modifiers restrict accesses to the
members to certain regions of code. Scala’s treatment of access modifiers
roughly follows Java’s but there are some important differences which are
explained in the following.
Private members
Private members are treated similarly to Java. A member labeled private
is visible only inside the class or object that contains the member definition.
In Scala, this rule applies also for inner classes. This treatment is more
consistent, but differs from Java. Consider this example:
class Outer {
class Inner {
private def f() { println("f") }
class InnerMost {
f() // OK
}
}
(new Inner).f() // error: ‘f' is not accessible
}
In Scala, the access (new Inner).f() is illegal because f is declared
private in Inner and the access is not from within class Inner. By contrast,
the first access to f in class InnerMost is OK, because that access
is contained in the body of class Inner. Java would permit both accesses
because it lets an outer class access private members of its inner classes.
Protected members
Access to protected members is a bit more restrictive than in Java. In
Scala, a protected member is only accessible from subclasses of the class
in which the member is defined. In Java such accesses are also possible from
other classes in the same package. In Scala, there is another way to achieve
this effect, as described below, so protected is free to be left as is. The
following example illustrates protected accesses.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 13.3 Chapter 13 · Packages and Imports 287
package p {
class Super {
protected def f() { println("f") }
}
class Sub extends Super {
f()
}
class Other {
(new Super).f() // error: ‘f' is not accessible
}
}
Here, the access to f in class Sub is OK because f is declared protected in
Super and Sub is a subclass of Super. By contrast the access to f in Other
is not permitted, because Other does not inherit from Super. In Java, the
latter access would be still permitted because Other is in the same package
as Sub.
Public members
Every member not labeled private or protected is assumed to be public.
There is no explicit modifier for public members. Such members can be
accessed everywhere.
Scope of protection
Access modifiers in Scala can be augmented with qualifiers. A modifier
of the form private[X] or protected[X] means that access is private or
protected “up to” X, where X designates some enclosing package, class or
object.
Qualified access modifiers give you very fine-grained control over visibility.
In particular they enable you to express Java’s accessibility notions
such as package private, package protected, or private up to outermost class,
which are not directly expressible with simple modifiers in Scala. But they
also let you express accessibility rules which cannot be expressed in Java.
Figure 13.2 presents an example with many access qualifiers being used.
In this figure, class Navigator is labeled private[bobsrockets]. This
means that this class is visible in all classes and objects that are contained
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 13.3 Chapter 13 · Packages and Imports 288
package bobsrockets {
package navigation {
private[bobsrockets] class Navigator {
protected[navigation] def useChart(sc: StarChart) ...
class LegOfJourney {
private[Navigator] length = ...
}
private[this] current: xml.Node = ...
}
}
package tests {
import navigation._
object Test {
private[tests] val navigator = new Navigator
...
}
}
}
Figure 13.2: Access qualifiers
in package bobsrockets. In particular, the access to Navigator in object
Test is permitted, because Test is contained in bobsrockets. On
the other hand, code outside the package bobsrockets cannot access class
Navigator.
This technique is quite useful in large projects which span several packages.
It allows you to define things that are visible in several sub-packages
of your project but that remain hidden from clients external to your project.
The same technique is not possible in Java. There, once a definition escapes
its immediate package boundary, it is visible to the world at large.
Of course, the qualifier of a private may also be the directly enclosing
package. An example is the access modifier of navigator in object Test in
Figure 13.2. Such an access modifier is equivalent to Java’s package-private
access.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 13.3 Chapter 13 · Packages and Imports 289
All qualifiers can also be applied to protected, with the same meaning
as private. That is, a modifier protected[X] in a class C allows access
to the labeled definition in all subclasses of C and also within the enclosing
package, class, or object X. For instance, the useChart method in Figure 13.2
is accessible in all subclasses of Navigator and also in all code contained
in the enclosing package navigation. It thus corresponds exactly to the
meaning of protected in Java.
The qualifiers of private can also refer to an enclosing class or object.
For instance the length method in class LegOfJourney in Figure 13.2
is labeled private[Navigator], so it is visible from everywhere in class
Navigator. This gives the same access capabilities as for private members
of inner classes in Java. A private[C] where C is the directly enclosing
class is the same as just private in Scala.
Finally, Scala also has an access modifier which is even more restrictive
than private. A definition labeled private[this] is accessible only from
within the same object that contains the definition. Such a definition is called
object-private. For instance, the definition
private[this] current: xml.Node
in class Navigator in Figure 13.2 is object-private. This means that any
access must not only be within class Navigator, but it must also be made
from the very same instance of Navigator. Thus the following two accesses
are legal:
current
this.current
The following access, though, is not allowed:
val other = new Navigator
other.current
Marking a member private[this] is a guarantee that it will not be seen
from other objects of the same class. This can be useful for documentation.
It also sometimes lets you write more general variance annotations (see
Section 17.6 for details).
To summarize, the following table lists the effects of private qualifiers.
Each line shows a qualified private modifier and what it would mean if such
a modifier were added to a member of class LegOfJourney in Figure 13.2.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 13.3 Chapter 13 · Packages and Imports 290
private[_root_] same as public access
private[bobsrockets] access within outer package
private[navigation] same as package visibility in Java
private[Navigator] same as private in Java
private[LegOfJourney] same as private in Scala
private[this] access only from same object
Visibility and companion objects
In Java, static members and instance members belong to the same class, so
access modifiers apply uniformly to them. You have already seen that in
Scala there are no static members; instead one can have a companion object
which contains members that exist only once. For instance, in the code below
object Rocket is a companion of class Rocket.
class Rocket {
private def canGetHome = deltaV(fuel) < needed
}
object Rocket {
private def deltaV(fuel: Double) = ...
def chooseStrategy(rocket: Rocket) {
if (rocket.canGetHome)
goHome()
else
pickAStar()
}
}
Scala’s access rules privilege companion objects and classes when it comes
to private or protected accesses. A class shares all its access rights with
its companion object and vice versa. In particular, an object can access all
private members of its companion class, just as a class can access all private
members of its companion object.
For instance, the Rocket class above can access method deltaV, which
is declared private in object Rocket. Analogously, the Rocket object can
access the private method canGetHome in class Rocket.
One exception where this analogy between Scala and Java breaks down
concerns protected static members. A protected static member of a Java
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 13.3 Chapter 13 · Packages and Imports 291
class C can be accessed in all subclasses of C. By contrast, a protected
member in a companion object makes no sense, as objects are not inherited,
so there can be no subclasses.
Conclusion
Now you have seen the basic constructs for dividing a program into packages.
This gives you a simple and useful kind of modularity, so that you
can work with very large bodies of code without different parts of the code
trampling on each other. This system is the same in spirit as Java’s packages,
but as you have seen there are some differences where Scala chooses to be
more consistent or more general.
Looking ahead, Chapter 25 describes a more flexible module system than
division into packages. In addition to letting you separate code into several
namespaces, that approach allows modules to be parameterized and to inherit
from each other.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 14
Working with Lists
Lists are probably the most commonly used data structure in Scala programs.
This chapter explains lists in detail. It presents many common operations that
can be performed on lists. It also teaches some important design principles
for programs working on lists.
14.1 List literals
You have seen lists already in the preceding chapters, so you know that a list
containing the elements 'a', 'b', 'c' is written List('a', 'b', 'c').
Here are some other examples:
val fruit = List("apples", "oranges", "pears")
val nums = List(1, 2, 3, 4)
val diag3 = List(List(1, 0, 0), List(0, 1, 0), List(0, 0, 1))
val empty = List()
Lists are quite similar to arrays, but there are two important differences.
First, lists are immutable. That is, elements of a list cannot be changed by
assignment. Second, lists have a recursive structure, whereas arrays are flat.
14.2 The List type
Like arrays, lists are homogeneous. That is, the elements of a list all have
the same type. The type of a list which has elements of type T is written
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.3 Chapter 14 · Working with Lists 293
List[T]. For instance, here are the same four lists defined above with explicit
types added:
val fruit: List[String] = List("apples", "oranges", "pears")
val nums : List[Int] = List(1, 2, 3, 4)
val diag3: List[List[Int]] = List(List(1, 0, 0),
List(0, 1, 0),
List(0, 0, 1))
val empty: List[Nothing] = List()
The list type in Scala is covariant. This means that for each pair of types
S and T, if S is a subtype of T then also List[S] is a subtype of List[T].
For instance, List[String] is a subtype of List[Object]. This is natural
because every list of strings can also be seen as a list of objects. 1
Note that the empty list has type List[Nothing]. You have seen in Section
10.17 that Nothing is the bottom type in Scala’s class hierarchy. That
is, it is a subtype of every other Scala type. Because lists are covariant, it
follows that List[Nothing] is a subtype of List[T], for any type T. So the
empty list object, which has type List[Nothing], can also be seen as an object
of every other list type of the form List[T]. That’s why it is permissible
to write code like
// List() is also of type List[String]!
val xs: List[String] = List()
14.3 Constructing lists
All lists are built from two fundamental building blocks, Nil and ‘::’ (pronounced
“cons”). Nil represents an empty list. The infix operator ‘::’ expresses
list extension at the front. That is, x :: xs represents a list whose
first element is x, which is followed by (the elements of) list xs. Hence, the
previous list values above could also have been defined as follows:
val fruit = "apples" :: ("oranges" :: ("pears" :: Nil))
val nums = 1 :: (2 :: (3 :: (4 :: Nil)))
val diag3 = (1 :: (0 :: (0 :: Nil))) ::
1Chapter 17 gives more details on variance, and how to specify it.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.4 Chapter 14 · Working with Lists 294
Table 14.1: Basic list operations.
What it is What it does
empty.isEmpty returns true
fruit.isEmpty returns false
fruit.head returns "apples"
hline fruit.tail.head returns "oranges"
diag3.head returns List(1, 0, 0)
(0 :: (1 :: (0 :: Nil))) ::
(0 :: (0 :: (1 :: Nil))) :: Nil
val empty = Nil
In fact the previous definitions of fruit, nums, diag3, and empty in
terms of List(...) are just wrappers that expand to the definitions
above. For instance, the invocation List(1, 2, 3) creates the list
1 :: (2 :: (3 :: Nil))).
Because it ends in a colon, the ‘::’ operation associates to the right:
A :: B :: C is interpreted as A :: (B :: C). Therefore, you can drop the
parentheses in the definitions above. For instance
val nums = 1 :: 2 :: 3 :: 4 :: Nil
is equivalent to the previous definition of nums.
14.4 Basic operations on lists
All operations on lists can be expressed in terms of the following three:
head returns the first element of a list,
tail returns the list consisting of all elements except the first element,
isEmpty returns true if the list is empty
These operations are defined as methods of class List. You invoke them
by selecting from the list that’s operated on. Some examples are shown in
Table 14.1.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.5 Chapter 14 · Working with Lists 295
The head and tail methods are defined only for non-empty lists. When
selected from an empty list, they throw an exception. For instance:
scala> Nil.head
java.util.NoSuchElementException: head of empty list
As an example of how lists can be processed, consider sorting the elements of
a list of numbers into ascending order. One simple way to do so is insertion
sort, which works as follows: To sort a non-empty list x :: xs, sort the
remainder xs and insert the first element x at the right position in the result.
Sorting an empty list yields the empty list. Expressed as Scala code:
def isort(xs: List[Int]): List[Int] =
if (xs.isEmpty) Nil
else insert(xs.head, isort(xs.tail))
def insert(x: Int, xs: List[Int]): List[Int] =
if (xs.isEmpty || x <= xs.head) x :: xs
else xs.head :: insert(x, xs.tail)
14.5 List patterns
Lists can also be taken apart using pattern matching. List patterns correspond
one-by-one to list expressions. You can either match on all elements of a list
using a pattern of the form List(...). Or you take lists apart bit by bit
using patterns composed from the ‘::’ operator and the Nil constant.
Here’s an example of the first kind of pattern:
scala> val List(a, b, c) = fruit
a: java.lang.String = apples
b: java.lang.String = oranges
c: java.lang.String = pears
The pattern List(a, b, c) matches lists of length 3, and binds the three elements
to the pattern variables a, b, c. If you don’t know the number of list
elements beforehand, it’s better to match with :: instead. For instance, the
pattern a :: b :: rest matches lists of length 2 or greater:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.5 Chapter 14 · Working with Lists 296
scala> val a :: b :: rest = fruit
a: java.lang.String = apples
b: java.lang.String = oranges
rest: List[java.lang.String] = List(pears)
Taking lists apart with patterns is an alternative to taking them apart with the
basic methods head, tail, and isEmpty. For instance, here’s insertion sort
again, this time written with pattern matching:
def isort(xs: List[Int]): List[Int] = xs match {
case List() => List()
case x :: xs1 => insert(x, isort(xs1))
}
def insert(x: Int, xs: List[Int]): List[Int] = xs match {
case List() => List(x)
case y :: ys => if (x <= y) x :: xs
else y :: insert(x, ys)
}
Often, pattern matching over lists is clearer than decomposing them with
methods, so pattern matching should be a useful part of your list processing
toolbox.
Aside: If you review the possible forms of patterns explained in Chapter
12, you might find that neither List(...) nor :: looks like it fits one
of the cases of patterns defined there. In fact, List(...) is an instance of a
library-defined extractor pattern. Such patterns will be treated in Chapter 24.
The “cons” pattern x :: xs is a special case of an infix operation pattern. You
know already that, when seen as an expression, an infix operation is equivalent
to a method call. For patterns, the rules are different: When seen as a
pattern, an infix operation such as p op q is equivalent to op(p, q). That is,
the infix operator op is treated as a constructor pattern. In particular, a cons
pattern such as x :: xs is treated as ::(x, xs). This hints that there should
be a class named :: that corresponds to the pattern constructor. Indeed there
is such as class. It is named scala.:: and is exactly the class that builds
non-empty lists. So :: exists twice in Scala, once as a name of a class in
package scala, and another time as a method in class List. The effect of
the method :: is to produce an instance of the class scala.::. You’ll find
out more details about how the List class is implemented in Chapter 20.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.6 Chapter 14 · Working with Lists 297
This is all you need to know about lists in Scala to be able to use them
correctly. However, there is also a large number of methods that capture
common patterns of operations over lists. These methods make list processing
programs more concise and often also clearer. The next two sections
present the most important methods defined in the List class. The presentation
is split into two parts. First order methods are explained in the next
section, higher-order methods in the one after that.
14.6 Operations on lists Part I: First-order methods
This section explains most first-order methods defined in the List class.
First-order methods are methods that do not take functions as arguments.
The section also introduces by means of two examples some recommended
techniques to structure programs that operate on lists.
Concatenating lists
An operation similar to ‘::’ is list concatenation, written ‘:::’. Unlike ‘::’,
‘:::’ takes two lists as arguments The result of xs ::: ys is a new list which
contains all the elements of xs, followed by all the elements of ys. Here are
some examples:
scala> List(1, 2) ::: List(3, 4, 5)
res0: List[Int] = List(1, 2, 3, 4, 5)
scala> List() ::: List(1, 2, 3)
res1: List[Int] = List(1, 2, 3)
scala> List(1, 2, 3) ::: List(4)
res2: List[Int] = List(1, 2, 3, 4)
Like cons, list concatenation associates to the right. An expression like this:
xs ::: ys ::: zs
is interpreted like this:
xs ::: (ys ::: zs)
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.6 Chapter 14 · Working with Lists 298
The Divide and Conquer principle
Concatenation ‘:::’ is implemented as a method in class List. It would also
be possible to implement concatenation “by hand”, using pattern matching
on lists. It’s instructive to try to do that yourself. First, let’s settle on a signature
for the concatenation method (let’s call it append). In order not to mixup
things too much, assume that append is defined outside the List class. So
it will take the two lists to be concatenated as parameters. These two lists
must agree on their element type, but that element type can be arbitrary. This
can be expressed by giving append a type parameter which represents the
element type of the two input lists.
def append[T](xs: List[T], ys: List[T]): List[T] = ...
To design the implementation of append, it pays to remember the “divide
and conquer” design principle for programs over recursive data structures
such as lists. Many algorithms over lists first split an input list into simpler
cases using a pattern match. That’s the divide part of the principle. They
then construct a result for each case. If the result is a non-empty list, some of
its parts may be constructed by recursive invocations of the same algorithm.
That’s the conquer part of the principle.
Let’s apply this principle to the implementation of the append method.
The first question to ask is on which list to match. This is less trivial in the
case of append than for many other methods because there are two choices.
However, the subsequent “conquer” phase tells you that you need to construct
a list consisting of all elements of both input lists. Since lists are
constructed from the start towards the end, and the first elements of the output
list coincides with the elements of the first input xs, it makes sense to
concentrate on this input as a source for a pattern match. The most common
pattern match over lists simply distinguishes an empty from a non-empty list.
So this gives the following outline of an append method:
def append[T](xs: List[T], ys: List[T]): List[T] = xs match {
case List() => ??
case x :: xs1 => ??
}
All that remains is to fill in the two places marked with “??”. The first
such place is the alternative where the input list xs is empty. In this case
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.6 Chapter 14 · Working with Lists 299
concatenation yields the second list:
case List() => ys
The second place left open is the alternative where the input list xs consists
of some head x followed by a tail xs1. In this case the result is also a nonempty
list. To construct a non-empty list you need to know what the head
and the tail of that list should be. You know that the first element of the result
list is x. As for the remaining elements, these can be computed by appending
the rest xs1 of the first list to the second list ys. This completes the design
and gives:
def append[T](xs: List[T], ys: List[T]): List[T] = xs match {
case List() => ys
case x :: xs1 => x :: append(xs1, ys)
}
The computation of the second alternative illustrated the “conquer” part of
the divide and conquer principle: Think first what the shape of the desired
output should be, then compute the individual parts of that shape, using recursive
invocations of the algorithm where appropriate. Finally, construct
the output from these parts.
Taking the length of a list: length
The length method computes the length of a list.
scala> List(1, 2, 3).length
res3: Int = 3
In contrast to the situation with arrays, length is a relatively expensive operation
on lists. It takes time proportional to the number of elements of the
list. That’s why it’s not a good idea to replace a test such as xs.isEmpty by
xs.length == 0. The two tests are equivalent, but the second one is slower,
in particular if the list xs is long.
Accessing the end of a list: init and last
You know already the basic operations head and tail, which respectively
take the first element of a list, and the rest of the list except the first element.
They each have a dual operation:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.6 Chapter 14 · Working with Lists 300
last returns the last element of a (non-empty) list, whereas init returns
a list consisting of all elements except the last one.
scala> val abcde = List('a', 'b', 'c', 'd', 'e')
abcde: List[Char] = List(a, b, c, d, e)
scala> abcde.last
res4: Char = e
scala> abcde.init
res5: List[Char] = List(a, b, c, d)
Like head and tail, these methods throw an exception when applied on an
empty list:
scala> List().init
java.lang.UnsupportedOperationException: Nil.init
at scala.List.init(List.scala:544)
at ...
scala> List().last
java.util.NoSuchElementException: Nil.last
at scala.List.last(List.scala:563)
at ...
Unlike head and tail, which are both constant time, init and last need
to traverse the spine of a list to compute their result. They therefore take
time proportional to the length of the list. Consequently, it’s a good idea to
organize your data so that most accesses are to the head of a list, rather than
the last element.
Reversing lists: reverse
If at some point in the computation an algorithm demands frequent accesses
to the end of a list, it’s sometimes better to reverse the list first and work with
the result instead. Here’s how to do the reversal:
scala> abcde.reverse
res6: List[Char] = List(e, d, c, b, a)
Note that, like all other list operations, reverse creates a new list rather than
changing the one it operates on. Since lists are immutable, such a change
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.6 Chapter 14 · Working with Lists 301
would not be possible, anyway. To verify this, check that the original value
of abcde is unchanged after the reverse operation:
scala> abcde
res7: List[Char] = List(a, b, c, d, e)
The reverse, init, and last operations satisfy some laws which can be
used for reasoning about computations and for simplifying programs.
1. reverse is its own inverse:
xs.reverse.reverse = xs
2. reverse turns init to tail and last to head:
xs.reverse.init == xs.tail
xs.reverse.tail == xs.init
xs.reverse.head == xs.last
xs.reverse.last == xs.head
Reverse could be implemented using concatenation ‘:::’, like in the following
method rev:
def rev[T](xs: List[T]): List[T] = xs match {
case List() => xs
case x :: xs1 => rev(xs1) ::: List(x)
}
However, this method is less efficient than one would hope for. To study
the complexity of rev, assume that the list xs has length n. Notice that
there are n recursive calls to rev. Each call except the last involves a list
concatenation. List concatenation xs ::: ys takes time proportional to the
length of its first argument xs. Hence, the total complexity of xs is
n + (n 1)
+ ... + 1 == (1 + n) * n / 2
In other words, rev’s complexity is quadratic in the length of its input argument.
This is disappointing when comparing to the standard reversal of a
mutable, linked list, which has linear complexity. However, the current implementation
of rev is not the best one can do. You will see in Section 14.7
how to speed it up.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.6 Chapter 14 · Working with Lists 302
Prefixes and suffixes: drop, take and splitAt
The drop and take operations generalize tail and init in that they take
arbitrary prefixes or suffixes of a list. The expression xs take n returns
the first n elements of the list xs. If n > xs.length, the whole list xs is
returned. The operation xs drop n returns all elements of list xs except the
first n ones. If n > xs.length, the empty list is returned.
The splitAt operation splits the list at a given index, returning a pair of
two lists. It is defined by the equality
xs splitAt n = (xs take n, xs drop n)
However, splitAt avoids traversing the list xs twice. Here are some examples:
scala> abcde take 2
res8: List[Char] = List(a, b)
scala> abcde drop 2
res9: List[Char] = List(c, d, e)
scala> abcde splitAt 2
res10: (List[Char], List[Char]) = (List(a, b),List(c, d, e))
Element selection: apply and indices
Random element selection is supported through the apply method; however
it is a less common operation for lists than it is for arrays.
scala> abcde apply 2
res11: Char = c
As for all other types, apply is implicitly inserted when an object appears in
the function position in a method call, so the line above can be shortened to:
scala> abcde(2)
res12: Char = c
One reason why random element selection is less popular for lists than for
arrays is that xs(n) takes time proportional to the index n. In fact, apply is
simply defined by a combination of drop and head:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.6 Chapter 14 · Working with Lists 303
xs apply n = (xs drop n).head
This definition also makes clear that list indices range from 0 up to the length
of the list minus one. The indices method returns a list consisting of all
valid indices of a given list:
scala> abcde.indices
res13: List[Int] = List(0, 1, 2, 3, 4)
res50: List[Int] = List(0, 1, 2, 3, 4)
Zipping lists: zip
The zip operation takes two lists and forms a list of pairs:
scala> abcde.indices zip abcde
res14: List[(Int, Char)] = List((0,a), (1,b), (2,c), (3,d),
(4,e))
If the two lists are of different length, any unmatched elements are dropped:
scala> val zipped = abcde zip List(1, 2, 3)
zipped: List[(Char, Int)] = List((a,1), (b,2), (c,3))
A useful special case is to zip a list with its index. This is done by the
zipWithIndex method, which pairs every element of a list with the position
where it appears in the list.
scala> abcde.zipWithIndex
res15: List[(Char, Int)] = List((a,0), (b,1), (c,2), (d,3),
(e,4))
Displaying lists: toString and mkString
The toString operation returns the canonical string representation of a list:
scala> abcde.toString
res16: String = List(a, b, c, d, e)
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.6 Chapter 14 · Working with Lists 304
If you want a different representation you can use the mkString method. The
operation xs mkString (pre, sep, post) takes four arguments: The list xs
to be displayed, a prefix string pre to be displayed in front of all elements,
a separator string sep to be displayed between successive elements, and a
postfix string post to be displayed at the end. The result of the operation is
the string
pre+xs(0).toString+sep+...+sep+xs(xs.length1).
toString+post
There is a second overloaded variant, which only takes a separator string:
xs mkString sep = xs mkString ("", sep, "")
Examples:
scala> abcde mkString ("[", ",", "]")
res17: String = [a,b,c,d,e]
scala> abcde mkString ""
res18: String = abcde
scala> abcde mkString ("List(", ", ", ")")
res19: String = List(a, b, c, d, e)
There are also variants of the mkString methods called addString which
append the constructed string to a StringBuilder object, rather than returning
them as result:
scala> val buf = new StringBuilder
buf: StringBuilder =
scala> abcde addString (buf, "(", ";", ")")
res20: StringBuilder = (a;b;c;d;e)
The mkString and addString methods are inherited from List’s base class
Seq, so they are applicable to all sorts of sequences.
Converting lists: elements, toArray, copyToArray
To convert data between the flat world of arrays and the recursive world of
lists, you can use method toArray in class List and toList in class Array:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.6 Chapter 14 · Working with Lists 305
scala> val arr = abcde.toArray
arr: Array[Char] = Array(a, b, c, d, e)
scala> arr.toString
res21: String = Array(a, b, c, d, e)
scala> arr.toList
res22: List[Char] = List(a, b, c, d, e)
There’s also a method copyToArray which copies list elements to successive
array positions within some destination array. The operation
xs copyToArray (arr, start)
copies all elements of the list xs to the array arr, beginning with position
start. You must ensure that the destination array arr is large enough to
hold the list in full.
scala> val arr2 = new Array[Int](10)
arr2: Array[Int] = Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
scala> List(1, 2, 3) copyToArray (arr2, 3)
scala> arr2.toString
res24: String = Array(0, 0, 0, 1, 2, 3, 0, 0, 0, 0)
Finally, if you need to access list elements via an iterator, there is the
elements method:
scala> val it = abcde.elements
it: Iterator[Char] = nonempty
iterator
scala> it.next
res25: Char = a
scala> it.next
res26: Char = b
Example: Merge sort
The insertion sort presented earlier is simple to formulate, but it is not very
efficient. Its average complexity is proportional to the square of the length
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.6 Chapter 14 · Working with Lists 306
of the input list. A more efficient algorithm is merge sort, which works as
follows.
First, if the list has zero or one elements, it is already sorted, so one
returns the list unchanged. Longer lists are split into two sub-lists, each
containing about half the elements of the original list. Each sub-list is sorted
by a recursive call to the sort function, and the resulting two sorted lists are
then combined in a merge operation.
For a general implementation of merge sort, you want to leave open the
type of list elements to be sorted, and also want to leave open the function
to be used for the comparison of elements. You obtain a function of maximal
generality by passing these two items as parameters. This leads to the
following implementation.
def msort[T](less: (T, T) => Boolean)(xs: List[T]): List[T] = {
def merge(xs: List[T], ys: List[T]): List[T] = (xs, ys) match {
case (Nil, _) => ys
case (_, Nil) => xs
case (x :: xs1, y :: ys1) =>
if (less(x, y)) x :: merge(xs1, ys) else y :: merge(xs, ys1)
}
val n = xs.length/2
if (n == 0) xs
else {
val (ys, zs) = xs splitAt n
merge(msort(less)(ys), msort(less)(zs))
}
}
The complexity of msort is proportional (n log(n)), where n is the length of
the input list. To see why, note that splitting a list in two and merging two
sorted lists each take time proportional to the length of the argument list(s).
Each recursive call of msort halves the number of elements in its input, so
there are about log(n) consecutive recursive calls until the base case of lists
of length 1 is reached. However, for longer lists each call spawns off two
further calls. Adding everything up we obtain that at each of the log(n) call
levels, every element of the original lists takes part in one split operation and
in one merge operation. Hence, every call level has a total cost proportional
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.7 Chapter 14 · Working with Lists 307
to n. Since there are log(n) call levels, we obtain an overall cost proportional
to n log(n). That cost does not depend on the initial distribution of elements
in the list, so the worst case cost is the same as the average case cost. This
property makes merge sort an attractive algorithm for sorting lists.
Here is an example how msort is used.
scala> msort((x: Int, y: Int) => x < y)(List(5, 7, 1, 3))
res27: List[Int] = List(1, 3, 5, 7)
Partial method applications
The msort function is a classical example of the currying discussed in Chapter
9. The currying makes it easy to specialize the function for particular
comparison functions. For instance,
scala> val intSort = msort((x: Int, y: Int) => x < y) _
intSort: (List[Int]) => List[Int] = <function>
scala> val reverseSort = msort((x: Int, y: Int) => x > y) _
reverseSort: (List[Int]) => List[Int] = <function>
As described in Section 8.6, an underscore stands for a missing argument
list. In this case, the only missing argument is the list that should be sorted.
14.7 Operations on lists Part II: Higher-order methods
Many operations over lists have a similar structure. One can identify several
patterns that appear time and time again. Examples are: transforming every
element of a list in some way, verifying whether a property holds for all elements
of a list, extracting from a list elements satisfying a certain criterion,
or combining the elements of a list using some operator. In Java, such patterns
would usually be expressed by idiomatic combinations of for-loops or
while-loops. In Scala, they can be expressed more concisely and directly using
higher-order operators, which are implemented as methods in class List.
These are discussed in the following.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.7 Chapter 14 · Working with Lists 308
Mapping over lists: map, flatMap and foreach
An operation xs map f takes as arguments a list xs of type List[T] and
a function f of type T => U. It returns the list resulting from applying the
function f to each list element in xs. For instance:
scala> List(1, 2, 3) map (_ + 1)
res28: List[Int] = List(2, 3, 4)
scala> val words = List("the", "quick", "brown", "fox")
words: List[java.lang.String] = List(the, quick, brown, fox)
scala> words map (_.length)
res29: List[Int] = List(3, 5, 5, 3)
scala> words map (_.toList.reverse.mkString(""))
res30: List[String] = List(eht, kciuq, nworb, xof)
The flatMap operator is similar to map, but it takes a function returning a
list of elements as its right argument. It applies the function to each list and
returns the concatenation of all function results. The difference between map
and flatMap is illustrated in the following example:
scala> words map (_.toList)
res31: List[List[Char]] = List(List(t, h, e), List(q, u, i,
c, k), List(b, r, o, w, n), List(f, o, x))
scala> words flatMap (_.toList)
res32: List[Char] = List(t, h, e, q, u, i, c, k, b, r, o, w,
n, f, o, x)
You see that where map returns a list of lists, flatMap returns a single list in
which all element lists are concatenated.
The interplay of map and flatMap is also demonstrated by the following
expression, which constructs a list of all pairs (i, j) such that 1 <= j < i < 5:
scala> List.range(1, 5) flatMap (i => List.range(1, i) map (j => (i, j)))
res33: List[(Int, Int)] = List((2,1), (3,1), (3,2), (4,1),
(4,2), (4,3))
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.7 Chapter 14 · Working with Lists 309
The third map-like operation is foreach. Unlike map and flatMap, foreach
takes a procedure (a method with result type Unit) as right argument. It
simply applies the procedure to each list element. The result of the operation
itself is again Unit; no list of results is assembled. As an example, here is a
concise way of summing up all numbers in a list:
scala> var sum = 0
sum: Int = 0
scala> List(1, 2, 3, 4, 5) foreach (sum += _)
scala> sum
res35: Int = 15
Filtering lists: filter, partition, find, takeWhile, dropWhile, and
span
The operation xs filter p takes as arguments a list xs of type List[T]
and a predicate function p of type T => Boolean. It yields the list of all
elements x in xs for which p(x) is true. For instance:
scala> List(1, 2, 3, 4, 5) filter (_ % 2 == 0)
res36: List[Int] = List(2, 4)
scala> words filter (_.length == 3)
res37: List[java.lang.String] = List(the, fox)
The partition method is like filter, but returns a pair of lists. One list
contains all elements for which the predicate is true, the other list contains
all elements for which the predicate is false. It is defined by the equality:
xs partition p = (xs filter p(_), xs filter !p(_))
Example:
scala> List(1, 2, 3, 4, 5) partition (_ % 2 == 0)
res38: (List[Int], List[Int]) = (List(2, 4),List(1, 3, 5))
The find method is also similar to filter but it returns the first element
satisfying a given predicate, rather than all such elements. The operation
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.7 Chapter 14 · Working with Lists 310
xs find p takes a list xs and a predicate p as arguments. It returns an optional
value. If there is an element x in xs for which p(x) is true, Some(x)
is returned. Otherwise, if p is false for all elements, None is returned. Examples:
scala> List(1, 2, 3, 4, 5) find (_ % 2 == 0)
res39: Option[Int] = Some(2)
scala> List(1, 2, 3, 4, 5) find (_ <= 0)
res40: Option[Int] = None
The takeWhile and dropWhile operators also take a predicate as right argument.
The operation xs takeWhile p takes the longest prefix of list xs
such that every element in the prefix satisfies p. Analogously, the operation
xs dropWhile p removes the longest prefix from list xs such that every
element in the prefix satisfies p. Examples:
scala> List(1, 2, 3, 4,
5) takeWhile (_ > 0)
res41: List[Int] = List(1, 2, 3)
scala> words dropWhile (_ startsWith "t")
res42: List[java.lang.String] = List(quick, brown, fox)
The span method combines takeWhile and dropWhile in one operation,
just like splitAt combines take and drop. It returns a pair of two lists,
defined by the equality
xs span p = (xs takeWhile p, xs dropWhile p)
Like splitAt, span avoids to traverse the list xs twice.
scala> List(1, 2, 3, 4,
5) span (_ > 0)
res43: (List[Int], List[Int]) = (List(1, 2, 3),List(4,
5))
Predicates over lists: forall and exists
The operation xs forall p takes as arguments a list xs and a predicate p. Its
result is true if all elements in the list satisfy p. Conversely, the operation
xs exists p returns true if there is an element in xs which satisfies the
predicate p. For instance, to find out whether a matrix represented as a list
of lists has a row with only zeroes as elements:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.7 Chapter 14 · Working with Lists 311
scala> def hasZeroRow(m: List[List[Int]]) =
| m exists (row => row forall (_ == 0))
hasZeroRow: (List[List[Int]])Boolean
scala> hasZeroRow(diag3)
res44: Boolean = false
Folding lists: ‘/:’ and ‘:n’
Another common kind of operations combine the elements of a list with
some operator. For instance:
sum(List(a, b, c)) = 0 + a + b + c
product(List(a, b, c)) = 1 * a * b * c
These are both special instances of a fold operation:
scala> def sum(xs: List[Int]): Int = (0 /: xs) (_ + _)
sum: (List[Int])Int
scala> def product(xs: List[Int]): Int = (1 /: xs) (_ * _)
product: (List[Int])Int
A fold left operation (z /: xs) (op) takes three arguments: A unit element
z, a list xs, and a binary operation op. The result of the fold is op applied
between successive elements of the list prefixed by z. For instance:
(z /: List(a, b, c)) (op) = op(op(op(z, a), b), c)
Or, graphically:
op
op
op c
b
z a
Here’s another example that illustrates how ‘/:’ is used. To concatenate
all words in a list of strings with spaces between them and in front, you can
write:
scala> ("" /: words) (_ + " " + _)
res45: java.lang.String = the quick brown fox
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.7 Chapter 14 · Working with Lists 312
This gives an extra space at the beginning. To remove the space, you can use
this slight variation:
scala> (words.head /: words.tail) (_ + " " + _)
res46: java.lang.String = the quick brown fox
The ‘/:’ operator produces left-leaning operation trees (its syntax with the
slash rising forward is intended to be a reflection of that). The operator has
‘:n’ as an analog which produces right-leaning trees. For instance:
(List(a, b, c) :n z) (op) = op(a, op(b, op(c, z)))
Or, graphically:
op
op
a op
b
c z
The ‘:n’ operator is pronounced fold right. It takes the same three arguments
as fold left, but the first two appear in reversed order: The first
argument is the list to fold, the second is the neutral element.
For associative operations op, fold left and fold right are equivalent, but
there might be a difference in efficiency. Consider for instance an operation
corresponding to the List.flatten method that is explained in this Chapter.
The operation concatenates all elements in a list of lists. This could be
implemented with either fold left ‘/:’ or fold right ‘:n’:
def flatten1[T](xss: List[List[T]]) =
(List[T]() /: xss) (_ ::: _)
def flatten2[T](xss: List[List[T]]) =
(xss :n List[T]()) (_ ::: _)
Because list concatenation xs ::: ys takes time proportional to its first argument
xs, the implementation in terms of fold right in flatten2 is more
efficient than the fold left implementation in flatten1. The problem is that
flatten1(xss) copies the first element list xss.head n􀀀1 times, where n
is the length of the list xss.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.7 Chapter 14 · Working with Lists 313
Note that both versions of flatten require a type annotation on the empty
list which is the unary element of the fold. This is due to a limitation in
Scala’s type inferencer, which fails to infer the correct type of the list automatically.
If you try to leave out the annotation, you get the following:
scala> def flatten2[T](xss: List[List[T]]) =
| (xss :n List()) (_ ::: _)
<console>:15: error: type mismatch;
found : List[T]
required: List[Nothing]
(xss :n List()) (_ ::: _)
ˆ
To find out why the type inferencer goes wrong, you’ll need to know about
the types of the fold methods and how they are implemented. More on this
in Chapter 20.
Example: List reversal using fold
Earlier in the chapter you saw an implementation of method reverse whose
run-time was quadratic in the length of the list to be reversed. Here is now
a different implementation of reverse which has linear cost. The idea is to
use a fold left operation based on the following program scheme.
def reverse2[T](xs: List[T]) = (z? /: xs)(op?)
It only remains to fill in the z? and op? parts. In fact, you can try to deduce
these parts from some simple examples. To deduce the correct value of z?,
you can start with the smallest possible list, List() and calculate as follows:
List()
= // by the properties of reverse2
reverse2(List())
= // by the template for reverse2
(z? /: List())(op?)
= // by definition of /:
z?
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.7 Chapter 14 · Working with Lists 314
Hence, z? must be List(). To deduce the second operand, let’s pick the
next smallest list as an example case. You know already that z? = List(),
so you can calculate as follows:
List(x)
= // by the properties of reverse2
reverse2(List(x))
= // by the template for reverse2, with z? = List()
(List() /: List(x)) (op?)
= // by definition of /:
op?(List(), x)
Hence, op(List(), x) equals List(x), which is the same as x :: List().
This suggests to take as op the ‘::’ operator with its operands exchanged
(this operation is sometimes pronounced “snoc”, in reference to ‘::’, which
is pronounced “cons”). We arrive then at the following implementation for
reverse2.
def reverse2[T](xs: List[T]) =
(List[T]() /: xs) {(xs, x) => x :: xs}
(Again, the type annotation in List[T]() is necessary to make the type
inferencer work.) If you analyze the complexity of reverse2, you find that
it applies a constant-time operation (“snoc”) n times, where n is the length
of the argument list. Hence, the complexity of reverse2 is linear, as hoped
for.
Sorting lists: sort
The operation xs sort before sorts the elements of list xs using the
before function for element comparison. The expression x before y should
return true if x should come before y in the intended ordering for the sort.
For instance:
scala> List(1, 3,
4, 2, 6) sort (_ < _)
res47: List[Int] = List(3,
1, 2, 4, 6)
scala> List(1, 3,
4, 2, 6) sort (_ > _)
res48: List[Int] = List(6, 4, 2, 1, 3)
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.8 Chapter 14 · Working with Lists 315
Note that sort does the same thing as the msort algorithm in the last section,
but it is a method of class List whereas msort was defined outside lists.
14.8 Operations on lists Part III: Methods of the List
object
So far, all operations you have seen in this chapter are implemented as methods
of class List, so you invoke them on individual list objects. There are
also a number of methods in the globally accessible object scala.List,
which is the companion object of class List. Some of these operations are
factory methods that create lists. Others are operations that work on lists of
some specific type of shape. Both kinds of methods will be presented in the
following.
Creating lists from their elements: List.apply
You have already seen on several occasions list literals such as
List(1, 2, 3). There’s nothing special about their syntax. A literal like
List(1, 2, 3) is simply the application of the function object List to the
elements 1, 2, 3. That is, it is equivalent to List.apply(1, 2, 3).
scala> List.apply(1, 2, 3)
res49: List[Int] = List(1, 2, 3)
Creating a range of numbers: List.range
The range method creates a list consisting of a range of numbers. Its simplest
form is List.range(from, to); this creates a list of all numbers starting
at from and going up to to minus one. So the end value to does not form
part of the range.
There’s also a version of range that takes a step value as third parameter.
This operation will yield list elements that start at from and that are step
values apart. The step can be positive as well as negative.
scala> List.range(1, 5)
res50: List[Int] = List(1, 2, 3, 4)
scala> List.range(1, 9, 2)
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.8 Chapter 14 · Working with Lists 316
res51: List[Int] = List(1, 3, 5, 7)
scala> List.range(9, 1, 3)
res52: List[Int] = List(9, 6, 3)
Creating uniform lists: List.make
The make method creates a list consisting of zero or more copies of the same
element. It takes two parameters: the length of the list to be created, and its
element:
scala> List.make(5, 'a')
res53: List[Char] = List(a, a, a, a, a)
scala> List.make(3, "hello")
res54: List[java.lang.String] = List(hello, hello, hello)
Unzipping lists: List.unzip
The unzip operation is the inverse of zip. Where zip takes two lists and
forms a list of pairs, unzip takes a list of pairs and returns two lists, one
consisting of the first element of each pair, the other consisting of the second
element.
scala> val zipped = "abcde".toList zip List(1, 2, 3)
zipped: List[(Char, Int)] = List((a,1), (b,2), (c,3))
scala> List.unzip(zipped)
res55: (List[Char], List[Int]) = (List(a, b, c),List(1, 2,
3))
You might wonder why unzip is a method of the global List object, instead
of being a method of class List? The problem is that unzip does not work
on any list but only on a list of pairs. Because List is a generic type, Scala’s
type system forces all methods of class List to be also generic in the List
element type. unzip isn’t generic in List’s element type, thus it has to go
elsewhere. It might be possible to extend Scala’s type system in the future
so that it accepts non-generic methods in generic classes, but so far this has
not been done.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.8 Chapter 14 · Working with Lists 317
Concatenating lists: List.flatten, List.concat
The flatten method takes a list of lists and concatenates all element lists of
the main list.
scala> val xss = List(List('a', 'b'), List('c'), List('d', 'e'))
xss: List[List[Char]] = List(List(a, b), List(c), List(d,
e))
scala> List.flatten(xss)
res56: List[Char] = List(a, b, c, d, e)
flatten is packaged in the global List object for the same reason as unzip:
It does not operate on any list, but only on lists with lists as elements, so it
can’t be a method of the generic List class.
The concat method is similar to flatten in that it concatenates a number
of element lists. The element lists are given directly as repeated parameters.
The number of lists to be passed to concat is arbitrary:
scala> List.concat(List('a', 'b'), List('c'))
res57: List[Char] = List(a, b, c)
scala> List.concat(List(), List('b'), List('c'))
res58: List[Char] = List(b, c)
scala> List.concat()
res59: List[Nothing] = List()
Mapping and testing pairs of lists: List.map2, List.forall2,
List.exists2
The map2 method is similar to map, but it takes two lists as arguments together
with a function that maps two element values to a result. The function
gets applied to corresponding elements of the two lists, and a list is formed
from the results:
List.map2(List(10, 20), List(3, 4, 5)) (_ * _)
The exists2 and forall2 methods are similar to exists and forall, respectively,
but they also take two lists and a boolean test function that takes
two arguments. The test function is applied to corresponding arguments.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.9 Chapter 14 · Working with Lists 318
scala> List.forall2(List("abc", "de"), List(3, 2)) (_.length == _)
res60: Boolean = true
scala> List.exists2(List("abc", "de"), List(3, 2)) (_.length != _)
res61: Boolean = false
14.9 Understanding Scala’s type inference algorithm
One difference between the previous uses of sort and msort concerns the
admissible syntactic forms of the comparison function. Compare
scala> msort((x: Char, y: Char) => x > y)(abcde)
res62: List[Char] = List(e, d, c, b, a)
with
scala> abcde sort (_ > _)
res63: List[Char] = List(e, d, c, b, a)
The two expressions are equivalent, but the first uses a longer form of comparison
function with named parameters and explicit types whereas the second
uses the concise form (_ > _) where named parameters are replaced by
underscores. Of course, you could also use the first, longer form of comparison
with sort. However, the short form cannot be used with msort:
scala> msort(_ > _)(abcde)
<console>:12: error: missing parameter type for expanded
function ((x$1, x$2) => x$1.$greater(x$2))
msort(_ > _)(abcde)
ˆ
To understand why, you need to know some details of Scala’s type inference
algorithm. Type inference in Scala is flow based. In a method application
m(args), the inferencer first checks whether the method m has
a known type. If it has, that type is used to infer the expected type of
the arguments. For instance, in abcde.sort(_ > _), the type of abcde is
List[Char], hence sort is known to be a method that takes arguments of
type (Char, Char) => Boolean to results of type List[Char]. Since the
correct parameter types of the closure argument are thus known, they need
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.9 Chapter 14 · Working with Lists 319
not be written explicitly. With what it knows about sort, the inferencer can
deduce that (_ > _) should expand to ((x: Char, y: Char) => x > y) where
x and y are some arbitrary fresh names.
Now consider the second case, msort(_ > _)(abcde). The type of
msort is a curried, polymorphic method type that takes an argument of type
(T, T) => Boolean to a function from List[T] to List[T] where T is some
as-yet unknown type. The msort method needs to be instantiated with a type
parameter before it can be applied to its arguments. Because the precise instance
type of msort in the application is not yet known, it cannot be used to
infer the type of its first argument. The type inferencer changes its strategy
in this case; it first type-checks method arguments to determine the proper
type-instance of the method. However, when tasked to type-check the shorthand
closure (_ > _) it fails because it has no information about the types of
the implicit closure parameters that are indicated by underscores.
One way to resolve the problem is to pass an explicit type parameter to
msort, as in:
scala> msort[Char](_ > _)(abcde)
res64: List[Char] = List(e, d, c, b, a)
Because the correct instance type of msort is now known, it can be used to
infer the type of the arguments.
Another possible solution is to rewrite the msort method so that its parameters
are swapped:
scala> def msort1[T](xs: List[T])(less: (T, T) => Boolean): List[T] =
... // same implementation as msort, but with arguments swapped
Now type inference succeeds:
scala> msort1(abcde)(_ > _)
res65: List[Char] = List(e, d, c, b, a)
What has happened is that the inferencer used the known type of the first
parameter abcde to determine the type parameter of msort. Once the precise
type of msort was known, it could be used in turn to infer the type of the
second parameter (_ > _).
Generally, when tasked to infer the type parameters of a polymorphic
method, the type inferencer consults the types of all value arguments in the
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.9 Chapter 14 · Working with Lists 320
first argument section but no arguments beyond that. Since msort1 is a curried
method with two parameter sections, the second argument (i.e. the closure)
did not need to be consulted to determine the type parameter of the
method.
This inference scheme suggests the following library design principle:
When designing a polymorphic method that takes some non-functional arguments
and a closure argument, place the closure argument last in a curried
parameter section by its own. That way, the method’s correct instance type
can be inferred from the non-functional arguments, and that type can in turn
be used to type-check the closure. The net-effect is that users of the method
need to give less type information and can write closures in more compact
ways.
Now to the more complicated case of a fold operation. Why is there
the need for an explicit type parameter in an expression like the body of the
flatten1 method above?
(xss :n List[T]()) (_ ::: _)
The type of the right-fold operation is polymorphic in two type variables.
Given an expression
(xs :n z) (op)
The type of xs must be a list of some arbitrary type A, say xs: List[A]. The
unit z can be of some other type B. The operation op must then take two arguments
of type A and B and must return a result of type B, i.e. op: (A, B) => B.
Because the type of z is not related to the type of the list xs, type inference
has no context information for z. Now consider the erroneous expression in
the method flatten2 above:
(xss :n List()) (_ ::: _)
The unit value z in this fold is an empty list List() so without additional
type information its type is inferred to be a List[Nothing]. Hence, the
inferencer will infer that the B type of the fold is List[Nothing]. Therefore,
the operation (_ ::: _) of the fold is expected to be of the following type
(List[T], List[Nothing]) => List[Nothing]
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 14.9 Chapter 14 · Working with Lists 321
This is indeed a possible type for the operation in that fold but it is not a
very useful one! It says that the operation always takes an empty list as
second argument and always produces an empty list as result. In other words,
the type inference settled too early on a type for List(), it should have
waited until it had seen the type of the operation op. So the (otherwise very
useful) rule to only consider the first argument section in a curried method
application for determining the method’s type is at the root of the problem
here. On the other hand, even if that rule were relaxed, the inferencer still
could not come up with a type for op because its parameter types are not
given. Hence, there is a Catch 22 situation which can only be resolved by an
explicit type annotation from the programmer.
This example highlights some limitations of the local, flow-based
type inference scheme of Scala. It is not present in the more global
"Hindley/Milner"-style type-inference schemes for classical functional languages
such as ML or Haskell. However, Scala’s local type inference deals
much more gracefully with object-oriented subtyping than Hindley/Milnerstyle
type inference does. Fortunately, the limitations show up only in some
corner cases, and are usually easily fixed by adding an explicit type annotation.
Adding type annotations is also a useful debugging technique when you
get confused by type error messages related to polymorphic methods. If you
are unsure what caused a particular type error, just add some type arguments
or other type annotations, which you think are correct. Then you should be
able to quickly see where the real problem is.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 15
Collections
Collections let you organize large numbers of objects. Scala has a rich collection
library. In the simple cases, you can throw a few objects into a set
or a list and not think much about it. For trickier cases, Scala provides a
general library with several collection types, such as sequences, sets and
maps. Each collection type comes in two variants—mutable and immutable.
Most kinds of collections have several different implementations that have
different tradeoffs of speed, space, and the requirements on their input data.
You’ve seen many collection types in previous chapters. In this chapter we’ll
show you the big picture of how they relate to each other.
15.1 Overview of the library
Figure 10.2 shows the class hierarchy of the most frequently used kinds of
collections in Scala’s standard library. Each of these types is a trait, so each
of them allows multiple implementations. All of them have a good default
implementation available in the standard library.
At the top of the hierarchy is Iterable, the trait for possibly infinite
groups of objects. The key property of an Iterable is that it is possible
to iterate through the elements of the collection using a method named
elements. Using this one abstract method, Iterable can implement dozens
of other methods. Nonetheless, the trait too abstract for most programming
situations. Because it is not guaranteed to be finite, you must be careful what
methods you invoke on it. Imagine, for example, asking the infinite sequence
of numbers from 10 through infinity—a perfectly valid Iterable—whether
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 15.1 Chapter 15 · Collections 323
scala
Seq
«trait»
scala.collection
Set
«trait»
scala
Iterable
«trait»
scala
Collection
«trait»
scala.collection
Map
«trait»
scala
List
«sealed abstract»
scala
Array
«final»
scala.collection.immutable
Set
«trait»
scala.collection.mutable
Set
«trait»
scala.collection.immutable
Map
«trait»
scala.collection.mutable
Map
«trait»
Figure 15.1: Scala collections class hierarchy.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 15.2 Chapter 15 · Collections 324
it includes any negative numbers. The library would search forever.
Just below Iterable is Collection, the trait of finite collections of objects.
In addition to supporting iteration through its elements, a Collection
has a fixed, finite size. Because instances of Collection are known to be
finite, they can be processed with less worry about infinite loops.
Collection is still quite abstract. Below Collection are three traits
that are used more frequently: Seq, Set, and Map. Seq is the trait for all
collections whose elements are numbered from zero up to some limit. The
elements of a sequence can be queried by their associated number, so for
example you can ask a sequence for its third or fifteenth element. Set is
the trait for collections that can be efficiently queried for membership. You
cannot ask a set for its fourth element, because the elements are not ordered,
but you can efficiently ask it whether it includes the number 4. Map is the trait
for lookup tables. You can use a map to associate values with some set of
keys. For example, later in this chapter a map is used to associate each word
in a string with the number of times that word occurs in the string. Thus the
words are mapped to the number of times they occur.
Below these three traits, at the bottom of Figure TODO, are two variants
of each of the three. Each of the three has a mutable variant that allows modifying
collections in place, and each of them also has an immutable variant
that instead has efficient methods to create new, modified collections out of
old ones, without the old ones changing at all. Both the mutable and immutable
variants have many uses, so the library provides both.
15.2 Sequences
Sequences, classes that inherit from the Seq trait, let you work with groups of
data lined up in order. Because the elements are ordered, you can ask for the
first element, the second element, the 103rd element, and so on. There are
a few different kinds of sequences you should learn about early on: arrays,
array buffers, and lists.
Arrays
Arrays are one of the most basic collections. They allow you to hold a sequence
of objects in a row and efficiently access elements at an arbitrary
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 15.2 Chapter 15 · Collections 325
position in the sequence. You access the individual objects in an array via a
0-based index.
Arrays are normally created with the usual new keyword:
scala> val numbers = new Array[Int](5)
numbers: Array[Int] = Array(0, 0, 0, 0, 0)
You must specify two arguments when you create an array: the type of elements
that are in the array and the length of the array. In this example, the
numbers array holds 5 objects of type Int. As in the rest of Scala, note that
type arguments like Int are placed in square brackets instead of parentheses.
To read an element from an array, put the index in parentheses. It looks,
and acts, just like calling a method with the index as an argument.
scala> numbers(3)
res0: Int = 0
In this case the result is zero, because every element of this array holds its
initial element. The initial element of an array in Scala is, as in Java, the zero
value of the array’s type: 0 for numeric types, false for booleans, and null
for reference types.
Writing into an array uses a similar syntax:
scala> numbers(3) = 42
scala> numbers(3)
res2: Int = 42
Behind the scenes, such an assignment is treated the same as a call to a
method named update:
scala> numbers.update(3, 420)
scala> numbers(3)
res4: Int = 420
Any class with an update method can use this syntax.
Looping over the elements of an array is easy:
scala> for (x <numbers)
| println(x)
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 15.2 Chapter 15 · Collections 326
0
0
0
420
0
If you need to use the index as you loop through, then you can loop like this:
scala> for (i <0
until numbers.length)
| println(i + " " + numbers(i))
0 0
1 0
2 0
3 420
4 0
Scala arrays are represented in the same way as Java arrays. So, you can
seamlessly use existing Java methods that return arrays. For example, Java
can split a string into a sequence of tokens using the method split. The
method knows nothing about Scala, but the array it returns can still be used
in Scala.
scala> val words = "The quick brown fox".split(" ")
words: Array[java.lang.String] = Array(The, quick, brown,
fox)
scala> for (word <words)
| println(word)
The
quick
brown
fox
Array buffers
There are two other sequence types that you should know about in addition
to arrays. First, class ArrayBuffer is like an array except that you can
additionally add and remove elements from the beginning and end of the
sequence. All Array operations are available, though they are a little slower
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 15.2 Chapter 15 · Collections 327
due to a layer of wrapping in the implementation. The new addition and
removal operations are constant time on average, but occasionally require
linear time due to the implementation needing to allocate a new array to hold
the buffer’s contents.
To use an ArrayBuffer, you must first import it from the mutable collections
package:
scala> import scala.collection.mutable.ArrayBuffer
import scala.collection.mutable.ArrayBuffer
Create an array buffer just like an array, except that you do not need to specify
a size. The implementation will adjust the allocated space automatically.
scala> val buf = new ArrayBuffer[Int]()
buf: scala.collection.mutable.ArrayBuffer[Int] =
ArrayBuffer()
Then, you can append to the array using the += method:
scala> buf += 12
scala> buf += 15
scala> buf
res10: scala.collection.mutable.ArrayBuffer[Int] =
ArrayBuffer(12, 15)
All the normal array methods are available. For example, you can ask it its
size, or you can retrieve an element by its index:
scala> buf.length
res11: Int = 2
scala> buf(0)
res12: Int = 12
Lists
The most important sequence type is class List, the immutable linked-list
described in detail in the previous chapter. Lists support fast addition and
removal of items to the beginning of the list, but they do not provide fast
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 15.3 Chapter 15 · Collections 328
access to arbitrary indexes because the implementation must iterate through
the list linearly.
This combination of features might sound odd, but they hit a sweet spot
that works well for many algorithms. The fast addition and removal of initial
elements means that pattern matching works well, as described in Chapter
12. The immutability of lists helps you develop a correct, efficient algorithm
because you never need to make copies of a list.
As a default choice, many programmers new to Scala might choose arrays
and array buffers because arrays are a familiar data structure. People
with more experience programming in Scala, however, often have the opposite
default and start with a list. Either way, the best choice depends on the
specific circumstances, so it is good to learn how to use both.
Conversion
You can convert any collection. to an array or a list. Such conversion requires
copying all of the elements of the collection, and thus is slow for large
collections. Sometimes you need to do it, though, due to an existing API.
Further, many collections only have a few elements anyway, in which case
there is only a small speed penalty.
Use toArray to convert to an array and toList to convert to a list.
scala> buf.toArray
res13: Array[Int] = Array(12, 15)
scala> buf.toList
res14: List[Int] = List(12, 15)
15.3 Tuples
A tuple combines a fixed number of items together so that they can be passed
around as a whole. Unlike an array, a tuple can hold objects with different
types. Here is an example of a tuple holding an integer, a string, and the
output console.
(1, "hello", Console)
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 15.3 Chapter 15 · Collections 329
Tuples save you the tedium of defining simplistic data-heavy classes. Even
though defining a class is already easy, it does require a certain minimum
effort, which sometimes serves no purpose. Tuples save you the effort of
choosing a name for the class, choosing a scope to define the class in, and
choosing names for the members of the class. If your class simply holds
an integer and a string, there is no clarity added by defining a class named
AnIntegerAndAString.
Tuples have a major difference from the other collections described in
this chapter: they can combine objects of different types. Because of this difference,
tuples do not inherit from Collection. If you find yourself wanting
to group exactly one integer and exactly one string, then you want a tuple,
not a List or Array.
A common application of tuples is to return multiple values from a
method. For example, here is a method that finds the longest word in a
collection and also returns its index.
def longestWord(words: Array[String]) = {
var word = words(0)
var idx = 0
for (i <1
until words.length)
if (words(i).length > word.length) {
word = words(i)
idx = i
}
(word, idx)
}
Here is an example use of the method:
scala> val longest =
| longestWord("The quick brown fox".split(" "))
longest: (String, Int) = (quick,1)
The longestWord function here computes two items: word, the longest
word in the array, and idx, the index of that word. To keep things simple,
the function assumes there is at least one word in the list, and it breaks
ties by choosing the word that comes earlier in the list. Once the function
has chosen which word and index to return, it returns both of them together
using the tuple syntax (word, idx).
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 15.3 Chapter 15 · Collections 330
To access elements of a tuple, you can use method _1 to access the first
element, _2 to access the second, and so on.
scala> longest._1
res15: String = quick
scala> longest._2
res16: Int = 1
Additionally, you can assign each element of the tuple to its own variable:
1
scala> val (word, idx) = longest
word: String = quick
idx: Int = 1
scala> word
res17: String = quick
By the way, if you leave off the parentheses you get a different result:
scala> val word, idx = longest
word: (String, Int) = (quick,1)
idx: (String, Int) = (quick,1)
This syntax gives multiple definitions of the same expression. Each variable
is initialized with its own evaluation of the expression on the right-hand side.
That the expression evaluates to a tuple in this case does not matter. Both
variables are initialized to the tuple in its entirety. See Chapter 16 for some
examples where multiple definitions are convenient.
As a note of warning, tuples are almost too easy to use. Tuples are great
when you combine data that has no meaning beyond “an A and a B.” However,
whenever the combination has some meaning, or you want to add some
methods to the combination, it is better to go ahead and create a class. For
example, do not use a 3-tuple for the combination of a month, a day, and
a year. Make a Date class. It makes your intentions explicit, which both
clears up the code for human readers and gives the compiler and language
opportunities to help you.
1This syntax is actually a special case of pattern matching, as described in detail in
Chapter 12.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 15.4 Chapter 15 · Collections 331
15.4 Sets and maps
Two other kinds of collections you will use all the time when programming
Scala are sets and maps. Sets and maps have a fast lookup algorithm, so they
can quickly decide whether or not an object is in the collection.
It is easiest to explain using an example. Start by importing the package
scala.collection.mutable, so you have easy access to the relevant
classes.
scala> import scala.collection.mutable
import scala.collection.mutable
Now you can create a new set using the empty method:
scala> val words = mutable.Set.empty[String]
words: scala.collection.mutable.Set[String] = Set()
Note that you have to supply the type of objects this set will hold, which in
this example is String. You can then add elements to the set using the +=
method.
scala> words += "hello"
scala> words += "there"
scala> words += "there"
scala> words
res21: scala.collection.mutable.Set[String] = Set(there,
hello)
Note that if an element is already included in the set, then it is not added a
second time. That is why "there" only appears one time in the words set
even though it was added twice.
As a longer example, you can use a set to count the number of different
words in a string. The split method can separate the string into words,
if you specify spaces and punctuation as word separators. The regular expression
[ !,.]+ suffices: it indicates one or more space and/or punctuation
characters.
scala> val text = "See Spot run. Run, Spot, Run!"
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 15.4 Chapter 15 · Collections 332
text: java.lang.String = See Spot run. Run, Spot, Run!
scala> for (w <text.
split("[ !,.]+"))
| println(w)
See
Spot
run
Run
Spot
Run
As written, however, the same word can end up in the resulting collection. If
you want to avoid double counting, a set can help. Simply convert the words
to the same case and then add them to a set. By the nature of how sets work,
each distinct word will appear exactly one time in the set.
scala> import scala.collection.mutable
import scala.collection.mutable
scala> val words = mutable.Set.empty[String]
words: scala.collection.mutable.Set[String] = Set()
scala> for (w <text.
split("[ !,.]+"))
| words += w.toLowerCase()
scala> words
res24: scala.collection.mutable.Set[String] = Set(spot, run,
see)
The text includes exactly three (lowercased) words: spot, run, and see.
Some common set operations are shown in Table 15.1. There are many
more operations available; browse the API documentation for details.
Maps have the same fast lookup algorithm as sets, but additionally let
you associate a value with each element of the collection. Using a map looks
just like using an array, except that instead of indexing with integers counting
from 0, you can use any kind of key. Several common map operations are
shown in Table 15.2.
Creating a mutable map looks like this:
scala> val map = mutable.Map.empty[String, Int]
map: scala.collection.mutable.Map[String,Int] = Map()
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 15.4 Chapter 15 · Collections 333
Table 15.1: Common operations for sets.
What it is What it does
import scala.collection.mutable make the mutable collections easy to
access
val words =
mutable.Set.empty[String]
create an empty set
words += "the" add one object
words =
"the" remove an object, if it exists
words ++= List("do", "re", "mi") add multiple objects
words =
List("do", "re") remove multiple objects
words.size ask for the size of the set (returns 1)
words.contains("mi") check for inclusion (returns true)
Note that when you create a map, you must specify two types. The first type
is for the keys of the map, the second for the values. In this case, the keys are
strings and the values are integers.
Setting entries in a map looks just like setting entries in an array:
scala> map("hello") = 1
scala> map("there") = 2
scala> map
res27: scala.collection.mutable.Map[String,Int] = Map(hello
>
1, there >
2)
Likewise, reading a map is like reading an array:
scala> map("hello")
res28: Int = 1
Putting it all together, here is a method that counts the number of times
each word occurs in a text.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 15.4 Chapter 15 · Collections 334
Table 15.2: Common operations for maps.
What it is What it does
import scala.collection.mutable make the mutable collections easy to
access
val words =
mutable.Map.empty[Int,String]
create an empty map
words += (1 >
"one") add a map entry from 1 to "one"
words =
1 remove a map entry, if it exists
words ++= List(1 >
"one",
2 >
"two", 3 >
"three")
add multiple map entries
words =
List(1, 2) remove multiple objects
words.size ask for the size of the set (returns 1)
words.contains(3) check for inclusion (returns true)
words(3) retrieve the value at a specified key
(returns "three")
words.keys list all keys (returns an Iterator
over just the number 3.)
scala> def wordcounts(text: String) = {
| val counts = mutable.Map.empty[String, Int]
| for (rawWord <text.
split("[ ,!]+")) {
| val word = rawWord.toLowerCase
| val oldCount =
| if (counts.contains(word))
| counts(word)
| else
| 0
| counts += (word >
(oldCount + 1))
| }
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 15.5 Chapter 15 · Collections 335
| counts
| }
wordcounts: (String)scala.collection.mutable.Map[String,Int]
scala> wordcounts("See Spot run! Run, Spot, run!!")
res29: scala.collection.mutable.Map[String,Int] = Map(see >
1, run >
3, spot >
2)
Given these counts, we see that this text talks a lot about running, but not so
much about seeing.
The way this code works is that a map, counts, maps each word to the
number of times it occurs in the text. For each word in the text, the word’s
old count is looked up, that count is incremented by one, and the new count
is saved back into counts. Note the use of contains to check whether a
word has been seen yet or not. If counts.contains(word) is not true, then
the word has not yet been seen and zero is used for the count.
A few common map operations are shown in Table 15.2.
15.5 Initializing collections
You have already seen the syntax List(1,2,3) for creating a list with its
contents specified immediately. This notation works for sets and maps as
well. You leave off a new statement and then put the initial contents in parentheses.
Here are a few examples:
scala> List(1,2,3)
res30: List[Int] = List(1, 2, 3)
scala> mutable.Set(1,2,3)
res31: scala.collection.mutable.Set[Int] = Set(3, 1, 2)
scala> mutable.Map(1>"
hi", 2>"
there")
res32: scala.collection.mutable.Map[Int,java.lang.String] =
Map(2 >
there, 1 >
hi)
scala> Array(1,2,3)
res33: Array[Int] = Array(1, 2, 3)
Note the >
notation that is available for initializing maps. Each entry to be
added to the map is given by a key>
value pair.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 15.6 Chapter 15 · Collections 336
Behind the scenes, the parentheses here are expanded into a call to
apply, much like the syntactic help for update methods on arrays and maps.
For example, the following two expressions have the same result:
scala> List(1,2,3)
res34: List[Int] = List(1, 2, 3)
scala> List.apply(1,2,3)
res35: List[Int] = List(1, 2, 3)
So far, these examples have not specified a type in the code you enter.
You write List(1,2,3), and Scala creates a List[Int] for you automatically.
What happens is that the compiler chooses a type for you based on the
elements it sees. Often this is a perfectly fine type to choose, and you can
leave it as is.
Sometimes, though, you want to create a collection literal and specify a
different type from the one the compiler would choose. This is especially an
issue with mutable collections:
scala> val stuff = mutable.Set(42)
stuff: scala.collection.mutable.Set[Int] = Set(42)
scala> stuff += "abracadabra"
<console>:7: error: type mismatch;
found : java.lang.String("abracadabra")
required: Int
stuff += "abracadabra"
ˆ
The problem here is that stuff was given an element type of Int. If you
want it to have an element type of Any, you have to specify so by putting the
element type in square brackets, like this:
scala> val stuff = mutable.Set[Any](42)
stuff: scala.collection.mutable.Set[Any] = Set(42)
15.6 Immutable collections
Scala provides immutable versions of all of its collection types. These versions
cannot be changed after they are initialized. You should use them
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 15.6 Chapter 15 · Collections 337
Table 15.3: Immutable analogs to mutable collections
mutable immutable code to convert
Array List x.toList
mutable.Map Map Map.empty ++ x
mutable.Set Set Set.empty ++ x
whenever you know a collection should not be changed, so that you do not
accidentally change it later. These are hard bugs to find when they show
up, because all you know is that some code somewhere has modified the
collection.
The main immutable types are given in in Table 15.3. Tuples are left out
of the table because they do not have a mutable analog. Note that many of the
immutable types are shorter to write. You write Set for an immutable set, but
mutable.Set for a mutable one, and thus Scala quietly biases programmers
toward using immutable collections.
The third column of Table 15.3 shows one way to convert a mutable
collection x to an immutable one. For example, if x is an Array, you can
convert it to a List with x.toList. Conversion in the opposite direction is
also possible: simply make an empty mutable collection of the desired type
and then use ++= to add to it all of the elements of the immutable collection.
Immutable collections have analogs to all of the methods available for
mutable collections. There is one big difference, however. Instead of having
operations to modify the collection in place, they have methods to create
a new version of the collection that has had a change made. When such
a method is used, the old version of the collection is still accessible and
has exactly the same contents. As a visual reminder of this difference, the
mutable methods use an = sign in the name while the immutable variants do
not. For example, you add to an immutable set with + instead of +=. After
the addition, the original set remains available, unchanged.
scala> val original = Set(1,2,3)
original: scala.collection.immutable.Set[Int] = Set(1, 2, 3)
scala> val updated = original + 5
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 15.6 Chapter 15 · Collections 338
Table 15.4: Common operations for immutable sets.
What it is What it does
val nums = Set(1, 2, 3, 3) create a set (returns Set(1, 2, 3)
nums + 5 add one element (returns
Set(1, 2, 3, 5)
nums 1
remove one element (returns
Set(2, 3)
nums ++ List(5, 6) add multiple elements (returns
Set(1, 2, 3, 5, 6)
nums List(
1, 2) remove multiple elements (returns
Set(3)
nums.size ask for the size of the set (returns 3)
nums.contains(3) check for inclusion (returns true)
updated: scala.collection.immutable.Set[Int] = Set(1, 2, 3,
5)
scala> original
res37: scala.collection.immutable.Set[Int] = Set(1, 2, 3)
Some common operations for immutable sets and maps are shown in
Table 15.4 and Table 15.5. As you can see, most operations are the same,
and the ones that are not mostly differ in that they do not modify the receiver
collection.
Switching to and from immutable collections
Because there are subtle implications of choosing mutable versus immutable
collections, programmer often write code that starts with one kind of collection
and then switches to the other later on. To help with this common
kind of switch, Scala includes a little bit of syntactic sugar. Even though immutable
sets and maps do not support a true += method, Scala gives a useful
alternate interpretation to +=. Whenever you write a += b, and a does not
support a += method, Scala will try interpreting it as a = a + b. For example,
immutable sets do not support +=.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 15.6 Chapter 15 · Collections 339
Table 15.5: Common operations for immutable maps.
What it is What it does
val words = Map(1 >
"one",
2 >
"two")
create a map (returns
Map(1 >
"one", 2 >
"two"))
words + (6 >
"six") add an entry to a map (returns
Map(1 >
"one", 2 >
"two", 6 >
"six"))
words 1
remove one map entry (returns
Map(2 >
"two"))
words ++ List(1 >
"one",
2 >
"two", 6 >
"six")
add multiple map entries (returns
Map(1 >
"one", 2 >
"two", 6 >
"six"))
words List(
1, 2) remove multiple objects (returns
Map())
words.size ask for the size of the set (returns 2)
words.contains(2) check for inclusion (returns true)
words(2) retrieve the value at a specified key
(returns "two")
words.keys list all keys (returns an Iterator
over the numbers 1 and 2)
scala> authorized += "Bill"
scala> authorized
res40: scala.collection.immutable.Set[java.lang.String] =
Set(Nancy, Jane, Bill)
The same idea applies to any method ending in =, not just +=:
scala> authorized =
"Jane"
scala> authorized ++= List("Tom", "Harry")
scala> authorized
res43: scala.collection.immutable.Set[java.lang.String] =
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 15.6 Chapter 15 · Collections 340
Set(Nancy, Bill, Tom, Harry)
To see how this is useful, consider again the following example from Chapter
1.
var capital = Map("US" >
"Washington",
"France" >
"Paris")
capital += ("Japan" >
"Tokyo")
println(capital("France"))
This code uses immutable collections. If you want to try using mutable collections
instead, then all that is necessary is to import the mutable version of
Map, thus overriding the default import of the immutable Map.
import scala.collection.mutable.Map // only change needed!
var capital = Map("US" >
"Washington",
"France" >
"Paris")
capital += ("Japan" >
"Tokyo")
println(capital("France"))
Not all examples are quite that easy to convert, but the special treatment of
methods ending in an equals sign will often reduce the amount of code that
needs changing.
By the way, this syntactic treatment works on any kind of value, not just
collections. For example, here it is being used on floating-point numbers:
scala> var roughlyPi = 3.0
roughlyPi: Double = 3.0
scala> roughlyPi += 0.1
scala> roughlyPi += 0.04
scala> roughlyPi
res46: Double = 3.14
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 15.7 Chapter 15 · Collections 341
Lean towards immutable
There are problems where mutable collections work better, and other problems
where immutable collections work better. Whenever you are in doubt,
it is often better to start with an immutable collection and change it later if
you need to. Mutation is simply a powerful feature, and powerful features
can be hard to reason about. In much the same way, reassignable variables,
vars, are powerful, but whenever you do not need that power it is better to
disable it and use vals.
It is even worth going the opposite way. Whenever you find a collectionsusing
program becoming complicated and hard to reason about, you should
consider whether it would help to change some of the collections to be immutable.
In particular, if you find yourself worrying about making copies of
mutable collections in just the right places, or if you find yourself thinking a
lot about who “owns” or “contains” a mutable collection, consider switching
some of the collections to be immutable.
15.7 Conclusion
This chapter has shown you the most important kinds of Scala collections.
While you can get by if you simply use arrays for everything, it is worth
learning, over time, the map, set, and tuple classes. Using the right class at
the right time can make your code shorter and cleaner. As you do so, keep
an eye out for chances to use immutable equivalents of the collection classes
you choose. They can make your code just a little more clean and easy to
work with.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 16
Stateful Objects
Previous chapters have put the spotlight on functional objects. They have
done that because the idea of objects without any mutable state deserves to
be better known. However, it is also perfectly possible to define objects with
mutable state in Scala. Such stateful objects often come up naturally when
one wants to model objects in the real world that change over time.
This chapter explains what stateful objects are, and what Scala provides
in term of syntax to express them. The second part of this chapter also introduces
a larger case study on discrete event simulation, which is one of the
application areas where stateful objects arise naturally.
16.1 What makes an object stateful?
The principal difference between a purely functional object and a stateful
object can be observed even without looking at the object’s implementation.
When you invoke a method or dereference a field on some purely functional
object, you will always get the same result. For instance, given a list of
characters
val cs = List('a', 'b', 'c')
an application of cs.head will always return 'a'. This is the case even if
there is an arbitrary number of operations on the list cs between the point
where it is defined and the point where the access cs.head is made.
For a stateful object, on the other hand, the result of a method call or field
access may depend on what operations were performed on the object before.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 16.1 Chapter 16 · Stateful Objects 343
A good example of a stateful object is a bank account. Here’s a simplified
implementation of bank accounts:
class BankAccount {
private var balance: Int = 0
def getBalance: Int = balance
def deposit(amount: Int) {
assume(amount > 0)
balance += amount
}
def withdraw(amount: Int): Boolean =
if (amount <= balance) { balance =
amount; true }
else false
}
The BankAccount class defines a private variable balance and three public
methods. The getBalance method returns the current balance, the deposit
method adds a given amount to balance, and the withdraw method tries
to subtract a given amount from balance while assuring that the remaining
balance won’t be negative. The return value of @withdraw@ is a Boolean
indicating whether the requested funds were successfully withdrawn.
Even if you know nothing about the inner workings of the BankAccount
class, you can still tell that BankAccounts are stateful objects. All you need
to do is create a BankAccount and invoke some of its methods:
scala> val account = new BankAccount
account: BankAccount = BankAccount@eb06c3
scala> account deposit 100
scala> account withdraw 80
res1: Boolean = true
scala> account withdraw 80
res2: Boolean = false
Note that the two final withdrawals in the above interaction returned different
results. The first withdraw operation returned true because the bank account
contained sufficient funds to allow the withdrawal. The second operation,
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 16.2 Chapter 16 · Stateful Objects 344
although the same as the first one, returned false, because the balance of
the account had been reduced so that it no longer covers the requested funds.
So, clearly bank accounts have mutable state, because the same operation
can return different results at different times.
You might think that the statefulness of BankAccount is immediately
apparent because it contains a var definition. State and vars usually go
hand in hand, but things are not always so clear-cut. For instance, a class
might be stateful without defining or inheriting any vars because it forwards
method calls to other objects which have mutable state. The reverse is also
possible: A class might contain vars and still be purely functional. An example
is the HashConsing trait of Chapter 11. This trait defines two vars but
they are used only for optimizations, to speed up the operation of the public
hashCode method. Seen from the outside, the trait is still purely functional,
because its methods give the same result every time they are invoked.
16.2 Reassignable variables and properties
There are two fundamental operations on a reassignable variable: you can get
its value or you can set it to a new value. In libraries such as JavaBeans, these
operations are often encapsulated in separate getter and setter methods which
need to be defined explicitly. In Scala, every variable which is a non-private
member of some object implicitly defines a getter and a setter method with it.
These getters and setters are named differently from their Java conventions,
however. The getter of a variable x is just named x, while its setter is named
x_=.
For example, if it appears in a class, the variable definition
var hour: Int = 12
generates a getter hour and setter hour_= in addition to a reassignable field.
The field is always marked private[this], which means it can be accessed
only from the object that contains it. The getter and setter, on the other hand,
get the same visibility as the original var. If the var definition is public, so
are its getter and setter, if it is protected they are also protected, and so
on.
For instance, consider the following class Time which defines two variables
named hour and minute.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 16.2 Chapter 16 · Stateful Objects 345
class Time {
var hour = 12
var minute = 0
}
This implementation is exactly equivalent to the following class definition:
class Time {
private[this] var h = 12
private[this] var m = 0
def hour: Int = h
def hour_=(x: Int) { h = x }
def minute = m
def minute_=(x: Int) { m = x }
}
In the above definitions, the names of the local fields h and m are arbitrarily
chosen so as not to clash with any names already in use.
An interesting aspect about this expansion of vars into getters and setters
is that you can also chose to define a getter and a setter directly instead of
defining a var. By defining these access methods directly you can interpret
the operations of variable access and variable assignment as you like. For
instance, the following variant of class Time contains assumptions1 that catch
all assignments to hour and minute with illegal values:
class Time {
private[this] var h = 12
private[this] var m = 12
def hour: Int = h
def hour_=(x: Int) { assume(0 <= x && x < 24); h = x }
def minute = m
def minute_=(x: Int) { assume(0 <= x && x < 60); m = x }
}
Some languages have a special syntactic construct for these variable-like
quantities that are not plain variables in that their getter or setter can be redefined.
For instance, C# has properties, which fulfill this role. Scala’s convention
of always interpreting a variable as a pair of setter and getter methods
1 Recall that assume was explained in Section 10.4.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 16.2 Chapter 16 · Stateful Objects 346
gives you in effect the same capabilities as C# properties without requiring
special syntax. Properties can serve many different purposes. In the example
above, the setters enforced an invariant, thus protecting the variable from
being assigned illegal values. You could also use a property to log all accesses
to getters or setters of a variable. Or you could integrate variables
with events, for instance by notifying some subscriber methods each time a
variable is modified.
It is also possible, and sometimes useful, to define a getter and a setter
without an associated field. An example is the following class Thermometer
which encapsulates a temperature variable that can be read and updated.
Temperatures can be expressed in Celsius or Fahrenheit degrees. The class
below allows you to get and set the temperature in either measure.
class Thermometer {
var celsius: Float = _
def fahrenheit =
celsius * 9 / 5 + 32
def fahrenheit_=(f: Float) =
celsius = (f 32)
* 5 / 9
override def toString =
fahrenheit+"F/"+celsius+"C"
}
The first line in the body of this class defines a variable celsius that is supposed
to contain the temperature in degrees Celsius. The variable’s value is
initially undefined. This is expressed by using ‘_’ as the “initializing value”
of celsius. More precisely, an initializer ‘= _’ of a field assigns a default
value to that field. Depending on the field type, this default value is either
0, 0.0, false, or null. It is the same as if the same variable was defined
in Java without an initializer. Note that you cannot simply leave off the ‘_’
initializer in Scala. If you had written
var celsius: Float
this would declare an abstract variable, not an uninitialized one.2
The celsius variable definition is followed by a getter fahrenheit
and a setter fahrenheit_= that access the same temperature, but in degrees
2Abstract variables are explained in Chapter 18
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 16.3 Chapter 16 · Stateful Objects 347
Fahrenheit. There is no separate field that contains the current temperature
value in Fahrenheit. Instead the getter and setter methods for Fahrenheit values
automatically convert from and to degrees Celsius, respectively. Here is
an example session that interacts with a Thermometer object:
scala> val t = new Thermometer
t: Thermometer = 32.0F/0.0C
scala> t.celsius = 100
scala> t
res4: Thermometer = 212.0F/100.0C
scala> t.fahrenheit = 40
scala> t
res6: Thermometer = 40.0F/
40.0C
16.3 Case study: discrete event simulation
The rest of this chapter shows by way of an extended example how stateful
objects can be combined with first-class function values in interesting ways.
You’ll see the design and implementation of a simulator for digital circuits.
This task is decomposed into several subproblems, each of which is interesting
individually: First, you’ll be presented a simple but general framework
for discrete event simulation. The main task of this framework is to keep
track of actions that are performed in simulated time. Second, you’ll learn
how discrete simulation programs are structured and built. The idea of such
simulations is to model physical objects by simulated objects, and to use the
simulation framework to model physical time. Finally, you’ll see a little domain
specific language for digital circuits. The definition of this language
highlights a general method for embedding domain-specific languages in a
host language like Scala.
The basic example is taken from the classic textbook “Structure and
Interpretation of Computer Programs” by Abelson and Sussman [Abe96].
What’s different here is that the implementation language is Scala instead
of Scheme, and that the various aspects of the example are structured into
four software layers: one for the simulation framework, another for the basic
circuit simulation package, a third layer for a library of user-defined circuits
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 16.4 Chapter 16 · Stateful Objects 348
and-gate or-gate inverter
Figure 16.1: Basic gates.
and the last layer for each simulated circuit itself. Each layer is expressed
as a class, and more specific layers inherit from more general ones. Understanding
these layers in detail will take some time; if you feel you want to
get on with learning more Scala instead, it’s safe to skip ahead to the next
chapter.
16.4 A language for digital circuits
Let’s start with a little language to describe digital circuits. A digital circuit
is built from wires and function boxes. Wires carry signals which are transformed
by function boxes. Signals will be represented by booleans: true
for signal-on and false for signal-off.
Figure 16.1 shows three basic function boxes (or: gates):
• An inverter, which negates its signal
• An and-gate, which sets its output to the conjunction of its input.
• An or-gate, which sets its output to the disjunction of its input.
These gates are sufficient to build all other function boxes. Gates have delays,
so an output of a gate will change only some time after its inputs change.
We describe the elements of a digital circuit by the following set of Scala
classes and functions.
First, there is a class Wire for wires. We can construct wires as follows.
val a = new Wire
val b = new Wire
val c = new Wire
or, equivalent but shorter:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 16.4 Chapter 16 · Stateful Objects 349
a
b
s
c
d
e
Figure 16.2: A half adder circuit.
val a, b, c = new Wire
Second, there are three procedures which “make” the basic gates we need.
def inverter(input: Wire, output: Wire)
def andGate(a1: Wire, a2: Wire, output: Wire)
def orGate(o1: Wire, o2: Wire, output: Wire)
What’s unusual, given the functional emphasis of Scala, is that these procedures
construct the gates as a side-effect, instead of returning the constructed
gates as a result. For instance, an invocation of inverter(a, b) places an
inverter between the wires a and b. Its result is Unit. It turns out that this
side-effecting construction makes it easier to construct complicated circuits
gradually.
More complicated function boxes are built from the basic gates. For instance,
the following method constructs a half-adder, which takes two inputs
a and b and produces a sum s defined by s = (a + b) % 2 and a carry c
defined by c = (a + b) / 2.
def halfAdder(a: Wire, b: Wire, s: Wire, c: Wire) {
val d, e = new Wire
orGate(a, b, d)
andGate(a, b, c)
inverter(c, e)
andGate(d, e, s)
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 16.4 Chapter 16 · Stateful Objects 350
a
b
cout
sum
c2
half
adder
half
cin adder c1
s
Figure 16.3: A full adder circuit.
A picture of this half-adder is shown in Figure 16.2.
Note that halfAdder is a parameterized function box just like the three
methods which construct the primitive gates. You can use the halfAdder
method to construct more complicated circuits. For instance, the following
code defines a full one bit adder, shown graphically in Figure 16.3, which
takes two inputs a and b as well as a carry-in cin and which produces a sum
output defined by sum = (a + b + cin) % 2 and a carry-out output defined by
cout = (a + b + cin) / 2.
def fullAdder(a: Wire, b: Wire, cin: Wire,
sum: Wire, cout: Wire)
{
val s, c1, c2 = new Wire
halfAdder(a, cin, s, c1)
halfAdder(b, s, sum, c2)
orGate(c1, c2, cout)
}
Class Wire and functions inverter, andGate, and orGate represent a little
language in which users can define digital circuits. It’s a good example of
a domain specific language (or DSL for short) that’s defined as a library in
some other language instead of being implemented on its own. Such languages
are called embedded DSLs.
The implementation of the circuit DSL still needs to be worked out.
Since the purpose of defining a circuit in that DSL is simulating the circuit,
it makes sense to base the DSL implementation on a general API for discrete
event simulation. The next two sections will present first the simulation API
and then the implementation of the circuit DSL on top of it.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 16.4 Chapter 16 · Stateful Objects 351
abstract class Simulation {
type Action = () => Unit
case class WorkItem(time: Int, action: Action)
private var curtime = 0
def currentTime: Int = curtime
private var agenda: List[WorkItem] = List()
private def insert(ag: List[WorkItem],
item: WorkItem): List[WorkItem] =
if (ag.isEmpty || item.time < ag.head.time) item :: ag
else ag.head :: insert(ag.tail, item)
def afterDelay(delay: Int)(block: => Unit) {
val item = WorkItem(currentTime + delay, () => block)
agenda = insert(agenda, item)
}
private def next() {
(agenda: @unchecked) match {
case item :: rest =>
agenda = rest;
curtime = item.time
item.action()
}
}
def run() {
afterDelay(0) {
println("*** simulation started, time = "+
currentTime+" ***")
}
while (!agenda.isEmpty) next()
}
}
Figure 16.4: The Simulation class.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 16.5 Chapter 16 · Stateful Objects 352
16.5 The Simulation API
The simulation API is shown in Figure 16.4. It consists of class Simulation
in package simulator. Concrete simulation libraries inherit this class
and augment it with domain-specific functionality. The elements of the
Simulation class are presented in the following.
Discrete event simulation performs user-defined actions at specified
times. The actions, which are defined by concrete simulation subclasses,
all share a common type:
type Action = () => Unit
The definition above defines Action to be an alias of the type of procedures
that take an empty parameter list and that return Unit.
The time at which an action is performed is simulated time; it has nothing
to do with the actual “wall-clock” time. Simulated times are represented
simply as integers. The current simulated time is kept in a private variable
private var curtime: Int = 0
The variable has a public accessor method which retrieves the current time:
def currentTime: Int = curtime
This combination of private variable with public accessor is used to make
sure that the current time cannot be modified outside the Simulation class.
An action which is to be executed at a specified time is called a work
item. Work items are implemented by the following class:
case class WorkItem(time: Int, action: Action)
The WorkItem class is made a case class because of the syntactic conveniences
this entails: you can use the factory method WorkItem to create
instances of the class and you get accessors for the constructor parameters
time and action for free. Note also that class WorkItem is nested inside
class Simulation. Nested classes are treated similarly as in Java. Chapter
18 gives more details.
The Simulation class keeps an agenda of all remaining work items that
are not yet executed. The work items are sorted by the simulated time at
which they have to be run:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 16.5 Chapter 16 · Stateful Objects 353
private var agenda: List[WorkItem] = List()
The only way to add a work item to the agenda is with the following method:
def afterDelay(delay: Int)(block: => Unit) {
val item = WorkItem(currentTime + delay, () => block)
agenda = insert(agenda, item)
}
As the name implies, this method inserts an action (given by block) into the
agenda so that it is scheduled for execution delay time units after the current
simulation time. For instance, the invocation
afterDelay(delay) { count += 1 }
creates a new work item which will be executed at simulated time
currentTime + delay. The code to be executed is contained in the
method’s second argument. The formal parameter for this argument has
type “=> Unit,” i.e. it is a computation of type Unit which is passed byname.
Recall that call-by-name parameters are not evaluated when passed to
a method. So in the call above count would be incremented only once the
simulation framework calls the action stored in the work item.
The created work item is then inserted into the agenda. This is done by
the insert method, which maintains the invariant that the agenda is timesorted:
private def insert(ag: List[WorkItem],
item: WorkItem): List[WorkItem] =
if (ag.isEmpty || item.time < ag.head.time) item :: ag
else ag.head :: insert(ag.tail, item)
The core of the Simulation class is defined by the run method.
def run() {
afterDelay(0) {
println("*** simulation started, time = "+
currentTime+" ***")
}
while (!agenda.isEmpty) next()
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 16.5 Chapter 16 · Stateful Objects 354
This method repeatedly takes the front item in the agenda and executes it
until there are no more items left in the agenda to execute. Each step is
performed by calling the next method, which is defined as follows.
private def next() {
agenda match {
case item :: rest =>
agenda = rest
curtime = item.time
item.action()
}
}
The next method decomposes the current agenda with a pattern match into
a front item item and a remaining list of work items rest. It removes the
front item from the current agenda, sets the simulated time curtime to the
work item’s time, and executes the work item’s action.
That’s it. This seems surprisingly little code for a simulation framework.
You might wonder how this framework could possibly support interesting
simulations, if all it does is execute a list of work items? In fact the power
of the simulation framework comes from the fact that actions stored in work
items can themselves install further work items into the agenda when they
are executed. That makes it possible to have long-running simulations evolve
from simple beginnings.
Missing cases and the @unchecked annotation
Note that next can be called only if the agenda is non-empty. There’s no
case for an empty list, so you would get a MatchError exception if you tried
to run next on an empty agenda.
In fact, the Scala compiler will warn you that you missed one of the
possible patterns for a list:
Simulator.scala:19: warning: match is not exhaustive!
missing combination Nil
agenda match {
ˆ
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 16.6 Chapter 16 · Stateful Objects 355
one warning found
In this case, the missing case is not a problem, because you know that next
is called only on a non-empty agenda. Therefore, you might want to disable
the warning. You have seen in Chapter 12 that this can be done by adding an
@unchecked annotation to the selector expression of the pattern match:
private def next() {
(agenda: @unchecked) match {
case item :: rest =>
agenda = rest
curtime = item.time
item.action()
}
16.6 Circuit Simulation
The next step is to use the simulation framework to implement the domainspecific
language for circuits. Recall that the circuit DSL consists of a class
for wires and methods that create and-gates, or-gates, and inverters. These
are all contained in a class BasicCircuitSimulation which extends the
simulation framework. Here’s an outline of this class:
abstract class BasicCircuitSimulation extends Simulation {
def InverterDelay: Int
def AndGateDelay: Int
def OrGateDelay: Int
class Wire { ... }
def inverter(input: Wire, output: Wire) {...}
def andGate(a1: Wire, a2: Wire, output: Wire) {...}
def orGate(o1: Wire, o2: Wire, output: Wire) {...}
def probe(name: String, wire: Wire) {...}
}
The class declares three abstract methods InverterDelay, AndGateDelay
and OrGateDelay which represent the delays of the basic gates. The actual
delays are not known at the level of this class because they would depend on
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 16.6 Chapter 16 · Stateful Objects 356
the technology of circuits that are simulated. That’s why the delays are left
abstract in class BasicCircuitSimulation, so that their concrete definition
is delegated to a subclass.
The implementation of the other members of class
BasicCircuitSimulation is described next.
The Wire class
A wire needs to support three basic actions.
getSignal: Boolean returns the current signal on the wire.
setSignal(sig: Boolean) sets the wire’s signal to sig.
addAction(p: Action) attaches the specified procedure p to the
actions of the wire. The idea is that all action procedures attached to
some wire will be executed every time the signal of the wire changes.
Typically actions are added to a wire by components connected to the
wire. An attached action is executed once at the time it is added to a
wire, and after that, every time the signal of the wire changes.
Here is an implementation of the Wire class:
class Wire {
private var sigVal = false
private var actions: List[Action] = List()
def getSignal = sigVal
def setSignal(s: Boolean) =
if (s != sigVal) {
sigVal = s
actions foreach (_ ())
}
def addAction(a: Action) = {
actions = a :: actions; a()
}
}
Two private variables make up the state of a wire. The variable sigVal represents
the current signal, and the variable actions represents the action
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 16.6 Chapter 16 · Stateful Objects 357
procedures currently attached to the wire. The only interesting method implementation
is the one for setSignal: When the signal of a wire changes,
the new value is stored in the variable sigVal. Furthermore, all actions attached
to a wire are executed. Note the shorthand syntax for doing this:
actions foreach (_ ()) applies the function (_ ()) to each element in the
actions list. As described in Section 8.5, the function (_ ()) is a shorthand
for (f => f ()), i.e. it takes a function (let’s name it f) and applies it to the
empty parameter list.
The Inverter Class
The only effect of creating an inverter is that an action is installed on its input
wire. This action is invoked every time the signal on the input changes. The
effect of the action is that the value of the inverter’s output value is set (via
setSignal) to the inverse of its input value. Since inverter gates have delays,
this change should take effect only InverterDelay units of simulated time
after the input value has changed and the action was executed. This suggests
the following implementation.
def inverter(input: Wire, output: Wire) = {
def invertAction() {
val inputSig = input.getSignal
afterDelay(InverterDelay) {
output setSignal !inputSig
}
}
input addAction invertAction
}
In this implementation, the effect of the inverter method is to add
invertAction to the input wire. This action, when invoked, gets the input
signal and installs another action that inverts the output signal into the
simulation agenda. This other action is to be executed after InverterDelay
units of simulated time. Note how the implementation uses the afterDelay
method of the simulation framework to create a new work item that’s going
to be executed in the future.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 16.6 Chapter 16 · Stateful Objects 358
The And-Gate Class
The implementation of and gates is analogous to the implementation of inverters.
The purpose of an andGate is to output the conjunction of its input
signals. This should happen at AndGateDelay simulated time units after any
one of its two inputs changes. Hence, the following implementation:
def andGate(a1: Wire, a2: Wire, output: Wire) = {
def andAction() = {
val a1Sig = a1.getSignal
val a2Sig = a2.getSignal
afterDelay(AndGateDelay) {
output setSignal (a1Sig & a2Sig)
}
}
a1 addAction andAction
a2 addAction andAction
}
The effect of the andGate method is to add andAction to both of its input
wires a1 and a2. This action, when invoked, gets both input signals and
installs another action that sets the output signal to the conjunction of both
input signals. This other action is to be executed after AndGateDelay units
of simulated time. Note that the output has to be recomputed if either of the
input wires changes. That’s why the same andAction is installed on each of
the two input wires a1 and a2.
Exercise: Write the implementation of orGate.
Exercise: Another way is to define an or-gate by a combination of inverters
and gates. Define a function orGate in terms of andGate and inverter.
What is the delay time of this function?
Simulation output
To run the simulator, you still need a way to inspect changes of signals on
wires. To accomplish this, it is useful to add a probe method that simulates
the action of putting a probe on a wire.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 16.6 Chapter 16 · Stateful Objects 359
def probe(name: String, wire: Wire) {
def probeAction() {
println(name+" "+currentTime+" newvalue
= "+wire.getSignal)
}
wire addAction probeAction
}
The effect of the probe procedure is to install a probeAction on a given
wire. As usual, the installed action is executed every time the wire’s signal
changes. In this case it simply prints the name of the wire (which is passed
as first parameter to probe), as well as the current simulated time and the
wire’s new value.
Running the simulator
After all these preparations it’s time to see the simulator in action. To define
a concrete simulation, you need to inherit from a simulation framework
class. To see something interesting, let’s assume there is a class
CircuitSimulation which extends BasicCircuitSimulation and contains
definitions of half adders and full adders as they were presented earlier
in the chapter:
abstract class CircuitSimulation
extends BasicCircuitSimulation {
def halfAdder(a: Wire, b: Wire,
s: Wire, c: Wire) { ... }
def fullAdder(a: Wire, b: Wire, cin: Wire,
sum: Wire, cout: Wire) { ... }
}
A concrete circuit simulation will be an object that inherits from class
CircuitSimulation. The object still needs to fix the gate delays according
to the circuit implementation technology that’s simulated. Finally, one also
needs to define the concrete circuit that’s going to be simulated. You can do
these steps interactively using the Scala interpreter:
scala> import simulator._
import simulator._
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 16.6 Chapter 16 · Stateful Objects 360
First, the gate delays. Define an object (call it MySimulation) that provides
some numbers:
scala> object MySimulation extends CircuitSimulation {
| def InverterDelay = 1
| def AndGateDelay = 3
| def OrGateDelay = 5
| }
defined module MySimulation
scala> import MySimulation._
import MySimulation._
Next, the circuit. Define four wires, and place probes on two of them:
scala> val input1, input2, sum, carry = new Wire
input1: MySimulation.Wire = simulator.BasicCircuitSimulation$Wire@111089b
input2: MySimulation.Wire = simulator.BasicCircuitSimulation$Wire@14c352e
sum: MySimulation.Wire = simulator.BasicCircuitSimulation$Wire@37a04c
carry: MySimulation.Wire = simulator.BasicCircuitSimulation$Wire@1fd10fa
scala> probe("sum", sum)
sum 0 newvalue
= false
scala> probe("carry", carry)
carry 0 newvalue
= false
Note that the probes immediately print an output. This is a consequence of
the fact that every action installed on a wire is executed a first time when the
action is installed.
Now define a half-adder connecting the wires:
scala> halfAdder(input1, input2, sum, carry)
Finally, set one after another the signals on the two input wires to true and
run the simulation:
scala> input1 setSignal true
scala> run()
*** simulation started, time = 0 ***
sum 8 newvalue
= true
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 16.7 Chapter 16 · Stateful Objects 361
scala> input2 setSignal true
scala> run()
*** simulation started, time = 8 ***
carry 11 newvalue
= true
sum 15 newvalue
= false
16.7 Conclusion
This chapter has brought together two techniques that seem at first disparate:
mutable state and higher-order functions. Mutable state was used to simulate
physical entities whose state changes over time. Higher-order functions were
used in the simulation framework to execute actions at specified points in
simulated time. They were also used in the circuit simulations as triggers that
associate actions with state changes. On the side, you have seen a simple way
to define a domain-specific language as a library. That’s probably enough for
one chapter! If you feel like staying a bit longer, maybe you want to try more
simulation examples. You can combine half-adders and full-adders to create
larger circuits, or design new circuits from the basic gates defined so far and
simulate them.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 17
Type Parameterization
This chapter explains some of the techniques for information hiding introduced
in Chapter 13 by means of concrete example: the design of a class
for purely functional queues. It also explains type parameter variance as a
new concept. There are some links between the two concepts in that information
hiding may be used to obtain more general type parameter variance
annotations – that’s why they are presented together.
The chapter contains three parts. The first part develops a data structure
for purely functional queues, which is interesting in its own right. The second
part develops techniques to hide internal representation details of this
structure. The final part explains variance of type parameters and how it
interacts with information hiding.
17.1 Functional queues
A functional queue is a data structure with three operations.
head returns the first element of the queue
tail returns a queue without its first element
append returns a new queue with a given element appended at the end.
Unlike a standard queue, a functional queue does not change its contents
when an element is appended. Instead, a new queue is returned which contains
the element. You can try this out as follows.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 17.1 Chapter 17 · Type Parameterization 363
scala> val q = Queue(1, 2, 3)
q: Queue[Int] = Queue(1, 2, 3)
scala> val q1 = q append 4
q1: Queue[Int] = Queue(1, 2, 3, 4)
scala> q
unnamed3: Queue[Int] = Queue(1, 2, 3)
If Queue was a standard queue implementation, the append operation in the
second input line above would affect the contents of value q; in fact both the
result q1 and the original queue q would contain the sequence 1, 2, 3, 4
after the operation. But for a functional queue, the appended value shows up
only in the result q1, not in the queue q being operated on.
Purely functional queues also have some similarity with lists. Both are
so called fully persistent data structures, where old versions remain available
even after extensions or modifications. Both support head and tail operations.
But where a list is usually extended at the front, using a :: operation,
a queue is extended at the end, using append.
How can this be implemented efficiently? Ideally, a functional queue
should not have a fundamentally higher overhead than a standard, imperative
one. That is, all three operations head, tail, and append should operate in
constant time.
One simple approach to implement a functional queue would be to use
a list as representation type. Then head and tail would just translate into
the same operations on the list, whereas append would be concatenation. So
this would give the following implementation:
class Queue1[T](elems: List[T]) {
def head = elems.head
def tail = elems.tail
def append(x: T) = new Queue1(elems ::: List(x))
}
The problem with this implementation is in the append operation – it takes
time proportional to the number of elements stored in the queue. If you want
constant time append, you could also try to reverse the order of the elements
in the representation list, so that the last element that’s appended comes first
in the list. This would lead to the following implementation.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 17.1 Chapter 17 · Type Parameterization 364
class Queue[T](leading: List[T], trailing: List[T]) {
private def mirror =
if (leading.isEmpty) new Queue(trailing.reverse, Nil)
else this
def head =
mirror.leading.head
def tail = {
val q = mirror;
new Queue(q.leading.tail, q.trailing)
}
def append[T](x: t) =
new Queue(leading, x :: trailing)
}
Figure 17.1: Simple functional queues
class Queue2[T](smele: List[T]) {
def head = smele.last
def tail = smele.init
def append(x: T) = new Queue2(x :: smele)
}
Now append is constant time, but head and init are not. They now take
time proportional to the number of elements stored in the queue.
Looking at these two examples, it does not seem easy to come up with
an implementation that’s constant time for all three operations. In fact, it
looks doubtful that this is even possible! However, by combining the two
operations one can get very close. The idea is to represent a queue by two
lists, called leading and trailing. The leading list contains elements
towards the front, whereas the trailing list contains elements towards the
back of the queue in reversed order. The contents of the whole queue are at
each instant equal to leading ::: trailing.reverse.
Now, to append an element, one just conses it to the trailing list, so
append is constant time. This means that, when an initially empty queue is
constructed from successive append operations, the trailing list will grow
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 17.2 Chapter 17 · Type Parameterization 365
whereas the leading will stay empty. Then, before the first head or tail
operation is performed on an empty leading list, the whole trailing list
is copied to leading, reversing the order of the elements. This is done in
an operation called mirror. Figure 17.1 shows an implementation of queues
following this idea.
What is the complexity of this implementation of queues? The mirror
operation might take time proportional to the number of queue elements, but
only if list leading is empty. It returns directly if leading is non-empty.
Because head and tail call mirror, their complexity might be linear in
the size of the queue, too. However, the longer the queue gets, the less often
mirror is called. Indeed, assume a queue of length n with an empty
leading list. Then mirror has to reverse-copy a list of length n. However,
the next time mirror will have to do any work is once the leading list is
empty again, which will be the case after n tail operations. This means
one can “charge” each of these n tail operation with one n’th of the complexity
of mirror, which means a constant amount of work. Assuming that
head, tail, and append operations appear with about the same frequency,
the amortized complexity is hence constant for each operation. So functional
queues are asymptotically just as efficient as mutable ones.
Now, there’s some caveats in small print that need to be attached to this
argument. First, the discussion only was about asymptotic behavior, the constant
factors might well be somewhat different. Second, the argument rested
on the fact that head, tail and append are called with about the same frequency.
If head is called much more often than the other two operations,
the argument is not valid, as each call to head might involve a costly reorganization
of the list with mirror. The second caveat can be avoided; it
is possible to design functional queues so that in a sequence of successive
head operations only the first one might require a re-organization. You will
find out at the end of this chapter how this is done.
17.2 Information hiding
Private constructors
The implementation of Queue is now quite good in what concerns efficiency.
But one might object that this is paid for by exposing a needlessly detailed
implementation. The Queue constructor, which is globally accessible, takes
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 17.2 Chapter 17 · Type Parameterization 366
two lists as parameters, where one is reversed – hardly an intuitive representation
of a queue. What’s needed is a way to hide this constructor from client
code. In Java, this can be achieved by adding a private modifier to the
constructor definition. In Scala the primary constructor does not have an explicit
definition, it is defined implicitly by the class parameters and its body.
Nevertheless, it is still possible to hide the primary constructor by adding a
private modifier in front of the class parameter list, like this:
class Queue[T] private (leading: List[T], trailing: List[T]) {
...
}
The private modifier between the class name and its parameters indicates
that the constructor of Queue is private; it can be accessed only from within
the class itself and its companion object. The class name Queue is still public,
so you can use it as a type, but you cannot call its constructor:
scala> new Queue(List(1, 2), List(3))
<console>:4: error: constructor Queue cannot be accessed
val unnamed0 = new Queue(List(1, 2), List(3) )
ˆ
Factory methods
Now that the primary constructor of class Queue can no longer be called
from client code, there needs to be some other way to create new queues.
One possibility is to add a secondary constructor that builds an empty queue,
like this:
def this() = this(Nil, Nil)
As a refinement, the secondary constructor could take a list of initial queue
elements as a variable length parameter:
def this(elems: T*) = this(elems.toList, Nil)
Another possibility is to add a factory method that builds a queue from such
a sequence of initial elements. A neat way to do this is to define an object
Queue which has the same name as the class being defined and which
contains an apply method, like this:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 17.3 Chapter 17 · Type Parameterization 367
object Queue {
// constructs a queue with initial elements as given by ‘xs'
def apply[T](xs: T*) = new Queue[T](xs.toList, Nil)
}
By placing this object in the same source file as class Queue you make the
object a companion object of the class. You have seen in Chapter 13 that
a companion object has the same access rights as its class; that’s why the
apply method in object Queue could create a new Queue object, even though
the constructor of class Queue is private.
Note that, because the factory method is called apply, clients can create
queues with an expression such as Queue(1, 2, 3). In fact, this expression
expands to Queue.apply(1, 2, 3) using the normal rules of function objects.
So Queue looks to clients as if it was a globally defined factory method.
In reality, Scala has no globally visible methods; every method must be contained
in an object or a class. However, using methods named apply inside
global objects, one can support usage patterns that look like invocations of
global methods.
An alternative: type abstraction
Private constructors and private members are one way to hide the initialization
and representation of a class. Another, more radical way is to hide
the class itself and only export a trait that reveals the public interface of the
class. The code in Figure 17.2 implements this design. There’s a trait Queue
which declares the methods head, tail, and append. All three methods are
implemented in a subclass QueueImpl, which is itself a private inner class
of object Queue. This exposes to clients the same information as before, but
using a different technique: Now it’s the whole implementation class which
is hidden, instead of just individual constructors and methods.
17.3 Variance annotations
The combination of type parameters and subtyping poses some interesting
questions. For instance, should Queue[String] be a subtype of
Queue[AnyRef]? Intuitively, this seems OK, since a queue of Strings is
a special case of a queue of AnyRefs. More generally, if T is a subtype of
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 17.3 Chapter 17 · Type Parameterization 368
trait Queue[T] {
def head: T
def tail: Queue[T]
def append(x: T): Queue[T]
}
object Queue {
def apply[T](xs: T*): Queue[T] =
new QueueImpl(xs.toList, Nil)
private class QueueImpl(
leading: List[T], trailing: List[T]) extends Queue[T] {
def normalize =
if (leading.isEmpty)
new QueueImpl(trailing.reverse, Nil)
else
this
def head: T =
normalize.leading.head
def tail: QueueImpl[T] = {
val q = normalize
new QueueImpl(leading.tail, q.trailing)
}
def append(x: T) =
new QueueImpl(leading, x :: trailing)
}
}
Figure 17.2: Type abstraction for functional queues
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 17.3 Chapter 17 · Type Parameterization 369
type S then Queue[T] should be a subtype of Queue[S]. This property is
called co-variant subtyping.
In Scala, generic types have by default non-variant subtyping. That is,
with Queue defined as above, queues with different element types would
never be in a subtype relation. However, you can demand co-variant subtyping
of queues by changing the first line of the definition of class Queue as
follows.
class Queue[+T] { ... }
Prefixing a formal type parameter with a + indicates that subtyping is covariant
in that parameter. Besides +, there is also a prefix which
indicates
contra-variant subtyping. If Queue was defined
class Queue[T]
{ ... }
then if T is a subtype of type S this would imply that Queue[S] is a subtype
of Queue[T] (which in the case of queues would be rather surprising!).
In a purely functional world, many types are naturally co-variant. However,
the situation changes once you introduce mutable data. To find out why,
consider a simple type of one-element cells which can be read or written:
class Cell[T](init: T) {
private[this] var current = init
def get = current
def set(x: T) { current = x }
}
This type is declared non-variant. For the sake of the argument, assume for a
moment that it is declared covariant instead, as in class Cell[+T] ... and
that this passes the Scala compiler (it doesn’t, and we’ll explain why shortly).
Then you could construct the following problematic statement sequence:
val c1 = new Cell[String]("abc")
val c2: Cell[Any] = c1
c2.set(1)
val s: String = c1.get
Seen by itself, each of these four lines looks OK. Line 1 creates a cell of
strings and stores in a value c1. Line 2 defines a new value c2 of type
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 17.3 Chapter 17 · Type Parameterization 370
Cell[Any] which is equal to c1. This is OK, since Cells are assumed to
be covariant. Line 3 sets the value of cell c2 to 1. This is also OK, because
the assigned value 1 is an instance of c2s element type Any. Finally,
line 4 assigns the element value of c1 into a string. Nothing strange here,
as both the sides are of the same type. But taken together, these four lines
end up assigning the integer 1 to the string s. This is clearly a violation of
type-soundness.
Which operation is to blame for the run-time fault? It must be the second
one which uses co-variance. In fact, a Cell of String is not also a Cell of
Any, because there are things one can do with a Cell of Any that one cannot
do with a Cell of String: use set with an Int argument, for example.
In fact, if you pass the covariant version of Cell to the Scala compiler,
you would get:
Cell.scala:7: error: covariant type T occurs in contravariant position
in type T of value x
def set(x: T) = current = x
ˆ
Variance and arrays
It’s interesting to compare this behavior with arrays in Java. In principle,
arrays are just like cells except that they can have more than one element.
Nevertheless, arrays are treated as covariant in Java. You can try an example
analogous to the cell interaction above with Java arrays:
// this is Java
String[] a1 = { "abc" }
Object[] a2 = a1
a2[0] = new Integer(17)
String s = a1[0]
If you try out this example, you will find that it typechecks, but executing the
program will cause an ArrayStore exception to be thrown at the third line.
In fact, Java stores the element type of the array at run-time. Then, every
time an array element is updated, the new element value is checked against
the stored type. If it is not an instance of that type, an ArrayStore exception
is thrown.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 17.3 Chapter 17 · Type Parameterization 371
You might ask why Java has adopted this design which seems both unsafe
and expensive? When asked this question, James Gosling, the principal
inventor of the Java language, answered that they wanted to have a simple
means to treat arrays generically. For instance, they wanted to be able to
write a method to sort all elements of an array, using a signature like the
following:
void sort(Object[] a, Comparator cmp) { ... }
Covariance of arrays was needed so that arrays of arbitrary reference types
could be passed to this sort method. Of course, with the arrival of Java
generics, such a sort method can now be written with a type parameter, so
the covariance of arrays is no longer necessary. However, it has persisted to
this day.
Scala tries to be purer than Java in not treating arrays as covariant. Here’s
what you get if you translate the first two lines of the array example to Scala:
scala> val a1 = Array("abc")
a1: Array[java.lang.String] = [Ljava.lang.String;@14653a3
scala> val a2: Array[Any] = a1
<console>:5: error: type mismatch;
found : Array[java.lang.String]
required: Array[Any]
val a2: Array[Any] = a1
ˆ
However, sometimes it is necessary to interact with legacy methods in Java
that use an Object array as a means to emulate a generic array. For instance,
you might want to call a sort method like the one described above with an
array of Strings as argument. To make this possible, Scala lets you cast an
array of Ts to an array of any supertype of T:
scala> val a2: Array[Object] = a1.asInstanceOf[Array[Object]]
a2: Array[Object] = [Ljava.lang.String;@14653a3
The cast will always succeed, but you might get ArrayStore exceptions
afterwards, just as you would in Java.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 17.3 Chapter 17 · Type Parameterization 372
Checking variance
Now that you have seen some examples where variance is unsound, you
probably wonder which kind of class definitions need to be rejected and
which definitions can be accepted. So far, all violations of type soundness
involved some mutable field or array element. The purely functional implementation
of queues, on the other hand, looks like a good candidate for
a covariant data type. However, the following example shows that one can
“engineer” an unsound situation even if there is no mutable field.
To set up the example, assume that queues as defined above are covariant.
Then, create a subclass of queues which specializes the element type to Int
and which overrides the append method:
class StrangeIntQueue extends Queue[Int] {
override def append(x: Int) = {
println(x * x)
super.append(x)
}
}
The append method in StrangeIntQueue prints out the square of its (integer)
argument before doing the append proper. Now, you can write a counterexample
in two lines:
val x: Queue[Any] = new StrangeIntQueue
x.append("abc")
The first of these two lines is valid, because StrangeIntQueue is a subclass
of Queue[Int] and, assuming covariance of queues, Queue[Int] is a subtype
of Queue[Any]. The second line is valid because one can append a
String to a Queue[Any]. However, taken together these two lines have the
effect of calling a non-existent multiply method on a string.
So, clearly, it’s not just mutable fields that make covariant types unsound.
The problem is more general. One can show that as soon as a generic parameter
type appears as the type of a method parameter, the containing data
type may not be covariant. For queues, the append method violates this
condition:
class Queue[+T] {
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 17.3 Chapter 17 · Type Parameterization 373
def append(x: T) =
...
}
Running a modified queue class like the one above though a Scala compiler
would yield:
<console>:5: error: covariant type T occurs in contravariant position
in type T of value x
def append(x: T) =
ˆ
Mutable fields are a special case of the rule that disallows method parameters
of covariant types. Remember that a mutable field var x: T is treated in Scala
as a pair of a getter method def x: T and a setter method def x_=(y: T). As
you can see, the setter method has a parameter of the field’s type T. So that
type may not be covariant.
To verify correct use of variances, the Scala compiler classifies all positions
in a class body as covariant, contravariant, or nonvariant. Positions are
classified starting from the class definition itself and following paths towards
all references to types in the class. Positions at the top-level of the class are
classified as covariant. A flip operation changes the current classification
from covariant into contravariant and vice versa. Flips are performed at the
following two places:
• At a method parameter (both for value parameters and for type parameters).
• At a lower bound of an abstract type or type parameter.
A variance flip is also performed for a type argument T of a type such as
C[T] if the corresponding parameter of C is defined to be contravariant. By
contrast, if the formal parameter is defined to be covariant, the variance position
stays as it is. Finally, if the formal parameter is defined to be nonvariant,
every position inside T is also classified as nonvariant.
As a somewhat contrived example, consider the following class definition,
where the variance of each type occurrence is annotated with + (for
covariant) or 􀀀 (for contravariant).
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 17.4 Chapter 17 · Type Parameterization 374
abstract class C[T,
+U] {
def f[W >: List[U+]](x: T􀀀, y: C[U+, T􀀀])
: C[C[U+, T􀀀], U+]
}
The position of the type parameter W and the two value parameters x and y
are all contravariant. The position of the lower bound List[U] is covariant,
because two flips bring a variance position back to itself. Looking at the
result type of f, the position of the first C[U, T] argument is contravariant,
because C’s first type parameter T is defined contravariant. The type U inside
this argument is again in covariant position (two flips), whereas the type T
inside that argument is still in contravariant position. The variance positions
of all the other occurrences of types T and U are computed in the same way.
The variance type checking rule itself is very simple: Every type parameter
of a class which is declared covariant may only appear in covariant
positions inside the class. A contravariant type parameter may only appear in
contravariant positions. A nonvariant type parameter may appear anywhere.
In the example above, both type parameters appear only in positions that
match their variance declaration. So class C is type correct.
17.4 Lower bounds
Back to the Queue class. You have seen that the previous definition of
Queue[T] cannot be made covariant in T because T appears as parameter
type of the append method, and that’s a contravariant position.
However, it’s possible to generalize the append method using a lower
bound:
class Queue[+T] {
def append[U >: T](x: U) =
new Queue(leading, x :: trailing)
...
}
In the revised definition of append, the position of the type T is covariant,
because there are two flips between the class body and itself: One at the new
type parameter U, the other at its lower bound. So, technically, append is
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 17.5 Chapter 17 · Type Parameterization 375
now variance correct. What’s more, the new definition of append is arguably
better (that is, more general) than the old one. Specifically, the new definition
allows to append an arbitrary supertype U of the queue element type T. The
result is then a queue of Us. Together with queue covariance, this gives the
right kind of flexibility for modeling queues of different element types in a
natural way.
For instance, assume there is a class Fruit with two subclasses, Apple
and Orange. With the new definition of class Queue, it’s possible to append
an Orange to a Queue[Apple]. The result will be a Queue[Fruit].
This shows that variance annotations and lower bounds play well together.
They are a good example of type-driven design, where the types of
an interface guide its detailed design and implementation. In the case of
queues, you would probably not have thought of the refined implementation
of append with a lower bound, but you might have decided to make queues
covariant. In that case, the compiler would have pointed out the variance
error for append. Correcting the variance error by adding a lower bound
makes append more general and queues as a whole more usable.
This observation is also the primary reason why Scala prefers
declaration-site variance over use-site variance as it is found in Java’s wildcards.
With use-site variance, you are on your own designing a class. It
will be the clients of the class that need to put in the wildcards. If they get
it wrong, some important instance methods will no longer be visible. Variance
being a tricky business, users usually get it wrong. That explains why
wildcards, and Java generics in general, are perceived by many to be overly
complicated.
17.5 Contravariance
So far, all types were either covariant or nonvariant. But there are also cases
where contravariance is natural. For instance, consider the following trait of
output channels:
trait OutputChannel[T]
{
def write(x: T)
}
Here, T is defined to be contravariant. So an output channel of Objects,
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 17.6 Chapter 17 · Type Parameterization 376
say, is a subtype of an output channel of Strings. This makes sense.
To see why, consider what one can do with an OutputChannel[String].
The only supported operation is writing a String to it. The same operation
can also be done on an OutputChannel[Object]. So it is safe to
substitute an OutputChannel[Object] for an OutputChannel[String].
By contrast, it is not safe to use an OutputChannel[String] where an
OutputChannel[Object] is required. After all, one can send any object
to an OutputChannel[Object], whereas an OutputChannel[String] requires
that the written values are all strings.
This reasoning points to a general principle in type system design: It
is safe to assume that a type T is a subtype of a type U if you can substitute
a value of type T wherever a value of type U is required. This is
called the Liskov substitution principle. The principle holds if T supports the
same operations as U and all of T’s operations require less and provide more
than the corresponding operations in U. In the case of output channels, an
OutputChannel[Object] can be a subtype of an OutputChannel[String]
because the two support the same write operation, and this operation requires
less in OutputChannel[Object] than in OutputChannel[String].
“Less” means: the argument is only required to be an Object in the first
case, whereas it is required to be a String in the second case.
Sometimes covariance and contravariance are mixed in the same type. A
prominent example are Scala’s function traits. For instance, here is the trait
of unary functions, which implements function types of the form A => B:
trait Function1[S,
+T] {
def apply(x: S): T
}
The Function1 trait is contravariant in the function argument type S and
covariant in the result type T. This satisfies the Liskov substitution principle,
because arguments are something that’s required, whereas results are
something that’s provided.
17.6 Object-local data
The Queue class seen so far has a problem in that the mirror operation might
repeatedly copy the trailing into the leading list if head is called several
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 17.6 Chapter 17 · Type Parameterization 377
class Queue[+T] private (
private[this] var leading: List[T],
private[this] var trailing: List[T]) {
private def mirror() =
if (leading.isEmpty) {
while (!trailing.isEmpty) {
leading = trailing.head :: leading
trailing = trailing.tail
}
}
def head: T = {
mirror()
leading.head
}
def tail: Queue[T] = {
mirror()
new Queue(leading.tail, trailing)
}
def append[U >: T](x: U) =
new Queue(leading, x :: trailing)
}
Figure 17.3: Optimized functional queues
times in a row on a list where leading is empty. The wasteful copying could
be avoided by adding some judicious side effects. Figure 17.3 presents a new
implementation of Queue which performs at most one trailing to leading
adjustment for any sequence of head operations.
What’s different with respect to the previous version is that now leading
and trailing are reassignable variables, and the mirror operation performs
the reverse copy from trailing to leading as a side-effect on the current
queue instead of returning a new queue. This side-effect is purely internal
to the implementation of the Queue operation; since leading and trailing
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 17.7 Chapter 17 · Type Parameterization 378
are private variables, the effect is not visible to clients of Queue.
You might wonder whether this code passes the Scala type checker. After
all, queues now contain two mutable fields of the covariant parameter type T.
Is this not a violation of the variance rules? It would be indeed, except for the
detail that leading and trailing have a private[this] modifier and are
thus declared to be object-local. It turns out that variables that are accessed
only from the object in which they are defined do not cause problems with
variance. The intuitive explanation is that, in order to construct a case where
variance would lead to type errors, one needs to have a reference to a value
that has a statically weaker type than the type the value was defined with.
For object-local values this is impossible.
Scala’s variance checking rules contain a special case for object-local
definitions. Such definitions are omitted when it is checked that a co- or
contravariant type parameter occurs only in positions that have the same
variance classification. Therefore, the code in Figure 17.3 compiles without
error. On the other hand, if you had left out the [this] qualifiers from
the two private modifiers, you would see two type errors.
Queues.scala:1: error: covariant type T occurs in contravariant position
in type List[T] of parameter of setter leading_=
class Queue[+T] private (private var leading: List[T],
ˆ
Queues.scala:1: error: covariant type T occurs in contravariant position
in type List[T] of parameter of setter trailing_=
private var trailing: List[T]) {
ˆ
17.7 Conclusion
In this chapter you have seen several techniques for information hiding: Private
constructors, factory methods, type abstraction, and object-local members.
You have also learned how to specify data type variance and what it implies
for class implementation. Finally, you have seen two techniques which
help in obtaining rich variance annotations: lower bounds for method type
parameters, and private[this] annotations for local fields and methods.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 18
Abstract Members and Properties
A member of a class or trait is abstract if the member does not have a complete
definition in the class. Abstract members are supposed to be implemented
in subclasses of the class in which they are defined. This idea is
found in many object-oriented languages. For instance, Java lets you declare
abstract methods. Scala also lets you declare such methods, as you have
seen in chapter 10. But it goes beyond that and implements the idea in its
full generality—besides methods you can also define abstract fields and even
abstract types.
An example is the following trait Abstract which defines an abstract
type T, an abstract method transform, an abstract value initial, and an
abstract variable current.
trait Abstract {
type T
def transform(x: T): T
val initial: T
var current: T
}
A concrete implementation of Abs needs to fill in definitions for each of its
abstract members. Here is an example implementation that provides these
definitions.
class Concrete extends Abstract {
type T = String
def transform(x: String) = x + x
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 18.1 Chapter 18 · Abstract Members and Properties 380
val initial = "hi"
var current = initial
}
The implementation gives a concrete meaning to the type name T by defining
it as an alias of type String. The transform operation concatenates a given
string with itself, and the initial and current values are both set to "hi".
This example gives you a rough first idea of what kinds of abstract members
exist in Scala. The next sections will present the details and explain
what the new forms of abstract members are good for.
18.1 Abstract vals
An abstract val definition has a form like
val initial: String
It gives a name and type for a val, but not its value. This value has to be
provided by a concrete value definition in a subclass. For instance, class
Concrete implemented the value using
val initial = "hi"
You use an abstract value definition in a class when you do not know the
correct value in the class, but you do know that the variable will have an
unchangeable value in each instance of the class.
An abstract value definition resembles an abstract parameterless method
definition such as
def initial: String
Client code refers to both the value and the method in exactly the same way,
i.e. obj.initial. However, if initial is an abstract value, the client
is guaranteed that obj.initial will yield the same value everytime it is
referenced. If initial is an abstract method, that guarantee would not hold,
because in that case initial could be implemented by a concrete method
that returned a different value everytime it was called.
In other words, an abstract value constrains its legal implementation:
Any implementation must be a val definition; it may not be a var or def
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 18.2 Chapter 18 · Abstract Members and Properties 381
definition. Abstract method definitions, on the other hand, may be implemented
by both concrete method definitions and concrete value definitions.
So given a class,
abstract class A {
val v: String // ‘v' for value
def m: String // ‘m' for method
}
the following class would be a legal implementation
class C1 extends A {
val v: String
val m: String // OK to override a ‘def' with a ‘val'
}
But the following class would be in error:
class C2 extends A {
def v: String // ERROR: cannot override a ‘val' with a ‘def'
def m: String
}
18.2 Abstract vars
Like an abstract val, an abstract var defines just a name and a type, but not
an initial value. For instance, here is a class AbstractTime which defines
two abstract variables named hour and minute.
trait AbstractTime {
var hour: Int
var minute: Int
}
What should be the meaning of an abstract var like hour or minute? You
have seen in Chapter 16 that vars that are members of classes come equipped
with getter and setter methods. This holds for concrete as well as abstract
variables. If you define an abstract var x, you implicitly define a getter
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 18.3 Chapter 18 · Abstract Members and Properties 382
method x and a setter method x_=. In fact, an abstract var is just a shorthand
for a pair of getter and setter methods. There’s no reassignable field to
be defined – that will come in subclasses which define the concrete implementation
of the abstract var. For instance, the definition of AbstractTime
above is exactly equivalent to the following definition.
trait AbstractTime {
def hour: Int // getter for ‘hour'
def hour_=(x: Int) // setter for ‘hour'
def minute: Int // getter for ‘minute'
def minute_=(x: Int) // setter for ‘minute'
}
18.3 Abstract types
In the beginning of this chapter you saw an abstract type declaration
type T
The rest of this chapter discusses what such an abstract type declaration
means and what it’s good for. Like all other abstract declarations this is a
placeholder for something that will be defined concretely in subclasses. In
this case, it is a type that will be defined further down the class hierarchy. So
T above refers to a type that is at yet unknown at the point where it is defined.
Different subclasses can provide different realizations of T.
Here is a well-known example where abstract types show up naturally.
Suppose you are given the task to model eating habits of animals. You might
start with a class Food and a class Animal with an eat method:
class Food {}
abstract class Animal {
def eat(food: Food)
}
You would then specialize these two classes to a class of Cows which eat
Grass:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 18.3 Chapter 18 · Abstract Members and Properties 383
class Grass extends Food {}
class Cow extends Animal {
override def eat(food: Grass) {}
}
However, if you tried to compile the new classes you’d get compilation errors:
error: class Cow needs to be abstract, since method eat is not
defined
class Cow {
ˆ
error: method eat overrides nothing
override def eat(food: Grass)
ˆ
What happened is that the eat method in class Cow does not override the eat
method in class Animal because its parameter type is different—it’s Grass
in class Cow vs. Food in class Animal.
Some people have argued that the type system is unnecessarily strict in
refusing these classes. They have said that it should be OK to specialize a
parameter of a method in a subclass. However, if the classes were allowed
as written, you could get yourself in unsafe situations very quickly. For
instance, the following would pass the type checker.
class Fish extends Food
val cow: Animal = new Cow
cow eat (new Fish)
The program would compile, because Cows are Animals and Animals do
have an eat method that accepts any kind of Food, including Fish. But
surely it would do a cow no good to eat a fish!
What you need to do instead is apply some more precise modelling.
Animals do eat Food but what kind of Food depends on the Animal. This
can be neatly expressed with an abstract type:
abstract class Animal {
type SuitableFood <: Food
def eat(food: SuitableFood)
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 18.3 Chapter 18 · Abstract Members and Properties 384
}
With the new class definition, an Animal can eat only food that’s suitable.
What food is suitable cannot be determined on the level of the Animal class.
That’s why SuitableFood is modelled as an abstract type. The type has
an upper bound Food, which is expressed by the <: Food clause. This
means that any concrete instantiation of SuitableFood in a subclass must
be a subclass of Food. For example, you would not be able to instantiate
SuitableFood with class IOException.
With Animal defined, you can now progress to cows:
class Cow extends Animal {
type SuitableFood = Grass
def eat(food: Grass) {}
}
Class Cow fixes its SuitableFood to be Grass and also defines a concrete
eat method for this kind of food. These new class definitions compile without
errors. If you tried to run the “cows-that-eat-fish” counterexample with
the new class definitions you’d get the following:
scala> class Fish extends Food
defined class Fish
scala> val cow: Animal = new Cow
cow: Animal = Cow@1fb069
scala> cow eat (new Fish)
<console>:7: error: type mismatch;
found : Fish
required: cow.SuitableFood
cow eat (new Fish)
ˆ
Path-dependent types
Have a look at the last error message: What’s interesting about it is the type
required by the eat method: cow.SuitableFood. This type consists of an
object reference (cow) which is followed by a type field SuitableFood of
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 18.4 Chapter 18 · Abstract Members and Properties 385
the object. So this shows that objects in Scala can have types as members.
cow.SuitableFood means “the type SuitableFood which is a member of
the cow object,” or otherwise said, the type of food that’s suitable for cow.
A type like cow.SuitableFood is called a path dependent type. The word
“path” here means a reference to an object. It could be a single name or a
longer access path such as in swiss.cow.SuitableFood.
As the term “path-dependent type” says, the type depends on the path:
in general, different paths give rise to different types. For instance, if you
had two animals cat and dog, their SuitableFoods would not be the same:
cat.SuitableFood is incompatible with dog.SuitableFood. The case is
different for Cows however. Because their SuitableFood type is defined to
be an alias for class Grass, the SuitableFood types of two cows are in fact
the same.
A path-dependent type resembles a reference to an inner class in Java, but
there is a crucial difference: A path-dependent type names an outer object,
whereas a reference to an inner class names an outer class. References to
inner classes as in Java can also be expressed in Scala, but they are written
differently. Assume two nested classes Outer and Inner:
class Outer {
class Inner
}
In Scala, the inner class is addressed using the expression Outer # Inner
instead of Outer.Inner in Java. The . syntax is reserved for objects. For
instance, assume two objects:
val o1, o2 = new Outer
Then o1.Inner and o2.Inner would be two path-dependent types (and they
would be different types). Both of these types would conform to the more
general type Outer # Inner which represents the Inner class with an arbitrary
outer object of type Outer.
18.4 Case study: Currencies
The rest of this chapter presents a case-study which explains how abstract
types can be used in Scala. The task is to design a class Currency. A
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 18.4 Chapter 18 · Abstract Members and Properties 386
typical instance of Currency would represent an amount of money in Dollars
or Euros or Yen, or in some other currency. It should be possible to do
some arithmetic on currencies. For instance, you should be able to add two
amounts of the same currency. Or you should be able to multiply currency
amount by a factor representing an interest rate.
These thoughts lead to the following first design for a currency class:
// A first (faulty) design of the Currency class
abstract class Currency {
val amount: Long
def designation: String
override def toString = amount+" "+designation
def +(that: Currency): Currency = ...
def *(x: Double): Currency = ...
}
The amount of a currency is the number of currency units it represents. This
is a field of type Long so that very large amounts of money such as the
market capitalization of Google or Microsoft can be represented. It’s left
abstract here, waiting to be defined when one talks about concrete amounts
of money. The designation of a currency is a string that identifies it. The
toString method of class Currency indicates an amount and a designation.
It would yield results such as
79 USD
11000 Yen
99 Euro
Finally, there are methods ‘+’ for adding currencies and ‘*’ for multiplying
a currency with a a floating point number. A concrete currency value could
be created by instantiating amount and designation with concrete values.
For instance:
new Currency {
val amount = 99.95
def designation = "USD"
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 18.4 Chapter 18 · Abstract Members and Properties 387
This design would be OK if all we wanted to model was a single currency
such as only Dollars or only Euros. But it fails once we need to deal with
several currencies. Assume you model Dollars and Euros as two subclasses
of class currency.
abstract class Dollar extends Currency {
def designation = "USD"
}
abstract class Euro extends Currency {
def designation = "Euro"
}
At first glance this looks reasonable. But it would let you add Dollars to Euros.
The result of such an addition would be of type Currency. But it would
be a funny currency that was made up of a mix of Euros and Dollars. What
you want instead is a more specialized version of ‘+’: When implemented in
class Dollar, it should take Dollar arguments and yield a Dollar amount;
when implemented in class Euro, it should take Euro arguments and yield
Euro results. So the type of the addition method changes depending in which
class you are in. However, you would like to write the addition method just
once, not each time a new currency is defined.
In Scala, there’s a simple technique to deal with situations like this: If
something is not known at the point where a class is defined, make it abstract
in the class. This applies to both values and types. In the case of currencies,
the exact argument and result type of the addition method are not known, so
it is a good candidate for an abstract type. This would lead to the following
sketch of class AbstractCurrency:
// A second (still imperfect) design of the Currency class
abstract class AbstractCurrency {
type Currency <: AbstractCurrency
val amount: Long
def designation: String
override def toString = amount+" "+designation
def +(that: Currency): Currency = ...
def *(x: Double): Currency = ...
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 18.4 Chapter 18 · Abstract Members and Properties 388
The only difference to the situation before is that the class is now
called AbstractCurrency, and that it contains an abstract type Currency,
which represents the real currency in question. A concrete subclass of
AbstractCurrency would need to fix the Currency type to refer to the
concrete subclass itself, thereby “tying the knot”. For instance, here is a new
version of Dollar which extends AbstractCurrency.
class Dollar extends AbstractCurrency {
type Currency = Dollar
def designation = "USD"
}
This design is workable, but it is still not perfect. One problem is hidden
by triple dots which indicate the missing method definitions of ‘+’ and
‘*’in class AbstractCurrency. In particular, how should addition be implemented
in this class? It’s easy enough to calculate the correct amount of
the new currency as this.amount + that.amount, but how to convert the
amount into a currency of the right type? You might try something like
def +(that: Currency): Currency = new Currency {
val amount = this.amount + that.amount
}
However, this would not compile:
error: class type required
def +(that: Currency): Currency = new Currency {
ˆ
One of the restrictions of Scala’s treatment of abstract types is that you cannot
create an instance of an abstract type, or have an abstract type as a supertype
of another class.1 So the compiler refused the example code above.
However, you can work around this restriction using a factory method.
Instead of creating an instance of an abstract type directly, define an abstract
method which does it. Then, wherever the abstract type is fixed to be some
concrete type, you also need to give a concrete implementation of the factory
method. For class AbstractCurrency, this would look as follows:
1 There’s some promising recent research on virtual classes, which would allow this, but
this is not currently supported in Scala.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 18.4 Chapter 18 · Abstract Members and Properties 389
abstract class AbstractCurrency {
type Currency <: AbstractCurrency // abstract type
def make(amount: Long): Currency // factory method
... // rest of class
}
A design like this could be made to work, but it looks rather suspicious. Why
place the factory method inside class AbstractCurrency? This looks like
a code smell, for at least two reasons. First, if you have some amount of
currency (say: one Dollar), you also hold in your hand the ability to make
more of the same currency, using code such as:
myDollar.make(100) // here are a hundred more!
In the age of color copying this might be a tempting scenario, but hopefully
not one which you would be able to do for very long without being caught.
The second problem with this code is that you can make more Currency
objects if you already have a reference to a Currency object, but how do
you get the first object of a given Currency? You’d need another creation
method, which does essentially the same job as make. So you have a case of
code duplication, which is a sure sign of a code smell.
The solution, of course, is to move the abstract type and the factory
method outside class AbstractCurrency. You need to create another class
which contains the AbstractCurrency class, the Currency type, and the
make factory method. Let’s call this object a CurrencyZone:
abstract class CurrencyZone {
type Currency <: AbstractCurrency
def make(x: Long): Currency
abstract class AbstractCurrency {
val amount: Long
def designation: String
override def toString = amount+" "+designation
def +(that: Currency): Currency =
make(this.amount + that.amount)
def *(x: Double): Currency =
make((this.amount * x).toLong)
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 18.4 Chapter 18 · Abstract Members and Properties 390
}
An example of a concrete CurrencyZone is the US. You could define this as
follows:
object US extends CurrencyZone {
abstract class Dollar extends AbstractCurrency {
def designation = "USD"
}
type Currency = Dollar
def make(x: Long) = new Dollar { val amount = x }
}
Here, US is an object that extends CurrencyZone. It defines a class Dollar
which is a subclass of AbstractCurrency. So the type of money in this
zone is US.Dollar. The US object also fixes the type Currency to be an
alias for Dollar, and it gives an implementation of the make factory method
to return a dollar amount.
This is a workable design. There are only some refinements to be added.
The first refinement concerns subunits. So far, every currency was measured
in a single unit: Dollars, Euros, or Yen. However, most currencies have subunits:
for instance, in the US, it’s dollars and cents. The most straightforward
way to model cents is to have the amount field in US.Currency represent
cents instead of Dollars. To convert back to Dollars, it’s useful to introduce
a field CurrencyUnit in class CurrencyZone which contains the amount of
currency of one standard unit in that currency. Class CurrencyZone gets
thus augmented like this:
class CurrencyZone {
...
val CurrencyUnit: Currency
}
The US object then defines the quantities Cent, Dollar, and CurrencyUnit
as follows:
object US extends CurrencyZone {
abstract class Dollar extends AbstractCurrency
type Currency = Dollar
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 18.4 Chapter 18 · Abstract Members and Properties 391
def make(x: Long) = new Dollar {
val amount = x
def designation = "USD"
}
val Cent = make(1)
val Dollar = make(100)
val CurrencyUnit = Dollar
}
This definition is just like the previous definition of the US object, except
that it adds three new fields: The field Cent represents an amount of 1
US.Currency. It’s an object analogous to a copper coin of one cent. The
field Dollar represents an amount of 100 US.Currency. So the US object
now defines the name Dollar in two ways: The type Dollar represents the
generic name of the Currency valid in the US currency zone. By contrast
the variable Dollar represents a single US Dollar, analogous to a greenback
bill. The third field definition of CurrencyUnit specifies that the standard
currency unit in the US zone is the Dollar.
The toString method in class Currency also needs to be adapted to
take subunits into account. For instance, the sum of ten dollars and twenty
three cents should print as a decimal number: 10.23 USD. To achieve this,
you implement Currencys toString method as follows:
override def toString =
amount format "%."+decimals(CurrencyUnit.amount)+"f"
Here, format is a method which Scala adds to the standard String class.
It returns a string which is formatted according to a format string which is
given as the method’s right-hand operand. Format strings are as for Java’s
String.format method. For instance, the format string %.2f formats a
number with two decimal digits. The format string above is assembled by
calling the decimals method on CurrencyUnit.amount. This method returns
the number of decimal digits of a decimal power minus one. For instance,
decimals(10) is 1, decimals(100) is 2, and so on. The decimals
method is implemented by a simple recursion:
private def decimals(l: Long): Int =
if (l == 1) 0 else 1 + decimals(l / 10)
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 18.4 Chapter 18 · Abstract Members and Properties 392
Here are some other currency zones:
object European extends CurrencyZone {
abstract class Euro extends AbstractCurrency
type Currency = Euro
def make(x: Long) = new Euro {
val amount = x
}
def designation = "EUR"
}
val Euro = make(100)
val Cent = make(1)
val CurrencyUnit = Euro
}
object Japan extends CurrencyZone {
abstract class Yen extends AbstractCurrency
type Currency = Yen
def make(x: Long) = new Yen {
val amount = x
def designation = "JPY"
}
val Yen = make(1)
val CurrencyUnit = Yen
}
As another refinement you can add a currency conversion feature to the
model. As a first step, write a Converter object which contains applicable
exchange rates between currencies. For instance:
object Converter {
var exchangeRate = Map(
"USD" >
Map("USD" >
1.0 , "EUR" >
0.7596,
"JPY" >
1.211 , "CHF" >
1.223),
"EUR" >
Map("USD" >
1.316 , "EUR" >
1.0 ,
"JPY" >
1.594 , "CHF" >
1.623),
"JPY" >
Map("USD" >
0.8257, "EUR" >
0.6272,
"JPY" >
1.0 , "CHF" >
1.018),
"CHF" >
Map("USD" >
0.8108, "EUR" >
0.6160,
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 18.4 Chapter 18 · Abstract Members and Properties 393
"JPY" >
0.982 , "CHF" >
1.0 )
)
}
Then, add a conversion method from to class Currency, which converts
from a given source currency into the current Currency object:
def from(other: CurrencyZone#AbstractCurrency): Currency =
make(Math.round(other.amount.toDouble * Converter.exchangeRate
(other.designation)(this.designation)))
The from method takes another completely arbitrary currency
as argument. That’s expressed by its formal parameter type
is CurrencyZone#AbstractCurrency, which stands for an
AbstractCurrency type in some arbitrary and unknown CurrencyZone. It
produces its result by multiplying the amount of the other currency with
the exchange rate between the other and the current currency.
Here’s the code of the final version of the CurrencyZone class:
abstract class CurrencyZone {
type Currency <: AbstractCurrency
protected def make(x: Long): Currency
val CurrencyUnit: Currency
private def decimals(l: Long): Long =
if (l == 1) 0 else 1 + decimals(l / 10)
abstract class AbstractCurrency {
val amount: Long
def designation: String
def +(that: Currency): Currency =
make(this.amount + that.amount)
def (
that: Currency): Currency =
make(this.amount that.
amount)
def *(that: Double) =
make((this.amount * that).toLong)
def /(that: Double) =
make((this.amount / that).toLong)
def /(that: Currency) =
this.amount.toDouble / that.amount
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 18.4 Chapter 18 · Abstract Members and Properties 394
override def toString =
(amount.toDouble / CurrencyUnit.amount.toDouble) format
"%."+decimals(CurrencyUnit.amount)+"f"
def from(other: CurrencyZone#AbstractCurrency): Currency =
make(Math.round(
other.amount.toDouble *
Converter.exchangeRate(other.designation)(this.designation)))
}
}
You can test the class in the Scala command shell. Let’s assume that the
CurrencyZone class and all concrete CurrencyZone objects are defined in
a package currencies. The first step is to import everything in this package
into the command shell:
scala> import currencies._
We can then do some currency conversions:
scala> Japan.Yen from US.Dollar * 100
res0: currencies.Japan.Currency = 12110
scala> European.Euro from res0
res1: currencies.European.Currency = 75.95
scala> US.Dollar from res1
res2: currencies.US.Currency = 99.95
The fact that we obtain almost the same amount after three conversions implies
that these are some pretty good exchange rates!
You can also add up values of the same currency:
scala> US.Dollar * 100 + res2
res4: currencies.US.Currency = 199.95
On the other hand, you cannot add amounts of different currencies:
scala> US.Dollar + European.Euro
<console>:7: error: type mismatch;
found : currencies.European.Euro
required: currencies.US.Currency
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 18.5 Chapter 18 · Abstract Members and Properties 395
US.Dollar + European.Euro
ˆ
So the type abstraction has done its job—it prevents us from performing calculations
which are unsound. Failures to convert correctly between different
units may seem like trivial bugs, but they have caused many serious systems
faults. An example is the crash of the Mars Climate Orbiter spacecraft
on Sep 23rd, 1999, which was caused because one engineering team used
metric units while another used English units. If units had been coded in
the same way as Currencys are coded in this chapter, this error would have
been detected by a simple compilation run. Instead, it caused the crash of
the orbiter after a near 10-month voyage.
18.5 Conclusion
Scala offers systematic and very general support for object-oriented abstraction:
It enables you to not only abstract over methods, but also to abstract
over values, variables, and types. This chapter has shown how to make use
of abstract members. You have seen that they support a simple yet effective
principle for systems structuring: When designing a class make everything
which is not yet known at the level of a class into an abstract member. This
principle applies to all sorts of members: methods and variables as well as
types.
The chapter has also shown how variables which are members of some
class come equipped with setters and getters. You have seen how these getters
and setters can be used to implement properties.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 19
Implicit Conversions and Parameters
There’s a fundamental difference between your own code and libraries of
other people: You can change or extend your own code as you wish, but if
you want to use someone else’s libraries you usually have to take them as
they are.
A number of constructs have sprung up in programming languages to
alleviate this problem. Ruby has modules, and Smalltalk lets packages add
to each other’s classes. These are very powerful, but also dangerous, in that
you modify the behavior of a class for an entire application, some parts of
which you might not know. C# 3.0 has static extensions methods, which are
more local, but also more restrictive in that you can only add methods, not
fields or interfaces to a class.
Scala has implicit parameters and conversions. They can make existing
libraries much more pleasant to deal with by letting you leave out tedious
code that is more obvious than useful. Used tastefully, this results in code
that is focused on the interesting, non-trivial parts of your program. This
chapter shows you how implicits work, and presents some of the most common
ways they are used.
19.1 Implicit conversions
Here’s a first example. One of the central collection traits in Scala is
RandomAccessSeq[T], which describes random access sequences over elements
of type T. RandomAccessSeqs have most of the utility methods
which you know from arrays or lists: take, drop, map, filter, exists,
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 19.1 Chapter 19 · Implicit Conversions and Parameters 397
or mkString are just some examples.
To make a new random access sequence, you simply extend trait
RandomAccessSeq. You only need to define two methods which are abstract
in the trait: length and apply. You then get implementations of all
the other useful methods in the trait “for free”.
So far so good. This works fine if you are about to define new classes,
but what about existing ones? Maybe you’d like to also treat classes
in other people’s libaries as random access sequences, even if the designers
of those libraries had not thought of making their classes extend
RandomAccessSeq. For instance, a String in Java would make a good example
of a RandomAccessSeq[Char], but unfortunately Java’s String class
does not inherit from Scala’s RandomAccessSeq trait.
In situations like this, implicits can help. To make a String into a
RandomAccessSeq, you can define an implicit conversion between those two
types:
implicit def stringWrapper(s: String) =
new RandomAccessSeq[Char] {
def length = s.length
def apply(i: Int) = s.charAt(i)
}
That’s it.1 The implicit conversion is just a normal method, the only thing
that’s special is the implicit modifier at the start. You can apply the conversion
explicitly to transform Strings to RandomAccessSeqs:
scala> stringWrapper("abc") exists ('c' == _)
res1: Boolean = true
But you can also leave out the conversion and still get the same behavior:
scala> "abc" exists ('c' == _)
res2: Boolean = true
What goes on here under the covers is that the Scala compiler inserts the
stringWrapper conversion for you. So in effect it converts the last expres-
1In fact, the standard Predef object defines already a stringWrapper conversion with
similar functionality, so in practice you can use this conversion instead of defining your own.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 19.1 Chapter 19 · Implicit Conversions and Parameters 398
sion above to the one before. But on the surface, it’s as if Java’s Strings had
acquired all the useful methods of trait RandomAccessSeq.
This aspect of implicits is similar to extension methods in C#, which also
allow you to add new methods to existing classes. However, implicits can
be far more concise than extension methods. For instance, you only need to
define the length and apply methods in the stringWrapper conversion,
and this gives you all other methods in RandomAccessSeq for free. With
extension methods you’d need to define every one of these methods again.
This duplication makes code harder to write, and, more importantly, harder
to maintain. Imagine someone adds a new method to RandomAccessSeq
sometimes in the future. If all you have is extension methods, you’d have to
chase down all RandomAccessSeq “copycats” one by one, and add the new
method in each. If you forget one of the copycats, your system will become
inconsistent. Talk about a maintenance nightmare! By contrast, with Scala’s
implicits, all conversions pick up the newly added method automatically.
Another advantage of implicit conversions is that they support conversions
into the target type. For instance, suppose you write a method
printWithSpaces which prints all characters in a given random access sequence
with spaces in between them:
scala> def printWithSpaces(seq: RandomAccessSeq[Char]) =
seq mkString " "
Because Strings are implicitly convertible to RandomAccessSeqs, you can
pass a string to printWithSpaces:
scala> printWithSpaces("xyz")
res3: String = x y z
The last expression is equivalent to the following one, where the conversion
shows up explicitly:
scala> printWithSpaces(stringWrapper("xyz"))
res4: String = x y z
This section has shown you some of the power of implicit conversions. and
how they let you “dress up” existing libraries. In the next sections you’ll
learn the rules that determine when implicit conversions are tried and how
they are found.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 19.2 Chapter 19 · Implicit Conversions and Parameters 399
19.2 The fine print
Implicit definitions are those that the compiler is allowed to insert into a
program in order to fix any of its type errors. For example, if x + y does
not type check, then the compiler might change it to convert(x) + y. If
convert changes x into something that has a + method, then this change
might fix a program so that it type checks and runs correctly. If convert
really is just a simple conversion function, then leaving it out of the source
code can be a clarification.
Implicit conversions are governed by the following general rules.
Marking Rule: Only definitions marked implicit are available. The
implicit keyword is used to mark which declarations the compiler may
use as implicits. You can use it to mark any variable, function, or object
definition, just like this:
implicit def int2string(x: Int) = x.toString
The compiler will only change x + y to convert(x) + y if convert is marked
as implicit. This way, you avoid the confusion that would result if the
compiler picked random functions that happen to be in scope and inserted
them as “conversions.” The compiler will only select among the things you
have explicitly marked as conversions.
Scope Rule: An inserted implicit conversion must be a single identifier
or be associated with the source or target type of the conversion. The
compiler will usually not insert a conversion of the form foo.convert. It
will not expand x + y to foo.convert(x) + y. Any conversion must be
available in the current scope via a single identifier. If you want to make
foo.convert available as an implicit, then you need to import it. In fact, it
is common for libraries to include a Preamble object including a number of
useful implicit conversions. Code that uses the library can then do a single
insert Preamble._ to access the library’s implicit conversions.
There’s one exception to this “single identifier” rule. To pick up an implicit
conversion the compiler will also look in the companion modules of the
source or expected target types of the conversion. For instance, you could
package an implicit conversion from X to Y in the companion module of class
X:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 19.2 Chapter 19 · Implicit Conversions and Parameters 400
object X {
implicit def XToY(x: X): Y = ...
}
class X { ... }
In that case, the conversion XToY is said to be associated to the type X. The
compiler will find such an associated conversion everytime it needs to convert
from an instance of type X. There’s no need to import the conversion
separately into your program.
The Scope Rule helps with modular reasoning. When you read code
in one file, the only things you need to consider from other files are those
that are either imported or are explicitly referenced through a fully qualified
name. This benefit is at least as important for implicits as it is for explicitly
written code. If implicits took effect system-wide, then to understand a file
you would have to know about every implicit introduced anywhere in the
program!
Non-Ambiguity Rule: An implicit conversion is never inserted unless
there is no other possible conversion to insert. If the compiler has two
options to fix x + y, say using either convert1(x) + y or convert2(x) + y,
then it will report an error and refuse to choose between them. It would be
possible to define some kind of “best match” rule that prefers some conversions
over others. However, such choices lead to really obscure code. Imagine
the compiler chooses convert2, but you are new to the file and are only
conscious of convert1—you could spend a lot of time thinking a different
conversion had been applied!
In cases like this, one option is to remove one of the imported implicits
so that the ambiguity is removed. If you prefer convert2, then remove the
import of convert1. Alternatively, you can write your desired conversion
explicitly: convert2(x) + y.
One-at-a-time Rule: Only one implicit is tried. The compiler will never
convert x + y to convert1(convert2(x)) + y. Doing so would cause compile
times to increase dramatically on erroneous code, and it would increase
the difference between what the programmer writes and what the program
actually does. For sanity’s sake, the compiler does not insert further implicit
conversions when it is already in the middle of trying another implicit.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 19.2 Chapter 19 · Implicit Conversions and Parameters 401
However, it’s possible to circumvent this restriction by having implicits take
implicit parameters; see below.
Explicits-First Rule: Whenever code type checks as it is written, no
implicits are attempted. The compiler will not change code that already
works. A corollary of this rule is that you can always replace implicit identifiers
by explicit ones, thus making the code longer but with less apparent
ambiguity. You can trade between these choices on a case by case basis.
Whenever you see code that seems repetitive and verbose, implicit conversions
can help you decrease the tedium. Whenever code seems terse to the
point of obscurity, you can insert conversions explicitly. The amount of implicits
you leave the compiler to insert is ultimately a matter of style.
Naming an implicit conversion. Implicit conversions can have arbitrary
names. The name of an implicit conversion matters only in two situations: if
you want to write it explicitly in a method application, and for determining
which implicit conversions are available at any place in the program.
To illustrate the second point, say you want to turn strings automatically
into text labels of a GUI. To do this, you define an implicit conversion like
the following:
import javax.swing._
trait GUIFramework {
implicit def stringToLabel(s: String): JLabel =
new JLabel(s)
...
}
You have put the conversion in a trait GUIFramework. Whenever your application
inherits that trait, the implicit conversion becomes available as a
single identifier, and you can use strings directly as labels.
However, you might want to change the way strings are converted to
labels in some other program component. For instance, you might define a
subtrait WindowsFramework of GUIFramework. Inside WindowsFramework
all implicitly generated labels should always have the Windows “look and
feel”, which is represented by the WindowsLabelUI value. So you write:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 19.2 Chapter 19 · Implicit Conversions and Parameters 402
trait WindowsFramework extends GUIFramework {
val WindowsLabelUI = ...
implicit def stringToLabel(s: String): JLabel = {
val label = super.stringToLabel(s)
label setUI WindowsLabelUI
label
}
...
}
Now, every class inheriting from WindowsFramework will pick up the new
stringToLabel conversion, which overrides the old one in GUIFramework.
Here it is important that the names of the two implicit conversions match,
because that way, the GUIFramework conversion is hidden by one in
WindowsFramework. If you had picked a different name for the conversion
in WindowsFramework, there would be two conversions available everytime
a string needs to be converted to a label. You would then get compiler errors
signalling violations of the non-ambiguity rule.
Where implicits are tried. There are three places implicits are used in
the language: conversions to an expected type, conversions of the receiver
of a selection, and implicit parameters. Implicit conversions to an
expected type let you use one type in a context where a different type
is expected. For example, you might have an String but want to use
it as a RandomAccessSeq[Char]. Conversions of the receiver let you
adapt the receiver of a method call if the method is not applicable on
the original type. An example is "abc".exists, which is converted to
stringWrapper("abc").exists because the exists method is not available
on Strings but is available on RandomAccessSeqs. Implicit parameters,
on the other hand, are usually used to provide more information to the
callee about what the caller wants. Implicit parameters are especially useful
with generic functions, where the callee might otherwise know nothing at all
about the type of one or more arguments. The following three sections will
each discuss one of these kinds of implicits.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 19.3 Chapter 19 · Implicit Conversions and Parameters 403
19.3 Implicit conversion to an expected type
Implicit conversions to an expected type are the first place that the compiler
will use implicits. The rule is simple. Whenever the compiler sees an X,
but needs a Y, it will look for an implicit function that converts X’s to Y’s.
For example, normally a double cannot used as an integer, because it loses
precision:
scala> val i: Int = 3.5
<console>:8: error: type mismatch;
found : Double(3.5)
required: Int
val i: Int = 3.5
ˆ
However, you can define an implicit conversion to smooth this over:
scala> implicit def double2int(x: Double) = x.toInt
double2int: (Double)Int
scala> val i: Int = 3.5
i: Int = 3
What happens here is that the compiler sees a double, specifically 3.5, in
a context where it requires an integer. Before giving up, it searches for
an implicit conversion from doubles to integers. In this case, it finds one:
double2int. It then inserts a call to double2int automatically. Behind the
scenes, the code becomes:
val i: Int = double2int(3.5)
This is literally an implicit conversion. The programmer does not explicitly
ask for conversion. Instead, you mark double2int as an available implicit
conversion, and then the compiler automatically uses it wherever it needs to
convert from a double to an integer.
19.4 Converting the receiver
Implicit conversions also apply to the receiver of a method call, giving two
major applications that might not be obvious. These receiver conversions
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 19.4 Chapter 19 · Implicit Conversions and Parameters 404
allow smoother integration of a new class into an existing class hierarchy,
and they also support writing domain-specific languages (DSLs) within the
language.
To see how it works, suppose you write down foo.doit, and foo does
not have a method named doit. The compiler will try to insert conversions
before giving up. In this case, the conversion needs to apply to the receiver,
foo. The compiler will act as if the expected “type” of foo were “has a
method named doit.” This “has a doit” type cannot be expressed in Scala
notation, but it is there conceptually and is why the compiler will insert an
implicit conversion in this case.
Interoperating with new types
Receiver conversions have two major applications. One of them supports
defining a new type, where you want to let people freely use some existing
type as if it were also a member of the new type. Take for example the type
of Rational numbers defined in Chapter 6. Here’s an outline of that class
again:
class Rational(n: Int, d: Int) {
...
def +(that: Rational): Rational = ...
def +(that: Int): Rational = ...
}
Class Rational has two overloaded variants of the ‘+’ method, which take
Rationals and Ints, respectively, as arguments. So you can either add two
rational numbers or a rational number and an integer:
scala> val oneHalf = new Rational(1, 2)
oneHalf: Rational = 1/2
scala> oneHalf + oneHalf
res6: Rational = 1/1
scala> oneHalf + 1
res7: Rational = 3/2
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 19.4 Chapter 19 · Implicit Conversions and Parameters 405
What about an expression like 1 + oneHalf, however? This expression is
tricky because the receiver, 1, does not have a suitable + method. So the
following gives an error:
scala> 1 + oneHalf
<console>:6: error: overloaded method value + with alternatives
(Double)Double <and> ... cannot be applied to (Rational)
1 + oneHalf
ˆ
To allow this kind of mixed arithmetic, you need to define an implicit conversion
from Int to Rational:
scala> implicit def intToRational(x: Int) = new Rational(x, 1)
intToRational: (Int)Rational
With the conversion in place, converting the receiver does the trick.
scala> 1 + oneHalf
res10: Rational = 3/2
What happens behind the scene here is that Scala compiler first tries to typecheck
the expression 1 + oneHalf as it is. This fails because Int has several
‘+’ methods, but none that takes a Rational argument. Next, the compiler
searches an implicit conversion from Int to another type that has a ‘+’
method which can be applied to a Rational. It finds your conversion and
applies it, yielding
intToRational(1) + oneHalf
Simulating new syntax
Another major application of implicit conversions is to simulate adding new
syntax. Recall that you can make a Map using syntax like this:
Map(1>"
one", 2>"
two", 3>"
three")
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 19.5 Chapter 19 · Implicit Conversions and Parameters 406
Have you wondered how the >
is supported? It is not syntax! Instead, >
is a method of a class called RichAny, located in package scala.runtime.
The standard Scala preamble (scala.Predef) defines an implicit conversion
from Any to RichAny, and RichAny includes a >
method.
This RichFoo pattern is common in libraries that provide a syntax-like
extension to the language, so you should be ready to recognize it when you
see it. Whenever you see someone calling methods that appear not to exist
in the receiver class, they are probably using implicits. Likewise, whenever
you see a class named RichSomething, you can expect that the programmer
is adding syntax-like methods to type Something, so it may be worth a quick
skim to see what methods it has. You have seen it already for the basic types
described in Chapter 5. The RichFoo pattern applies more widely, however.
Stepping back, this simulated new syntax means you can define a DSL
right within Scala. Instead of writing a parser and interpreter, you can provide
a DSL by writing a library.
19.5 Implicit parameters
The other place the compiler inserts implicits is within parameter lists. The
compiler will sometimes replace foo(x) with foo(x)(y), or new Foo(x)
with new Foo(x)(y), thus adding a missing parameter list to complete
a function call. For this usage, not only must the inserted identifier
(y) be marked implicit, but also the formal parameter list in foo’s or
Foo's definition be marked as nimplicit@.
Here is a simple example. The following printSomething function
prints whatever its argument is.
scala> def printSomething(implicit x: Int) = println(x)
printSomething: (implicit Int)Unit
This function can be called just like any other function:
scala> printSomething(10)
10
However, you can also set a parameter implicitly:
scala> implicit val favoriteNumber = 4
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 19.5 Chapter 19 · Implicit Conversions and Parameters 407
favoriteNumber: Int = 4
scala> printSomething
4
The most common use of these implicit parameters is to provide information
about a type, similarly to the type classes of Haskell. For example, the
following method returns the maximum of a list of items.
def maxList[T](nums: List[T])
(implicit orderer: T=>Ordered[T]): T =
nums match {
case List() => throw new Error("empty list!")
case List(x) => x
case x :: rest =>
val maxRest = maxList(rest)(orderer)
if (orderer(x) > maxRest) x
else maxRest
}
For maxList to do its work, it needs to have a way to decide whether one T
is larger or smaller than another. The Ordered trait discussed in Chapter 11
gives such a definition, but how does maxList get an instance of Ordered
for T, even if such an instance exists?
In this case the method uses an implicit parameter. The orderer parameter
in this example is used to describe the ordering of Ts. In the body of
maxList, this ordering is used in two places: a recursive call to maxList,
and in an if expression that checks whether the head of the list is larger than
the maximum element of the rest of the list.
This pattern is so common that the standard Scala library already comes
with orderer methods for many simple types. You can thus use this maxList
method with a variety of types:
scala> maxList(List(1,5,10,3))
res0: Int = 10
scala> maxList(List(1.5, 5.2, 10.7, 3.14159))
res1: Double = 10.7
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 19.6 Chapter 19 · Implicit Conversions and Parameters 408
In the first case, the compiler inserts an orderer function for Ints, and in the
second case, the compiler inserts one for Doubles.
A style rule for implicit parameters . As a style rule, it is best to use a
customized named type in the types of implicit parameters. The maxList
function could just as well have been written with the following type signature:
def maxList[T](nums: List[T])
(implicit orderer: (T,T)=>Boolean): T
To use this version of the function, though, the caller would have to supply
an orderer parameter of type (T,T)=>Boolean. This is a fairly generic
type that includes any function from two Ts to a boolean. It does not indicate
anything at all about what the type is for; it could be an equality test, a lessthan
test, a greater-than test, or something else entirely.
The actual code given above is more stylistic. It uses an orderer parameter
of type T=>Ordered[T]. The word Ordered in this type indicates
exactly what the implicit parameter is used for: it is for ordering elements of
T. Because this orderer type is more explicit, it becomes no trouble to add
implicit conversions for this type in the standard library. To contrast, imagine
the chaos that would ensue if you added a method of type (T,T)=>Boolean
in the standard library, and the compiler started sprinkling it around in people’s
code. You would end up with code that compiles and runs, but that does
fairly arbitrary tests against pairs of items!
Thus the style rule: use at least one role-determining name within the
type of an implicit parameter.
19.6 View bounds
The previous example had an opportunity to use an implicit but did not. Note
that when you use implicit on a parameter, then not only will the compiler
try to supply that parameter with an implicit value, but the compiler will also
use that parameter as an available implicit in the body of the method! Thus,
both uses of orderer within the body of the method can be left out:
def maxList2[T](nums: List[T])
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 19.6 Chapter 19 · Implicit Conversions and Parameters 409
(implicit orderer: T=>Ordered[T]): T =
nums match {
case Nil => throw new Error("empty list!")
case x :: Nil => x
case x :: rest =>
val maxRest = maxList2(rest) // (orderer) is redundant
if (x > maxRest) x // orderer(x) is redundant
else maxRest
}
When the compiler examines the above code, it will see that the types do
not match up. For example, x of type T does not have a > method, and
so x > maxRest does not work. The compiler will not immediately, stop,
however! It will first look for implicit conversions to repair the code. In
this case, it will notice that orderer is available, so it can convert the code
to ordered(x) > maxRest. Likewise for the expression maxList2(rest),
which can be converted to maxList2(rest)(ordered). After this the
method fully type checks.
Look closely at maxList2, now. There is not a single mention of the
ordered parameter in the text of the method! This coding pattern is actually
fairly common. The implicit parameter is used only for conversions, and so it
can itself be used implicitly. Now, because the parameter name is never used
explicitly, the name could have been anything else. For example, maxList
would behave identically if you left its body alone but changed the parameter
name:
def maxList2[T](nums: List[T])
(implicit converter: T=>Ordered[T]): T =
// same body...
For that matter, it could just as well be:
def maxList2[T](nums: List[T])
(implicit icecream: T=>Ordered[T]): T =
// same body...
If you want, you can leave out the name of this parameter and shorten the
method header by using a view bound. Using a view bound, you would write
the signature of maxList like this:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 19.7 Chapter 19 · Implicit Conversions and Parameters 410
def maxList3[T <% Ordered[T]](nums: List[T]): T =
// same body...
Mentally, you can think of this code as saying, “I can use any T, so long as
it can be treated as an Ordered[T].” This is different from saying that the
argument is an Ordered[T]. It says that the user will supply a conversion so
that it can be treated as an Ordered[T].
The “treated as” approach is strictly more permissive than “is a”, due
to some help from the standard library. The standard library includes the
identity function as an available implicit. Thus, if the argument happens to
already be an Ordered[T], then the compiler can supply the identity function
as the “conversion.” In this case, the conversion is a no-op, which simply
returns whatever object it is given.
19.7 Debugging implicits
Implicits are an extremely powerful feature in Scala, but one which is sometimes
difficult to get right and debug. So you should use implicits with moderation.
Before adding a new implicit conversion, you should ask youself
whether you can achieve the same effect through other means, such as inheritance,
mixin composition or method overloading. Only when these fail are
implicits warranted.
Sometimes you might wonder why the compiler did not find an implicit
conversion which you think should apply. In that case it helps writing the
conversion out explicitly. If that also gives an error message, you then know
why the compiler could not apply your implicit. For instance, assume that
you mistakenly took stringWrapper to be a conversion from Strings to
Lists, instead of RandomAccessSeqs. So you would wonder why the following
scenario does not work:
scala> val chars: List[Char] = "xyz"
<console>:7: error: type mismatch;
found : java.lang.String("xyz")
required: List[Char]
val chars: List[Char] = "xyz"
ˆ
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 19.7 Chapter 19 · Implicit Conversions and Parameters 411
object ImplicitsExample {
implicit val favoriteNumber = 4
def printSomething(implicit x: Int) = println(x)
printSomething
}
Figure 19.1: Sample code that uses an implicit parameter.
$ scalac Xprint:
typer ImplicitsExample.scala
[[syntax trees at end of typer]]
// Scala source: ImplicitsExample.scala
package <empty> {
final object ImplicitsExample extends AnyRef
with ScalaObject
def this(): object ImplicitsExample = {
ImplicitsExample.super.this();
()
};
private[this] val favoriteNumber: Int = 4;
implicit <stable> <accessor> def favoriteNumber: Int =
ImplicitsExample.this.favoriteNumber;
def printSomething(implicit x: Int): Unit =
scala.this.Predef.println(x);
ImplicitsExample.this.printSomething(
ImplicitsExample.this.favoriteNumber)
}
}
$
Figure 19.2: The example from Figure 19.1, after type checking and insertion
of implicits. The implicit parameter is in bold face.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 19.7 Chapter 19 · Implicit Conversions and Parameters 412
In that case it helps to write the stringWrapper conversion explicitly, to
find out what went wrong.
<console>:8: error: type mismatch;
found : RandomAccessSeq[Char]
required: List[Char]
val chars: List[Char] = stringWrapper("xyz")
ˆ
With this, you have found the cause of the error: stringWrapper has the
wrong return type. On the other hand, it’s also possible that inserting the
conversion explicitly will make the error go away. In that case you know
that some of the other rules (most likely, the Scope Rule) has prevented the
implicit from being applied.
When you are debugging a program, it can sometimes help to see what
implicit conversions the compiler is inserting. The Xprint:
typer option
to the compiler is useful for this. If you run scalac with this option, then
the compiler will show you what your code looks like after all implicit conversions
have been added by the type checker. An example is shown in
Figure 19.1 and Fig. 19.2.
If you are brave, try scala Xprint:
typer to get an interactive shell
that prints out the post-typing source code it uses internally. If you do so, be
prepared to see an enormous amount of boilerplate surrounding the meat of
your code.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 20
Implementing Lists
Lists have been ubiquitous in this book. Class List is probably the most
commonly used structured data type in the majority of Scala programs. This
chapter “opens up the covers” and explains a bit how lists are implemented
in Scala. Knowing the internals of the List class is useful for several reasons:
You gain a better idea of the relative efficiency of list operations, which
will help you in writing fast and compact code using lists. You also learn a
toolbox of techniques that you can apply in the design of your own libraries.
Finally, the List class is a sophisticated application of Scala’s type system
in general and its generics concepts in particular. So studying class List will
deepen your knowledge in these areas.
20.1 The List class in principle
Lists are not “built-in” as a language construct in Scala; they are defined by
an abstract class List in the scala package, which comes with two subclasses
for ‘::’ and Nil. In the following we present a quick tour through
class List. This section presents a somewhat simplified account of the class,
compared to its real implementation in the Scala standard library, which is
covered in Section 20.3.
package scala
abstract class List[+T] {
List is an abstract class, so one cannot define elements by calling the empty
List constructor. For instance the expression new List would be illegal.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 20.1 Chapter 20 · Implementing Lists 414
The class has a type parameter T. The ‘+’ in front of this type parameter
specifies that lists are covariant. Because of this property, you can assign a
value of type List[Int], say, to a variable of type List[Any]:
scala> val xs = List(1, 2, 3)
xs: List[Int] = List(1, 2, 3)
scala> var ys: List[Any] = xs
ys: List[Any] = List(1, 2, 3)
All list operations can be defined in terms of three basic methods
def isEmpty: Boolean
def head: T
def tail: List[T]
These methods are all abstract in class List. They are defined in the subobject
Nil and the subclass ‘::’.
The Nil object
The Nil object defines an empty list. Here is its definition:
case object Nil extends List[Nothing] {
override def isEmpty = true
def head: Nothing =
throw new NoSuchElementException("head of empty list")
def tail: List[Nothing] =
throw new NoSuchElementException("tail of empty list")
}
The Nil object inherits from type List[Nothing]. Because of covariance,
this means that Nil is compatible with every instance of the List type.
The three abstract methods of class List are implemented in the Nil
object in a straightforward way: The isEmpty method returns true and the
head and tail methods both throw an exception. Note that throwing an
exception is not only reasonable, but practically the only possible thing to do
for head: Because Nil is a List of Nothing, the result type of head must
be Nothing. Since there is no value of this type, this means that head cannot
return a normal value. It has to return abnormally by throwing an exception
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 20.1 Chapter 20 · Implementing Lists 415
(to be precise, the types would also permit for head to always go into an
infinite loop instead of throwing an exception, but this is clearly not what’s
wanted).
The ‘::’ class
Class ‘::’ (pronounced “cons”) represents non-empty lists. It’s named that
way in order to support pattern matching with the infix ‘::’. You have seen in
Section 14.5 that every infix operation in a pattern is treated as a constructor
application of the infix operator to its arguments. So the pattern x :: xs is
treated as ::(x, xs) where ‘::’ is a case class. Here is the definition of
class ‘::’.
final case class ::[T](hd: T, tl: List[T]) extends List[T] {
def head = hd
def tail = tl
override def isEmpty: Boolean = false
}
The implementation of the ‘::’ class is straightforward. It takes two parameters
hd and tl, representing the head and the tail of the list to be constructed.
The definitions of the head and tail method simply return the corresponding
parameter. In fact, this pattern can be abbreviated by letting the parameters
directly implement the head and tail methods of the superclass List,
as in the following equivalent but shorter definition of class ‘::’:
final case class ::[T](head: T, tail: List[T]) extends List[T] {
override def isEmpty: Boolean = false
}
This works because every case class parameter is implicitly also a field of
the class (it’s like the parameter declaration was prefixed with val). Scala
allows you to implement an abstract parameterless method such as head or
tail with a field. So the code above directly uses the parameters head and
tail as implementations of the abstract methods head and tail that were
inherited from class List.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 20.1 Chapter 20 · Implementing Lists 416
Some more methods
All other List methods can be written using the basic three. For instance:
def length: Int =
if (isEmpty) 0 else 1 + tail.length
or
def take(n: Int) =
if (isEmpty) Nil
else if (n == 0) this
else tail.take(n1)
or
def map[U](f: T => U): List[U] =
if (isEmpty) Nil
else f(head) :: tail.map(f)
List construction
The list construction methods ‘::’ and ‘:::’ are special. Because they end
in a colon, they are bound to their right operand. That is, an operation such
as x :: xs is treated as the method call xs.::(x), not x.::(xs). In fact,
x.::(xs) would not make sense, as x is of the list element type, which can
be arbitrary, so we cannot assume that this type would have a ‘::’ method.
For this reason, the ‘::’ method should take an element value and should
yield a new list. What is the required type of the element value? One might
be tempted to say, it should be the same as the list’s element type, but in fact
this is more restrictive than necessary. To see why, consider a class hierarchy
of arithmetic expressions similar to the one defined in Chapter 12 on pattern
matching.
scala> trait Expr
defined trait Expr
scala> case class Number(n: Int) extends Expr
defined class Number
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 20.1 Chapter 20 · Implementing Lists 417
scala> case class Var(s: String) extends Expr
defined class Var
scala> val exprs1 = Number(1) :: Nil
exprs1: List[Number] = List(Number(1))
scala> val exprs2 = Var("x") :: exprs1
exprs2: List[Expr] = List(Var(x), Number(1))
The exprs1 value is treated as a List of Numbers, as expected. However,
the definition of exprs2 shows that it’s still possible to add an element of a
different type to that list. The element type of the resulting list is Expr, which
is the most precise common supertype of the original list element type (i.e.
Number) and the type of the element to be added (i.e. Var).
This flexibility is obtained by defining the “cons” method ‘::’ as follows.
def ::[U >: T](x: U): List[U] = new scala.::(x, this)
Note that the method is itself polymorphic—it takes a type parameter named
U. Furthermore, U is constrained in [U >: T] to be a supertype of the list
element type T. The element to be added is required to be of type U and the
result is a List[U].
You can check how with this formulation of ‘::’ the above definition of
exprs2 works out type-wise: In that definition the type parameter U of ‘::’ is
instantiated to Expr. The lower-bound constraint of U is satisfied, because the
list exprs1 has type List[Number] and Expr is a supertype of Number. The
argument to the ‘::’ is Var("x"), which conforms to type Expr. Therefore,
the method application is type-correct with result type List[Expr].
In fact, the polymorphic definition of ‘::’ with the lower bound T is not
only convenient; it is also necessary to render the definition of class List
type-correct. This is because Lists are defined to be covariant. Assume for
a moment that we had defined ‘::’ like this:
def ::(x: T): List[T] = new scala.::(x, this)
You have seen in Chapter 17 that method parameters count as contravariant
positions, so the list element type T is in contravariant position in the definition
above. But then List cannot be declared covariant in T. The lower
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 20.2 Chapter 20 · Implementing Lists 418
bound [U >: T] kills, therefore, two birds with one stone: It removes a typing
problem and leads to a ‘::’ method that’s more flexible to use.
The list concatenation method ‘:::’ is defined in a similar way to ‘::’:
def :::[U >: T](prefix: List[U]): List[U] =
if (prefix.isEmpty) this
else prefix.head :: prefix.tail ::: this
Like cons, concatenation is polymorphic. The type of the result is “widened”
as necessary to include the types all list elements. Note also that again the
order of the arguments is swapped between an infix operation and an explicit
method call. Because both ‘:::’ and ‘::’ end in a colon, they both bind
to the right and are both right associative. For instance, the else part of the
definition of ‘:::’ above contains infix operations of both ‘::’ and ‘:::’.
These infix operations are expanded to equivalent method calls as follows:
prefix.head :: prefix.tail ::: this
= prefix.head :: (prefix.tail ::: this)
= (prefix.tail ::: this).::(prefix.head)
= this.:::(prefix.tail).::(prefix.head)
20.2 The ListBuffer class
The typical access pattern for a list is recursive. For instance, to increment
every element of a list without using map we could write:
def incAll(xs: List[Int]): List[Int] = xs match {
case List() => List()
case x :: xs1 => x + 1 :: incAll(xs1)
}
One shortcoming of this program pattern is that it is not tail-recursive. Note
that the recursive call to incAll above occurs inside a ‘::’-operation. Therefore
each recursive call requires a new stack-frame. On today’s virtual machines
this means that you cannot apply incAll to lists of much more than
about 30000 to 50000 elements. This is a pity.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 20.2 Chapter 20 · Implementing Lists 419
How do you write a version of incAll that can work on lists of arbitrary
size (as much as heap-capacity allows)? The obvious approach is to use a
loop:
for (x <xs)
??
But what should go in the loop body? Note that where incAll above constructs
the list by prepending elements to the result of the recursive call, the
loop needs to append new elements at the end of the result list. One, very
inefficient possibility is to use the list append operator ‘:::’.
var result = List[Int]()
for (x <xs)
result = result ::: List(x + 1)
result
This has terrible efficiency, though. Because ‘:::’ takes time proportional
to the length of its first operand, the whole operation takes time proportional
to the square of the length of the list. This is clearly unacceptable.
A better alternative is to use a list buffer. List buffers let you accumulate
the elements of a list. To do this, you use an operation such as
buf += elem which appends the element elem at the end of the list buffer
buf. Once you are done appending elements, you can turn the buffer into a
list using the toList operation.
ListBuffer is a class in package scala.collection.mutable. To use
the simple name only, you can import that package:
import scala.collection.mutable.ListBuffer
Using a list buffer, the body of incAll can now be written as follows:
val buf = new ListBuffer[Int]
for (x <xs)
buf += x + 1
buf.toList
This is a very efficient way to build lists. In fact, the list buffer implementation
is organized so that both the append operation ‘+=’ and the toList
operation take (very short) constant time.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 20.3 Chapter 20 · Implementing Lists 420
20.3 The List class in practice
The implementations of list methods given in Section 20.1 are concise and
clear, but suffer from the same stack overflow problem as the non-tail recursive
implementatiom of incAll. Therefore, most methods in the real
implementation of class List avoid recursion and use loops with list buffers
instead. For example, here is the real implementation of map in class List:
final override def map[U](f: T => U): List[U] = {
val b = new ListBuffer[U]
var these = this
while (!these.isEmpty) {
b += f(these.head)
these = these.tail
}
b.toList
}
This revised implementation traverses the list with a simple loop, which is
highly efficient. A tail recursive implementation would be similarly efficient,
but a general recursive implementation would be slower and less scalable.
But what about the operation b.toList at the end? What is its complexity?
In fact, the call to the toList method takes only a small number of cycles,
which is independent of the length of the list.
To understand why, take a second look at class ‘::’ which constructs
non-empty lists. In practice, this class does not quite correspond to its idealized
definition given previously in Section 20.1. There’s one peculiarity:
final case class ::[U](hd: U,
private[scala] var tl: List[U])
extends List[U] {
def head = hd
def tail = tl
override def isEmpty: Boolean = false
}
It turns out that the second “tl” argument is a variable! This means that
it is possible to modify the tail of a list after the list is constructed. However,
because the variable tl has the modifier private[scala], it can be
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 20.3 Chapter 20 · Implementing Lists 421
accessed only from within package scala. Client code outside this package
can neither read nor write tl.
Since the ListBuffer class is contained in package
scala.collection.mutable, it can access the tl field of a conscell.
In fact the elements of a list buffer are represented as a list and
appending new elements involves a modification of tl field of the last ‘::’
cell in that list. Here’s the start of class ListBuffer:
package scala.collection.immutable
final class ListBuffer[T] extends Buffer[T] {
private var start: List[T] = Nil
private var last0: ::[T] = _
private var exported: Boolean = false
...
You see three private fields that characterize a ListBuffer.
start points to the list of all elements stored in the buffer.
last0 points to the last ‘::’-cell in that list.
exported indicates whether the buffer has been turned into a list using
a toList operation.
The toList operation is very simple:
override def toList: List[T] = {
exported = !start.isEmpty
start
}
It returns the list of elements referred to by start and also sets exported
to true if that list is nonempty. So toList is very efficient, because it does
not copy the list which is stored in a listbuffer. But what happens if the
list is further extended after the toList operation? Of course, once a list
is returned from toList, it must be immutable. However, appending to the
last0 element will modify the list which is referred to by start.
To maintain the correctness of the list buffer operations, one needs to
work on a fresh list instead. This is achieved by the first line in the implementation
of the ‘+=’ operation:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 20.4 Chapter 20 · Implementing Lists 422
override def += (x: T) {
if (exported) copy()
if (start.isEmpty) {
last0 = new scala.::(x, Nil)
start = last0
} else {
val last1 = last0
last0 = new scala.::(x, Nil)
last1.tl = last0
}
}
You see that ‘+=’ copies the list pointed to by start if exported is true.
So, in the end, there is no free lunch. If you want to go from lists which
can be extended at the end to immutable lists, there needs to be some copying.
However, the implementation of ListBuffer is such that copying is
necessary only for list buffers that are further extended after they have been
turned into lists. This case is quite rare in practice. Most use cases of list
buffers construct elements incrementally which is followed by one toList
operation at the end. In such cases, no copying is necessary.
20.4 Conclusion
This section has shown key elements of the implementation of Scala’s List
and ListBuffer classes. You have seen that lists are purely functional “at
the outside” but have an imperative implementation using list buffers “inside”.
This is a typical strategy in Scala programming: trying to combine
purity with efficiency by carefully delimiting the effects of impure operations.
You might ask, why insist on purity? Why not just open up the definition
of lists, making the tail field, and maybe also the head field, mutable?
The disadvantage of such an approach is that it would make programs much
more fragile. Note that constructing lists with ‘::’ re-uses the tail of the
constructed list. So when you write
val ys = 1 :: xs
val zs = 2 :: xs
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 20.4 Chapter 20 · Implementing Lists 423
the tails of lists ys and zs are shared; they point to the same data structure.
This is essential for efficiency; if the list xs was copied everytime you added
a new element onto it, this would be much slower. Because sharing is pervasive,
changing list elements, if it were possible, would be quite dangerous.
For instance, taking the code above, if you wanted to truncate list ys to its
first two elements by writing
val ys.drop(2).tail = Nil // can't do this in Scala!
you would also truncate lists zs and xs as a side-effect. Clearly, it would be
quite difficult to keep track of what gets changed. That’s why Scala goes for
pervasive sharing and no mutation for lists. The ListBuffer class still allows
you to build up lists imperatively and incrementally, if you wish to. But
since list buffers are not lists, the types keep mutable buffers and immutable
lists separate.
Scala’s List/ListBuffer design is quite similar to what’s done in
Java’s pair of classes String and StringBuffer. This is no coincidence.
In both situations the designers wanted to maintain a pure immutable data
structure but also wanted to provide an efficient way to construct this structure
incrementally. For Java and Scala strings, StringBuffers (or, in Java
5, StringBuilders) provide a way to construct a string incrementally. For
Scala’s lists, you have a choice: You can either construct lists incrementally
by adding elements to the beginning of a list using ‘::’, or you use a list
buffer for adding elements to the end. Which one is preferable depends on
the sitation. Usually, ‘::’ lends itself well to recursive algorithms in the
divide-and-conquer style. List buffers are often used in a more traditional
loop-based style.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 21
Object Equality
Comparing two values for equality is ubiquitous in programming. It is also
more tricky than it looks at first glance. This chapter studies object equality
in detail and gives some recommendations to consider when you design your
own equality tests.
The definition of equality is different in Scala and Java. Java knows
two equality methods: ‘==’, which is the natural equality for value types
and object identity for reference types, and equals which is (user-defined)
canonical equality for reference types. This convention is problematic, because
the more natural symbol ‘==’ does not always correspond to the natural
notion of equality. When programming in Java, one of the most frequently
encountered pitfalls is to compare objects with ‘==’ when they should have
been compared with equals. For instance, comparing two strings x and y
using (x == y) might well yield false in Java, even if x and y are the same,
meaning they consist of exactly the same characters in the same order.
Scala also has an equality like ‘==’ in Java, but it is written eq. (x eq y)
is true if x and y reference the same object, or if x and y are the same primitive
value. The ‘==’ equality is reserved in Scala for the “natural” equality
of each type. For value types, ‘==’ is the same as eq. For reference types,
‘==’ is the same as equals. You can redefine the behavior of ‘==’ for new
types by overriding the equals method, which is always inherited from class
Any. The inherited equals, which takes effect unless overridden, is object
identity, as is the case in Java. So equals (and with it, ‘==’) is by default
the same as eq, but you can change its behavior by overriding the equals
method in the classes you define. It is not possible to override ‘==’ directly,
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 21.1 Chapter 21 · Object Equality 425
as it is defined as a final method in class Any. That is, Scala treats ‘==’ as if
was defined as follows in class Any:
final def ==(other: Any): Boolean = this.equals(other)
21.1 Writing an equality method
How should the equals method be defined? It turns out that writing a correct
equality method is surprisingly difficult in object-oriented languages. Mandana
Vaziri and Frank Tip have recently done a study of a large body of Java
code, and concluded that almost all implementations of equals methods are
faulty.
This is problematic, because equality is at the basis of many other things.
For one, a faulty equality method for a type C might mean that you cannot
reliably put an object of type C in a collection. You might have two elements
elem1, elem2 of type C which are equal, i.e. (elem1 equals elem2) yields
true. Nevertheless, with commonly occurring faulty implementations of the
equals method you could still see behavior like the following:
val set = new collection.immutable.HashSet
set += elem1
set get elem2 // returns None!
Here are four common pitfalls that can cause inconsistent behavior of
equals.
1. Defining equals with the wrong signature.
2. Changing equals without also changing hashCode.
3. Defining equals in terms of mutable fields
4. Failing to define equals as an equivalence relation.
These four pitfalls are discussed in the following.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 21.1 Chapter 21 · Object Equality 426
Pitfall #1: Defining equals with the wrong signature.
Consider adding an equality method to the following class of simple points:
class Point(val x: Int, val y: Int) { ... }
A seemingly obvious, but wrong way would be to define it like this:
/** An utterly wrong definition of equals */
def equals(other: Point): Boolean =
this.x == other.x && this.y == other.y
What’s wrong with this method? At first glance, it seems to work OK:
scala> val p1, p2 = new Point(1, 2)
p1: Point = Point@109558d
p2: Point = Point@1cfc277
scala> val q = new Point(2, 3)
q: Point = Point@107f8ba
scala> p1 equals p2
res0: Boolean = true
scala> p1 equals q
res1: Boolean = false
However, trouble starts once you start putting points into a collection:
scala> import scala.collection.mutable._
import scala.collection.mutable._
scala> val coll = HashSet(p1)
coll: scala.collection.mutable.HashSet[Point] = HashSet(p1)
scala> coll contains p2
res2: Boolean = false
How to explain that coll does not contain p2, even though p1 was added
to it, and p1 and p2 are equal objects? The reason becomes clear in the
following interaction, where the precise type of one of the compared points
is masked. Define p2a as an alias of p2, but with type Any instead of Point:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 21.1 Chapter 21 · Object Equality 427
scala> val p2a: Any = p2
p2a: Any = Point@1cfc277
Now, repeating the first comparison but with the alias p2a instead of p2 you
get:
scala> p1 equals p2a
res7: Boolean = false
What went wrong? In fact, the version of equals given above does not
override the standard method equals, because its type is different. Here is
the type of the equals method as it is defined in the root class Any1:
def equals(other: Any): Boolean
Because the equals method in Point takes a Point instead of an Any as an
argument, it does not override equals in Any. Instead, it is just an overloaded
alternative. Now, overloading in Scala and in Java is resolved by the static
type of the argument, not the run-time type. So as long as the static type
of the argument is Point, the equals method in Point is called. However,
once the static argument is of type Any, it’s the equals method in Any which
is called instead. This method has not been overridden, so it is still object
identity. That’s why the comparison (p1 equals p2a) yields false even
though points p1 and p2a have the same coordinates. That’s also why the
contains method in HashSet returned false. Since that method operates
on generic sets, it calls the generic equals method in Object instead of the
overloaded variant in Point.
A better equals method is the following:
/** A better definition, but still not perfect */
override def equals(other: Any) = other match {
case that: Point => this.x == that.x && this.y == that.y
case _ => false
}
Now equals has the correct type – it takes a value of type Any as parameter
and it yields a Boolean result. The implementation of this method uses a
pattern match. It first tests whether the other object is also of type Point.
1 to do: explain that Object is mapped to Any for equals imported from Java
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 21.1 Chapter 21 · Object Equality 428
If it is, it compares the coordinates of the two points. Otherwise the result is
false.
A related pitfall is to define ‘==’ with a wrong signature. Normally, if
you try to redefine == with the correct signature, which takes an argument of
type Any, the compiler will give you an error because you try to override a
final member of type Any. However, newcomers to Scala sometimes make
two errors at once: They try to override ‘==’ and they give it the wrong
signature. For instance:
def ==(other: Point): Boolean = // don't do this!
In that case, the user-defined ‘==’ method is treated as an overloaded variant
of the same-named method class Any, and the program compiles. However,
the behavior of the program would be just as dubious as if you had defined
equals with the wrong signature.
Pitfall #2: Changing equals without also changing hashCode
If you repeat the comparison of p1 and p2a with the latest definition of Point
defined previously, you will get true, as expected. However, if you repeat
the HashSet.contains test, you will probably still get false
val p1, p2 = new Point(1, 2)
p1: Point = Point@3f4a21
p2: Point = Point@11bda67
HashSet(p1) contains p2
res2: Boolean = false
In fact, this outcome is not 100% certain – you might also get true from
the experiment. If you do, you can try with some other points with coordinates
1 and 2. Eventually, you’ll get one which is not contained in the set.
What goes wrong here is that Point redefined equals without also redefining
hashCode.
Note that the collection in the example above is a HashSet. This means
elements of the collection are put in “hash-buckets” determined by their hash
code. The contains test first determines a hash bucket to look in and then
compares the given elements with all elements in that bucket. Now, the last
version of class of Point did redefine equals, but it did not at the same
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 21.1 Chapter 21 · Object Equality 429
time redefine hashCode. So hashCode is still what it was in its version in
class Object: some function of the address of the allocated object. The hash
codes of p1 and p2 are almost certainly different, even though the fields of
both points are the same. Different hash codes mean with high probability
different hash buckets in the set. The contains test will look for a matching
element in the bucket which corresponds to p2’s hash code. In most cases,
point p1 will be in another bucket, so it will never be found. p1 and p2 might
also end up by chance in the same hash bucket. In that case the test would
return true.
The problem was that the last implementation of Point violated
the contract on hashCode as stated in the JavaDoc documentation of
class java.lang.Object: If two objects are equal according to the
equals(Object) method, then calling the hashCode method on each of the
two objects must produce the same integer result.
In fact, it’s well known in Java that hashCode and equals should always
be redefined together. Furthermore, hashCode may only depend on fields
that equals depends on. For the Point class, the following would be a
suitable definition of hashCode:
class Point(val x: Int, val y: Int) {
override def hashCode = x * 41 + y
override def equals(other: Any) = ... // as before
}
This is just one of many possible implementations of hashCode. Multiplying
one field with a prime number such as 41 and adding the other field to the
result gives a reasonable distribution of hash codes at a low cost in running
time and code size.
Adding hashCode fixes the problems of equality when defining classes
like Point. However, there are still other troublespots to watch out for.
Pitfall #3: Defining equals in terms of mutable fields
Consider the following slight variation of class Point:
class Point(var x: Int, var y: Int) {
override def hashCode = ... // as before
override def equals(other: Any) = ... // as before
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 21.1 Chapter 21 · Object Equality 430
}
The only difference is that the fields x and y are now mutable. The equals
and hashCode methods are now defined in terms of these mutable fields, so
their results change when the fields change. This can have strange effects
once you put points in collections:
val p1 = new Point(1, 2)
p1: Point = Point@2b
val coll = HashSet(p1)
coll: scala.collection.mutable.Set[Point] = HashSet(Point@2b)
coll contains p1
res5: Boolean = true
Now, if you change a field in point p1, does the collection still contain the
point? Let’s try:
scala> p1.x += 1
scala> coll contains p1
res6: Boolean = false
This looks strange. Where did p1 go? More strangeness results if you check
whether the elements iterator of the set contains p1:
coll.elements contains p1
res7: Boolean = true
So here’s a set which does not contain p1, yet p1 is among the elements of
the set! What happened, of course, is that after the change to the x field,
the point p1 ended up in the wrong hash bucket of the set coll. That is,
its original hash bucket no longer corresponded to the new value of its hash
code. In a manner of speaking, the point p1 “dropped out of sight” in the set
coll even though it still belonged to its elements.
The lesson to be drawn from this example is that equals and hashCode
should never be defined in terms of mutable fields. If you need a comparison
that takes the current state of an object into account, you should name it
something else, not equals. Considering the last definition of Points, it
would have been preferable to omit a redefinition of hashCode and to name
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 21.1 Chapter 21 · Object Equality 431
the comparison method equalContents, or some other name different from
equals. Point would then have inherited the default implementation of
equals and hashCode. So p1 would have stayed locatable in coll even
after the modification to its x field.
Pitfall #4: Failing to define equals as an equivalence relation
The contract for equals found on the JavaDoc page for class
java.lang.Object specifies that it must be an equivalence relation. It reads
as follows:
The equals method implements an equivalence relation on non-null object
references.
• It is reflexive: for any non-null reference value x, x.equals(x)
should return true.
• It is symmetric: for any non-null reference values x and y,
x.equals(y) should return true if and only if y.equals(x) returns
true.
• It is transitive: for any non-null reference values x, y, and z, if
x.equals(y) returns true and y.equals(z) returns true, then
x.equals(z) should return true.
• It is consistent: for any non-null reference values x and y, multiple
invocations of x.equals(y) consistently return true or consistently
return false, provided no information used in equals comparisons on
the objects is modified.
• For any non-null reference value x, x.equals(null) should return
false.
Checking the previous definition of equals in class Point, one finds
that this method satisfies the contract for equals. However, things become
more complicated once subclasses are considered. Say there is a subclass
ColoredPoint of Point which adds a field color of an enumeration type
Color.Value.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 21.1 Chapter 21 · Object Equality 432
object Color extends Enumeration {
val red, green, blue = Value
}
Class ColoredPoint re-implements equals to also take the new color field
into account:
class ColoredPoint(x: Int, y: Int, val color: Color.Value)
extends Point(x, y) {
override def equals(other: Any) = other match {
case that: ColoredPoint =>
this.color == that.color && super.equals(that)
case _ => false
}
}
This is what most experienced programmers would write. Note that
ColoredPoint need not override hashCode. Because the new definition of
equals on ColoredPoint is stricter than the overridden definition in Point
(meaning it equates fewer pairs of objects), the contract for hashCode stays
valid. If two colored points are equal, they must have the same coordinates,
so their hash codes are guaranteed to be equal as well.
Taking the class ColoredPoint by itself, its definition of equals looks
OK. However, the contract for equals is broken once points and colored
points are mixed. Consider:
scala> val p = new Point(1, 2)
p: Point = Point@2b
scala> val cp = new ColoredPoint(1, 2, Color.red)
cp: ColoredPoint = ColoredPoint@dab0d4
scala> p equals cp
res20: Boolean = true
scala> cp equals p
res21: Boolean = false
The comparison (p equals cp) invokes p’s equals method, which is defined
in class Point. This method only takes into account the coordinates
of the two points. Consequently, the comparison yields true. On the other
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 21.1 Chapter 21 · Object Equality 433
hand, the comparison (cp equals p) invokes cp’s equals method, which
is defined in class ColoredPoint. This method returns false, because p is
not a ColoredPoint. So the relation defined by equals is not symmetric.
The loss in symmetry can have unexpected consequences for collections.
Here’s an example:
scala> HashSet[Point](p) contains cp
res38: Boolean = true
scala> HashSet[Point](cp) contains p
res39: Boolean = false
So even though p and cp are equal, one contains test succeeds whereas
the other one fails.
How can you change the definition of equals so that it becomes symmetric?
Essentially there are two ways. You can either make the relation
more general or stricter. Making it more general means that a pair of two objects
x and y is taken to be equal if either comparing x with y or comparing
y with x yields true. Here’s code that does this:
class ColoredPoint(x: Int, y: Int, val color: Color.Value)
extends Point(x, y) {
override def equals(other: Any) = other match {
case that: ColoredPoint =>
(this.color == that.color) && super.equals(that)
case that: Point =>
that equals this
case _ =>
false
}
}
The new definition of equals in ColoredPoint has one more case than the
old one: If the other object is a Point but not a ColoredPoint, the method
forwards to the equals method of Point. This has the desired effect of making
equals symmetric. Now, both (cp equals p) and (p equals cp) give
true. However, the contract for equals is still broken. Now the problem is
that the new relation is no longer transitive! Here’s a sequence of statements
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 21.1 Chapter 21 · Object Equality 434
which demonstrates this. Define a point and two colored points of different
colors, all at the same position:
scala> val redp = new ColoredPoint(1, 2, Color.red)
redp: ColoredPoint = ColoredPoint@2b
scala> val bluep = new ColoredPoint(1, 2, Color.blue)
bluep: ColoredPoint = ColoredPoint@2b
Taken individually, redp is equal to p and p is equal to bluep:
scala> redp == p
res40: Boolean = true
scala> p == bluep
res41: Boolean = true
However, comparing redp and bluep yields false:
scala> redp == bluep
res42: Boolean = false
Hence, there is a violation of the transitivity clause of equal’s contract.
Making the equals relation more general seems to lead into a dead end.
Let’s try to make it stricter instead. One way to make equals stricter is to
always treat objects of different classes as different. That could be achieved
by modifying the equals methods in classes Point and ColoredPoint as
follows.
class Point(val x: Int, val y: Int) {
override def hashCode = x * 41 + y
override def equals(other: Any) = other match {
case that: Point =>
this.x == that.x && this.y == that.y &&
this.getClass == that.getClass
case _ => false
}
}
class ColoredPoint(x: Int, y: Int, val color: Color.Value)
extends Point(x, y) {
override def equals(other: Any) = other match {
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 21.1 Chapter 21 · Object Equality 435
case that: ColoredPoint =>
(this.color == that.color) && super.equals(that) &&
this.getClass == that.getClass
case _ =>
false
}
}
The new definitions satisfy symmetry and transitivity because now every
comparison between objects of different classes yields false. So a colored
point can never be equal to a point. This convention looks reasonable, but
one could argue that the new definition is too strict.
Consider the following slightly roundabout way to define a point at coordinates
(1, 2):
val p1a = new Point(1, 1) { override val y = 2 }
p1: Point = anon0@2b
Is p1a equal to p1? The answer is no because the class objects associated
with p1 and p1a are different. For p1 it is Point whereas for p1a it is an
anonymous subclass of Point. But clearly, p1a is just another point at coordinates
(1, 2). It does not seem reasonable to treat it as being different from
p1.
So it seems we are stuck. Is there a sane way to redefine equality on several
levels of the class hierarchy while keeping its contract? In fact, there is
such a way, but it requires one more method to redefine together with equals
and hashCode. The idea is that as soon as a class redefines equals (and
hashCode), it should also explicitly state that objects of this class are never
equal to objects of some superclass which implement a different equality
method. This is achieved by adding a method isComparable to every class
which redefines equals. Here’s the method’s signature:
def isComparable(other: Any): Boolean
The method should yield true if the other object is an instance of the class
in which isComparable is (re-)defined, false otherwise. It is called from
equals to make sure that the objects are comparable both ways. Here’s a
new (and last) implementation of class Point along these lines:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 21.1 Chapter 21 · Object Equality 436
class Point(val x: Int, val y: Int) {
override def hashCode = x * 41 + y
override def equals(other: Any) = other match {
case that: Point =>
(this.x == that.x) && (this.y == that.y) &&
(that isComparable this)
case _ =>
false
}
def isComparable(other: Any) = other.isInstanceOf[Point]
}
The equals test in class Point contains a third condition: that the other object
is comparable to this one. The implementation isComparable in Point
states that all instances of Point are comparable. Here is the corresponding
implementation of class ColoredPoint:
class ColoredPoint(x: Int, y: Int, val color: Color.Value)
extends Point(x, y) {
override def hashCode = super.hashCode * 41 + color.hashCode
override def equals(other: Any) = other match {
case that: ColoredPoint =>
super.equals(that) && this.color == that.color
case _ =>
false
}
override def isComparable(other: Any) = other.isInstanceOf[ColoredPoint]
}
It can be shown that the new definition of Point and ColoredPoint keeps
the contract of equals. Equality is symmetric and transitive. Comparing
a Point to a ColoredPoint always yields false. Indeed, for all points p
and colored point cp it’s the case that (p equals cp) returns false because
cp isComparable p is false. The reverse comparison (cp equals p) also
returns false, because p is not a ColoredPoint, so the first pattern match
in the body of equals in ColoredPoint fails.
On the other hand, instances of different subclasses of Point can be
equal, as long as none of the classes redefines the equality method. For
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 21.1 Chapter 21 · Object Equality 437
instance, with the new class definitions, the comparison of p1 and p1a would
yield true.
Here’s a summary of all the things to consider when redefining the
equals method:
1. Every class redefining equals also needs to define isComparable.
If the inherited definition of equals is from Object (that is, equals
was not redefined higher up in the class hierarchy), the definition of
isComparable is new, otherwise it overrides a previous definition of
a method with the same name.
2. isComparable always yields true if the argument object is an instance
of the current class (i.e. the class in which isComparable is
defined), false otherwise.
3. The equals method of the class that first introduced isComparable
also contains a test of the form (that isComparable this) where
that is the argument of the equality method.
4. Overridding redefinitions of equals also add this test, unless they contain
a call to super.equals. In the latter case, the isComparable test
is already done by the superclass call.
If you keep to these rules, equality is guaranteed to be an equivalence relation,
as is required by equal’s contract.
In retrospect, defining a correct implementation of equals has been surprisingly
subtle. You might prefer to define your classes of comparable objects
as case classes, because then the Scala compiler will add an equals
method with the right properties automatically.
Defining equality for parameterized types
This section will appear in a future version of the PrePrint PDF.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 22
Working with XML
This chapter introduces Scala’s support for XML. After discussing semistructured
data in general, it shows the essential functionality in Scala for
manipulating XML: how to make nodes with XML literals, how to save and
load XML to files, and how to take apart XML nodes by using query methods
and by using pattern matching. This chapter is just a brief introduction to
what is possible with XML, but it shows enough to get you started.
22.1 Semi-structured data
XML is a form of semi-structured data. It is more structured than plain
strings, because it organizes the contents of the data into a tree. With XML,
you can always take two fragments and combine them as part of a new node.
Later you can take those two apart and reliably get the same two nodes again.
With strings there are no such operations, so you must design delimiters and
escapes yourself.
Semi-structured data is very helpful any time you need to serialize program
data for saving in a file or shipping across a network. It provides
enough structure that it is easier to parse and to produce than plain strings.
Additionally, it is more flexible than raw object data, because if the data
model changes you can always just make the parser a little bit more complex.
There are many semi-structured data formats, but XML is important because
it is widely used and thus there are many helpful tools already. Practically
every language your program might communicate with has a parser
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 22.2 Chapter 22 · Working with XML 439
and generator for XML. Additionally, there are a host of separate tools for
XML, facilities that other formats do not enjoy simply because they are less
popular.
For all of these reasons, Scala includes special support for processing
XML. This chapter shows you Scala’s support for: constructing XML, analyzing
XML with methods, and analyzing XML via pattern matching. Along
the way, the chapter shows several common coding patterns for using XML
in Scala.
22.2 Creating XML
You can type an XML node anywhere that an expression is valid. Simply
type an open tag and then continue writing XML content. When the compiler
sees the last close tag, it will go back to reading arbitrary Scala code.
scala> <a>
| This is some XML.
| Here is a tag: <atag/>
| </a>
res0: scala.xml.Elem =
<a>
This is some XML.
Here is a tag: <atag></atag>
</a>
The result of this expression is of type Elem, meaning it is an XML node
that has a label (“a”) and children (“This is some XML,” etc.). Some other
important XML classes are:
• Class Node is the abstract superclass of all XML node classes.
• Class Text is a node holding just text. The “stuff” part of
<a>stuff</a> is of class Text.
• Class NodeSeq holds a sequence of nodes. Many methods in the XML
library process NodeSeq’s in places you might expect them to process
individual Node’s. You can still use such methods with individual
nodes, however, since Node extends from NodeSeq. This may sound
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 22.2 Chapter 22 · Working with XML 440
weird, but it works out well for XML. You can think of an individual
Node as a one-element NodeSeq.
You can also use {} if you want to insert XML that is computed at runtime.
Inside the {} you can put arbitrary Scala code:
scala> <a> {2+2} </a>
res1: scala.xml.Elem = <a> 4 </a>
You can even nest XML literals further inside a {} escape, thus allowing your
code to switch back and forth between XML as the nesting level increases.
scala> val yearMade = 1955
yearMade: Int = 1955
scala> <a> { if (year < 2000) <old>{year}</old>
| else xml.NodeSeq.Empty }
| </a>
res2: scala.xml.Elem =
<a> <old>1955</old>
</a>
If the code inside the {} evaluates to either an XML node or a sequence of
XML nodes, then those nodes are inserted directly as is. In the above example,
if year is less than 2000, then it is wrapped in <old> tags and added
to the <a> element. If year is newer than 2000, then nothing is added. To
denote “nothing” as an XML node, use xml.NodeSeq.Empty. The empty
XML sequence makes no sense as a top-level XML document, but it is frequently
useful when optionally inserting something to the middle of a tree of
XML.
A {} escape is not required to evaluate to an XML node. It can evaluate
to any Scala value. In such a case, result is converted to a string and inserted
as a text node.
scala> <a> {3+4} </a>
res3: scala.xml.Elem = <a> 7 </a>
Any <, >, and & characters in the text will be escaped if you print the node
back out.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 22.2 Chapter 22 · Working with XML 441
scala> <a> {"</a>potential security hole<a>"} </a>
res4: scala.xml.Elem = <a> &lt;/a&gt;potential security
hole&lt;a&gt; </a>
XML literals plus {} escapes make it easy to write conversions from internal
data structures to XML. For example, suppose you are implementing
a database to keep track of your extensive collection of vintage Coca-Cola
thermometers. You might make the following class to hold one entry in the
catalog:
abstract class CCTherm {
val description: String
val yearMade: Int
val dateObtained: String
val bookPrice: Int // in pennies
val purchasePrice: Int // in pennies
val condition: Int // 110
override def toString = description
}
Converting this class to XML is easy. Simply write down an XML literal and
use code escapes to insert the data that is particular to each instance. Here is
a toXML method that does the trick:
abstract class CCTherm {
...
def toXML =
<cctherm>
<description>{description}</description>
<yearMade>{yearMade}</yearMade>
<dateObtained>{dateObtained}</dateObtained>
<bookPrice>{bookPrice}</bookPrice>
<purchasePrice>{purchasePrice}</purchasePrice>
<condition>{condition}</condition>
</cctherm>
}
Here is the method in action:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 22.3 Chapter 22 · Working with XML 442
scala> val therm = new CCTherm {
| val description = "hot dog thermometer"
| val yearMade = 1952
| val dateObtained = "March 14, 2006"
| val bookPrice = 2199
| val purchasePrice = 500 // sucker!
| val condition = 9
| }
therm: CCTherm = hot dog thermometer
scala> therm.toXML
res5: scala.xml.Elem =
<cctherm>
<description>hot dog thermometer</description>
<yearMade>1952</yearMade>
<dateObtained>March 14, 2006</dateObtained>
<bookPrice>2199</bookPrice>
<purchasePrice>500</purchasePrice>
<condition>9</condition>
</cctherm>
By the way, if you want to include a “{” or “}” as XML text, as opposed to
using them to escape to Scala code, simply write two of them in a row:
scala> <a> }}}}brace yourself!{{{{ </a>
res6: scala.xml.Elem = <a> }}brace yourself!{{ </a>
22.3 Taking XML apart
Among the many methods available for the XML classes, there are three of
them that you should particularly be aware of. They allow you to take apart
XML without thinking too much about the precise way XML is represented
in Scala.
Extracting text. Send text to any XML node to retrieve all of the text
within that node, minus any element tags.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 22.3 Chapter 22 · Working with XML 443
scala> <a>blah blah <tag/> blah</a>.text
res7: String = blah blah blah
Any encoded characters are decoded automatically.
scala> <a> input &
gt; output </a>.text
res8: String = input >
output
Extracting sub-elements. If you want to find a sub-element by tag name,
simply call ‘n’ with the name of the tag.
scala> <a><b><c>hello</c></b></a> n "b"
res9: scala.xml.NodeSeq = <b><c>hello</c></b>
You can do a “deep search”, and look through sub-sub-elements, etc., by
using nn instead of n:
scala> <a><b><c>hello</c></b></a> n "c"
res10: scala.xml.NodeSeq =
scala> <a><b><c>hello</c></b></a> nn "c"
res11: scala.xml.NodeSeq = <c>hello</c>
Extracting attributes. You can extract tag attributes using the same n and
nn methods. Simply put an “at” sign before the attribute name.
scala> val joe = <employee
| name="Joe"
| rank="code monkey"
| serial="123"/>
joe: scala.xml.Elem = <employee rank="code monkey"
name="Joe" serial="123"></employee>
scala> joe n "@name"
res12: scala.xml.NodeSeq = Joe
scala> joe n "@serial"
res13: scala.xml.NodeSeq = 123
Using these methods, you can easily parse XML back into a CCTherm with
the following code:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 22.4 Chapter 22 · Working with XML 444
def fromXML(node: xml.Node): CCTherm =
new CCTherm {
val description = (node n "description").text
val yearMade =
Integer.parseInt((node n "yearMade").text)
val dateObtained = (node n "dateObtained").text
val bookPrice =
Integer.parseInt((node n "bookPrice").text)
val purchasePrice =
Integer.parseInt((node n "purchasePrice").text)
val condition =
Integer.parseInt((node n "condition").text)
}
Here is this method in action:
scala> val node = therm.toXML
node: scala.xml.Elem =
<cctherm>
<description>hot dog thermometer</description>
<yearMade>1952</yearMade>
<dateObtained>March 14, 2006</dateObtained>
<bookPrice>2199</bookPrice>
<purchasePrice>500</purchasePrice>
<condition>9</condition>
</cctherm>
scala> fromXML(node)
res14: CCTherm = hot dog thermometer
22.4 Loading and saving
Converting XML to and from in-memory data structures is only half of the
conversion needed to use XML as an interchange format. You also need to
convert the XML to a sequence of bytes that can be saved to a file or sent
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 22.4 Chapter 22 · Working with XML 445
over the network. This second conversion is automatic, so all you need to
think about is the precise way you invoke the converters.
To convert XML to a string, you can simply use toString(). That
is why printing XML in the Scala shell works effectively. However, it is
better to convert directly from XML to bytes when you can, because then the
resulting bytes can include a description of the character encoding. If you
convert to a string, and then serialize the string, there is a chance that the
software that later loads the XML will use the wrong character encoding.
To convert from XML to a file of bytes, you can use the XML.saveFull
command. The last item describes the “document type” of this XML node.
You can specify null to leave the document type unspecified.
xml.XML.saveFull("therm1.xml", node, "UTF8",
true, null)
After running the above command, the resulting file therm1.xml looks like
the following:
<?xml version='1.0' encoding='UTF8'?>
<cctherm>
<description>hot dog thermometer</description>
<yearMade>1952</yearMade>
<dateObtained>March 14, 2006</dateObtained>
<bookPrice>2199</bookPrice>
<purchasePrice>500</purchasePrice>
<condition>9</condition>
</cctherm>
Loading is simpler, and can be accomplished with the command XML.load.
scala> val loadnode = xml.XML.loadFile("therm1.xml")
loadnode: scala.xml.Elem =
<cctherm>
<description>hot dog thermometer</description>
<yearMade>1952</yearMade>
<dateObtained>March 14, 2006</dateObtained>
<bookPrice>2199</bookPrice>
<purchasePrice>500</purchasePrice>
<condition>9</condition>
</cctherm>
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 22.5 Chapter 22 · Working with XML 446
scala> fromXML(loadnode)
res14: CCTherm = hot dog thermometer
Those are the basic methods you need. There are many variations on
these loading and saving methods, including methods for reading and writing
to various kinds of readers, writers, input and output streams.
22.5 Pattern matching
So far you have seen how to dissect XML using the XPath-like text, n, and
nn methods. These are good when you know exactly what kind of XML
structure you are taking apart. Sometimes, though, there are a few possible
structures the XML could have. Maybe there are multiple kinds of records
within the data, for example because you have extended your thermometer
collection to include clocks and sandwich plates. Maybe you simply want to
skip over any white space between tags. Whatever the reason, you can use
the pattern matcher to sift through the possibilities.
An XML pattern looks just like an XML literal. The main difference is
that if you insert a {} escape, then the code inside the {} is not an expression
but a pattern! A pattern embedded in {} can use the full Scala pattern language,
including binding new variables, performing type tests, and ignoring
content using the _ and _* patterns.
Here is a simple example to give the idea.
scala> <a>blahblah</a> match {
| case <a>{contents}</a> => "yes! " + contents
| case _ => "no! "
| }
res15: java.lang.String = yes! blahblah
In the “yes” case, the pattern checks for an <a> tag with a single element. It
then binds that element to a new variable named cont. This code is probably
not exactly what you would want, however, because it checks that there is
precisely one element within the <a>. If there are multiple elements—or
if there are zero elements!—then the “yes” case fails and the “no” branch
executes:
scala> <a></a> match {
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 22.5 Chapter 22 · Working with XML 447
| case <a>{contents}</a> => "yes! " + contents
| case _ => "no! "
| }
res16: java.lang.String = no!
You probably want to match on a sequence of items, not a single item, but if
you write a variable as above it will only match on a single item. To fix this,
there’s the “any sequence” pattern, which matches any number of arguments.
You can use this pattern to match a sequence of nodes and then bind the result
to the pattern variable cont:
scala> <a></a> match {
| case <a>{contents @ _*}</a> => "yes! " + contents
| case _ => "no! "
| }
res17: java.lang.String = yes! Array()
As a tip, be aware that XML patterns work very nicely with for expressions
as a way to iterate through some parts of an XML tree while ignoring other
parts. For example, suppose you wish to skip over the white space between
records in the following XML structure:
val catalog =
<catalog>
<cctherm>
<description>hot dog thermometer</description>
<yearMade>1952</yearMade>
<dateObtained>March 14, 2006</dateObtained>
<bookPrice>2199</bookPrice>
<purchasePrice>500</purchasePrice>
<condition>9</condition>
</cctherm>
<cctherm>
<description>Sprite Boy thermometer</description>
<yearMade>1964</yearMade>
<dateObtained>April 28, 2003</dateObtained>
<bookPrice>1695</bookPrice>
<purchasePrice>595</purchasePrice>
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 22.5 Chapter 22 · Working with XML 448
<condition>5</condition>
</cctherm>
</catalog>
Visually, it looks like there are two sub-elements of the <catalog> element.
Actually, though, there are five. There is white space before, after, and between
the two elements! If you do not consider this white space, you might
incorrectly process the thermometer records as follows:
scala> catalog match {
| case <catalog>{therms @ _*}</catalog> =>
| for (therm <therms)
| println("processing: " +
| (therm n "description").text)
| }
processing:
processing: hot dog thermometer
processing:
processing: Sprite Boy thermometer
processing:
Notice all of the lines that try to process white space as if it where a true
thermometer record. What you would really like to do is ignore the white
space, and process only those sub-elements that are inside a <cctherm> tag.
You can describe this subset using the pattern <cctherm>{_*}</cctherm>,
and you can restrict the for expression to iterating over items that match that
pattern:
scala> catalog match {
| case <catalog>{therms @ _*}</catalog> =>
| for (therm @ <cctherm>{_*}</cctherm> <therms)
| println("processing: " +
| (therm n "description").text)
| }
processing: hot dog thermometer
processing: Sprite Boy thermometer
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 22.6 Chapter 22 · Working with XML 449
22.6 Conclusion
This chapter has only scratched the surface of what you can do with XML.
There are a multitude of tools that work with XML, some customized for
Scala, some for Java, and others not dependent on any specific programming
language.
What you should walk away with is how to use semi-structured data
for interchange purposes, and how to use Scala’s support for XML as semistructured
data. With Scala, you can create XML using XML literals, take it
apart using three simple methods, sift through it using pattern matching, and
save and load it using fully automatic routines.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 23
Actors and Concurrency
23.1 Overview
Sometimes it helps in designing a program to specify that certain things happen
independently, in parallel. Java includes support for these notions, most
notably its threads and locks. This support is sufficient, but it turns out to
have problems in practice as programs get larger and more complex.
Scala augments Java’s native support by adding actors. Actors avoid
a lot of the problems with threads and locks by providing a safe messagepassing
system. If you can design your program in an actors style, then you
will avoid the deadlocks and race conditions of Java’s native concurrency
support. This chapter shows you how.
23.2 Locks considered harmful
Java provides threads and locks and monitors, so you might ask, why not use
Java’s support directly?
As a Scala programmer, you are certainly free to use Java’s concurrency
constructs. Java provides you independent threads, locks, and monitors.
Your strategy would then be to hold a lock (or enter a monitor) whenever
you access shared data. It sounds simple.
In practice it is impractically tricky for larger programs. At each program
point, you must reason about which locks are currently held. At each method
call, you must reason about which locks it will try to hold, and convince
yourself that it does not overlap the set of locks already held. Compounding
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 23.3 Chapter 23 · Actors and Concurrency 451
the problem, the locks you reason about are not simply a finite list in the
program, because the program is free to create new locks at run time as it
progresses.
Making things worse, testing is not reliable with locks. Since threads
are non-deterministic, you might successfully test a program one thousand
times, yet still the program could go wrong the first time it runs on a customer’s
machine. With locks, you must get the program correct through
reason alone.
Over-engineering also does not solve the problem. Just as you cannot use
no locks, you cannot put a lock around every operation, either. The problem
is that new lock operations remove possibilities for race conditions, but simultaneously
add possibilities for deadlocks. A correct lock-using program
must have neither of these.
Overall, there is no good way to fix locks and make them practical to use.
That is why Scala provides an alternative concurrency approach, one based
on message-passing actors.
23.3 Actors and message passing
An actor is a kind of thread that has a mailbox for receiving messages. To implement
an actor, subclass scala.actors.Actor and implement an act()
method.
import scala.actors._
object sillyActor extends Actor {
def act() {
for (i <1
to 5) {
println("I'm acting!")
Thread.sleep(1000)
}
}
}
An actor can then be started with the start() method, just as if it were a
normal Java thread:
scala> sillyActor.start()
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 23.3 Chapter 23 · Actors and Concurrency 452
I'm acting!
res4: scala.actors.Actor = sillyActor$@1945696
scala> I'm acting!
I'm acting!
I'm acting!
I'm acting!
Notice that the “I’m acting!” output is interleaved with the Scala shell’s output
(“res4:”, etc.). This interleaving is due to the sillyActor actor running
independently from the thread running the shell. Actors run independently
from each other, too. For example, here are two actors running at the same
time.
object seriousActor extends Actor {
def act() {
for (i <1
to 5) {
println("To be or not to be.")
Thread.sleep(1000)
}
}
}
scala> { sillyActor.start(); seriousActor.start() }
res3: scala.actors.Actor = seriousActor$@1689405
scala> To be or not to be.
I'm acting!
To be or not to be.
I'm acting!
To be or not to be.
I'm acting!
To be or not to be.
I'm acting!
To be or not to be.
I'm acting!
It’s also possible to create an actor directly, using a method called actor in
object scala.actors.Actor:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 23.3 Chapter 23 · Actors and Concurrency 453
scala> import scala.actors.Actor._
scala> val seriousActor2 = actor {
| for (i <1
to 5)
| println("That is the question.")
| Thread.sleep(1000)
| }
scala> That is the question.
That is the question.
That is the question.
That is the question.
That is the question.
The value definition above creates an actor which executes the actions defined
in the block following the actor method. The actor starts immediately
when it is defined. There is no need to call a separate start method.
All well and good. More interesting, though, is when actors send each
other messages. A message is sent by using the ! method, like this:
scala> sillyActor ! "hi there"
Nothing happens in this case, because sillyActor is too busy acting to read
from its mailbox. Here is a new actor that waits for a message in its mailbox
and prints out whatever it receives. It receives a message by calling receive
and giving it a pattern-match expression.1
val echoActor = actor {
while (true) {
receive {
case msg =>
println("received message: " + msg)
}
}
}
1 More precisely, any partial function will do. In practice people usually make the partial
function using a pattern-match expression.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 23.4 Chapter 23 · Actors and Concurrency 454
scala> echoActor ! "hi there"
received message: hi there
scala> echoActor ! 15
scala> received message: 15
23.4 Treating native threads as actors
The actor subsystem manages one or more native threads for its own use. So
long as you work with an explicit actor that you define, you do not need to
think much about how they map to threads.
The other direction is also supported by the subsystem: Every native
thread is also usable as an actor. However, you cannot use Thread.current
directly, because it does not have the necessary methods. Instead, you should
access Actor.self if you want to view the current thread as an actor.
This facility is especially useful for debugging actors from the interactive
shell.
scala> import scala.actors._
import scala.actors._
scala> Actor.self ! "hello"
scala> Actor.self.receive { case x => x }
res1: Any = hello
scala>
If you use this technique, it is better to use a timeout of 0 so that your shell
does not block forever.
scala> Actor.self.receiveWithin(0) { case x => x }
res2: Any = TIMEOUT
scala>
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 23.5 Chapter 23 · Actors and Concurrency 455
23.5 Tips for better actors
At this point you have seen everything you need to write your own actors.
Consider a few tips, though on how to make those programs shorter and
easier to write.
Sharing threads with event-based actors
Actors are implemented on top of normal Java threads. As described so
far, in fact, every actor must be given its own thread, so that all the act()
methods get their turn.
Unfortunately, threads are not cheap in Java. Threads use enough memory
that typical Java virtual machines can have millions of objects but only
a couple of thousands of threads. Worse, switching threads often takes hundreds
if not thousands of processor cycles. If you want your program be as
efficient as possible, then it is important to be sparing with thread creation
and thread switching.
To help you with this task, Scala provides an alternative to the usual
receive method called react. Unlike receive, react does not return immediately
to the caller. Instead, it evaluates the message handler and then
terminates the actor. Thus, the message handler you pass to react must
not only process that message, but arrange to do all of the actor’s remaining
work!
This remaining work can often be accomplished by arranging to have a
top-level work method that the message handler calls when it finishes. Do
not worry about the apparent infinite recursion; the actors system clears an
actor’s stack every time it calls react. Here is an example of using this
approach.
object NameResolver extends Actor {
import java.net.{InetAddress, UnknownHostException}
def act() {
react {
case (name: String, actor: Actor) =>
actor ! getip(name)
act()
case msg =>
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 23.5 Chapter 23 · Actors and Concurrency 456
println("Unhandled message: " + msg)
act()
}
}
def getip(name: String): Option[InetAddress] = {
try {
Some(InetAddress.getByName(name))
} catch {
case _:UnknownHostException => None
}
}
}
This actor waits for strings that are host names, and it returns an IP address
for that host name if there is one. Here is an example session using it:
scala> NameResolver.start()
res3: scala.actors.Actor = NameResolver$@dfcc0e
scala> NameResolver ! ("www.scalalang.
org", Actor.self)
scala> Actor.self.receiveWithin(5000) { case x => x }
res5: Any = Some(www.scalalang.
org/128.178.154.102)
scala> NameResolver ! ("wwwwwwww.scalalang.
org", Actor.self)
scala> Actor.self.receiveWithin(5000) { case x => x }
res7: Any = None
Writing an actor to use react instead of receive is challenging, but pays
off in performance. Because react does not return, the calling actor’s call
stack can be discarded, freeing up the thread’s resources for a different actor.
At the extreme, if all of the actors of a program use react, then they can be
implemented on a single thread.
This coding pattern is so common with event-based actors, there is special
support in the library for it. The Actor.loop function executes a block
of code repeatedly, even if the code calls react. Using loop, the above code
can be written like this:
def act() {
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 23.5 Chapter 23 · Actors and Concurrency 457
loop {
react {
case (name: String, actor: Actor) => actor ! getip(name)
case msg => println("Unhandled message: " + msg)
}
}
}
Messages should not block
A well-written actor does not block while processing a message, not even
for one second. The problem is that while the actor blocks, some other actor
might make a request on it that it could handle. If the actor is blocked on the
first request, it will not even notice the second request. In the worst case, a
deadlock can even result, with every actor blocked as it waits on some other
actor to respond.
Instead of blocking, the actor should arrange for some message to arrive
designating that action is ready to be taken. Often this rearrangement will
require the help of other actors. For example, here is an actor to help with
timing:
case class SendAfter(time: Int, to: Actor, msg: Any)
val timerActor = actor {
loop {
react {
case SendAfter(time, to, msg) =>
actor {
Thread.sleep(time)
to ! msg
}
}
}
}
This actor processes timing requests from other actors. For each request,
it starts a helper actor to process that one request and then terminate. The
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 23.5 Chapter 23 · Actors and Concurrency 458
helper actor does indeed block, but since it will never receive a message,
it is okay in this case. The main timerActor, notice, remains available to
answer new requests.
You then use the timer actor like this.
val sillyActor2 = actor {
var emoted = 0
timerActor ! SendAfter(1000, Actor.self, "Emote")
while (emoted < 5) {
receive {
case "Emote" =>
println("I'm acting!")
emoted += 1
timerActor ! SendAfter(1000, Actor.self, "Emote")
}
}
}
Use immutable data
To use actors effectively, you need to arrange that every object is accessed
by only one actor at a time. Since locks are so difficult to use in practice,
this means you should arrange your program so that each object is owned by
only one actor. You can arrange for objects to be transfered from one actor
to another if you like, but you need to make sure that at any given time, it is
clear which actor owns the object and is allowed to access it. Whenever you
design an actors-based system, you need to decide which parts of memory
are assigned to which actor.
There is an exception, though: immutable data does not play by this rule!
Any data that is immutable can be safely accessed by multiple actors. Since
the data does not change, there do not need to be any locks, and you do not
need to assign the data to a particular object.
Immutable data is convenient in many cases, but it really shines for parallel
systems. When you design a program that might involve parallelism in
the future, you should try especially hard to make data structures immutable.
All of the value types are immutable, as are strings. Most case classes are,
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 23.5 Chapter 23 · Actors and Concurrency 459
too. Obviously, the “immutable” collection types live up to their name. Lists,
as well as the default Scala map and set classes, are all immutable.
On the other hand, arrays are mutable, and thus any array you use must
only be accessed by one actor at a time. Similarly, any object that has a var
in it is mutable.
However, as you have seen in Chapter 16, even an object which does
not have vars in it can be “stateful”, because it might reference a mutable
object which has vars. Stateful objects also should not be shared between
actors, because two different actors can follow the same references and arrive
at the same mutable object at the same time. Verifying that an object is
stateless means that you have to consider the object itself, plus every object
it references, and so on. To help in this effort, many people note in the class
comments if they think that instances of a class are stateless.
All of the examples in this chapter pass only immutable data between
the actors. Thus, they avoid the need to assign data to actors. In larger
programs you will not always be able to make all data immutable. In such
cases, you will need to assign an actor to each data structure. All other actors
that access a mutable object must send messages to the object’s owner and
wait for a message to come back with a reply.
Make messages self-contained
When you return a value from a method, the caller is in a good position to
remember what it was doing before it called the method. It can take the
response value and then continue whatever it was doing.
With actors, things are trickier. When one actor makes a request of another,
the response might come not come for a long time. The calling actor
should not block, but should continue to do any other work it can while it
waits for the response. A difficulty, then, is interpreting the response when it
finally comes. Can the actor remember what it was doing when it made the
request?
One way to simplify the logic of an actors program is to include redundant
information in the messages. If the request is an immutable object, you
can even cheaply include a reference to the request in the return value! For
example, the IP-lookup actor would be better if it returned the host name
in addition to the IP address found for it. It would make this actor slightly
longer, but it should simplify the logic of any actor making requests on it.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 23.5 Chapter 23 · Actors and Concurrency 460
def act() {
Actor.loop {
react {
case (name: String, actor: Actor) =>
actor ! (name, getip(name))
}
}
}
Another way to increase redundancy in the messages is to make a case class
for each kind of message. While such a wrapper is not strictly necessary in
many cases, it makes an actors program much easier to understand. Imagine
a programmer looking at a send of a string, for example:
lookerUpper ! ("www.scalalang.
org", this)
It can be difficult to figure out which actors in the code might respond. It is
much easier if the code looks like this:
case class LookupIP(hostname: String, requester: Actor)
lookerUpper ! LookupIP("www.scalalang.
org", this)
Now, the programmer can search for LookupIP in the source code, probably
finding very few possible responders. Here is the full code for an IP-lookup
actor that uses case classes for the messages:
import java.net.InetAddress
case class LookupIP(name: String, respondto: Actor)
case class LookupResult(name: String, address: Option[InetAddress])
val nameResolver2 = actor {
loop {
react {
case LookupIP(name, actor) =>
actor ! LookupResult(name, getip(name))
}
}
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 24
Extractors
By now you have probably grown accustomed to the concise way data can be
decomposed and analyzed using pattern matching. This chapter shows you
how to generalize this concept further. Until now, constructor patterns were
linked to case classes. For instance, Some(x) is a valid pattern because x is
a case class. Sometimes you might wish that you can write patterns like this
without creating an associated case class. In fact, you might wish to be able
to create your own kinds of patterns. Extractors give you a way to do this.
This chapter explains what extractors are and how you can use them to
define patterns that are decoupled from an object’s representation.
24.1 An Example
Say you want to analyze strings that represent e-mail addresses. Given a
string, you want to decide whether it is an e-mail address or not, and, if it
is one, you want to access the user and domain parts of the address. The
traditional way to do this uses three helper functions:
def isEMail(s: String): Boolean
def domain(s: String): String
def user(s: String): String
With these functions, you could parse a given string s as follows:
if (isEMail(s)) println(user(s)+" AT "+domain(s)
else println("not an email
address")
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 24.1 Chapter 24 · Extractors 462
This works, but it is kind of clumsy. What’s more, things would become
more complicated when you combine several such tests. For instance you
might want to find two successive strings in a list that are both e-mail addresses
with the same user. You can try this yourself with the access functions
defined previously to see would be involved.
You have seen already in Chapter 12 that pattern matching is ideal for
attacking problems like this. Let’s assume for the moment that you could
match a string with a pattern
EMail(user, domain)
The pattern would match if the string contained an embedded ‘@’-sign. In
that case it would bind variable user to the part of the string before the ‘@’
and variable domain to the part after it. Postulating a pattern like this, the
previous expression could be written more clearly like this:
s match {
case EMail(user, domain) => println(user+" AT "+domain)
case _ => println("not an email
address")
}
The more complicated problem of finding two successive e-mail addresses
with the same user part would translate to the following pattern:
ss match {
case EMail(u1, d1) :: Email(u2, d2) :: _ if (u1 == u2) => ...
...
}
This is much more legible than anything that could be written with access
functions. However, the problem with all this is that strings are
not case classes; they do not have a representation that conforms to
EMail(user, domain). This is where Scala’s extractors come in: They
let you define new patterns for pre-existing types, where the pattern need not
follow the internal representation of the type.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 24.2 Chapter 24 · Extractors 463
24.2 Extractors
An extractor in Scala is an object that has a method called unapply as one of
its members. The purpose of that unapply method is to match a value and
take it apart. Often, the extractor object also defines a dual method apply for
building values, but this is not required. As an example, here is an extractor
object for e-mail addresses:
/** An extractor object */
object EMail {
/** The injection method (optional) */
def apply(user: String, domain: String) = user+"@"+domain
/** The extraction method (mandatory) */
def unapply(email: String): Option[(String, String)] = {
val parts = email split "@"
if (parts.length == 2) Some(parts(0), parts(1)) else None
}
}
This object defines both apply and unapply methods. The apply method
has the same meaning as always: It turns EMail into a function object.
So you can write EMail("John", "epfl.ch") to construct the string
"John@epfl.ch@". To make this more explicit, you could also let EMail
inherit from Scala’s function type, like this:
object EMail extends (String, String) => String { ... }
The unapply method is what turns EMail into an extractor. In a sense, it
reverses the construction process of apply. Where apply takes two strings
and forms an e-mail address string out of them, unapply takes an e-mail
address and returns potentially two strings: the user and the domain of the
address. But unapply must also handle the case where the given string is not
an e-mail address. That’s why unapply returns an Option-type over pairs of
strings. Its result is either Some(user, domain) if the string s is an e-mail
address with the given user and domain parts, or None, if s is not an e-mail
address. Here are some examples:
unapply("John@epfl.ch") = Some("John", "epfl.ch")
unapply("John Doe") = None
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 24.2 Chapter 24 · Extractors 464
Now, whenever pattern matching encounters a pattern referring to a extractor
object, it invokes the extractor’s unapply method on the selector expression.
For instance, executing the code
s match { case EMail(user, domain) => ... }
would lead to the call
EMail.unapply(s)
As you have seen previously, this call returns either None or Some(u, d), for
some values u for the user part of the address and d for the domain part. In
the first case, the pattern does not match, and the system tries another pattern
or fails with a MatchError exception. In the second case, if Some(u, d) is
returned from the unapply, the pattern matches and its variables are bound
to the fields of the returned value. In the previous match, user would be
bound to u and domain would be bound to d.
In the EMail pattern matching example, the type String of the selector
expression s conformed to unapply’s argument type (which in the example
was also String). This is quite common, but not necessary. It would also be
possible to use the Email extractor to match selector expressions for more
general types. For instance, to find out whether an arbitrary value x was a
e-mail address string, you could write:
val x: Any = ...
obj match { case EMail(user, domain) => ... }
Given this code, the pattern matcher will first check whether the given value
x conforms to String, the parameter type of Email’s unapply method. If it
does conform, the value is cast to String and pattern matching proceeds as
before. If it does not conform, the pattern fails immediately.
In object EMail, the apply method is called an injection, because it takes
some arguments and yields an element of a given set (in our case: the set of
strings that are e-mail addresses). The unapply method is called an extraction,
because it takes an element of the same set and extracts some of its parts
(in our case: the user and domain substrings). Injections and extractions are
often grouped together in one object, because then one can use the object’s
name for both a constructor and a pattern, which simulates the convention
for pattern matching with case classes. However, it is also possible to define
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 24.3 Chapter 24 · Extractors 465
an extraction in an object without a corresponding injection. The object itself
is called an extractor, independently of the fact whether it has an apply
method or not.
If an injection method is included, it should be the dual to the extraction
method. For instance, a call of
EMail.unapply(EMail.apply(user, domain))
should return
Some(user, domain)
i.e. the same sequence of arguments wrapped in a Some. Going in the other
direction means running first the unapply and then the apply, as shown in
the following code:
EMail.unapply(obj) match {
case Some(u, d) => EMail.apply(u, d)
}
In that code, if the match on obj succeeds, you’d expect to get back that
same object from the apply. These two conditions for the duality of apply
and unapply are good design principles. They are not enforced by Scala,
but it’s recommended to keep to them when designing your extractors.
24.3 Patterns with zero or one variables
In unapply method of the previous example returned a pair of element values
in the success case. This is easily generalized to patterns of more than two
variables. To bind N variables, an unapply would return a N-element tuple,
wrapped in a Some.
The case where a pattern binds just one variable is treated differently,
however. There is no one-tuple in Scala. So to return just one pattern element,
the unapply method simply wraps the element itself in a Some.
Here is an example: The following extractor object defines apply and
unapply methods for strings that consist of two times the same substring in
a row.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 24.3 Chapter 24 · Extractors 466
object Twice {
def apply(s: String) = s + s
def unapply(s: String) = {
val l = s.length / 2
val half = s.substring(0, l)
if (half == s.substring(l)) Some(half) else None
}
}
It’s also possible that an extractor pattern does not bind any variables. In
that case the corresponding unapply method returns a boolean—true for
success and false for failure. For instance, the following extractor object
characterizes strings consisting of all uppercase characters.
object UpperCase {
def unapply(s: String) = s.toUpperCase == s
}
This time, the extractor only defines an unapply, but not an apply. It would
make no sense to define an apply, as there’s nothing to construct.
To following test method applies all previously defined extractors together
in its pattern matching code:
def test2(s: String) = s match {
case EMail(Twice(x @ UpperCase()), domain) =>
"match: "+x+" in domain "+domain
case _ =>
"no match"
}
The first pattern of this method matches strings that are e-mail addresses
consisting of two times the same string in uppercase letters. For instance:
scala> test2("DIDI@hotmail.com")
res2: java.lang.String = match: DI in domain hotmail.com
scala> test2("DIDO@hotmail.com")
res3: java.lang.String = no match
scala> test2("didi@hotmail.com")
res4: java.lang.String = no match
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 24.4 Chapter 24 · Extractors 467
Note that UpperCase in method test2 takes an empty parameter list ().
This cannot be omitted as otherwise the match would test for equality with
the object UpperCase! Note also that, even though UpperCase() itself does
not bind any variables, it is still possible to associate a variable with the
whole pattern matched by it. To do this, you use the standard scheme of
variable binding explained in Section 12.2: The form x @ UpperCase()
associates the variable x with the pattern matched by UpperCase().
24.4 Variable argument extractors
The previous extraction methods for e-mail addresses all returned a fixed
number of element values. Sometimes, this is not flexible enough. For example,
you might want to match on a string representing a domain name, so
that every part of the domain is kept in a different sub-pattern. This would
let you express patterns such as the following:
dom match {
case Domain("org", "acm") => println("acm.org")
case Domain("com", "sun", "java") => println("java.sun.com")
case Domain("net", _*) => println("a .net domain")
}
In this example things were arranged so that domains are expanded in reverse
order—from the top-level domain down to the sub-domains. This was
done so that one can better profit from sequence patterns. You have seen in
Section 12.2 that a sequence wildcard pattern _* at the end of an argument
list matches any remaining fields in a sequence. This feature is more useful
if the top-level domain comes first, because then one can use sequence
wildcards to match sub-domains of arbitrary depth.
But the question remains how an extractor can support vararg matching
like in the previous example, where patterns can have a varying number of
sub-patterns. The unapply methods encountered so far are not sufficient,
because they each return a fixed number of sub-elements in the success case.
Instead, Scala lets you define a different extraction method specifically for
vararg matching. This method is called unapplySeq. To see how it is written,
have a look at the Domain extractor
object Domain {
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 24.4 Chapter 24 · Extractors 468
def apply(parts: String*): String =
parts.reverse.mkString(".")
def unapplySeq(whole: String): Option[Seq[String]] =
Some(whole.split("nn.").reverse)
}
The Domain object defines an unapplySeq method that first splits the string
into parts separated by periods. This is done using Java’s split method on
strings, which takes a regular expression as its second argument. The result
of split is an array of substrings. The result of unapplySeq is then that
array with all elements reversed and wrapped in a Some.
The most general result type unappySeq needs to have is
Option[Seq[T]], where the element type T is arbitrary. Here, Seq is
a class in Scala’s collection hierarchy. It’s a common superclass of several
classes describing different kinds of sequences: Lists, Arrays, and several
others. All methods that are common to lists and arrays are inherited from
class Seq.
For symmetry, Domain also has an apply method that builds a domain
string from a variable argument parameter of domain parts starting with the
top-level domain. As always, the apply method is optional.
You can use the Domain extractor to get more detailed information out
of e-mail strings. For instance, to search for an e-mail address named "tom"
in some .com domain, you could write the following test method:
scala> def isTomInDotCom(s: String) = s match {
| case EMail("tom", Domain("com", _*)) => true
| case _ => false
| }
isTomInDotCom: (String)Boolean
This gives the expected results:
scala> isTomInDotCom("tom@sun.com")
res3: Boolean = true
scala> isTomInDotCom("peter@sun.com")
res4: Boolean = false
scala> isTomInDotCom("tom@acm.org")
res5: Boolean = false
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 24.5 Chapter 24 · Extractors 469
It’s also possible to return some fixed elements from an unapplySeq together
with the variable part. This is expressed by returning all elements in
a tuple, where the variable part comes last, as usual. As an example, here is
a new extractor for e-mails where the domain part is already expanded into a
sequence:
object ExpandedEMail {
def unapplySeq(email: String)
: Option[(String, Seq[String])] = {
val parts = email split "@"
if (parts.length == 2)
Some(parts(0), parts(1).split("nn.").reverse)
else
None
}
}
The unapplySeq method in ExpandedEMail returns an optional value of a
pair. The first element of the pair is the user part. The second element is a
sequence of names representing the domain. You can match on this as usual:
scala> val s = "tom@support.epfl.ch"
s: java.lang.String = tom@support.epfl.ch
scala> val ExpandedEMail(name, topdomain, subdomains @ _*) = s
name: String = tom
topdomain: String = ch
subdomains: Seq[String] = List(epfl, support)
24.5 Extractors and sequence patterns
You have seen in Chapter 8 that you can access the elements of a list or an
array using sequence patterns such as
List()
List(x, y, _*)
Array(x, 0, 0, _)
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 24.6 Chapter 24 · Extractors 470
In fact, these sequence patterns are all implemented using extractors in
the standard Scala library. For instance, patterns of the form List(...)
are possible because the scala.List object is an extractor that defines an
unapplySeq method. Here are the relevant definitions:
package scala
object List {
def apply[T](elems: T*) = elems.toList
def unapplySeq[T](x: List[T]): Option[Seq[T]] = Some(x)
...
}
The List object contains an apply method which takes a variable number
of arguments. That’s what lets you write expressions such as
List()
List(1, 2, 3)
It also contains an unappySeq method that returns all elements of the list as
a sequence. That’s what supports List(...) patterns. Very similar definitions
exist in the object scala.Array. These support analogous injections
and extractions for arrays.
24.6 Extractors vs Case Classes
Even though they are very useful, case classes have one shortcoming: they
expose the concrete representation of data. This means that the name of the
class in a constructor pattern corresponds to the concrete representation type
of the selector object. If a match against
case C(...)
succeeds, you know that the selector expression is an instance of class C.
Extractors break this link between data representations and patterns. You
have seen in the examples in this section that they enable patterns that have
nothing to do with the data type of the object that’s selected on. This property
is called representation independence. In open systems of large size, representation
independence is very important because it allows you to change an
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 24.6 Chapter 24 · Extractors 471
implementation type used in a set of components without affecting clients of
these components.
If your component had defined and exported a set of case classes,
you’d be stuck with them, because client code could already contain pattern
matches against these case classes. Renaming some case classes or changing
the class hierarchy would affect client code. Extractors do not share this
problem, because they represent a layer of indirection between a data representation
and the way it is viewed by clients. You could still change a
concrete representations of a type, as long as you update all your extractors
with it.
Representation independence is an important advantage of extractors
over case classes. On the other hand, case classes also have some advantages
of their own over extractors. First, they are much easier to set up and to define,
and they require less code. Second, they usually lead to more efficient
pattern matches than extractors, because the Scala compiler can optimize
patterns over case classes much better than patterns over extractors. This is
because the mechanisms of case classes are fixed, whereas an unapply or
unapplySeq method in an extractor could do almost anything. Third, if your
case classes inherit from a sealed base class, the Scala compiler will check
your pattern matches for exhaustiveness and will complain if some combination
of possible values is not covered by a pattern. No such exhaustiveness
checks are available for extractors.
So which of the two methods should you prefer for your pattern matches?
It depends. If you write code for a closed application, case classes are usually
preferable because of their advantages in conciseness, speed and static
checking. If you decide to change your class hierarchy later, the application
needs to be refactored, but this is usually not a problem. On the other hand, if
you need to expose a type to unknown clients, extractors might be preferable
because they maintain representation independence.
Fortunately, you need not decide right away. You could always start
with case classes and then, if the need arises, change to extractors. Because
patterns over extractors and patterns over case classes look exactly the same
in Scala, pattern matches in your clients will continue to work.
Of course, there are also situations where it’s clear from the start that
the structure of your patterns does not match the representation type of your
data. The e-mail addresses discussed in this chapter were one such example.
In that case, extractors are the only possible choice.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 24.7 Chapter 24 · Extractors 472
24.7 Conclusion
In this chapter you have seen out how to generalize pattern matching with
extractors. Extractors let you define your own kinds of patterns, which need
not correspond to the type of the expressions you select on. This gives you
more flexibility for the kinds of patterns you want to use for matching. In
effect it’s like having different possible views on the same data. It also gives
you a layer between a type’s representation and the way clients view it. This
lets you do pattern matching while maintaining representation independence,
a property which is very useful in large software systems.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 25
Objects As Modules
You saw in Chapter 13 how to divide programs into packages and thus get
more modular code. While this kind of division is already quite helpful, it
is limited because it provides no way to abstract. You cannot reconfigure a
package two different ways within the same program, and you cannot inherit
between packages. A package always includes one precise list of contents,
and that list is fixed until you change the code.
A more powerful approach is to make modules out of plain old objects.
In Scala, there is no need for objects to be “small” things, no need to use
some other kind of construct for “big” things like modules. One of the ways
Scala is a scalable language is that the same constructs are used for structures
both small and large.
This chapter walks through using objects as modules, starting with a
basic example and then showing how to take advantage of various Scala
features to improve on them.
25.1 A basic database
Wwe’ll start by building a persistent database of recipes. The database will
be in one module, and a database browser will be in another. The database
will hold all of the recipes that a person has collected. The browser will
help search and browse that database, for example to find every recipe that
includes an ingredient you have on hand.
The first thing to do is to model foods and recipes. To keep things simple,
a food will simply have a name, and a recipe will simply have a name, a list
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 25.1 Chapter 25 · Objects As Modules 474
Figure 25.1: A simple Food class and some example foods.
abstract class Food(val name: String) {
override def toString() = name
}
object Apple extends Food("Apple")
object Orange extends Food("Orange")
object Cream extends Food("Cream")
object Sugar extends Food("Sugar")
Figure 25.2: A simple Recipe class and an example recipe.
abstract class Recipe(val name: String,
val ingredients: List[Food],
val instructions: String) {
override def toString() = name
}
object FruitSalad extends Recipe(
"fruit salad",
List(Apple, Orange, Cream, Sugar),
"Stir it all together.")
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 25.1 Chapter 25 · Objects As Modules 475
of ingredients, and some instructions. The necessary classes are shown in
Figure 25.1 and Figure 25.2.
Scala uses objects for modules, so start by making two singleton objects
as follows. For now, the database module is backed by a simple in-memory
list.
object SimpleDatabase {
def allFoods = List(Apple, Orange, Cream, Sugar)
def foodNamed(name: String) =
allFoods.find(f => f.name == name)
def allRecipes: List[Recipe] = List(FruitSalad)
}
object SimpleBrowser {
def recipesUsing(food: Food) =
SimpleDatabase.allRecipes.filter(recipe =>
recipe.ingredients.contains(food))
}
You can use this database as follows:
scala> val apple = SimpleDatabase.foodNamed("Apple")
apple: Option[Food] = Some(Apple)
scala> SimpleBrowser.recipesUsing(apple.get)
res0: List[Recipe] = List(fruit salad)
To make things a little more interesting, suppose the database sorts foods
into categories. To implement this, add a FoodCategory class and a list of
all categories in the database.
object SimpleDatabase {
...
case class FoodCategory(name: String, foods: List[Food])
private var categories = List(
FoodCategory("fruits", List(Apple, Orange)),
FoodCategory("misc", List(Cream, Sugar)))
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 25.2 Chapter 25 · Objects As Modules 476
def allCategories = categories
}
object SimpleBrowser {
...
def displayCategory(category: SimpleDatabase.FoodCategory) {
// show info about the specified category
}
}
Notice in this last example that the private keyword, so useful for implementing
classes, is also useful for implementing modules. Items marked
private are part of the implementation of a module, and thus are particularly
easy to change without affecting other modules.
At this point, many more facilities could be added, but you get the idea.
Programs can be divided into singleton objects, which we can think of as
modules. This viewpoint is not very useful by itself, but it becomes very
useful when you consider abstraction.
25.2 Abstraction
Suppose you want the same code base to support multiple recipe databases,
and you want to be able to create a separate browser for each of these
databases. You would like to reuse the browser code for each of the instances,
because the only thing different about the browsers is which database they
refer to. Except for the database implementation, the rest of the code can be
reused character for character. How can the program be arranged to minimize
repetitive code? How can the code be made reconfigurable, so that you
can configure it using either database implementation?
The answer is a familiar one: if a module is an object, then a template
for module is a class. Just like a class describes the common parts of all its
instances, a class can describe the parts of a module that are common to all
of its possible configurations.
The browser definition therefore becomes a class, instead of an object,
and the database to use is specified as an abstract member of the class.
abstract class Browser {
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 25.2 Chapter 25 · Objects As Modules 477
val database: Database
def recipesUsing(food: Food) =
database.allRecipes.filter(recipe =>
recipe.ingredients.contains(food))
def displayCategory(category: database.FoodCategory) {
//...
}
}
Database also becomes a class, including as much as possible that is common
between all databases, and declaring the missing parts that a database
must define. In this case, all database modules must define methods for
allFoods and allRecipes, but since they can use an arbitrary definition,
the methods must be left abstract in the Database class. The foodNamed
method, by contrast, can be defined in the abstract Database class.
abstract class Database {
def allFoods: List[Food]
def allRecipes: List[Recipe]
def foodNamed(name: String) =
allFoods.find(f => f.name == name)
case class FoodCategory(name: String, foods: List[Food])
def allCategories: List[FoodCategory]
}
The simple database must be updated to inherit from this Database:
object SimpleDatabase extends Database {
//...
}
Then, a specific browser module is made by instantiating the Browser class
and specifying which database to use.
object SimpleBrowser extends Browser {
val database = SimpleDatabase
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 25.3 Chapter 25 · Objects As Modules 478
scala> val apple = SimpleDatabase.foodNamed("Apple")
apple: Option[Food] = Some(Apple)
scala> SimpleBrowser.recipesUsing(apple.get)
res1: List[Recipe] = List(fruit salad)
Now you can create a second database, and use the same browser with it.
object StudentDatabase extends Database {
object FrozenFood extends Food("FrozenFood")
object HeatItUp extends Recipe(
"heat it up",
List(FrozenFood),
"Microwave the 'food' for 10 minutes.")
def allFoods = List(FrozenFood)
def allRecipes = List(HeatItUp)
def allCategories = List(
FoodCategory("edible", List(FrozenFood)))
}
object SillyBrowser extends Browser {
val database = StudentDatabase
}
25.3 Splitting modules into traits
Often a module is too large to fit comfortably into a single file. When that
happens, you can use traits to split a module into separate files.
For example, suppose you wanted to move categorization code out of the
main Database file and into its own. You can create a trait for the code like
this:
trait FoodCategories {
case class FoodCategory(name: String, foods: List[Food])
}
Now the Database class can mix in this trait instead of defining
FoodCategory itself:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 25.3 Chapter 25 · Objects As Modules 479
abstract class Database extends FoodCategories {
//...
}
A trick is necessary if you want to use this approach and have the traits
refer to the contents of each other. For example, suppose you try to divide
SimpleDatabase into a two traits, one for foods and one for recipes:
trait SimpleFoods {
object Pear extends Food("Pear")
def allFoods = List(Apple, Pear)
def allCategories = Nil
}
trait SimpleRecipes {
object FruitSalad extends Recipe(
"fruit salad",
List(Apple, Pear), // uh oh
"Mix it all together.")
def allRecipes = List(FruitSalad)
}
object SimpleDatabase extends Database
with SimpleFoods with SimpleRecipes
The problem here is that Pear is located in a different trait from the one
that uses it, and so it is out of scope. The compiler has no idea that
SimpleRecipes is only ever mixed together with SimpleFoods.
So tell it. Scala provides the self type for precisely this situation. Technically,
a self type is an assumed type for this whenever this is mentioned
within the class. Pragmatically, a self type adds extra requirements
to any class the trait is mixed into. If you have a trait that is only ever used
when mixed in with another trait or traits, then you can specify that those
other traits should be assumed. In the present case, the self type can be
SimpleDatabase.
trait SimpleRecipes {
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 25.4 Chapter 25 · Objects As Modules 480
self: SimpleDatabase.type =>
object FruitSalad extends Recipe(
"fruit salad",
List(Apple, Pear), // now Pear is in scope
"Mix it all together.")
def allRecipes = List(FruitSalad)
}
Now Pear is in scope as this.Pear, because this is assumed to be a
SimpleDatabase.
25.4 Runtime linking
One final feature of Scala modules is worth emphasizing: they can be linked
together at runtime, and you can decide which modules will link to which
depending on runtime computations. For example, here is a small program
that chooses a database at runtime and then prints out all the apple recipes in
it:
object GotApples {
def main(args: Array[String]) {
val db: Database =
if(args(0) == "student")
StudentDatabase
else
SimpleDatabase
object browser extends Browser {
val database = db
}
val apple = SimpleDatabase.foodNamed("Apple").get
for(recipe <browser.
recipesUsing(apple))
println(recipe)
}
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 25.5 Chapter 25 · Objects As Modules 481
Now, if you use the standard database, you will find a recipe for fruit salad.
If you use the student database, then you will find no recipes at all using
apples.
$ scala GotApples simple
fruit salad
$ scala GotApples student
$
25.5 Tracking module instances
Despite using the same code, the different browser and database modules
created above really are separate modules. This means that
each module has its own contents, including any nested classes.
FoodCategory in SimpleDatabase is a different class from FoodCategory
in StudentDatabase!
scala> val category = StudentDatabase.allCategories.head
category: StudentDatabase.FoodCategory =
FoodCategory(edible,List(FrozenFood))
scala> SimpleBrowser.displayCategory(category)
<console>:12: error: type mismatch;
found : StudentDatabase.FoodCategory
required: SimpleBrowser.database.FoodCategory
SimpleBrowser.displayCategory(category)
ˆ
If instead you prefer all FoodCategorys to be the same, you can accomplish
this by moving the definition of FoodCategory outside of any class or trait.
The choice is yours, but as it is written, each Database gets its own, unique
FoodCategory class.
The above two classes really are different, so the compiler is correct to
complain. Sometimes, though, you will encounter a case where two types are
the same but the compiler cannot verify it. You will see the compiler complaining
that two types are not the same, even though you as the programmer
know they perfectly well are.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 25.5 Chapter 25 · Objects As Modules 482
In such cases you can often fix the problem using singleton types. For
example, in the GotApples program, the type checker does not know that db
and browser.database are the same. This will cause type errors if you try
to pass categories between the two objects:
object GotApples {
// same definitions...
for (category <db.
allCategories)
browser.displayCategory(category)
// ...
}
GotApples2.scala:14: error: type mismatch;
found : db.FoodCategory
required: browser.database.FoodCategory
browser.displayCategory(category)
ˆ
one error found
To avoid this error, you need to inform the type checker that they are the same
object. You can do this by changing the definition of browser.database as
follows:
object browser extends Browser {
val database: db.type = db
}
This definition is the same as before except that database has the funnylooking
type db.type. The “.type” on the end means that this is a singleton
type. A singleton type is extremely specific and holds only one object,
in this case whichever object is referred to by db. Usually such types are too
specific to be useful, which is why the compiler is reluctant to insert them
automatically. In this case, though, the singleton type allows the compiler to
know that db and browser.database are the same object, enough information
to eliminate the above type error.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 25.6 Chapter 25 · Objects As Modules 483
25.6 Conclusion
This chapter has shown how to use Scala’s objects as modules. In addition
to simple static modules, this approach gives you a variety of ways to create
abstract, reconfigurable modules. There are actually even more abstraction
techniques than shown, because anything that works on a class, also works
on a class used to implement a module. As always, how much of this power
you use should be a matter of taste.
Modules are part of programming in the large, and thus are hard to experiment
with. You need a large program before it really makes a difference.
Nonetheless, after reading this chapter you know which Scala features to
think about when you want to program in a modular style. Think about these
techniques when you write your own large programs, and recognize these
coding patterns when you see them in other people’s code.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 26
Annotations
Annotations are structured information added to program source code. Like
comments, they can be sprinkled throughout a program and attached to any
variable, method, expression, or other program element. Unlike comments,
they have structure, thus making them easier to machine process.
This chapter shows how to use annotations in Scala. It shows the syntax
of them in general, and then it shows how to use several standard annotations.
This chapter does not show how to write new annotation processing
tools. In general that topic is beyond the scope of this book, but you can
see one technique in Chapter 27.
26.1 Why have annotations?
There is no perfect programming language. We have done our best with
Scala to include today’s best proven ideas. Many more ideas are under current
research, though, and inevitably at least some of those ideas will prove
their worth in the future. The state of the art language in ten years will be
better than the state of the art language of today.
On top of that, there are a variety of special circumstances where language
support can help, but there is no way for a single language to support
all of them. Many organizations have their own testing framework, and it
would be useful to mark which parts of a code base correspond to which
parts of the organization’s testing framework, but no one language can support
every organization’s testing framework. Many programs work in a specialized
domain such as scientific computing or symbolic logic, and while a
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 26.2 Chapter 26 · Annotations 485
general purpose language often supports one or two of these domains, there
is no way to support all of them.
Because no single language can include specialized support for every
organization and every programming domain, Scala includes a system of
annotations. While Scala’s functions (Chapter 8), pattern matching (Chapter
12), and implicits (Chapter 19) go a long way, even these powerful features
can only help you support special domains to a certain extent. While
Scala should need language extensions less often than other general-purpose
languages, a single language can fundamentally only go so far.
The way annotations work is that programmers put annotations in their
code that are only meaningful for some special circumstance. They mark
methods as tests, or they mark matrices as sparse, or they append a proof
to a logical proposition. The core Scala compiler ignores these annotations
except to check that they are well-formed. It is up to separate tools—metaprogramming
tools—to pay attention to these annotations and do something
useful.
26.2 Syntax of annotations
A typical use of an annotation looks like this:
@deprecated def bigMistake() = //...
The annotation is the @deprecated part, and it applies to the entirety of
the bigMistake method (not shown—it’s too embarrassing). In this case,
the method is being marked as something the author of bigMistake wishes
you not to use. Maybe bigMistake will be removed entirely from a future
version of the code.
In the previous example, it is a method that is annotated as @deprecated.
There are other places annotations are allowed, too. Annotations are allowed
on any other kind of declaration or definition, including vals, vars, defs,
classes, objects, traits, and types. The annotation applies to the entirety
of the declaration or definition which follows it.
@deprecated class QuickAndDirty {
//...
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 26.2 Chapter 26 · Annotations 486
Annotations can also be applied to an expression, as with the @unchecked
annotation for pattern matching (see Chapter 12). To do so, place a colon
(“:”) after the expression and then write the annotation. Syntactically, it
looks like the annotation is being used as a type:
(e: @unchecked) match {
// nonexhaustive
cases...
}
Finally, annotations can be placed on types. Annotated types are described
later in this chapter.
So far the annotations shown have been simply an at sign followed by
an annotation class. Such simple annotations are common and useful, but
annotations have a richer general form:
@annot(exp, exp, ...) {val name=const, ..., val name=const}
The annot specifies the class of annotation. All annotations must include
that much. The exp parts are arguments to the annotation. For annotations
like @deprecated that do not need any arguments, you would normally
leave off the parentheses, but you can write @deprecated() if you like.
For annotations that do have arguments, place the arguments in parentheses:
@serial(1234).
The precise form the arguments you may give to an annotation depends
on the particular annotation class. Most annotation processors only let you
supply immediate constants such as 123 or "hello". The compiler itself
supports arbitrary expressions, however, so long as they type check. Some
annotation classes can make use of this, for example to let you refer to other
variables that are in scope:
@cool val normal = "Hello"
@coolerThan(normal) val fonzy = "Heeyyy"
The name=const pairs in the general syntax are available for more complicated
annotation that have optional arguments. Since the arguments are optional,
the names of any arguments you give must include the name of the
arguments you are including. To keep things simple, the arguments themselves
are restricted to be immediate constants.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 26.3 Chapter 26 · Annotations 487
26.3 Standard annotations
Scala includes several standard annotations. They are for features that are
used widely enough to merit putting in the language specification, but that
are not fundamental enough to merit their own syntax. Over time, there
should be a trickle of new annotations that are added to the standard in just
the same way.
Deprecation
Sometimes you write a class or method that you later wish you had not. Once
it is available, though, code written by other people might call the method.
Thus, you cannot simply delete the method instantly, because you would
cause other people’s code to stop compiling.
Deprecation lets you gracefully remove a method or class that turns out
to be a mistake. You mark the method or class as deprecated, and then anyone
who calls that method or class will get a deprecation warning. They had
better head this warning and update their code! The idea is that after a suitable
amount of time has passed, you feel safe in assuming that all reasonable
clients will have stopping accessing the deprecated class or method and thus
that you can safely remove it.
You mark a method as deprecated simply by writing @deprecated before
it. For example:
@deprecated def bigMistake() = //...
Such an annotation will cause Scala to emit deprecation warnings whenever
Scala code accesses the method.
Volatile fields
Concurrent programming does not mix well with shared mutable state. For
this reason, the focus of Scala’s concurrency support is message passing and
a minimum of shared mutable state. See Chapter 23 for the details.
Nonetheless, sometimes programmers want to use mutable state in their
concurrent programs. The @volatile annotation helps in such cases. It
informs the compiler that the variable in question will be used by multiple
threads. Such variables are implemented in a way that reads and writes to
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 26.3 Chapter 26 · Annotations 488
the variable are slower, but accesses from multiple threads behave more predictably.
The @volatile keyword gives different guarantees on different platforms,
so this book cannot document exactly what you get. In general,
though, if a mutable variable is going to be accessed from multiple threads,
mark it @volatile.
Binary serialization
Many languages include a framework for binary serialization. A serialization
framework helps you convert objects into a stream of bytes and vice
versa. This is useful if you want to save the objects to disk or send them over
the network. XML can help with the same goals (see Chapter 22), but it has
different trade offs regarding speed, space usage, flexibility, and portability.
Scala does not have its own serialization framework. Instead, you should
use a framework from your underlying platform. What Scala does is provide
three annotations that are useful for a variety of frameworks. Also, the Scala
compiler for the Java platform interprets these annotations in the Java way
(see Chapter 27).
The first annotation indicates whether a class is serializable at all. Most
classes are serializable, but for example a handle to a socket or to a GUI window
cannot be serialized. By default, a class is not considered serializable.
You should add a @serializable annotation to any class you would like to
be deemed serializable.
The second annotation helps deal with serializable classes changing as
time goes by. You can attach a serial number to the current version of a
class by adding an annotation like @SerialVersionUID(1234), where 1234
should be replaced by your serial number of choice. The framework should
store this number in the generated byte stream. When you later reload that
byte stream and try to convert it to an object, the framework can check that
the current version of the class has the same version number as the version
in the byte stream. If you want to make a serialization-incompatible change
to your class, then you can change the version number. The framework will
then automatically refuse to load old instances of the class.
Finally, Scala provides a @transient annotation for fields that should
not be serialized at all. If you mark a field as @transient, then the framework
should not save the field even when the surrounding object is serialized.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 26.4 Chapter 26 · Annotations 489
When the object is loaded, the field will be restored to the default value for
the class.
Automatic getters and setters
Scala code normally does not need explicit getters and setters for fields, because
Scala blends the syntax for field access and method invocation. Some
platform-specific frameworks do expect getters and setters, however. For that
purpose, Scala provides the @scala.reflect.BeanProperty annotation. If
you annotate a variable with this annotation, the compiler will automatically
generate getters and setters for you. If you annotate a variable named crazy,
the getter will be named getCrazy and the setter will be named setCrazy.
The generated getter and setter are only available after a compilation
pass completes. Thus, you cannot call these getters and setters from code
you compile at the same time as the annotated fields. This should not be
a problem in practice you can use the fields directly in Scala. This feature
is intended to support frameworks that expect getters and setters to be in a
regular form.
Unchecked
The @unchecked annotation is interpreted by the compiler during pattern
matches. It tells the compiler not to worry if the match expression seems to
leave out some cases. See Chapter 12 for details.
26.4 Conclusion
This chapter has described how to use annotations, and how to use several
standard annotations.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 27
Combining Scala and Java
Scala code is often used in tandem with large Java programs and frameworks.
Since Scala is highly compatible with Java, most of the time you can
combine the languages without worrying very much. For example, standard
frameworks such as Swing, Servlets, and JUnit are known to work just fine
with Scala. Nonetheless, from time to time you will run into some issue
with combining Java and Scala. Further, you might just have an engineer’s
motives and want to know more about how Scala works under the hood.
This chapter describes two aspects of combining Java and Scala. First, it
discusses how Scala is translated to Java, which is especially important if you
call Scala code from Java. Second, it discusses the use of Java annotations
in Scala, an important feature if you want to use Scala with an existing Java
framework.
27.1 Translation details
Most of the time you can just think of Scala at the source code level. However,
you will have a richer understanding of how the system works if you
know something about its translation. Further, if you call Scala code from
Java, you will need to know what Scala code looks like from a Java point of
view.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 27.1 Chapter 27 · Combining Scala and Java 491
General rules
Scala is implemented as a translation to standard Java bytecodes. As much
as possible, Scala features map directly onto the equivalent Java features.
Classes, methods, primitive types, strings, and exceptions all appear exactly
the same in Java bytecode as they did in Scala source code.
To make this happen required an occasional hard choice in the design of
Scala. For example, it might have been nice to resolve overloaded methods
at runtime, using run-time types, rather than at compile time. Such a design
would break with Java’s, however, making it much trickier to mesh Java
and Scala. In this case, Scala stays with Java’s overloading resolution, and
thus Scala methods and method calls can map directly to Java methods and
method calls.
For other features Scala has its own design. For example, traits have no
equivalent in Java. Similarly, while both Scala and Java have generic types,
the details of the two systems clash. For language features like these, Scala
code cannot be mapped directly to a Java construct, so it must be encoded
using some combination of the structures Java does have.
For these features that are mapped indirectly, the encoding is not fixed.
There is an ongoing effort to make the translations as simple as possible, so
by the time you read this, some details may be different than at the time of
writing. You can find out what translation your current Scala compiler uses
by examining the .class files with tools like javap.
Those are the general rules. Consider now some special cases.
Value types
A value type like Int can be translated in two different ways to Java. Whenever
possible, the compiler translates a Scala Int to a Java int for performance.
Sometimes this is not possible, though, because the compiler is not
sure whether it is translating an Int or some other data type. For example,
a particular List[Any] might hold only Ints, but the compiler has no way to
be sure.
In cases like this, where the compiler is unsure whether an object is a
value type or not, the compiler uses objects and relies on wrapper classes.
Wrapper classes, for example java.lang.Integer, allow a value type to
be wrapped inside a Java object and thereby manipulated by code that needs
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 27.1 Chapter 27 · Combining Scala and Java 492
objects.
The implementation of value types is discussed further in Section 10.16.
Singleton objects
Java has no exact equivalent to a singleton object, but it does have static
methods. The Scala translation uses static methods as much as possible, but
sometimes it must fall back on a more general approach.
In every case, the compiler creates a class for the object with a dollar
sign added to the end. For a singleton object named App, the compiler produces
a Java class named App$. This class has instance methods, not static
methods, for each method of the Scala App object. The Java class also has a
single static field named MODULE$ to hold the one instance of the class that is
created. For example, suppose you compile the following singleton object:
object App {
def main(args: Array[String]) {
println("Hello, world!")
}
}
Scala will generate a Java App$ class with the following fields and methods:
$ javap App$
public final class App$ extends java.lang.Object
implements scala.ScalaObject{
public static final App$ MODULE$;
public static {};
public App$();
public void main(java.lang.String[]);
public int $tag();
}
An important special case is if you have a standalone singleton object, which
does not come with a class of the same name. For example, you might have
a singleton object named App, and not have any class named App. In that
case, the compiler creates a Java class named App that has a static forwarder
method for each method of the Scala singleton object:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 27.1 Chapter 27 · Combining Scala and Java 493
$ javap App
Compiled from "App.scala"
public final class App extends java.lang.Object{
public static final int $tag();
public static final void main(java.lang.String[]);
}
To contrast, if you did have a class named App, Scala would create a corresponding
Java App class to hold the members of your true class. In that
case it would not add any forwarding methods for the same-named singleton
object, and Java code would have to access the singleton via the MODULE$
field.
This difference in behavior is due to a restriction in Java’s class file format:
The JVM does not let you define a static method with the same name
and signature as an instance method in the same class. On the other hand,
Scala imposes no such restriction: A class can well define a method with the
same name and signature as its companion object. Therefore, it would not
be safe to install forwarders for all static methods, because they might clash
with an instance method of the companion class.
Generics
As of Scala 2.6.1, the generic types of Java and the generic types of Scala
are incompatible. As a result, generic types in one language are not visible
in the other. Generic classes and methods in each language appear as their
non-generic versions in the other language. A List[Int] in Scala looks like
a plain List in Java. This type erasure is discussed more in Chapter 12.
We expect that this will change in Scala version 2.6.2 though. Hopefully,
generics in Scala are then visible as generics in Java and vice versa.
Traits as interfaces
Compiling any trait creates a Java interface of the same name. This interface
is usable as a Java type, and it lets you call methods on Scala objects through
variables of that type.
Implementing a trait in Java is another story. One special case is important,
however. If you make a Scala trait that includes only abstract methods,
then that trait will be translated directly to a Java interface, with no other code
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 27.2 Chapter 27 · Combining Scala and Java 494
to worry about. Essentially this means that you can write a Java interface in
Scala syntax if you like.
27.2 Annotations
Scala’s general annotations system is discussed in Chapter 26. This section
discusses Java-specific aspects of annotations.
Additional effects from standard annotations
Several annotations cause the compiler to emit extra information when running
on Java. When the compiler sees such an annotation, it processes it
according to the general Scala rules, and then it does something extra for
Java.
Deprecation For any method or class marked @deprecated, the compiler
will add Java’s own deprecation annotation to the emitted code. Because of
this, Java compilers can issue deprecation warnings when Java code accesses
the method.
Volatile fields Likewise, any field marked @volatile in Scala is given the
@volatile Java annotation in the emitted code. Thus, volatile fields in Scala
behave exactly according to Java’s semantics, and accesses to volatile fields
are sequenced precisely according to the rules of the Java Memory Model.
Serialization Scala’s three standard serialization annotations discussed are
all translated to Java equivalents. A @serializable class has the Java
Serializable interface added to it. A @SerialVersionUID(1234L) annotation
is converted to the following Java field definition:
// Java serial version marker
private final static long SerialVersionUID = 1234L
Any variable marked @transient is given the Java transient modifier.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 27.2 Chapter 27 · Combining Scala and Java 495
Exceptions thrown
Scala does not check that thrown exceptions are caught. That is, Scala has
no equivalent to Java’s throws declarations on methods. All Scala methods
are translated to Java methods that declare no thrown exceptions.1
The reason this feature is omitted from Scala is that the Java experience
with it has not been purely positive. Because annotating methods with
throws clauses is a heavy burden, too many developers write code that swallows
and drops exceptions, just to get the code to compile without adding all
these throws clauses. They intend to improve the exception handling later,
but experience shows that all too often time-pressed programmers will never
come back and add proper exception handling. The twisted result is that this
well-intentioned feature often ends up making code less reliable. A large
amount of production Java code swallows and hides run-time exceptions,
and the reason it does so is to satisfy the compiler.
Sometimes when interfacing to Java you will need Scala code to have
Java-friendly annotations about which exceptions your methods throw. All
you have to do is mark your methods with @throws annotations. For
example, the following Scala method has a method marked as throwing
IOException:
import java.io._
class Reader(fname: String) {
private val in =
new BufferedReader(new FileReader(fname))
@throws(classOf[IOException])
def read() = in.read()
}
Here is how it looks from Java:
$ javap Reader
Compiled from "Reader.scala"
public class Reader extends java.lang.Object implements scala.ScalaObject{
public Reader(java.lang.String);
public int read() throws java.io.IOException;
1The reason it all works is that Java bytecode verifier does not check the declarations,
anyway! The compiler checks, but not the verifier.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 27.2 Chapter 27 · Combining Scala and Java 496
public int $tag();
}
$
Note that the read() method is annotated as throwing an IOException.
Java annotations
Existing annotations from Java frameworks can be used in Scala code. Any
Java framework will see the annotations you write just as if you were writing
Java code instead of Scala code.
A wide variety of Java packages use annotations. As an example, consider
JUnit 4. JUnit is a framework for writing automated tests and for running
those tests. The latest version, JUnit 4, uses annotations to indicate
which parts of your code are tests. The idea is that you write a lot of tests
for your code, and then you run those tests whenever you change the source
code. That way, if your changes add a new bug, one of the tests will fail and
you will find out immediately.
Writing a test is easy. You simply write a method in a top-level class that
exercises your code, and you use an annotation to mark the method as a test.
It looks like this:
import org.junit.Test
import org.junit.Assert.assertTrue
class SetTest {
@Test
def testMultiAdd {
val set = Set() + 1 + 2 + 3 + 1 + 2 + 3
assertTrue(set.size == 3)
}
}
The meat of this test is in the testMultiAdd method. This test adds multiple
items to a set and makes sure that each one is only added one time. The
assertTrue method comes from the Java code of JUnit and checks that the
expression evaluates to true when it is executed. If it does not evaluate to
true, then the test fails.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 27.2 Chapter 27 · Combining Scala and Java 497
The test is marked using the annotation org.junit.Test. Note that
this annotation has been imported, so it can be referred to as simply @Test
instead of the more cumbersome @org.junit.Test.
That is all. Run a test using any JUnit test runner, for example:
$ scala cp
junit4.3.1.
jar:. org.junit.runner.JUnitCore SetTest
JUnit version 4.3.1
.
Time: 0.023
OK (1 test)
Writing your own annotations
To make an annotation that is visible to Java reflection, you must use Java
notation and compile it with javac. Here is an example annotation:
import java.lang.annotation.*;
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.METHOD)
public @interface Ignore { }
After compiling the above with javac, you can use the annotation as follows:
object Tests {
@Ignore
def testData = List(0, 1, 1,
5, 5)
def test1 {
assert(testData == (testData.head :: testData.tail))
}
def test2 {
assert(testData.contains(testData.head))
}
}
In this example, test1 and test2 are supposed to be test methods, but
testData should be ignored even though its name starts with “test.”
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 27.3 Chapter 27 · Combining Scala and Java 498
To see when these annotations are present, you can use the Java reflection
API’s. Here is sample code to show how it works:
for {
method <Tests.
getClass.getMethods
if method.getName.startsWith("test")
if method.getAnnotation(classOf[Ignore]) == null
} {
println("found a test method: " + method)
}
The reflective methods getClass and getMethods are used here to go
through all the fields of the input object’s class. These are normal reflection
methods. The annotation-specific part is the use of method getAnnotation.
As of Java 1.5, many reflection objects have a getAnnotation method for
searching for annotations of a specific type. In this case, the code looks for
an annotation of our new Ignore type. Since this is a Java API, success is
indicated by whether the result is null or is an actual annotation object.
Here is the code in action:
$ javac Ignore.java
$ scalac Tests.scala
$ scalac FindTests.scala
$ scala FindTests
found a test method: public void Tests$.test2()
found a test method: public void Tests$.test1()
Be aware that when you use Java annotations you have to work within their
limitations. For example, you can only use constants, not expressions, in
the arguments to annotations. You can support @serial(1234) but not
@serial(x*2), because x*2 is not a constant.
27.3 Existential types
All Java types have a Scala equivalent. This is necessary so that Scala
code can access any legal Java class. Most of the time the translation
is straightforward. Pattern in Java is Pattern in Scala, and
Iterator<Component> in Java is Iterator[Component] in Scala. For
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 27.3 Chapter 27 · Combining Scala and Java 499
some cases, though, the Scala types you have seen so far are not enough.
What should be done with Java wildcard types such as Iterator<?> and
Iterator<? extends Component> ? What should be about raw types like
Iterator, where the type parameter is omitted? For wildcard types and raw
types, Scala uses an extra kind of type called an existential type.
Existential types are a fully supported part of the language, but in practice
they are mainly used when viewing Java types from Scala. This section
briefly overviews how existential types work, but mostly this is only useful
so that you can understand compiler error messages that appear if there is a
type error when accessing Java code.
The general form of an existential type is as follows:
type forSome { declarations }
The type part is an arbitrary Scala type, and the declarations part is a list of
abstract vals and types. The interpretation is that the declarations variables
and types exist but are unknown, just like abstract members of a class. The
type is then allowed to refer to the declared variables and types even though
it is unknown what they refer to.
Take a look at some concrete examples. A Java Iterator<?> would be
written in Scala as:
Iterator[T] forSome { type T }
Read this from left to right. This is a Iterator of T’s for some type T. The
type T is unknown, and could be anything, but it is known to be fixed for this
particular Iterator. Similarly, a Java Iterator<? extends Component>
would be viewed in Scala as:
Iterator[T] forSome { type T <: Component }
This is an Iterator of T, for some type T that is a subtype of Component. In
this case T is completely unknown, but it is sure to be subtype of Component.
In simple cases, you use an existential type just as if the forSome were
not there. Scala will check that the program is sound even though the types
and values in the forSome clause are unknown. For example, suppose you
had the following Java class:
/* This is a Java class with wildcards */
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 27.3 Chapter 27 · Combining Scala and Java 500
class Wild {
Collection<?> contents() {
Collection<String> stuff = new Vector<String>();
stuff.add("a");
stuff.add("b");
stuff.add("see");
return stuff;
}
}
If you access this in Scala code you will see that it has an existential type:
scala> val contents = (new Wild).contents
contents: java.util.Collection[T] forSome { type T } = [a,
b, see]
If you want to find out how many elements are in this collection, you can
simply ignore the existential part and call the size method as normal:
scala> contents.size()
res0: Int = 3
In more complicated cases, existential types can be more awkward, because
there is no way to name the existential type. For example, suppose you
wanted to create a mutable Scala set and initialize it with the elements of
contents.
import scala.collection.mutable.Set
val iter = (new Wild).contents.iterator
val set = Set.empty[???] // what type goes here?
while (iter.hasMore)
set += iter.next()
A problem strikes immediately on line 2. There is no way to name the type
of elements in the Java collection, so you cannot write down the code type
of set. To work around this, there are two tricks you should consider:
1. When passing an existential type into a method, move type parameters
from the forSome clause to type parameters of the method. Inside the
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 27.4 Chapter 27 · Combining Scala and Java 501
body of the method, you can use the type parameters to refer to the
types that were in the forSome clause.
2. Instead of returning an existential type from a method, return an object
that has abstract members for each of the types in the forSome clause.
(See Chapter 18 for information on abstract members.)
Using these two tricks together, the previous code can be written as follows:
abstract class SetAndType {
type Elem
val set: Set[Elem]
}
def javaSet2ScalaSet[T](jset: Collection[T]): SetAndType = {
val sset = Set.empty[T] // now T can be named!
val iter = jset.iterator
while (iter.hasNext)
sset += iter.next()
return new SetAndType {
type Elem = T
val set = sset
}
}
You can see why Scala code normally does not use existential types. To do
anything sophisticated with them, you tend to convert them to use abstract
members. You may as well use abstract members to begin with.
27.4 Conclusion
Most of the time, you can ignore how Scala is implemented and simply write
and run your code. Sometimes it is nice to “look under the hood,” however,
and so this chapter has gone into two aspects of Scala’s implementation on
Java: what the translation looks like, and how you access Java-compatible
annotations. These topics become important when you need interoperation
between Scala and Java.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Chapter 28
Combinator Parsing
Occasionally it can be useful to whip up a processor for a small language.
However, you must solve the problem of parsing sentences in the language
you want to process. Essentially, you have only a few choices.
One choice is to roll your own parser (and lexical analyzer). If you are
not an expert this is hard. If you are an expert, it is still time-consuming to
do this.
An alternative choice is to use a parser generator. There exist quite a few
of these generators. Some of the better known are Yacc or Bison for parsers
written in C and ANTLR for parsers written in Java. You’ll probably also
need a scanner generator such as Lex, Flex, or JFlex to go with it. This might
be the best solution, except for a couple of inconveniences: You need to learn
new tools, including their—sometimes obscure—error messages. You also
need to figure out how to connect the output of these tools to your program.
This might limit the choice of your programming language, and complicate
your tool chain.
This chapter presents a third alternative: Instead of using the stand-alone
domain specific language of a parser generator you will use an embedded
domain specific language (or: embedded DSL for short). The embedded
DSL consists of a library of parser combinators. These are functions and
operators defined in Scala that are building blocks for parsers. The building
blocks follow one by one the constructions of a context-free grammar, so
they are very easy to understand.
This chapter introduces only a single language feature that was not explained
before: this-aliasing in Section 28.5. It does however heavily use
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.1 Chapter 28 · Combinator Parsing 503
several other features that were explained in previous chapters. Among others,
parameterized types, abstract types, functions as objects, operator overloading,
by-name parameters, and implicit conversions all play important
roles. The chapter shows how these language elements can be combined in
the design of a very high-level library.
The concepts explained in this chapter tend to be a bit more advanced
than previous chapters. If you have a good grounding in compiler construction,
you’ll profit from it reading this chapter, because it will help you put
things better in perspective. However, the only prerequisite for understanding
this chapter is that you know about regular and context-free grammars.
28.1 Example: Arithmetic Expressions
Let’s start with an example: Say you want to construct a parser for arithmetic
expressions consisting of integer numbers, parentheses, and the binary operators
+, ,
*, and /. The first step is always to write down a grammar for
the language to be parsed. For arithmetic expressions, this grammar reads as
follows:
expr ::= term {'+' term | ''
term}.
term ::= factor {'*' factor | '/' factor}.
factor ::= numericLit | '(' expr ')'.
Here, “|” denotes alternative productions. {...} denotes repetition (zero or
more times) whereas [...] denotes an optional occurrence.
This context-free grammar defines formally a language of arithmetic expressions:
Every expression (represented by expr) is a term, which can be
followed by a sequence of ‘+’ or ‘’
operators and further terms. A term is
a factor, possibly followed by a sequence of ‘*’ or ‘/’ operators and further
factors. A factor is either a numeric literal or an expression in parentheses.
Note that the grammar already encodes the relative precedence of operators.
For instance, ‘*’ binds more tightly than +, because a ‘*’ operation gives a
term, whereas a ‘+’ operation gives an expr, and exprs can contain terms
but a term can contain an expr only when the latter is enclosed in parentheses.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.1 Chapter 28 · Combinator Parsing 504
Now that you have defined the grammar, what’s next? If you use Scala’s
combinator parsers, you are basically done! You only need to perform some
systematic text replacements and wrap the parser in a class as follows:
import scala.util.parsing.combinator.syntactical._
class Arith extends StandardTokenParsers {
lexical.delimiters ++= List("(", ")", "+", "",
"*", "/")
def expr : Parser[Any] =
term  rep("+"  term | ""
 term)
def term : Parser[Any] =
factor  rep("*"  factor | "/"  factor)
def factor: Parser[Any] =
"("  expr  ")" | numericLit
}
The parser for arithmetic expressions is a class that inherits from the class
StandardTokenParsers. This class provides the basic machinery to write
a standard parser. The class builds on a standard lexer that recognizes
Java-like tokens consisting of strings, integers, and identifiers. The lexer
skips over whitespace and Java-like comments. Both multi-line comments
/* ... */ and single line comments // ... are supported. The lexer still
needs to be configured with a set of delimiters. These are tokens consisting
of special symbols that the lexer should recognize. In the case of arithmetic
expressions, the delimiters are “(”, “)”, “+”, “”,
“*”, and “/”. They are
declared to the parsing combinator system by the line:
lexical.delimiters += ("(", ")", "+", "",
"*", "/")
Here, lexical refers to the lexer component inherited from class
StandardTokenParsers and delimiters is a mutable set in this component.
The “+=” operation enters the desired delimiters into the set.
The next three lines represent the productions for arithmetic expressions.
As you can see, they follow very closely the productions of the contextfree
grammar. In fact, you could generate this part automatically from the
context-free grammar, by performing a number of simple text replacements:
1. Every production becomes a method, so you need to prefix it with def.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.2 Chapter 28 · Combinator Parsing 505
2. The result type of each method is Parser[Any], so you need to change
the “produces” sign ::= to : Parser[Any] = . You’ll find out below
what the type Parser[Any] signifies, and also how to make it more
precise.
3. In the grammar, sequential composition was implicit, but in the program
it is expressed by an explicit operator “”. So you need to insert
a “” between every two consecutive symbols of a production.
4. Repetition is expressed rep(...) instead of {...}. Analogously
(not shown in the example), option is expressed opt(...) instead of
[...].
5. The point “.” at the end of each production is omitted—you can however
write a semicolon “;” if you prefer.
That’s it! You have a parser for arithmetic expressions. As you can see,
the combinator parsing framework gives you a fast path to construct your
own parsers. In part this is due to the fact that a lot of functionality is “precanned”
in the StandardTokenParsers class. But the parsing framework
as a whole is also easy to adapt to other scenarios. For instance, it is quite
possible to configure the framework to use a different lexer (including one
you write). In fact, the lexer itself can be written with the same combinator
parsers that also underlie the parser for arithmetic expressions.
28.2 Running Your Parser
You can test your parser with the following a small program:
object ArithTest extends Arith {
def main(args: Array[String]) {
val tokens = new lexical.Scanner(args(0))
println("input: "+args(0))
println(phrase(expr)(tokens))
}
}
The ArithTest object defines a main method which parses the first command
line argument that’s passed to it. It first creates a Scanner object that
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.2 Chapter 28 · Combinator Parsing 506
reads the first input argument and converts it to a token sequence named
tokens. It then prints the original input argument, and finally prints its
parsed version. Parsing is done by the expression
phrase(expr)(tokens)
This expression applies the parser phrase(expr) to the token sequence
tokens. The phrase method is a special parser. It takes another parser as
argument, applies this parser to an input sequence, and at the same time
makes sure that after parsing the input sequence is completely read. So
phrase(expr) is like expr, except that expr can parse parts of input
sequences, whereas phrase(expr) succeeds only if the input sequence is
parsed from beginning to end.
You can run the arithmetic parser with the following command:
scala ArithTest "2 * (3 + 7)"
input: 2 * (3 + 7)
[1.12] parsed: ((2  List((*  (((  ((3  List())  List((+
 (7  List())))))  )))))  List())
The output tells you that the parser successfully analyzed the input string
up to position [1.12]. That means the first line and the twelfth column, or,
otherwise put, all the input string was parsed. Disregard for the moment the
result after “parsed:”—it is not very useful, and you will find out later how
to get more specific parser results.
You can also try to introduce some input string that is not a legal expression.
For instance, you could write one closing parenthesis too many:
scala ArithTest "2 * (3 + 7))"
input: 2 * (3 + 7))
[1.12] failure: end of input expected
2 * (3 + 7))
ˆ
Here, the expr parser parsed everything until the final closing parenthesis,
which does not form part of the arithmetic expression. The phrase parser
then issued an error message which said that it expected the input to end at
the point of the closing parenthesis.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.3 Chapter 28 · Combinator Parsing 507
28.3 Another Example: JSON
Let’s try another example. JSON, the JavaScript Object Notation, is a popular
data interchange format. You’ll now find out how to write a parser for it.
Here is the syntax of JSON:
value = obj | arr | stringLit | numericLit |
"null" | "true" | "false"
obj = "{" [members] "}"
arr = "[" [values] "]"
members = member {"," member}
member = stringLit ":" value
values = value {"," value}
A JSON value is an object, or an array, or a string, or a number, or one of the
three reserved words null, true, or false. A JSON object is a (possibly
empty) sequence of members separated by commas and enclosed in braces.
Each member is a string/value pair where the string and the value are separated
by a colon. Finally, a JSON array is a sequence of values separated by
commas and enclosed in square brackets.
Here is an example JSON object:
{ "address book": {
"name": "John Smith",
"address": {
"street": "10 Market Street",
"city" : "San Francisco, CA",
"zip" : 94111
},
"phone numbers": [
"408 3384238",
"408 1116892"
]
}
}
Parsing JSON data is straightforward when using Scala’s parser combinators.
Here is the complete parser:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.3 Chapter 28 · Combinator Parsing 508
import scala.util.parsing.combinator.syntactical._
class JSON extends StandardTokenParsers {
lexical.delimiters += ("{", "}", "[", "]", ":", ",")
lexical.reserved += ("null", "true", "false")
def value : Parser[Any] = obj | arr | stringLit | numericLit |
"null" | "true" | "false"
def obj : Parser[Any] = "{"  repsep(member, ",")  "}"
def arr : Parser[Any] = "["  repsep(value, ",")  "]"
def member: Parser[Any] = stringLit  ":"  value
}
This parser follows the same structure as the arithmetic expression parser.
The delimiters of JSON are "{", "}", "[", "]", ":", ",". There are also
some reserved words: null, true, false. Reserved words are tokens that
follow the syntax of identifiers, but that are reserved. Reserved words are
communicated to the lexer by entering them into its reserved table:
lexical.reserved += ("null", "true", "false")
The rest of the parser is made up of the productions of the JSON grammar.
The productions use one shortcut which simplifies the grammar: The
repsep combinator parses a (possibly empty) sequence of terms that are
separated by a given separator string. For instance, in the example above,
repsep(member, ",") parses a comma-separated sequence of member
terms. Otherwise, the productions in the parser correspond exactly to the
productions in the grammar, just like it was the case for the arithmetic expression
parsers.
To test the JSON parsers, let’s change the framework a bit, so that the
parser operates on a file instead of on the command line:
import scala.util.parsing.input.StreamReader
object JSONTest extends JSON {
def main(args: Array[String]) {
val reader = StreamReader(new java.io.FileReader(args(0)))
val tokens = new lexical.Scanner(reader)
println(phrase(value)(tokens))
}
}
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.4 Chapter 28 · Combinator Parsing 509
The main method in this program first creates a StreamReader object. This
object represents an input stream of characters with positions; for every character
that’s read one can query its line and column numbers (both lines and
columns start at 1). It then creates a Scanner over this stream reader. Finally
the tokens returned from the scanner are parsed; they need to conform to the
value production of the JSON grammar. If you store the “address book” object
above into a file named addressbook.
json and run the test program
on it you should get:
scala JSONTest addressbook.
json
[17.1] parsed: (({  List(((address book  :)  (({ 
List(((name  :)  John Smith), ((address  :)  (({ 
List(((street  :)  10 Market Street), ((city  :)  San
Francisco, CA), ((zip  :)  94111)))  })), ((phone numbers
 :)  (([  List(408 3384238,
408 1116892))
 ])))) 
}))))  })
28.4 Parser Output
The test run above succeeded; the JSON address book was successfully
parsed. However, the parser output looks strange—it seems to be a sequence
composed of bits and pieces of the input glued together with lists and “”
combinations. This parser output is not very useful. It is certainly less readable
for humans than the input, but it is also too disorganized to be easily
analyzable by a computer. It’s time to do something about this.
To figure out what to do, you need to know first what the individual
parsers in the combinator frameworks return as a result (provided they succeed
in parsing the input). Here are the rules:
1. Each parser written as a string (such as: "{" or ":" or "null") returns
the parsed string itself.
2. Each of the single-token parsers—stringLit, numericLit, and
ident—also returns the parsed string itself.
3. A sequential composition P  Q returns the results of both P and of
Q. These results are returned in an instance of a case class which is
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.4 Chapter 28 · Combinator Parsing 510
also written “”. So if P returns "true" and Q returns "?", then the
sequential composition P  Q returns ("true", "?"), which prints
as (true  ?).
4. An alternative composition P | Q returns the result of either P and Q
(whichever one succeeds).
5. A repetition rep(P) or repsep(P, separator) returns the results of
all runs of P as elements of a list.
6. An option opt(P) returns an instance of Scala’s Option type. It returns
the Some(R) if P succeeds with result R and None if P fails.
With these rules you can now deduce why the parser output was as shown
in the example above. However, the output is still not very convenient. It
would be much better to map a JSON object into an internal Scala representation
that represents the “meaning” of the JSON value. A representation
which is natural would be as follows:
• A JSON object is represented as a Scala map of type
Map[String, Any]. Every member is represented as a key/value
binding in the map.
• A JSON array is represented as a Scala list of type List[Any].
• A JSON string is represented as a Scala String.
• A JSON numeric literal is represented as a Scala Int.
• The values true, false and null are represented in as the Scala values
with the same names.
To produce to this representation, you need to make use of two more combination
forms for parsers, “ˆˆ” and “ˆˆˆ”.
The “ˆˆ” operator transforms the result of a parser. Expressions using
this operator have the form P ˆˆ f where P is a parser and f is a function.
P ˆˆ f parses the same sentences as just P. Whenever P returns with some
result R, the result of P ˆˆ f is f(R).
The “ˆˆˆ” operator replaces the result of a parser. Expressions using this
operator have the form P ˆˆˆ v where P is a parser and v is a value. But
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.4 Chapter 28 · Combinator Parsing 511
whenever P returns with some result R, the result of P ˆˆˆ v is v instead of
R. So “ˆˆˆ” is related to “ˆˆ” by the equality
P ˆˆˆ v = P ˆˆ (r => v) .
As an example, here is the JSON parser that parses a numeric literal and
converts it to a Scala integer:
numericLit ˆˆ (_.toInt)
And here is the JSON parser that parses the string "true" and returns Scala’s
true value:
"true" ˆˆˆ true
Now for more advanced transformations. Here’s a new version of a parser
for JSON objects that returns a Scala Map:
def obj: Parser[Map[String, Any]] =
"{"  repsep(member, ",")  "}" ˆˆ
{ case "{"  ms  "}" => Map() ++ ms }
Remember that the “” operator produces as result an instance of a case class
with the same name, “”. This is no coincidence. It is designed that way so
that you can match parser results with patterns that follow the same structure
as the parsers themselves. For instance, the pattern "{"  ms  "}" matches
a result string "{" followed by a result variable ms, which is followed in turn
by a result string "}". This pattern corresponds exactly to what is returned
by the parser on the left of the “ˆˆ”. In its desugared versions where the “”
operator comes first, the same pattern reads (("{", ms), "}") but this
is much less legible.
The purpose of the pattern in the code above is to “strip off”
the braces so you can get at the list of members resulting from the
repsep(member, ",") parser. In cases like these there is also an alternative,
which avoids producing the unnecessary parser results that are then
discarded by the pattern match. The alternative makes use of the “>” and
“<” parser combinators. Both express sequential composition just like “”,
but “>” keeps only the result of its right operand, whereas “<” keeps only
the result of its left operand. So a shorter way to express the JSON object
parser would be this:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.4 Chapter 28 · Combinator Parsing 512
def obj: Parser[Map[String, Any]] =
"{" > repsep(member, ",") < "}" ˆˆ (Map() ++ _)
Here is a full JSON parser that returns meaningful results:
class JSON1 extends StandardTokenParsers {
lexical.delimiters += ("{", "}", "[", "]", ":", ",")
lexical.reserved += ("null", "true", "false")
def obj: Parser[Map[String, Any]] =
"{" > repsep(member, ",") < "}" ˆˆ (Map() ++ _)
def arr: Parser[List[Any]] =
"[" > repsep(value, ",") < "]"
def member: Parser[(String, Any)] =
stringLit  ":"  value ˆˆ
{ case name  ":"  value => (name, value) }
def value: Parser[Any] =
obj | arr | stringLit | numericLit ˆˆ (_.toInt) |
"null" ˆˆˆ null | "true" ˆˆˆ true | "false" ˆˆˆ false
}
If you run this parser on the addressbook.
json file, you get the following
result (after adding some newlines and indentation):
scala JSON1Test addressbook.
json
[14.1] parsed: Map(
address book >
Map(
name >
John Smith,
address >
Map(
street >
10 Market Street,
city >
San Francisco, CA,
zip >
94111),
phone numbers >
List(408 3384238,
408 1116892)
)
)
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.5 Chapter 28 · Combinator Parsing 513
ident identifier
keyword(...) keyword or special symbol (implicit)
numericLit integer number
stringLit string literal
P  Q sequential composition
P < Q, P > Q sequential composition; keep left/right only
P | Q alternative
opt(P) option
rep(P) repetition
repsep(P, Q) interleaved repetition
P ˆˆ f result conversion
P ˆˆˆ v constant result
Table 28.1: Summary of parser combinators
Summary: Using Combinator Parsers
This is all you need to know in order to get started writing your own parsers.
As an aide to memory, Table 28.1 lists the parser combinators that were
discussed so far.
28.5 Implementing Combinator Parsers
The previous sections have shown that Scala’s combinator parsers provide a
convenient means for constructing your own parsers. Since they are nothing
more than a Scala library, they fit seamlessly into your Scala programs. So
it’s very easy to combine a parser with some code that processes the results it
delivers, or to rig a parser so that it takes its input from some specific source
(say, a file, a string, or a character array).
How is this achieved? In the rest of this chapter you’ll take a look “under
the hood” of the combinator parser library. You’ll see what a parser is, and
how the primitive parsers and parser combinators encountered in previous
sections are implemented. You can safely skip these parts if all you want is
write some simple combinator parsers. On the other hand, reading the rest of
this chapter should give you a deeper understanding of combinator parsers
in particular, and of the design principles of a combinator DSL in general.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.5 Chapter 28 · Combinator Parsing 514
The core of Scala’s combinator parsing framework is contained in a
class scala.util.parsing.combinator.Parsers. This class defines the
Parser type as well as all fundamental combinators. Except where stated explicitly
otherwise, the definitions explained in the following two sub-sections
all reside in this class. That is they are assumed to be contained in a class
definition that starts as follows.
package scala.util.parsing.combinator
class Parsers {
... // code below goes here unless otherwise stated
}
The StandardTokenParsers class from which all previous example parsers
inherited is itself a subclass of Parsers. StandardTokenParsers fixes
some of the things that are left open in Parsers.
A Parser is in essence just a function from some input type to a parse
result. As a first approximation, the type could be written as follows:
type Parser[T] = Input => ParseResult[T]
Parser Input
Here, the type of parser inputs is fixed by the definition:
type Input = Reader[Elem]
The class Reader comes from the package scala.util.parsing.input.
It is similar to a Stream, but as mentioned previously, also keeps track of the
positions of all the elements it reads. The type Elem represents individual
input elements. It is an abstract type member of the Parsers class.
type Elem
This means that subclasses of Parsers need to instantiate class Elem to
the type of input elements that are being parsed. For instance, the class
StandardTokenParsers fixes Elem to be the Java-like word-tokens that you
have encountered so far.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.5 Chapter 28 · Combinator Parsing 515
Parser Results
A parser might either succeed or fail on some given input. Consequently
class ParseResult has two subclasses for representing success and failure:
abstract class ParseResult[+T]
case class Success[T](result: T, in: Input)
extends ParseResult[T]
case class Failure(msg: String, in: Input)
extends ParseResult[Nothing]
The Success case carries the result returned from the parser in its result
parameter. The type of parser results is arbitrary; that’s why Success,
ParseResult, and Parser are all parameterized with a type parameter T,
which represents the kinds of results returned by a given parser. Success
also takes a second parameter, in, which refers to the input immediately following
the part that the parser consumed. This field is needed for chaining
parsers, so that one parser can operate after another one. Note that this is a
purely functional approach to parsing. Input is not read as a side effect, but
it is kept in a stream. A parser analyzes some part of the input streams, and
then return the remaining part in its result.
The other subclass of ParseResult is Failure. This class takes as parameter
a message that describes why the parser has failed. Like Success,
Failure also takes the remaining input stream as a second parameter. This
is needed not for chaining (the parser won’t continue after a failure), but to
position the error message at the correct place in the input stream.
Note that parse results are defined to be covariant in the type parameter
T. That is, a parser returning Strings as result, say, is compatible with a
parser returning Objects.
The Parser class
In fact, the previous characterization of parsers as functions from inputs to
parse result was oversimplified a bit. The examples above have shown that
parsers also implement methods such as “” for sequential composition of
two parsers and “|” for their alternative composition. So Parser is in reality
a class that inherits from the function type Input => ParseResult[T] and
that additionally defines these methods:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.5 Chapter 28 · Combinator Parsing 516
abstract class Parser[+T] extends (Input => ParseResult[T])
{ p =>
/** An unspecified method that defines
* the behavior of this parser: */
def apply(in: Input): ParseResult[T]
def  ...
def | ...
...
}
Since parsers are (i.e.inherit from) functions, they need to define an apply
method. You see an abstract apply method in class Parser, but this is just
for documentation, as the same method is in any case inherited from the
parent type Input => ParseResult[T] (recall that this type is an abbreviation
for scala.Function1[Input, ParseResult[T]]). The apply method
still needs to be implemented in the individual parsers that inherit from the
abstract Parser class. These parsers will be discussed after the following
section.
Aliasing this
The body of the Parser class above starts with a curious expression:
abstract class Parser[+T] extends ... { p =>
A clause such as id => immediately after the opening brace of a class template
defines the identifier id as an alias for this in the class. It’s as if you
had written
val id = this
in the class body, except that the Scala compiler knows that id is an alias
for this. For instance, you could access an object-private member m of the
class using either id.m or this.m; the two are completely equivalent. The
first expression would not compile if id was just defined as a val with this
as its right hand side, because in that case the Scala compiler would treat id
as a normal identifier.
Aliasing can be a good abbreviation when you need to access the this
of an outer class. Here’s an example:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.5 Chapter 28 · Combinator Parsing 517
class Outer { outer =>
class Inner {
println(Outer.this eq outer) // prints: true
}
}
The example defines two nested classes, Outer and Inner. Inside Inner
the this value of the Outer class is referred to two times, using different
expressions. The first expression shows the Java way of doing things: You
can prefix the reserved word this with the name of an outer class and a
period; such an expression then refers to the this of the outer class. The
second expression shows the alternative that Scala gives you: By introducing
an alias named outer for this in class Outer, you can refer to this alias
directly also in inner classes. The Scala way is more concise, and can also
improve clarity, if you choose the name of the alias well. You’ll see examples
of this in pages 518 and 519.
Single-Token Parsers
Class Parsers defines a generic parser elem that can be used to parse any
single token:
def elem(kind: String, p: Elem => Boolean) =
new Parser[Elem] {
def apply(in: Input) =
if (p(in.first)) Success(in.first, in.rest)
else Failure(kind+" expected", in)
}
This parser takes two parameters: A kind string describing what kind of
token should be parsed, and a predicate p on Elems which indicates whether
an element fits the class of tokens to be parsed.
When applying the parser elem(kind, p) to some input in, the first
element of the input stream is tested with predicate p. If p returns true, the
parser succeeds. Its result is the element itself, and its remaining input is
the input stream starting just after the element that was parsed. On the other
hand, if p returns false, the parser fails with an error message that indicates
what kind of token was expected.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.5 Chapter 28 · Combinator Parsing 518
Sequential Composition
The elem parser only consumes a single element. To parse more interesting
phrases, you can string parsers together with the sequential composition operator
“”. As you have seen before, P  Q is a parser that applies first the P
parser to a given input string. Then, if P succeeds, the Q parser is applied to
the input that’s left after P has done its job.
The “” combinator is implemented as a method in class Parser. Here
is its definition:
abstract class Parser[+T] ... { p =>
...
def  [U](q: => Parser[U]) = new Parser[T  U] {
def apply(in: Input) = p(in) match {
case Success(x, in1) =>
q(in1) match {
case Success(y, in2) => Success(new (x, y), in2)
case failure => failure
}
case failure => failure
}
}
Let’s analyze this method in detail. It is a member of the Parser class. Inside
this class, p is specified by the p => part as an alias of this, so p designates
the left-hand argument (or: receiver) of “”. Its right-hand argument is
represented by parameter q. Now, if p  q is run on some input in, first p
is run on in and the result is analyzed in a pattern match. If p succeeds, q
is run on the remaining input in1. If q also succeeds, the parser as a whole
succeeds. Its result is a “”-object containing both x, the result of p, and y,
the result of y. On the other hand, if either p or q fails the result of p  q is
the Failure object returned by p or q.
The other two sequential composition operators “<” and “>” can be
defined just like “”, with some small adjustment how the result is computed.
But a more elegant technique is to define them in terms of “” as
follows:
def <[U](q: => Parser[U]): Parser[T] =
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.5 Chapter 28 · Combinator Parsing 519
(p  q) ˆˆ { case x  y => x }
def >[U](q: => Parser[U]): Parser[U] =
(p  q) ˆˆ { case x  y => y }
Alternative Composition
An alternative composition P | Q applies either P or Q to a given input. It
first tries P. If P succeeds, the whole parser succeeds with the result of P.
Otherwise, if P fails, then Q is tried on the same input as P. The result of Q is
then the result of the whole parser.
Here is a definition of “|” as a method of class Parser.
def | (q: => Parser[T]) = new Parser[T] {
def apply(in: Input) = p(in) match {
case s1 @ Success(_, _) => s1
case failure => q(in)
}
}
Dealing with Recursion
Note that the q parameter in methods “” and “|” is specified to be callby-
name. This means that the actual parser argument will be evaluated only
when q is needed; and that is the case only after p has run. This makes
it possible to write recursive parsers like the following one which parses a
number enclosed by arbitrarily many parentheses:
def parens = numericLit | "("  parens  ")"
If “|” and “” had taken call-by-value parameters, this definition would
immediately cause a stack overflow without reading anything, because the
value of parens occurs in the middle of its right-hand side.
Result Conversion
The last two methods of class Parser convert a parser’s result. The parser
forms P ˆˆ f and P ˆˆˆ v both succeed exactly when P succeeds but they
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.5 Chapter 28 · Combinator Parsing 520
change its result. P ˆˆ f transforms P’s result by applying the function f to
it. By contrast, P ˆˆˆ v replaces P’s result with the value v.
def ˆˆ [U](f: T => U): Parser[U] = new Parser[U] {
def apply(in: Input) = p(in) match {
case Success(x, in1) => Success(f(x), in1)
case failure => failure
}
}
def ˆˆˆ [U](v: U): Parser[U] = f ˆˆ (x => v)
} // end Parser
Parsers that don’t read any input
There are also two parsers that do not consume any input. The parser
success(result) always succeeds with the given result. The parser
failure(msg) always fails with error message msg. Both are implemented
as methods in class Parsers, the outer class that also contains class Parser:
def success[T](v: T) = new Parser[T] {
def apply(in: Input) = Success(v, in)
}
def failure(msg: String) = new Parser[Nothing] {
def apply(in: Input) = Failure(msg, in)
}
Option and repetition
Also defined in class Parsers are the option and repetition combinators opt,
rep, and repsep. They are all implemented in terms of sequential composition,
alternative, and result conversion:
def opt[T](p: => Parser[T]): Parser[Option[T]] = (
p ˆˆ Some(_)
| success(None)
)
def rep[T](p: Parser[T]): Parser[List[T]] = (
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.5 Chapter 28 · Combinator Parsing 521
p  rep(p) ˆˆ { case x  xs => x :: xs }
| success(List())
)
def repsep[T, U](p: Parser[T], q: Parser[U]): Parser[List[T]] = (
p  rep(q > p) ˆˆ { case r  rs => r :: rs }
| success(List())
)
} // end Parsers
Aside: Note that the body of each of the three parsers above is enclosed in
parentheses. This is a little trick to disable semicolon inference in parser
expressions. You have seen in Section 4.7 that Scala assumes there’s a semicolon
between any two lines that can be separate statements syntactically,
unless the first line ends in an infix operator, or the two lines are enclosed in
parentheses or square brackets. Now, you could have written the ‘|’ operator
at the end of the first alternative instead of at the beginning of the second,
like this:
def opt[T](p: => Parser[T]): Parser[Option[T]] =
p ˆˆ Some(_) |
success(None)
In that case, no parentheses around the body of function opt are required.
However, some people prefer to see the ‘|’ operator at the beginnning of the
second alternative rather than at the end of the first. Normally, this would
lead to an unwanted semicolon between the two lines, like this:
p ˆˆ Some(_); // semicolon implicitly inserted
| Success
The semcicolon changes the structure of the code, causing it to fail compilation.
Putting the whole expression in parentheses avoids the semicolon and
makes the code compile correctly.
This concludes the description of the general combinator parser framework.
In the next sections, you’ll find out how this framework is adapted to
yield the kind of standard token parsers used by the examples at the beginning
of this chapter.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.6 Chapter 28 · Combinator Parsing 522
28.6 Lexing and Parsing
The task of syntax analysis is usually split into two phases. The lexer phase
recognizes individual words in the input and classifies them into some token
classes. This phase is also called lexical analysis. This is followed by a
syntactical analysis phase that analyzes sequences of tokens. Syntactical
analysis is also sometimes just called parsing, even though this is slightly
imprecise, as lexical analysis can also be regarded as a parsing problem.
The Parsers class as described above can be used for either phase, because
its input elements are of the abstract type Elem. For lexical analysis,
Elem would be instantiated to Char, meaning that what’s parsed are the individual
characters that make up a word. The syntactical analyzer would in
turn instantiate Elem to the type of Tokens returned by the lexer.
Scala’s parsing combinators provide several utility classes for lexing and
syntactic analysis. These are contained in two sub-packages, one each for
lexical and syntactical analysis.
scala.util.parsing.combinator.lexical
scala.util.parsing.combinator.syntactical
In the following, you will learn of some of the abstractions in the syntactical
analysis package, just enough to understand how standard token parsers
work. These parsers use a standard lexical analysis that distinguishes a subset
of the tokens of Java and Scala. If you need to write a lexical analyzer that
follows different rules, you should consult the scaladoc API documentation
for the lexical sub-package.
The tokens that are supported by the standard lexer are described by the
following class:
abstract class Token { def chars: String }
Here, the chars method returns the characters making up the token as a
String. Class Token has four standard subclasses:
case class Keyword (override val chars: String)...
case class NumericLit(override val chars: String)...
case class StringLit (override val chars: String)...
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.7 Chapter 28 · Combinator Parsing 523
case class Identifier(override val chars: String)...
These represent keywords, numbers, strings, and identifiers, respectively.
28.7 Standard Token Parsers
The StandardTokenParsers class is found in the syntactical analysis package.
It extends class Parsers, fixing the kind Elem of input elements to
be instances of class Token. A slightly simplified account of the class is
given below (in reality the contents of the class are spread over several parent
classes, to enable more flexible re-use):
package scala.util.parsing.combinator.syntactical
class StandardTokenParsers extends Parsers {
type Elem = Token
...
The StandardTokenParsers class also defines four single-token parsers for
the four kinds of tokens that are supported. Each of these is defined in terms
of elem:
...
/** A parser that matches a numeric literal */
def numericLit: Parser[String] =
elem("number", _.isInstanceOf[NumericLit]) ˆˆ (_.chars)
/** A parser that matches a string literal */
def stringLit: Parser[String] =
elem("string", _.isInstanceOf[StringLit]) ˆˆ (_.chars)
/** A parser that matches an identifier */
def ident: Parser[String] =
elem("identifier", _.isInstanceOf[Identifier]) ˆˆ (_.chars)
/** A parser matching a given reserved word or delimiter */
implicit def keyword(chars: String): Parser[String] =
elem("‘"+chars+"'", _ == Keyword(chars))
} // end StandardTokenParsers
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.8 Chapter 28 · Combinator Parsing 524
The numericLit parser succeeds if the first input token is a numeric literal
of type NumericLit; in that case it returns the characters making up the
literal as a string. Analogously, the ident and stringLit parsers accept
identifiers and string literals.
The last of the four parsers is keyword. This parser accepts a given
reserved word or delimiter. For instance keyword("+") succeeds if the
first token is a “+” and fails otherwise. Or keyword("true") succeeds if
the first token is the reserved word true and fails otherwise.
One peculiarity of the keyword method is that it carries an implicit
modifier. This means that the keyword method is applied implicitly to an
expression e whenever e is a string and the expected type of the expression
is a Parser. In that case, the Scala compiler expands e to keyword(e).
That’s why you could simply write strings in place of parsers in the examples
at the beginning of this chapter. For instance, the JSON parser
term for an object member stringLit  ":"  value really means
stringLit  keyword(":")  value.
28.8 Error reporting
There’s one final topic that was not covered yet: How does the parser issue
an error message? Error reporting for parsers is somewhat of a black art.
One problem is that a parser that rejects some input contains many different
failures. After all each alternative parse must have failed, and so on recursively
for each choice point. Which of the usually numerous failures should
be emitted as error message to the user?
Scala’s parsing library implements a simple heuristic: Among all failures,
the one that occurred at the latest position in the input is chosen. In
other words, the parser picks the longest prefix that is still valid and then
issues an error message that describes why parsing the prefix could not be
continued further. If there are several failure points at that latest position, the
one that was visited last is chosen.
For instance, consider running the JSON parser on a faulty address book
which starts with the line
{ "name": John,
The longest legal prefix of this phrase is { "name": . So the JSON parser
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.8 Chapter 28 · Combinator Parsing 525
will flag the word John as an error. The JSON parser expects a value at this
point but John is an identifier, which does not count as a value (presumably,
the author of the document had forgotten to enclose the name in quotation
marks). The error message issued by the parser for this document is:
[1.13] failure: “false'' expected but identifier John found
{ "name": John,
ˆ
The part that “false” was expected comes from the fact that "false" is the
last alternative of the production for value in the JSON grammar. So this
was the last failure at this point. If one knows the JSON grammar in detail,
one can reconstruct the error message, but for a non-expert this error message
is probably surprising and can also be quite misleading.
A better error message can be engineered by adding a “catch all” failure
point as last alternative of a value production:
def value : Parser[Any] = obj | arr | stringLit | numericLit |
"null" | "true" | "false" |
failure("illegal start of value")
This addition does not change the set of inputs that are accepted as valid
documents. But it does improve the error messages, because now it will be
the explicitly added failure that comes as last alternative and therefore gets
reported:
[1.13] failure: illegal start of value
{ "name": John,
ˆ
The implementation of the “latest possible” scheme of error reporting uses a
field
var lastFailure: Option[Failure] = None
in class Parsers to mark the failure that occurred at the latest position in the
input. The field is initialized to None. It is updated in the constructor of class
Failure:
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.9 Chapter 28 · Combinator Parsing 526
case class Failure(msg: String, in: Input)
extends ParseResult[Nothing] {
if (lastFailure.isDefined &&
lastFailure.get.in.pos <= in.pos)
lastFailure = Some(this)
}
The field is read by the phrase method, which emits the final error message
if the parser failed. Here is the implementation of phrase in class Parsers:
def phrase[T](p: Parser[T]) = new Parser[T] {
lastFailure = None
def apply(in: Input) = p(in) match {
case s @ Success(out, in1) =>
if (in1.atEnd) s
else Failure("end of input expected", in1)
case f : Failure =>
lastFailure
}
}
The method runs its argument parser p. If p succeeds with a completely
consumed input, the success result of p is returned. If p succeeds but the
input is not read completely, a failure with message “end of input expected”
is returned. If p fails, the failure or error stored in lastFailure is returned.
Note that the treatment of lastFailure is non-functional; it is updated as
a side-effect by the constructor of Failure and the phrase method itself.
A functional version of the same scheme would be possible, but it would
require “threading” the lastFailure value though every parser result, no
matter whether this result is a Success or a Failure.
28.9 Backtracking vs LL(1)
The parser combinators employ backtracking to choose between different
parsers in an alternative. In an expression P | Q, if P fails, then Q is run on
the same input as P. This happens even if P has parsed some tokens before
failing. In this case the same tokens will be parsed again by Q.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.9 Chapter 28 · Combinator Parsing 527
Backtracking imposes only few restrictions on how to formulate a grammar
so that it can be parsed. Essentially, you just need to avoid left-recursive
productions. A production such as
expr ::= expr "+" term | term
will always fail because expr immediately calls itself and thus never progresses
any further.1 On the other hand, backtracking is potentially costly
because the same input can be parsed several times. Consider for instance
the production
expr ::= term "+" expr | term
What happens if expr parser is applied to an input such as (1 + 2) * 3 which
constitutes a legal term? The first alternative would be tried, and would fail
when matching the “+” sign. Then the second alternative would be tried on
the same term and this would succeed. In the end the term ended up being
parsed twice.
It is often possible to modify the grammar so that backtracking is
avoided. For instance, in the case of arithmetic expressions, either one of
the following productions would work:
expr ::= term ["+" expr]
expr ::= term {"+" term}
Many languages admit so-called “LL(1)” grammars. When a combinator
parser is formed from such a grammar, it will never do backtracking (i.e. the
input position is never reset to an earlier value, provided the parser input is
correct).
For instance, the grammars for arithmetic expressions and JSON terms
earlier in this chapter are both LL(1), so the backtracking capabilities of
the parser combinator framework are never exercised for inputs from these
languages.
The combinator parsing framework allows you to express the expectation
that a grammar is LL(1) explicitly, using a new operator !. This operator is
1There are ways to avoid stack overflows even in the presence of left-recursion, but this
requires a more refined parsing combinator framework, which to date has not been implemented.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.10 Chapter 28 · Combinator Parsing 528
like sequential composition  but it will never backtrack to “un-read” input
elements that have already been parsed. Using this operator, the productions
in the arithmetic expression parser could alternatively be written as follows:
def expr : Parser[Any] =
term ! rep("+" ! term | ""
! term)
def term : Parser[Any] =
factor ! rep("*" ! factor | "/" ! factor)
def factor: Parser[Any] =
"(" ! expr ! ")" | numericLit
One advantage of an LL(1) parser is that it can use a simpler input technique.
Input can be read sequentially, and input elements can be discarded once they
are read. That’s another reason why LL(1) parsers are usually more efficient
than backtracking parsers.
28.10 Conclusion
You have now seen all the essential elements of Scala’s combinator parsing
framework. It’s surprisingly little code for something that’s genuinely useful.
With the framework you can construct parsers for a large class of contextfree
grammars. The framework lets you get started quickly but it is also
customizable to new kinds of grammars and input methods. Being a Scala
library, it integrates seamlessly with the rest of the language. So it’s easy to
integrate a combinator parser in a larger Scala program.
One downside of combinator parsers is that they are not very efficient, at
least not when compared with parsers generated from special purpose tools
such as Yacc or Bison. This has to do with two effects: First, the backtracking
method used by combinator parsing is itself not very efficient. Depending
on the grammar and the parse input, it might yield an exponential slow-down
due to repeated backtracking. This can be fixed by making the grammar
LL(1) and by the committed sequential composition operator “!”.
The second problem affecting the performance of combinator parsers
is that they mix parser construction and input analysis in the same set of
operations. In effect, a parser is generated anew for each input that’s parsed.
This problem can be overcome, but it requires a different implementation
of the parser combinator framework. In an optimizing framework, a parser
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Section 28.10 Chapter 28 · Combinator Parsing 529
would no longer be represented as a function from inputs to parse results.
Instead, it would be represented as a tree, where every construction step was
represented as a case class. For instance, sequential composition could be
represented by a case class Seq, alternative by Alt and so on. The “outermost”
parser method phrase could then take this symbolic representation
of a parser and convert it to highly efficient parsing tables, using standard
parser generator algorithms.
What’s nice about all this is that from a user perspective nothing changes
compared to plain combinator parsers. Users still write parsers in terms of
ident, numericLit, “”, “|” and so on. They need not be aware of the fact
that these methods generate a symbolic representation of a parser instead of a
parser function. Since the phrase combinator converts these representations
into real parsers, everything works as before.
The advantage of this scheme with respect to performance are two-fold.
First, you can now factor out parser construction from input analysis. If you
write
val jsonParser = phrase(value)
and then apply jsonParser to several different inputs, the jsonParser is
constructed only once, not every time an input is read.
Second, the parser generation can use efficient parsing algorithms such as
LALR(1). These algorithms usually lead to much faster parsers than parsers
that operate with backtracking.
At present, such an optimizing parser generator has not yet been written
for Scala. But it would be perfectly possible to do so. If someone contributes
such a generator, it will be easy to integrate into the standard Scala library.
Even postulating that such a generator will exist at some point in the
future, there remain still reasons for also keeping the current parser combinator
framework around because it is much easier to understand and to adapt
than a parser generator. Furthermore, the difference in speed would often not
matter in practice, unless you want to parse very large inputs.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Glossary
algebraic data type A type defined by giving several alternatives, each of
which comes with its own constructor. It usually comes with a way to
decompose the type through pattern matching. The concept is found
in specification languages and functional programming languages. Algebraic
data types can be emulated in Scala with case classes.
alternative An alternative is a branch of a match expression. It has the form
“case pattern => expression.” Another name for alternative is, simply,
case.
annotation An annotation appears in source code and is attached to some
part of the syntax. Annotations are computer processable, so you can
use them to effectively add an extension to Scala.
anonymous function Another name for function literal.
apply You can apply a method, function, or closure to arguments, which
means you invoke it on those arguments.
argument When a function is invoked, an argument is passed for each parameter
of that function. The parameter is the variable that refers to the
argument. The argument is the object passed at invocation time. In addition,
applications can take (command line) arguments that show up
in the Array[String] passed to main methods of singleton objects.
assign You can assign an object to a variable. Afterwards, the variable will
refer to the object.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Glossary 531
auxiliary constructor Extra constructors defined inside the curly braces of
the class definition, which look like method definitions named this,
but with no result type.
block A block is one or more statements in Scala source code, usually surrounded
by curly braces. Blocks are commonly used as the bodies
of functions, for expressions, while loops, and any other places where
you want to group a number of statements together. More formally,
a block is an encapsulation construct for which you can only see side
effects and a result value. The curly braces in which you define a class
or object do not, therefore, form a block, because fields and methods
(which are defined inside those curly braces) are visible from the outside.
Such curly braces form a template.
bound variable A bound variable of an expression is a variable that’s both
used and defined inside the expression. For instance, in the function
literal expression (x: Int) => (x, y), both variables x and y are
used, but only x is bound, because it is defined in the expression as an
Int and the sole argument to the function described by the expression.
by-name parameter A parameter that is marked with a ‘=>’ in front of the
parameter type, e.g. (x: => Int). The argument corresponding to a
by-name parameter is evaluated not before the method is invoked, but
each time the parameter is referenced by name inside the method.
class A class is defined with the class keyword. A class may either be
abstract or concrete. A class may be parameterized with types and
values when instantiated. In “new Array[String](2),” the class
being instantiated is Array and the type of the value that results is
Array[String]. A class that takes type parameters is called a type
constructor. A type can be said to have a class as well, as in: the class
of type Array[String] is Array.
closure A closure is a function object that captures free variables, and is
said to be “closed” over the variables visible at the time it is created.
companion class A class that shares the same name with a singleton object
defined in the same source file. The class is the singleton object’s
companion class.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Glossary 532
companion object A singleton object that shares the same name with a
class defined in the same source file. Companion objects and classes
have access to each other’s private members. In addition, any implicit
conversions defined in the companion object will be in scope anywhere
the class is used.
currying Currying is a way to write functions with multiple parameter lists.
For instance def f(x: Int)(y: Int) is a curried function with two
parameter lists. A curried function is applied by passing several arguments
lists, as in: f(3)(4). However, it is also possible to write a
partial application of a curried function, such as f(3).
declare You can declare an abstract field, method, or type, which gives an
entity a name but not an implementation. The key difference between
declarations and definitions is that definitions establish an implementation
for the named entity, declarations do not.
define To define something in a Scala program is to give it a name and
an implementation. You can define classes, traits, singleton objects,
fields, methods, local functions, local variables, etc. Because definitions
always involve some kind of implementation, abstract members
are declared not defined.
direct subclass A class is a direct subclass of its direct superclass.
direct superclass A class’s direct superclass is the class from which it
is immediately derived, the nearest class above it in its inheritance
hierarchy. If a class Parent is mentioned in a class Child’s optional
extends clause, then Parent is the direct superclass of Child.
If a trait is mentioned in a Child’s extends clause, or Child has
no extends clause, then AnyRef is the direct superclass of Child.
If a class’s direct superclass takes type parameters, for example
class Child extends Parent[String], the direct superclass of
Child is still Parent, not Parent[String]. On the other hand,
Parent[String] would be a direct supertype of Child. See supertype
for more discussion of the distinction between class and type.)
equality When used without qualification, equality is the relation between
values expressed by ‘==’. See also reference equality.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Glossary 533
existential type todo
expression An expression is any bit of Scala code that yields a result. You
can also say that an expression evaluates to or results in a result.
filter A filter is an if followed by a boolean expression in a for expression.
For example, in for(i <1
to 10; if i % 2 == 0), the filter is
“if i%2 == 0.” The value to the right of the if is the filter expression.
filter expression A filter expression is the boolean expression
following an if in a for expression. For example, in
for(i <1
to 10; if i % 2 == 0), the filter expression is
“i % 2 == 0.”
first-class function Scala supports first-class functions, which means
you can express functions in function literal syntax, such as
(x: Int) => x + 1, and that functions can be represented by objects,
called function values.
free variable A free variable of an expression is a variable that’s used inside
the expression but that is not defined inside the expression. For
instance, in the function literal expression (x: Int) => (x, y), both
variables x and y are used, but only y is free, because it is not defined
in the expression.
function A function can be invoked with a list of arguments to produce a
result. A function has a parameter list, a body, and a result type.
Functions that are members of a class, trait, or singleton object are
called methods. Functions defined inside other functions are called
local functions. Methods with the result type of Unit are called procedures.
A function created with function literal syntax is called a
function value.
function literal A function with no name in Scala source code, specified
with function literal syntax. For example, (x: Int, y: Int) => x + y.
function value A function value is a function object and can be invoked just
like any other function. A function value’s class extends one of the
FunctionN traits (e.g., Function0, Function1) from package scala,
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Glossary 534
and is usually expressed in source code via function literal syntax.
A function value is “invoked” when its apply method is called. A
function value that captures free variables is a closure.
functional style The functional style of programming is characterized by
passing function values into looping methods, immutable data, methods
with no side effects. It is the dominant paradigm of languages such
as Haskell and Erlang, and contrasts with the imperative style.
generator A generator defines a named val and assigns to it a series of
values in a for expression. For example, in for(i <1
to 10), the
generator is “i <1
to 10.” The value to the right of the <is
the
generator expression.
generator expression A generator expression generates a series of values
in a for expression. For example, in for(i <1
to 10), the generator
expression is “1 to 10.”
generic class A generic class is a class that takes type parameters. For example,
because scala.List takes a type parameter, scala.List is a
generic class.
generic trait A generic trait is a trait that takes type parameters. For
example, because scala.collection.Set takes a type parameter,
scala.collection.Set is a generic trait.
helper method A helper method is a method whose purpose is to provide
a service to one or more other methods nearby. Helper methods are
often implemented as local functions.
immutable An object is immutable if its value cannot be changed after it
is created in any way visible to clients. Objects may or may not be
immutable.
imperative style The imperative style of programming is characterized by
iteration with loops, mutating data in place, and methods with side
effects. It is the dominant paradigm of languages such as C, C++, C#
and Java, and contrasts with the functional style.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Glossary 535
initialize When a variable is defined in Scala source code, you must initialize
it with an object.
instance An instance, or class instance, is an object, a concept that exists
only at runtime.
instantiate To instantiate a class is to make a new object from a class
blueprint, an action that happens only at runtime.
invoke You can invoke a method, function, or closure on arguments, meaning
its body will be executed with the specified arguments.
JVM The JVM is the Java Virtual Machine, or runtime, that hosts a running
Scala program.
literal 1, "One", and (x: Int) => x + 1 are examples of literals. A literal
is a shorthand way to describe an object, where the shorthand exactly
mirrors the structure of the created object.
local variable A local variable is a val or var defined inside a block. Although
similar to local variables, parameters to functions are not referred
to as local variables, but simply as parameters or “variables”
without the “local.”
member A member is any named element of the template of a class, trait,
or singleton object. A member may be accessed with the name of its
owner, a dot, and its simple name. For example, top-level fields and
methods defined in a class are members of that class. A trait defined
inside a class is a member of its enclosing class. A type defined with
the type keyword in a class is a member of that class. A class is a
member of the package in which is it defined. By contrast, a local
variable or local function is not a member of its surrounding block.
meta-programming Meta-programming software is software whose input
is itself software. Compilers are meta-programs, as are tools like ScalaDoc.
Meta-programming software is required in order to do anything
with an annotation.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Glossary 536
method A method is a function that is a member of some class, trait, or
singleton object.
mixin Mixin is what a trait is called when it is being used in a mixin composition.
In other words, in “trait Hat,” Hat is just a trait, but in
“new Cat extends AnyRef with Hat,” Hat can be called a mixin.
When used as a verb, “mix in” is two words. For example, you can
mix traits into classes or other traits.
mixin composition Mixin composition is the process of mixing traits into
classes or other traits. Mixin composition differs from multiple inheritance
in that the type of the super reference is not known at the point
the trait is defined, but rather is determined anew each time the trait is
mixed into a class or other trait.
modifier A modifier is a keywords that qualifies a class, trait, field, or
method definition in some way. For example, the private modifier
indicates that a class, trait, field, or method being defined is private.
multiple definitions The same expression can be assigned in multiple definitions
if you use the syntax val v1, v2, v3 = exp.
operation In Scala, every operation is a method call. Methods may be invoked
in operator notation, such as b + 2, and when in that notation, +
is an operator.
parameter Functions may take zero to many parameters. Each parameter
has a name and a type. The difference between parameters and arguments
is that arguments refer to the actual objects passed when a
function is invoked. Parameters are the variables that refer to those
passed arguments.
parameterless function A parameterless function is a function that takes
no parameters, and is defined without any empty parentheses. Invocations
of parameterless functions may not supply parentheses. This
supports the uniform access principle, which enables the def to be
changed into a val without requiring a change to client code.
parametric field A parametric field is a field defined as a class parameter.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Glossary 537
partially applied function A partially applied function is a function that’s
used in an expression and that misses some of its arguments. For instance,
if function f has type Int => Int => Int, then f as well as
f(1) are partially applied functions.
pattern In a match expression alternative, a pattern follows each case keyword
and precedes either a pattern guard or the => symbol.
pattern guard In a match expression alternative, a pattern guard can follow
a pattern. For example, in “case x if x % 2 == 0 => x + 1,” the pattern
guard is “if x % 2 == 0.” The case with a pattern guard will only be
selected if the pattern matches and the pattern guard yields true.
predicate A predicate is a first-class function with a result type of Boolean.
primary constructor The main constructor of a class, which invokes a superclass
constructor, if necessary, initializes fields for any value parameters
not passed to the superclass constructor to passed values, except
any that are not used in the body of the class and can therefore by
optimized away, and executes any top-level code defined in between
the curly braces of the class, but outside any field and method definitions.
procedure A procedure is a method with result type Unit, which would
therefore be executed for its side effects.
reassignable A variable may or may not be reassignable. A var is reassignable
while a val is not.
recursive A function is recursive if it calls itself. If the only place the function
calls itself is the last expression of the function, then the function
is tail recursive.
reference A reference is the Java abstraction of a pointer, which uniquely
identifies an object that resides on the JVM’s heap. Reference type
variables hold references to objects, because reference types (instances
of AnyRef) are implemented as Java objects that reside on the JVM’s
heap. Value type variables, by contrast, may sometimes hold a reference
(to a boxed wrapper type) and sometimes not (when the object
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Glossary 538
is being represented as a primitive value). Speaking generally, a Scala
variable refers to an object. The term “refers” is more abstract than
“holds a reference.” If a variable of type scala.Int is currently represented
as a primitive Java int value, then that variable still refers to
the Int object, but no reference is involved.
reference equality Reference equality means that two references identify
the very same Java object. Reference equality can be determined, for
reference types only, by calling eq in AnyRef. (In Java programs, reference
equality can be determined using == on Java reference types.)
reference type A reference type is a subclass of AnyRef. Instances of reference
types always reside on the JVM’s heap at runtime.
refers A variable in a running Scala program always refers to some object.
Even if that variable is assigned to null, it conceptually refers to the
Null object. At runtime, an object may be implemented by a Java
object or a value of a primitive type, but Scala allows programmers to
think at a higher level of abstraction about their code as they imagine
it running. See also reference.
result An expression in a Scala program yields a result. The result of every
expression in Scala is an object.
result type A method’s result type is the type of the value that results from
calling the method. (In Java, this concept is called the return type.)
return A function in a Scala program returns a value. You can call this
value the result of the function. You can also say the function results
in the value. The result of every function in Scala is an object.
runtime The runtime is the Java Virtual Machine, or JVM, that hosts a running
Scala program. Runtime encompasses both the virtual machine,
as defined by the Java Virtual Machine Specification, and the runtime
libraries of the Java API and the standard Scala API. The phrase at
runtime means when the program is running, and contrasts with compile
time.
runtime type A runtime type is the type of an object at runtime. To contrast,
a static type is the type of an expression at compile time. Most
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Glossary 539
runtime types are simply bare classes with no type parameters. For
example, the runtime type of "Hi" is String, and the runtime type of
(x: Int) => x+1 is Function1. Runtime types can be tested with the
isInstanceOf method.
script A file containing top levels statements and definitions, which can be
run directly with scala without explicitly compiling. A script must
end in an expression, not a definition.
selector A selector is the value being matched on in a match expression.
For example, in “s match { case _ => }”, the selector is s.
self type A self type of a trait is the assumed type of this, the receiver,
to be used within the trait. Any concrete class that mixes in the trait
must ensure that its type conforms to the trait’s self type. The most
common use of self types is for dividing a large class into several traits
as described in Chapter 25.
semi-structured data XML data is semi-structured. It is more structured
than a flat binary file or text file, but it does not have the full structure
of a programming language’s data structures. text
serialization You can serialize an object into a byte stream which can then
be saved to files or transmitted over the network. You can later deserialize
the byte stream, even on different computer, and obtain an object
that is the same as the original serialized object.
shadow A new declaration of a local variable shadows one of the same name
in an enclosing scope.
signature A function’s signature comprises its name, the number, order, and
types of its parameters, if any, and its result type.
singleton object A singleton object is an object defined with the object
keyword. A singleton object has one and only one instance. A singleton
object that shares its name with a class, and defined in the same
source file as that class, is that class’s companion object. The class is
its companion class. A singleton object that doesn’t have a companion
class is a standalone object.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Glossary 540
standalone object A standalone object is a singleton object that has no
companion class.
statement A statement is a bit of Scala code that is executed for its sideeffects.
static type See type.
subclass A class is a subclass of all of its superclasses and supertraits.
subtrait A trait is a subtrait of all of its supertraits.
subtype The Scala compiler will allow any of a type’s subtypes to be used
as a substitute wherever that type is required. For classes and traits
that take no type parameters, the subtype relationship mirrors the subclass
relationship. For example, if class Cat is a subclass of abstract
class Animal, and neither takes type parameters, type Cat is a subtype
of type Animal. Likewise, if trait Apple is a subtrait of trait
Fruit, and niether takes type parameters, type Apple is a subtype of
type Fruit. For classes and traits that take type parameters, however,
variance comes into play. For example, because abstract class List
is declared to be covariant in its lone type parameter (i.e., List is
declared List[+A]), List[Cat] is a subtype of List[Animal], and
List[Apple] a subtype of List[Fruit]. These subtype relationships
exist even though the class of each of these types is List. By contrast,
because Set is not declared to be covariant in its type parameter (i.e.,
Set is declared Set[A] with no plus sign), Set[Cat] is not a subtype
of Set[Animal]. The term “subtype” does not imply that a class
or trait correcly implements the contracts of its supertypes, which is
required for the Liskov substitution principle to work, just that the
compiler will allow such subsitution of the type where a supertype is
required. If a class does not correctly implement the contract of its direct
superclass, for example, it can be said that the class is not a valid
subclass of its superclass. It is still a subclass, just not a “valid” one,
of its superclass.
superclass A class’s superclasses includes its direct superclass, its direct
superclass’s direct superclass, and so on, all the way up to Any.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Glossary 541
supertrait A class’s or trait’s supertraits, if any, include all traits directly
mixed into the class or trait or any of its superclasses, plus any supertraits
of those traits.
supertype A type is a supertype of all of its subtypes.
synthetic class A synthetic class is generated automatically by the compiler
rather than being written by hand by the programmer.
tail recursive A function is tail recursive if the only place the function calls
itself is the last operation of the function.
target typing Target typing is a form of type inference that takes
into account the type that’s expected. For example, in
nums.filter((x) => x > 0), the Scala compiler infers type of x to
be the element type of nums, because the filter method invokes the
function on each element of nums.
template A template is the body of a class, trait, or singleton object definition.
It defines the interface, behavior and initial state of the class,
trait, or object.
trait A trait, which is defined with the trait keyword, is like an abstract
class that cannot take any value parameters and can be “mixed into”
classes or other traits via the process known as mixin composition.
When a trait is being mixed into a class or trait, it is called a mixin. A
trait may be parameterized with one or more types. When parameterized
with types, the trait constructs a type. For example, Set is a trait
that takes a single type parameter, whereas Set[Int] is a type. Also,
Set is said to be “the trait of” type Set[Int].
type Every variable and expression in a Scala program has a type that is
known at compile time. A type restricts the possible values to which a
variable can refer, or an expression can produce, at runtime. A variable
or expressions’s type can also be referred to as a static type if necessary
to differentiate it from an object’s runtime type. In other words,
“type” by itself means static type. Type is distinct from class because
a class that takes type parameters can construct many types. For example,
List is a class, but not a type. List[T] is a type with a free
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Glossary 542
type parameter. List[Int] and List[String] are also types (called
ground types because they have no free type parameters). A type can
have a “class” or “trait.” For example, the class of type List[Int] is
List. The trait of type Set[String] is Set.
type constraint Some annotations are type constraints, meaning that they
add additional limits, or constraints, on what values the type includes.
A typical example is that @positive could be a type constraint on
the type Int, limiting the type of 32-bit integers down to those that
are positive. Type constraints are not checked by the standard Scala
compiler, but must instead be checked by an extra tool or by a compiler
plugin.
uniform access principle The uniform access principle states that variables
and parameterless functions should be accessed using the same syntax.
Scala supports this principle by not allowing parentheses to be placed
at call sites of parameterless functions. As a result, a parameterless
function definition can be changed to a val, or vice versa, without
affecting client code.
unreachable At the Scala level, objects can become unreachable, after
which the memory they occupy may be reclaimed by the runtime.
Unreachable does not necessarily mean unreferenced. Reference
types (instances of AnyRef) are implemented as objects that reside
on the JVM’s heap. When an instance of a reference type becomes
unreachable, it indeed becomes unreferenced, and is available for
garbage collection. Value types (instances of AnyVal) are implemented
as both primitive type values and Java wrapper types (such
as java.lang.Integer), which reside on the heap. Value type instances
can be boxed (converted from a primitive value to a wrapper
object) and unboxed (converted from a wrapper object to a primitive
value) throughout the lifetime of the variables that refer to them. If a
value type instance currently represented as a wrapper object on the
JVM’s heap becomes unreachable, it indeed becomes unreferenced,
and is available for garbage collection. But if a value type currently
represented as a primitive value becomes unreachable, then it does not
become unreferenced, because it does not exist as an object on the
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Glossary 543
JVM’s heap at that point in time. The runtime may reclaim memory
occupied by unreachable objects, but if an Int, for example, is
implemented at runtime by a primitive Java int that occupies some
memory in the stack frame of an executing method, then the memory
for that object is “reclaimed” when the stack frame is popped when
the method completes. Memory for reference types, such as Strings,
may be reclaimed by the JVM’s garbage collector after they become
unreachable.
unreferenced See unreachable.
value The result of any computation or expression in Scala is a value, and
in Scala, every value is an object. The term value essentially means
the image of an object in memory (on the JVM’s heap or stack).
value type A value type is any subclass of AnyVal, such as Int, Double, or
Unit. This term has meaning at the level of Scala source code. At runtime,
instances of value types that correspond to Java primitive types
may be implemented in terms of primitive type values or instances of
wrapper types, such as java.lang.Integer. Over the lifetime of a
value type instance, the runtime may transform it back and forth between
primitive and wrapper types (i.e., to box and unbox it) many
times.
variable A variable is a named entity that refers to an object. A variable is
either a val or a var. Both vals and vars must be initialized when
defined, but only vars can be later reassigned to refer to a different
object.
yield An expression can yield a result. The yield keyword designates the
result of a for expression.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Bibliography
[Abe96] Abelson, Harold and Gerald Jay Sussman. Structure and Interpretation
of Computer Programs. The MIT Press, second edition,
1996.
[Emi07] Emir, Burak, Martin Odersky, and John Williams. “Matching Objects
With Patterns.” In Proc. ECOOP, Springer LNCS, pages 273–
295. July 2007.
[Gam94] Gamma, Erich, Richard Helm, Ralph Johnson, and John Vlissides.
Design Patterns : Elements of Reusable Object-Oriented Software.
Addison-Wesley, 1994.
[Kay96] Kay, Alan C. “The Early History of Smalltalk.” In History of
programming languages—II, pages 511–598. ACM, New York, NY,
USA, 1996. ISBN 0-201-89502-1. doi:http://doi.acm.org/10.1145/
234286.1057828.
[Lan66] Landin, Peter J. “The Next 700 Programming Languages.” Communications
of the ACM, 9(3):157–166, 1966.
[Ode03] Odersky, Martin, Vincent Cremet, Christine Röckl, and Matthias
Zenger. “A Nominal Theory of Objects with Dependent Types.” In
Proc. ECOOP’03, Springer LNCS, pages 201–225. July 2003.
[Ode05] Odersky, Martin and Matthias Zenger. “Scalable Component Abstractions.”
In Proceedings of OOPSLA, pages 41–58. October
2005.
[Ray99] Raymond, Eric. The Cathedral & the Bazaar: Musings on Linux
and Open Source by an Accidental Revolutionary. O’Reilly, 1999.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
Bibliography 545
[Ste99] Steele, Jr., Guy L. “Growing a Language.” Higher-Order and Symbolic
Computation, 12:221–223, 1999. Transcript of a talk given at
OOPSLA 1998.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
About the Authors
Martin Odersky
Martin Odersky is the creator of the Scala language. As a professor at EPFL
in Lausanne, Switzerland he is working on programming languages, more
specifically languages for object-oriented and functional programming. His
research thesis is that the two paradigms are two sides of the same coin, to
be identified as much as possible. To prove this, he has experimented with
a number of language designs, from Pizza to GJ to Functional Nets. He has
also influenced the development of Java as a co-designer of Java generics
and as the original author of the current javac reference compiler. Since
2001 he has concentrated on designing, implementing, and refining the Scala
programming language.
Lex Spoon
Lex Spoon worked on Scala for two years as a post-doc at EPFL. He has
a Ph.D. in computer science from Georgia Tech. His research is on programming
environments and on better support for distributed development.
In addition to Scala, he has worked on a wide variety of languages, ranging
from the dynamic language Smalltalk to the scientific language X10. He and
his wife live in Atlanta with two cats, a chihuahua, and a turtle.
Bill Venners
Bill Venners is president of Artima, Inc., publisher of Artima Developer
(www.artima.com). He is author of the book, Inside the Java Virtual Ma-
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss
About the Authors 547
chine, a programmer-oriented survey of the Java platform’s architecture and
internals. His popular columns in JavaWorld magazine covered Java internals,
object-oriented design, and Jini. Active in the Jini Community since
its inception, Bill led the Jini Community’s ServiceUI project, whose ServiceUI
API became the de facto standard way to associate user interfaces to
Jini services. Bill is also the lead developer and designer of ScalaTest, an
open source testing tool for Scala and Java developers.
Cover · Overview · Contents · Discuss · Suggest · Glossary · Index Prepared for jacques weiss

He now came to a road branching in four directions, and immediately he
was reminded of those cross-roads where knights-errant used to stop to
consider which road they should take. In imitation of them he halted
for a while, and after having deeply considered it, he gave Rocinante
his head, submitting his own will to that of his hack, who followed out
his first intention, which was to make straight for his own stable.
After he had gone about two miles Don Quixote perceived a large party
of people, who, as afterwards appeared, were some Toledo traders, on
their way to buy silk at Murcia. There were six of them coming along
under their sunshades, with four servants mounted, and three muleteers
on foot. Scarcely had Don Quixote descried them when the fancy
possessed him that this must be some new adventure; and to help him to
imitate as far as he could those passages he had read of in his books,
here seemed to come one made on purpose, which he resolved to attempt.
So with a lofty bearing and determination he fixed himself firmly in
his stirrups, got his lance ready, brought his buckler before his
breast, and planting himself in the middle of the road, stood waiting
the approach of these knights-errant, for such he now considered and
held them to be; and when they had come near enough to see and hear, he
exclaimed with a haughty gesture, “All the world stand, unless all the
world confess that in all the world there is no maiden fairer than the
Empress of La Mancha, the peerless Dulcinea del Toboso.”

The traders halted at the sound of this language and the sight of the
strange figure that uttered it, and from both figure and language at
once guessed the craze of their owner; they wished, however, to learn
quietly what was the object of this confession that was demanded of
them, and one of them, who was rather fond of a joke and was very
sharp-witted, said to him, “Sir Knight, we do not know who this good
lady is that you speak of; show her to us, for, if she be of such
beauty as you suggest, with all our hearts and without any pressure we
will confess the truth that is on your part required of us.”

“If I were to show her to you,” replied Don Quixote, “what merit would
you have in confessing a truth so manifest? The essential point is that
without seeing her you must believe, confess, affirm, swear, and defend
it; else ye have to do with me in battle, ill-conditioned, arrogant
rabble that ye are; and come ye on, one by one as the order of
knighthood requires, or all together as is the custom and vile usage of
your breed, here do I bide and await you relying on the justice of the
cause I maintain.”

“Sir Knight,” replied the trader, “I entreat your worship in the name
of this present company of princes, that, to save us from charging our
consciences with the confession of a thing we have never seen or heard
of, and one moreover so much to the prejudice of the Empresses and
Queens of the Alcarria and Estremadura, your worship will be pleased to
show us some portrait of this lady, though it be no bigger than a grain
of wheat; for by the thread one gets at the ball, and in this way we
shall be satisfied and easy, and you will be content and pleased; nay,
I believe we are already so far agreed with you that even though her
portrait should show her blind of one eye, and distilling vermilion and
sulphur from the other, we would nevertheless, to gratify your worship,
say all in her favour that you desire.”

“She distils nothing of the kind, vile rabble,” said Don Quixote,
burning with rage, “nothing of the kind, I say, only ambergris and
civet in cotton; nor is she one-eyed or humpbacked, but straighter than
a Guadarrama spindle: but ye must pay for the blasphemy ye have uttered
against beauty like that of my lady.”

And so saying, he charged with levelled lance against the one who had
spoken, with such fury and fierceness that, if luck had not contrived
that Rocinante should stumble midway and come down, it would have gone
hard with the rash trader. Down went Rocinante, and over went his
master, rolling along the ground for some distance; and when he tried
to rise he was unable, so encumbered was he with lance, buckler, spurs,
helmet, and the weight of his old armour; and all the while he was
struggling to get up he kept saying, “Fly not, cowards and caitiffs!
stay, for not by my fault, but my horse’s, am I stretched here.”



p020.jpg (352K)

Full Size




One of the muleteers in attendance, who could not have had much good
nature in him, hearing the poor prostrate man blustering in this style,
was unable to refrain from giving him an answer on his ribs; and coming
up to him he seized his lance, and having broken it in pieces, with one
of them he began so to belabour our Don Quixote that, notwithstanding
and in spite of his armour, he milled him like a measure of wheat. His
masters called out not to lay on so hard and to leave him alone, but
the muleteers blood was up, and he did not care to drop the game until
he had vented the rest of his wrath, and gathering up the remaining
fragments of the lance he finished with a discharge upon the unhappy
victim, who all through the storm of sticks that rained on him never
ceased threatening heaven, and earth, and the brigands, for such they
seemed to him. At last the muleteer was tired, and the traders
continued their journey, taking with them matter for talk about the
poor fellow who had been cudgelled. He when he found himself alone made
another effort to rise; but if he was unable when whole and sound, how
was he to rise after having been thrashed and well-nigh knocked to
pieces? And yet he esteemed himself fortunate, as it seemed to him that
this was a regular knight-errant’s mishap, and entirely, he considered,
the fault of his horse. However, battered in body as he was, to rise
was beyond his power.



e04.jpg (28K)



CHAPTER V.
IN WHICH THE NARRATIVE OF OUR KNIGHT’S MISHAP IS CONTINUED




p022.jpg (123K)

Full Size




Finding, then, that, in fact he could not move, he thought himself of
having recourse to his usual remedy, which was to think of some passage
in his books, and his craze brought to his mind that about Baldwin and
the Marquis of Mantua, when Carloto left him wounded on the
mountainside, a story known by heart by the children, not forgotten by
the young men, and lauded and even believed by the old folk; and for
all that not a whit truer than the miracles of Mahomet. This seemed to
him to fit exactly the case in which he found himself, so, making a
show of severe suffering, he began to roll on the ground and with
feeble breath repeat the very words which the wounded knight of the
wood is said to have uttered:

Where art thou, lady mine, that thou
My sorrow dost not rue?
Thou canst not know it, lady mine,
Or else thou art untrue.


And so he went on with the ballad as far as the lines:

O noble Marquis of Mantua,
My Uncle and liege lord!



p026.jpg (316K)

Full Size




As chance would have it, when he had got to this line there happened to
come by a peasant from his own village, a neighbour of his, who had
been with a load of wheat to the mill, and he, seeing the man stretched
there, came up to him and asked him who he was and what was the matter
with him that he complained so dolefully.

Don Quixote was firmly persuaded that this was the Marquis of Mantua,
his uncle, so the only answer he made was to go on with his ballad, in
which he told the tale of his misfortune, and of the loves of the
Emperor’s son and his wife all exactly as the ballad sings it.

The peasant stood amazed at hearing such nonsense, and relieving him of
the visor, already battered to pieces by blows, he wiped his face,
which was covered with dust, and as soon as he had done so he
recognised him and said, “Señor Quixada” (for so he appears to have
been called when he was in his senses and had not yet changed from a
quiet country gentleman into a knight-errant), “who has brought your
worship to this pass?” But to all questions the other only went on with
his ballad.

Seeing this, the good man removed as well as he could his breastplate
and backpiece to see if he had any wound, but he could perceive no
blood nor any mark whatever. He then contrived to raise him from the
ground, and with no little difficulty hoisted him upon his ass, which
seemed to him to be the easiest mount for him; and collecting the arms,
even to the splinters of the lance, he tied them on Rocinante, and
leading him by the bridle and the ass by the halter he took the road
for the village, very sad to hear what absurd stuff Don Quixote was
talking.



p029.jpg (285K)

Full Size




Nor was Don Quixote less so, for what with blows and bruises he could
not sit upright on the ass, and from time to time he sent up sighs to
heaven, so that once more he drove the peasant to ask what ailed him.
And it could have been only the devil himself that put into his head
tales to match his own adventures, for now, forgetting Baldwin, he
bethought himself of the Moor Abindarraez, when the Alcaide of
Antequera, Rodrigo de Narvaez, took him prisoner and carried him away
to his castle; so that when the peasant again asked him how he was and
what ailed him, he gave him for reply the same words and phrases that
the captive Abindarraez gave to Rodrigo de Narvaez, just as he had read
the story in the “Diana” of Jorge de Montemayor where it is written,
applying it to his own case so aptly that the peasant went along
cursing his fate that he had to listen to such a lot of nonsense; from
which, however, he came to the conclusion that his neighbour was mad,
and so made all haste to reach the village to escape the wearisomeness
of this harangue of Don Quixote’s; who, at the end of it, said, “Señor
Don Rodrigo de Narvaez, your worship must know that this fair Xarifa I
have mentioned is now the lovely Dulcinea del Toboso, for whom I have
done, am doing, and will do the most famous deeds of chivalry that in
this world have been seen, are to be seen, or ever shall be seen.”

To this the peasant answered, “Señor—sinner that I am!—cannot your
worship see that I am not Don Rodrigo de Narvaez nor the Marquis of
Mantua, but Pedro Alonso your neighbour, and that your worship is
neither Baldwin nor Abindarraez, but the worthy gentleman Señor
Quixada?”

“I know who I am,” replied Don Quixote, “and I know that I may be not
only those I have named, but all the Twelve Peers of France and even
all the Nine Worthies, since my achievements surpass all that they have
done all together and each of them on his own account.”

With this talk and more of the same kind they reached the village just
as night was beginning to fall, but the peasant waited until it was a
little later that the belaboured gentleman might not be seen riding in
such a miserable trim. When it was what seemed to him the proper time
he entered the village and went to Don Quixote’s house, which he found
all in confusion, and there were the curate and the village barber, who
were great friends of Don Quixote, and his housekeeper was saying to
them in a loud voice, “What does your worship think can have befallen
my master, Señor Licentiate Pero Perez?” for so the curate was called;
“it is three days now since anything has been seen of him, or the hack,
or the buckler, lance, or armour. Miserable me! I am certain of it, and
it is as true as that I was born to die, that these accursed books of
chivalry he has, and has got into the way of reading so constantly,
have upset his reason; for now I remember having often heard him saying
to himself that he would turn knight-errant and go all over the world
in quest of adventures. To the devil and Barabbas with such books, that
have brought to ruin in this way the finest understanding there was in
all La Mancha!”

The niece said the same, and, more: “You must know, Master
Nicholas”—for that was the name of the barber—“it was often my uncle’s
way to stay two days and nights together poring over these unholy books
of misventures, after which he would fling the book away and snatch up
his sword and fall to slashing the walls; and when he was tired out he
would say he had killed four giants like four towers; and the sweat
that flowed from him when he was weary he said was the blood of the
wounds he had received in battle; and then he would drink a great jug
of cold water and become calm and quiet, saying that this water was a
most precious potion which the sage Esquife, a great magician and
friend of his, had brought him. But I take all the blame upon myself
for never having told your worships of my uncle’s vagaries, that you
might put a stop to them before things had come to this pass, and burn
all these accursed books—for he has a great number—that richly deserve
to be burned like heretics.”

“So say I too,” said the curate, “and by my faith to-morrow shall not
pass without public judgment upon them, and may they be condemned to
the flames lest they lead those that read to behave as my good friend
seems to have behaved.”

All this the peasant heard, and from it he understood at last what was
the matter with his neighbour, so he began calling aloud, “Open, your
worships, to Señor Baldwin and to Señor the Marquis of Mantua, who
comes badly wounded, and to Señor Abindarraez, the Moor, whom the
valiant Rodrigo de Narvaez, the Alcaide of Antequera, brings captive.”

At these words they all hurried out, and when they recognised their
friend, master, and uncle, who had not yet dismounted from the ass
because he could not, they ran to embrace him.

“Hold!” said he, “for I am badly wounded through my horse’s fault;
carry me to bed, and if possible send for the wise Urganda to cure and
see to my wounds.”

“See there! plague on it!” cried the housekeeper at this: “did not my
heart tell the truth as to which foot my master went lame of? To bed
with your worship at once, and we will contrive to cure you here
without fetching that Hurgada. A curse I say once more, and a hundred
times more, on those books of chivalry that have brought your worship
to such a pass.”

They carried him to bed at once, and after searching for his wounds
could find none, but he said they were all bruises from having had a
severe fall with his horse Rocinante when in combat with ten giants,
the biggest and the boldest to be found on earth.

“So, so!” said the curate, “are there giants in the dance? By the sign
of the Cross I will burn them to-morrow before the day is over.”

They put a host of questions to Don Quixote, but his only answer to all
was—give him something to eat, and leave him to sleep, for that was
what he needed most. They did so, and the curate questioned the peasant
at great length as to how he had found Don Quixote. He told him, and
the nonsense he had talked when found and on the way home, all which
made the licentiate the more eager to do what he did the next day,
which was to summon his friend the barber, Master Nicholas, and go with
him to Don Quixote’s house.



p031.jpg (31K)



CHAPTER VI.
OF THE DIVERTING AND IMPORTANT SCRUTINY WHICH THE CURATE AND THE BARBER
MADE IN THE LIBRARY OF OUR INGENIOUS GENTLEMAN




c06a.jpg (92K)

Full Size




He was still sleeping; so the curate asked the niece for the keys of
the room where the books, the authors of all the mischief, were, and
right willingly she gave them. They all went in, the housekeeper with
them, and found more than a hundred volumes of big books very well
bound, and some other small ones. The moment the housekeeper saw them
she turned about and ran out of the room, and came back immediately
with a saucer of holy water and a sprinkler, saying, “Here, your
worship, señor licentiate, sprinkle this room; don’t leave any magician
of the many there are in these books to bewitch us in revenge for our
design of banishing them from the world.”

The simplicity of the housekeeper made the licentiate laugh, and he
directed the barber to give him the books one by one to see what they
were about, as there might be some to be found among them that did not
deserve the penalty of fire.

“No,” said the niece, “there is no reason for showing mercy to any of
them; they have every one of them done mischief; better fling them out
of the window into the court and make a pile of them and set fire to
them; or else carry them into the yard, and there a bonfire can be made
without the smoke giving any annoyance.” The housekeeper said the same,
so eager were they both for the slaughter of those innocents, but the
curate would not agree to it without first reading at any rate the
titles.

The first that Master Nicholas put into his hand was “The four books of
Amadis of Gaul.” “This seems a mysterious thing,” said the curate,
“for, as I have heard say, this was the first book of chivalry printed
in Spain, and from this all the others derive their birth and origin;
so it seems to me that we ought inexorably to condemn it to the flames
as the founder of so vile a sect.”

“Nay, sir,” said the barber, “I too, have heard say that this is the
best of all the books of this kind that have been written, and so, as
something singular in its line, it ought to be pardoned.”

“True,” said the curate; “and for that reason let its life be spared
for the present. Let us see that other which is next to it.”

“It is,” said the barber, “the ‘Sergas de Esplandian,’ the lawful son
of Amadis of Gaul.”

“Then verily,” said the curate, “the merit of the father must not be
put down to the account of the son. Take it, mistress housekeeper; open
the window and fling it into the yard and lay the foundation of the
pile for the bonfire we are to make.”

The housekeeper obeyed with great satisfaction, and the worthy
“Esplandian” went flying into the yard to await with all patience the
fire that was in store for him.

“Proceed,” said the curate.

“This that comes next,” said the barber, “is ‘Amadis of Greece,’ and,
indeed, I believe all those on this side are of the same Amadis
lineage.”

“Then to the yard with the whole of them,” said the curate; “for to
have the burning of Queen Pintiquiniestra, and the shepherd Darinel and
his eclogues, and the bedevilled and involved discourses of his author,
I would burn with them the father who begot me if he were going about
in the guise of a knight-errant.”

“I am of the same mind,” said the barber.

“And so am I,” added the niece.

“In that case,” said the housekeeper, “here, into the yard with them!”

They were handed to her, and as there were many of them, she spared
herself the staircase, and flung them down out of the window.

“Who is that tub there?” said the curate.

“This,” said the barber, “is ‘Don Olivante de Laura.’”

“The author of that book,” said the curate, “was the same that wrote
‘The Garden of Flowers,’ and truly there is no deciding which of the
two books is the more truthful, or, to put it better, the less lying;
all I can say is, send this one into the yard for a swaggering fool.”

“This that follows is ‘Florismarte of Hircania,’” said the barber.

“Señor Florismarte here?” said the curate; “then by my faith he must
take up his quarters in the yard, in spite of his marvellous birth and
visionary adventures, for the stiffness and dryness of his style
deserve nothing else; into the yard with him and the other, mistress
housekeeper.”

“With all my heart, señor,” said she, and executed the order with great
delight.

“This,” said the barber, “is ‘The Knight Platir.’”

“An old book that,” said the curate, “but I find no reason for clemency
in it; send it after the others without appeal;” which was done.

Another book was opened, and they saw it was entitled, “The Knight of
the Cross.”

“For the sake of the holy name this book has,” said the curate, “its
ignorance might be excused; but then, they say, ‘behind the cross
there’s the devil;’ to the fire with it.”

Taking down another book, the barber said, “This is ‘The Mirror of
Chivalry.’”

“I know his worship,” said the curate; “that is where Señor Reinaldos
of Montalvan figures with his friends and comrades, greater thieves
than Cacus, and the Twelve Peers of France with the veracious historian
Turpin; however, I am not for condemning them to more than perpetual
banishment, because, at any rate, they have some share in the invention
of the famous Matteo Boiardo, whence too the Christian poet Ludovico
Ariosto wove his web, to whom, if I find him here, and speaking any
language but his own, I shall show no respect whatever; but if he
speaks his own tongue I will put him upon my head.”

“Well, I have him in Italian,” said the barber, “but I do not
understand him.”

“Nor would it be well that you should understand him,” said the curate,
“and on that score we might have excused the Captain if he had not
brought him into Spain and turned him into Castilian. He robbed him of
a great deal of his natural force, and so do all those who try to turn
books written in verse into another language, for, with all the pains
they take and all the cleverness they show, they never can reach the
level of the originals as they were first produced. In short, I say
that this book, and all that may be found treating of those French
affairs, should be thrown into or deposited in some dry well, until
after more consideration it is settled what is to be done with them;
excepting always one ‘Bernardo del Carpio’ that is going about, and
another called ‘Roncesvalles;’ for these, if they come into my hands,
shall pass at once into those of the housekeeper, and from hers into
the fire without any reprieve.”

To all this the barber gave his assent, and looked upon it as right and
proper, being persuaded that the curate was so staunch to the Faith and
loyal to the Truth that he would not for the world say anything opposed
to them. Opening another book he saw it was “Palmerin de Oliva,” and
beside it was another called “Palmerin of England,” seeing which the
licentiate said, “Let the Olive be made firewood of at once and burned
until no ashes even are left; and let that Palm of England be kept and
preserved as a thing that stands alone, and let such another case be
made for it as that which Alexander found among the spoils of Darius
and set aside for the safe keeping of the works of the poet Homer. This
book, gossip, is of authority for two reasons, first because it is very
good, and secondly because it is said to have been written by a wise
and witty king of Portugal. All the adventures at the Castle of
Miraguarda are excellent and of admirable contrivance, and the language
is polished and clear, studying and observing the style befitting the
speaker with propriety and judgment. So then, provided it seems good to
you, Master Nicholas, I say let this and ‘Amadis of Gaul’ be remitted
the penalty of fire, and as for all the rest, let them perish without
further question or query.”

“Nay, gossip,” said the barber, “for this that I have here is the
famous ‘Don Belianis.’”

“Well,” said the curate, “that and the second, third, and fourth parts
all stand in need of a little rhubarb to purge their excess of bile,
and they must be cleared of all that stuff about the Castle of Fame and
other greater affectations, to which end let them be allowed the
over-seas term, and, according as they mend, so shall mercy or justice
be meted out to them; and in the mean time, gossip, do you keep them in
your house and let no one read them.”

“With all my heart,” said the barber; and not caring to tire himself
with reading more books of chivalry, he told the housekeeper to take
all the big ones and throw them into the yard. It was not said to one
dull or deaf, but to one who enjoyed burning them more than weaving the
broadest and finest web that could be; and seizing about eight at a
time, she flung them out of the window.

In carrying so many together she let one fall at the feet of the
barber, who took it up, curious to know whose it was, and found it
said, “History of the Famous Knight, Tirante el Blanco.”

“God bless me!” said the curate with a shout, “‘Tirante el Blanco’
here! Hand it over, gossip, for in it I reckon I have found a treasury
of enjoyment and a mine of recreation. Here is Don Kyrieleison of
Montalvan, a valiant knight, and his brother Thomas of Montalvan, and
the knight Fonseca, with the battle the bold Tirante fought with the
mastiff, and the witticisms of the damsel Placerdemivida, and the loves
and wiles of the widow Reposada, and the empress in love with the
squire Hipolito—in truth, gossip, by right of its style it is the best
book in the world. Here knights eat and sleep, and die in their beds,
and make their wills before dying, and a great deal more of which there
is nothing in all the other books. Nevertheless, I say he who wrote it,
for deliberately composing such fooleries, deserves to be sent to the
galleys for life. Take it home with you and read it, and you will see
that what I have said is true.”

“As you will,” said the barber; “but what are we to do with these
little books that are left?”

“These must be, not chivalry, but poetry,” said the curate; and opening
one he saw it was the “Diana” of Jorge de Montemayor, and, supposing
all the others to be of the same sort, “these,” he said, “do not
deserve to be burned like the others, for they neither do nor can do
the mischief the books of chivalry have done, being books of
entertainment that can hurt no one.”

“Ah, señor!” said the niece, “your worship had better order these to be
burned as well as the others; for it would be no wonder if, after being
cured of his chivalry disorder, my uncle, by reading these, took a
fancy to turn shepherd and range the woods and fields singing and
piping; or, what would be still worse, to turn poet, which they say is
an incurable and infectious malady.”

“The damsel is right,” said the curate, “and it will be well to put
this stumbling-block and temptation out of our friend’s way. To begin,
then, with the ‘Diana’ of Montemayor. I am of opinion it should not be
burned, but that it should be cleared of all that about the sage
Felicia and the magic water, and of almost all the longer pieces of
verse: let it keep, and welcome, its prose and the honour of being the
first of books of the kind.”

“This that comes next,” said the barber, “is the ‘Diana,’ entitled the
‘Second Part, by the Salamancan,’ and this other has the same title,
and its author is Gil Polo.”

“As for that of the Salamancan,” replied the curate, “let it go to
swell the number of the condemned in the yard, and let Gil Polo’s be
preserved as if it came from Apollo himself: but get on, gossip, and
make haste, for it is growing late.”

“This book,” said the barber, opening another, “is the ten books of the
‘Fortune of Love,’ written by Antonio de Lofraso, a Sardinian poet.”

“By the orders I have received,” said the curate, “since Apollo has
been Apollo, and the Muses have been Muses, and poets have been poets,
so droll and absurd a book as this has never been written, and in its
way it is the best and the most singular of all of this species that
have as yet appeared, and he who has not read it may be sure he has
never read what is delightful. Give it here, gossip, for I make more
account of having found it than if they had given me a cassock of
Florence stuff.”

He put it aside with extreme satisfaction, and the barber went on,
“These that come next are ‘The Shepherd of Iberia,’ ‘Nymphs of
Henares,’ and ‘The Enlightenment of Jealousy.’”

“Then all we have to do,” said the curate, “is to hand them over to the
secular arm of the housekeeper, and ask me not why, or we shall never
have done.”

“This next is the ‘Pastor de Fílida.’”

“No Pastor that,” said the curate, “but a highly polished courtier; let
it be preserved as a precious jewel.”

“This large one here,” said the barber, “is called ‘The Treasury of
various Poems.’”

“If there were not so many of them,” said the curate, “they would be
more relished: this book must be weeded and cleansed of certain
vulgarities which it has with its excellences; let it be preserved
because the author is a friend of mine, and out of respect for other
more heroic and loftier works that he has written.”

“This,” continued the barber, “is the ‘Cancionero’ of Lopez de
Maldonado.”

“The author of that book, too,” said the curate, “is a great friend of
mine, and his verses from his own mouth are the admiration of all who
hear them, for such is the sweetness of his voice that he enchants when
he chants them: it gives rather too much of its eclogues, but what is
good was never yet plentiful: let it be kept with those that have been
set apart. But what book is that next it?”

“The ‘Galatea’ of Miguel de Cervantes,” said the barber.

“That Cervantes has been for many years a great friend of mine, and to
my knowledge he has had more experience in reverses than in verses. His
book has some good invention in it, it presents us with something but
brings nothing to a conclusion: we must wait for the Second Part it
promises: perhaps with amendment it may succeed in winning the full
measure of grace that is now denied it; and in the mean time do you,
señor gossip, keep it shut up in your own quarters.”

“Very good,” said the barber; “and here come three together, the
‘Araucana’ of Don Alonso de Ercilla, the ‘Austriada’ of Juan Rufo,
Justice of Cordova, and the ‘Montserrate’ of Christobal de Virués, the
Valencian poet.”

“These three books,” said the curate, “are the best that have been
written in Castilian in heroic verse, and they may compare with the
most famous of Italy; let them be preserved as the richest treasures of
poetry that Spain possesses.”

The curate was tired and would not look into any more books, and so he
decided that, “contents uncertified,” all the rest should be burned;
but just then the barber held open one, called “The Tears of Angelica.”

“I should have shed tears myself,” said the curate when he heard the
title, “had I ordered that book to be burned, for its author was one of
the famous poets of the world, not to say of Spain, and was very happy
in the translation of some of Ovid’s fables.”



c06e.jpg (30K)



CHAPTER VII.
OF THE SECOND SALLY OF OUR WORTHY KNIGHT DON QUIXOTE OF LA MANCHA




c07a.jpg (151K)

Full Size




At this instant Don Quixote began shouting out, “Here, here, valiant
knights! here is need for you to put forth the might of your strong
arms, for they of the Court are gaining the mastery in the tourney!”
Called away by this noise and outcry, they proceeded no farther with
the scrutiny of the remaining books, and so it is thought that “The
Carolea,” “The Lion of Spain,” and “The Deeds of the Emperor,” written
by Don Luis de Ávila, went to the fire unseen and unheard; for no doubt
they were among those that remained, and perhaps if the curate had seen
them they would not have undergone so severe a sentence.

When they reached Don Quixote he was already out of bed, and was still
shouting and raving, and slashing and cutting all round, as wide awake
as if he had never slept.

They closed with him and by force got him back to bed, and when he had
become a little calm, addressing the curate, he said to him, “Of a
truth, Señor Archbishop Turpin, it is a great disgrace for us who call
ourselves the Twelve Peers, so carelessly to allow the knights of the
Court to gain the victory in this tourney, we the adventurers having
carried off the honour on the three former days.”

“Hush, gossip,” said the curate; “please God, the luck may turn, and
what is lost to-day may be won to-morrow; for the present let your
worship have a care of your health, for it seems to me that you are
over-fatigued, if not badly wounded.”

“Wounded no,” said Don Quixote, “but bruised and battered no doubt, for
that bastard Don Roland has cudgelled me with the trunk of an oak tree,
and all for envy, because he sees that I alone rival him in his
achievements. But I should not call myself Reinaldos of Montalvan did
he not pay me for it in spite of all his enchantments as soon as I rise
from this bed. For the present let them bring me something to eat, for
that, I feel, is what will be more to my purpose, and leave it to me to
avenge myself.”

They did as he wished; they gave him something to eat, and once more he
fell asleep, leaving them marvelling at his madness.

That night the housekeeper burned to ashes all the books that were in
the yard and in the whole house; and some must have been consumed that
deserved preservation in everlasting archives, but their fate and the
laziness of the examiner did not permit it, and so in them was verified
the proverb that the innocent suffer for the guilty.

One of the remedies which the curate and the barber immediately applied
to their friend’s disorder was to wall up and plaster the room where
the books were, so that when he got up he should not find them
(possibly the cause being removed the effect might cease), and they
might say that a magician had carried them off, room and all; and this
was done with all despatch. Two days later Don Quixote got up, and the
first thing he did was to go and look at his books, and not finding the
room where he had left it, he wandered from side to side looking for
it. He came to the place where the door used to be, and tried it with
his hands, and turned and twisted his eyes in every direction without
saying a word; but after a good while he asked his housekeeper
whereabouts was the room that held his books.

The housekeeper, who had been already well instructed in what she was
to answer, said, “What room or what nothing is it that your worship is
looking for? There are neither room nor books in this house now, for
the devil himself has carried all away.”

“It was not the devil,” said the niece, “but a magician who came on a
cloud one night after the day your worship left this, and dismounting
from a serpent that he rode he entered the room, and what he did there
I know not, but after a little while he made off, flying through the
roof, and left the house full of smoke; and when we went to see what he
had done we saw neither book nor room: but we remember very well, the
housekeeper and I, that on leaving, the old villain said in a loud
voice that, for a private grudge he owed the owner of the books and the
room, he had done mischief in that house that would be discovered
by-and-by: he said too that his name was the Sage Muñaton.”

“He must have said Friston,” said Don Quixote.

“I don’t know whether he called himself Friston or Friton,” said the
housekeeper, “I only know that his name ended with ‘ton.’”

“So it does,” said Don Quixote, “and he is a sage magician, a great
enemy of mine, who has a spite against me because he knows by his arts
and lore that in process of time I am to engage in single combat with a
knight whom he befriends and that I am to conquer, and he will be
unable to prevent it; and for this reason he endeavours to do me all
the ill turns that he can; but I promise him it will be hard for him to
oppose or avoid what is decreed by Heaven.”

“Who doubts that?” said the niece; “but, uncle, who mixes you up in
these quarrels? Would it not be better to remain at peace in your own
house instead of roaming the world looking for better bread than ever
came of wheat, never reflecting that many go for wool and come back
shorn?”

“Oh, niece of mine,” replied Don Quixote, “how much astray art thou in
thy reckoning: ere they shear me I shall have plucked away and stripped
off the beards of all who dare to touch only the tip of a hair of
mine.”

The two were unwilling to make any further answer, as they saw that his
anger was kindling.

In short, then, he remained at home fifteen days very quietly without
showing any signs of a desire to take up with his former delusions, and
during this time he held lively discussions with his two gossips, the
curate and the barber, on the point he maintained, that knights-errant
were what the world stood most in need of, and that in him was to be
accomplished the revival of knight-errantry. The curate sometimes
contradicted him, sometimes agreed with him, for if he had not observed
this precaution he would have been unable to bring him to reason.

Meanwhile Don Quixote worked upon a farm labourer, a neighbour of his,
an honest man (if indeed that title can be given to him who is poor),
but with very little wit in his pate. In a word, he so talked him over,
and with such persuasions and promises, that the poor clown made up his
mind to sally forth with him and serve him as esquire. Don Quixote,
among other things, told him he ought to be ready to go with him
gladly, because any moment an adventure might occur that might win an
island in the twinkling of an eye and leave him governor of it. On
these and the like promises Sancho Panza (for so the labourer was
called) left wife and children, and engaged himself as esquire to his
neighbour.



c07b.jpg (322K)

Full Size




Don Quixote next set about getting some money; and selling one thing
and pawning another, and making a bad bargain in every case, he got
together a fair sum. He provided himself with a buckler, which he
begged as a loan from a friend, and, restoring his battered helmet as
best he could, he warned his squire Sancho of the day and hour he meant
to set out, that he might provide himself with what he thought most
needful. Above all, he charged him to take alforjas with him. The other
said he would, and that he meant to take also a very good ass he had,
as he was not much given to going on foot. About the ass, Don Quixote
hesitated a little, trying whether he could call to mind any
knight-errant taking with him an esquire mounted on ass-back, but no
instance occurred to his memory. For all that, however, he determined
to take him, intending to furnish him with a more honourable mount when
a chance of it presented itself, by appropriating the horse of the
first discourteous knight he encountered. Himself he provided with
shirts and such other things as he could, according to the advice the
host had given him; all which being done, without taking leave, Sancho
Panza of his wife and children, or Don Quixote of his housekeeper and
niece, they sallied forth unseen by anybody from the village one night,
and made such good way in the course of it that by daylight they held
themselves safe from discovery, even should search be made for them.

Sancho rode on his ass like a patriarch, with his alforjas and bota,
and longing to see himself soon governor of the island his master had
promised him. Don Quixote decided upon taking the same route and road
he had taken on his first journey, that over the Campo de Montiel,
which he travelled with less discomfort than on the last occasion, for,
as it was early morning and the rays of the sun fell on them obliquely,
the heat did not distress them.

And now said Sancho Panza to his master, “Your worship will take care,
Señor Knight-errant, not to forget about the island you have promised
me, for be it ever so big I’ll be equal to governing it.”

To which Don Quixote replied, “Thou must know, friend Sancho Panza,
that it was a practice very much in vogue with the knights-errant of
old to make their squires governors of the islands or kingdoms they
won, and I am determined that there shall be no failure on my part in
so liberal a custom; on the contrary, I mean to improve upon it, for
they sometimes, and perhaps most frequently, waited until their squires
were old, and then when they had had enough of service and hard days
and worse nights, they gave them some title or other, of count, or at
the most marquis, of some valley or province more or less; but if thou
livest and I live, it may well be that before six days are over, I may
have won some kingdom that has others dependent upon it, which will be
just the thing to enable thee to be crowned king of one of them. Nor
needst thou count this wonderful, for things and chances fall to the
lot of such knights in ways so unexampled and unexpected that I might
easily give thee even more than I promise thee.”

“In that case,” said Sancho Panza, “if I should become a king by one of
those miracles your worship speaks of, even Juana Gutierrez, my old
woman, would come to be queen and my children infantes.”

“Well, who doubts it?” said Don Quixote.

“I doubt it,” replied Sancho Panza, “because for my part I am persuaded
that though God should shower down kingdoms upon earth, not one of them
would fit the head of Mari Gutierrez. Let me tell you, señor, she is
not worth two maravedis for a queen; countess will fit her better, and
that only with God’s help.”

“Leave it to God, Sancho,” returned Don Quixote, “for he will give her
what suits her best; but do not undervalue thyself so much as to come
to be content with anything less than being governor of a province.”

“I will not, señor,” answered Sancho, “specially as I have a man of
such quality for a master in your worship, who will know how to give me
all that will be suitable for me and that I can bear.”



c07e.jpg (70K)



CHAPTER VIII.
OF THE GOOD FORTUNE WHICH THE VALIANT DON QUIXOTE HAD IN THE TERRIBLE
AND UNDREAMT-OF ADVENTURE OF THE WINDMILLS, WITH OTHER OCCURRENCES
WORTHY TO BE FITLY RECORDED




c08a.jpg (142K)

Full Size




At this point they came in sight of thirty or forty windmills that
there are on that plain, and as soon as Don Quixote saw them he said to
his squire, “Fortune is arranging matters for us better than we could
have shaped our desires ourselves, for look there, friend Sancho Panza,
where thirty or more monstrous giants present themselves, all of whom I
mean to engage in battle and slay, and with whose spoils we shall begin
to make our fortunes; for this is righteous warfare, and it is God’s
good service to sweep so evil a breed from off the face of the earth.”

“What giants?” said Sancho Panza.

“Those thou seest there,” answered his master, “with the long arms, and
some have them nearly two leagues long.”

“Look, your worship,” said Sancho; “what we see there are not giants
but windmills, and what seem to be their arms are the sails that turned
by the wind make the millstone go.”

“It is easy to see,” replied Don Quixote, “that thou art not used to
this business of adventures; those are giants; and if thou art afraid,
away with thee out of this and betake thyself to prayer while I engage
them in fierce and unequal combat.”

So saying, he gave the spur to his steed Rocinante, heedless of the
cries his squire Sancho sent after him, warning him that most certainly
they were windmills and not giants he was going to attack. He, however,
was so positive they were giants that he neither heard the cries of
Sancho, nor perceived, near as he was, what they were, but made at them
shouting, “Fly not, cowards and vile beings, for a single knight
attacks you.”

A slight breeze at this moment sprang up, and the great sails began to
move, seeing which Don Quixote exclaimed, “Though ye flourish more arms
than the giant Briareus, ye have to reckon with me.”

So saying, and commending himself with all his heart to his lady
Dulcinea, imploring her to support him in such a peril, with lance in
rest and covered by his buckler, he charged at Rocinante’s fullest
gallop and fell upon the first mill that stood in front of him; but as
he drove his lance-point into the sail the wind whirled it round with
such force that it shivered the lance to pieces, sweeping with it horse
and rider, who went rolling over on the plain, in a sorry condition.
Sancho hastened to his assistance as fast as his ass could go, and when
he came up found him unable to move, with such a shock had Rocinante
fallen with him.



c08b.jpg (358K)

Full Size




“God bless me!” said Sancho, “did I not tell your worship to mind what
you were about, for they were only windmills? and no one could have
made any mistake about it but one who had something of the same kind in
his head.”

“Hush, friend Sancho,” replied Don Quixote, “the fortunes of war more
than any other are liable to frequent fluctuations; and moreover I
think, and it is the truth, that that same sage Friston who carried off
my study and books, has turned these giants into mills in order to rob
me of the glory of vanquishing them, such is the enmity he bears me;
but in the end his wicked arts will avail but little against my good
sword.”



c08c.jpg (301K)

Full Size




“God order it as he may,” said Sancho Panza, and helping him to rise
got him up again on Rocinante, whose shoulder was half out; and then,
discussing the late adventure, they followed the road to Puerto Lapice,
for there, said Don Quixote, they could not fail to find adventures in
abundance and variety, as it was a great thoroughfare. For all that, he
was much grieved at the loss of his lance, and saying so to his squire,
he added, “I remember having read how a Spanish knight, Diego Perez de
Vargas by name, having broken his sword in battle, tore from an oak a
ponderous bough or branch, and with it did such things that day, and
pounded so many Moors, that he got the surname of Machuca, and he and
his descendants from that day forth were called Vargas y Machuca. I
mention this because from the first oak I see I mean to rend such
another branch, large and stout like that, with which I am determined
and resolved to do such deeds that thou mayest deem thyself very
fortunate in being found worthy to come and see them, and be an
eyewitness of things that will with difficulty be believed.”

“Be that as God will,” said Sancho, “I believe it all as your worship
says it; but straighten yourself a little, for you seem all on one
side, may be from the shaking of the fall.”

“That is the truth,” said Don Quixote, “and if I make no complaint of
the pain it is because knights-errant are not permitted to complain of
any wound, even though their bowels be coming out through it.”

“If so,” said Sancho, “I have nothing to say; but God knows I would
rather your worship complained when anything ailed you. For my part, I
confess I must complain however small the ache may be; unless this rule
about not complaining extends to the squires of knights-errant also.”

Don Quixote could not help laughing at his squire’s simplicity, and he
assured him he might complain whenever and however he chose, just as he
liked, for, so far, he had never read of anything to the contrary in
the order of knighthood.

Sancho bade him remember it was dinner-time, to which his master
answered that he wanted nothing himself just then, but that _he_ might
eat when he had a mind. With this permission Sancho settled himself as
comfortably as he could on his beast, and taking out of the alforjas
what he had stowed away in them, he jogged along behind his master
munching deliberately, and from time to time taking a pull at the bota
with a relish that the thirstiest tapster in Malaga might have envied;
and while he went on in this way, gulping down draught after draught,
he never gave a thought to any of the promises his master had made him,
nor did he rate it as hardship but rather as recreation going in quest
of adventures, however dangerous they might be. Finally they passed the
night among some trees, from one of which Don Quixote plucked a dry
branch to serve him after a fashion as a lance, and fixed on it the
head he had removed from the broken one. All that night Don Quixote lay
awake thinking of his lady Dulcinea, in order to conform to what he had
read in his books, how many a night in the forests and deserts knights
used to lie sleepless supported by the memory of their mistresses. Not
so did Sancho Panza spend it, for having his stomach full of something
stronger than chicory water he made but one sleep of it, and, if his
master had not called him, neither the rays of the sun beating on his
face nor all the cheery notes of the birds welcoming the approach of
day would have had power to waken him. On getting up he tried the bota
and found it somewhat less full than the night before, which grieved
his heart because they did not seem to be on the way to remedy the
deficiency readily. Don Quixote did not care to break his fast, for, as
has been already said, he confined himself to savoury recollections for
nourishment.

They returned to the road they had set out with, leading to Puerto
Lapice, and at three in the afternoon they came in sight of it. “Here,
brother Sancho Panza,” said Don Quixote when he saw it, “we may plunge
our hands up to the elbows in what they call adventures; but observe,
even shouldst thou see me in the greatest danger in the world, thou
must not put a hand to thy sword in my defence, unless indeed thou
perceivest that those who assail me are rabble or base folk; for in
that case thou mayest very properly aid me; but if they be knights it
is on no account permitted or allowed thee by the laws of knighthood to
help me until thou hast been dubbed a knight.”

“Most certainly, señor,” replied Sancho, “your worship shall be fully
obeyed in this matter; all the more as of myself I am peaceful and no
friend to mixing in strife and quarrels: it is true that as regards the
defence of my own person I shall not give much heed to those laws, for
laws human and divine allow each one to defend himself against any
assailant whatever.”

“That I grant,” said Don Quixote, “but in this matter of aiding me
against knights thou must put a restraint upon thy natural
impetuosity.”

“I will do so, I promise you,” answered Sancho, “and will keep this
precept as carefully as Sunday.”

While they were thus talking there appeared on the road two friars of
the order of St. Benedict, mounted on two dromedaries, for not less
tall were the two mules they rode on. They wore travelling spectacles
and carried sunshades; and behind them came a coach attended by four or
five persons on horseback and two muleteers on foot. In the coach there
was, as afterwards appeared, a Biscay lady on her way to Seville, where
her husband was about to take passage for the Indies with an
appointment of high honour. The friars, though going the same road,
were not in her company; but the moment Don Quixote perceived them he
said to his squire, “Either I am mistaken, or this is going to be the
most famous adventure that has ever been seen, for those black bodies
we see there must be, and doubtless are, magicians who are carrying off
some stolen princess in that coach, and with all my might I must undo
this wrong.”

“This will be worse than the windmills,” said Sancho. “Look, señor;
those are friars of St. Benedict, and the coach plainly belongs to some
travellers: I tell you to mind well what you are about and don’t let
the devil mislead you.”

“I have told thee already, Sancho,” replied Don Quixote, “that on the
subject of adventures thou knowest little. What I say is the truth, as
thou shalt see presently.”

So saying, he advanced and posted himself in the middle of the road
along which the friars were coming, and as soon as he thought they had
come near enough to hear what he said, he cried aloud, “Devilish and
unnatural beings, release instantly the highborn princesses whom you
are carrying off by force in this coach, else prepare to meet a speedy
death as the just punishment of your evil deeds.”

The friars drew rein and stood wondering at the appearance of Don
Quixote as well as at his words, to which they replied, “Señor
Caballero, we are not devilish or unnatural, but two brothers of St.
Benedict following our road, nor do we know whether or not there are
any captive princesses coming in this coach.”

“No soft words with me, for I know you, lying rabble,” said Don
Quixote, and without waiting for a reply he spurred Rocinante and with
levelled lance charged the first friar with such fury and
determination, that, if the friar had not flung himself off the mule,
he would have brought him to the ground against his will, and sore
wounded, if not killed outright. The second brother, seeing how his
comrade was treated, drove his heels into his castle of a mule and made
off across the country faster than the wind.

Sancho Panza, when he saw the friar on the ground, dismounting briskly
from his ass, rushed towards him and began to strip off his gown. At
that instant the friars muleteers came up and asked what he was
stripping him for. Sancho answered them that this fell to him lawfully
as spoil of the battle which his lord Don Quixote had won. The
muleteers, who had no idea of a joke and did not understand all this
about battles and spoils, seeing that Don Quixote was some distance off
talking to the travellers in the coach, fell upon Sancho, knocked him
down, and leaving hardly a hair in his beard, belaboured him with kicks
and left him stretched breathless and senseless on the ground; and
without any more delay helped the friar to mount, who, trembling,
terrified, and pale, as soon as he found himself in the saddle, spurred
after his companion, who was standing at a distance looking on,
watching the result of the onslaught; then, not caring to wait for the
end of the affair just begun, they pursued their journey making more
crosses than if they had the devil after them.

Don Quixote was, as has been said, speaking to the lady in the coach:
“Your beauty, lady mine,” said he, “may now dispose of your person as
may be most in accordance with your pleasure, for the pride of your
ravishers lies prostrate on the ground through this strong arm of mine;
and lest you should be pining to know the name of your deliverer, know
that I am called Don Quixote of La Mancha, knight-errant and
adventurer, and captive to the peerless and beautiful lady Dulcinea del
Toboso: and in return for the service you have received of me I ask no
more than that you should return to El Toboso, and on my behalf present
yourself before that lady and tell her what I have done to set you
free.”

One of the squires in attendance upon the coach, a Biscayan, was
listening to all Don Quixote was saying, and, perceiving that he would
not allow the coach to go on, but was saying it must return at once to
El Toboso, he made at him, and seizing his lance addressed him in bad
Castilian and worse Biscayan after his fashion, “Begone, caballero, and
ill go with thee; by the God that made me, unless thou quittest coach,
slayest thee as art here a Biscayan.”

Don Quixote understood him quite well, and answered him very quietly,
“If thou wert a knight, as thou art none, I should have already
chastised thy folly and rashness, miserable creature.” To which the
Biscayan returned, “I no gentleman!—I swear to God thou liest as I am
Christian: if thou droppest lance and drawest sword, soon shalt thou
see thou art carrying water to the cat: Biscayan on land, hidalgo at
sea, hidalgo at the devil, and look, if thou sayest otherwise thou
liest.”

“‘“You will see presently,” said Agrajes,’” replied Don Quixote; and
throwing his lance on the ground he drew his sword, braced his buckler
on his arm, and attacked the Biscayan, bent upon taking his life.

The Biscayan, when he saw him coming on, though he wished to dismount
from his mule, in which, being one of those sorry ones let out for
hire, he had no confidence, had no choice but to draw his sword; it was
lucky for him, however, that he was near the coach, from which he was
able to snatch a cushion that served him for a shield; and they went at
one another as if they had been two mortal enemies. The others strove
to make peace between them, but could not, for the Biscayan declared in
his disjointed phrase that if they did not let him finish his battle he
would kill his mistress and everyone that strove to prevent him. The
lady in the coach, amazed and terrified at what she saw, ordered the
coachman to draw aside a little, and set herself to watch this severe
struggle, in the course of which the Biscayan smote Don Quixote a
mighty stroke on the shoulder over the top of his buckler, which, given
to one without armour, would have cleft him to the waist. Don Quixote,
feeling the weight of this prodigious blow, cried aloud, saying, “O
lady of my soul, Dulcinea, flower of beauty, come to the aid of this
your knight, who, in fulfilling his obligations to your beauty, finds
himself in this extreme peril.” To say this, to lift his sword, to
shelter himself well behind his buckler, and to assail the Biscayan was
the work of an instant, determined as he was to venture all upon a
single blow. The Biscayan, seeing him come on in this way, was
convinced of his courage by his spirited bearing, and resolved to
follow his example, so he waited for him keeping well under cover of
his cushion, being unable to execute any sort of manoeuvre with his
mule, which, dead tired and never meant for this kind of game, could
not stir a step.

On, then, as aforesaid, came Don Quixote against the wary Biscayan,
with uplifted sword and a firm intention of splitting him in half,
while on his side the Biscayan waited for him sword in hand, and under
the protection of his cushion; and all present stood trembling, waiting
in suspense the result of blows such as threatened to fall, and the
lady in the coach and the rest of her following were making a thousand
vows and offerings to all the images and shrines of Spain, that God
might deliver her squire and all of them from this great peril in which
they found themselves. But it spoils all, that at this point and crisis
the author of the history leaves this battle impending, giving as
excuse that he could find nothing more written about these achievements
of Don Quixote than what has been already set forth. It is true the
second author of this work was unwilling to believe that a history so
curious could have been allowed to fall under the sentence of oblivion,
or that the wits of La Mancha could have been so undiscerning as not to
preserve in their archives or registries some documents referring to
this famous knight; and this being his persuasion, he did not despair
of finding the conclusion of this pleasant history, which, heaven
favouring him, he did find in a way that shall be related in the Second
Part.



c08e.jpg (54K)



CHAPTER IX.
IN WHICH IS CONCLUDED AND FINISHED THE TERRIFIC BATTLE BETWEEN THE
GALLANT BISCAYAN AND THE VALIANT MANCHEGAN



c09a.jpg (142K)

Full Size




In the First Part of this history we left the valiant Biscayan and the
renowned Don Quixote with drawn swords uplifted, ready to deliver two
such furious slashing blows that if they had fallen full and fair they
would at least have split and cleft them asunder from top to toe and
laid them open like a pomegranate; and at this so critical point the
delightful history came to a stop and stood cut short without any
intimation from the author where what was missing was to be found.

This distressed me greatly, because the pleasure derived from having
read such a small portion turned to vexation at the thought of the poor
chance that presented itself of finding the large part that, so it
seemed to me, was missing of such an interesting tale. It appeared to
me to be a thing impossible and contrary to all precedent that so good
a knight should have been without some sage to undertake the task of
writing his marvellous achievements; a thing that was never wanting to
any of those knights-errant who, they say, went after adventures; for
every one of them had one or two sages as if made on purpose, who not
only recorded their deeds but described their most trifling thoughts
and follies, however secret they might be; and such a good knight could
not have been so unfortunate as not to have what Platir and others like
him had in abundance. And so I could not bring myself to believe that
such a gallant tale had been left maimed and mutilated, and I laid the
blame on Time, the devourer and destroyer of all things, that had
either concealed or consumed it.

On the other hand, it struck me that, inasmuch as among his books there
had been found such modern ones as “The Enlightenment of Jealousy” and
the “Nymphs and Shepherds of Henares,” his story must likewise be
modern, and that though it might not be written, it might exist in the
memory of the people of his village and of those in the neighbourhood.
This reflection kept me perplexed and longing to know really and truly
the whole life and wondrous deeds of our famous Spaniard, Don Quixote
of La Mancha, light and mirror of Manchegan chivalry, and the first
that in our age and in these so evil days devoted himself to the labour
and exercise of the arms of knight-errantry, righting wrongs,
succouring widows, and protecting damsels of that sort that used to
ride about, whip in hand, on their palfreys, with all their virginity
about them, from mountain to mountain and valley to valley—for, if it
were not for some ruffian, or boor with a hood and hatchet, or
monstrous giant, that forced them, there were in days of yore damsels
that at the end of eighty years, in all which time they had never slept
a day under a roof, went to their graves as much maids as the mothers
that bore them. I say, then, that in these and other respects our
gallant Don Quixote is worthy of everlasting and notable praise, nor
should it be withheld even from me for the labour and pains spent in
searching for the conclusion of this delightful history; though I know
well that if Heaven, chance and good fortune had not helped me, the
world would have remained deprived of an entertainment and pleasure
that for a couple of hours or so may well occupy him who shall read it
attentively. The discovery of it occurred in this way.

One day, as I was in the Alcana of Toledo, a boy came up to sell some
pamphlets and old papers to a silk mercer, and, as I am fond of reading
even the very scraps of paper in the streets, led by this natural bent
of mine I took up one of the pamphlets the boy had for sale, and saw
that it was in characters which I recognised as Arabic, and as I was
unable to read them though I could recognise them, I looked about to
see if there were any Spanish-speaking Morisco at hand to read them for
me; nor was there any great difficulty in finding such an interpreter,
for even had I sought one for an older and better language I should
have found him. In short, chance provided me with one, who when I told
him what I wanted and put the book into his hands, opened it in the
middle and after reading a little in it began to laugh. I asked him
what he was laughing at, and he replied that it was at something the
book had written in the margin by way of a note. I bade him tell it to
me; and he still laughing said, “In the margin, as I told you, this is
written: ‘_This Dulcinea del Toboso so often mentioned in this history,
had, they say, the best hand of any woman in all La Mancha for salting
pigs_.’”

When I heard Dulcinea del Toboso named, I was struck with surprise and
amazement, for it occurred to me at once that these pamphlets contained
the history of Don Quixote. With this idea I pressed him to read the
beginning, and doing so, turning the Arabic offhand into Castilian, he
told me it meant, “_History of Don Quixote of La Mancha, written by Cid
Hamete Benengeli, an Arab historian_.” It required great caution to
hide the joy I felt when the title of the book reached my ears, and
snatching it from the silk mercer, I bought all the papers and
pamphlets from the boy for half a real; and if he had had his wits
about him and had known how eager I was for them, he might have safely
calculated on making more than six reals by the bargain. I withdrew at
once with the Morisco into the cloister of the cathedral, and begged
him to turn all these pamphlets that related to Don Quixote into the
Castilian tongue, without omitting or adding anything to them, offering
him whatever payment he pleased. He was satisfied with two arrobas of
raisins and two bushels of wheat, and promised to translate them
faithfully and with all despatch; but to make the matter easier, and
not to let such a precious find out of my hands, I took him to my
house, where in little more than a month and a half he translated the
whole just as it is set down here.

In the first pamphlet the battle between Don Quixote and the Biscayan
was drawn to the very life, they planted in the same attitude as the
history describes, their swords raised, and the one protected by his
buckler, the other by his cushion, and the Biscayan’s mule so true to
nature that it could be seen to be a hired one a bowshot off. The
Biscayan had an inscription under his feet which said, “_Don Sancho de
Azpeitia_,” which no doubt must have been his name; and at the feet of
Rocinante was another that said, “_Don Quixote_.” Rocinante was
marvellously portrayed, so long and thin, so lank and lean, with so
much backbone and so far gone in consumption, that he showed plainly
with what judgment and propriety the name of Rocinante had been
bestowed upon him. Near him was Sancho Panza holding the halter of his
ass, at whose feet was another label that said, “Sancho Zancas,” and
according to the picture, he must have had a big belly, a short body,
and long shanks, for which reason, no doubt, the names of Panza and
Zancas were given him, for by these two surnames the history several
times calls him. Some other trifling particulars might be mentioned,
but they are all of slight importance and have nothing to do with the
true relation of the history; and no history can be bad so long as it
is true.

If against the present one any objection be raised on the score of its
truth, it can only be that its author was an Arab, as lying is a very
common propensity with those of that nation; though, as they are such
enemies of ours, it is conceivable that there were omissions rather
than additions made in the course of it. And this is my own opinion;
for, where he could and should give freedom to his pen in praise of so
worthy a knight, he seems to me deliberately to pass it over in
silence; which is ill done and worse contrived, for it is the business
and duty of historians to be exact, truthful, and wholly free from
passion, and neither interest nor fear, hatred nor love, should make
them swerve from the path of truth, whose mother is history, rival of
time, storehouse of deeds, witness for the past, example and counsel
for the present, and warning for the future. In this I know will be
found all that can be desired in the pleasantest, and if it be wanting
in any good quality, I maintain it is the fault of its hound of an
author and not the fault of the subject. To be brief, its Second Part,
according to the translation, began in this way:

With trenchant swords upraised and poised on high, it seemed as though
the two valiant and wrathful combatants stood threatening heaven, and
earth, and hell, with such resolution and determination did they bear
themselves. The fiery Biscayan was the first to strike a blow, which
was delivered with such force and fury that had not the sword turned in
its course, that single stroke would have sufficed to put an end to the
bitter struggle and to all the adventures of our knight; but that good
fortune which reserved him for greater things, turned aside the sword
of his adversary, so that although it smote him upon the left shoulder,
it did him no more harm than to strip all that side of its armour,
carrying away a great part of his helmet with half of his ear, all
which with fearful ruin fell to the ground, leaving him in a sorry
plight.

Good God! Who is there that could properly describe the rage that
filled the heart of our Manchegan when he saw himself dealt with in
this fashion? All that can be said is, it was such that he again raised
himself in his stirrups, and, grasping his sword more firmly with both
hands, he came down on the Biscayan with such fury, smiting him full
over the cushion and over the head, that—even so good a shield proving
useless—as if a mountain had fallen on him, he began to bleed from
nose, mouth, and ears, reeling as if about to fall backwards from his
mule, as no doubt he would have done had he not flung his arms about
its neck; at the same time, however, he slipped his feet out of the
stirrups and then unclasped his arms, and the mule, taking fright at
the terrible blow, made off across the plain, and with a few plunges
flung its master to the ground. Don Quixote stood looking on very
calmly, and, when he saw him fall, leaped from his horse and with great
briskness ran to him, and, presenting the point of his sword to his
eyes, bade him surrender, or he would cut his head off. The Biscayan
was so bewildered that he was unable to answer a word, and it would
have gone hard with him, so blind was Don Quixote, had not the ladies
in the coach, who had hitherto been watching the combat in great
terror, hastened to where he stood and implored him with earnest
entreaties to grant them the great grace and favour of sparing their
squire’s life; to which Don Quixote replied with much gravity and
dignity, “In truth, fair ladies, I am well content to do what ye ask of
me; but it must be on one condition and understanding, which is that
this knight promise me to go to the village of El Toboso, and on my
behalf present himself before the peerless lady Dulcinea, that she deal
with him as shall be most pleasing to her.”

The terrified and disconsolate ladies, without discussing Don Quixote’s
demand or asking who Dulcinea might be, promised that their squire
should do all that had been commanded.

“Then, on the faith of that promise,” said Don Quixote, “I shall do him
no further harm, though he well deserves it of me.”



c09e.jpg (61K)

Full Size



CHAPTER X.
OF THE PLEASANT DISCOURSE THAT PASSED BETWEEN DON QUIXOTE AND HIS
SQUIRE SANCHO PANZA




c10a.jpg (91K)

Full Size




Now by this time Sancho had risen, rather the worse for the handling of
the friars’ muleteers, and stood watching the battle of his master, Don
Quixote, and praying to God in his heart that it might be his will to
grant him the victory, and that he might thereby win some island to
make him governor of, as he had promised. Seeing, therefore, that the
struggle was now over, and that his master was returning to mount
Rocinante, he approached to hold the stirrup for him, and, before he
could mount, he went on his knees before him, and taking his hand,
kissed it saying, “May it please your worship, Señor Don Quixote, to
give me the government of that island which has been won in this hard
fight, for be it ever so big I feel myself in sufficient force to be
able to govern it as much and as well as anyone in the world who has
ever governed islands.”

To which Don Quixote replied, “Thou must take notice, brother Sancho,
that this adventure and those like it are not adventures of islands,
but of cross-roads, in which nothing is got except a broken head or an
ear the less: have patience, for adventures will present themselves
from which I may make you, not only a governor, but something more.”

Sancho gave him many thanks, and again kissing his hand and the skirt
of his hauberk, helped him to mount Rocinante, and mounting his ass
himself, proceeded to follow his master, who at a brisk pace, without
taking leave, or saying anything further to the ladies belonging to the
coach, turned into a wood that was hard by. Sancho followed him at his
ass’s best trot, but Rocinante stepped out so that, seeing himself left
behind, he was forced to call to his master to wait for him. Don
Quixote did so, reining in Rocinante until his weary squire came up,
who on reaching him said, “It seems to me, señor, it would be prudent
in us to go and take refuge in some church, for, seeing how mauled he
with whom you fought has been left, it will be no wonder if they give
information of the affair to the Holy Brotherhood and arrest us, and,
faith, if they do, before we come out of gaol we shall have to sweat
for it.”

“Peace,” said Don Quixote; “where hast thou ever seen or heard that a
knight-errant has been arraigned before a court of justice, however
many homicides he may have committed?”

“I know nothing about omecils,” answered Sancho, “nor in my life have
had anything to do with one; I only know that the Holy Brotherhood
looks after those who fight in the fields, and in that other matter I
do not meddle.”

“Then thou needst have no uneasiness, my friend,” said Don Quixote,
“for I will deliver thee out of the hands of the Chaldeans, much more
out of those of the Brotherhood. But tell me, as thou livest, hast thou
seen a more valiant knight than I in all the known world; hast thou
read in history of any who has or had higher mettle in attack, more
spirit in maintaining it, more dexterity in wounding or skill in
overthrowing?”

“The truth is,” answered Sancho, “that I have never read any history,
for I can neither read nor write, but what I will venture to bet is
that a more daring master than your worship I have never served in all
the days of my life, and God grant that this daring be not paid for
where I have said; what I beg of your worship is to dress your wound,
for a great deal of blood flows from that ear, and I have here some
lint and a little white ointment in the alforjas.”

“All that might be well dispensed with,” said Don Quixote, “if I had
remembered to make a vial of the balsam of Fierabras, for time and
medicine are saved by one single drop.”

“What vial and what balsam is that?” said Sancho Panza.

“It is a balsam,” answered Don Quixote, “the receipt of which I have in
my memory, with which one need have no fear of death, or dread dying of
any wound; and so when I make it and give it to thee thou hast nothing
to do when in some battle thou seest they have cut me in half through
the middle of the body—as is wont to happen frequently—but neatly and
with great nicety, ere the blood congeal, to place that portion of the
body which shall have fallen to the ground upon the other half which
remains in the saddle, taking care to fit it on evenly and exactly.
Then thou shalt give me to drink but two drops of the balsam I have
mentioned, and thou shalt see me become sounder than an apple.”

“If that be so,” said Panza, “I renounce henceforth the government of
the promised island, and desire nothing more in payment of my many and
faithful services than that your worship give me the receipt of this
supreme liquor, for I am persuaded it will be worth more than two reals
an ounce anywhere, and I want no more to pass the rest of my life in
ease and honour; but it remains to be told if it costs much to make
it.”

“With less than three reals, six quarts of it may be made,” said Don
Quixote.

“Sinner that I am!” said Sancho, “then why does your worship put off
making it and teaching it to me?”

“Peace, friend,” answered Don Quixote; “greater secrets I mean to teach
thee and greater favours to bestow upon thee; and for the present let
us see to the dressing, for my ear pains me more than I could wish.”

Sancho took out some lint and ointment from the alforjas; but when Don
Quixote came to see his helmet shattered, he was like to lose his
senses, and clapping his hand upon his sword and raising his eyes to
heaven, he said, “I swear by the Creator of all things and the four
Gospels in their fullest extent, to do as the great Marquis of Mantua
did when he swore to avenge the death of his nephew Baldwin (and that
was not to eat bread from a table-cloth, nor embrace his wife, and
other points which, though I cannot now call them to mind, I here grant
as expressed) until I take complete vengeance upon him who has
committed such an offence against me.”

Hearing this, Sancho said to him, “Your worship should bear in mind,
Señor Don Quixote, that if the knight has done what was commanded him
in going to present himself before my lady Dulcinea del Toboso, he will
have done all that he was bound to do, and does not deserve further
punishment unless he commits some new offence.”

“Thou hast said well and hit the point,” answered Don Quixote; and so I
recall the oath in so far as relates to taking fresh vengeance on him,
but I make and confirm it anew to lead the life I have said until such
time as I take by force from some knight another helmet such as this
and as good; and think not, Sancho, that I am raising smoke with straw
in doing so, for I have one to imitate in the matter, since the very
same thing to a hair happened in the case of Mambrino’s helmet, which
cost Sacripante so dear.”

“Señor,” replied Sancho, “let your worship send all such oaths to the
devil, for they are very pernicious to salvation and prejudicial to the
conscience; just tell me now, if for several days to come we fall in
with no man armed with a helmet, what are we to do? Is the oath to be
observed in spite of all the inconvenience and discomfort it will be to
sleep in your clothes, and not to sleep in a house, and a thousand
other mortifications contained in the oath of that old fool the Marquis
of Mantua, which your worship is now wanting to revive? Let your
worship observe that there are no men in armour travelling on any of
these roads, nothing but carriers and carters, who not only do not wear
helmets, but perhaps never heard tell of them all their lives.”

“Thou art wrong there,” said Don Quixote, “for we shall not have been
above two hours among these cross-roads before we see more men in
armour than came to Albraca to win the fair Angelica.”

“Enough,” said Sancho; “so be it then, and God grant us success, and
that the time for winning that island which is costing me so dear may
soon come, and then let me die.”

“I have already told thee, Sancho,” said Don Quixote, “not to give
thyself any uneasiness on that score; for if an island should fail,
there is the kingdom of Denmark, or of Sobradisa, which will fit thee
as a ring fits the finger, and all the more that, being on _terra
firma_, thou wilt all the better enjoy thyself. But let us leave that
to its own time; see if thou hast anything for us to eat in those
alforjas, because we must presently go in quest of some castle where we
may lodge to-night and make the balsam I told thee of, for I swear to
thee by God, this ear is giving me great pain.”

“I have here an onion and a little cheese and a few scraps of bread,”
said Sancho, “but they are not victuals fit for a valiant knight like
your worship.”

“How little thou knowest about it,” answered Don Quixote; “I would have
thee to know, Sancho, that it is the glory of knights-errant to go
without eating for a month, and even when they do eat, that it should
be of what comes first to hand; and this would have been clear to thee
hadst thou read as many histories as I have, for, though they are very
many, among them all I have found no mention made of knights-errant
eating, unless by accident or at some sumptuous banquets prepared for
them, and the rest of the time they passed in dalliance. And though it
is plain they could not do without eating and performing all the other
natural functions, because, in fact, they were men like ourselves, it
is plain too that, wandering as they did the most part of their lives
through woods and wilds and without a cook, their most usual fare would
be rustic viands such as those thou now offer me; so that, friend
Sancho, let not that distress thee which pleases me, and do not seek to
make a new world or pervert knight-errantry.”

“Pardon me, your worship,” said Sancho, “for, as I cannot read or
write, as I said just now, I neither know nor comprehend the rules of
the profession of chivalry: henceforward I will stock the alforjas with
every kind of dry fruit for your worship, as you are a knight; and for
myself, as I am not one, I will furnish them with poultry and other
things more substantial.”

“I do not say, Sancho,” replied Don Quixote, “that it is imperative on
knights-errant not to eat anything else but the fruits thou speakest
of; only that their more usual diet must be those, and certain herbs
they found in the fields which they knew and I know too.”

“A good thing it is,” answered Sancho, “to know those herbs, for to my
thinking it will be needful some day to put that knowledge into
practice.”

And here taking out what he said he had brought, the pair made their
repast peaceably and sociably. But anxious to find quarters for the
night, they with all despatch made an end of their poor dry fare,
mounted at once, and made haste to reach some habitation before night
set in; but daylight and the hope of succeeding in their object failed
them close by the huts of some goatherds, so they determined to pass
the night there, and it was as much to Sancho’s discontent not to have
reached a house, as it was to his master’s satisfaction to sleep under
the open heaven, for he fancied that each time this happened to him he
performed an act of ownership that helped to prove his chivalry.



c10e.jpg (57K)



CHAPTER XI.
WHAT BEFELL DON QUIXOTE WITH CERTAIN GOATHERDS




c11a.jpg (173K)

Full Size




He was cordially welcomed by the goatherds, and Sancho, having as best
he could put up Rocinante and the ass, drew towards the fragrance that
came from some pieces of salted goat simmering in a pot on the fire;
and though he would have liked at once to try if they were ready to be
transferred from the pot to the stomach, he refrained from doing so as
the goatherds removed them from the fire, and laying sheepskins on the
ground, quickly spread their rude table, and with signs of hearty
good-will invited them both to share what they had. Round the skins six
of the men belonging to the fold seated themselves, having first with
rough politeness pressed Don Quixote to take a seat upon a trough which
they placed for him upside down. Don Quixote seated himself, and Sancho
remained standing to serve the cup, which was made of horn. Seeing him
standing, his master said to him:

“That thou mayest see, Sancho, the good that knight-errantry contains
in itself, and how those who fill any office in it are on the high road
to be speedily honoured and esteemed by the world, I desire that thou
seat thyself here at my side and in the company of these worthy people,
and that thou be one with me who am thy master and natural lord, and
that thou eat from my plate and drink from whatever I drink from; for
the same may be said of knight-errantry as of love, that it levels
all.”

“Great thanks,” said Sancho, “but I may tell your worship that provided
I have enough to eat, I can eat it as well, or better, standing, and by
myself, than seated alongside of an emperor. And indeed, if the truth
is to be told, what I eat in my corner without form or fuss has much
more relish for me, even though it be bread and onions, than the
turkeys of those other tables where I am forced to chew slowly, drink
little, wipe my mouth every minute, and cannot sneeze or cough if I
want or do other things that are the privileges of liberty and
solitude. So, señor, as for these honours which your worship would put
upon me as a servant and follower of knight-errantry, exchange them for
other things which may be of more use and advantage to me; for these,
though I fully acknowledge them as received, I renounce from this
moment to the end of the world.”

“For all that,” said Don Quixote, “thou must seat thyself, because him
who humbleth himself God exalteth;” and seizing him by the arm he
forced him to sit down beside himself.

The goatherds did not understand this jargon about squires and
knights-errant, and all they did was to eat in silence and stare at
their guests, who with great elegance and appetite were stowing away
pieces as big as one’s fist. The course of meat finished, they spread
upon the sheepskins a great heap of parched acorns, and with them they
put down a half cheese harder than if it had been made of mortar. All
this while the horn was not idle, for it went round so constantly, now
full, now empty, like the bucket of a water-wheel, that it soon drained
one of the two wine-skins that were in sight. When Don Quixote had
quite appeased his appetite he took up a handful of the acorns, and
contemplating them attentively delivered himself somewhat in this
fashion:

“Happy the age, happy the time, to which the ancients gave the name of
golden, not because in that fortunate age the gold so coveted in this
our iron one was gained without toil, but because they that lived in it
knew not the two words “_mine_” and “_thine_”! In that blessed age all
things were in common; to win the daily food no labour was required of
any save to stretch forth his hand and gather it from the sturdy oaks
that stood generously inviting him with their sweet ripe fruit. The
clear streams and running brooks yielded their savoury limpid waters in
noble abundance. The busy and sagacious bees fixed their republic in
the clefts of the rocks and hollows of the trees, offering without
usance the plenteous produce of their fragrant toil to every hand. The
mighty cork trees, unenforced save of their own courtesy, shed the
broad light bark that served at first to roof the houses supported by
rude stakes, a protection against the inclemency of heaven alone. Then
all was peace, all friendship, all concord; as yet the dull share of
the crooked plough had not dared to rend and pierce the tender bowels
of our first mother that without compulsion yielded from every portion
of her broad fertile bosom all that could satisfy, sustain, and delight
the children that then possessed her. Then was it that the innocent and
fair young shepherdess roamed from vale to vale and hill to hill, with
flowing locks, and no more garments than were needful modestly to cover
what modesty seeks and ever sought to hide. Nor were their ornaments
like those in use to-day, set off by Tyrian purple, and silk tortured
in endless fashions, but the wreathed leaves of the green dock and ivy,
wherewith they went as bravely and becomingly decked as our Court dames
with all the rare and far-fetched artifices that idle curiosity has
taught them. Then the love-thoughts of the heart clothed themselves
simply and naturally as the heart conceived them, nor sought to commend
themselves by forced and rambling verbiage. Fraud, deceit, or malice
had then not yet mingled with truth and sincerity. Justice held her
ground, undisturbed and unassailed by the efforts of favour and of
interest, that now so much impair, pervert, and beset her. Arbitrary
law had not yet established itself in the mind of the judge, for then
there was no cause to judge and no one to be judged. Maidens and
modesty, as I have said, wandered at will alone and unattended, without
fear of insult from lawlessness or libertine assault, and if they were
undone it was of their own will and pleasure. But now in this hateful
age of ours not one is safe, not though some new labyrinth like that of
Crete conceal and surround her; even there the pestilence of gallantry
will make its way to them through chinks or on the air by the zeal of
its accursed importunity, and, despite of all seclusion, lead them to
ruin. In defence of these, as time advanced and wickedness increased,
the order of knights-errant was instituted, to defend maidens, to
protect widows and to succour the orphans and the needy. To this order
I belong, brother goatherds, to whom I return thanks for the
hospitality and kindly welcome ye offer me and my squire; for though by
natural law all living are bound to show favour to knights-errant, yet,
seeing that without knowing this obligation ye have welcomed and
feasted me, it is right that with all the good-will in my power I
should thank you for yours.”



c11b.jpg (349K)

Full Size




All this long harangue (which might very well have been spared) our
knight delivered because the acorns they gave him reminded him of the
golden age; and the whim seized him to address all this unnecessary
argument to the goatherds, who listened to him gaping in amazement
without saying a word in reply. Sancho likewise held his peace and ate
acorns, and paid repeated visits to the second wine-skin, which they
had hung up on a cork tree to keep the wine cool.

Don Quixote was longer in talking than the supper in finishing, at the
end of which one of the goatherds said, “That your worship, señor
knight-errant, may say with more truth that we show you hospitality
with ready good-will, we will give you amusement and pleasure by making
one of our comrades sing: he will be here before long, and he is a very
intelligent youth and deep in love, and what is more he can read and
write and play on the rebeck to perfection.”

The goatherd had hardly done speaking, when the notes of the rebeck
reached their ears; and shortly after, the player came up, a very
good-looking young man of about two-and-twenty. His comrades asked him
if he had supped, and on his replying that he had, he who had already
made the offer said to him:

“In that case, Antonio, thou mayest as well do us the pleasure of
singing a little, that the gentleman, our guest, may see that even in
the mountains and woods there are musicians: we have told him of thy
accomplishments, and we want thee to show them and prove that we say
true; so, as thou livest, pray sit down and sing that ballad about thy
love that thy uncle the prebendary made thee, and that was so much
liked in the town.”

“With all my heart,” said the young man, and without waiting for more
pressing he seated himself on the trunk of a felled oak, and tuning his
rebeck, presently began to sing to these words.

ANTONIO’S BALLAD

Thou dost love me well, Olalla;
Well I know it, even though
Love’s mute tongues, thine eyes, have never
By their glances told me so.

For I know my love thou knowest,
Therefore thine to claim I dare:
Once it ceases to be secret,
Love need never feel despair.

True it is, Olalla, sometimes
Thou hast all too plainly shown
That thy heart is brass in hardness,
And thy snowy bosom stone.

Yet for all that, in thy coyness,
And thy fickle fits between,
Hope is there—at least the border
Of her garment may be seen.

Lures to faith are they, those glimpses,
And to faith in thee I hold;
Kindness cannot make it stronger,
Coldness cannot make it cold.

If it be that love is gentle,
In thy gentleness I see
Something holding out assurance
To the hope of winning thee.

If it be that in devotion
Lies a power hearts to move,
That which every day I show thee,
Helpful to my suit should prove.

Many a time thou must have noticed—
If to notice thou dost care—
How I go about on Monday
Dressed in all my Sunday wear.

Love’s eyes love to look on brightness;
Love loves what is gaily drest;
Sunday, Monday, all I care is
Thou shouldst see me in my best.

No account I make of dances,
Or of strains that pleased thee so,
Keeping thee awake from midnight
Till the cocks began to crow;

Or of how I roundly swore it
That there’s none so fair as thou;
True it is, but as I said it,
By the girls I’m hated now.

For Teresa of the hillside
At my praise of thee was sore;
Said, “You think you love an angel;
It’s a monkey you adore;

“Caught by all her glittering trinkets,
And her borrowed braids of hair,
And a host of made-up beauties
That would Love himself ensnare.”

’Twas a lie, and so I told her,
And her cousin at the word
Gave me his defiance for it;
And what followed thou hast heard.

Mine is no high-flown affection,
Mine no passion _par amours_—
As they call it—what I offer
Is an honest love, and pure.

Cunning cords the holy Church has,
Cords of softest silk they be;
Put thy neck beneath the yoke, dear;
Mine will follow, thou wilt see.

Else—and once for all I swear it
By the saint of most renown—
If I ever quit the mountains,
’Twill be in a friar’s gown.


Here the goatherd brought his song to an end, and though Don Quixote
entreated him to sing more, Sancho had no mind that way, being more
inclined for sleep than for listening to songs; so said he to his
master, “Your worship will do well to settle at once where you mean to
pass the night, for the labour these good men are at all day does not
allow them to spend the night in singing.”

“I understand thee, Sancho,” replied Don Quixote; “I perceive clearly
that those visits to the wine-skin demand compensation in sleep rather
than in music.”

“It’s sweet to us all, blessed be God,” said Sancho.

“I do not deny it,” replied Don Quixote; “but settle thyself where thou
wilt; those of my calling are more becomingly employed in watching than
in sleeping; still it would be as well if thou wert to dress this ear
for me again, for it is giving me more pain than it need.”

Sancho did as he bade him, but one of the goatherds, seeing the wound,
told him not to be uneasy, as he would apply a remedy with which it
would be soon healed; and gathering some leaves of rosemary, of which
there was a great quantity there, he chewed them and mixed them with a
little salt, and applying them to the ear he secured them firmly with a
bandage, assuring him that no other treatment would be required, and so
it proved.



c11e.jpg (37K)



CHAPTER XII.
OF WHAT A GOATHERD RELATED TO THOSE WITH DON QUIXOTE




c12a.jpg (143K)

Full Size




Just then another young man, one of those who fetched their provisions
from the village, came up and said, “Do you know what is going on in
the village, comrades?”

“How could we know it?” replied one of them.

“Well, then, you must know,” continued the young man, “this morning
that famous student-shepherd called Chrysostom died, and it is rumoured
that he died of love for that devil of a village girl the daughter of
Guillermo the Rich, she that wanders about the wolds here in the dress
of a shepherdess.”

“You mean Marcela?” said one.

“Her I mean,” answered the goatherd; “and the best of it is, he has
directed in his will that he is to be buried in the fields like a Moor,
and at the foot of the rock where the Cork-tree spring is, because, as
the story goes (and they say he himself said so), that was the place
where he first saw her. And he has also left other directions which the
clergy of the village say should not and must not be obeyed because
they savour of paganism. To all which his great friend Ambrosio the
student, he who, like him, also went dressed as a shepherd, replies
that everything must be done without any omission according to the
directions left by Chrysostom, and about this the village is all in
commotion; however, report says that, after all, what Ambrosio and all
the shepherds his friends desire will be done, and to-morrow they are
coming to bury him with great ceremony where I said. I am sure it will
be something worth seeing; at least I will not fail to go and see it
even if I knew I should not return to the village to-morrow.”

“We will do the same,” answered the goatherds, “and cast lots to see
who must stay to mind the goats of all.”

“Thou sayest well, Pedro,” said one, “though there will be no need of
taking that trouble, for I will stay behind for all; and don’t suppose
it is virtue or want of curiosity in me; it is that the splinter that
ran into my foot the other day will not let me walk.”

“For all that, we thank thee,” answered Pedro.

Don Quixote asked Pedro to tell him who the dead man was and who the
shepherdess, to which Pedro replied that all he knew was that the dead
man was a wealthy gentleman belonging to a village in those mountains,
who had been a student at Salamanca for many years, at the end of which
he returned to his village with the reputation of being very learned
and deeply read. “Above all, they said, he was learned in the science
of the stars and of what went on yonder in the heavens and the sun and
the moon, for he told us of the cris of the sun and moon to exact
time.”

“Eclipse it is called, friend, not cris, the darkening of those two
luminaries,” said Don Quixote; but Pedro, not troubling himself with
trifles, went on with his story, saying, “Also he foretold when the
year was going to be one of abundance or estility.”

“Sterility, you mean,” said Don Quixote.

“Sterility or estility,” answered Pedro, “it is all the same in the
end. And I can tell you that by this his father and friends who
believed him grew very rich because they did as he advised them,
bidding them ‘sow barley this year, not wheat; this year you may sow
pulse and not barley; the next there will be a full oil crop, and the
three following not a drop will be got.’”

“That science is called astrology,” said Don Quixote.

“I do not know what it is called,” replied Pedro, “but I know that he
knew all this and more besides. But, to make an end, not many months
had passed after he returned from Salamanca, when one day he appeared
dressed as a shepherd with his crook and sheepskin, having put off the
long gown he wore as a scholar; and at the same time his great friend,
Ambrosio by name, who had been his companion in his studies, took to
the shepherd’s dress with him. I forgot to say that Chrysostom, who is
dead, was a great man for writing verses, so much so that he made
carols for Christmas Eve, and plays for Corpus Christi, which the young
men of our village acted, and all said they were excellent. When the
villagers saw the two scholars so unexpectedly appearing in shepherd’s
dress, they were lost in wonder, and could not guess what had led them
to make so extraordinary a change. About this time the father of our
Chrysostom died, and he was left heir to a large amount of property in
chattels as well as in land, no small number of cattle and sheep, and a
large sum of money, of all of which the young man was left dissolute
owner, and indeed he was deserving of it all, for he was a very good
comrade, and kind-hearted, and a friend of worthy folk, and had a
countenance like a benediction. Presently it came to be known that he
had changed his dress with no other object than to wander about these
wastes after that shepherdess Marcela our lad mentioned a while ago,
with whom the deceased Chrysostom had fallen in love. And I must tell
you now, for it is well you should know it, who this girl is; perhaps,
and even without any perhaps, you will not have heard anything like it
all the days of your life, though you should live more years than
sarna.”

“Say Sarra,” said Don Quixote, unable to endure the goatherd’s
confusion of words.

“The sarna lives long enough,” answered Pedro; “and if, señor, you must
go finding fault with words at every step, we shall not make an end of
it this twelvemonth.”

“Pardon me, friend,” said Don Quixote; “but, as there is such a
difference between sarna and Sarra, I told you of it; however, you have
answered very rightly, for sarna lives longer than Sarra: so continue
your story, and I will not object any more to anything.”

“I say then, my dear sir,” said the goatherd, “that in our village
there was a farmer even richer than the father of Chrysostom, who was
named Guillermo, and upon whom God bestowed, over and above great
wealth, a daughter at whose birth her mother died, the most respected
woman there was in this neighbourhood; I fancy I can see her now with
that countenance which had the sun on one side and the moon on the
other; and moreover active, and kind to the poor, for which I trust
that at the present moment her soul is in bliss with God in the other
world. Her husband Guillermo died of grief at the death of so good a
wife, leaving his daughter Marcela, a child and rich, to the care of an
uncle of hers, a priest and prebendary in our village. The girl grew up
with such beauty that it reminded us of her mother’s, which was very
great, and yet it was thought that the daughter’s would exceed it; and
so when she reached the age of fourteen to fifteen years nobody beheld
her but blessed God that had made her so beautiful, and the greater
number were in love with her past redemption. Her uncle kept her in
great seclusion and retirement, but for all that the fame of her great
beauty spread so that, as well for it as for her great wealth, her
uncle was asked, solicited, and importuned, to give her in marriage not
only by those of our town but of those many leagues round, and by the
persons of highest quality in them. But he, being a good Christian man,
though he desired to give her in marriage at once, seeing her to be old
enough, was unwilling to do so without her consent, not that he had any
eye to the gain and profit which the custody of the girl’s property
brought him while he put off her marriage; and, faith, this was said in
praise of the good priest in more than one set in the town. For I would
have you know, Sir Errant, that in these little villages everything is
talked about and everything is carped at, and rest assured, as I am,
that the priest must be over and above good who forces his parishioners
to speak well of him, especially in villages.”

“That is the truth,” said Don Quixote; “but go on, for the story is
very good, and you, good Pedro, tell it with very good grace.”

“May that of the Lord not be wanting to me,” said Pedro; “that is the
one to have. To proceed; you must know that though the uncle put before
his niece and described to her the qualities of each one in particular
of the many who had asked her in marriage, begging her to marry and
make a choice according to her own taste, she never gave any other
answer than that she had no desire to marry just yet, and that being so
young she did not think herself fit to bear the burden of matrimony. At
these, to all appearance, reasonable excuses that she made, her uncle
ceased to urge her, and waited till she was somewhat more advanced in
age and could mate herself to her own liking. For, said he—and he said
quite right—parents are not to settle children in life against their
will. But when one least looked for it, lo and behold! one day the
demure Marcela makes her appearance turned shepherdess; and, in spite
of her uncle and all those of the town that strove to dissuade her,
took to going a-field with the other shepherd-lasses of the village,
and tending her own flock. And so, since she appeared in public, and
her beauty came to be seen openly, I could not well tell you how many
rich youths, gentlemen and peasants, have adopted the costume of
Chrysostom, and go about these fields making love to her. One of these,
as has been already said, was our deceased friend, of whom they say
that he did not love but adore her. But you must not suppose, because
Marcela chose a life of such liberty and independence, and of so little
or rather no retirement, that she has given any occasion, or even the
semblance of one, for disparagement of her purity and modesty; on the
contrary, such and so great is the vigilance with which she watches
over her honour, that of all those that court and woo her not one has
boasted, or can with truth boast, that she has given him any hope
however small of obtaining his desire. For although she does not avoid
or shun the society and conversation of the shepherds, and treats them
courteously and kindly, should any one of them come to declare his
intention to her, though it be one as proper and holy as that of
matrimony, she flings him from her like a catapult. And with this kind
of disposition she does more harm in this country than if the plague
had got into it, for her affability and her beauty draw on the hearts
of those that associate with her to love her and to court her, but her
scorn and her frankness bring them to the brink of despair; and so they
know not what to say save to proclaim her aloud cruel and hard-hearted,
and other names of the same sort which well describe the nature of her
character; and if you should remain here any time, señor, you would
hear these hills and valleys resounding with the laments of the
rejected ones who pursue her. Not far from this there is a spot where
there are a couple of dozen of tall beeches, and there is not one of
them but has carved and written on its smooth bark the name of Marcela,
and above some a crown carved on the same tree as though her lover
would say more plainly that Marcela wore and deserved that of all human
beauty. Here one shepherd is sighing, there another is lamenting; there
love songs are heard, here despairing elegies. One will pass all the
hours of the night seated at the foot of some oak or rock, and there,
without having closed his weeping eyes, the sun finds him in the
morning bemused and bereft of sense; and another without relief or
respite to his sighs, stretched on the burning sand in the full heat of
the sultry summer noontide, makes his appeal to the compassionate
heavens, and over one and the other, over these and all, the beautiful
Marcela triumphs free and careless. And all of us that know her are
waiting to see what her pride will come to, and who is to be the happy
man that will succeed in taming a nature so formidable and gaining
possession of a beauty so supreme. All that I have told you being such
well-established truth, I am persuaded that what they say of the cause
of Chrysostom’s death, as our lad told us, is the same. And so I advise
you, señor, fail not to be present to-morrow at his burial, which will
be well worth seeing, for Chrysostom had many friends, and it is not
half a league from this place to where he directed he should be
buried.”

“I will make a point of it,” said Don Quixote, “and I thank you for the
pleasure you have given me by relating so interesting a tale.”

“Oh,” said the goatherd, “I do not know even the half of what has
happened to the lovers of Marcela, but perhaps to-morrow we may fall in
with some shepherd on the road who can tell us; and now it will be well
for you to go and sleep under cover, for the night air may hurt your
wound, though with the remedy I have applied to you there is no fear of
an untoward result.”

Sancho Panza, who was wishing the goatherd’s loquacity at the devil, on
his part begged his master to go into Pedro’s hut to sleep. He did so,
and passed all the rest of the night in thinking of his lady Dulcinea,
in imitation of the lovers of Marcela. Sancho Panza settled himself
between Rocinante and his ass, and slept, not like a lover who had been
discarded, but like a man who had been soundly kicked.



c12e.jpg (42K)



CHAPTER XIII.
IN WHICH IS ENDED THE STORY OF THE SHEPHERDESS MARCELA, WITH OTHER
INCIDENTS



c13a.jpg (181K)

Full Size




But hardly had day begun to show itself through the balconies of the
east, when five of the six goatherds came to rouse Don Quixote and tell
him that if he was still of a mind to go and see the famous burial of
Chrysostom they would bear him company. Don Quixote, who desired
nothing better, rose and ordered Sancho to saddle and pannel at once,
which he did with all despatch, and with the same they all set out
forthwith. They had not gone a quarter of a league when at the meeting
of two paths they saw coming towards them some six shepherds dressed in
black sheepskins and with their heads crowned with garlands of cypress
and bitter oleander. Each of them carried a stout holly staff in his
hand, and along with them there came two men of quality on horseback in
handsome travelling dress, with three servants on foot accompanying
them. Courteous salutations were exchanged on meeting, and inquiring
one of the other which way each party was going, they learned that all
were bound for the scene of the burial, so they went on all together.

One of those on horseback addressing his companion said to him, “It
seems to me, Señor Vivaldo, that we may reckon as well spent the delay
we shall incur in seeing this remarkable funeral, for remarkable it
cannot but be judging by the strange things these shepherds have told
us, of both the dead shepherd and homicide shepherdess.”

“So I think too,” replied Vivaldo, “and I would delay not to say a day,
but four, for the sake of seeing it.”

Don Quixote asked them what it was they had heard of Marcela and
Chrysostom. The traveller answered that the same morning they had met
these shepherds, and seeing them dressed in this mournful fashion they
had asked them the reason of their appearing in such a guise; which one
of them gave, describing the strange behaviour and beauty of a
shepherdess called Marcela, and the loves of many who courted her,
together with the death of that Chrysostom to whose burial they were
going. In short, he repeated all that Pedro had related to Don Quixote.

This conversation dropped, and another was commenced by him who was
called Vivaldo asking Don Quixote what was the reason that led him to
go armed in that fashion in a country so peaceful. To which Don Quixote
replied, “The pursuit of my calling does not allow or permit me to go
in any other fashion; easy life, enjoyment, and repose were invented
for soft courtiers, but toil, unrest, and arms were invented and made
for those alone whom the world calls knights-errant, of whom I, though
unworthy, am the least of all.”

The instant they heard this all set him down as mad, and the better to
settle the point and discover what kind of madness his was, Vivaldo
proceeded to ask him what knights-errant meant.

“Have not your worships,” replied Don Quixote, “read the annals and
histories of England, in which are recorded the famous deeds of King
Arthur, whom we in our popular Castilian invariably call King Artus,
with regard to whom it is an ancient tradition, and commonly received
all over that kingdom of Great Britain, that this king did not die, but
was changed by magic art into a raven, and that in process of time he
is to return to reign and recover his kingdom and sceptre; for which
reason it cannot be proved that from that time to this any Englishman
ever killed a raven? Well, then, in the time of this good king that
famous order of chivalry of the Knights of the Round Table was
instituted, and the amour of Don Lancelot of the Lake with the Queen
Guinevere occurred, precisely as is there related, the go-between and
confidante therein being the highly honourable dame Quintañona, whence
came that ballad so well known and widely spread in our Spain—

O never surely was there knight
So served by hand of dame,
As served was he Sir Lancelot hight
When he from Britain came—


with all the sweet and delectable course of his achievements in love
and war. Handed down from that time, then, this order of chivalry went
on extending and spreading itself over many and various parts of the
world; and in it, famous and renowned for their deeds, were the mighty
Amadis of Gaul with all his sons and descendants to the fifth
generation, and the valiant Felixmarte of Hircania, and the never
sufficiently praised Tirante el Blanco, and in our own days almost we
have seen and heard and talked with the invincible knight Don Belianis
of Greece. This, then, sirs, is to be a knight-errant, and what I have
spoken of is the order of his chivalry, of which, as I have already
said, I, though a sinner, have made profession, and what the aforesaid
knights professed that same do I profess, and so I go through these
solitudes and wilds seeking adventures, resolved in soul to oppose my
arm and person to the most perilous that fortune may offer me in aid of
the weak and needy.”

By these words of his the travellers were able to satisfy themselves of
Don Quixote’s being out of his senses and of the form of madness that
overmastered him, at which they felt the same astonishment that all
felt on first becoming acquainted with it; and Vivaldo, who was a
person of great shrewdness and of a lively temperament, in order to
beguile the short journey which they said was required to reach the
mountain, the scene of the burial, sought to give him an opportunity of
going on with his absurdities. So he said to him, “It seems to me,
Señor Knight-errant, that your worship has made choice of one of the
most austere professions in the world, and I imagine even that of the
Carthusian monks is not so austere.”

“As austere it may perhaps be,” replied our Don Quixote, “but so
necessary for the world I am very much inclined to doubt. For, if the
truth is to be told, the soldier who executes what his captain orders
does no less than the captain himself who gives the order. My meaning,
is, that churchmen in peace and quiet pray to Heaven for the welfare of
the world, but we soldiers and knights carry into effect what they pray
for, defending it with the might of our arms and the edge of our
swords, not under shelter but in the open air, a target for the
intolerable rays of the sun in summer and the piercing frosts of
winter. Thus are we God’s ministers on earth and the arms by which his
justice is done therein. And as the business of war and all that
relates and belongs to it cannot be conducted without exceeding great
sweat, toil, and exertion, it follows that those who make it their
profession have undoubtedly more labour than those who in tranquil
peace and quiet are engaged in praying to God to help the weak. I do
not mean to say, nor does it enter into my thoughts, that the
knight-errant’s calling is as good as that of the monk in his cell; I
would merely infer from what I endure myself that it is beyond a doubt
a more laborious and a more belaboured one, a hungrier and thirstier, a
wretcheder, raggeder, and lousier; for there is no reason to doubt that
the knights-errant of yore endured much hardship in the course of their
lives. And if some of them by the might of their arms did rise to be
emperors, in faith it cost them dear in the matter of blood and sweat;
and if those who attained to that rank had not had magicians and sages
to help them they would have been completely baulked in their ambition
and disappointed in their hopes.”

“That is my own opinion,” replied the traveller; “but one thing among
many others seems to me very wrong in knights-errant, and that is that
when they find themselves about to engage in some mighty and perilous
adventure in which there is manifest danger of losing their lives, they
never at the moment of engaging in it think of commending themselves to
God, as is the duty of every good Christian in like peril; instead of
which they commend themselves to their ladies with as much devotion as
if these were their gods, a thing which seems to me to savour somewhat
of heathenism.”

“Sir,” answered Don Quixote, “that cannot be on any account omitted,
and the knight-errant would be disgraced who acted otherwise: for it is
usual and customary in knight-errantry that the knight-errant, who on
engaging in any great feat of arms has his lady before him, should turn
his eyes towards her softly and lovingly, as though with them
entreating her to favour and protect him in the hazardous venture he is
about to undertake, and even though no one hear him, he is bound to say
certain words between his teeth, commending himself to her with all his
heart, and of this we have innumerable instances in the histories. Nor
is it to be supposed from this that they are to omit commending
themselves to God, for there will be time and opportunity for doing so
while they are engaged in their task.”

“For all that,” answered the traveller, “I feel some doubt still,
because often I have read how words will arise between two
knights-errant, and from one thing to another it comes about that their
anger kindles and they wheel their horses round and take a good stretch
of field, and then without any more ado at the top of their speed they
come to the charge, and in mid-career they are wont to commend
themselves to their ladies; and what commonly comes of the encounter is
that one falls over the haunches of his horse pierced through and
through by his antagonist’s lance, and as for the other, it is only by
holding on to the mane of his horse that he can help falling to the
ground; but I know not how the dead man had time to commend himself to
God in the course of such rapid work as this; it would have been better
if those words which he spent in commending himself to his lady in the
midst of his career had been devoted to his duty and obligation as a
Christian. Moreover, it is my belief that all knights-errant have not
ladies to commend themselves to, for they are not all in love.”

“That is impossible,” said Don Quixote: “I say it is impossible that
there could be a knight-errant without a lady, because to such it is as
natural and proper to be in love as to the heavens to have stars: most
certainly no history has been seen in which there is to be found a
knight-errant without an amour, and for the simple reason that without
one he would be held no legitimate knight but a bastard, and one who
had gained entrance into the stronghold of the said knighthood, not by
the door, but over the wall like a thief and a robber.”

“Nevertheless,” said the traveller, “if I remember rightly, I think I
have read that Don Galaor, the brother of the valiant Amadis of Gaul,
never had any special lady to whom he might commend himself, and yet he
was not the less esteemed, and was a very stout and famous knight.”

To which our Don Quixote made answer, “Sir, one solitary swallow does
not make summer; moreover, I know that knight was in secret very deeply
in love; besides which, that way of falling in love with all that took
his fancy was a natural propensity which he could not control. But, in
short, it is very manifest that he had one alone whom he made mistress
of his will, to whom he commended himself very frequently and very
secretly, for he prided himself on being a reticent knight.”

“Then if it be essential that every knight-errant should be in love,”
said the traveller, “it may be fairly supposed that your worship is so,
as you are of the order; and if you do not pride yourself on being as
reticent as Don Galaor, I entreat you as earnestly as I can, in the
name of all this company and in my own, to inform us of the name,
country, rank, and beauty of your lady, for she will esteem herself
fortunate if all the world knows that she is loved and served by such a
knight as your worship seems to be.”

At this Don Quixote heaved a deep sigh and said, “I cannot say
positively whether my sweet enemy is pleased or not that the world
should know I serve her; I can only say in answer to what has been so
courteously asked of me, that her name is Dulcinea, her country El
Toboso, a village of La Mancha, her rank must be at least that of a
princess, since she is my queen and lady, and her beauty superhuman,
since all the impossible and fanciful attributes of beauty which the
poets apply to their ladies are verified in her; for her hairs are
gold, her forehead Elysian fields, her eyebrows rainbows, her eyes
suns, her cheeks roses, her lips coral, her teeth pearls, her neck
alabaster, her bosom marble, her hands ivory, her fairness snow, and
what modesty conceals from sight such, I think and imagine, as rational
reflection can only extol, not compare.”

“We should like to know her lineage, race, and ancestry,” said Vivaldo.

To which Don Quixote replied, “She is not of the ancient Roman Curtii,
Caii, or Scipios, nor of the modern Colonnas or Orsini, nor of the
Moncadas or Requesenes of Catalonia, nor yet of the Rebellas or
Villanovas of Valencia; Palafoxes, Nuzas, Rocabertis, Corellas, Lunas,
Alagones, Urreas, Foces, or Gurreas of Aragon; Cerdas, Manriques,
Mendozas, or Guzmans of Castile; Alencastros, Pallas, or Meneses of
Portugal; but she is of those of El Toboso of La Mancha, a lineage that
though modern, may furnish a source of gentle blood for the most
illustrious families of the ages that are to come, and this let none
dispute with me save on the condition that Zerbino placed at the foot
of the trophy of Orlando’s arms, saying,

These let none move
Who dareth not his might with Roland prove.”


“Although mine is of the Cachopins of Laredo,” said the traveller, “I
will not venture to compare it with that of El Toboso of La Mancha,
though, to tell the truth, no such surname has until now ever reached
my ears.”

“What!” said Don Quixote, “has that never reached them?”

The rest of the party went along listening with great attention to the
conversation of the pair, and even the very goatherds and shepherds
perceived how exceedingly out of his wits our Don Quixote was. Sancho
Panza alone thought that what his master said was the truth, knowing
who he was and having known him from his birth; and all that he felt
any difficulty in believing was that about the fair Dulcinea del
Toboso, because neither any such name nor any such princess had ever
come to his knowledge though he lived so close to El Toboso. They were
going along conversing in this way, when they saw descending a gap
between two high mountains some twenty shepherds, all clad in
sheepskins of black wool, and crowned with garlands which, as
afterwards appeared, were, some of them of yew, some of cypress. Six of
the number were carrying a bier covered with a great variety of flowers
and branches, on seeing which one of the goatherds said, “Those who
come there are the bearers of Chrysostom’s body, and the foot of that
mountain is the place where he ordered them to bury him.” They
therefore made haste to reach the spot, and did so by the time those
who came had laid the bier upon the ground, and four of them with sharp
pickaxes were digging a grave by the side of a hard rock. They greeted
each other courteously, and then Don Quixote and those who accompanied
him turned to examine the bier, and on it, covered with flowers, they
saw a dead body in the dress of a shepherd, to all appearance of one
thirty years of age, and showing even in death that in life he had been
of comely features and gallant bearing. Around him on the bier itself
were laid some books, and several papers open and folded; and those who
were looking on as well as those who were opening the grave and all the
others who were there preserved a strange silence, until one of those
who had borne the body said to another, “Observe carefully, Ambrosia if
this is the place Chrysostom spoke of, since you are anxious that what
he directed in his will should be so strictly complied with.”

“This is the place,” answered Ambrosia “for in it many a time did my
poor friend tell me the story of his hard fortune. Here it was, he told
me, that he saw for the first time that mortal enemy of the human race,
and here, too, for the first time he declared to her his passion, as
honourable as it was devoted, and here it was that at last Marcela
ended by scorning and rejecting him so as to bring the tragedy of his
wretched life to a close; here, in memory of misfortunes so great, he
desired to be laid in the bowels of eternal oblivion.” Then turning to
Don Quixote and the travellers he went on to say, “That body, sirs, on
which you are looking with compassionate eyes, was the abode of a soul
on which Heaven bestowed a vast share of its riches. That is the body
of Chrysostom, who was unrivalled in wit, unequalled in courtesy,
unapproached in gentle bearing, a phœnix in friendship, generous
without limit, grave without arrogance, gay without vulgarity, and, in
short, first in all that constitutes goodness and second to none in all
that makes up misfortune. He loved deeply, he was hated; he adored, he
was scorned; he wooed a wild beast, he pleaded with marble, he pursued
the wind, he cried to the wilderness, he served ingratitude, and for
reward was made the prey of death in the mid-course of life, cut short
by a shepherdess whom he sought to immortalise in the memory of man, as
these papers which you see could fully prove, had he not commanded me
to consign them to the fire after having consigned his body to the
earth.”

“You would deal with them more harshly and cruelly than their owner
himself,” said Vivaldo, “for it is neither right nor proper to do the
will of one who enjoins what is wholly unreasonable; it would not have
been reasonable in Augustus Cæsar had he permitted the directions left
by the divine Mantuan in his will to be carried into effect. So that,
Señor Ambrosia while you consign your friend’s body to the earth, you
should not consign his writings to oblivion, for if he gave the order
in bitterness of heart, it is not right that you should irrationally
obey it. On the contrary, by granting life to those papers, let the
cruelty of Marcela live for ever, to serve as a warning in ages to come
to all men to shun and avoid falling into like danger; or I and all of
us who have come here know already the story of this your love-stricken
and heart-broken friend, and we know, too, your friendship, and the
cause of his death, and the directions he gave at the close of his
life; from which sad story may be gathered how great was the cruelty of
Marcela, the love of Chrysostom, and the loyalty of your friendship,
together with the end awaiting those who pursue rashly the path that
insane passion opens to their eyes. Last night we learned the death of
Chrysostom and that he was to be buried here, and out of curiosity and
pity we left our direct road and resolved to come and see with our eyes
that which when heard of had so moved our compassion, and in
consideration of that compassion and our desire to prove it if we might
by condolence, we beg of you, excellent Ambrosia, or at least I on my
own account entreat you, that instead of burning those papers you allow
me to carry away some of them.”

And without waiting for the shepherd’s answer, he stretched out his
hand and took up some of those that were nearest to him; seeing which
Ambrosio said, “Out of courtesy, señor, I will grant your request as to
those you have taken, but it is idle to expect me to abstain from
burning the remainder.”

Vivaldo, who was eager to see what the papers contained, opened one of
them at once, and saw that its title was “Lay of Despair.”

Ambrosio hearing it said, “That is the last paper the unhappy man
wrote; and that you may see, señor, to what an end his misfortunes
brought him, read it so that you may be heard, for you will have time
enough for that while we are waiting for the grave to be dug.”

“I will do so very willingly,” said Vivaldo; and as all the bystanders
were equally eager they gathered round him, and he, reading in a loud
voice, found that it ran as follows.



c13e.jpg (15K)



CHAPTER XIV.
WHEREIN ARE INSERTED THE DESPAIRING VERSES OF THE DEAD SHEPHERD,
TOGETHER WITH OTHER INCIDENTS NOT LOOKED FOR



c14a.jpg (172K)

Full Size




THE LAY OF CHRYSOSTOM

Since thou dost in thy cruelty desire
The ruthless rigour of thy tyranny
From tongue to tongue, from land to land proclaimed,
The very Hell will I constrain to lend
This stricken breast of mine deep notes of woe
To serve my need of fitting utterance.
And as I strive to body forth the tale
Of all I suffer, all that thou hast done,
Forth shall the dread voice roll, and bear along
Shreds from my vitals torn for greater pain.
Then listen, not to dulcet harmony,
But to a discord wrung by mad despair
Out of this bosom’s depths of bitterness,
To ease my heart and plant a sting in thine.

The lion’s roar, the fierce wolf’s savage howl,
The horrid hissing of the scaly snake,
The awesome cries of monsters yet unnamed,
The crow’s ill-boding croak, the hollow moan
Of wild winds wrestling with the restless sea,
The wrathful bellow of the vanquished bull,
The plaintive sobbing of the widowed dove,
The envied owl’s sad note, the wail of woe
That rises from the dreary choir of Hell,
Commingled in one sound, confusing sense,
Let all these come to aid my soul’s complaint,
For pain like mine demands new modes of song.

No echoes of that discord shall be heard
Where Father Tagus rolls, or on the banks
Of olive-bordered Betis; to the rocks
Or in deep caverns shall my plaint be told,
And by a lifeless tongue in living words;
Or in dark valleys or on lonely shores,
Where neither foot of man nor sunbeam falls;
Or in among the poison-breathing swarms
Of monsters nourished by the sluggish Nile.
For, though it be to solitudes remote
The hoarse vague echoes of my sorrows sound
Thy matchless cruelty, my dismal fate
Shall carry them to all the spacious world.

Disdain hath power to kill, and patience dies
Slain by suspicion, be it false or true;
And deadly is the force of jealousy;
Long absence makes of life a dreary void;
No hope of happiness can give repose
To him that ever fears to be forgot;
And death, inevitable, waits in hall.
But I, by some strange miracle, live on
A prey to absence, jealousy, disdain;
Racked by suspicion as by certainty;
Forgotten, left to feed my flame alone.
And while I suffer thus, there comes no ray
Of hope to gladden me athwart the gloom;
Nor do I look for it in my despair;
But rather clinging to a cureless woe,
All hope do I abjure for evermore.

Can there be hope where fear is? Were it well,
When far more certain are the grounds of fear?
Ought I to shut mine eyes to jealousy,
If through a thousand heart-wounds it appears?
Who would not give free access to distrust,
Seeing disdain unveiled, and—bitter change!—
All his suspicions turned to certainties,
And the fair truth transformed into a lie?
Oh, thou fierce tyrant of the realms of love,
Oh, Jealousy! put chains upon these hands,
And bind me with thy strongest cord, Disdain.
But, woe is me! triumphant over all,
My sufferings drown the memory of you.

And now I die, and since there is no hope
Of happiness for me in life or death,
Still to my fantasy I’ll fondly cling.
I’ll say that he is wise who loveth well,
And that the soul most free is that most bound
In thraldom to the ancient tyrant Love.
I’ll say that she who is mine enemy
In that fair body hath as fair a mind,
And that her coldness is but my desert,
And that by virtue of the pain he sends
Love rules his kingdom with a gentle sway.
Thus, self-deluding, and in bondage sore,
And wearing out the wretched shred of life
To which I am reduced by her disdain,
I’ll give this soul and body to the winds,
All hopeless of a crown of bliss in store.

Thou whose injustice hath supplied the cause
That makes me quit the weary life I loathe,
As by this wounded bosom thou canst see
How willingly thy victim I become,
Let not my death, if haply worth a tear,
Cloud the clear heaven that dwells in thy bright eyes;
I would not have thee expiate in aught
The crime of having made my heart thy prey;
But rather let thy laughter gaily ring
And prove my death to be thy festival.
Fool that I am to bid thee! well I know
Thy glory gains by my untimely end.

And now it is the time; from Hell’s abyss
Come thirsting Tantalus, come Sisyphus
Heaving the cruel stone, come Tityus
With vulture, and with wheel Ixion come,
And come the sisters of the ceaseless toil;
And all into this breast transfer their pains,
And (if such tribute to despair be due)
Chant in their deepest tones a doleful dirge
Over a corse unworthy of a shroud.
Let the three-headed guardian of the gate,
And all the monstrous progeny of hell,
The doleful concert join: a lover dead
Methinks can have no fitter obsequies.

Lay of despair, grieve not when thou art gone
Forth from this sorrowing heart: my misery
Brings fortune to the cause that gave thee birth;
Then banish sadness even in the tomb.


The “Lay of Chrysostom” met with the approbation of the listeners,
though the reader said it did not seem to him to agree with what he had
heard of Marcela’s reserve and propriety, for Chrysostom complained in
it of jealousy, suspicion, and absence, all to the prejudice of the
good name and fame of Marcela; to which Ambrosio replied as one who
knew well his friend’s most secret thoughts, “Señor, to remove that
doubt I should tell you that when the unhappy man wrote this lay he was
away from Marcela, from whom he had voluntarily separated himself, to
try if absence would act with him as it is wont; and as everything
distresses and every fear haunts the banished lover, so imaginary
jealousies and suspicions, dreaded as if they were true, tormented
Chrysostom; and thus the truth of what report declares of the virtue of
Marcela remains unshaken, and with her envy itself should not and
cannot find any fault save that of being cruel, somewhat haughty, and
very scornful.”

“That is true,” said Vivaldo; and as he was about to read another paper
of those he had preserved from the fire, he was stopped by a marvellous
vision (for such it seemed) that unexpectedly presented itself to their
eyes; for on the summit of the rock where they were digging the grave
there appeared the shepherdess Marcela, so beautiful that her beauty
exceeded its reputation. Those who had never till then beheld her gazed
upon her in wonder and silence, and those who were accustomed to see
her were not less amazed than those who had never seen her before. But
the instant Ambrosio saw her he addressed her, with manifest
indignation:

“Art thou come, by chance, cruel basilisk of these mountains, to see if
in thy presence blood will flow from the wounds of this wretched being
thy cruelty has robbed of life; or is it to exult over the cruel work
of thy humours that thou art come; or like another pitiless Nero to
look down from that height upon the ruin of his Rome in embers; or in
thy arrogance to trample on this ill-fated corpse, as the ungrateful
daughter trampled on her father Tarquin’s? Tell us quickly for what
thou art come, or what it is thou wouldst have, for, as I know the
thoughts of Chrysostom never failed to obey thee in life, I will make
all these who call themselves his friends obey thee, though he be
dead.”

“I come not, Ambrosia for any of the purposes thou hast named,” replied
Marcela, “but to defend myself and to prove how unreasonable are all
those who blame me for their sorrow and for Chrysostom’s death; and
therefore I ask all of you that are here to give me your attention, for
it will not take much time or many words to bring the truth home to
persons of sense. Heaven has made me, so you say, beautiful, and so
much so that in spite of yourselves my beauty leads you to love me; and
for the love you show me you say, and even urge, that I am bound to
love you. By that natural understanding which God has given me I know
that everything beautiful attracts love, but I cannot see how, by
reason of being loved, that which is loved for its beauty is bound to
love that which loves it; besides, it may happen that the lover of that
which is beautiful may be ugly, and ugliness being detestable, it is
very absurd to say, “I love thee because thou art beautiful, thou must
love me though I be ugly.” But supposing the beauty equal on both
sides, it does not follow that the inclinations must be therefore
alike, for it is not every beauty that excites love, some but pleasing
the eye without winning the affection; and if every sort of beauty
excited love and won the heart, the will would wander vaguely to and
fro unable to make choice of any; for as there is an infinity of
beautiful objects there must be an infinity of inclinations, and true
love, I have heard it said, is indivisible, and must be voluntary and
not compelled. If this be so, as I believe it to be, why do you desire
me to bend my will by force, for no other reason but that you say you
love me? Nay—tell me—had Heaven made me ugly, as it has made me
beautiful, could I with justice complain of you for not loving me?
Moreover, you must remember that the beauty I possess was no choice of
mine, for, be it what it may, Heaven of its bounty gave it me without
my asking or choosing it; and as the viper, though it kills with it,
does not deserve to be blamed for the poison it carries, as it is a
gift of nature, neither do I deserve reproach for being beautiful; for
beauty in a modest woman is like fire at a distance or a sharp sword;
the one does not burn, the other does not cut, those who do not come
too near. Honour and virtue are the ornaments of the mind, without
which the body, though it be so, has no right to pass for beautiful;
but if modesty is one of the virtues that specially lend a grace and
charm to mind and body, why should she who is loved for her beauty part
with it to gratify one who for his pleasure alone strives with all his
might and energy to rob her of it? I was born free, and that I might
live in freedom I chose the solitude of the fields; in the trees of the
mountains I find society, the clear waters of the brooks are my
mirrors, and to the trees and waters I make known my thoughts and
charms. I am a fire afar off, a sword laid aside. Those whom I have
inspired with love by letting them see me, I have by words undeceived,
and if their longings live on hope—and I have given none to Chrysostom
or to any other—it cannot justly be said that the death of any is my
doing, for it was rather his own obstinacy than my cruelty that killed
him; and if it be made a charge against me that his wishes were
honourable, and that therefore I was bound to yield to them, I answer
that when on this very spot where now his grave is made he declared to
me his purity of purpose, I told him that mine was to live in perpetual
solitude, and that the earth alone should enjoy the fruits of my
retirement and the spoils of my beauty; and if, after this open avowal,
he chose to persist against hope and steer against the wind, what
wonder is it that he should sink in the depths of his infatuation? If I
had encouraged him, I should be false; if I had gratified him, I should
have acted against my own better resolution and purpose. He was
persistent in spite of warning, he despaired without being hated.
Bethink you now if it be reasonable that his suffering should be laid
to my charge. Let him who has been deceived complain, let him give way
to despair whose encouraged hopes have proved vain, let him flatter
himself whom I shall entice, let him boast whom I shall receive; but
let not him call me cruel or homicide to whom I make no promise, upon
whom I practise no deception, whom I neither entice nor receive. It has
not been so far the will of Heaven that I should love by fate, and to
expect me to love by choice is idle. Let this general declaration serve
for each of my suitors on his own account, and let it be understood
from this time forth that if anyone dies for me it is not of jealousy
or misery he dies, for she who loves no one can give no cause for
jealousy to any, and candour is not to be confounded with scorn. Let
him who calls me wild beast and basilisk, leave me alone as something
noxious and evil; let him who calls me ungrateful, withhold his
service; who calls me wayward, seek not my acquaintance; who calls me
cruel, pursue me not; for this wild beast, this basilisk, this
ungrateful, cruel, wayward being has no kind of desire to seek, serve,
know, or follow them. If Chrysostom’s impatience and violent passion
killed him, why should my modest behaviour and circumspection be
blamed? If I preserve my purity in the society of the trees, why should
he who would have me preserve it among men, seek to rob me of it? I
have, as you know, wealth of my own, and I covet not that of others; my
taste is for freedom, and I have no relish for constraint; I neither
love nor hate anyone; I do not deceive this one or court that, or
trifle with one or play with another. The modest converse of the
shepherd girls of these hamlets and the care of my goats are my
recreations; my desires are bounded by these mountains, and if they
ever wander hence it is to contemplate the beauty of the heavens, steps
by which the soul travels to its primeval abode.”

With these words, and not waiting to hear a reply, she turned and
passed into the thickest part of a wood that was hard by, leaving all
who were there lost in admiration as much of her good sense as of her
beauty. Some—those wounded by the irresistible shafts launched by her
bright eyes—made as though they would follow her, heedless of the frank
declaration they had heard; seeing which, and deeming this a fitting
occasion for the exercise of his chivalry in aid of distressed damsels,
Don Quixote, laying his hand on the hilt of his sword, exclaimed in a
loud and distinct voice:

“Let no one, whatever his rank or condition, dare to follow the
beautiful Marcela, under pain of incurring my fierce indignation. She
has shown by clear and satisfactory arguments that little or no fault
is to be found with her for the death of Chrysostom, and also how far
she is from yielding to the wishes of any of her lovers, for which
reason, instead of being followed and persecuted, she should in justice
be honoured and esteemed by all the good people of the world, for she
shows that she is the only woman in it that holds to such a virtuous
resolution.”

Whether it was because of the threats of Don Quixote, or because
Ambrosio told them to fulfil their duty to their good friend, none of
the shepherds moved or stirred from the spot until, having finished the
grave and burned Chrysostom’s papers, they laid his body in it, not
without many tears from those who stood by. They closed the grave with
a heavy stone until a slab was ready which Ambrosio said he meant to
have prepared, with an epitaph which was to be to this effect:

Beneath the stone before your eyes
The body of a lover lies;
In life he was a shepherd swain,
In death a victim to disdain.
Ungrateful, cruel, coy, and fair,
Was she that drove him to despair,
And Love hath made her his ally
For spreading wide his tyranny.


They then strewed upon the grave a profusion of flowers and branches,
and all expressing their condolence with his friend Ambrosio, took
their leave. Vivaldo and his companion did the same; and Don Quixote
bade farewell to his hosts and to the travellers, who pressed him to
come with them to Seville, as being such a convenient place for finding
adventures, for they presented themselves in every street and round
every corner oftener than anywhere else. Don Quixote thanked them for
their advice and for the disposition they showed to do him a favour,
and said that for the present he would not, and must not go to Seville
until he had cleared all these mountains of highwaymen and robbers, of
whom report said they were full. Seeing his good intention, the
travellers were unwilling to press him further, and once more bidding
him farewell, they left him and pursued their journey, in the course of
which they did not fail to discuss the story of Marcela and Chrysostom
as well as the madness of Don Quixote. He, on his part, resolved to go
in quest of the shepherdess Marcela, and make offer to her of all the
service he could render her; but things did not fall out with him as he
expected, according to what is related in the course of this veracious
history, of which the Second Part ends here.



c14e.jpg (31K)



CHAPTER XV.
IN WHICH IS RELATED THE UNFORTUNATE ADVENTURE THAT DON QUIXOTE FELL IN
WITH WHEN HE FELL OUT WITH CERTAIN HEARTLESS YANGUESANS




c15a.jpg (81K)

Full Size




The sage Cid Hamete Benengeli relates that as soon as Don Quixote took
leave of his hosts and all who had been present at the burial of
Chrysostom, he and his squire passed into the same wood which they had
seen the shepherdess Marcela enter, and after having wandered for more
than two hours in all directions in search of her without finding her,
they came to a halt in a glade covered with tender grass, beside which
ran a pleasant cool stream that invited and compelled them to pass
there the hours of the noontide heat, which by this time was beginning
to come on oppressively. Don Quixote and Sancho dismounted, and turning
Rocinante and the ass loose to feed on the grass that was there in
abundance, they ransacked the alforjas, and without any ceremony very
peacefully and sociably master and man made their repast on what they
found in them.



c15b.jpg (376K)

Full Size




Sancho had not thought it worth while to hobble Rocinante, feeling
sure, from what he knew of his staidness and freedom from incontinence,
that all the mares in the Cordova pastures would not lead him into an
impropriety. Chance, however, and the devil, who is not always asleep,
so ordained it that feeding in this valley there was a drove of
Galician ponies belonging to certain Yanguesan carriers, whose way it
is to take their midday rest with their teams in places and spots where
grass and water abound; and that where Don Quixote chanced to be suited
the Yanguesans’ purpose very well. It so happened, then, that Rocinante
took a fancy to disport himself with their ladyships the ponies, and
abandoning his usual gait and demeanour as he scented them, he, without
asking leave of his master, got up a briskish little trot and hastened
to make known his wishes to them; they, however, it seemed, preferred
their pasture to him, and received him with their heels and teeth to
such effect that they soon broke his girths and left him naked without
a saddle to cover him; but what must have been worse to him was that
the carriers, seeing the violence he was offering to their mares, came
running up armed with stakes, and so belaboured him that they brought
him sorely battered to the ground.

By this time Don Quixote and Sancho, who had witnessed the drubbing of
Rocinante, came up panting, and said Don Quixote to Sancho:

“So far as I can see, friend Sancho, these are not knights but base
folk of low birth: I mention it because thou canst lawfully aid me in
taking due vengeance for the insult offered to Rocinante before our
eyes.”

“What the devil vengeance can we take,” answered Sancho, “if they are
more than twenty, and we no more than two, or, indeed, perhaps not more
than one and a half?”

“I count for a hundred,” replied Don Quixote, and without more words he
drew his sword and attacked the Yanguesans and excited and impelled by
the example of his master, Sancho did the same; and to begin with, Don
Quixote delivered a slash at one of them that laid open the leather
jerkin he wore, together with a great portion of his shoulder. The
Yanguesans, seeing themselves assaulted by only two men while they were
so many, betook themselves to their stakes, and driving the two into
the middle they began to lay on with great zeal and energy; in fact, at
the second blow they brought Sancho to the ground, and Don Quixote
fared the same way, all his skill and high mettle availing him nothing,
and fate willed it that he should fall at the feet of Rocinante, who
had not yet risen; whereby it may be seen how furiously stakes can
pound in angry boorish hands.



c15c.jpg (362K)

Full Size




Then, seeing the mischief they had done, the Yanguesans with all the
haste they could loaded their team and pursued their journey, leaving
the two adventurers a sorry sight and in sorrier mood.

Sancho was the first to come to, and finding himself close to his
master he called to him in a weak and doleful voice, “Señor Don
Quixote, ah, Señor Don Quixote!”

“What wouldst thou, brother Sancho?” answered Don Quixote in the same
feeble suffering tone as Sancho.

“I would like, if it were possible,” answered Sancho Panza, “your
worship to give me a couple of sups of that potion of the fiery Blas,
if it be that you have any to hand there; perhaps it will serve for
broken bones as well as for wounds.”

“If I only had it here, wretch that I am, what more should we want?”
said Don Quixote; “but I swear to thee, Sancho Panza, on the faith of a
knight-errant, ere two days are over, unless fortune orders otherwise,
I mean to have it in my possession, or my hand will have lost its
cunning.”

“But in how many does your worship think we shall have the use of our
feet?” answered Sancho Panza.

“For myself I must say I cannot guess how many,” said the battered
knight Don Quixote; “but I take all the blame upon myself, for I had no
business to put hand to sword against men who where not dubbed knights
like myself, and so I believe that in punishment for having
transgressed the laws of chivalry the God of battles has permitted this
chastisement to be administered to me; for which reason, brother
Sancho, it is well thou shouldst receive a hint on the matter which I
am now about to mention to thee, for it is of much importance to the
welfare of both of us. It is at when thou shalt see rabble of this sort
offering us insult thou art not to wait till I draw sword against them,
for I shall not do so at all; but do thou draw sword and chastise them
to thy heart’s content, and if any knights come to their aid and
defence I will take care to defend thee and assail them with all my
might; and thou hast already seen by a thousand signs and proofs what
the might of this strong arm of mine is equal to”—so uplifted had the
poor gentleman become through the victory over the stout Biscayan.

But Sancho did not so fully approve of his master’s admonition as to
let it pass without saying in reply, “Señor, I am a man of peace, meek
and quiet, and I can put up with any affront because I have a wife and
children to support and bring up; so let it be likewise a hint to your
worship, as it cannot be a mandate, that on no account will I draw
sword either against clown or against knight, and that here before God
I forgive the insults that have been offered me, whether they have
been, are, or shall be offered me by high or low, rich or poor, noble
or commoner, not excepting any rank or condition whatsoever.”

To all which his master said in reply, “I wish I had breath enough to
speak somewhat easily, and that the pain I feel on this side would
abate so as to let me explain to thee, Panza, the mistake thou makest.
Come now, sinner, suppose the wind of fortune, hitherto so adverse,
should turn in our favour, filling the sails of our desires so that
safely and without impediment we put into port in some one of those
islands I have promised thee, how would it be with thee if on winning
it I made thee lord of it? Why, thou wilt make it well-nigh impossible
through not being a knight nor having any desire to be one, nor
possessing the courage nor the will to avenge insults or defend thy
lordship; for thou must know that in newly conquered kingdoms and
provinces the minds of the inhabitants are never so quiet nor so well
disposed to the new lord that there is no fear of their making some
move to change matters once more, and try, as they say, what chance may
do for them; so it is essential that the new possessor should have good
sense to enable him to govern, and valour to attack and defend himself,
whatever may befall him.”

“In what has now befallen us,” answered Sancho, “I’d have been well
pleased to have that good sense and that valour your worship speaks of,
but I swear on the faith of a poor man I am more fit for plasters than
for arguments. See if your worship can get up, and let us help
Rocinante, though he does not deserve it, for he was the main cause of
all this thrashing. I never thought it of Rocinante, for I took him to
be a virtuous person and as quiet as myself. After all, they say right
that it takes a long time to come to know people, and that there is
nothing sure in this life. Who would have said that, after such mighty
slashes as your worship gave that unlucky knight-errant, there was
coming, travelling post and at the very heels of them, such a great
storm of sticks as has fallen upon our shoulders?”

“And yet thine, Sancho,” replied Don Quixote, “ought to be used to such
squalls; but mine, reared in soft cloth and fine linen, it is plain
they must feel more keenly the pain of this mishap, and if it were not
that I imagine—why do I say imagine?—know of a certainty that all these
annoyances are very necessary accompaniments of the calling of arms, I
would lay me down here to die of pure vexation.”

To this the squire replied, “Señor, as these mishaps are what one reaps
of chivalry, tell me if they happen very often, or if they have their
own fixed times for coming to pass; because it seems to me that after
two harvests we shall be no good for the third, unless God in his
infinite mercy helps us.”

“Know, friend Sancho,” answered Don Quixote, “that the life of
knights-errant is subject to a thousand dangers and reverses, and
neither more nor less is it within immediate possibility for
knights-errant to become kings and emperors, as experience has shown in
the case of many different knights with whose histories I am thoroughly
acquainted; and I could tell thee now, if the pain would let me, of
some who simply by might of arm have risen to the high stations I have
mentioned; and those same, both before and after, experienced divers
misfortunes and miseries; for the valiant Amadis of Gaul found himself
in the power of his mortal enemy Arcalaus the magician, who, it is
positively asserted, holding him captive, gave him more than two
hundred lashes with the reins of his horse while tied to one of the
pillars of a court; and moreover there is a certain recondite author of
no small authority who says that the Knight of Phœbus, being caught in
a certain pitfall, which opened under his feet in a certain castle, on
falling found himself bound hand and foot in a deep pit underground,
where they administered to him one of those things they call clysters,
of sand and snow-water, that well-nigh finished him; and if he had not
been succoured in that sore extremity by a sage, a great friend of his,
it would have gone very hard with the poor knight; so I may well suffer
in company with such worthy folk, for greater were the indignities
which they had to suffer than those which we suffer. For I would have
thee know, Sancho, that wounds caused by any instruments which happen
by chance to be in hand inflict no indignity, and this is laid down in
the law of the duel in express words: if, for instance, the cobbler
strikes another with the last which he has in his hand, though it be in
fact a piece of wood, it cannot be said for that reason that he whom he
struck with it has been cudgelled. I say this lest thou shouldst
imagine that because we have been drubbed in this affray we have
therefore suffered any indignity; for the arms those men carried, with
which they pounded us, were nothing more than their stakes, and not one
of them, so far as I remember, carried rapier, sword, or dagger.”

“They gave me no time to see that much,” answered Sancho, “for hardly
had I laid hand on my tizona when they signed the cross on my shoulders
with their sticks in such style that they took the sight out of my eyes
and the strength out of my feet, stretching me where I now lie, and
where thinking of whether all those stake-strokes were an indignity or
not gives me no uneasiness, which the pain of the blows does, for they
will remain as deeply impressed on my memory as on my shoulders.”

“For all that let me tell thee, brother Panza,” said Don Quixote, “that
there is no recollection which time does not put an end to, and no pain
which death does not remove.”

“And what greater misfortune can there be,” replied Panza, “than the
one that waits for time to put an end to it and death to remove it? If
our mishap were one of those that are cured with a couple of plasters,
it would not be so bad; but I am beginning to think that all the
plasters in a hospital almost won’t be enough to put us right.”

“No more of that: pluck strength out of weakness, Sancho, as I mean to
do,” returned Don Quixote, “and let us see how Rocinante is, for it
seems to me that not the least share of this mishap has fallen to the
lot of the poor beast.”

“There is nothing wonderful in that,” replied Sancho, “since he is a
knight-errant too; what I wonder at is that my beast should have come
off scot-free where we come out scotched.”

“Fortune always leaves a door open in adversity in order to bring
relief to it,” said Don Quixote; “I say so because this little beast
may now supply the want of Rocinante, carrying me hence to some castle
where I may be cured of my wounds. And moreover I shall not hold it any
dishonour to be so mounted, for I remember having read how the good old
Silenus, the tutor and instructor of the gay god of laughter, when he
entered the city of the hundred gates, went very contentedly mounted on
a handsome ass.”

“It may be true that he went mounted as your worship says,” answered
Sancho, “but there is a great difference between going mounted and
going slung like a sack of manure.”

To which Don Quixote replied, “Wounds received in battle confer honour
instead of taking it away; and so, friend Panza, say no more, but, as I
told thee before, get up as well as thou canst and put me on top of thy
beast in whatever fashion pleases thee best, and let us go hence ere
night come on and surprise us in these wilds.”

“And yet I have heard your worship say,” observed Panza, “that it is
very meet for knights-errant to sleep in wastes and deserts, and that
they esteem it very good fortune.”

“That is,” said Don Quixote, “when they cannot help it, or when they
are in love; and so true is this that there have been knights who have
remained two years on rocks, in sunshine and shade and all the
inclemencies of heaven, without their ladies knowing anything of it;
and one of these was Amadis, when, under the name of Beltenebros, he
took up his abode on the Peña Pobre for—I know not if it was eight
years or eight months, for I am not very sure of the reckoning; at any
rate he stayed there doing penance for I know not what pique the
Princess Oriana had against him; but no more of this now, Sancho, and
make haste before a mishap like Rocinante’s befalls the ass.”

“The very devil would be in it in that case,” said Sancho; and letting
off thirty “ohs,” and sixty sighs, and a hundred and twenty
maledictions and execrations on whomsoever it was that had brought him
there, he raised himself, stopping half-way bent like a Turkish bow
without power to bring himself upright, but with all his pains he
saddled his ass, who too had gone astray somewhat, yielding to the
excessive licence of the day; he next raised up Rocinante, and as for
him, had he possessed a tongue to complain with, most assuredly neither
Sancho nor his master would have been behind him.



c15d.jpg (329K)

Full Size




To be brief, Sancho fixed Don Quixote on the ass and secured Rocinante
with a leading rein, and taking the ass by the halter, he proceeded
more or less in the direction in which it seemed to him the high road
might be; and, as chance was conducting their affairs for them from
good to better, he had not gone a short league when the road came in
sight, and on it he perceived an inn, which to his annoyance and to the
delight of Don Quixote must needs be a castle. Sancho insisted that it
was an inn, and his master that it was not one, but a castle, and the
dispute lasted so long that before the point was settled they had time
to reach it, and into it Sancho entered with all his team without any
further controversy.



c15e.jpg (31K)



CHAPTER XVI.
OF WHAT HAPPENED TO THE INGENIOUS GENTLEMAN IN THE INN WHICH HE TOOK TO
BE A CASTLE




c16a.jpg (129K)

Full Size




The innkeeper, seeing Don Quixote slung across the ass, asked Sancho
what was amiss with him. Sancho answered that it was nothing, only that
he had fallen down from a rock and had his ribs a little bruised. The
innkeeper had a wife whose disposition was not such as those of her
calling commonly have, for she was by nature kind-hearted and felt for
the sufferings of her neighbours, so she at once set about tending Don
Quixote, and made her young daughter, a very comely girl, help her in
taking care of her guest. There was besides in the inn, as servant, an
Asturian lass with a broad face, flat poll, and snub nose, blind of one
eye and not very sound in the other. The elegance of her shape, to be
sure, made up for all her defects; she did not measure seven palms from
head to foot, and her shoulders, which overweighted her somewhat, made
her contemplate the ground more than she liked. This graceful lass,
then, helped the young girl, and the two made up a very bad bed for Don
Quixote in a garret that showed evident signs of having formerly served
for many years as a straw-loft, in which there was also quartered a
carrier whose bed was placed a little beyond our Don Quixote’s, and,
though only made of the pack-saddles and cloths of his mules, had much
the advantage of it, as Don Quixote’s consisted simply of four rough
boards on two not very even trestles, a mattress, that for thinness
might have passed for a quilt, full of pellets which, were they not
seen through the rents to be wool, would to the touch have seemed
pebbles in hardness, two sheets made of buckler leather, and a coverlet
the threads of which anyone that chose might have counted without
missing one in the reckoning.

On this accursed bed Don Quixote stretched himself, and the hostess and
her daughter soon covered him with plasters from top to toe, while
Maritornes—for that was the name of the Asturian—held the light for
them, and while plastering him, the hostess, observing how full of
wheals Don Quixote was in some places, remarked that this had more the
look of blows than of a fall.

It was not blows, Sancho said, but that the rock had many points and
projections, and that each of them had left its mark. “Pray, señora,”
he added, “manage to save some tow, as there will be no want of someone
to use it, for my loins too are rather sore.”

“Then you must have fallen too,” said the hostess.

“I did not fall,” said Sancho Panza, “but from the shock I got at
seeing my master fall, my body aches so that I feel as if I had had a
thousand thwacks.”

“That may well be,” said the young girl, “for it has many a time
happened to me to dream that I was falling down from a tower and never
coming to the ground, and when I awoke from the dream to find myself as
weak and shaken as if I had really fallen.”

“There is the point, señora,” replied Sancho Panza, “that I without
dreaming at all, but being more awake than I am now, find myself with
scarcely less wheals than my master, Don Quixote.”

“How is the gentleman called?” asked Maritornes the Asturian.

“Don Quixote of La Mancha,” answered Sancho Panza, “and he is a
knight-adventurer, and one of the best and stoutest that have been seen
in the world this long time past.”

“What is a knight-adventurer?” said the lass.

“Are you so new in the world as not to know?” answered Sancho Panza.
“Well, then, you must know, sister, that a knight-adventurer is a thing
that in two words is seen drubbed and emperor, that is to-day the most
miserable and needy being in the world, and to-morrow will have two or
three crowns of kingdoms to give his squire.”

“Then how is it,” said the hostess, “that belonging to so good a master
as this, you have not, to judge by appearances, even so much as a
county?”

“It is too soon yet,” answered Sancho, “for we have only been a month
going in quest of adventures, and so far we have met with nothing that
can be called one, for it will happen that when one thing is looked for
another thing is found; however, if my master Don Quixote gets well of
this wound, or fall, and I am left none the worse of it, I would not
change my hopes for the best title in Spain.”

To all this conversation Don Quixote was listening very attentively,
and sitting up in bed as well as he could, and taking the hostess by
the hand he said to her, “Believe me, fair lady, you may call yourself
fortunate in having in this castle of yours sheltered my person, which
is such that if I do not myself praise it, it is because of what is
commonly said, that self-praise debaseth; but my squire will inform you
who I am. I only tell you that I shall preserve for ever inscribed on
my memory the service you have rendered me in order to tender you my
gratitude while life shall last me; and would to Heaven love held me
not so enthralled and subject to its laws and to the eyes of that fair
ingrate whom I name between my teeth, but that those of this lovely
damsel might be the masters of my liberty.”

The hostess, her daughter, and the worthy Maritornes listened in
bewilderment to the words of the knight-errant; for they understood
about as much of them as if he had been talking Greek, though they
could perceive they were all meant for expressions of good-will and
blandishments; and not being accustomed to this kind of language, they
stared at him and wondered to themselves, for he seemed to them a man
of a different sort from those they were used to, and thanking him in
pothouse phrase for his civility they left him, while the Asturian gave
her attention to Sancho, who needed it no less than his master.

The carrier had made an arrangement with her for recreation that night,
and she had given him her word that when the guests were quiet and the
family asleep she would come in search of him and meet his wishes
unreservedly. And it is said of this good lass that she never made
promises of the kind without fulfilling them, even though she made them
in a forest and without any witness present, for she plumed herself
greatly on being a lady and held it no disgrace to be in such an
employment as servant in an inn, because, she said, misfortunes and
ill-luck had brought her to that position. The hard, narrow, wretched,
rickety bed of Don Quixote stood first in the middle of this star-lit
stable, and close beside it Sancho made his, which merely consisted of
a rush mat and a blanket that looked as if it was of threadbare canvas
rather than of wool. Next to these two beds was that of the carrier,
made up, as has been said, of the pack-saddles and all the trappings of
the two best mules he had, though there were twelve of them, sleek,
plump, and in prime condition, for he was one of the rich carriers of
Arévalo, according to the author of this history, who particularly
mentions this carrier because he knew him very well, and they even say
was in some degree a relation of his; besides which Cid Hamete
Benengeli was a historian of great research and accuracy in all things,
as is very evident since he would not pass over in silence those that
have been already mentioned, however trifling and insignificant they
might be, an example that might be followed by those grave historians
who relate transactions so curtly and briefly that we hardly get a
taste of them, all the substance of the work being left in the inkstand
from carelessness, perverseness, or ignorance. A thousand blessings on
the author of “Tablante de Ricamonte” and that of the other book in
which the deeds of the Conde Tomillas are recounted; with what
minuteness they describe everything!

To proceed, then: after having paid a visit to his team and given them
their second feed, the carrier stretched himself on his pack-saddles
and lay waiting for his conscientious Maritornes. Sancho was by this
time plastered and had lain down, and though he strove to sleep the
pain of his ribs would not let him, while Don Quixote with the pain of
his had his eyes as wide open as a hare’s.



c16b.jpg (333K)

Full Size




The inn was all in silence, and in the whole of it there was no light
except that given by a lantern that hung burning in the middle of the
gateway. This strange stillness, and the thoughts, always present to
our knight’s mind, of the incidents described at every turn in the
books that were the cause of his misfortune, conjured up to his
imagination as extraordinary a delusion as can well be conceived, which
was that he fancied himself to have reached a famous castle (for, as
has been said, all the inns he lodged in were castles to his eyes), and
that the daughter of the innkeeper was daughter of the lord of the
castle, and that she, won by his high-bred bearing, had fallen in love
with him, and had promised to come to his bed for a while that night
without the knowledge of her parents; and holding all this fantasy that
he had constructed as solid fact, he began to feel uneasy and to
consider the perilous risk which his virtue was about to encounter, and
he resolved in his heart to commit no treason to his lady Dulcinea del
Toboso, even though the queen Guinevere herself and the dame Quintañona
should present themselves before him.

While he was taken up with these vagaries, then, the time and the
hour—an unlucky one for him—arrived for the Asturian to come, who in
her smock, with bare feet and her hair gathered into a fustian coif,
with noiseless and cautious steps entered the chamber where the three
were quartered, in quest of the carrier; but scarcely had she gained
the door when Don Quixote perceived her, and sitting up in his bed in
spite of his plasters and the pain of his ribs, he stretched out his
arms to receive his beauteous damsel. The Asturian, who went all
doubled up and in silence with her hands before her feeling for her
lover, encountered the arms of Don Quixote, who grasped her tightly by
the wrist, and drawing her towards him, while she dared not utter a
word, made her sit down on the bed. He then felt her smock, and
although it was of sackcloth it appeared to him to be of the finest and
softest silk: on her wrists she wore some glass beads, but to him they
had the sheen of precious Orient pearls: her hair, which in some
measure resembled a horse’s mane, he rated as threads of the brightest
gold of Araby, whose refulgence dimmed the sun himself: her breath,
which no doubt smelt of yesterday’s stale salad, seemed to him to
diffuse a sweet aromatic fragrance from her mouth; and, in short, he
drew her portrait in his imagination with the same features and in the
same style as that which he had seen in his books of the other
princesses who, smitten by love, came with all the adornments that are
here set down, to see the sorely wounded knight; and so great was the
poor gentleman’s blindness that neither touch, nor smell, nor anything
else about the good lass that would have made any but a carrier vomit,
were enough to undeceive him; on the contrary, he was persuaded he had
the goddess of beauty in his arms, and holding her firmly in his grasp
he went on to say in low, tender voice:

“Would that found myself, lovely and exalted lady, in a position to
repay such a favour as that which you, by the sight of your great
beauty, have granted me; but fortune, which is never weary of
persecuting the good, has chosen to place me upon this bed, where I lie
so bruised and broken that though my inclination would gladly comply
with yours it is impossible; besides, to this impossibility another yet
greater is to be added, which is the faith that I have pledged to the
peerless Dulcinea del Toboso, sole lady of my most secret thoughts; and
were it not that this stood in the way I should not be so insensible a
knight as to miss the happy opportunity which your great goodness has
offered me.”

Maritornes was fretting and sweating at finding herself held so fast by
Don Quixote, and not understanding or heeding the words he addressed to
her, she strove without speaking to free herself. The worthy carrier,
whose unholy thoughts kept him awake, was aware of his doxy the moment
she entered the door, and was listening attentively to all Don Quixote
said; and jealous that the Asturian should have broken her word with
him for another, drew nearer to Don Quixote’s bed and stood still to
see what would come of this talk which he could not understand; but
when he perceived the wench struggling to get free and Don Quixote
striving to hold her, not relishing the joke he raised his arm and
delivered such a terrible cuff on the lank jaws of the amorous knight
that he bathed all his mouth in blood, and not content with this he
mounted on his ribs and with his feet tramped all over them at a pace
rather smarter than a trot. The bed which was somewhat crazy and not
very firm on its feet, unable to support the additional weight of the
carrier, came to the ground, and at the mighty crash of this the
innkeeper awoke and at once concluded that it must be some brawl of
Maritornes’, because after calling loudly to her he got no answer. With
this suspicion he got up, and lighting a lamp hastened to the quarter
where he had heard the disturbance. The wench, seeing that her master
was coming and knowing that his temper was terrible, frightened and
panic-stricken made for the bed of Sancho Panza, who still slept, and
crouching upon it made a ball of herself.

The innkeeper came in exclaiming, “Where art thou, strumpet? Of course
this is some of thy work.” At this Sancho awoke, and feeling this mass
almost on top of him fancied he had the nightmare and began to
distribute fisticuffs all round, of which a certain share fell upon
Maritornes, who, irritated by the pain and flinging modesty aside, paid
back so many in return to Sancho that she woke him up in spite of
himself. He then, finding himself so handled, by whom he knew not,
raising himself up as well as he could, grappled with Maritornes, and
he and she between them began the bitterest and drollest scrimmage in
the world. The carrier, however, perceiving by the light of the
innkeeper candle how it fared with his ladylove, quitting Don Quixote,
ran to bring her the help she needed; and the innkeeper did the same
but with a different intention, for his was to chastise the lass, as he
believed that beyond a doubt she alone was the cause of all the
harmony. And so, as the saying is, cat to rat, rat to rope, rope to
stick, the carrier pounded Sancho, Sancho the lass, she him, and the
innkeeper her, and all worked away so briskly that they did not give
themselves a moment’s rest; and the best of it was that the innkeeper’s
lamp went out, and as they were left in the dark they all laid on one
upon the other in a mass so unmercifully that there was not a sound
spot left where a hand could light.

It so happened that there was lodging that night in the inn a
caudrillero of what they call the Old Holy Brotherhood of Toledo, who,
also hearing the extraordinary noise of the conflict, seized his staff
and the tin case with his warrants, and made his way in the dark into
the room crying: “Hold! in the name of the Jurisdiction! Hold! in the
name of the Holy Brotherhood!”

The first that he came upon was the pummelled Don Quixote, who lay
stretched senseless on his back upon his broken-down bed, and, his hand
falling on the beard as he felt about, he continued to cry, “Help for
the Jurisdiction!” but perceiving that he whom he had laid hold of did
not move or stir, he concluded that he was dead and that those in the
room were his murderers, and with this suspicion he raised his voice
still higher, calling out, “Shut the inn gate; see that no one goes
out; they have killed a man here!” This cry startled them all, and each
dropped the contest at the point at which the voice reached him. The
innkeeper retreated to his room, the carrier to his pack-saddles, the
lass to her crib; the unlucky Don Quixote and Sancho alone were unable
to move from where they were. The cuadrillero on this let go Don
Quixote’s beard, and went out to look for a light to search for and
apprehend the culprits; but not finding one, as the innkeeper had
purposely extinguished the lantern on retreating to his room, he was
compelled to have recourse to the hearth, where after much time and
trouble he lit another lamp.



c16e.jpg (32K)



CHAPTER XVII.
IN WHICH ARE CONTAINED THE INNUMERABLE TROUBLES WHICH THE BRAVE DON
QUIXOTE AND HIS GOOD SQUIRE SANCHO PANZA ENDURED IN THE INN, WHICH TO
HIS MISFORTUNE HE TOOK TO BE A CASTLE



c17a.jpg (87K)

Full Size




By this time Don Quixote had recovered from his swoon; and in the same
tone of voice in which he had called to his squire the day before when
he lay stretched “in the vale of the stakes,” he began calling to him
now, “Sancho, my friend, art thou asleep? sleepest thou, friend
Sancho?”

“How can I sleep, curses on it!” returned Sancho discontentedly and
bitterly, “when it is plain that all the devils have been at me this
night?”

“Thou mayest well believe that,” answered Don Quixote, “because, either
I know little, or this castle is enchanted, for thou must know—but this
that I am now about to tell thee thou must swear to keep secret until
after my death.”

“I swear it,” answered Sancho.

“I say so,” continued Don Quixote, “because I hate taking away anyone’s
good name.”

“I say,” replied Sancho, “that I swear to hold my tongue about it till
the end of your worship’s days, and God grant I may be able to let it
out to-morrow.”

“Do I do thee such injuries, Sancho,” said Don Quixote, “that thou
wouldst see me dead so soon?”

“It is not for that,” replied Sancho, “but because I hate keeping
things long, and I don’t want them to grow rotten with me from
over-keeping.”

“At any rate,” said Don Quixote, “I have more confidence in thy
affection and good nature; and so I would have thee know that this
night there befell me one of the strangest adventures that I could
describe, and to relate it to thee briefly thou must know that a little
while ago the daughter of the lord of this castle came to me, and that
she is the most elegant and beautiful damsel that could be found in the
wide world. What I could tell thee of the charms of her person! of her
lively wit! of other secret matters which, to preserve the fealty I owe
to my lady Dulcinea del Toboso, I shall pass over unnoticed and in
silence! I will only tell thee that, either fate being envious of so
great a boon placed in my hands by good fortune, or perhaps (and this
is more probable) this castle being, as I have already said, enchanted,
at the time when I was engaged in the sweetest and most amorous
discourse with her, there came, without my seeing or knowing whence it
came, a hand attached to some arm of some huge giant, that planted such
a cuff on my jaws that I have them all bathed in blood, and then
pummelled me in such a way that I am in a worse plight than yesterday
when the carriers, on account of Rocinante’s misbehaviour, inflicted on
us the injury thou knowest of; whence conjecture that there must be
some enchanted Moor guarding the treasure of this damsel’s beauty, and
that it is not for me.”

“Not for me either,” said Sancho, “for more than four hundred Moors
have so thrashed me that the drubbing of the stakes was cakes and
fancy-bread to it. But tell me, señor, what do you call this excellent
and rare adventure that has left us as we are left now? Though your
worship was not so badly off, having in your arms that incomparable
beauty you spoke of; but I, what did I have, except the heaviest whacks
I think I had in all my life? Unlucky me and the mother that bore me!
for I am not a knight-errant and never expect to be one, and of all the
mishaps, the greater part falls to my share.”

“Then thou hast been thrashed too?” said Don Quixote.

“Didn’t I say so? worse luck to my line!” said Sancho.

“Be not distressed, friend,” said Don Quixote, “for I will now make the
precious balsam with which we shall cure ourselves in the twinkling of
an eye.”

By this time the cuadrillero had succeeded in lighting the lamp, and
came in to see the man that he thought had been killed; and as Sancho
caught sight of him at the door, seeing him coming in his shirt, with a
cloth on his head, and a lamp in his hand, and a very forbidding
countenance, he said to his master, “Señor, can it be that this is the
enchanted Moor coming back to give us more castigation if there be
anything still left in the ink-bottle?”

“It cannot be the Moor,” answered Don Quixote, “for those under
enchantment do not let themselves be seen by anyone.”

“If they don’t let themselves be seen, they let themselves be felt,”
said Sancho; “if not, let my shoulders speak to the point.”

“Mine could speak too,” said Don Quixote, “but that is not a sufficient
reason for believing that what we see is the enchanted Moor.”

The officer came up, and finding them engaged in such a peaceful
conversation, stood amazed; though Don Quixote, to be sure, still lay
on his back unable to move from pure pummelling and plasters. The
officer turned to him and said, “Well, how goes it, good man?”

“I would speak more politely if I were you,” replied Don Quixote; “is
it the way of this country to address knights-errant in that style, you
booby?”

The cuadrillero finding himself so disrespectfully treated by such a
sorry-looking individual, lost his temper, and raising the lamp full of
oil, smote Don Quixote such a blow with it on the head that he gave him
a badly broken pate; then, all being in darkness, he went out, and
Sancho Panza said, “That is certainly the enchanted Moor, Señor, and he
keeps the treasure for others, and for us only the cuffs and
lamp-whacks.”

“That is the truth,” answered Don Quixote, “and there is no use in
troubling oneself about these matters of enchantment or being angry or
vexed at them, for as they are invisible and visionary we shall find no
one on whom to avenge ourselves, do what we may; rise, Sancho, if thou
canst, and call the alcaide of this fortress, and get him to give me a
little oil, wine, salt, and rosemary to make the salutiferous balsam,
for indeed I believe I have great need of it now, because I am losing
much blood from the wound that phantom gave me.”

Sancho got up with pain enough in his bones, and went after the
innkeeper in the dark, and meeting the officer, who was looking to see
what had become of his enemy, he said to him, “Señor, whoever you are,
do us the favour and kindness to give us a little rosemary, oil, salt,
and wine, for it is wanted to cure one of the best knights-errant on
earth, who lies on yonder bed wounded by the hands of the enchanted
Moor that is in this inn.”

When the officer heard him talk in this way, he took him for a man out
of his senses, and as day was now beginning to break, he opened the inn
gate, and calling the host, he told him what this good man wanted. The
host furnished him with what he required, and Sancho brought it to Don
Quixote, who, with his hand to his head, was bewailing the pain of the
blow of the lamp, which had done him no more harm than raising a couple
of rather large lumps, and what he fancied blood was only the sweat
that flowed from him in his sufferings during the late storm. To be
brief, he took the materials, of which he made a compound, mixing them
all and boiling them a good while until it seemed to him they had come
to perfection. He then asked for some vial to pour it into, and as
there was not one in the inn, he decided on putting it into a tin
oil-bottle or flask of which the host made him a free gift; and over
the flask he repeated more than eighty paternosters and as many more
ave-marias, salves, and credos, accompanying each word with a cross by
way of benediction, at all which there were present Sancho, the
innkeeper, and the cuadrillero; for the carrier was now peacefully
engaged in attending to the comfort of his mules.

This being accomplished, he felt anxious to make trial himself, on the
spot, of the virtue of this precious balsam, as he considered it, and
so he drank near a quart of what could not be put into the flask and
remained in the pigskin in which it had been boiled; but scarcely had
he done drinking when he began to vomit in such a way that nothing was
left in his stomach, and with the pangs and spasms of vomiting he broke
into a profuse sweat, on account of which he bade them cover him up and
leave him alone. They did so, and he lay sleeping more than three
hours, at the end of which he awoke and felt very great bodily relief
and so much ease from his bruises that he thought himself quite cured,
and verily believed he had hit upon the balsam of Fierabras; and that
with this remedy he might thenceforward, without any fear, face any
kind of destruction, battle, or combat, however perilous it might be.

Sancho Panza, who also regarded the amendment of his master as
miraculous, begged him to give him what was left in the pigskin, which
was no small quantity. Don Quixote consented, and he, taking it with
both hands, in good faith and with a better will, gulped down and
drained off very little less than his master. But the fact is, that the
stomach of poor Sancho was of necessity not so delicate as that of his
master, and so, before vomiting, he was seized with such gripings and
retchings, and such sweats and faintness, that verily and truly he
believed his last hour had come, and finding himself so racked and
tormented he cursed the balsam and the thief that had given it to him.

Don Quixote seeing him in this state said, “It is my belief, Sancho,
that this mischief comes of thy not being dubbed a knight, for I am
persuaded this liquor cannot be good for those who are not so.”

“If your worship knew that,” returned Sancho—“woe betide me and all my
kindred!—why did you let me taste it?”

At this moment the draught took effect, and the poor squire began to
discharge both ways at such a rate that the rush mat on which he had
thrown himself and the canvas blanket he had covering him were fit for
nothing afterwards. He sweated and perspired with such paroxysms and
convulsions that not only he himself but all present thought his end
had come. This tempest and tribulation lasted about two hours, at the
end of which he was left, not like his master, but so weak and
exhausted that he could not stand. Don Quixote, however, who, as has
been said, felt himself relieved and well, was eager to take his
departure at once in quest of adventures, as it seemed to him that all
the time he loitered there was a fraud upon the world and those in it
who stood in need of his help and protection, all the more when he had
the security and confidence his balsam afforded him; and so, urged by
this impulse, he saddled Rocinante himself and put the pack-saddle on
his squire’s beast, whom likewise he helped to dress and mount the ass;
after which he mounted his horse and turning to a corner of the inn he
laid hold of a pike that stood there, to serve him by way of a lance.
All that were in the inn, who were more than twenty persons, stood
watching him; the innkeeper’s daughter was likewise observing him, and
he too never took his eyes off her, and from time to time fetched a
sigh that he seemed to pluck up from the depths of his bowels; but they
all thought it must be from the pain he felt in his ribs; at any rate
they who had seen him plastered the night before thought so.

As soon as they were both mounted, at the gate of the inn, he called to
the host and said in a very grave and measured voice, “Many and great
are the favours, Señor Alcaide, that I have received in this castle of
yours, and I remain under the deepest obligation to be grateful to you
for them all the days of my life; if I can repay them in avenging you
of any arrogant foe who may have wronged you, know that my calling is
no other than to aid the weak, to avenge those who suffer wrong, and to
chastise perfidy. Search your memory, and if you find anything of this
kind you need only tell me of it, and I promise you by the order of
knighthood which I have received to procure you satisfaction and
reparation to the utmost of your desire.”

The innkeeper replied to him with equal calmness, “Sir Knight, I do not
want your worship to avenge me of any wrong, because when any is done
me I can take what vengeance seems good to me; the only thing I want is
that you pay me the score that you have run up in the inn last night,
as well for the straw and barley for your two beasts, as for supper and
beds.”



c16c.jpg (326K)

Full Size




“Then this is an inn?” said Don Quixote.

“And a very respectable one,” said the innkeeper.

“I have been under a mistake all this time,” answered Don Quixote, “for
in truth I thought it was a castle, and not a bad one; but since it
appears that it is not a castle but an inn, all that can be done now is
that you should excuse the payment, for I cannot contravene the rule of
knights-errant, of whom I know as a fact (and up to the present I have
read nothing to the contrary) that they never paid for lodging or
anything else in the inn where they might be; for any hospitality that
might be offered them is their due by law and right in return for the
insufferable toil they endure in seeking adventures by night and by
day, in summer and in winter, on foot and on horseback, in hunger and
thirst, cold and heat, exposed to all the inclemencies of heaven and
all the hardships of earth.”

“I have little to do with that,” replied the innkeeper; “pay me what
you owe me, and let us have no more talk of chivalry, for all I care
about is to get my money.”

“You are a stupid, scurvy innkeeper,” said Don Quixote, and putting
spurs to Rocinante and bringing his pike to the slope he rode out of
the inn before anyone could stop him, and pushed on some distance
without looking to see if his squire was following him.

The innkeeper when he saw him go without paying him ran to get payment
of Sancho, who said that as his master would not pay neither would he,
because, being as he was squire to a knight-errant, the same rule and
reason held good for him as for his master with regard to not paying
anything in inns and hostelries. At this the innkeeper waxed very
wroth, and threatened if he did not pay to compel him in a way that he
would not like. To which Sancho made answer that by the law of chivalry
his master had received he would not pay a rap, though it cost him his
life; for the excellent and ancient usage of knights-errant was not
going to be violated by him, nor should the squires of such as were yet
to come into the world ever complain of him or reproach him with
breaking so just a privilege.

The ill-luck of the unfortunate Sancho so ordered it that among the
company in the inn there were four woolcarders from Segovia, three
needle-makers from the Colt of Cordova, and two lodgers from the Fair
of Seville, lively fellows, tender-hearted, fond of a joke, and
playful, who, almost as if instigated and moved by a common impulse,
made up to Sancho and dismounted him from his ass, while one of them
went in for the blanket of the host’s bed; but on flinging him into it
they looked up, and seeing that the ceiling was somewhat lower than
what they required for their work, they decided upon going out into the
yard, which was bounded by the sky, and there, putting Sancho in the
middle of the blanket, they began to raise him high, making sport with
him as they would with a dog at Shrovetide.



c16d.jpg (285K)

Full Size




The cries of the poor blanketed wretch were so loud that they reached
the ears of his master, who, halting to listen attentively, was
persuaded that some new adventure was coming, until he clearly
perceived that it was his squire who uttered them. Wheeling about he
came up to the inn with a laborious gallop, and finding it shut went
round it to see if he could find some way of getting in; but as soon as
he came to the wall of the yard, which was not very high, he discovered
the game that was being played with his squire. He saw him rising and
falling in the air with such grace and nimbleness that, had his rage
allowed him, it is my belief he would have laughed. He tried to climb
from his horse on to the top of the wall, but he was so bruised and
battered that he could not even dismount; and so from the back of his
horse he began to utter such maledictions and objurgations against
those who were blanketing Sancho as it would be impossible to write
down accurately: they, however, did not stay their laughter or their
work for this, nor did the flying Sancho cease his lamentations,
mingled now with threats, now with entreaties but all to little
purpose, or none at all, until from pure weariness they left off. They
then brought him his ass, and mounting him on top of it they put his
jacket round him; and the compassionate Maritornes, seeing him so
exhausted, thought fit to refresh him with a jug of water, and that it
might be all the cooler she fetched it from the well. Sancho took it,
and as he was raising it to his mouth he was stopped by the cries of
his master exclaiming, “Sancho, my son, drink not water; drink it not,
my son, for it will kill thee; see, here I have the blessed balsam (and
he held up the flask of liquor), and with drinking two drops of it thou
wilt certainly be restored.”

At these words Sancho turned his eyes asquint, and in a still louder
voice said, “Can it be your worship has forgotten that I am not a
knight, or do you want me to end by vomiting up what bowels I have left
after last night? Keep your liquor in the name of all the devils, and
leave me to myself!” and at one and the same instant he left off
talking and began drinking; but as at the first sup he perceived it was
water he did not care to go on with it, and begged Maritornes to fetch
him some wine, which she did with right good will, and paid for it with
her own money; for indeed they say of her that, though she was in that
line of life, there was some faint and distant resemblance to a
Christian about her. When Sancho had done drinking he dug his heels
into his ass, and the gate of the inn being thrown open he passed out
very well pleased at having paid nothing and carried his point, though
it had been at the expense of his usual sureties, his shoulders. It is
true that the innkeeper detained his alforjas in payment of what was
owing to him, but Sancho took his departure in such a flurry that he
never missed them. The innkeeper, as soon as he saw him off, wanted to
bar the gate close, but the blanketers would not agree to it, for they
were fellows who would not have cared two farthings for Don Quixote,
even had he been really one of the knights-errant of the Round Table.



c17e.jpg (47K)



CHAPTER XVIII.
IN WHICH IS RELATED THE DISCOURSE SANCHO PANZA HELD WITH HIS MASTER,
DON QUIXOTE, AND OTHER ADVENTURES WORTH RELATING



c18a.jpg (79K)

Full Size




Sancho reached his master so limp and faint that he could not urge on
his beast. When Don Quixote saw the state he was in he said, “I have
now come to the conclusion, good Sancho, that this castle or inn is
beyond a doubt enchanted, because those who have so atrociously
diverted themselves with thee, what can they be but phantoms or beings
of another world? and I hold this confirmed by having noticed that when
I was by the wall of the yard witnessing the acts of thy sad tragedy,
it was out of my power to mount upon it, nor could I even dismount from
Rocinante, because they no doubt had me enchanted; for I swear to thee
by the faith of what I am that if I had been able to climb up or
dismount, I would have avenged thee in such a way that those braggart
thieves would have remembered their freak for ever, even though in so
doing I knew that I contravened the laws of chivalry, which, as I have
often told thee, do not permit a knight to lay hands on him who is not
one, save in case of urgent and great necessity in defence of his own
life and person.”

“I would have avenged myself too if I could,” said Sancho, “whether I
had been dubbed knight or not, but I could not; though for my part I am
persuaded those who amused themselves with me were not phantoms or
enchanted men, as your worship says, but men of flesh and bone like
ourselves; and they all had their names, for I heard them name them
when they were tossing me, and one was called Pedro Martinez, and
another Tenorio Hernandez, and the innkeeper, I heard, was called Juan
Palomeque the Left-handed; so that, señor, your not being able to leap
over the wall of the yard or dismount from your horse came of something
else besides enchantments; and what I make out clearly from all this
is, that these adventures we go seeking will in the end lead us into
such misadventures that we shall not know which is our right foot; and
that the best and wisest thing, according to my small wits, would be
for us to return home, now that it is harvest-time, and attend to our
business, and give over wandering from Zeca to Mecca and from pail to
bucket, as the saying is.”

“How little thou knowest about chivalry, Sancho,” replied Don Quixote;
“hold thy peace and have patience; the day will come when thou shalt
see with thine own eyes what an honourable thing it is to wander in the
pursuit of this calling; nay, tell me, what greater pleasure can there
be in the world, or what delight can equal that of winning a battle,
and triumphing over one’s enemy? None, beyond all doubt.”

“Very likely,” answered Sancho, “though I do not know it; all I know is
that since we have been knights-errant, or since your worship has been
one (for I have no right to reckon myself one of so honourable a
number) we have never won any battle except the one with the Biscayan,
and even out of that your worship came with half an ear and half a
helmet the less; and from that till now it has been all cudgellings and
more cudgellings, cuffs and more cuffs, I getting the blanketing over
and above, and falling in with enchanted persons on whom I cannot
avenge myself so as to know what the delight, as your worship calls it,
of conquering an enemy is like.”

“That is what vexes me, and what ought to vex thee, Sancho,” replied
Don Quixote; “but henceforward I will endeavour to have at hand some
sword made by such craft that no kind of enchantments can take effect
upon him who carries it, and it is even possible that fortune may
procure for me that which belonged to Amadis when he was called ‘The
Knight of the Burning Sword,’ which was one of the best swords that
ever knight in the world possessed, for, besides having the said
virtue, it cut like a razor, and there was no armour, however strong
and enchanted it might be, that could resist it.”

“Such is my luck,” said Sancho, “that even if that happened and your
worship found some such sword, it would, like the balsam, turn out
serviceable and good for dubbed knights only, and as for the squires,
they might sup sorrow.”

“Fear not that, Sancho,” said Don Quixote: “Heaven will deal better by
thee.”

Thus talking, Don Quixote and his squire were going along, when, on the
road they were following, Don Quixote perceived approaching them a
large and thick cloud of dust, on seeing which he turned to Sancho and
said:

“This is the day, Sancho, on which will be seen the boon my fortune is
reserving for me; this, I say, is the day on which as much as on any
other shall be displayed the might of my arm, and on which I shall do
deeds that shall remain written in the book of fame for all ages to
come. Seest thou that cloud of dust which rises yonder? Well, then, all
that is churned up by a vast army composed of various and countless
nations that comes marching there.”

“According to that there must be two,” said Sancho, “for on this
opposite side also there rises just such another cloud of dust.”

Don Quixote turned to look and found that it was true, and rejoicing
exceedingly, he concluded that they were two armies about to engage and
encounter in the midst of that broad plain; for at all times and
seasons his fancy was full of the battles, enchantments, adventures,
crazy feats, loves, and defiances that are recorded in the books of
chivalry, and everything he said, thought, or did had reference to such
things. Now the cloud of dust he had seen was raised by two great
droves of sheep coming along the same road in opposite directions,
which, because of the dust, did not become visible until they drew
near, but Don Quixote asserted so positively that they were armies that
Sancho was led to believe it and say, “Well, and what are we to do,
señor?”



c17b.jpg (339K)

Full Size




“What?” said Don Quixote: “give aid and assistance to the weak and
those who need it; and thou must know, Sancho, that this which comes
opposite to us is conducted and led by the mighty emperor Alifanfaron,
lord of the great isle of Trapobana; this other that marches behind me
is that of his enemy the king of the Garamantas, Pentapolin of the Bare
Arm, for he always goes into battle with his right arm bare.”

“But why are these two lords such enemies?”

“They are at enmity,” replied Don Quixote, “because this Alifanfaron is
a furious pagan and is in love with the daughter of Pentapolin, who is
a very beautiful and moreover gracious lady, and a Christian, and her
father is unwilling to bestow her upon the pagan king unless he first
abandons the religion of his false prophet Mahomet, and adopts his
own.”

“By my beard,” said Sancho, “but Pentapolin does quite right, and I
will help him as much as I can.”

“In that thou wilt do what is thy duty, Sancho,” said Don Quixote; “for
to engage in battles of this sort it is not requisite to be a dubbed
knight.”

“That I can well understand,” answered Sancho; “but where shall we put
this ass where we may be sure to find him after the fray is over? for I
believe it has not been the custom so far to go into battle on a beast
of this kind.”

“That is true,” said Don Quixote, “and what you had best do with him is
to leave him to take his chance whether he be lost or not, for the
horses we shall have when we come out victors will be so many that even
Rocinante will run a risk of being changed for another. But attend to
me and observe, for I wish to give thee some account of the chief
knights who accompany these two armies; and that thou mayest the better
see and mark, let us withdraw to that hillock which rises yonder,
whence both armies may be seen.”

They did so, and placed themselves on a rising ground from which the
two droves that Don Quixote made armies of might have been plainly seen
if the clouds of dust they raised had not obscured them and blinded the
sight; nevertheless, seeing in his imagination what he did not see and
what did not exist, he began thus in a loud voice:

“That knight whom thou seest yonder in yellow armour, who bears upon
his shield a lion crowned crouching at the feet of a damsel, is the
valiant Laurcalco, lord of the Silver Bridge; that one in armour with
flowers of gold, who bears on his shield three crowns argent on an
azure field, is the dreaded Micocolembo, grand duke of Quirocia; that
other of gigantic frame, on his right hand, is the ever dauntless
Brandabarbaran de Boliche, lord of the three Arabias, who for armour
wears that serpent skin, and has for shield a gate which, according to
tradition, is one of those of the temple that Samson brought to the
ground when by his death he revenged himself upon his enemies. But turn
thine eyes to the other side, and thou shalt see in front and in the
van of this other army the ever victorious and never vanquished Timonel
of Carcajona, prince of New Biscay, who comes in armour with arms
quartered azure, vert, white, and yellow, and bears on his shield a cat
or on a field tawny with a motto which says _Miau_, which is the
beginning of the name of his lady, who according to report is the
peerless Miaulina, daughter of the duke Alfeniquen of the Algarve; the
other, who burdens and presses the loins of that powerful charger and
bears arms white as snow and a shield blank and without any device, is
a novice knight, a Frenchman by birth, Pierres Papin by name, lord of
the baronies of Utrique; that other, who with iron-shod heels strikes
the flanks of that nimble parti-coloured zebra, and for arms bears
azure vair, is the mighty duke of Nerbia, Espartafilardo del Bosque,
who bears for device on his shield an asparagus plant with a motto in
Castilian that says, _‘Rastrea mi suerte’_.” And so he went on naming a
number of knights of one squadron or the other out of his imagination,
and to all he assigned off-hand their arms, colours, devices, and
mottoes, carried away by the illusions of his unheard-of craze; and
without a pause, he continued, “People of divers nations compose this
squadron in front; here are those that drink of the sweet waters of the
famous Xanthus, those that scour the woody Massilian plains, those that
sift the pure fine gold of Arabia Felix, those that enjoy the famed
cool banks of the crystal Thermodon, those that in many and various
ways divert the streams of the golden Pactolus, the Numidians,
faithless in their promises, the Persians renowned in archery, the
Parthians and the Medes that fight as they fly, the Arabs that ever
shift their dwellings, the Scythians as cruel as they are fair, the
Ethiopians with pierced lips, and an infinity of other nations whose
features I recognise and descry, though I cannot recall their names. In
this other squadron there come those that drink of the crystal streams
of the olive-bearing Betis, those that make smooth their countenances
with the water of the ever rich and golden Tagus, those that rejoice in
the fertilising flow of the divine Genil, those that roam the Tartesian
plains abounding in pasture, those that take their pleasure in the
Elysian meadows of Jerez, the rich Manchegans crowned with ruddy ears
of corn, the wearers of iron, old relics of the Gothic race, those that
bathe in the Pisuerga renowned for its gentle current, those that feed
their herds along the spreading pastures of the winding Guadiana famed
for its hidden course, those that tremble with the cold of the pineclad
Pyrenees or the dazzling snows of the lofty Apennine; in a word, as
many as all Europe includes and contains.”

Good God! what a number of countries and nations he named! giving to
each its proper attributes with marvellous readiness; brimful and
saturated with what he had read in his lying books! Sancho Panza hung
upon his words without speaking, and from time to time turned to try if
he could see the knights and giants his master was describing, and as
he could not make out one of them he said to him:

“Señor, devil take it if there’s a sign of any man you talk of, knight
or giant, in the whole thing; maybe it’s all enchantment, like the
phantoms last night.”

“How canst thou say that!” answered Don Quixote; “dost thou not hear
the neighing of the steeds, the braying of the trumpets, the roll of
the drums?”

“I hear nothing but a great bleating of ewes and sheep,” said Sancho;
which was true, for by this time the two flocks had come close.

“The fear thou art in, Sancho,” said Don Quixote, “prevents thee from
seeing or hearing correctly, for one of the effects of fear is to
derange the senses and make things appear different from what they are;
if thou art in such fear, withdraw to one side and leave me to myself,
for alone I suffice to bring victory to that side to which I shall give
my aid;” and so saying he gave Rocinante the spur, and putting the
lance in rest, shot down the slope like a thunderbolt. Sancho shouted
after him, crying, “Come back, Señor Don Quixote; I vow to God they are
sheep and ewes you are charging! Come back! Unlucky the father that
begot me! what madness is this! Look, there is no giant, nor knight,
nor cats, nor arms, nor shields quartered or whole, nor vair azure or
bedevilled. What are you about? Sinner that I am before God!” But not
for all these entreaties did Don Quixote turn back; on the contrary he
went on shouting out, “Ho, knights, ye who follow and fight under the
banners of the valiant emperor Pentapolin of the Bare Arm, follow me
all; ye shall see how easily I shall give him his revenge over his
enemy Alifanfaron of the Trapobana.”

So saying, he dashed into the midst of the squadron of ewes, and began
spearing them with as much spirit and intrepidity as if he were
transfixing mortal enemies in earnest. The shepherds and drovers
accompanying the flock shouted to him to desist; seeing it was no use,
they ungirt their slings and began to salute his ears with stones as
big as one’s fist. Don Quixote gave no heed to the stones, but, letting
drive right and left kept saying:

“Where art thou, proud Alifanfaron? Come before me; I am a single
knight who would fain prove thy prowess hand to hand, and make thee
yield thy life a penalty for the wrong thou dost to the valiant
Pentapolin Garamanta.” Here came a sugar-plum from the brook that
struck him on the side and buried a couple of ribs in his body. Feeling
himself so smitten, he imagined himself slain or badly wounded for
certain, and recollecting his liquor he drew out his flask, and putting
it to his mouth began to pour the contents into his stomach; but ere he
had succeeded in swallowing what seemed to him enough, there came
another almond which struck him on the hand and on the flask so fairly
that it smashed it to pieces, knocking three or four teeth and grinders
out of his mouth in its course, and sorely crushing two fingers of his
hand. Such was the force of the first blow and of the second, that the
poor knight in spite of himself came down backwards off his horse. The
shepherds came up, and felt sure they had killed him; so in all haste
they collected their flock together, took up the dead beasts, of which
there were more than seven, and made off without waiting to ascertain
anything further.

All this time Sancho stood on the hill watching the crazy feats his
master was performing, and tearing his beard and cursing the hour and
the occasion when fortune had made him acquainted with him. Seeing him,
then, brought to the ground, and that the shepherds had taken
themselves off, he ran to him and found him in very bad case, though
not unconscious; and said he:

“Did I not tell you to come back, Señor Don Quixote; and that what you
were going to attack were not armies but droves of sheep?”

“That’s how that thief of a sage, my enemy, can alter and falsify
things,” answered Don Quixote; “thou must know, Sancho, that it is a
very easy matter for those of his sort to make us believe what they
choose; and this malignant being who persecutes me, envious of the
glory he knew I was to win in this battle, has turned the squadrons of
the enemy into droves of sheep. At any rate, do this much, I beg of
thee, Sancho, to undeceive thyself, and see that what I say is true;
mount thy ass and follow them quietly, and thou shalt see that when
they have gone some little distance from this they will return to their
original shape and, ceasing to be sheep, become men in all respects as
I described them to thee at first. But go not just yet, for I want thy
help and assistance; come hither, and see how many of my teeth and
grinders are missing, for I feel as if there was not one left in my
mouth.”

Sancho came so close that he almost put his eyes into his mouth; now
just at that moment the balsam had acted on the stomach of Don Quixote,
so, at the very instant when Sancho came to examine his mouth, he
discharged all its contents with more force than a musket, and full
into the beard of the compassionate squire.

“Holy Mary!” cried Sancho, “what is this that has happened me? Clearly
this sinner is mortally wounded, as he vomits blood from the mouth;”
but considering the matter a little more closely he perceived by the
colour, taste, and smell, that it was not blood but the balsam from the
flask which he had seen him drink; and he was taken with such a
loathing that his stomach turned, and he vomited up his inside over his
very master, and both were left in a precious state. Sancho ran to his
ass to get something wherewith to clean himself, and relieve his
master, out of his alforjas; but not finding them, he well-nigh took
leave of his senses, and cursed himself anew, and in his heart resolved
to quit his master and return home, even though he forfeited the wages
of his service and all hopes of the promised island.

Don Quixote now rose, and putting his left hand to his mouth to keep
his teeth from falling out altogether, with the other he laid hold of
the bridle of Rocinante, who had never stirred from his master’s
side—so loyal and well-behaved was he—and betook himself to where the
squire stood leaning over his ass with his hand to his cheek, like one
in deep dejection. Seeing him in this mood, looking so sad, Don Quixote
said to him:

“Bear in mind, Sancho, that one man is no more than another, unless he
does more than another; all these tempests that fall upon us are signs
that fair weather is coming shortly, and that things will go well with
us, for it is impossible for good or evil to last for ever; and hence
it follows that the evil having lasted long, the good must be now nigh
at hand; so thou must not distress thyself at the misfortunes which
happen to me, since thou hast no share in them.”

“How have I not?” replied Sancho; “was he whom they blanketed yesterday
perchance any other than my father’s son? and the alforjas that are
missing to-day with all my treasures, did they belong to any other but
myself?”

“What! are the alforjas missing, Sancho?” said Don Quixote.

“Yes, they are missing,” answered Sancho.

“In that case we have nothing to eat to-day,” replied Don Quixote.

“It would be so,” answered Sancho, “if there were none of the herbs
your worship says you know in these meadows, those with which
knights-errant as unlucky as your worship are wont to supply such-like
shortcomings.”

“For all that,” answered Don Quixote, “I would rather have just now a
quarter of bread, or a loaf and a couple of pilchards’ heads, than all
the herbs described by Dioscorides, even with Doctor Laguna’s notes.
Nevertheless, Sancho the Good, mount thy beast and come along with me,
for God, who provides for all things, will not fail us (more especially
when we are so active in his service as we are), since he fails not the
midges of the air, nor the grubs of the earth, nor the tadpoles of the
water, and is so merciful that he maketh his sun to rise on the good
and on the evil, and sendeth rain on the unjust and on the just.”

“Your worship would make a better preacher than knight-errant,” said
Sancho.

“Knights-errant knew and ought to know everything, Sancho,” said Don
Quixote; “for there were knights-errant in former times as well
qualified to deliver a sermon or discourse in the middle of an
encampment, as if they had graduated in the University of Paris;
whereby we may see that the lance has never blunted the pen, nor the
pen the lance.”

“Well, be it as your worship says,” replied Sancho; “let us be off now
and find some place of shelter for the night, and God grant it may be
somewhere where there are no blankets, nor blanketeers, nor phantoms,
nor enchanted Moors; for if there are, may the devil take the whole
concern.”

“Ask that of God, my son,” said Don Quixote; and do thou lead on where
thou wilt, for this time I leave our lodging to thy choice; but reach
me here thy hand, and feel with thy finger, and find out how many of my
teeth and grinders are missing from this right side of the upper jaw,
for it is there I feel the pain.”

Sancho put in his fingers, and feeling about asked him, “How many
grinders used your worship have on this side?”

“Four,” replied Don Quixote, “besides the back-tooth, all whole and
quite sound.”

“Mind what you are saying, señor.”

“I say four, if not five,” answered Don Quixote, “for never in my life
have I had tooth or grinder drawn, nor has any fallen out or been
destroyed by any decay or rheum.”

“Well, then,” said Sancho, “in this lower side your worship has no more
than two grinders and a half, and in the upper neither a half nor any
at all, for it is all as smooth as the palm of my hand.”

“Luckless that I am!” said Don Quixote, hearing the sad news his squire
gave him; “I had rather they despoiled me of an arm, so it were not the
sword-arm; for I tell thee, Sancho, a mouth without teeth is like a
mill without a millstone, and a tooth is much more to be prized than a
diamond; but we who profess the austere order of chivalry are liable to
all this. Mount, friend, and lead the way, and I will follow thee at
whatever pace thou wilt.”

Sancho did as he bade him, and proceeded in the direction in which he
thought he might find refuge without quitting the high road, which was
there very much frequented. As they went along, then, at a slow
pace—for the pain in Don Quixote’s jaws kept him uneasy and
ill-disposed for speed—Sancho thought it well to amuse and divert him
by talk of some kind, and among the things he said to him was that
which will be told in the following chapter.



c18e.jpg (44K)



CHAPTER XIX.
OF THE SHREWD DISCOURSE WHICH SANCHO HELD WITH HIS MASTER, AND OF THE
ADVENTURE THAT BEFELL HIM WITH A DEAD BODY, TOGETHER WITH OTHER NOTABLE
OCCURRENCES

“It seems to me, señor, that all these mishaps that have befallen us of
late have been without any doubt a punishment for the offence committed
by your worship against the order of chivalry in not keeping the oath
you made not to eat bread off a tablecloth or embrace the queen, and
all the rest of it that your worship swore to observe until you had
taken that helmet of Malandrino’s, or whatever the Moor is called, for
I do not very well remember.”

“Thou art very right, Sancho,” said Don Quixote, “but to tell the
truth, it had escaped my memory; and likewise thou mayest rely upon it
that the affair of the blanket happened to thee because of thy fault in
not reminding me of it in time; but I will make amends, for there are
ways of compounding for everything in the order of chivalry.”

“Why! have I taken an oath of some sort, then?” said Sancho.

“It makes no matter that thou hast not taken an oath,” said Don
Quixote; “suffice it that I see thou art not quite clear of complicity;
and whether or no, it will not be ill done to provide ourselves with a
remedy.”

“In that case,” said Sancho, “mind that your worship does not forget
this as you did the oath; perhaps the phantoms may take it into their
heads to amuse themselves once more with me; or even with your worship
if they see you so obstinate.”

While engaged in this and other talk, night overtook them on the road
before they had reached or discovered any place of shelter; and what
made it still worse was that they were dying of hunger, for with the
loss of the alforjas they had lost their entire larder and
commissariat; and to complete the misfortune they met with an adventure
which without any invention had really the appearance of one. It so
happened that the night closed in somewhat darkly, but for all that
they pushed on, Sancho feeling sure that as the road was the king’s
highway they might reasonably expect to find some inn within a league
or two. Going along, then, in this way, the night dark, the squire
hungry, the master sharp-set, they saw coming towards them on the road
they were travelling a great number of lights which looked exactly like
stars in motion. Sancho was taken aback at the sight of them, nor did
Don Quixote altogether relish them: the one pulled up his ass by the
halter, the other his hack by the bridle, and they stood still,
watching anxiously to see what all this would turn out to be, and found
that the lights were approaching them, and the nearer they came the
greater they seemed, at which spectacle Sancho began to shake like a
man dosed with mercury, and Don Quixote’s hair stood on end; he,
however, plucking up spirit a little, said:

“This, no doubt, Sancho, will be a most mighty and perilous adventure,
in which it will be needful for me to put forth all my valour and
resolution.”

“Unlucky me!” answered Sancho; “if this adventure happens to be one of
phantoms, as I am beginning to think it is, where shall I find the ribs
to bear it?”

“Be they phantoms ever so much,” said Don Quixote, “I will not permit
them to touch a thread of thy garments; for if they played tricks with
thee the time before, it was because I was unable to leap the walls of
the yard; but now we are on a wide plain, where I shall be able to
wield my sword as I please.”

“And if they enchant and cripple you as they did the last time,” said
Sancho, “what difference will it make being on the open plain or not?”

“For all that,” replied Don Quixote, “I entreat thee, Sancho, to keep a
good heart, for experience will tell thee what mine is.”

“I will, please God,” answered Sancho, and the two retiring to one side
of the road set themselves to observe closely what all these moving
lights might be; and very soon afterwards they made out some twenty
encamisados, all on horseback, with lighted torches in their hands, the
awe-inspiring aspect of whom completely extinguished the courage of
Sancho, who began to chatter with his teeth like one in the cold fit of
an ague; and his heart sank and his teeth chattered still more when
they perceived distinctly that behind them there came a litter covered
over with black and followed by six more mounted figures in mourning
down to the very feet of their mules—for they could perceive plainly
they were not horses by the easy pace at which they went. And as the
encamisados came along they muttered to themselves in a low plaintive
tone. This strange spectacle at such an hour and in such a solitary
place was quite enough to strike terror into Sancho’s heart, and even
into his master’s; and (save in Don Quixote’s case) did so, for all
Sancho’s resolution had now broken down. It was just the opposite with
his master, whose imagination immediately conjured up all this to him
vividly as one of the adventures of his books.

He took it into his head that the litter was a bier on which was borne
some sorely wounded or slain knight, to avenge whom was a task reserved
for him alone; and without any further reasoning he laid his lance in
rest, fixed himself firmly in his saddle, and with gallant spirit and
bearing took up his position in the middle of the road where the
encamisados must of necessity pass; and as soon as he saw them near at
hand he raised his voice and said:

“Halt, knights, or whosoever ye may be, and render me account of who ye
are, whence ye come, where ye go, what it is ye carry upon that bier,
for, to judge by appearances, either ye have done some wrong or some
wrong has been done to you, and it is fitting and necessary that I
should know, either that I may chastise you for the evil ye have done,
or else that I may avenge you for the injury that has been inflicted
upon you.”

“We are in haste,” answered one of the encamisados, “and the inn is far
off, and we cannot stop to render you such an account as you demand;”
and spurring his mule he moved on.

Don Quixote was mightily provoked by this answer, and seizing the mule
by the bridle he said, “Halt, and be more mannerly, and render an
account of what I have asked of you; else, take my defiance to combat,
all of you.”

The mule was shy, and was so frightened at her bridle being seized that
rearing up she flung her rider to the ground over her haunches. An
attendant who was on foot, seeing the encamisado fall, began to abuse
Don Quixote, who now moved to anger, without any more ado, laying his
lance in rest charged one of the men in mourning and brought him badly
wounded to the ground, and as he wheeled round upon the others the
agility with which he attacked and routed them was a sight to see, for
it seemed just as if wings had that instant grown upon Rocinante, so
lightly and proudly did he bear himself. The encamisados were all timid
folk and unarmed, so they speedily made their escape from the fray and
set off at a run across the plain with their lighted torches, looking
exactly like maskers running on some gala or festival night. The
mourners, too, enveloped and swathed in their skirts and gowns, were
unable to bestir themselves, and so with entire safety to himself Don
Quixote belaboured them all and drove them off against their will, for
they all thought it was no man but a devil from hell come to carry away
the dead body they had in the litter.

Sancho beheld all this in astonishment at the intrepidity of his lord,
and said to himself, “Clearly this master of mine is as bold and
valiant as he says he is.”

A burning torch lay on the ground near the first man whom the mule had
thrown, by the light of which Don Quixote perceived him, and coming up
to him he presented the point of the lance to his face, calling on him
to yield himself prisoner, or else he would kill him; to which the
prostrate man replied, “I am prisoner enough as it is; I cannot stir,
for one of my legs is broken: I entreat you, if you be a Christian
gentleman, not to kill me, which will be committing grave sacrilege,
for I am a licentiate and I hold first orders.”

“Then what the devil brought you here, being a churchman?” said Don
Quixote.

“What, señor?” said the other. “My bad luck.”

“Then still worse awaits you,” said Don Quixote, “if you do not satisfy
me as to all I asked you at first.”

“You shall be soon satisfied,” said the licentiate; “you must know,
then, that though just now I said I was a licentiate, I am only a
bachelor, and my name is Alonzo Lopez; I am a native of Alcobendas, I
come from the city of Baeza with eleven others, priests, the same who
fled with the torches, and we are going to the city of Segovia
accompanying a dead body which is in that litter, and is that of a
gentleman who died in Baeza, where he was interred; and now, as I said,
we are taking his bones to their burial-place, which is in Segovia,
where he was born.”

“And who killed him?” asked Don Quixote.

“God, by means of a malignant fever that took him,” answered the
bachelor.

“In that case,” said Don Quixote, “the Lord has relieved me of the task
of avenging his death had any other slain him; but, he who slew him
having slain him, there is nothing for it but to be silent, and shrug
one’s shoulders; I should do the same were he to slay myself; and I
would have your reverence know that I am a knight of La Mancha, Don
Quixote by name, and it is my business and calling to roam the world
righting wrongs and redressing injuries.”

“I do not know how that about righting wrongs can be,” said the
bachelor, “for from straight you have made me crooked, leaving me with
a broken leg that will never see itself straight again all the days of
its life; and the injury you have redressed in my case has been to
leave me injured in such a way that I shall remain injured for ever;
and the height of misadventure it was to fall in with you who go in
search of adventures.”

“Things do not all happen in the same way,” answered Don Quixote; “it
all came, Sir Bachelor Alonzo Lopez, of your going, as you did, by
night, dressed in those surplices, with lighted torches, praying,
covered with mourning, so that naturally you looked like something evil
and of the other world; and so I could not avoid doing my duty in
attacking you, and I should have attacked you even had I known
positively that you were the very devils of hell, for such I certainly
believed and took you to be.”

“As my fate has so willed it,” said the bachelor, “I entreat you, sir
knight-errant, whose errand has been such an evil one for me, to help
me to get from under this mule that holds one of my legs caught between
the stirrup and the saddle.”

“I would have talked on till to-morrow,” said Don Quixote; “how long
were you going to wait before telling me of your distress?”

He at once called to Sancho, who, however, had no mind to come, as he
was just then engaged in unloading a sumpter mule, well laden with
provender, which these worthy gentlemen had brought with them. Sancho
made a bag of his coat, and, getting together as much as he could, and
as the bag would hold, he loaded his beast, and then hastened to obey
his master’s call, and helped him to remove the bachelor from under the
mule; then putting him on her back he gave him the torch, and Don
Quixote bade him follow the track of his companions, and beg pardon of
them on his part for the wrong which he could not help doing them.

And said Sancho, “If by chance these gentlemen should want to know who
was the hero that served them so, your worship may tell them that he is
the famous Don Quixote of La Mancha, otherwise called the Knight of the
Rueful Countenance.”

The bachelor then took his departure.

I forgot to mention that before he did so he said to Don Quixote,
“Remember that you stand excommunicated for having laid violent hands
on a holy thing, _juxta illud, si quis, suadente diabolo_.”

“I do not understand that Latin,” answered Don Quixote, “but I know
well I did not lay hands, only this pike; besides, I did not think I
was committing an assault upon priests or things of the Church, which,
like a Catholic and faithful Christian as I am, I respect and revere,
but upon phantoms and spectres of the other world; but even so, I
remember how it fared with Cid Ruy Diaz when he broke the chair of the
ambassador of that king before his Holiness the Pope, who
excommunicated him for the same; and yet the good Roderick of Vivar
bore himself that day like a very noble and valiant knight.”

On hearing this the bachelor took his departure, as has been said,
without making any reply; and Don Quixote asked Sancho what had induced
him to call him the “Knight of the Rueful Countenance” more then than
at any other time.

“I will tell you,” answered Sancho; “it was because I have been looking
at you for some time by the light of the torch held by that
unfortunate, and verily your worship has got of late the most
ill-favoured countenance I ever saw: it must be either owing to the
fatigue of this combat, or else to the want of teeth and grinders.”

“It is not that,” replied Don Quixote, “but because the sage whose duty
it will be to write the history of my achievements must have thought it
proper that I should take some distinctive name as all knights of yore
did; one being ‘He of the Burning Sword,’ another ‘He of the Unicorn,’
this one ‘He of the Damsels,’ that ‘He of the Phœnix,’ another ‘The
Knight of the Griffin,’ and another ‘He of the Death,’ and by these
names and designations they were known all the world round; and so I
say that the sage aforesaid must have put it into your mouth and mind
just now to call me ‘The Knight of the Rueful Countenance,’ as I intend
to call myself from this day forward; and that the said name may fit me
better, I mean, when the opportunity offers, to have a very rueful
countenance painted on my shield.”

“There is no occasion, señor, for wasting time or money on making that
countenance,” said Sancho; “for all that need be done is for your
worship to show your own, face to face, to those who look at you, and
without anything more, either image or shield, they will call you ‘Him
of the Rueful Countenance’ and believe me I am telling you the truth,
for I assure you, señor (and in good part be it said), hunger and the
loss of your grinders have given you such an ill-favoured face that, as
I say, the rueful picture may be very well spared.”

Don Quixote laughed at Sancho’s pleasantry; nevertheless he resolved to
call himself by that name, and have his shield or buckler painted as he
had devised.

Don Quixote would have looked to see whether the body in the litter
were bones or not, but Sancho would not have it, saying:

“Señor, you have ended this perilous adventure more safely for yourself
than any of those I have seen: perhaps these people, though beaten and
routed, may bethink themselves that it is a single man that has beaten
them, and feeling sore and ashamed of it may take heart and come in
search of us and give us trouble enough. The ass is in proper trim, the
mountains are near at hand, hunger presses, we have nothing more to do
but make good our retreat, and, as the saying is, the dead to the grave
and the living to the loaf.”

And driving his ass before him he begged his master to follow, who,
feeling that Sancho was right, did so without replying; and after
proceeding some little distance between two hills they found themselves
in a wide and retired valley, where they alighted, and Sancho unloaded
his beast, and stretched upon the green grass, with hunger for sauce,
they breakfasted, dined, lunched, and supped all at once, satisfying
their appetites with more than one store of cold meat which the dead
man’s clerical gentlemen (who seldom put themselves on short allowance)
had brought with them on their sumpter mule. But another piece of
ill-luck befell them, which Sancho held the worst of all, and that was
that they had no wine to drink, nor even water to moisten their lips;
and as thirst tormented them, Sancho, observing that the meadow where
they were was full of green and tender grass, said what will be told in
the following chapter.



CHAPTER XX.
OF THE UNEXAMPLED AND UNHEARD-OF ADVENTURE WHICH WAS ACHIEVED BY THE
VALIANT DON QUIXOTE OF LA MANCHA WITH LESS PERIL THAN ANY EVER ACHIEVED
BY ANY FAMOUS KNIGHT IN THE WORLD



c19a.jpg (147K)

Full Size




“It cannot be, señor, but that this grass is a proof that there must be
hard by some spring or brook to give it moisture, so it would be well
to move a little farther on, that we may find some place where we may
quench this terrible thirst that plagues us, which beyond a doubt is
more distressing than hunger.”

The advice seemed good to Don Quixote, and, he leading Rocinante by the
bridle and Sancho the ass by the halter, after he had packed away upon
him the remains of the supper, they advanced the meadow feeling their
way, for the darkness of the night made it impossible to see anything;
but they had not gone two hundred paces when a loud noise of water, as
if falling from great rocks, struck their ears. The sound cheered them
greatly; but halting to make out by listening from what quarter it came
they heard unseasonably another noise which spoiled the satisfaction
the sound of the water gave them, especially for Sancho, who was by
nature timid and faint-hearted. They heard, I say, strokes falling with
a measured beat, and a certain rattling of iron and chains that,
together with the furious din of the water, would have struck terror
into any heart but Don Quixote’s. The night was, as has been said,
dark, and they had happened to reach a spot in among some tall trees,
whose leaves stirred by a gentle breeze made a low ominous sound; so
that, what with the solitude, the place, the darkness, the noise of the
water, and the rustling of the leaves, everything inspired awe and
dread; more especially as they perceived that the strokes did not
cease, nor the wind lull, nor morning approach; to all which might be
added their ignorance as to where they were.



c19b.jpg (204K)

Full Size




But Don Quixote, supported by his intrepid heart, leaped on Rocinante,
and bracing his buckler on his arm, brought his pike to the slope, and
said, “Friend Sancho, know that I by Heaven’s will have been born in
this our iron age to revive in it the age of gold, or the golden as it
is called; I am he for whom perils, mighty achievements, and valiant
deeds are reserved; I am, I say again, he who is to revive the Knights
of the Round Table, the Twelve of France and the Nine Worthies; and he
who is to consign to oblivion the Platirs, the Tablantes, the Olivantes
and Tirantes, the Phœbuses and Belianises, with the whole herd of
famous knights-errant of days gone by, performing in these in which I
live such exploits, marvels, and feats of arms as shall obscure their
brightest deeds. Thou dost mark well, faithful and trusty squire, the
gloom of this night, its strange silence, the dull confused murmur of
those trees, the awful sound of that water in quest of which we came,
that seems as though it were precipitating and dashing itself down from
the lofty mountains of the Moon, and that incessant hammering that
wounds and pains our ears; which things all together and each of itself
are enough to instil fear, dread, and dismay into the breast of Mars
himself, much more into one not used to hazards and adventures of the
kind. Well, then, all this that I put before thee is but an incentive
and stimulant to my spirit, making my heart burst in my bosom through
eagerness to engage in this adventure, arduous as it promises to be;
therefore tighten Rocinante’s girths a little, and God be with thee;
wait for me here three days and no more, and if in that time I come not
back, thou canst return to our village, and thence, to do me a favour
and a service, thou wilt go to El Toboso, where thou shalt say to my
incomparable lady Dulcinea that her captive knight hath died in
attempting things that might make him worthy of being called hers.”

When Sancho heard his master’s words he began to weep in the most
pathetic way, saying:

“Señor, I know not why your worship wants to attempt this so dreadful
adventure; it is night now, no one sees us here, we can easily turn
about and take ourselves out of danger, even if we don’t drink for
three days to come; and as there is no one to see us, all the less will
there be anyone to set us down as cowards; besides, I have many a time
heard the curate of our village, whom your worship knows well, preach
that he who seeks danger perishes in it; so it is not right to tempt
God by trying so tremendous a feat from which there can be no escape
save by a miracle, and Heaven has performed enough of them for your
worship in delivering you from being blanketed as I was, and bringing
you out victorious and safe and sound from among all those enemies that
were with the dead man; and if all this does not move or soften that
hard heart, let this thought and reflection move it, that you will have
hardly quitted this spot when from pure fear I shall yield my soul up
to anyone that will take it. I left home and wife and children to come
and serve your worship, trusting to do better and not worse; but as
covetousness bursts the bag, it has rent my hopes asunder, for just as
I had them highest about getting that wretched unlucky island your
worship has so often promised me, I see that instead and in lieu of it
you mean to desert me now in a place so far from human reach: for God’s
sake, master mine, deal not so unjustly by me, and if your worship will
not entirely give up attempting this feat, at least put it off till
morning, for by what the lore I learned when I was a shepherd tells me
it cannot want three hours of dawn now, because the mouth of the Horn
is overhead and makes midnight in the line of the left arm.”

“How canst thou see, Sancho,” said Don Quixote, “where it makes that
line, or where this mouth or this occiput is that thou talkest of, when
the night is so dark that there is not a star to be seen in the whole
heaven?”

“That’s true,” said Sancho, “but fear has sharp eyes, and sees things
underground, much more above in heavens; besides, there is good reason
to show that it now wants but little of day.”

“Let it want what it may,” replied Don Quixote, “it shall not be said
of me now or at any time that tears or entreaties turned me aside from
doing what was in accordance with knightly usage; and so I beg of thee,
Sancho, to hold thy peace, for God, who has put it into my heart to
undertake now this so unexampled and terrible adventure, will take care
to watch over my safety and console thy sorrow; what thou hast to do is
to tighten Rocinante’s girths well, and wait here, for I shall come
back shortly, alive or dead.”

Sancho perceiving it his master’s final resolve, and how little his
tears, counsels, and entreaties prevailed with him, determined to have
recourse to his own ingenuity and compel him, if he could, to wait till
daylight; and so, while tightening the girths of the horse, he quietly
and without being felt, with his ass’ halter tied both Rocinante’s
legs, so that when Don Quixote strove to go he was unable as the horse
could only move by jumps. Seeing the success of his trick, Sancho Panza
said:

“See there, señor! Heaven, moved by my tears and prayers, has so
ordered it that Rocinante cannot stir; and if you will be obstinate,
and spur and strike him, you will only provoke fortune, and kick, as
they say, against the pricks.”

Don Quixote at this grew desperate, but the more he drove his heels
into the horse, the less he stirred him; and not having any suspicion
of the tying, he was fain to resign himself and wait till daybreak or
until Rocinante could move, firmly persuaded that all this came of
something other than Sancho’s ingenuity. So he said to him, “As it is
so, Sancho, and as Rocinante cannot move, I am content to wait till
dawn smiles upon us, even though I weep while it delays its coming.”

“There is no need to weep,” answered Sancho, “for I will amuse your
worship by telling stories from this till daylight, unless indeed you
like to dismount and lie down to sleep a little on the green grass
after the fashion of knights-errant, so as to be fresher when day comes
and the moment arrives for attempting this extraordinary adventure you
are looking forward to.”

“What art thou talking about dismounting or sleeping for?” said Don
Quixote. “Am I, thinkest thou, one of those knights that take their
rest in the presence of danger? Sleep thou who art born to sleep, or do
as thou wilt, for I will act as I think most consistent with my
character.”

“Be not angry, master mine,” replied Sancho, “I did not mean to say
that;” and coming close to him he laid one hand on the pommel of the
saddle and the other on the cantle so that he held his master’s left
thigh in his embrace, not daring to separate a finger’s width from him;
so much afraid was he of the strokes which still resounded with a
regular beat. Don Quixote bade him tell some story to amuse him as he
had proposed, to which Sancho replied that he would if his dread of
what he heard would let him; “Still,” said he, “I will strive to tell a
story which, if I can manage to relate it, and nobody interferes with
the telling, is the best of stories, and let your worship give me your
attention, for here I begin. What was, was; and may the good that is to
come be for all, and the evil for him who goes to look for it—your
worship must know that the beginning the old folk used to put to their
tales was not just as each one pleased; it was a maxim of Cato
Zonzorino the Roman, that says ‘the evil for him that goes to look for
it,’ and it comes as pat to the purpose now as ring to finger, to show
that your worship should keep quiet and not go looking for evil in any
quarter, and that we should go back by some other road, since nobody
forces us to follow this in which so many terrors affright us.”

“Go on with thy story, Sancho,” said Don Quixote, “and leave the choice
of our road to my care.”

“I say then,” continued Sancho, “that in a village of Estremadura there
was a goat-shepherd—that is to say, one who tended goats—which shepherd
or goatherd, as my story goes, was called Lope Ruiz, and this Lope Ruiz
was in love with a shepherdess called Torralva, which shepherdess
called Torralva was the daughter of a rich grazier, and this rich
grazier—”

“If that is the way thou tellest thy tale, Sancho,” said Don Quixote,
“repeating twice all thou hast to say, thou wilt not have done these
two days; go straight on with it, and tell it like a reasonable man, or
else say nothing.”

“Tales are always told in my country in the very way I am telling
this,” answered Sancho, “and I cannot tell it in any other, nor is it
right of your worship to ask me to make new customs.”

“Tell it as thou wilt,” replied Don Quixote; “and as fate will have it
that I cannot help listening to thee, go on.”

“And so, lord of my soul,” continued Sancho, as I have said, this
shepherd was in love with Torralva the shepherdess, who was a wild
buxom lass with something of the look of a man about her, for she had
little moustaches; I fancy I see her now.”

“Then you knew her?” said Don Quixote.

“I did not know her,” said Sancho, “but he who told me the story said
it was so true and certain that when I told it to another I might
safely declare and swear I had seen it all myself. And so in course of
time, the devil, who never sleeps and puts everything in confusion,
contrived that the love the shepherd bore the shepherdess turned into
hatred and ill-will, and the reason, according to evil tongues, was
some little jealousy she caused him that crossed the line and
trespassed on forbidden ground; and so much did the shepherd hate her
from that time forward that, in order to escape from her, he determined
to quit the country and go where he should never set eyes on her again.
Torralva, when she found herself spurned by Lope, was immediately
smitten with love for him, though she had never loved him before.”

“That is the natural way of women,” said Don Quixote, “to scorn the one
that loves them, and love the one that hates them: go on, Sancho.”

“It came to pass,” said Sancho, “that the shepherd carried out his
intention, and driving his goats before him took his way across the
plains of Estremadura to pass over into the Kingdom of Portugal.
Torralva, who knew of it, went after him, and on foot and barefoot
followed him at a distance, with a pilgrim’s staff in her hand and a
scrip round her neck, in which she carried, it is said, a bit of
looking-glass and a piece of a comb and some little pot or other of
paint for her face; but let her carry what she did, I am not going to
trouble myself to prove it; all I say is, that the shepherd, they say,
came with his flock to cross over the river Guadiana, which was at that
time swollen and almost overflowing its banks, and at the spot he came
to there was neither ferry nor boat nor anyone to carry him or his
flock to the other side, at which he was much vexed, for he perceived
that Torralva was approaching and would give him great annoyance with
her tears and entreaties; however, he went looking about so closely
that he discovered a fisherman who had alongside of him a boat so small
that it could only hold one person and one goat; but for all that he
spoke to him and agreed with him to carry himself and his three hundred
goats across. The fisherman got into the boat and carried one goat
over; he came back and carried another over; he came back again, and
again brought over another—let your worship keep count of the goats the
fisherman is taking across, for if one escapes the memory there will be
an end of the story, and it will be impossible to tell another word of
it. To proceed, I must tell you the landing place on the other side was
miry and slippery, and the fisherman lost a great deal of time in going
and coming; still he returned for another goat, and another, and
another.”

“Take it for granted he brought them all across,” said Don Quixote,
“and don’t keep going and coming in this way, or thou wilt not make an
end of bringing them over this twelvemonth.”

“How many have gone across so far?” said Sancho.

“How the devil do I know?” replied Don Quixote.

“There it is,” said Sancho, “what I told you, that you must keep a good
count; well then, by God, there is an end of the story, for there is no
going any farther.”

“How can that be?” said Don Quixote; “is it so essential to the story
to know to a nicety the goats that have crossed over, that if there be
a mistake of one in the reckoning, thou canst not go on with it?”

“No, señor, not a bit,” replied Sancho; “for when I asked your worship
to tell me how many goats had crossed, and you answered you did not
know, at that very instant all I had to say passed away out of my
memory, and, faith, there was much virtue in it, and entertainment.”

“So, then,” said Don Quixote, “the story has come to an end?”

“As much as my mother has,” said Sancho.

“In truth,” said Don Quixote, “thou hast told one of the rarest
stories, tales, or histories, that anyone in the world could have
imagined, and such a way of telling it and ending it was never seen nor
will be in a lifetime; though I expected nothing else from thy
excellent understanding. But I do not wonder, for perhaps those
ceaseless strokes may have confused thy wits.”

“All that may be,” replied Sancho, “but I know that as to my story, all
that can be said is that it ends there where the mistake in the count
of the passage of the goats begins.”

“Let it end where it will, well and good,” said Don Quixote, “and let
us see if Rocinante can go;” and again he spurred him, and again
Rocinante made jumps and remained where he was, so well tied was he.

Just then, whether it was the cold of the morning that was now
approaching, or that he had eaten something laxative at supper, or that
it was only natural (as is most likely), Sancho felt a desire to do
what no one could do for him; but so great was the fear that had
penetrated his heart, he dared not separate himself from his master by
as much as the black of his nail; to escape doing what he wanted was,
however, also impossible; so what he did for peace’s sake was to remove
his right hand, which held the back of the saddle, and with it to untie
gently and silently the running string which alone held up his
breeches, so that on loosening it they at once fell down round his feet
like fetters; he then raised his shirt as well as he could and bared
his hind quarters, no slim ones. But, this accomplished, which he
fancied was all he had to do to get out of this terrible strait and
embarrassment, another still greater difficulty presented itself, for
it seemed to him impossible to relieve himself without making some
noise, and he ground his teeth and squeezed his shoulders together,
holding his breath as much as he could; but in spite of his precautions
he was unlucky enough after all to make a little noise, very different
from that which was causing him so much fear.



c19c.jpg (308K)

Full Size




Don Quixote, hearing it, said, “What noise is that, Sancho?”

“I don’t know, señor,” said he; “it must be something new, for
adventures and misadventures never begin with a trifle.” Once more he
tried his luck, and succeeded so well, that without any further noise
or disturbance he found himself relieved of the burden that had given
him so much discomfort. But as Don Quixote’s sense of smell was as
acute as his hearing, and as Sancho was so closely linked with him that
the fumes rose almost in a straight line, it could not be but that some
should reach his nose, and as soon as they did he came to its relief by
compressing it between his fingers, saying in a rather snuffing tone,
“Sancho, it strikes me thou art in great fear.”

“I am,” answered Sancho; “but how does your worship perceive it now
more than ever?”

“Because just now thou smellest stronger than ever, and not of
ambergris,” answered Don Quixote.

“Very likely,” said Sancho, “but that’s not my fault, but your
worship’s, for leading me about at unseasonable hours and at such
unwonted paces.”

“Then go back three or four, my friend,” said Don Quixote, all the time
with his fingers to his nose; “and for the future pay more attention to
thy person and to what thou owest to mine; for it is my great
familiarity with thee that has bred this contempt.”

“I’ll bet,” replied Sancho, “that your worship thinks I have done
something I ought not with my person.”

“It makes it worse to stir it, friend Sancho,” returned Don Quixote.

With this and other talk of the same sort master and man passed the
night, till Sancho, perceiving that daybreak was coming on apace, very
cautiously untied Rocinante and tied up his breeches. As soon as
Rocinante found himself free, though by nature he was not at all
mettlesome, he seemed to feel lively and began pawing—for as to
capering, begging his pardon, he knew not what it meant. Don Quixote,
then, observing that Rocinante could move, took it as a good sign and a
signal that he should attempt the dread adventure. By this time day had
fully broken and everything showed distinctly, and Don Quixote saw that
he was among some tall trees, chestnuts, which cast a very deep shade;
he perceived likewise that the sound of the strokes did not cease, but
could not discover what caused it, and so without any further delay he
let Rocinante feel the spur, and once more taking leave of Sancho, he
told him to wait for him there three days at most, as he had said
before, and if he should not have returned by that time, he might feel
sure it had been God’s will that he should end his days in that
perilous adventure. He again repeated the message and commission with
which he was to go on his behalf to his lady Dulcinea, and said he was
not to be uneasy as to the payment of his services, for before leaving
home he had made his will, in which he would find himself fully
recompensed in the matter of wages in due proportion to the time he had
served; but if God delivered him safe, sound, and unhurt out of that
danger, he might look upon the promised island as much more than
certain. Sancho began to weep afresh on again hearing the affecting
words of his good master, and resolved to stay with him until the final
issue and end of the business. From these tears and this honourable
resolve of Sancho Panza’s the author of this history infers that he
must have been of good birth and at least an old Christian; and the
feeling he displayed touched his but not so much as to make him show
any weakness; on the contrary, hiding what he felt as well as he could,
he began to move towards that quarter whence the sound of the water and
of the strokes seemed to come.

Sancho followed him on foot, leading by the halter, as his custom was,
his ass, his constant comrade in prosperity or adversity; and advancing
some distance through the shady chestnut trees they came upon a little
meadow at the foot of some high rocks, down which a mighty rush of
water flung itself. At the foot of the rocks were some rudely
constructed houses looking more like ruins than houses, from among
which came, they perceived, the din and clatter of blows, which still
continued without intermission. Rocinante took fright at the noise of
the water and of the blows, but quieting him Don Quixote advanced step
by step towards the houses, commending himself with all his heart to
his lady, imploring her support in that dread pass and enterprise, and
on the way commending himself to God, too, not to forget him. Sancho
who never quitted his side, stretched his neck as far as he could and
peered between the legs of Rocinante to see if he could now discover
what it was that caused him such fear and apprehension. They went it
might be a hundred paces farther, when on turning a corner the true
cause, beyond the possibility of any mistake, of that dread-sounding
and to them awe-inspiring noise that had kept them all the night in
such fear and perplexity, appeared plain and obvious; and it was (if,
reader, thou art not disgusted and disappointed) six fulling hammers
which by their alternate strokes made all the din.

When Don Quixote perceived what it was, he was struck dumb and rigid
from head to foot. Sancho glanced at him and saw him with his head bent
down upon his breast in manifest mortification; and Don Quixote glanced
at Sancho and saw him with his cheeks puffed out and his mouth full of
laughter, and evidently ready to explode with it, and in spite of his
vexation he could not help laughing at the sight of him; and when
Sancho saw his master begin he let go so heartily that he had to hold
his sides with both hands to keep himself from bursting with laughter.
Four times he stopped, and as many times did his laughter break out
afresh with the same violence as at first, whereat Don Quixote grew
furious, above all when he heard him say mockingly, “Thou must know,
friend Sancho, that of Heaven’s will I was born in this our iron age to
revive in it the golden or age of gold; I am he for whom are reserved
perils, mighty achievements, valiant deeds;” and here he went on
repeating the words that Don Quixote uttered the first time they heard
the awful strokes.

Don Quixote, then, seeing that Sancho was turning him into ridicule,
was so mortified and vexed that he lifted up his pike and smote him two
such blows that if, instead of catching them on his shoulders, he had
caught them on his head there would have been no wages to pay, unless
indeed to his heirs. Sancho seeing that he was getting an awkward
return in earnest for his jest, and fearing his master might carry it
still further, said to him very humbly, “Calm yourself, sir, for by God
I am only joking.”

“Well, then, if you are joking I am not,” replied Don Quixote. “Look
here, my lively gentleman, if these, instead of being fulling hammers,
had been some perilous adventure, have I not, think you, shown the
courage required for the attempt and achievement? Am I, perchance,
being, as I am, a gentleman, bound to know and distinguish sounds and
tell whether they come from fulling mills or not; and that, when
perhaps, as is the case, I have never in my life seen any as you have,
low boor as you are, that have been born and bred among them? But turn
me these six hammers into six giants, and bring them to beard me, one
by one or all together, and if I do not knock them head over heels,
then make what mockery you like of me.”

“No more of that, señor,” returned Sancho; “I own I went a little too
far with the joke. But tell me, your worship, now that peace is made
between us (and may God bring you out of all the adventures that may
befall you as safe and sound as he has brought you out of this one),
was it not a thing to laugh at, and is it not a good story, the great
fear we were in?—at least that I was in; for as to your worship I see
now that you neither know nor understand what either fear or dismay
is.”

“I do not deny,” said Don Quixote, “that what happened to us may be
worth laughing at, but it is not worth making a story about, for it is
not everyone that is shrewd enough to hit the right point of a thing.”

“At any rate,” said Sancho, “your worship knew how to hit the right
point with your pike, aiming at my head and hitting me on the
shoulders, thanks be to God and my own smartness in dodging it. But let
that pass; all will come out in the scouring; for I have heard say ‘he
loves thee well that makes thee weep;’ and moreover that it is the way
with great lords after any hard words they give a servant to give him a
pair of breeches; though I do not know what they give after blows,
unless it be that knights-errant after blows give islands, or kingdoms
on the mainland.”

“It may be on the dice,” said Don Quixote, “that all thou sayest will
come true; overlook the past, for thou art shrewd enough to know that
our first movements are not in our own control; and one thing for the
future bear in mind, that thou curb and restrain thy loquacity in my
company; for in all the books of chivalry that I have read, and they
are innumerable, I never met with a squire who talked so much to his
lord as thou dost to thine; and in fact I feel it to be a great fault
of thine and of mine: of thine, that thou hast so little respect for
me; of mine, that I do not make myself more respected. There was
Gandalin, the squire of Amadis of Gaul, that was Count of the Insula
Firme, and we read of him that he always addressed his lord with his
cap in his hand, his head bowed down and his body bent double, more
turquesco. And then, what shall we say of Gasabal, the squire of
Galaor, who was so silent that in order to indicate to us the greatness
of his marvellous taciturnity his name is only once mentioned in the
whole of that history, as long as it is truthful? From all I have said
thou wilt gather, Sancho, that there must be a difference between
master and man, between lord and lackey, between knight and squire: so
that from this day forward in our intercourse we must observe more
respect and take less liberties, for in whatever way I may be provoked
with you it will be bad for the pitcher. The favours and benefits that
I have promised you will come in due time, and if they do not your
wages at least will not be lost, as I have already told you.”

“All that your worship says is very well,” said Sancho, “but I should
like to know (in case the time of favours should not come, and it might
be necessary to fall back upon wages) how much did the squire of a
knight-errant get in those days, and did they agree by the month, or by
the day like bricklayers?”

“I do not believe,” replied Don Quixote, “that such squires were ever
on wages, but were dependent on favour; and if I have now mentioned
thine in the sealed will I have left at home, it was with a view to
what may happen; for as yet I know not how chivalry will turn out in
these wretched times of ours, and I do not wish my soul to suffer for
trifles in the other world; for I would have thee know, Sancho, that in
this there is no condition more hazardous than that of adventurers.”

“That is true,” said Sancho, “since the mere noise of the hammers of a
fulling mill can disturb and disquiet the heart of such a valiant
errant adventurer as your worship; but you may be sure I will not open
my lips henceforward to make light of anything of your worship’s, but
only to honour you as my master and natural lord.”

“By so doing,” replied Don Quixote, “shalt thou live long on the face
of the earth; for next to parents, masters are to be respected as
though they were parents.”



c19e.jpg (33K)



CHAPTER XXI.
WHICH TREATS OF THE EXALTED ADVENTURE AND RICH PRIZE OF MAMBRINO’S
HELMET, TOGETHER WITH OTHER THINGS THAT HAPPENED TO OUR INVINCIBLE
KNIGHT




c20a.jpg (73K)

Full Size




It now began to rain a little, and Sancho was for going into the
fulling mills, but Don Quixote had taken such an abhorrence to them on
account of the late joke that he would not enter them on any account;
so turning aside to right they came upon another road, different from
that which they had taken the night before. Shortly afterwards Don
Quixote perceived a man on horseback who wore on his head something
that shone like gold, and the moment he saw him he turned to Sancho and
said:

“I think, Sancho, there is no proverb that is not true, all being
maxims drawn from experience itself, the mother of all the sciences,
especially that one that says, ‘Where one door shuts, another opens.’ I
say so because if last night fortune shut the door of the adventure we
were looking for against us, cheating us with the fulling mills, it now
opens wide another one for another better and more certain adventure,
and if I do not contrive to enter it, it will be my own fault, and I
cannot lay it to my ignorance of fulling mills, or the darkness of the
night. I say this because, if I mistake not, there comes towards us one
who wears on his head the helmet of Mambrino, concerning which I took
the oath thou rememberest.”

“Mind what you say, your worship, and still more what you do,” said
Sancho, “for I don’t want any more fulling mills to finish off fulling
and knocking our senses out.”

“The devil take thee, man,” said Don Quixote; “what has a helmet to do
with fulling mills?”

“I don’t know,” replied Sancho, “but, faith, if I might speak as I
used, perhaps I could give such reasons that your worship would see you
were mistaken in what you say.”

“How can I be mistaken in what I say, unbelieving traitor?” returned
Don Quixote; “tell me, seest thou not yonder knight coming towards us
on a dappled grey steed, who has upon his head a helmet of gold?”

“What I see and make out,” answered Sancho, “is only a man on a grey
ass like my own, who has something that shines on his head.”

“Well, that is the helmet of Mambrino,” said Don Quixote; “stand to one
side and leave me alone with him; thou shalt see how, without saying a
word, to save time, I shall bring this adventure to an issue and
possess myself of the helmet I have so longed for.”

“I will take care to stand aside,” said Sancho; “but God grant, I say
once more, that it may be marjoram and not fulling mills.”

“I have told thee, brother, on no account to mention those fulling
mills to me again,” said Don Quixote, “or I vow—and I say no more—I’ll
full the soul out of you.”

Sancho held his peace in dread lest his master should carry out the vow
he had hurled like a bowl at him.

The fact of the matter as regards the helmet, steed, and knight that
Don Quixote saw, was this. In that neighbourhood there were two
villages, one of them so small that it had neither apothecary’s shop
nor barber, which the other that was close to it had, so the barber of
the larger served the smaller, and in it there was a sick man who
required to be bled and another man who wanted to be shaved, and on
this errand the barber was going, carrying with him a brass basin; but
as luck would have it, as he was on the way it began to rain, and not
to spoil his hat, which probably was a new one, he put the basin on his
head, and being clean it glittered at half a league’s distance. He rode
upon a grey ass, as Sancho said, and this was what made it seem to Don
Quixote to be a dapple-grey steed and a knight and a golden helmet; for
everything he saw he made to fall in with his crazy chivalry and
ill-errant notions; and when he saw the poor knight draw near, without
entering into any parley with him, at Rocinante’s top speed he bore
down upon him with the pike pointed low, fully determined to run him
through and through, and as he reached him, without checking the fury
of his charge, he cried to him:

“Defend thyself, miserable being, or yield me of thine own accord that
which is so reasonably my due.”

The barber, who without any expectation or apprehension of it saw this
apparition coming down upon him, had no other way of saving himself
from the stroke of the lance but to let himself fall off his ass; and
no sooner had he touched the ground than he sprang up more nimbly than
a deer and sped away across the plain faster than the wind.

He left the basin on the ground, with which Don Quixote contented
himself, saying that the pagan had shown his discretion and imitated
the beaver, which finding itself pressed by the hunters bites and cuts
off with its teeth that for which, by its natural instinct, it knows it
is pursued.

He told Sancho to pick up the helmet, and he taking it in his hands
said:

“By God the basin is a good one, and worth a real of eight if it is
worth a maravedis,” and handed it to his master, who immediately put it
on his head, turning it round, now this way, now that, in search of
fitment, and not finding it he said, “Clearly the pagan to whose
measure this famous head-piece was first forged must have had a very
large head; but the worst of it is half of it is wanting.”

When Sancho heard him call the basin a headpiece he was unable to
restrain his laughter, but remembering his master’s wrath he checked
himself in the midst of it.

“What art thou laughing at, Sancho?” said Don Quixote.

“I am laughing,” said he, “to think of the great head the pagan must
have had who owned this helmet, for it looks exactly like a regular
barber’s basin.”

“Dost thou know what I suspect, Sancho?” said Don Quixote; “that this
wonderful piece of this enchanted helmet must by some strange accident
have come into the hands of someone who was unable to recognise or
realise its value, and who, not knowing what he did, and seeing it to
be of the purest gold, must have melted down one half for the sake of
what it might be worth, and of the other made this which is like a
barber’s basin as thou sayest; but be it as it may, to me who recognise
it, its transformation makes no difference, for I will set it to rights
at the first village where there is a blacksmith, and in such style
that that helmet the god of smithies forged for the god of battles
shall not surpass it or even come up to it; and in the meantime I will
wear it as well as I can, for something is better than nothing; all the
more as it will be quite enough to protect me from any chance blow of a
stone.”

“That is,” said Sancho, “if it is not shot with a sling as they were in
the battle of the two armies, when they signed the cross on your
worship’s grinders and smashed the flask with that blessed draught that
made me vomit my bowels up.”

“It does not grieve me much to have lost it,” said Don Quixote, “for
thou knowest, Sancho, that I have the receipt in my memory.”

“So have I,” answered Sancho, “but if ever I make it, or try it again
as long as I live, may this be my last hour; moreover, I have no
intention of putting myself in the way of wanting it, for I mean, with
all my five senses, to keep myself from being wounded or from wounding
anyone: as to being blanketed again I say nothing, for it is hard to
prevent mishaps of that sort, and if they come there is nothing for it
but to squeeze our shoulders together, hold our breath, shut our eyes,
and let ourselves go where luck and the blanket may send us.”

“Thou art a bad Christian, Sancho,” said Don Quixote on hearing this,
“for once an injury has been done thee thou never forgettest it: but
know that it is the part of noble and generous hearts not to attach
importance to trifles. What lame leg hast thou got by it, what broken
rib, what cracked head, that thou canst not forget that jest? For jest
and sport it was, properly regarded, and had I not seen it in that
light I would have returned and done more mischief in revenging thee
than the Greeks did for the rape of Helen, who, if she were alive now,
or if my Dulcinea had lived then, might depend upon it she would not be
so famous for her beauty as she is;” and here he heaved a sigh and sent
it aloft; and said Sancho, “Let it pass for a jest as it cannot be
revenged in earnest, but I know what sort of jest and earnest it was,
and I know it will never be rubbed out of my memory any more than off
my shoulders. But putting that aside, will your worship tell me what
are we to do with this dapple-grey steed that looks like a grey ass,
which that Martino that your worship overthrew has left deserted here?
for, from the way he took to his heels and bolted, he is not likely
ever to come back for it; and by my beard but the grey is a good one.”

“I have never been in the habit,” said Don Quixote, “of taking spoil of
those whom I vanquish, nor is it the practice of chivalry to take away
their horses and leave them to go on foot, unless indeed it be that the
victor have lost his own in the combat, in which case it is lawful to
take that of the vanquished as a thing won in lawful war; therefore,
Sancho, leave this horse, or ass, or whatever thou wilt have it to be;
for when its owner sees us gone hence he will come back for it.”

“God knows I should like to take it,” returned Sancho, “or at least to
change it for my own, which does not seem to me as good a one: verily
the laws of chivalry are strict, since they cannot be stretched to let
one ass be changed for another; I should like to know if I might at
least change trappings.”

“On that head I am not quite certain,” answered Don Quixote, “and the
matter being doubtful, pending better information, I say thou mayest
change them, if so be thou hast urgent need of them.”

“So urgent is it,” answered Sancho, “that if they were for my own
person I could not want them more;” and forthwith, fortified by this
licence, he effected the _mutatio capparum_, and rigged out his beast
to the ninety-nines and making quite another thing of it. This done,
they broke their fast on the remains of the spoils of war plundered
from the sumpter mule, and drank of the brook that flowed from the
fulling mills, without casting a look in that direction, in such
loathing did they hold them for the alarm they had caused them; and,
all anger and gloom removed, they mounted and, without taking any fixed
road (not to fix upon any being the proper thing for true
knights-errant), they set out, guided by Rocinante’s will, which
carried along with it that of his master, not to say that of the ass,
which always followed him wherever he led, lovingly and sociably;
nevertheless they returned to the high road, and pursued it at a
venture without any other aim.

As they went along, then, in this way Sancho said to his master,
“Señor, would your worship give me leave to speak a little to you? For
since you laid that hard injunction of silence on me several things
have gone to rot in my stomach, and I have now just one on the tip of
my tongue that I don’t want to be spoiled.”

“Say, on, Sancho,” said Don Quixote, “and be brief in thy discourse,
for there is no pleasure in one that is long.”

“Well then, señor,” returned Sancho, “I say that for some days past I
have been considering how little is got or gained by going in search of
these adventures that your worship seeks in these wilds and
cross-roads, where, even if the most perilous are victoriously
achieved, there is no one to see or know of them, and so they must be
left untold for ever, to the loss of your worship’s object and the
credit they deserve; therefore it seems to me it would be better
(saving your worship’s better judgment) if we were to go and serve some
emperor or other great prince who may have some war on hand, in whose
service your worship may prove the worth of your person, your great
might, and greater understanding, on perceiving which the lord in whose
service we may be will perforce have to reward us, each according to
his merits; and there you will not be at a loss for someone to set down
your achievements in writing so as to preserve their memory for ever.
Of my own I say nothing, as they will not go beyond squirely limits,
though I make bold to say that, if it be the practice in chivalry to
write the achievements of squires, I think mine must not be left out.”

“Thou speakest not amiss, Sancho,” answered Don Quixote, “but before
that point is reached it is requisite to roam the world, as it were on
probation, seeking adventures, in order that, by achieving some, name
and fame may be acquired, such that when he betakes himself to the
court of some great monarch the knight may be already known by his
deeds, and that the boys, the instant they see him enter the gate of
the city, may all follow him and surround him, crying, ‘This is the
Knight of the Sun’—or the Serpent, or any other title under which he
may have achieved great deeds. ‘This,’ they will say, ‘is he who
vanquished in single combat the gigantic Brocabruno of mighty strength;
he who delivered the great Mameluke of Persia out of the long
enchantment under which he had been for almost nine hundred years.’ So
from one to another they will go proclaiming his achievements; and
presently at the tumult of the boys and the others the king of that
kingdom will appear at the windows of his royal palace, and as soon as
he beholds the knight, recognising him by his arms and the device on
his shield, he will as a matter of course say, ‘What ho! Forth all ye,
the knights of my court, to receive the flower of chivalry who cometh
hither!’ At which command all will issue forth, and he himself,
advancing half-way down the stairs, will embrace him closely, and
salute him, kissing him on the cheek, and will then lead him to the
queen’s chamber, where the knight will find her with the princess her
daughter, who will be one of the most beautiful and accomplished
damsels that could with the utmost pains be discovered anywhere in the
known world. Straightway it will come to pass that she will fix her
eyes upon the knight and he his upon her, and each will seem to the
other something more divine than human, and, without knowing how or why
they will be taken and entangled in the inextricable toils of love, and
sorely distressed in their hearts not to see any way of making their
pains and sufferings known by speech. Thence they will lead him, no
doubt, to some richly adorned chamber of the palace, where, having
removed his armour, they will bring him a rich mantle of scarlet
wherewith to robe himself, and if he looked noble in his armour he will
look still more so in a doublet. When night comes he will sup with the
king, queen, and princess; and all the time he will never take his eyes
off her, stealing stealthy glances, unnoticed by those present, and she
will do the same, and with equal cautiousness, being, as I have said, a
damsel of great discretion. The tables being removed, suddenly through
the door of the hall there will enter a hideous and diminutive dwarf
followed by a fair dame, between two giants, who comes with a certain
adventure, the work of an ancient sage; and he who shall achieve it
shall be deemed the best knight in the world.

“The king will then command all those present to essay it, and none
will bring it to an end and conclusion save the stranger knight, to the
great enhancement of his fame, whereat the princess will be overjoyed
and will esteem herself happy and fortunate in having fixed and placed
her thoughts so high. And the best of it is that this king, or prince,
or whatever he is, is engaged in a very bitter war with another as
powerful as himself, and the stranger knight, after having been some
days at his court, requests leave from him to go and serve him in the
said war. The king will grant it very readily, and the knight will
courteously kiss his hands for the favour done to him; and that night
he will take leave of his lady the princess at the grating of the
chamber where she sleeps, which looks upon a garden, and at which he
has already many times conversed with her, the go-between and
confidante in the matter being a damsel much trusted by the princess.
He will sigh, she will swoon, the damsel will fetch water, much
distressed because morning approaches, and for the honour of her lady
he would not that they were discovered; at last the princess will come
to herself and will present her white hands through the grating to the
knight, who will kiss them a thousand and a thousand times, bathing
them with his tears. It will be arranged between them how they are to
inform each other of their good or evil fortunes, and the princess will
entreat him to make his absence as short as possible, which he will
promise to do with many oaths; once more he kisses her hands, and takes
his leave in such grief that he is well-nigh ready to die. He betakes
him thence to his chamber, flings himself on his bed, cannot sleep for
sorrow at parting, rises early in the morning, goes to take leave of
the king, queen, and princess, and, as he takes his leave of the pair,
it is told him that the princess is indisposed and cannot receive a
visit; the knight thinks it is from grief at his departure, his heart
is pierced, and he is hardly able to keep from showing his pain. The
confidante is present, observes all, goes to tell her mistress, who
listens with tears and says that one of her greatest distresses is not
knowing who this knight is, and whether he is of kingly lineage or not;
the damsel assures her that so much courtesy, gentleness, and gallantry
of bearing as her knight possesses could not exist in any save one who
was royal and illustrious; her anxiety is thus relieved, and she
strives to be of good cheer lest she should excite suspicion in her
parents, and at the end of two days she appears in public. Meanwhile
the knight has taken his departure; he fights in the war, conquers the
king’s enemy, wins many cities, triumphs in many battles, returns to
the court, sees his lady where he was wont to see her, and it is agreed
that he shall demand her in marriage of her parents as the reward of
his services; the king is unwilling to give her, as he knows not who he
is, but nevertheless, whether carried off or in whatever other way it
may be, the princess comes to be his bride, and her father comes to
regard it as very good fortune; for it so happens that this knight is
proved to be the son of a valiant king of some kingdom, I know not
what, for I fancy it is not likely to be on the map. The father dies,
the princess inherits, and in two words the knight becomes king. And
here comes in at once the bestowal of rewards upon his squire and all
who have aided him in rising to so exalted a rank. He marries his
squire to a damsel of the princess’s, who will be, no doubt, the one
who was confidante in their amour, and is daughter of a very great
duke.”

“That’s what I want, and no mistake about it!” said Sancho. “That’s
what I’m waiting for; for all this, word for word, is in store for your
worship under the title of the Knight of the Rueful Countenance.”

“Thou needst not doubt it, Sancho,” replied Don Quixote, “for in the
same manner, and by the same steps as I have described here,
knights-errant rise and have risen to be kings and emperors; all we
want now is to find out what king, Christian or pagan, is at war and
has a beautiful daughter; but there will be time enough to think of
that, for, as I have told thee, fame must be won in other quarters
before repairing to the court. There is another thing, too, that is
wanting; for supposing we find a king who is at war and has a beautiful
daughter, and that I have won incredible fame throughout the universe,
I know not how it can be made out that I am of royal lineage, or even
second cousin to an emperor; for the king will not be willing to give
me his daughter in marriage unless he is first thoroughly satisfied on
this point, however much my famous deeds may deserve it; so that by
this deficiency I fear I shall lose what my arm has fairly earned. True
it is I am a gentleman of known house, of estate and property, and
entitled to the five hundred sueldos mulet; and it may be that the sage
who shall write my history will so clear up my ancestry and pedigree
that I may find myself fifth or sixth in descent from a king; for I
would have thee know, Sancho, that there are two kinds of lineages in
the world; some there be tracing and deriving their descent from kings
and princes, whom time has reduced little by little until they end in a
point like a pyramid upside down; and others who spring from the common
herd and go on rising step by step until they come to be great lords;
so that the difference is that the one were what they no longer are,
and the others are what they formerly were not. And I may be of such
that after investigation my origin may prove great and famous, with
which the king, my father-in-law that is to be, ought to be satisfied;
and should he not be, the princess will so love me that even though she
well knew me to be the son of a water-carrier, she will take me for her
lord and husband in spite of her father; if not, then it comes to
seizing her and carrying her off where I please; for time or death will
put an end to the wrath of her parents.”

“It comes to this, too,” said Sancho, “what some naughty people say,
‘Never ask as a favour what thou canst take by force;’ though it would
fit better to say, ‘A clear escape is better than good men’s prayers.’
I say so because if my lord the king, your worship’s father-in-law,
will not condescend to give you my lady the princess, there is nothing
for it but, as your worship says, to seize her and transport her. But
the mischief is that until peace is made and you come into the peaceful
enjoyment of your kingdom, the poor squire is famishing as far as
rewards go, unless it be that the confidante damsel that is to be his
wife comes with the princess, and that with her he tides over his bad
luck until Heaven otherwise orders things; for his master, I suppose,
may as well give her to him at once for a lawful wife.”

“Nobody can object to that,” said Don Quixote.

“Then since that may be,” said Sancho, “there is nothing for it but to
commend ourselves to God, and let fortune take what course it will.”

“God guide it according to my wishes and thy wants,” said Don Quixote,
“and mean be he who thinks himself mean.”

“In God’s name let him be so,” said Sancho: “I am an old Christian, and
to fit me for a count that’s enough.”

“And more than enough for thee,” said Don Quixote; “and even wert thou
not, it would make no difference, because I being the king can easily
give thee nobility without purchase or service rendered by thee, for
when I make thee a count, then thou art at once a gentleman; and they
may say what they will, but by my faith they will have to call thee
‘your lordship,’ whether they like it or not.”

“Not a doubt of it; and I’ll know how to support the tittle,” said
Sancho.

“Title thou shouldst say, not tittle,” said his master.

“So be it,” answered Sancho. “I say I will know how to behave, for once
in my life I was beadle of a brotherhood, and the beadle’s gown sat so
well on me that all said I looked as if I was to be steward of the same
brotherhood. What will it be, then, when I put a duke’s robe on my
back, or dress myself in gold and pearls like a count? I believe
they’ll come a hundred leagues to see me.”

“Thou wilt look well,” said Don Quixote, “but thou must shave thy beard
often, for thou hast it so thick and rough and unkempt, that if thou
dost not shave it every second day at least, they will see what thou
art at the distance of a musket shot.”

“What more will it be,” said Sancho, “than having a barber, and keeping
him at wages in the house? and even if it be necessary, I will make him
go behind me like a nobleman’s equerry.”

“Why, how dost thou know that noblemen have equerries behind them?”
asked Don Quixote.

“I will tell you,” answered Sancho. “Years ago I was for a month at the
capital and there I saw taking the air a very small gentleman who they
said was a very great man, and a man following him on horseback in
every turn he took, just as if he was his tail. I asked why this man
did not join the other man, instead of always going behind him; they
answered me that he was his equerry, and that it was the custom with
nobles to have such persons behind them, and ever since then I know it,
for I have never forgotten it.”

“Thou art right,” said Don Quixote, “and in the same way thou mayest
carry thy barber with thee, for customs did not come into use all
together, nor were they all invented at once, and thou mayest be the
first count to have a barber to follow him; and, indeed, shaving one’s
beard is a greater trust than saddling one’s horse.”

“Let the barber business be my look-out,” said Sancho; “and your
worship’s be it to strive to become a king, and make me a count.”

“So it shall be,” answered Don Quixote, and raising his eyes he saw
what will be told in the following chapter.



c20e.jpg (18K)



CHAPTER XXII.
OF THE FREEDOM DON QUIXOTE CONFERRED ON SEVERAL UNFORTUNATES WHO
AGAINST THEIR WILL WERE BEING CARRIED WHERE THEY HAD NO WISH TO GO




c22a.jpg (178K)

Full Size




Cid Hamete Benengeli, the Arab and Manchegan author, relates in this
most grave, high-sounding, minute, delightful, and original history
that after the discussion between the famous Don Quixote of La Mancha
and his squire Sancho Panza which is set down at the end of chapter
twenty-one, Don Quixote raised his eyes and saw coming along the road
he was following some dozen men on foot strung together by the neck,
like beads, on a great iron chain, and all with manacles on their
hands. With them there came also two men on horseback and two on foot;
those on horseback with wheel-lock muskets, those on foot with javelins
and swords, and as soon as Sancho saw them he said:

“That is a chain of galley slaves, on the way to the galleys by force
of the king’s orders.”

“How by force?” asked Don Quixote; “is it possible that the king uses
force against anyone?”

“I do not say that,” answered Sancho, “but that these are people
condemned for their crimes to serve by force in the king’s galleys.”

“In fact,” replied Don Quixote, “however it may be, these people are
going where they are taking them by force, and not of their own will.”

“Just so,” said Sancho.

“Then if so,” said Don Quixote, “here is a case for the exercise of my
office, to put down force and to succour and help the wretched.”

“Recollect, your worship,” said Sancho, “Justice, which is the king
himself, is not using force or doing wrong to such persons, but
punishing them for their crimes.”

The chain of galley slaves had by this time come up, and Don Quixote in
very courteous language asked those who were in custody of it to be
good enough to tell him the reason or reasons for which they were
conducting these people in this manner. One of the guards on horseback
answered that they were galley slaves belonging to his majesty, that
they were going to the galleys, and that was all that was to be said
and all he had any business to know.



c22b.jpg (298K)

Full Size




“Nevertheless,” replied Don Quixote, “I should like to know from each
of them separately the reason of his misfortune;” to this he added more
to the same effect to induce them to tell him what he wanted so civilly
that the other mounted guard said to him:

“Though we have here the register and certificate of the sentence of
every one of these wretches, this is no time to take them out or read
them; come and ask themselves; they can tell if they choose, and they
will, for these fellows take a pleasure in doing and talking about
rascalities.”

With this permission, which Don Quixote would have taken even had they
not granted it, he approached the chain and asked the first for what
offences he was now in such a sorry case.

He made answer that it was for being a lover.

“For that only?” replied Don Quixote; “why, if for being lovers they
send people to the galleys I might have been rowing in them long ago.”

“The love is not the sort your worship is thinking of,” said the galley
slave; “mine was that I loved a washerwoman’s basket of clean linen so
well, and held it so close in my embrace, that if the arm of the law
had not forced it from me, I should never have let it go of my own will
to this moment; I was caught in the act, there was no occasion for
torture, the case was settled, they treated me to a hundred lashes on
the back, and three years of gurapas besides, and that was the end of
it.”

“What are gurapas?” asked Don Quixote.

“Gurapas are galleys,” answered the galley slave, who was a young man
of about four-and-twenty, and said he was a native of Piedrahita.

Don Quixote asked the same question of the second, who made no reply,
so downcast and melancholy was he; but the first answered for him, and
said, “He, sir, goes as a canary, I mean as a musician and a singer.”

“What!” said Don Quixote, “for being musicians and singers are people
sent to the galleys too?”

“Yes, sir,” answered the galley slave, “for there is nothing worse than
singing under suffering.”

“On the contrary, I have heard say,” said Don Quixote, “that he who
sings scares away his woes.”

“Here it is the reverse,” said the galley slave; “for he who sings once
weeps all his life.”

“I do not understand it,” said Don Quixote; but one of the guards said
to him, “Sir, to sing under suffering means with the _non sancta_
fraternity to confess under torture; they put this sinner to the
torture and he confessed his crime, which was being a cuatrero, that is
a cattle-stealer, and on his confession they sentenced him to six years
in the galleys, besides two hundred lashes that he has already had on
the back; and he is always dejected and downcast because the other
thieves that were left behind and that march here ill-treat, and snub,
and jeer, and despise him for confessing and not having spirit enough
to say nay; for, say they, ‘nay’ has no more letters in it than ‘yea,’
and a culprit is well off when life or death with him depends on his
own tongue and not on that of witnesses or evidence; and to my thinking
they are not very far out.”

“And I think so too,” answered Don Quixote; then passing on to the
third he asked him what he had asked the others, and the man answered
very readily and unconcernedly, “I am going for five years to their
ladyships the gurapas for the want of ten ducats.”

“I will give twenty with pleasure to get you out of that trouble,” said
Don Quixote.

“That,” said the galley slave, “is like a man having money at sea when
he is dying of hunger and has no way of buying what he wants; I say so
because if at the right time I had had those twenty ducats that your
worship now offers me, I would have greased the notary’s pen and
freshened up the attorney’s wit with them, so that to-day I should be
in the middle of the plaza of the Zocodover at Toledo, and not on this
road coupled like a greyhound. But God is great; patience—there, that’s
enough of it.”

Don Quixote passed on to the fourth, a man of venerable aspect with a
white beard falling below his breast, who on hearing himself asked the
reason of his being there began to weep without answering a word, but
the fifth acted as his tongue and said, “This worthy man is going to
the galleys for four years, after having gone the rounds in ceremony
and on horseback.”

“That means,” said Sancho Panza, “as I take it, to have been exposed to
shame in public.”

“Just so,” replied the galley slave, “and the offence for which they
gave him that punishment was having been an ear-broker, nay
body-broker; I mean, in short, that this gentleman goes as a pimp, and
for having besides a certain touch of the sorcerer about him.”

“If that touch had not been thrown in,” said Don Quixote, “he would not
deserve, for mere pimping, to row in the galleys, but rather to command
and be admiral of them; for the office of pimp is no ordinary one,
being the office of persons of discretion, one very necessary in a
well-ordered state, and only to be exercised by persons of good birth;
nay, there ought to be an inspector and overseer of them, as in other
offices, and recognised number, as with the brokers on change; in this
way many of the evils would be avoided which are caused by this office
and calling being in the hands of stupid and ignorant people, such as
women more or less silly, and pages and jesters of little standing and
experience, who on the most urgent occasions, and when ingenuity of
contrivance is needed, let the crumbs freeze on the way to their
mouths, and know not which is their right hand. I should like to go
farther, and give reasons to show that it is advisable to choose those
who are to hold so necessary an office in the state, but this is not
the fit place for it; some day I will expound the matter to someone
able to see to and rectify it; all I say now is, that the additional
fact of his being a sorcerer has removed the sorrow it gave me to see
these white hairs and this venerable countenance in so painful a
position on account of his being a pimp; though I know well there are
no sorceries in the world that can move or compel the will as some
simple folk fancy, for our will is free, nor is there herb or charm
that can force it. All that certain silly women and quacks do is to
turn men mad with potions and poisons, pretending that they have power
to cause love, for, as I say, it is an impossibility to compel the
will.”

“It is true,” said the good old man, “and indeed, sir, as far as the
charge of sorcery goes I was not guilty; as to that of being a pimp I
cannot deny it; but I never thought I was doing any harm by it, for my
only object was that all the world should enjoy itself and live in
peace and quiet, without quarrels or troubles; but my good intentions
were unavailing to save me from going where I never expect to come back
from, with this weight of years upon me and a urinary ailment that
never gives me a moment’s ease;” and again he fell to weeping as
before, and such compassion did Sancho feel for him that he took out a
real of four from his bosom and gave it to him in alms.

Don Quixote went on and asked another what his crime was, and the man
answered with no less but rather much more sprightliness than the last
one.

“I am here because I carried the joke too far with a couple of cousins
of mine, and with a couple of other cousins who were none of mine; in
short, I carried the joke so far with them all that it ended in such a
complicated increase of kindred that no accountant could make it clear:
it was all proved against me, I got no favour, I had no money, I was
near having my neck stretched, they sentenced me to the galleys for six
years, I accepted my fate, it is the punishment of my fault; I am a
young man; let life only last, and with that all will come right. If
you, sir, have anything wherewith to help the poor, God will repay it
to you in heaven, and we on earth will take care in our petitions to
him to pray for the life and health of your worship, that they may be
as long and as good as your amiable appearance deserves.”

This one was in the dress of a student, and one of the guards said he
was a great talker and a very elegant Latin scholar.

Behind all these there came a man of thirty, a very personable fellow,
except that when he looked, his eyes turned in a little one towards the
other. He was bound differently from the rest, for he had to his leg a
chain so long that it was wound all round his body, and two rings on
his neck, one attached to the chain, the other to what they call a
“keep-friend” or “friend’s foot,” from which hung two irons reaching to
his waist with two manacles fixed to them in which his hands were
secured by a big padlock, so that he could neither raise his hands to
his mouth nor lower his head to his hands. Don Quixote asked why this
man carried so many more chains than the others. The guard replied that
it was because he alone had committed more crimes than all the rest put
together, and was so daring and such a villain, that though they
marched him in that fashion they did not feel sure of him, but were in
dread of his making his escape.

“What crimes can he have committed,” said Don Quixote, “if they have
not deserved a heavier punishment than being sent to the galleys?”

“He goes for ten years,” replied the guard, “which is the same thing as
civil death, and all that need be said is that this good fellow is the
famous Gines de Pasamonte, otherwise called Ginesillo de Parapilla.”

“Gently, señor commissary,” said the galley slave at this, “let us have
no fixing of names or surnames; my name is Gines, not Ginesillo, and my
family name is Pasamonte, not Parapilla as you say; let each one mind
his own business, and he will be doing enough.”

“Speak with less impertinence, master thief of extra measure,” replied
the commissary, “if you don’t want me to make you hold your tongue in
spite of your teeth.”

“It is easy to see,” returned the galley slave, “that man goes as God
pleases, but someone shall know some day whether I am called Ginesillo
de Parapilla or not.”

“Don’t they call you so, you liar?” said the guard.

“They do,” returned Gines, “but I will make them give over calling me
so, or I will be shaved, where, I only say behind my teeth. If you,
sir, have anything to give us, give it to us at once, and God speed
you, for you are becoming tiresome with all this inquisitiveness about
the lives of others; if you want to know about mine, let me tell you I
am Gines de Pasamonte, whose life is written by these fingers.”

“He says true,” said the commissary, “for he has himself written his
story as grand as you please, and has left the book in the prison in
pawn for two hundred reals.”

“And I mean to take it out of pawn,” said Gines, “though it were in for
two hundred ducats.”

“Is it so good?” said Don Quixote.

“So good is it,” replied Gines, “that a fig for ‘Lazarillo de Tormes,’
and all of that kind that have been written, or shall be written
compared with it: all I will say about it is that it deals with facts,
and facts so neat and diverting that no lies could match them.”

“And how is the book entitled?” asked Don Quixote.

“The ‘Life of Gines de Pasamonte,’” replied the subject of it.

“And is it finished?” asked Don Quixote.

“How can it be finished,” said the other, “when my life is not yet
finished? All that is written is from my birth down to the point when
they sent me to the galleys this last time.”

“Then you have been there before?” said Don Quixote.

“In the service of God and the king I have been there for four years
before now, and I know by this time what the biscuit and courbash are
like,” replied Gines; “and it is no great grievance to me to go back to
them, for there I shall have time to finish my book; I have still many
things left to say, and in the galleys of Spain there is more than
enough leisure; though I do not want much for what I have to write, for
I have it by heart.”

“You seem a clever fellow,” said Don Quixote.

“And an unfortunate one,” replied Gines, “for misfortune always
persecutes good wit.”

“It persecutes rogues,” said the commissary.

“I told you already to go gently, master commissary,” said Pasamonte;
“their lordships yonder never gave you that staff to ill-treat us
wretches here, but to conduct and take us where his majesty orders you;
if not, by the life of-never mind—; it may be that some day the stains
made in the inn will come out in the scouring; let everyone hold his
tongue and behave well and speak better; and now let us march on, for
we have had quite enough of this entertainment.”

The commissary lifted his staff to strike Pasamonte in return for his
threats, but Don Quixote came between them, and begged him not to
ill-use him, as it was not too much to allow one who had his hands tied
to have his tongue a trifle free; and turning to the whole chain of
them he said:

“From all you have told me, dear brethren, make out clearly that though
they have punished you for your faults, the punishments you are about
to endure do not give you much pleasure, and that you go to them very
much against the grain and against your will, and that perhaps this
one’s want of courage under torture, that one’s want of money, the
other’s want of advocacy, and lastly the perverted judgment of the
judge may have been the cause of your ruin and of your failure to
obtain the justice you had on your side. All which presents itself now
to my mind, urging, persuading, and even compelling me to demonstrate
in your case the purpose for which Heaven sent me into the world and
caused me to make profession of the order of chivalry to which I
belong, and the vow I took therein to give aid to those in need and
under the oppression of the strong. But as I know that it is a mark of
prudence not to do by foul means what may be done by fair, I will ask
these gentlemen, the guards and commissary, to be so good as to release
you and let you go in peace, as there will be no lack of others to
serve the king under more favourable circumstances; for it seems to me
a hard case to make slaves of those whom God and nature have made free.
Moreover, sirs of the guard,” added Don Quixote, “these poor fellows
have done nothing to you; let each answer for his own sins yonder;
there is a God in Heaven who will not forget to punish the wicked or
reward the good; and it is not fitting that honest men should be the
instruments of punishment to others, they being therein no way
concerned. This request I make thus gently and quietly, that, if you
comply with it, I may have reason for thanking you; and, if you will
not voluntarily, this lance and sword together with the might of my arm
shall compel you to comply with it by force.”

“Nice nonsense!” said the commissary; “a fine piece of pleasantry he
has come out with at last! He wants us to let the king’s prisoners go,
as if we had any authority to release them, or he to order us to do so!
Go your way, sir, and good luck to you; put that basin straight that
you’ve got on your head, and don’t go looking for three feet on a cat.”

“’Tis you that are the cat, rat, and rascal,” replied Don Quixote, and
acting on the word he fell upon him so suddenly that without giving him
time to defend himself he brought him to the ground sorely wounded with
a lance-thrust; and lucky it was for him that it was the one that had
the musket. The other guards stood thunderstruck and amazed at this
unexpected event, but recovering presence of mind, those on horseback
seized their swords, and those on foot their javelins, and attacked Don
Quixote, who was waiting for them with great calmness; and no doubt it
would have gone badly with him if the galley slaves, seeing the chance
before them of liberating themselves, had not effected it by contriving
to break the chain on which they were strung. Such was the confusion,
that the guards, now rushing at the galley slaves who were breaking
loose, now to attack Don Quixote who was waiting for them, did nothing
at all that was of any use. Sancho, on his part, gave a helping hand to
release Gines de Pasamonte, who was the first to leap forth upon the
plain free and unfettered, and who, attacking the prostrate commissary,
took from him his sword and the musket, with which, aiming at one and
levelling at another, he, without ever discharging it, drove every one
of the guards off the field, for they took to flight, as well to escape
Pasamonte’s musket, as the showers of stones the now released galley
slaves were raining upon them. Sancho was greatly grieved at the
affair, because he anticipated that those who had fled would report the
matter to the Holy Brotherhood, who at the summons of the alarm-bell
would at once sally forth in quest of the offenders; and he said so to
his master, and entreated him to leave the place at once, and go into
hiding in the sierra that was close by.

“That is all very well,” said Don Quixote, “but I know what must be
done now;” and calling together all the galley slaves, who were now
running riot, and had stripped the commissary to the skin, he collected
them round him to hear what he had to say, and addressed them as
follows: “To be grateful for benefits received is the part of persons
of good birth, and one of the sins most offensive to God is
ingratitude; I say so because, sirs, ye have already seen by manifest
proof the benefit ye have received of me; in return for which I desire,
and it is my good pleasure that, laden with that chain which I have
taken off your necks, ye at once set out and proceed to the city of El
Toboso, and there present yourselves before the lady Dulcinea del
Toboso, and say to her that her knight, he of the Rueful Countenance,
sends to commend himself to her; and that ye recount to her in full
detail all the particulars of this notable adventure, up to the
recovery of your longed-for liberty; and this done ye may go where ye
will, and good fortune attend you.”

Gines de Pasamonte made answer for all, saying, “That which you, sir,
our deliverer, demand of us, is of all impossibilities the most
impossible to comply with, because we cannot go together along the
roads, but only singly and separate, and each one his own way,
endeavouring to hide ourselves in the bowels of the earth to escape the
Holy Brotherhood, which, no doubt, will come out in search of us. What
your worship may do, and fairly do, is to change this service and
tribute as regards the lady Dulcinea del Toboso for a certain quantity
of ave-marias and credos which we will say for your worship’s
intention, and this is a condition that can be complied with by night
as by day, running or resting, in peace or in war; but to imagine that
we are going now to return to the flesh-pots of Egypt, I mean to take
up our chain and set out for El Toboso, is to imagine that it is now
night, though it is not yet ten in the morning, and to ask this of us
is like asking pears of the elm tree.”

“Then by all that’s good,” said Don Quixote (now stirred to wrath),
“Don son of a bitch, Don Ginesillo de Paropillo, or whatever your name
is, you will have to go yourself alone, with your tail between your
legs and the whole chain on your back.”

Pasamonte, who was anything but meek (being by this time thoroughly
convinced that Don Quixote was not quite right in his head as he had
committed such a vagary as to set them free), finding himself abused in
this fashion, gave the wink to his companions, and falling back they
began to shower stones on Don Quixote at such a rate that he was quite
unable to protect himself with his buckler, and poor Rocinante no more
heeded the spur than if he had been made of brass. Sancho planted
himself behind his ass, and with him sheltered himself from the
hailstorm that poured on both of them. Don Quixote was unable to shield
himself so well but that more pebbles than I could count struck him
full on the body with such force that they brought him to the ground;
and the instant he fell the student pounced upon him, snatched the
basin from his head, and with it struck three or four blows on his
shoulders, and as many more on the ground, knocking it almost to
pieces. They then stripped him of a jacket that he wore over his
armour, and they would have stripped off his stockings if his greaves
had not prevented them. From Sancho they took his coat, leaving him in
his shirt-sleeves; and dividing among themselves the remaining spoils
of the battle, they went each one his own way, more solicitous about
keeping clear of the Holy Brotherhood they dreaded, than about
burdening themselves with the chain, or going to present themselves
before the lady Dulcinea del Toboso. The ass and Rocinante, Sancho and
Don Quixote, were all that were left upon the spot; the ass with
drooping head, serious, shaking his ears from time to time as if he
thought the storm of stones that assailed them was not yet over;
Rocinante stretched beside his master, for he too had been brought to
the ground by a stone; Sancho stripped, and trembling with fear of the
Holy Brotherhood; and Don Quixote fuming to find himself so served by
the very persons for whom he had done so much.



c22e.jpg (44K)



CHAPTER XXIII.
OF WHAT BEFELL DON QUIXOTE IN THE SIERRA MORENA, WHICH WAS ONE OF THE
RAREST ADVENTURES RELATED IN THIS VERACIOUS HISTORY




c23a.jpg (148K)

Full Size




Seeing himself served in this way, Don Quixote said to his squire, “I
have always heard it said, Sancho, that to do good to boors is to throw
water into the sea. If I had believed thy words, I should have avoided
this trouble; but it is done now, it is only to have patience and take
warning for the future.”



c23b.jpg (318K)

Full Size




“Your worship will take warning as much as I am a Turk,” returned
Sancho; “but, as you say this mischief might have been avoided if you
had believed me, believe me now, and a still greater one will be
avoided; for I tell you chivalry is of no account with the Holy
Brotherhood, and they don’t care two maravedis for all the
knights-errant in the world; and I can tell you I fancy I hear their
arrows whistling past my ears this minute.”

“Thou art a coward by nature, Sancho,” said Don Quixote, “but lest thou
shouldst say I am obstinate, and that I never do as thou dost advise,
this once I will take thy advice, and withdraw out of reach of that
fury thou so dreadest; but it must be on one condition, that never, in
life or in death, thou art to say to anyone that I retired or withdrew
from this danger out of fear, but only in compliance with thy
entreaties; for if thou sayest otherwise thou wilt lie therein, and
from this time to that, and from that to this, I give thee lie, and say
thou liest and wilt lie every time thou thinkest or sayest it; and
answer me not again; for at the mere thought that I am withdrawing or
retiring from any danger, above all from this, which does seem to carry
some little shadow of fear with it, I am ready to take my stand here
and await alone, not only that Holy Brotherhood you talk of and dread,
but the brothers of the twelve tribes of Israel, and the Seven
Maccabees, and Castor and Pollux, and all the brothers and brotherhoods
in the world.”

“Señor,” replied Sancho, “to retire is not to flee, and there is no
wisdom in waiting when danger outweighs hope, and it is the part of
wise men to preserve themselves to-day for to-morrow, and not risk all
in one day; and let me tell you, though I am a clown and a boor, I have
got some notion of what they call safe conduct; so repent not of having
taken my advice, but mount Rocinante if you can, and if not I will help
you; and follow me, for my mother-wit tells me we have more need of
legs than hands just now.”

Don Quixote mounted without replying, and, Sancho leading the way on
his ass, they entered the side of the Sierra Morena, which was close
by, as it was Sancho’s design to cross it entirely and come out again
at El Viso or Almodóvar del Campo, and hide for some days among its
crags so as to escape the search of the Brotherhood should they come to
look for them. He was encouraged in this by perceiving that the stock
of provisions carried by the ass had come safe out of the fray with the
galley slaves, a circumstance that he regarded as a miracle, seeing how
they pillaged and ransacked.



c23c.jpg (297K)

Full Size




That night they reached the very heart of the Sierra Morena, where it
seemed prudent to Sancho to pass the night and even some days, at least
as many as the stores he carried might last, and so they encamped
between two rocks and among some cork trees; but fatal destiny, which,
according to the opinion of those who have not the light of the true
faith, directs, arranges, and settles everything in its own way, so
ordered it that Gines de Pasamonte, the famous knave and thief who by
the virtue and madness of Don Quixote had been released from the chain,
driven by fear of the Holy Brotherhood, which he had good reason to
dread, resolved to take hiding in the mountains; and his fate and fear
led him to the same spot to which Don Quixote and Sancho Panza had been
led by theirs, just in time to recognise them and leave them to fall
asleep: and as the wicked are always ungrateful, and necessity leads to
evildoing, and immediate advantage overcomes all considerations of the
future, Gines, who was neither grateful nor well-principled, made up
his mind to steal Sancho Panza’s ass, not troubling himself about
Rocinante, as being a prize that was no good either to pledge or sell.
While Sancho slept he stole his ass, and before day dawned he was far
out of reach.



c23d.jpg (256K)

Full Size




Aurora made her appearance bringing gladness to the earth but sadness
to Sancho Panza, for he found that his Dapple was missing, and seeing
himself bereft of him he began the saddest and most doleful lament in
the world, so loud that Don Quixote awoke at his exclamations and heard
him saying, “O son of my bowels, born in my very house, my children’s
plaything, my wife’s joy, the envy of my neighbours, relief of my
burdens, and lastly, half supporter of myself, for with the
six-and-twenty maravedis thou didst earn me daily I met half my
charges.”

Don Quixote, when he heard the lament and learned the cause, consoled
Sancho with the best arguments he could, entreating him to be patient,
and promising to give him a letter of exchange ordering three out of
five ass-colts that he had at home to be given to him. Sancho took
comfort at this, dried his tears, suppressed his sobs, and returned
thanks for the kindness shown him by Don Quixote. He on his part was
rejoiced to the heart on entering the mountains, as they seemed to him
to be just the place for the adventures he was in quest of. They
brought back to his memory the marvellous adventures that had befallen
knights-errant in like solitudes and wilds, and he went along
reflecting on these things, so absorbed and carried away by them that
he had no thought for anything else.



c23e.jpg (280K)

Full Size




Nor had Sancho any other care (now that he fancied he was travelling in
a safe quarter) than to satisfy his appetite with such remains as were
left of the clerical spoils, and so he marched behind his master laden
with what Dapple used to carry, emptying the sack and packing his
paunch, and so long as he could go that way, he would not have given a
farthing to meet with another adventure.

While so engaged he raised his eyes and saw that his master had halted,
and was trying with the point of his pike to lift some bulky object
that lay upon the ground, on which he hastened to join him and help him
if it were needful, and reached him just as with the point of the pike
he was raising a saddle-pad with a valise attached to it, half or
rather wholly rotten and torn; but so heavy were they that Sancho had
to help to take them up, and his master directed him to see what the
valise contained. Sancho did so with great alacrity, and though the
valise was secured by a chain and padlock, from its torn and rotten
condition he was able to see its contents, which were four shirts of
fine holland, and other articles of linen no less curious than clean;
and in a handkerchief he found a good lot of gold crowns, and as soon
as he saw them he exclaimed:

“Blessed be all Heaven for sending us an adventure that is good for
something!”

Searching further he found a little memorandum book richly bound; this
Don Quixote asked of him, telling him to take the money and keep it for
himself. Sancho kissed his hands for the favour, and cleared the valise
of its linen, which he stowed away in the provision sack. Considering
the whole matter, Don Quixote observed:

“It seems to me, Sancho—and it is impossible it can be otherwise—that
some strayed traveller must have crossed this sierra and been attacked
and slain by footpads, who brought him to this remote spot to bury
him.”

“That cannot be,” answered Sancho, “because if they had been robbers
they would not have left this money.”

“Thou art right,” said Don Quixote, “and I cannot guess or explain what
this may mean; but stay; let us see if in this memorandum book there is
anything written by which we may be able to trace out or discover what
we want to know.”

He opened it, and the first thing he found in it, written roughly but
in a very good hand, was a sonnet, and reading it aloud that Sancho
might hear it, he found that it ran as follows:

SONNET

Or Love is lacking in intelligence,
Or to the height of cruelty attains,
Or else it is my doom to suffer pains
Beyond the measure due to my offence.
But if Love be a God, it follows thence
That he knows all, and certain it remains
No God loves cruelty; then who ordains
This penance that enthrals while it torments?
It were a falsehood, Chloe, thee to name;
Such evil with such goodness cannot live;
And against Heaven I dare not charge the blame,
I only know it is my fate to die.
To him who knows not whence his malady
A miracle alone a cure can give.




c23f.jpg (344K)

Full Size




“There is nothing to be learned from that rhyme,” said Sancho, “unless
by that clue there’s in it, one may draw out the ball of the whole
matter.”

“What clue is there?” said Don Quixote.

“I thought your worship spoke of a clue in it,” said Sancho.

“I only said Chloe,” replied Don Quixote; “and that no doubt, is the
name of the lady of whom the author of the sonnet complains; and,
faith, he must be a tolerable poet, or I know little of the craft.”

“Then your worship understands rhyming too?”

“And better than thou thinkest,” replied Don Quixote, “as thou shalt
see when thou carriest a letter written in verse from beginning to end
to my lady Dulcinea del Toboso, for I would have thee know, Sancho,
that all or most of the knights-errant in days of yore were great
troubadours and great musicians, for both of these accomplishments, or
more properly speaking gifts, are the peculiar property of
lovers-errant: true it is that the verses of the knights of old have
more spirit than neatness in them.”

“Read more, your worship,” said Sancho, “and you will find something
that will enlighten us.”

Don Quixote turned the page and said, “This is prose and seems to be a
letter.”

“A correspondence letter, señor?”

“From the beginning it seems to be a love letter,” replied Don Quixote.

“Then let your worship read it aloud,” said Sancho, “for I am very fond
of love matters.”

“With all my heart,” said Don Quixote, and reading it aloud as Sancho
had requested him, he found it ran thus:

Thy false promise and my sure misfortune carry me to a place whence the
news of my death will reach thy ears before the words of my complaint.
Ungrateful one, thou hast rejected me for one more wealthy, but not
more worthy; but if virtue were esteemed wealth I should neither envy
the fortunes of others nor weep for misfortunes of my own. What thy
beauty raised up thy deeds have laid low; by it I believed thee to be
an angel, by them I know thou art a woman. Peace be with thee who hast
sent war to me, and Heaven grant that the deceit of thy husband be ever
hidden from thee, so that thou repent not of what thou hast done, and I
reap not a revenge I would not have.


When he had finished the letter, Don Quixote said, “There is less to be
gathered from this than from the verses, except that he who wrote it is
some rejected lover;” and turning over nearly all the pages of the book
he found more verses and letters, some of which he could read, while
others he could not; but they were all made up of complaints, laments,
misgivings, desires and aversions, favours and rejections, some
rapturous, some doleful. While Don Quixote examined the book, Sancho
examined the valise, not leaving a corner in the whole of it or in the
pad that he did not search, peer into, and explore, or seam that he did
not rip, or tuft of wool that he did not pick to pieces, lest anything
should escape for want of care and pains; so keen was the covetousness
excited in him by the discovery of the crowns, which amounted to near a
hundred; and though he found no more booty, he held the blanket
flights, balsam vomits, stake benedictions, carriers’ fisticuffs,
missing alforjas, stolen coat, and all the hunger, thirst, and
weariness he had endured in the service of his good master, cheap at
the price; as he considered himself more than fully indemnified for all
by the payment he received in the gift of the treasure-trove.

The Knight of the Rueful Countenance was still very anxious to find out
who the owner of the valise could be, conjecturing from the sonnet and
letter, from the money in gold, and from the fineness of the shirts,
that he must be some lover of distinction whom the scorn and cruelty of
his lady had driven to some desperate course; but as in that
uninhabited and rugged spot there was no one to be seen of whom he
could inquire, he saw nothing else for it but to push on, taking
whatever road Rocinante chose—which was where he could make his
way—firmly persuaded that among these wilds he could not fail to meet
some rare adventure. As he went along, then, occupied with these
thoughts, he perceived on the summit of a height that rose before their
eyes a man who went springing from rock to rock and from tussock to
tussock with marvellous agility. As well as he could make out he was
unclad, with a thick black beard, long tangled hair, and bare legs and
feet, his thighs were covered by breeches apparently of tawny velvet
but so ragged that they showed his skin in several places.



c23g.jpg (360K)

Full Size




He was bareheaded, and notwithstanding the swiftness with which he
passed as has been described, the Knight of the Rueful Countenance
observed and noted all these trifles, and though he made the attempt,
he was unable to follow him, for it was not granted to the feebleness
of Rocinante to make way over such rough ground, he being, moreover,
slow-paced and sluggish by nature. Don Quixote at once came to the
conclusion that this was the owner of the saddle-pad and of the valise,
and made up his mind to go in search of him, even though he should have
to wander a year in those mountains before he found him, and so he
directed Sancho to take a short cut over one side of the mountain,
while he himself went by the other, and perhaps by this means they
might light upon this man who had passed so quickly out of their sight.

“I could not do that,” said Sancho, “for when I separate from your
worship fear at once lays hold of me, and assails me with all sorts of
panics and fancies; and let what I now say be a notice that from this
time forth I am not going to stir a finger’s width from your presence.”

“It shall be so,” said he of the Rueful Countenance, “and I am very
glad that thou art willing to rely on my courage, which will never fail
thee, even though the soul in thy body fail thee; so come on now behind
me slowly as well as thou canst, and make lanterns of thine eyes; let
us make the circuit of this ridge; perhaps we shall light upon this man
that we saw, who no doubt is no other than the owner of what we found.”

To which Sancho made answer, “Far better would it be not to look for
him, for, if we find him, and he happens to be the owner of the money,
it is plain I must restore it; it would be better, therefore, that
without taking this needless trouble, I should keep possession of it
until in some other less meddlesome and officious way the real owner
may be discovered; and perhaps that will be when I shall have spent it,
and then the king will hold me harmless.”

“Thou art wrong there, Sancho,” said Don Quixote, “for now that we have
a suspicion who the owner is, and have him almost before us, we are
bound to seek him and make restitution; and if we do not see him, the
strong suspicion we have as to his being the owner makes us as guilty
as if he were so; and so, friend Sancho, let not our search for him
give thee any uneasiness, for if we find him it will relieve mine.”

And so saying he gave Rocinante the spur, and Sancho followed him on
foot and loaded, and after having partly made the circuit of the
mountain they found lying in a ravine, dead and half devoured by dogs
and pecked by jackdaws, a mule saddled and bridled, all which still
further strengthened their suspicion that he who had fled was the owner
of the mule and the saddle-pad.



c23h.jpg (381K)

Full Size




As they stood looking at it they heard a whistle like that of a
shepherd watching his flock, and suddenly on their left there appeared
a great number of goats and behind them on the summit of the mountain
the goatherd in charge of them, a man advanced in years. Don Quixote
called aloud to him and begged him to come down to where they stood. He
shouted in return, asking what had brought them to that spot, seldom or
never trodden except by the feet of goats, or of the wolves and other
wild beasts that roamed around. Sancho in return bade him come down,
and they would explain all to him.

The goatherd descended, and reaching the place where Don Quixote stood,
he said, “I will wager you are looking at that hack mule that lies dead
in the hollow there, and, faith, it has been lying there now these six
months; tell me, have you come upon its master about here?”

“We have come upon nobody,” answered Don Quixote, “nor on anything
except a saddle-pad and a little valise that we found not far from
this.”

“I found it too,” said the goatherd, “but I would not lift it nor go
near it for fear of some ill-luck or being charged with theft, for the
devil is crafty, and things rise up under one’s feet to make one fall
without knowing why or wherefore.”

“That’s exactly what I say,” said Sancho; “I found it too, and I would
not go within a stone’s throw of it; there I left it, and there it lies
just as it was, for I don’t want a dog with a bell.”

“Tell me, good man,” said Don Quixote, “do you know who is the owner of
this property?”

“All I can tell you,” said the goatherd, “is that about six months ago,
more or less, there arrived at a shepherd’s hut three leagues, perhaps,
away from this, a youth of well-bred appearance and manners, mounted on
that same mule which lies dead here, and with the same saddle-pad and
valise which you say you found and did not touch. He asked us what part
of this sierra was the most rugged and retired; we told him that it was
where we now are; and so in truth it is, for if you push on half a
league farther, perhaps you will not be able to find your way out; and
I am wondering how you have managed to come here, for there is no road
or path that leads to this spot. I say, then, that on hearing our
answer the youth turned about and made for the place we pointed out to
him, leaving us all charmed with his good looks, and wondering at his
question and the haste with which we saw him depart in the direction of
the sierra; and after that we saw him no more, until some days
afterwards he crossed the path of one of our shepherds, and without
saying a word to him, came up to him and gave him several cuffs and
kicks, and then turned to the ass with our provisions and took all the
bread and cheese it carried, and having done this made off back again
into the sierra with extraordinary swiftness. When some of us goatherds
learned this we went in search of him for about two days through the
most remote portion of this sierra, at the end of which we found him
lodged in the hollow of a large thick cork tree. He came out to meet us
with great gentleness, with his dress now torn and his face so
disfigured and burned by the sun, that we hardly recognised him but
that his clothes, though torn, convinced us, from the recollection we
had of them, that he was the person we were looking for. He saluted us
courteously, and in a few well-spoken words he told us not to wonder at
seeing him going about in this guise, as it was binding upon him in
order that he might work out a penance which for his many sins had been
imposed upon him. We asked him to tell us who he was, but we were never
able to find out from him: we begged of him too, when he was in want of
food, which he could not do without, to tell us where we should find
him, as we would bring it to him with all good-will and readiness; or
if this were not to his taste, at least to come and ask it of us and
not take it by force from the shepherds. He thanked us for the offer,
begged pardon for the late assault, and promised for the future to ask
it in God’s name without offering violence to anybody. As for fixed
abode, he said he had no other than that which chance offered wherever
night might overtake him; and his words ended in an outburst of weeping
so bitter that we who listened to him must have been very stones had we
not joined him in it, comparing what we saw of him the first time with
what we saw now; for, as I said, he was a graceful and gracious youth,
and in his courteous and polished language showed himself to be of good
birth and courtly breeding, and rustics as we were that listened to
him, even to our rusticity his gentle bearing sufficed to make it
plain.

“But in the midst of his conversation he stopped and became silent,
keeping his eyes fixed upon the ground for some time, during which we
stood still waiting anxiously to see what would come of this
abstraction; and with no little pity, for from his behaviour, now
staring at the ground with fixed gaze and eyes wide open without moving
an eyelid, again closing them, compressing his lips and raising his
eyebrows, we could perceive plainly that a fit of madness of some kind
had come upon him; and before long he showed that what we imagined was
the truth, for he arose in a fury from the ground where he had thrown
himself, and attacked the first he found near him with such rage and
fierceness that if we had not dragged him off him, he would have beaten
or bitten him to death, all the while exclaiming, ‘Oh faithless
Fernando, here, here shalt thou pay the penalty of the wrong thou hast
done me; these hands shall tear out that heart of thine, abode and
dwelling of all iniquity, but of deceit and fraud above all; and to
these he added other words all in effect upbraiding this Fernando and
charging him with treachery and faithlessness.

“We forced him to release his hold with no little difficulty, and
without another word he left us, and rushing off plunged in among these
brakes and brambles, so as to make it impossible for us to follow him;
from this we suppose that madness comes upon him from time to time, and
that someone called Fernando must have done him a wrong of a grievous
nature such as the condition to which it had brought him seemed to
show. All this has been since then confirmed on those occasions, and
they have been many, on which he has crossed our path, at one time to
beg the shepherds to give him some of the food they carry, at another
to take it from them by force; for when there is a fit of madness upon
him, even though the shepherds offer it freely, he will not accept it
but snatches it from them by dint of blows; but when he is in his
senses he begs it for the love of God, courteously and civilly, and
receives it with many thanks and not a few tears. And to tell you the
truth, sirs,” continued the goatherd, “it was yesterday that we
resolved, I and four of the lads, two of them our servants, and the
other two friends of mine, to go in search of him until we find him,
and when we do to take him, whether by force or of his own consent, to
the town of Almodóvar, which is eight leagues from this, and there
strive to cure him (if indeed his malady admits of a cure), or learn
when he is in his senses who he is, and if he has relatives to whom we
may give notice of his misfortune. This, sirs, is all I can say in
answer to what you have asked me; and be sure that the owner of the
articles you found is he whom you saw pass by with such nimbleness and
so naked.”

For Don Quixote had already described how he had seen the man go
bounding along the mountainside, and he was now filled with amazement
at what he heard from the goatherd, and more eager than ever to
discover who the unhappy madman was; and in his heart he resolved, as
he had done before, to search for him all over the mountain, not
leaving a corner or cave unexamined until he had found him. But chance
arranged matters better than he expected or hoped, for at that very
moment, in a gorge on the mountain that opened where they stood, the
youth he wished to find made his appearance, coming along talking to
himself in a way that would have been unintelligible near at hand, much
more at a distance. His garb was what has been described, save that as
he drew near, Don Quixote perceived that a tattered doublet which he
wore was amber-tanned, from which he concluded that one who wore such
garments could not be of very low rank.

Approaching them, the youth greeted them in a harsh and hoarse voice
but with great courtesy. Don Quixote returned his salutation with equal
politeness, and dismounting from Rocinante advanced with well-bred
bearing and grace to embrace him, and held him for some time close in
his arms as if he had known him for a long time. The other, whom we may
call the Ragged One of the Sorry Countenance, as Don Quixote was of the
Rueful, after submitting to the embrace pushed him back a little and,
placing his hands on Don Quixote’s shoulders, stood gazing at him as if
seeking to see whether he knew him, not less amazed, perhaps, at the
sight of the face, figure, and armour of Don Quixote than Don Quixote
was at the sight of him. To be brief, the first to speak after
embracing was the Ragged One, and he said what will be told farther on.



c23i.jpg (53K)

Full Size



CHAPTER XXIV.
IN WHICH IS CONTINUED THE ADVENTURE OF THE SIERRA MORENA




c24a.jpg (151K)

Full Size




The history relates that it was with the greatest attention Don Quixote
listened to the ragged knight of the Sierra, who began by saying:

“Of a surety, señor, whoever you are, for I know you not, I thank you
for the proofs of kindness and courtesy you have shown me, and would I
were in a condition to requite with something more than good-will that
which you have displayed towards me in the cordial reception you have
given me; but my fate does not afford me any other means of returning
kindnesses done me save the hearty desire to repay them.”

“Mine,” replied Don Quixote, “is to be of service to you, so much so
that I had resolved not to quit these mountains until I had found you,
and learned of you whether there is any kind of relief to be found for
that sorrow under which from the strangeness of your life you seem to
labour; and to search for you with all possible diligence, if search
had been necessary. And if your misfortune should prove to be one of
those that refuse admission to any sort of consolation, it was my
purpose to join you in lamenting and mourning over it, so far as I
could; for it is still some comfort in misfortune to find one who can
feel for it. And if my good intentions deserve to be acknowledged with
any kind of courtesy, I entreat you, señor, by that which I perceive
you possess in so high a degree, and likewise conjure you by whatever
you love or have loved best in life, to tell me who you are and the
cause that has brought you to live or die in these solitudes like a
brute beast, dwelling among them in a manner so foreign to your
condition as your garb and appearance show. And I swear,” added Don
Quixote, “by the order of knighthood which I have received, and by my
vocation of knight-errant, if you gratify me in this, to serve you with
all the zeal my calling demands of me, either in relieving your
misfortune if it admits of relief, or in joining you in lamenting it as
I promised to do.”

The Knight of the Thicket, hearing him of the Rueful Countenance talk
in this strain, did nothing but stare at him, and stare at him again,
and again survey him from head to foot; and when he had thoroughly
examined him, he said to him:

“If you have anything to give me to eat, for God’s sake give it me, and
after I have eaten I will do all you ask in acknowledgment of the
goodwill you have displayed towards me.”

Sancho from his sack, and the goatherd from his pouch, furnished the
Ragged One with the means of appeasing his hunger, and what they gave
him he ate like a half-witted being, so hastily that he took no time
between mouthfuls, gorging rather than swallowing; and while he ate
neither he nor they who observed him uttered a word. As soon as he had
done he made signs to them to follow him, which they did, and he led
them to a green plot which lay a little farther off round the corner of
a rock. On reaching it he stretched himself upon the grass, and the
others did the same, all keeping silence, until the Ragged One,
settling himself in his place, said:

“If it is your wish, sirs, that I should disclose in a few words the
surpassing extent of my misfortunes, you must promise not to break the
thread of my sad story with any question or other interruption, for the
instant you do so the tale I tell will come to an end.”

These words of the Ragged One reminded Don Quixote of the tale his
squire had told him, when he failed to keep count of the goats that had
crossed the river and the story remained unfinished; but to return to
the Ragged One, he went on to say:

“I give you this warning because I wish to pass briefly over the story
of my misfortunes, for recalling them to memory only serves to add
fresh ones, and the less you question me the sooner shall I make an end
of the recital, though I shall not omit to relate anything of
importance in order fully to satisfy your curiosity.”

Don Quixote gave the promise for himself and the others, and with this
assurance he began as follows:

“My name is Cardenio, my birthplace one of the best cities of this
Andalusia, my family noble, my parents rich, my misfortune so great
that my parents must have wept and my family grieved over it without
being able by their wealth to lighten it; for the gifts of fortune can
do little to relieve reverses sent by Heaven. In that same country
there was a heaven in which love had placed all the glory I could
desire; such was the beauty of Luscinda, a damsel as noble and as rich
as I, but of happier fortunes, and of less firmness than was due to so
worthy a passion as mine. This Luscinda I loved, worshipped, and adored
from my earliest and tenderest years, and she loved me in all the
innocence and sincerity of childhood. Our parents were aware of our
feelings, and were not sorry to perceive them, for they saw clearly
that as they ripened they must lead at last to a marriage between us, a
thing that seemed almost prearranged by the equality of our families
and wealth. We grew up, and with our growth grew the love between us,
so that the father of Luscinda felt bound for propriety’s sake to
refuse me admission to his house, in this perhaps imitating the parents
of that Thisbe so celebrated by the poets, and this refusal but added
love to love and flame to flame; for though they enforced silence upon
our tongues they could not impose it upon our pens, which can make
known the heart’s secrets to a loved one more freely than tongues; for
many a time the presence of the object of love shakes the firmest will
and strikes dumb the boldest tongue. Ah heavens! how many letters did I
write her, and how many dainty modest replies did I receive! how many
ditties and love-songs did I compose in which my heart declared and
made known its feelings, described its ardent longings, revelled in its
recollections and dallied with its desires! At length growing impatient
and feeling my heart languishing with longing to see her, I resolved to
put into execution and carry out what seemed to me the best mode of
winning my desired and merited reward, to ask her of her father for my
lawful wife, which I did. To this his answer was that he thanked me for
the disposition I showed to do honour to him and to regard myself as
honoured by the bestowal of his treasure; but that as my father was
alive it was his by right to make this demand, for if it were not in
accordance with his full will and pleasure, Luscinda was not to be
taken or given by stealth. I thanked him for his kindness, reflecting
that there was reason in what he said, and that my father would assent
to it as soon as I should tell him, and with that view I went the very
same instant to let him know what my desires were. When I entered the
room where he was I found him with an open letter in his hand, which,
before I could utter a word, he gave me, saying, ‘By this letter thou
wilt see, Cardenio, the disposition the Duke Ricardo has to serve
thee.’ This Duke Ricardo, as you, sirs, probably know already, is a
grandee of Spain who has his seat in the best part of this Andalusia. I
took and read the letter, which was couched in terms so flattering that
even I myself felt it would be wrong in my father not to comply with
the request the duke made in it, which was that he would send me
immediately to him, as he wished me to become the companion, not
servant, of his eldest son, and would take upon himself the charge of
placing me in a position corresponding to the esteem in which he held
me. On reading the letter my voice failed me, and still more when I
heard my father say, ‘Two days hence thou wilt depart, Cardenio, in
accordance with the duke’s wish, and give thanks to God who is opening
a road to thee by which thou mayest attain what I know thou dost
deserve; and to these words he added others of fatherly counsel. The
time for my departure arrived; I spoke one night to Luscinda, I told
her all that had occurred, as I did also to her father, entreating him
to allow some delay, and to defer the disposal of her hand until I
should see what the Duke Ricardo sought of me: he gave me the promise,
and she confirmed it with vows and swoonings unnumbered. Finally, I
presented myself to the duke, and was received and treated by him so
kindly that very soon envy began to do its work, the old servants
growing envious of me, and regarding the duke’s inclination to show me
favour as an injury to themselves. But the one to whom my arrival gave
the greatest pleasure was the duke’s second son, Fernando by name, a
gallant youth, of noble, generous, and amorous disposition, who very
soon made so intimate a friend of me that it was remarked by everybody;
for though the elder was attached to me, and showed me kindness, he did
not carry his affectionate treatment to the same length as Don
Fernando. It so happened, then, that as between friends no secret
remains unshared, and as the favour I enjoyed with Don Fernando had
grown into friendship, he made all his thoughts known to me, and in
particular a love affair which troubled his mind a little. He was
deeply in love with a peasant girl, a vassal of his father’s, the
daughter of wealthy parents, and herself so beautiful, modest,
discreet, and virtuous, that no one who knew her was able to decide in
which of these respects she was most highly gifted or most excelled.
The attractions of the fair peasant raised the passion of Don Fernando
to such a point that, in order to gain his object and overcome her
virtuous resolutions, he determined to pledge his word to her to become
her husband, for to attempt it in any other way was to attempt an
impossibility. Bound to him as I was by friendship, I strove by the
best arguments and the most forcible examples I could think of to
restrain and dissuade him from such a course; but perceiving I produced
no effect I resolved to make the Duke Ricardo, his father, acquainted
with the matter; but Don Fernando, being sharp-witted and shrewd,
foresaw and apprehended this, perceiving that by my duty as a good
servant I was bound not to keep concealed a thing so much opposed to
the honour of my lord the duke; and so, to mislead and deceive me, he
told me he could find no better way of effacing from his mind the
beauty that so enslaved him than by absenting himself for some months,
and that he wished the absence to be effected by our going, both of us,
to my father’s house under the pretence, which he would make to the
duke, of going to see and buy some fine horses that there were in my
city, which produces the best in the world. When I heard him say so,
even if his resolution had not been so good a one I should have hailed
it as one of the happiest that could be imagined, prompted by my
affection, seeing what a favourable chance and opportunity it offered
me of returning to see my Luscinda. With this thought and wish I
commended his idea and encouraged his design, advising him to put it
into execution as quickly as possible, as, in truth, absence produced
its effect in spite of the most deeply rooted feelings. But, as
afterwards appeared, when he said this to me he had already enjoyed the
peasant girl under the title of husband, and was waiting for an
opportunity of making it known with safety to himself, being in dread
of what his father the duke would do when he came to know of his folly.
It happened, then, that as with young men love is for the most part
nothing more than appetite, which, as its final object is enjoyment,
comes to an end on obtaining it, and that which seemed to be love takes
to flight, as it cannot pass the limit fixed by nature, which fixes no
limit to true love—what I mean is that after Don Fernando had enjoyed
this peasant girl his passion subsided and his eagerness cooled, and if
at first he feigned a wish to absent himself in order to cure his love,
he was now in reality anxious to go to avoid keeping his promise.

“The duke gave him permission, and ordered me to accompany him; we
arrived at my city, and my father gave him the reception due to his
rank; I saw Luscinda without delay, and, though it had not been dead or
deadened, my love gathered fresh life. To my sorrow I told the story of
it to Don Fernando, for I thought that in virtue of the great
friendship he bore me I was bound to conceal nothing from him. I
extolled her beauty, her gaiety, her wit, so warmly, that my praises
excited in him a desire to see a damsel adorned by such attractions. To
my misfortune I yielded to it, showing her to him one night by the
light of a taper at a window where we used to talk to one another. As
she appeared to him in her dressing-gown, she drove all the beauties he
had seen until then out of his recollection; speech failed him, his
head turned, he was spell-bound, and in the end love-smitten, as you
will see in the course of the story of my misfortune; and to inflame
still further his passion, which he hid from me and revealed to Heaven
alone, it so happened that one day he found a note of hers entreating
me to demand her of her father in marriage, so delicate, so modest, and
so tender, that on reading it he told me that in Luscinda alone were
combined all the charms of beauty and understanding that were
distributed among all the other women in the world. It is true, and I
own it now, that though I knew what good cause Don Fernando had to
praise Luscinda, it gave me uneasiness to hear these praises from his
mouth, and I began to fear, and with reason to feel distrust of him,
for there was no moment when he was not ready to talk of Luscinda, and
he would start the subject himself even though he dragged it in
unseasonably, a circumstance that aroused in me a certain amount of
jealousy; not that I feared any change in the constancy or faith of
Luscinda; but still my fate led me to forebode what she assured me
against. Don Fernando contrived always to read the letters I sent to
Luscinda and her answers to me, under the pretence that he enjoyed the
wit and sense of both. It so happened, then, that Luscinda having
begged of me a book of chivalry to read, one that she was very fond of,
Amadis of Gaul—”

Don Quixote no sooner heard a book of chivalry mentioned, than he said:

“Had your worship told me at the beginning of your story that the Lady
Luscinda was fond of books of chivalry, no other laudation would have
been requisite to impress upon me the superiority of her understanding,
for it could not have been of the excellence you describe had a taste
for such delightful reading been wanting; so, as far as I am concerned,
you need waste no more words in describing her beauty, worth, and
intelligence; for, on merely hearing what her taste was, I declare her
to be the most beautiful and the most intelligent woman in the world;
and I wish your worship had, along with Amadis of Gaul, sent her the
worthy Don Rugel of Greece, for I know the Lady Luscinda would greatly
relish Daraida and Garaya, and the shrewd sayings of the shepherd
Darinel, and the admirable verses of his bucolics, sung and delivered
by him with such sprightliness, wit, and ease; but a time may come when
this omission can be remedied, and to rectify it nothing more is needed
than for your worship to be so good as to come with me to my village,
for there I can give you more than three hundred books which are the
delight of my soul and the entertainment of my life;—though it occurs
to me that I have not got one of them now, thanks to the spite of
wicked and envious enchanters;—but pardon me for having broken the
promise we made not to interrupt your discourse; for when I hear
chivalry or knights-errant mentioned, I can no more help talking about
them than the rays of the sun can help giving heat, or those of the
moon moisture; pardon me, therefore, and proceed, for that is more to
the purpose now.”

While Don Quixote was saying this, Cardenio allowed his head to fall
upon his breast, and seemed plunged in deep thought; and though twice
Don Quixote bade him go on with his story, he neither looked up nor
uttered a word in reply; but after some time he raised his head and
said, “I cannot get rid of the idea, nor will anyone in the world
remove it, or make me think otherwise—and he would be a blockhead who
would hold or believe anything else than that that arrant knave Master
Elisabad made free with Queen Madasima.”

“That is not true, by all that’s good,” said Don Quixote in high wrath,
turning upon him angrily, as his way was; “and it is a very great
slander, or rather villainy. Queen Madasima was a very illustrious
lady, and it is not to be supposed that so exalted a princess would
have made free with a quack; and whoever maintains the contrary lies
like a great scoundrel, and I will give him to know it, on foot or on
horseback, armed or unarmed, by night or by day, or as he likes best.”

Cardenio was looking at him steadily, and his mad fit having now come
upon him, he had no disposition to go on with his story, nor would Don
Quixote have listened to it, so much had what he had heard about
Madasima disgusted him. Strange to say, he stood up for her as if she
were in earnest his veritable born lady; to such a pass had his unholy
books brought him. Cardenio, then, being, as I said, now mad, when he
heard himself given the lie, and called a scoundrel and other insulting
names, not relishing the jest, snatched up a stone that he found near
him, and with it delivered such a blow on Don Quixote’s breast that he
laid him on his back. Sancho Panza, seeing his master treated in this
fashion, attacked the madman with his closed fist; but the Ragged One
received him in such a way that with a blow of his fist he stretched
him at his feet, and then mounting upon him crushed his ribs to his own
satisfaction; the goatherd, who came to the rescue, shared the same
fate; and having beaten and pummelled them all he left them and quietly
withdrew to his hiding-place on the mountain. Sancho rose, and with the
rage he felt at finding himself so belaboured without deserving it, ran
to take vengeance on the goatherd, accusing him of not giving them
warning that this man was at times taken with a mad fit, for if they
had known it they would have been on their guard to protect themselves.
The goatherd replied that he had said so, and that if he had not heard
him, that was no fault of his. Sancho retorted, and the goatherd
rejoined, and the altercation ended in their seizing each other by the
beard, and exchanging such fisticuffs that if Don Quixote had not made
peace between them, they would have knocked one another to pieces.

“Leave me alone, Sir Knight of the Rueful Countenance,” said Sancho,
grappling with the goatherd, “for of this fellow, who is a clown like
myself, and no dubbed knight, I can safely take satisfaction for the
affront he has offered me, fighting with him hand to hand like an
honest man.”

“That is true,” said Don Quixote, “but I know that he is not to blame
for what has happened.”

With this he pacified them, and again asked the goatherd if it would be
possible to find Cardenio, as he felt the greatest anxiety to know the
end of his story. The goatherd told him, as he had told him before,
that there was no knowing of a certainty where his lair was; but that
if he wandered about much in that neighbourhood he could not fail to
fall in with him either in or out of his senses.



c24e.jpg (69K)

Full Size



CHAPTER XXV.
WHICH TREATS OF THE STRANGE THINGS THAT HAPPENED TO THE STOUT KNIGHT OF
LA MANCHA IN THE SIERRA MORENA, AND OF HIS IMITATION OF THE PENANCE OF
BELTENEBROS




c25a.jpg (168K)

Full Size




Don Quixote took leave of the goatherd, and once more mounting
Rocinante bade Sancho follow him, which he having no ass, did very
discontentedly. They proceeded slowly, making their way into the most
rugged part of the mountain, Sancho all the while dying to have a talk
with his master, and longing for him to begin, so that there should be
no breach of the injunction laid upon him; but unable to keep silence
so long he said to him:

“Señor Don Quixote, give me your worship’s blessing and dismissal, for
I’d like to go home at once to my wife and children with whom I can at
any rate talk and converse as much as I like; for to want me to go
through these solitudes day and night and not speak to you when I have
a mind is burying me alive. If luck would have it that animals spoke as
they did in the days of Guisopete, it would not be so bad, because I
could talk to Rocinante about whatever came into my head, and so put up
with my ill-fortune; but it is a hard case, and not to be borne with
patience, to go seeking adventures all one’s life and get nothing but
kicks and blanketings, brickbats and punches, and with all this to have
to sew up one’s mouth without daring to say what is in one’s heart,
just as if one were dumb.”

“I understand thee, Sancho,” replied Don Quixote; “thou art dying to
have the interdict I placed upon thy tongue removed; consider it
removed, and say what thou wilt while we are wandering in these
mountains.”

“So be it,” said Sancho; “let me speak now, for God knows what will
happen by-and-by; and to take advantage of the permit at once, I ask,
what made your worship stand up so for that Queen Majimasa, or whatever
her name is, or what did it matter whether that abbot was a friend of
hers or not? for if your worship had let that pass—and you were not a
judge in the matter—it is my belief the madman would have gone on with
his story, and the blow of the stone, and the kicks, and more than half
a dozen cuffs would have been escaped.”

“In faith, Sancho,” answered Don Quixote, “if thou knewest as I do what
an honourable and illustrious lady Queen Madasima was, I know thou
wouldst say I had great patience that I did not break in pieces the
mouth that uttered such blasphemies, for a very great blasphemy it is
to say or imagine that a queen has made free with a surgeon. The truth
of the story is that that Master Elisabad whom the madman mentioned was
a man of great prudence and sound judgment, and served as governor and
physician to the queen, but to suppose that she was his mistress is
nonsense deserving very severe punishment; and as a proof that Cardenio
did not know what he was saying, remember when he said it he was out of
his wits.”

“That is what I say,” said Sancho; “there was no occasion for minding
the words of a madman; for if good luck had not helped your worship,
and he had sent that stone at your head instead of at your breast, a
fine way we should have been in for standing up for my lady yonder, God
confound her! And then, would not Cardenio have gone free as a madman?”

“Against men in their senses or against madmen,” said Don Quixote,
“every knight-errant is bound to stand up for the honour of women,
whoever they may be, much more for queens of such high degree and
dignity as Queen Madasima, for whom I have a particular regard on
account of her amiable qualities; for, besides being extremely
beautiful, she was very wise, and very patient under her misfortunes,
of which she had many; and the counsel and society of the Master
Elisabad were a great help and support to her in enduring her
afflictions with wisdom and resignation; hence the ignorant and
ill-disposed vulgar took occasion to say and think that she was his
mistress; and they lie, I say it once more, and will lie two hundred
times more, all who think and say so.”

“I neither say nor think so,” said Sancho; “let them look to it; with
their bread let them eat it; they have rendered account to God whether
they misbehaved or not; I come from my vineyard, I know nothing; I am
not fond of prying into other men’s lives; he who buys and lies feels
it in his purse; moreover, naked was I born, naked I find myself, I
neither lose nor gain; but if they did, what is that to me? many think
there are flitches where there are no hooks; but who can put gates to
the open plain? moreover they said of God—”

“God bless me,” said Don Quixote, “what a set of absurdities thou art
stringing together! What has what we are talking about got to do with
the proverbs thou art threading one after the other? for God’s sake
hold thy tongue, Sancho, and henceforward keep to prodding thy ass and
don’t meddle in what does not concern thee; and understand with all thy
five senses that everything I have done, am doing, or shall do, is well
founded on reason and in conformity with the rules of chivalry, for I
understand them better than all the world that profess them.”

“Señor,” replied Sancho, “is it a good rule of chivalry that we should
go astray through these mountains without path or road, looking for a
madman who when he is found will perhaps take a fancy to finish what he
began, not his story, but your worship’s head and my ribs, and end by
breaking them altogether for us?”



c25b.jpg (330K)

Full Size




“Peace, I say again, Sancho,” said Don Quixote, “for let me tell thee
it is not so much the desire of finding that madman that leads me into
these regions as that which I have of performing among them an
achievement wherewith I shall win eternal name and fame throughout the
known world; and it shall be such that I shall thereby set the seal on
all that can make a knight-errant perfect and famous.”

“And is it very perilous, this achievement?”

“No,” replied he of the Rueful Countenance; “though it may be in the
dice that we may throw deuce-ace instead of sixes; but all will depend
on thy diligence.”

“On my diligence!” said Sancho.

“Yes,” said Don Quixote, “for if thou dost return soon from the place
where I mean to send thee, my penance will be soon over, and my glory
will soon begin. But as it is not right to keep thee any longer in
suspense, waiting to see what comes of my words, I would have thee
know, Sancho, that the famous Amadis of Gaul was one of the most
perfect knights-errant—I am wrong to say he was one; he stood alone,
the first, the only one, the lord of all that were in the world in his
time. A fig for Don Belianis, and for all who say he equalled him in
any respect, for, my oath upon it, they are deceiving themselves! I
say, too, that when a painter desires to become famous in his art he
endeavours to copy the originals of the rarest painters that he knows;
and the same rule holds good for all the most important crafts and
callings that serve to adorn a state; thus must he who would be
esteemed prudent and patient imitate Ulysses, in whose person and
labours Homer presents to us a lively picture of prudence and patience;
as Virgil, too, shows us in the person of Æneas the virtue of a pious
son and the sagacity of a brave and skilful captain; not representing
or describing them as they were, but as they ought to be, so as to
leave the example of their virtues to posterity. In the same way Amadis
was the polestar, day-star, sun of valiant and devoted knights, whom
all we who fight under the banner of love and chivalry are bound to
imitate. This, then, being so, I consider, friend Sancho, that the
knight-errant who shall imitate him most closely will come nearest to
reaching the perfection of chivalry. Now one of the instances in which
this knight most conspicuously showed his prudence, worth, valour,
endurance, fortitude, and love, was when he withdrew, rejected by the
Lady Oriana, to do penance upon the Peña Pobre, changing his name into
that of Beltenebros, a name assuredly significant and appropriate to
the life which he had voluntarily adopted. So, as it is easier for me
to imitate him in this than in cleaving giants asunder, cutting off
serpents’ heads, slaying dragons, routing armies, destroying fleets,
and breaking enchantments, and as this place is so well suited for a
similar purpose, I must not allow the opportunity to escape which now
so conveniently offers me its forelock.”

“What is it in reality,” said Sancho, “that your worship means to do in
such an out-of-the-way place as this?”

“Have I not told thee,” answered Don Quixote, “that I mean to imitate
Amadis here, playing the victim of despair, the madman, the maniac, so
as at the same time to imitate the valiant Don Roland, when at the
fountain he had evidence of the fair Angelica having disgraced herself
with Medoro and through grief thereat went mad, and plucked up trees,
troubled the waters of the clear springs, slew destroyed flocks, burned
down huts, levelled houses, dragged mares after him, and perpetrated a
hundred thousand other outrages worthy of everlasting renown and
record? And though I have no intention of imitating Roland, or Orlando,
or Rotolando (for he went by all these names), step by step in all the
mad things he did, said, and thought, I will make a rough copy to the
best of my power of all that seems to me most essential; but perhaps I
shall content myself with the simple imitation of Amadis, who without
giving way to any mischievous madness but merely to tears and sorrow,
gained as much fame as the most famous.”

“It seems to me,” said Sancho, “that the knights who behaved in this
way had provocation and cause for those follies and penances; but what
cause has your worship for going mad? What lady has rejected you, or
what evidence have you found to prove that the lady Dulcinea del Toboso
has been trifling with Moor or Christian?”

“There is the point,” replied Don Quixote, “and that is the beauty of
this business of mine; no thanks to a knight-errant for going mad when
he has cause; the thing is to turn crazy without any provocation, and
let my lady know, if I do this in the dry, what I would do in the
moist; moreover I have abundant cause in the long separation I have
endured from my lady till death, Dulcinea del Toboso; for as thou didst
hear that shepherd Ambrosio say the other day, in absence all ills are
felt and feared; and so, friend Sancho, waste no time in advising me
against so rare, so happy, and so unheard-of an imitation; mad I am,
and mad I must be until thou returnest with the answer to a letter that
I mean to send by thee to my lady Dulcinea; and if it be such as my
constancy deserves, my insanity and penance will come to an end; and if
it be to the opposite effect, I shall become mad in earnest, and, being
so, I shall suffer no more; thus in whatever way she may answer I shall
escape from the struggle and affliction in which thou wilt leave me,
enjoying in my senses the boon thou bearest me, or as a madman not
feeling the evil thou bringest me. But tell me, Sancho, hast thou got
Mambrino’s helmet safe? for I saw thee take it up from the ground when
that ungrateful wretch tried to break it in pieces but could not, by
which the fineness of its temper may be seen.”

To which Sancho made answer, “By the living God, Sir Knight of the
Rueful Countenance, I cannot endure or bear with patience some of the
things that your worship says; and from them I begin to suspect that
all you tell me about chivalry, and winning kingdoms and empires, and
giving islands, and bestowing other rewards and dignities after the
custom of knights-errant, must be all made up of wind and lies, and all
pigments or figments, or whatever we may call them; for what would
anyone think that heard your worship calling a barber’s basin
Mambrino’s helmet without ever seeing the mistake all this time, but
that one who says and maintains such things must have his brains
addled? I have the basin in my sack all dinted, and I am taking it home
to have it mended, to trim my beard in it, if, by God’s grace, I am
allowed to see my wife and children some day or other.”

“Look here, Sancho,” said Don Quixote, “by him thou didst swear by just
now I swear thou hast the most limited understanding that any squire in
the world has or ever had. Is it possible that all this time thou hast
been going about with me thou hast never found out that all things
belonging to knights-errant seem to be illusions and nonsense and
ravings, and to go always by contraries? And not because it really is
so, but because there is always a swarm of enchanters in attendance
upon us that change and alter everything with us, and turn things as
they please, and according as they are disposed to aid or destroy us;
thus what seems to thee a barber’s basin seems to me Mambrino’s helmet,
and to another it will seem something else; and rare foresight it was
in the sage who is on my side to make what is really and truly
Mambrino’s helmet seem a basin to everybody, for, being held in such
estimation as it is, all the world would pursue me to rob me of it; but
when they see it is only a barber’s basin they do not take the trouble
to obtain it; as was plainly shown by him who tried to break it, and
left it on the ground without taking it, for, by my faith, had he known
it he would never have left it behind. Keep it safe, my friend, for
just now I have no need of it; indeed, I shall have to take off all
this armour and remain as naked as I was born, if I have a mind to
follow Roland rather than Amadis in my penance.”

Thus talking they reached the foot of a high mountain which stood like
an isolated peak among the others that surrounded it. Past its base
there flowed a gentle brook, all around it spread a meadow so green and
luxuriant that it was a delight to the eyes to look upon it, and forest
trees in abundance, and shrubs and flowers, added to the charms of the
spot. Upon this place the Knight of the Rueful Countenance fixed his
choice for the performance of his penance, and as he beheld it
exclaimed in a loud voice as though he were out of his senses:

“This is the place, oh, ye heavens, that I select and choose for
bewailing the misfortune in which ye yourselves have plunged me: this
is the spot where the overflowings of mine eyes shall swell the waters
of yon little brook, and my deep and endless sighs shall stir
unceasingly the leaves of these mountain trees, in testimony and token
of the pain my persecuted heart is suffering. Oh, ye rural deities,
whoever ye be that haunt this lone spot, give ear to the complaint of a
wretched lover whom long absence and brooding jealousy have driven to
bewail his fate among these wilds and complain of the hard heart of
that fair and ungrateful one, the end and limit of all human beauty!
Oh, ye wood nymphs and dryads, that dwell in the thickets of the
forest, so may the nimble wanton satyrs by whom ye are vainly wooed
never disturb your sweet repose, help me to lament my hard fate or at
least weary not at listening to it! Oh, Dulcinea del Toboso, day of my
night, glory of my pain, guide of my path, star of my fortune, so may
Heaven grant thee in full all thou seekest of it, bethink thee of the
place and condition to which absence from thee has brought me, and make
that return in kindness that is due to my fidelity! Oh, lonely trees,
that from this day forward shall bear me company in my solitude, give
me some sign by the gentle movement of your boughs that my presence is
not distasteful to you! Oh, thou, my squire, pleasant companion in my
prosperous and adverse fortunes, fix well in thy memory what thou shalt
see me do here, so that thou mayest relate and report it to the sole
cause of all,” and so saying he dismounted from Rocinante, and in an
instant relieved him of saddle and bridle, and giving him a slap on the
croup, said, “He gives thee freedom who is bereft of it himself, oh
steed as excellent in deed as thou art unfortunate in thy lot; begone
where thou wilt, for thou bearest written on thy forehead that neither
Astolfo’s hippogriff, nor the famed Frontino that cost Bradamante so
dear, could equal thee in speed.”

Seeing this Sancho said, “Good luck to him who has saved us the trouble
of stripping the pack-saddle off Dapple! By my faith he would not have
gone without a slap on the croup and something said in his praise;
though if he were here I would not let anyone strip him, for there
would be no occasion, as he had nothing of the lover or victim of
despair about him, inasmuch as his master, which I was while it was
God’s pleasure, was nothing of the sort; and indeed, Sir Knight of the
Rueful Countenance, if my departure and your worship’s madness are to
come off in earnest, it will be as well to saddle Rocinante again in
order that he may supply the want of Dapple, because it will save me
time in going and returning: for if I go on foot I don’t know when I
shall get there or when I shall get back, as I am, in truth, a bad
walker.”

“I declare, Sancho,” returned Don Quixote, “it shall be as thou wilt,
for thy plan does not seem to me a bad one, and three days hence thou
wilt depart, for I wish thee to observe in the meantime what I do and
say for her sake, that thou mayest be able to tell it.”

“But what more have I to see besides what I have seen?” said Sancho.

“Much thou knowest about it!” said Don Quixote. “I have now got to tear
up my garments, to scatter about my armour, knock my head against these
rocks, and more of the same sort of thing, which thou must witness.”

“For the love of God,” said Sancho, “be careful, your worship, how you
give yourself those knocks on the head, for you may come across such a
rock, and in such a way, that the very first may put an end to the
whole contrivance of this penance; and I should think, if indeed knocks
on the head seem necessary to you, and this business cannot be done
without them, you might be content—as the whole thing is feigned, and
counterfeit, and in joke—you might be content, I say, with giving them
to yourself in the water, or against something soft, like cotton; and
leave it all to me; for I’ll tell my lady that your worship knocked
your head against a point of rock harder than a diamond.”

“I thank thee for thy good intentions, friend Sancho,” answered Don
Quixote, “but I would have thee know that all these things I am doing
are not in joke, but very much in earnest, for anything else would be a
transgression of the ordinances of chivalry, which forbid us to tell
any lie whatever under the penalties due to apostasy; and to do one
thing instead of another is just the same as lying; so my knocks on the
head must be real, solid, and valid, without anything sophisticated or
fanciful about them, and it will be needful to leave me some lint to
dress my wounds, since fortune has compelled us to do without the
balsam we lost.”

“It was worse losing the ass,” replied Sancho, “for with him lint and
all were lost; but I beg of your worship not to remind me again of that
accursed liquor, for my soul, not to say my stomach, turns at hearing
the very name of it; and I beg of you, too, to reckon as past the three
days you allowed me for seeing the mad things you do, for I take them
as seen already and pronounced upon, and I will tell wonderful stories
to my lady; so write the letter and send me off at once, for I long to
return and take your worship out of this purgatory where I am leaving
you.”

“Purgatory dost thou call it, Sancho?” said Don Quixote, “rather call
it hell, or even worse if there be anything worse.”

“For one who is in hell,” said Sancho, “_nulla est retentio_, as I have
heard say.”

“I do not understand what _retentio_ means,” said Don Quixote.

“_Retentio_,” answered Sancho, “means that whoever is in hell never
comes nor can come out of it, which will be the opposite case with your
worship or my legs will be idle, that is if I have spurs to enliven
Rocinante: let me once get to El Toboso and into the presence of my
lady Dulcinea, and I will tell her such things of the follies and
madnesses (for it is all one) that your worship has done and is still
doing, that I will manage to make her softer than a glove though I find
her harder than a cork tree; and with her sweet and honeyed answer I
will come back through the air like a witch, and take your worship out
of this purgatory that seems to be hell but is not, as there is hope of
getting out of it; which, as I have said, those in hell have not, and I
believe your worship will not say anything to the contrary.”

“That is true,” said he of the Rueful Countenance, “but how shall we
manage to write the letter?”

“And the ass-colt order too,” added Sancho.

“All shall be included,” said Don Quixote; “and as there is no paper,
it would be well done to write it on the leaves of trees, as the
ancients did, or on tablets of wax; though that would be as hard to
find just now as paper. But it has just occurred to me how it may be
conveniently and even more than conveniently written, and that is in
the notebook that belonged to Cardenio, and thou wilt take care to have
it copied on paper, in a good hand, at the first village thou comest to
where there is a schoolmaster, or if not, any sacristan will copy it;
but see thou give it not to any notary to copy, for they write a law
hand that Satan could not make out.”

“But what is to be done about the signature?” said Sancho.

“The letters of Amadis were never signed,” said Don Quixote.

“That is all very well,” said Sancho, “but the order must needs be
signed, and if it is copied they will say the signature is false, and I
shall be left without ass-colts.”

“The order shall go signed in the same book,” said Don Quixote, “and on
seeing it my niece will make no difficulty about obeying it; as to the
loveletter thou canst put by way of signature, ‘_Yours till death, the
Knight of the Rueful Countenance._’ And it will be no great matter if
it is in some other person’s hand, for as well as I recollect Dulcinea
can neither read nor write, nor in the whole course of her life has she
seen handwriting or letter of mine, for my love and hers have been
always platonic, not going beyond a modest look, and even that so
seldom that I can safely swear I have not seen her four times in all
these twelve years I have been loving her more than the light of these
eyes that the earth will one day devour; and perhaps even of those four
times she has not once perceived that I was looking at her: such is the
retirement and seclusion in which her father Lorenzo Corchuelo and her
mother Aldonza Nogales have brought her up.”

“So, so!” said Sancho; “Lorenzo Corchuelo’s daughter is the lady
Dulcinea del Toboso, otherwise called Aldonza Lorenzo?”

“She it is,” said Don Quixote, “and she it is that is worthy to be lady
of the whole universe.”

“I know her well,” said Sancho, “and let me tell you she can fling a
crowbar as well as the lustiest lad in all the town. Giver of all good!
but she is a brave lass, and a right and stout one, and fit to be
helpmate to any knight-errant that is or is to be, who may make her his
lady: the whoreson wench, what sting she has and what a voice! I can
tell you one day she posted herself on the top of the belfry of the
village to call some labourers of theirs that were in a ploughed field
of her father’s, and though they were better than half a league off
they heard her as well as if they were at the foot of the tower; and
the best of her is that she is not a bit prudish, for she has plenty of
affability, and jokes with everybody, and has a grin and a jest for
everything. So, Sir Knight of the Rueful Countenance, I say you not
only may and ought to do mad freaks for her sake, but you have a good
right to give way to despair and hang yourself; and no one who knows of
it but will say you did well, though the devil should take you; and I
wish I were on my road already, simply to see her, for it is many a day
since I saw her, and she must be altered by this time, for going about
the fields always, and the sun and the air spoil women’s looks greatly.
But I must own the truth to your worship, Señor Don Quixote; until now
I have been under a great mistake, for I believed truly and honestly
that the lady Dulcinea must be some princess your worship was in love
with, or some person great enough to deserve the rich presents you have
sent her, such as the Biscayan and the galley slaves, and many more no
doubt, for your worship must have won many victories in the time when I
was not yet your squire. But all things considered, what good can it do
the lady Aldonza Lorenzo, I mean the lady Dulcinea del Toboso, to have
the vanquished your worship sends or will send coming to her and going
down on their knees before her? Because maybe when they came she’d be
hackling flax or threshing on the threshing floor, and they’d be
ashamed to see her, and she’d laugh, or resent the present.”

“I have before now told thee many times, Sancho,” said Don Quixote,
“that thou art a mighty great chatterer, and that with a blunt wit thou
art always striving at sharpness; but to show thee what a fool thou art
and how rational I am, I would have thee listen to a short story. Thou
must know that a certain widow, fair, young, independent, and rich, and
above all free and easy, fell in love with a sturdy strapping young
lay-brother; his superior came to know of it, and one day said to the
worthy widow by way of brotherly remonstrance, ‘I am surprised, señora,
and not without good reason, that a woman of such high standing, so
fair, and so rich as you are, should have fallen in love with such a
mean, low, stupid fellow as So-and-so, when in this house there are so
many masters, graduates, and divinity students from among whom you
might choose as if they were a lot of pears, saying, ‘This one I’ll
take, that I won’t take;’ but she replied to him with great
sprightliness and candour, ‘My dear sir, you are very much mistaken,
and your ideas are very old-fashioned, if you think that I have made a
bad choice in So-and-so, fool as he seems; because for all I want with
him he knows as much and more philosophy than Aristotle.’ In the same
way, Sancho, for all I want with Dulcinea del Toboso she is just as
good as the most exalted princess on earth. It is not to be supposed
that all those poets who sang the praises of ladies under the fancy
names they give them, had any such mistresses. Thinkest thou that the
Amarillises, the Phillises, the Sylvias, the Dianas, the Galateas, the
Fílidas, and all the rest of them, that the books, the ballads, the
barber’s shops, the theatres are full of, were really and truly ladies
of flesh and blood, and mistresses of those that glorify and have
glorified them? Nothing of the kind; they only invent them for the most
part to furnish a subject for their verses, and that they may pass for
lovers, or for men valiant enough to be so; and so it suffices me to
think and believe that the good Aldonza Lorenzo is fair and virtuous;
and as to her pedigree it is very little matter, for no one will
examine into it for the purpose of conferring any order upon her, and
I, for my part, reckon her the most exalted princess in the world. For
thou shouldst know, Sancho, if thou dost not know, that two things
alone beyond all others are incentives to love, and these are great
beauty and a good name, and these two things are to be found in
Dulcinea in the highest degree, for in beauty no one equals her and in
good name few approach her; and to put the whole thing in a nutshell, I
persuade myself that all I say is as I say, neither more nor less, and
I picture her in my imagination as I would have her to be, as well in
beauty as in condition; Helen approaches her not nor does Lucretia come
up to her, nor any other of the famous women of times past, Greek,
Barbarian, or Latin; and let each say what he will, for if in this I am
taken to task by the ignorant, I shall not be censured by the
critical.”

“I say that your worship is entirely right,” said Sancho, “and that I
am an ass. But I know not how the name of ass came into my mouth, for a
rope is not to be mentioned in the house of him who has been hanged;
but now for the letter, and then, God be with you, I am off.”

Don Quixote took out the notebook, and, retiring to one side, very
deliberately began to write the letter, and when he had finished it he
called to Sancho, saying he wished to read it to him, so that he might
commit it to memory, in case of losing it on the road; for with evil
fortune like his anything might be apprehended. To which Sancho
replied, “Write it two or three times there in the book and give it to
me, and I will carry it very carefully, because to expect me to keep it
in my memory is all nonsense, for I have such a bad one that I often
forget my own name; but for all that repeat it to me, as I shall like
to hear it, for surely it will run as if it was in print.”

“Listen,” said Don Quixote, “this is what it says:

_“Don Quixote’s Letter to Dulcinea del Toboso_


“Sovereign and exalted Lady,—The pierced by the point of absence, the
wounded to the heart’s core, sends thee, sweetest Dulcinea del Toboso,
the health that he himself enjoys not. If thy beauty despises me, if
thy worth is not for me, if thy scorn is my affliction, though I be
sufficiently long-suffering, hardly shall I endure this anxiety, which,
besides being oppressive, is protracted. My good squire Sancho will
relate to thee in full, fair ingrate, dear enemy, the condition to
which I am reduced on thy account: if it be thy pleasure to give me
relief, I am thine; if not, do as may be pleasing to thee; for by
ending my life I shall satisfy thy cruelty and my desire.
    “Thine till death,
    “The Knight of the Rueful Countenance.”


“By the life of my father,” said Sancho, when he heard the letter, “it
is the loftiest thing I ever heard. Body of me! how your worship says
everything as you like in it! And how well you fit in ‘The Knight of
the Rueful Countenance’ into the signature. I declare your worship is
indeed the very devil, and there is nothing you don’t know.”

“Everything is needed for the calling I follow,” said Don Quixote.

“Now then,” said Sancho, “let your worship put the order for the three
ass-colts on the other side, and sign it very plainly, that they may
recognise it at first sight.”

“With all my heart,” said Don Quixote, and as he had written it he read
it to this effect:

“Mistress Niece,—By this first of ass-colts please pay to Sancho Panza,
my squire, three of the five I left at home in your charge: said three
ass-colts to be paid and delivered for the same number received here in
hand, which upon this and upon his receipt shall be duly paid. Done in
the heart of the Sierra Morena, the twenty-seventh of August of this
present year.”


“That will do,” said Sancho; “now let your worship sign it.”

“There is no need to sign it,” said Don Quixote, “but merely to put my
flourish, which is the same as a signature, and enough for three asses,
or even three hundred.”

“I can trust your worship,” returned Sancho; “let me go and saddle
Rocinante, and be ready to give me your blessing, for I mean to go at
once without seeing the fooleries your worship is going to do; I’ll say
I saw you do so many that she will not want any more.”

“At any rate, Sancho,” said Don Quixote, “I should like—and there is
reason for it—I should like thee, I say, to see me stripped to the skin
and performing a dozen or two of insanities, which I can get done in
less than half an hour; for having seen them with thine own eyes, thou
canst then safely swear to the rest that thou wouldst add; and I
promise thee thou wilt not tell of as many as I mean to perform.”

“For the love of God, master mine,” said Sancho, “let me not see your
worship stripped, for it will sorely grieve me, and I shall not be able
to keep from tears, and my head aches so with all I shed last night for
Dapple, that I am not fit to begin any fresh weeping; but if it is your
worship’s pleasure that I should see some insanities, do them in your
clothes, short ones, and such as come readiest to hand; for I myself
want nothing of the sort, and, as I have said, it will be a saving of
time for my return, which will be with the news your worship desires
and deserves. If not, let the lady Dulcinea look to it; if she does not
answer reasonably, I swear as solemnly as I can that I will fetch a
fair answer out of her stomach with kicks and cuffs; for why should it
be borne that a knight-errant as famous as your worship should go mad
without rhyme or reason for a—? Her ladyship had best not drive me to
say it, for by God I will speak out and let off everything cheap, even
if it doesn’t sell: I am pretty good at that! she little knows me;
faith, if she knew me she’d be in awe of me.”

“In faith, Sancho,” said Don Quixote, “to all appearance thou art no
sounder in thy wits than I.”

“I am not so mad,” answered Sancho, “but I am more peppery; but apart
from all this, what has your worship to eat until I come back? Will you
sally out on the road like Cardenio to force it from the shepherds?”

“Let not that anxiety trouble thee,” replied Don Quixote, “for even if
I had it I should not eat anything but the herbs and the fruits which
this meadow and these trees may yield me; the beauty of this business
of mine lies in not eating, and in performing other mortifications.”

“Do you know what I am afraid of?” said Sancho upon this; “that I shall
not be able to find my way back to this spot where I am leaving you, it
is such an out-of-the-way place.”

“Observe the landmarks well,” said Don Quixote, “for I will try not to
go far from this neighbourhood, and I will even take care to mount the
highest of these rocks to see if I can discover thee returning;
however, not to miss me and lose thyself, the best plan will be to cut
some branches of the broom that is so abundant about here, and as thou
goest to lay them at intervals until thou hast come out upon the plain;
these will serve thee, after the fashion of the clue in the labyrinth
of Theseus, as marks and signs for finding me on thy return.”

“So I will,” said Sancho Panza, and having cut some, he asked his
master’s blessing, and not without many tears on both sides, took his
leave of him, and mounting Rocinante, of whom Don Quixote charged him
earnestly to have as much care as of his own person, he set out for the
plain, strewing at intervals the branches of broom as his master had
recommended him; and so he went his way, though Don Quixote still
entreated him to see him do were it only a couple of mad acts. He had
not gone a hundred paces, however, when he returned and said:

“I must say, señor, your worship said quite right, that in order to be
able to swear without a weight on my conscience that I had seen you do
mad things, it would be well for me to see if it were only one; though
in your worship’s remaining here I have seen a very great one.”



c25c.jpg (261K)

Full Size




“Did I not tell thee so?” said Don Quixote. “Wait, Sancho, and I will
do them in the saying of a credo,” and pulling off his breeches in all
haste he stripped himself to his skin and his shirt, and then, without
more ado, he cut a couple of gambados in the air, and a couple of
somersaults, heels over head, making such a display that, not to see it
a second time, Sancho wheeled Rocinante round, and felt easy, and
satisfied in his mind that he could swear he had left his master mad;
and so we will leave him to follow his road until his return, which was
a quick one.



c25e.jpg (20K)



CHAPTER XXVI.
IN WHICH ARE CONTINUED THE REFINEMENTS WHEREWITH DON QUIXOTE PLAYED THE
PART OF A LOVER IN THE SIERRA MORENA




c26a.jpg (111K)

Full Size




Returning to the proceedings of him of the Rueful Countenance when he
found himself alone, the history says that when Don Quixote had
completed the performance of the somersaults or capers, naked from the
waist down and clothed from the waist up, and saw that Sancho had gone
off without waiting to see any more crazy feats, he climbed up to the
top of a high rock, and there set himself to consider what he had
several times before considered without ever coming to any conclusion
on the point, namely whether it would be better and more to his purpose
to imitate the outrageous madness of Roland, or the melancholy madness
of Amadis; and communing with himself he said:

“What wonder is it if Roland was so good a knight and so valiant as
everyone says he was, when, after all, he was enchanted, and nobody
could kill him save by thrusting a corking pin into the sole of his
foot, and he always wore shoes with seven iron soles? Though cunning
devices did not avail him against Bernardo del Carpio, who knew all
about them, and strangled him in his arms at Roncesvalles. But putting
the question of his valour aside, let us come to his losing his wits,
for certain it is that he did lose them in consequence of the proofs he
discovered at the fountain, and the intelligence the shepherd gave him
of Angelica having slept more than two siestas with Medoro, a little
curly-headed Moor, and page to Agramante. If he was persuaded that this
was true, and that his lady had wronged him, it is no wonder that he
should have gone mad; but I, how am I to imitate him in his madness,
unless I can imitate him in the cause of it? For my Dulcinea, I will
venture to swear, never saw a Moor in her life, as he is, in his proper
costume, and she is this day as the mother that bore her, and I should
plainly be doing her a wrong if, fancying anything else, I were to go
mad with the same kind of madness as Roland the Furious. On the other
hand, I see that Amadis of Gaul, without losing his senses and without
doing anything mad, acquired as a lover as much fame as the most
famous; for, according to his history, on finding himself rejected by
his lady Oriana, who had ordered him not to appear in her presence
until it should be her pleasure, all he did was to retire to the Peña
Pobre in company with a hermit, and there he took his fill of weeping
until Heaven sent him relief in the midst of his great grief and need.
And if this be true, as it is, why should I now take the trouble to
strip stark naked, or do mischief to these trees which have done me no
harm, or why am I to disturb the clear waters of these brooks which
will give me to drink whenever I have a mind? Long live the memory of
Amadis and let him be imitated so far as is possible by Don Quixote of
La Mancha, of whom it will be said, as was said of the other, that if
he did not achieve great things, he died in attempting them; and if I
am not repulsed or rejected by my Dulcinea, it is enough for me, as I
have said, to be absent from her. And so, now to business; come to my
memory ye deeds of Amadis, and show me how I am to begin to imitate
you. I know already that what he chiefly did was to pray and commend
himself to God; but what am I to do for a rosary, for I have not got
one?”

And then it occurred to him how he might make one, and that was by
tearing a great strip off the tail of his shirt which hung down, and
making eleven knots on it, one bigger than the rest, and this served
him for a rosary all the time he was there, during which he repeated
countless ave-marias. But what distressed him greatly was not having
another hermit there to confess him and receive consolation from; and
so he solaced himself with pacing up and down the little meadow, and
writing and carving on the bark of the trees and on the fine sand a
multitude of verses all in harmony with his sadness, and some in praise
of Dulcinea; but, when he was found there afterwards, the only ones
completely legible that could be discovered were those that follow
here:

Ye on the mountainside that grow,
Ye green things all, trees, shrubs, and bushes,
Are ye aweary of the woe
That this poor aching bosom crushes?
If it disturb you, and I owe
Some reparation, it may be a
Defence for me to let you know
Don Quixote’s tears are on the flow,
And all for distant Dulcinea
Del Toboso.

The lealest lover time can show,
Doomed for a lady-love to languish,
Among these solitudes doth go,
A prey to every kind of anguish.
Why Love should like a spiteful foe
Thus use him, he hath no idea,
But hogsheads full—this doth he know—
Don Quixote’s tears are on the flow,
And all for distant Dulcinea
Del Toboso.

Adventure-seeking doth he go
Up rugged heights, down rocky valleys,
But hill or dale, or high or low,
Mishap attendeth all his sallies:
Love still pursues him to and fro,
And plies his cruel scourge—ah me! a
Relentless fate, an endless woe;
Don Quixote’s tears are on the flow,
And all for distant Dulcinea
Del Toboso.


The addition of “Del Toboso” to Dulcinea’s name gave rise to no little
laughter among those who found the above lines, for they suspected Don
Quixote must have fancied that unless he added “del Toboso” when he
introduced the name of Dulcinea the verse would be unintelligible;
which was indeed the fact, as he himself afterwards admitted. He wrote
many more, but, as has been said, these three verses were all that
could be plainly and perfectly deciphered. In this way, and in sighing
and calling on the fauns and satyrs of the woods and the nymphs of the
streams, and Echo, moist and mournful, to answer, console, and hear
him, as well as in looking for herbs to sustain him, he passed his time
until Sancho’s return; and had that been delayed three weeks, as it was
three days, the Knight of the Rueful Countenance would have worn such
an altered countenance that the mother that bore him would not have
known him: and here it will be well to leave him, wrapped up in sighs
and verses, to relate how Sancho Panza fared on his mission.

As for him, coming out upon the high road, he made for El Toboso, and
the next day reached the inn where the mishap of the blanket had
befallen him. As soon as he recognised it he felt as if he were once
more living through the air, and he could not bring himself to enter it
though it was an hour when he might well have done so, for it was
dinner-time, and he longed to taste something hot as it had been all
cold fare with him for many days past. This craving drove him to draw
near to the inn, still undecided whether to go in or not, and as he was
hesitating there came out two persons who at once recognised him, and
said one to the other:

“Señor licentiate, is not he on the horse there Sancho Panza who, our
adventurer’s housekeeper told us, went off with her master as esquire?”

“So it is,” said the licentiate, “and that is our friend Don Quixote’s
horse;” and if they knew him so well it was because they were the
curate and the barber of his own village, the same who had carried out
the scrutiny and sentence upon the books; and as soon as they
recognised Sancho Panza and Rocinante, being anxious to hear of Don
Quixote, they approached, and calling him by his name the curate said,
“Friend Sancho Panza, where is your master?”

Sancho recognised them at once, and determined to keep secret the place
and circumstances where and under which he had left his master, so he
replied that his master was engaged in a certain quarter on a certain
matter of great importance to him which he could not disclose for the
eyes in his head.

“Nay, nay,” said the barber, “if you don’t tell us where he is, Sancho
Panza, we will suspect as we suspect already, that you have murdered
and robbed him, for here you are mounted on his horse; in fact, you
must produce the master of the hack, or else take the consequences.”

“There is no need of threats with me,” said Sancho, “for I am not a man
to rob or murder anybody; let his own fate, or God who made him, kill
each one; my master is engaged very much to his taste doing penance in
the midst of these mountains;” and then, offhand and without stopping,
he told them how he had left him, what adventures had befallen him, and
how he was carrying a letter to the lady Dulcinea del Toboso, the
daughter of Lorenzo Corchuelo, with whom he was over head and ears in
love. They were both amazed at what Sancho Panza told them; for though
they were aware of Don Quixote’s madness and the nature of it, each
time they heard of it they were filled with fresh wonder. They then
asked Sancho Panza to show them the letter he was carrying to the lady
Dulcinea del Toboso. He said it was written in a notebook, and that his
master’s directions were that he should have it copied on paper at the
first village he came to. On this the curate said if he showed it to
him, he himself would make a fair copy of it. Sancho put his hand into
his bosom in search of the notebook but could not find it, nor, if he
had been searching until now, could he have found it, for Don Quixote
had kept it, and had never given it to him, nor had he himself thought
of asking for it. When Sancho discovered he could not find the book his
face grew deadly pale, and in great haste he again felt his body all
over, and seeing plainly it was not to be found, without more ado he
seized his beard with both hands and plucked away half of it, and then,
as quick as he could and without stopping, gave himself half a dozen
cuffs on the face and nose till they were bathed in blood.

Seeing this, the curate and the barber asked him what had happened him
that he gave himself such rough treatment.

“What should happen to me?” replied Sancho, “but to have lost from one
hand to the other, in a moment, three ass-colts, each of them like a
castle?”

“How is that?” said the barber.

“I have lost the notebook,” said Sancho, “that contained the letter to
Dulcinea, and an order signed by my master in which he directed his
niece to give me three ass-colts out of four or five he had at home;”
and he then told them about the loss of Dapple.

The curate consoled him, telling him that when his master was found he
would get him to renew the order, and make a fresh draft on paper, as
was usual and customary; for those made in notebooks were never
accepted or honoured.

Sancho comforted himself with this, and said if that were so the loss
of Dulcinea’s letter did not trouble him much, for he had it almost by
heart, and it could be taken down from him wherever and whenever they
liked.

“Repeat it then, Sancho,” said the barber, “and we will write it down
afterwards.”

Sancho Panza stopped to scratch his head to bring back the letter to
his memory, and balanced himself now on one foot, now the other, one
moment staring at the ground, the next at the sky, and after having
half gnawed off the end of a finger and kept them in suspense waiting
for him to begin, he said, after a long pause, “By God, señor
licentiate, devil a thing can I recollect of the letter; but it said at
the beginning, ‘Exalted and scrubbing Lady.’”

“It cannot have said ‘scrubbing,’” said the barber, “but ‘superhuman’
or ‘sovereign.’”

“That is it,” said Sancho; “then, as well as I remember, it went on,
‘The wounded, and wanting of sleep, and the pierced, kisses your
worship’s hands, ungrateful and very unrecognised fair one; and it said
something or other about health and sickness that he was sending her;
and from that it went tailing off until it ended with ‘Yours till
death, the Knight of the Rueful Countenance.’”

It gave them no little amusement, both of them, to see what a good
memory Sancho had, and they complimented him greatly upon it, and
begged him to repeat the letter a couple of times more, so that they
too might get it by heart to write it out by-and-by. Sancho repeated it
three times, and as he did, uttered three thousand more absurdities;
then he told them more about his master but he never said a word about
the blanketing that had befallen himself in that inn, into which he
refused to enter. He told them, moreover, how his lord, if he brought
him a favourable answer from the lady Dulcinea del Toboso, was to put
himself in the way of endeavouring to become an emperor, or at least a
monarch; for it had been so settled between them, and with his personal
worth and the might of his arm it was an easy matter to come to be one:
and how on becoming one his lord was to make a marriage for him (for he
would be a widower by that time, as a matter of course) and was to give
him as a wife one of the damsels of the empress, the heiress of some
rich and grand state on the mainland, having nothing to do with islands
of any sort, for he did not care for them now. All this Sancho
delivered with so much composure—wiping his nose from time to time—and
with so little common-sense that his two hearers were again filled with
wonder at the force of Don Quixote’s madness that could run away with
this poor man’s reason. They did not care to take the trouble of
disabusing him of his error, as they considered that since it did not
in any way hurt his conscience it would be better to leave him in it,
and they would have all the more amusement in listening to his
simplicities; and so they bade him pray to God for his lord’s health,
as it was a very likely and a very feasible thing for him in course of
time to come to be an emperor, as he said, or at least an archbishop or
some other dignitary of equal rank.

To which Sancho made answer, “If fortune, sirs, should bring things
about in such a way that my master should have a mind, instead of being
an emperor, to be an archbishop, I should like to know what
archbishops-errant commonly give their squires?”

“They commonly give them,” said the curate, some simple benefice or
cure, or some place as sacristan which brings them a good fixed income,
not counting the altar fees, which may be reckoned at as much more.”

“But for that,” said Sancho, “the squire must be unmarried, and must
know, at any rate, how to help at mass, and if that be so, woe is me,
for I am married already and I don’t know the first letter of the A B
C. What will become of me if my master takes a fancy to be an
archbishop and not an emperor, as is usual and customary with
knights-errant?”

“Be not uneasy, friend Sancho,” said the barber, “for we will entreat
your master, and advise him, even urging it upon him as a case of
conscience, to become an emperor and not an archbishop, because it will
be easier for him as he is more valiant than lettered.”

“So I have thought,” said Sancho; “though I can tell you he is fit for
anything: what I mean to do for my part is to pray to our Lord to place
him where it may be best for him, and where he may be able to bestow
most favours upon me.”

“You speak like a man of sense,” said the curate, “and you will be
acting like a good Christian; but what must now be done is to take
steps to coax your master out of that useless penance you say he is
performing; and we had best turn into this inn to consider what plan to
adopt, and also to dine, for it is now time.”

Sancho said they might go in, but that he would wait there outside, and
that he would tell them afterwards the reason why he was unwilling, and
why it did not suit him to enter it; but he begged them to bring him
out something to eat, and to let it be hot, and also to bring barley
for Rocinante. They left him and went in, and presently the barber
brought him out something to eat. By-and-by, after they had between
them carefully thought over what they should do to carry out their
object, the curate hit upon an idea very well adapted to humour Don
Quixote, and effect their purpose; and his notion, which he explained
to the barber, was that he himself should assume the disguise of a
wandering damsel, while the other should try as best he could to pass
for a squire, and that they should thus proceed to where Don Quixote
was, and he, pretending to be an aggrieved and distressed damsel,
should ask a favour of him, which as a valiant knight-errant he could
not refuse to grant; and the favour he meant to ask him was that he
should accompany her whither she would conduct him, in order to redress
a wrong which a wicked knight had done her, while at the same time she
should entreat him not to require her to remove her mask, nor ask her
any question touching her circumstances until he had righted her with
the wicked knight. And he had no doubt that Don Quixote would comply
with any request made in these terms, and that in this way they might
remove him and take him to his own village, where they would endeavour
to find out if his extraordinary madness admitted of any kind of
remedy.



c26e.jpg (48K)



CHAPTER XXVII.
OF HOW THE CURATE AND THE BARBER PROCEEDED WITH THEIR SCHEME; TOGETHER
WITH OTHER MATTERS WORTHY OF RECORD IN THIS GREAT HISTORY




c27a.jpg (169K)

Full Size




The curate’s plan did not seem a bad one to the barber, but on the
contrary so good that they immediately set about putting it in
execution. They begged a petticoat and hood of the landlady, leaving
her in pledge a new cassock of the curate’s; and the barber made a
beard out of a grey-brown or red ox-tail in which the landlord used to
stick his comb. The landlady asked them what they wanted these things
for, and the curate told her in a few words about the madness of Don
Quixote, and how this disguise was intended to get him away from the
mountain where he then was. The landlord and landlady immediately came
to the conclusion that the madman was their guest, the balsam man and
master of the blanketed squire, and they told the curate all that had
passed between him and them, not omitting what Sancho had been so
silent about. Finally the landlady dressed up the curate in a style
that left nothing to be desired; she put on him a cloth petticoat with
black velvet stripes a palm broad, all slashed, and a bodice of green
velvet set off by a binding of white satin, which as well as the
petticoat must have been made in the time of king Wamba. The curate
would not let them hood him, but put on his head a little quilted linen
cap which he used for a night-cap, and bound his forehead with a strip
of black silk, while with another he made a mask with which he
concealed his beard and face very well. He then put on his hat, which
was broad enough to serve him for an umbrella, and enveloping himself
in his cloak seated himself woman-fashion on his mule, while the barber
mounted his with a beard down to the waist of mingled red and white,
for it was, as has been said, the tail of a clay-red ox.

They took leave of all, and of the good Maritornes, who, sinner as she
was, promised to pray a rosary of prayers that God might grant them
success in such an arduous and Christian undertaking as that they had
in hand. But hardly had he sallied forth from the inn when it struck
the curate that he was doing wrong in rigging himself out in that
fashion, as it was an indecorous thing for a priest to dress himself
that way even though much might depend upon it; and saying so to the
barber he begged him to change dresses, as it was fitter he should be
the distressed damsel, while he himself would play the squire’s part,
which would be less derogatory to his dignity; otherwise he was
resolved to have nothing more to do with the matter, and let the devil
take Don Quixote. Just at this moment Sancho came up, and on seeing the
pair in such a costume he was unable to restrain his laughter; the
barber, however, agreed to do as the curate wished, and, altering their
plan, the curate went on to instruct him how to play his part and what
to say to Don Quixote to induce and compel him to come with them and
give up his fancy for the place he had chosen for his idle penance. The
barber told him he could manage it properly without any instruction,
and as he did not care to dress himself up until they were near where
Don Quixote was, he folded up the garments, and the curate adjusted his
beard, and they set out under the guidance of Sancho Panza, who went
along telling them of the encounter with the madman they met in the
Sierra, saying nothing, however, about the finding of the valise and
its contents; for with all his simplicity the lad was a trifle
covetous.

The next day they reached the place where Sancho had laid the
broom-branches as marks to direct him to where he had left his master,
and recognising it he told them that here was the entrance, and that
they would do well to dress themselves, if that was required to deliver
his master; for they had already told him that going in this guise and
dressing in this way were of the highest importance in order to rescue
his master from the pernicious life he had adopted; and they charged
him strictly not to tell his master who they were, or that he knew
them, and should he ask, as ask he would, if he had given the letter to
Dulcinea, to say that he had, and that, as she did not know how to
read, she had given an answer by word of mouth, saying that she
commanded him, on pain of her displeasure, to come and see her at once;
and it was a very important matter for himself, because in this way and
with what they meant to say to him they felt sure of bringing him back
to a better mode of life and inducing him to take immediate steps to
become an emperor or monarch, for there was no fear of his becoming an
archbishop. All this Sancho listened to and fixed it well in his
memory, and thanked them heartily for intending to recommend his master
to be an emperor instead of an archbishop, for he felt sure that in the
way of bestowing rewards on their squires emperors could do more than
archbishops-errant. He said, too, that it would be as well for him to
go on before them to find him, and give him his lady’s answer; for that
perhaps might be enough to bring him away from the place without
putting them to all this trouble. They approved of what Sancho
proposed, and resolved to wait for him until he brought back word of
having found his master.

Sancho pushed on into the glens of the Sierra, leaving them in one
through which there flowed a little gentle rivulet, and where the rocks
and trees afforded a cool and grateful shade. It was an August day with
all the heat of one, and the heat in those parts is intense, and the
hour was three in the afternoon, all which made the spot the more
inviting and tempted them to wait there for Sancho’s return, which they
did. They were reposing, then, in the shade, when a voice unaccompanied
by the notes of any instrument, but sweet and pleasing in its tone,
reached their ears, at which they were not a little astonished, as the
place did not seem to them likely quarters for one who sang so well;
for though it is often said that shepherds of rare voice are to be
found in the woods and fields, this is rather a flight of the poet’s
fancy than the truth. And still more surprised were they when they
perceived that what they heard sung were the verses not of rustic
shepherds, but of the polished wits of the city; and so it proved, for
the verses they heard were these:

What makes my quest of happiness seem vain?
Disdain.
What bids me to abandon hope of ease?
Jealousies.
What holds my heart in anguish of suspense?
Absence.
If that be so, then for my grief
Where shall I turn to seek relief,
When hope on every side lies slain
By Absence, Jealousies, Disdain?

What the prime cause of all my woe doth prove?
Love.
What at my glory ever looks askance?
Chance.
Whence is permission to afflict me given?
Heaven.
If that be so, I but await
The stroke of a resistless fate,
Since, working for my woe, these three,
Love, Chance and Heaven, in league I see.

What must I do to find a remedy?
Die.
What is the lure for love when coy and strange?
Change.
What, if all fail, will cure the heart of sadness?
Madness.
If that be so, it is but folly
To seek a cure for melancholy:
Ask where it lies; the answer saith
In Change, in Madness, or in Death.


The hour, the summer season, the solitary place, the voice and skill of
the singer, all contributed to the wonder and delight of the two
listeners, who remained still waiting to hear something more; finding,
however, that the silence continued some little time, they resolved to
go in search of the musician who sang with so fine a voice; but just as
they were about to do so they were checked by the same voice, which
once more fell upon their ears, singing this

SONNET

When heavenward, holy Friendship, thou didst go
Soaring to seek thy home beyond the sky,
And take thy seat among the saints on high,
It was thy will to leave on earth below
Thy semblance, and upon it to bestow
Thy veil, wherewith at times hypocrisy,
Parading in thy shape, deceives the eye,
And makes its vileness bright as virtue show.
Friendship, return to us, or force the cheat
That wears it now, thy livery to restore,
By aid whereof sincerity is slain.
If thou wilt not unmask thy counterfeit,
This earth will be the prey of strife once more,
As when primæval discord held its reign.


The song ended with a deep sigh, and again the listeners remained
waiting attentively for the singer to resume; but perceiving that the
music had now turned to sobs and heart-rending moans they determined to
find out who the unhappy being could be whose voice was as rare as his
sighs were piteous, and they had not proceeded far when on turning the
corner of a rock they discovered a man of the same aspect and
appearance as Sancho had described to them when he told them the story
of Cardenio. He, showing no astonishment when he saw them, stood still
with his head bent down upon his breast like one in deep thought,
without raising his eyes to look at them after the first glance when
they suddenly came upon him. The curate, who was aware of his
misfortune and recognised him by the description, being a man of good
address, approached him and in a few sensible words entreated and urged
him to quit a life of such misery, lest he should end it there, which
would be the greatest of all misfortunes. Cardenio was then in his
right mind, free from any attack of that madness which so frequently
carried him away, and seeing them dressed in a fashion so unusual among
the frequenters of those wilds, could not help showing some surprise,
especially when he heard them speak of his case as if it were a
well-known matter (for the curate’s words gave him to understand as
much) so he replied to them thus:

“I see plainly, sirs, whoever you may be, that Heaven, whose care it is
to succour the good, and even the wicked very often, here, in this
remote spot, cut off from human intercourse, sends me, though I deserve
it not, those who seek to draw me away from this to some better
retreat, showing me by many and forcible arguments how unreasonably I
act in leading the life I do; but as they know, that if I escape from
this evil I shall fall into another still greater, perhaps they will
set me down as a weak-minded man, or, what is worse, one devoid of
reason; nor would it be any wonder, for I myself can perceive that the
effect of the recollection of my misfortunes is so great and works so
powerfully to my ruin, that in spite of myself I become at times like a
stone, without feeling or consciousness; and I come to feel the truth
of it when they tell me and show me proofs of the things I have done
when the terrible fit overmasters me; and all I can do is bewail my lot
in vain, and idly curse my destiny, and plead for my madness by telling
how it was caused, to any that care to hear it; for no reasonable
beings on learning the cause will wonder at the effects; and if they
cannot help me at least they will not blame me, and the repugnance they
feel at my wild ways will turn into pity for my woes. If it be, sirs,
that you are here with the same design as others have come with, before
you proceed with your wise arguments, I entreat you to hear the story
of my countless misfortunes, for perhaps when you have heard it you
will spare yourselves the trouble you would take in offering
consolation to grief that is beyond the reach of it.”

As they, both of them, desired nothing more than to hear from his own
lips the cause of his suffering, they entreated him to tell it,
promising not to do anything for his relief or comfort that he did not
wish; and thereupon the unhappy gentleman began his sad story in nearly
the same words and manner in which he had related it to Don Quixote and
the goatherd a few days before, when, through Master Elisabad, and Don
Quixote’s scrupulous observance of what was due to chivalry, the tale
was left unfinished, as this history has already recorded; but now
fortunately the mad fit kept off, allowed him to tell it to the end;
and so, coming to the incident of the note which Don Fernando had found
in the volume of “Amadis of Gaul,” Cardenio said that he remembered it
perfectly and that it was in these words:

“_Luscinda to Cardenio._


“Every day I discover merits in you that oblige and compel me to hold
you in higher estimation; so if you desire to relieve me of this
obligation without cost to my honour, you may easily do so. I have a
father who knows you and loves me dearly, who without putting any
constraint on my inclination will grant what will be reasonable for you
to have, if it be that you value me as you say and as I believe you
do.”


“By this letter I was induced, as I told you, to demand Luscinda for my
wife, and it was through it that Luscinda came to be regarded by Don
Fernando as one of the most discreet and prudent women of the day, and
this letter it was that suggested his design of ruining me before mine
could be carried into effect. I told Don Fernando that all Luscinda’s
father was waiting for was that mine should ask her of him, which I did
not dare to suggest to him, fearing that he would not consent to do so;
not because he did not know perfectly well the rank, goodness, virtue,
and beauty of Luscinda, and that she had qualities that would do honour
to any family in Spain, but because I was aware that he did not wish me
to marry so soon, before seeing what the Duke Ricardo would do for me.
In short, I told him I did not venture to mention it to my father, as
well on account of that difficulty, as of many others that discouraged
me though I knew not well what they were, only that it seemed to me
that what I desired was never to come to pass. To all this Don Fernando
answered that he would take it upon himself to speak to my father, and
persuade him to speak to Luscinda’s father. O, ambitious Marius! O,
cruel Catiline! O, wicked Sylla! O, perfidious Ganelon! O, treacherous
Vellido! O, vindictive Julian! O, covetous Judas! Traitor, cruel,
vindictive, and perfidious, wherein had this poor wretch failed in his
fidelity, who with such frankness showed thee the secrets and the joys
of his heart? What offence did I commit? What words did I utter, or
what counsels did I give that had not the furtherance of thy honour and
welfare for their aim? But, woe is me, wherefore do I complain? for
sure it is that when misfortunes spring from the stars, descending from
on high they fall upon us with such fury and violence that no power on
earth can check their course nor human device stay their coming. Who
could have thought that Don Fernando, a highborn gentleman,
intelligent, bound to me by gratitude for my services, one that could
win the object of his love wherever he might set his affections, could
have become so obdurate, as they say, as to rob me of my one ewe lamb
that was not even yet in my possession? But laying aside these useless
and unavailing reflections, let us take up the broken thread of my
unhappy story.

“To proceed, then: Don Fernando finding my presence an obstacle to the
execution of his treacherous and wicked design, resolved to send me to
his elder brother under the pretext of asking money from him to pay for
six horses which, purposely, and with the sole object of sending me
away that he might the better carry out his infernal scheme, he had
purchased the very day he offered to speak to my father, and the price
of which he now desired me to fetch. Could I have anticipated this
treachery? Could I by any chance have suspected it? Nay; so far from
that, I offered with the greatest pleasure to go at once, in my
satisfaction at the good bargain that had been made. That night I spoke
with Luscinda, and told her what had been agreed upon with Don
Fernando, and how I had strong hopes of our fair and reasonable wishes
being realised. She, as unsuspicious as I was of the treachery of Don
Fernando, bade me try to return speedily, as she believed the
fulfilment of our desires would be delayed only so long as my father
put off speaking to hers. I know not why it was that on saying this to
me her eyes filled with tears, and there came a lump in her throat that
prevented her from uttering a word of many more that it seemed to me
she was striving to say to me. I was astonished at this unusual turn,
which I never before observed in her. for we always conversed, whenever
good fortune and my ingenuity gave us the chance, with the greatest
gaiety and cheerfulness, mingling tears, sighs, jealousies, doubts, or
fears with our words; it was all on my part a eulogy of my good fortune
that Heaven should have given her to me for my mistress; I glorified
her beauty, I extolled her worth and her understanding; and she paid me
back by praising in me what in her love for me she thought worthy of
praise; and besides we had a hundred thousand trifles and doings of our
neighbours and acquaintances to talk about, and the utmost extent of my
boldness was to take, almost by force, one of her fair white hands and
carry it to my lips, as well as the closeness of the low grating that
separated us allowed me. But the night before the unhappy day of my
departure she wept, she moaned, she sighed, and she withdrew leaving me
filled with perplexity and amazement, overwhelmed at the sight of such
strange and affecting signs of grief and sorrow in Luscinda; but not to
dash my hopes I ascribed it all to the depth of her love for me and the
pain that separation gives those who love tenderly. At last I took my
departure, sad and dejected, my heart filled with fancies and
suspicions, but not knowing well what it was I suspected or fancied;
plain omens pointing to the sad event and misfortune that was awaiting
me.

“I reached the place whither I had been sent, gave the letter to Don
Fernando’s brother, and was kindly received but not promptly dismissed,
for he desired me to wait, very much against my will, eight days in
some place where the duke his father was not likely to see me, as his
brother wrote that the money was to be sent without his knowledge; all
of which was a scheme of the treacherous Don Fernando, for his brother
had no want of money to enable him to despatch me at once.

“The command was one that exposed me to the temptation of disobeying
it, as it seemed to me impossible to endure life for so many days
separated from Luscinda, especially after leaving her in the sorrowful
mood I have described to you; nevertheless as a dutiful servant I
obeyed, though I felt it would be at the cost of my well-being. But
four days later there came a man in quest of me with a letter which he
gave me, and which by the address I perceived to be from Luscinda, as
the writing was hers. I opened it with fear and trepidation, persuaded
that it must be something serious that had impelled her to write to me
when at a distance, as she seldom did so when I was near. Before
reading it I asked the man who it was that had given it to him, and how
long he had been upon the road; he told me that as he happened to be
passing through one of the streets of the city at the hour of noon, a
very beautiful lady called to him from a window, and with tears in her
eyes said to him hurriedly, ‘Brother, if you are, as you seem to be, a
Christian, for the love of God I entreat you to have this letter
despatched without a moment’s delay to the place and person named in
the address, all which is well known, and by this you will render a
great service to our Lord; and that you may be at no inconvenience in
doing so take what is in this handkerchief;’ and said he, ‘with this
she threw me a handkerchief out of the window in which were tied up a
hundred reals and this gold ring which I bring here together with the
letter I have given you. And then without waiting for any answer she
left the window, though not before she saw me take the letter and the
handkerchief, and I had by signs let her know that I would do as she
bade me; and so, seeing myself so well paid for the trouble I would
have in bringing it to you, and knowing by the address that it was to
you it was sent (for, señor, I know you very well), and also unable to
resist that beautiful lady’s tears, I resolved to trust no one else,
but to come myself and give it to you, and in sixteen hours from the
time when it was given me I have made the journey, which, as you know,
is eighteen leagues.’

“All the while the good-natured improvised courier was telling me this,
I hung upon his words, my legs trembling under me so that I could
scarcely stand. However, I opened the letter and read these words:

The promise Don Fernando gave you to urge your father to speak to mine,
he has fulfilled much more to his own satisfaction than to your
advantage. I have to tell you, señor, that he has demanded me for a
wife, and my father, led away by what he considers Don Fernando’s
superiority over you, has favoured his suit so cordially, that in two
days hence the betrothal is to take place with such secrecy and so
privately that the only witnesses are to be the Heavens above and a few
of the household. Picture to yourself the state I am in; judge if it be
urgent for you to come; the issue of the affair will show you whether I
love you or not. God grant this may come to your hand before mine shall
be forced to link itself with his who keeps so ill the faith that he
has pledged.


“Such, in brief, were the words of the letter, words that made me set
out at once without waiting any longer for reply or money; for I now
saw clearly that it was not the purchase of horses but of his own
pleasure that had made Don Fernando send me to his brother. The
exasperation I felt against Don Fernando, joined with the fear of
losing the prize I had won by so many years of love and devotion, lent
me wings; so that almost flying I reached home the same day, by the
hour which served for speaking with Luscinda. I arrived unobserved, and
left the mule on which I had come at the house of the worthy man who
had brought me the letter, and fortune was pleased to be for once so
kind that I found Luscinda at the grating that was the witness of our
loves. She recognised me at once, and I her, but not as she ought to
have recognised me, or I her. But who is there in the world that can
boast of having fathomed or understood the wavering mind and unstable
nature of a woman? Of a truth no one. To proceed: as soon as Luscinda
saw me she said, ‘Cardenio, I am in my bridal dress, and the
treacherous Don Fernando and my covetous father are waiting for me in
the hall with the other witnesses, who shall be the witnesses of my
death before they witness my betrothal. Be not distressed, my friend,
but contrive to be present at this sacrifice, and if that cannot be
prevented by my words, I have a dagger concealed which will prevent
more deliberate violence, putting an end to my life and giving thee a
first proof of the love I have borne and bear thee.’ I replied to her
distractedly and hastily, in fear lest I should not have time to reply,
‘May thy words be verified by thy deeds, lady; and if thou hast a
dagger to save thy honour, I have a sword to defend thee or kill myself
if fortune be against us.’

“I think she could not have heard all these words, for I perceived that
they called her away in haste, as the bridegroom was waiting. Now the
night of my sorrow set in, the sun of my happiness went down, I felt my
eyes bereft of sight, my mind of reason. I could not enter the house,
nor was I capable of any movement; but reflecting how important it was
that I should be present at what might take place on the occasion, I
nerved myself as best I could and went in, for I well knew all the
entrances and outlets; and besides, with the confusion that in secret
pervaded the house no one took notice of me, so, without being seen, I
found an opportunity of placing myself in the recess formed by a window
of the hall itself, and concealed by the ends and borders of two
tapestries, from between which I could, without being seen, see all
that took place in the room. Who could describe the agitation of heart
I suffered as I stood there—the thoughts that came to me—the
reflections that passed through my mind? They were such as cannot be,
nor were it well they should be, told. Suffice it to say that the
bridegroom entered the hall in his usual dress, without ornament of any
kind; as groomsman he had with him a cousin of Luscinda’s and except
the servants of the house there was no one else in the chamber. Soon
afterwards Luscinda came out from an antechamber, attended by her
mother and two of her damsels, arrayed and adorned as became her rank
and beauty, and in full festival and ceremonial attire. My anxiety and
distraction did not allow me to observe or notice particularly what she
wore; I could only perceive the colours, which were crimson and white,
and the glitter of the gems and jewels on her head dress and apparel,
surpassed by the rare beauty of her lovely auburn hair that vying with
the precious stones and the light of the four torches that stood in the
hall shone with a brighter gleam than all. Oh memory, mortal foe of my
peace! why bring before me now the incomparable beauty of that adored
enemy of mine? Were it not better, cruel memory, to remind me and
recall what she then did, that stirred by a wrong so glaring I may
seek, if not vengeance now, at least to rid myself of life? Be not
weary, sirs, of listening to these digressions; my sorrow is not one of
those that can or should be told tersely and briefly, for to me each
incident seems to call for many words.”

To this the curate replied that not only were they not weary of
listening to him, but that the details he mentioned interested them
greatly, being of a kind by no means to be omitted and deserving of the
same attention as the main story.

“To proceed, then,” continued Cardenio: “all being assembled in the
hall, the priest of the parish came in and as he took the pair by the
hand to perform the requisite ceremony, at the words, ‘Will you, Señora
Luscinda, take Señor Don Fernando, here present, for your lawful
husband, as the holy Mother Church ordains?’ I thrust my head and neck
out from between the tapestries, and with eager ears and throbbing
heart set myself to listen to Luscinda’s answer, awaiting in her reply
the sentence of death or the grant of life. Oh, that I had but dared at
that moment to rush forward crying aloud, ‘Luscinda, Luscinda! have a
care what thou dost; remember what thou owest me; bethink thee thou art
mine and canst not be another’s; reflect that thy utterance of “Yes”
and the end of my life will come at the same instant. O, treacherous
Don Fernando! robber of my glory, death of my life! What seekest thou?
Remember that thou canst not as a Christian attain the object of thy
wishes, for Luscinda is my bride, and I am her husband!’ Fool that I
am! now that I am far away, and out of danger, I say I should have done
what I did not do: now that I have allowed my precious treasure to be
robbed from me, I curse the robber, on whom I might have taken
vengeance had I as much heart for it as I have for bewailing my fate;
in short, as I was then a coward and a fool, little wonder is it if I
am now dying shame-stricken, remorseful, and mad.

“The priest stood waiting for the answer of Luscinda, who for a long
time withheld it; and just as I thought she was taking out the dagger
to save her honour, or struggling for words to make some declaration of
the truth on my behalf, I heard her say in a faint and feeble voice, ‘I
will:’ Don Fernando said the same, and giving her the ring they stood
linked by a knot that could never be loosed. The bridegroom then
approached to embrace his bride; and she, pressing her hand upon her
heart, fell fainting in her mother’s arms. It only remains now for me
to tell you the state I was in when in that consent that I heard I saw
all my hopes mocked, the words and promises of Luscinda proved
falsehoods, and the recovery of the prize I had that instant lost
rendered impossible for ever. I stood stupefied, wholly abandoned, it
seemed, by Heaven, declared the enemy of the earth that bore me, the
air refusing me breath for my sighs, the water moisture for my tears;
it was only the fire that gathered strength so that my whole frame
glowed with rage and jealousy. They were all thrown into confusion by
Luscinda’s fainting, and as her mother was unlacing her to give her air
a sealed paper was discovered in her bosom which Don Fernando seized at
once and began to read by the light of one of the torches. As soon as
he had read it he seated himself in a chair, leaning his cheek on his
hand in the attitude of one deep in thought, without taking any part in
the efforts that were being made to recover his bride from her fainting
fit.

“Seeing all the household in confusion, I ventured to come out
regardless whether I were seen or not, and determined, if I were, to do
some frenzied deed that would prove to all the world the righteous
indignation of my breast in the punishment of the treacherous Don
Fernando, and even in that of the fickle fainting traitress. But my
fate, doubtless reserving me for greater sorrows, if such there be, so
ordered it that just then I had enough and to spare of that reason
which has since been wanting to me; and so, without seeking to take
vengeance on my greatest enemies (which might have been easily taken,
as all thought of me was so far from their minds), I resolved to take
it upon myself, and on myself to inflict the pain they deserved,
perhaps with even greater severity than I should have dealt out to them
had I then slain them; for sudden pain is soon over, but that which is
protracted by tortures is ever slaying without ending life. In a word,
I quitted the house and reached that of the man with whom I had left my
mule; I made him saddle it for me, mounted without bidding him
farewell, and rode out of the city, like another Lot, not daring to
turn my head to look back upon it; and when I found myself alone in the
open country, screened by the darkness of the night, and tempted by the
stillness to give vent to my grief without apprehension or fear of
being heard or seen, then I broke silence and lifted up my voice in
maledictions upon Luscinda and Don Fernando, as if I could thus avenge
the wrong they had done me. I called her cruel, ungrateful, false,
thankless, but above all covetous, since the wealth of my enemy had
blinded the eyes of her affection, and turned it from me to transfer it
to one to whom fortune had been more generous and liberal. And yet, in
the midst of this outburst of execration and upbraiding, I found
excuses for her, saying it was no wonder that a young girl in the
seclusion of her parents’ house, trained and schooled to obey them
always, should have been ready to yield to their wishes when they
offered her for a husband a gentleman of such distinction, wealth, and
noble birth, that if she had refused to accept him she would have been
thought out of her senses, or to have set her affection elsewhere, a
suspicion injurious to her fair name and fame. But then again, I said,
had she declared I was her husband, they would have seen that in
choosing me she had not chosen so ill but that they might excuse her,
for before Don Fernando had made his offer, they themselves could not
have desired, if their desires had been ruled by reason, a more
eligible husband for their daughter than I was; and she, before taking
the last fatal step of giving her hand, might easily have said that I
had already given her mine, for I should have come forward to support
any assertion of hers to that effect. In short, I came to the
conclusion that feeble love, little reflection, great ambition, and a
craving for rank, had made her forget the words with which she had
deceived me, encouraged and supported by my firm hopes and honourable
passion.

“Thus soliloquising and agitated, I journeyed onward for the remainder
of the night, and by daybreak I reached one of the passes of these
mountains, among which I wandered for three days more without taking
any path or road, until I came to some meadows lying on I know not
which side of the mountains, and there I inquired of some herdsmen in
what direction the most rugged part of the range lay. They told me that
it was in this quarter, and I at once directed my course hither,
intending to end my life here; but as I was making my way among these
crags, my mule dropped dead through fatigue and hunger, or, as I think
more likely, in order to have done with such a worthless burden as it
bore in me. I was left on foot, worn out, famishing, without anyone to
help me or any thought of seeking help: and so thus I lay stretched on
the ground, how long I know not, after which I rose up free from
hunger, and found beside me some goatherds, who no doubt were the
persons who had relieved me in my need, for they told me how they had
found me, and how I had been uttering ravings that showed plainly I had
lost my reason; and since then I am conscious that I am not always in
full possession of it, but at times so deranged and crazed that I do a
thousand mad things, tearing my clothes, crying aloud in these
solitudes, cursing my fate, and idly calling on the dear name of her
who is my enemy, and only seeking to end my life in lamentation; and
when I recover my senses I find myself so exhausted and weary that I
can scarcely move. Most commonly my dwelling is the hollow of a cork
tree large enough to shelter this miserable body; the herdsmen and
goatherds who frequent these mountains, moved by compassion, furnish me
with food, leaving it by the wayside or on the rocks, where they think
I may perhaps pass and find it; and so, even though I may be then out
of my senses, the wants of nature teach me what is required to sustain
me, and make me crave it and eager to take it. At other times, so they
tell me when they find me in a rational mood, I sally out upon the
road, and though they would gladly give it me, I snatch food by force
from the shepherds bringing it from the village to their huts. Thus do
pass the wretched life that remains to me, until it be Heaven’s will to
bring it to a close, or so to order my memory that I no longer
recollect the beauty and treachery of Luscinda, or the wrong done me by
Don Fernando; for if it will do this without depriving me of life, I
will turn my thoughts into some better channel; if not, I can only
implore it to have full mercy on my soul, for in myself I feel no power
or strength to release my body from this strait in which I have of my
own accord chosen to place it.

“Such, sirs, is the dismal story of my misfortune: say if it be one
that can be told with less emotion than you have seen in me; and do not
trouble yourselves with urging or pressing upon me what reason suggests
as likely to serve for my relief, for it will avail me as much as the
medicine prescribed by a wise physician avails the sick man who will
not take it. I have no wish for health without Luscinda; and since it
is her pleasure to be another’s, when she is or should be mine, let it
be mine to be a prey to misery when I might have enjoyed happiness. She
by her fickleness strove to make my ruin irretrievable; I will strive
to gratify her wishes by seeking destruction; and it will show
generations to come that I alone was deprived of that of which all
others in misfortune have a superabundance, for to them the
impossibility of being consoled is itself a consolation, while to me it
is the cause of greater sorrows and sufferings, for I think that even
in death there will not be an end of them.”

Here Cardenio brought to a close his long discourse and story, as full
of misfortune as it was of love; but just as the curate was going to
address some words of comfort to him, he was stopped by a voice that
reached his ear, saying in melancholy tones what will be told in the
Fourth Part of this narrative; for at this point the sage and sagacious
historian, Cid Hamete Benengeli, brought the Third to a conclusion.



c27e.jpg (65K)



CHAPTER XXVIII.
WHICH TREATS OF THE STRANGE AND DELIGHTFUL ADVENTURE THAT BEFELL THE
CURATE AND THE BARBER IN THE SAME SIERRA




c28a.jpg (159K)

Full Size




Happy and fortunate were the times when that most daring knight Don
Quixote of La Mancha was sent into the world; for by reason of his
having formed a resolution so honourable as that of seeking to revive
and restore to the world the long-lost and almost defunct order of
knight-errantry, we now enjoy in this age of ours, so poor in light
entertainment, not only the charm of his veracious history, but also of
the tales and episodes contained in it which are, in a measure, no less
pleasing, ingenious, and truthful, than the history itself; which,
resuming its thread, carded, spun, and wound, relates that just as the
curate was going to offer consolation to Cardenio, he was interrupted
by a voice that fell upon his ear saying in plaintive tones:

“O God! is it possible I have found a place that may serve as a secret
grave for the weary load of this body that I support so unwillingly? If
the solitude these mountains promise deceives me not, it is so; ah! woe
is me! how much more grateful to my mind will be the society of these
rocks and brakes that permit me to complain of my misfortune to Heaven,
than that of any human being, for there is none on earth to look to for
counsel in doubt, comfort in sorrow, or relief in distress!”

All this was heard distinctly by the curate and those with him, and as
it seemed to them to be uttered close by, as indeed it was, they got up
to look for the speaker, and before they had gone twenty paces they
discovered behind a rock, seated at the foot of an ash tree, a youth in
the dress of a peasant, whose face they were unable at the moment to
see as he was leaning forward, bathing his feet in the brook that
flowed past. They approached so silently that he did not perceive them,
being fully occupied in bathing his feet, which were so fair that they
looked like two pieces of shining crystal brought forth among the other
stones of the brook. The whiteness and beauty of these feet struck them
with surprise, for they did not seem to have been made to crush clods
or to follow the plough and the oxen as their owner’s dress suggested;
and so, finding they had not been noticed, the curate, who was in
front, made a sign to the other two to conceal themselves behind some
fragments of rock that lay there; which they did, observing closely
what the youth was about. He had on a loose double-skirted dark brown
jacket bound tight to his body with a white cloth; he wore besides
breeches and gaiters of brown cloth, and on his head a brown montera;
and he had the gaiters turned up as far as the middle of the leg, which
verily seemed to be of pure alabaster.



c28b.jpg (339K)

Full Size




As soon as he had done bathing his beautiful feet, he wiped them with a
towel he took from under the montera, on taking off which he raised his
face, and those who were watching him had an opportunity of seeing a
beauty so exquisite that Cardenio said to the curate in a whisper:

“As this is not Luscinda, it is no human creature but a divine being.”

The youth then took off the montera, and shaking his head from side to
side there broke loose and spread out a mass of hair that the beams of
the sun might have envied; by this they knew that what had seemed a
peasant was a lovely woman, nay the most beautiful the eyes of two of
them had ever beheld, or even Cardenio’s if they had not seen and known
Luscinda, for he afterwards declared that only the beauty of Luscinda
could compare with this. The long auburn tresses not only covered her
shoulders, but such was their length and abundance, concealed her all
round beneath their masses, so that except the feet nothing of her form
was visible. She now used her hands as a comb, and if her feet had
seemed like bits of crystal in the water, her hands looked like pieces
of driven snow among her locks; all which increased not only the
admiration of the three beholders, but their anxiety to learn who she
was. With this object they resolved to show themselves, and at the stir
they made in getting upon their feet the fair damsel raised her head,
and parting her hair from before her eyes with both hands, she looked
to see who had made the noise, and the instant she perceived them she
started to her feet, and without waiting to put on her shoes or gather
up her hair, hastily snatched up a bundle as though of clothes that she
had beside her, and, scared and alarmed, endeavoured to take flight;
but before she had gone six paces she fell to the ground, her delicate
feet being unable to bear the roughness of the stones; seeing which,
the three hastened towards her, and the curate addressing her first
said:

“Stay, señora, whoever you may be, for those whom you see here only
desire to be of service to you; you have no need to attempt a flight so
heedless, for neither can your feet bear it, nor we allow it.”

Taken by surprise and bewildered, she made no reply to these words.
They, however, came towards her, and the curate taking her hand went on
to say:

“What your dress would hide, señora, is made known to us by your hair;
a clear proof that it can be no trifling cause that has disguised your
beauty in a garb so unworthy of it, and sent it into solitudes like
these where we have had the good fortune to find you, if not to relieve
your distress, at least to offer you comfort; for no distress, so long
as life lasts, can be so oppressive or reach such a height as to make
the sufferer refuse to listen to comfort offered with good intention.
And so, señora, or señor, or whatever you prefer to be, dismiss the
fears that our appearance has caused you and make us acquainted with
your good or evil fortunes, for from all of us together, or from each
one of us, you will receive sympathy in your trouble.”

While the curate was speaking, the disguised damsel stood as if
spell-bound, looking at them without opening her lips or uttering a
word, just like a village rustic to whom something strange that he has
never seen before has been suddenly shown; but on the curate addressing
some further words to the same effect to her, sighing deeply she broke
silence and said:

“Since the solitude of these mountains has been unable to conceal me,
and the escape of my dishevelled tresses will not allow my tongue to
deal in falsehoods, it would be idle for me now to make any further
pretence of what, if you were to believe me, you would believe more out
of courtesy than for any other reason. This being so, I say I thank
you, sirs, for the offer you have made me, which places me under the
obligation of complying with the request you have made of me; though I
fear the account I shall give you of my misfortunes will excite in you
as much concern as compassion, for you will be unable to suggest
anything to remedy them or any consolation to alleviate them. However,
that my honour may not be left a matter of doubt in your minds, now
that you have discovered me to be a woman, and see that I am young,
alone, and in this dress, things that taken together or separately
would be enough to destroy any good name, I feel bound to tell what I
would willingly keep secret if I could.”

All this she who was now seen to be a lovely woman delivered without
any hesitation, with so much ease and in so sweet a voice that they
were not less charmed by her intelligence than by her beauty, and as
they again repeated their offers and entreaties to her to fulfil her
promise, she without further pressing, first modestly covering her feet
and gathering up her hair, seated herself on a stone with the three
placed around her, and, after an effort to restrain some tears that
came to her eyes, in a clear and steady voice began her story thus:

“In this Andalusia there is a town from which a duke takes a title
which makes him one of those that are called Grandees of Spain. This
nobleman has two sons, the elder heir to his dignity and apparently to
his good qualities; the younger heir to I know not what, unless it be
the treachery of Vellido and the falsehood of Ganelon. My parents are
this lord’s vassals, lowly in origin, but so wealthy that if birth had
conferred as much on them as fortune, they would have had nothing left
to desire, nor should I have had reason to fear trouble like that in
which I find myself now; for it may be that my ill fortune came of
theirs in not having been nobly born. It is true they are not so low
that they have any reason to be ashamed of their condition, but neither
are they so high as to remove from my mind the impression that my
mishap comes of their humble birth. They are, in short, peasants, plain
homely people, without any taint of disreputable blood, and, as the
saying is, old rusty Christians, but so rich that by their wealth and
free-handed way of life they are coming by degrees to be considered
gentlefolk by birth, and even by position; though the wealth and
nobility they thought most of was having me for their daughter; and as
they have no other child to make their heir, and are affectionate
parents, I was one of the most indulged daughters that ever parents
indulged.

“I was the mirror in which they beheld themselves, the staff of their
old age, and the object in which, with submission to Heaven, all their
wishes centred, and mine were in accordance with theirs, for I knew
their worth; and as I was mistress of their hearts, so was I also of
their possessions. Through me they engaged or dismissed their servants;
through my hands passed the accounts and returns of what was sown and
reaped; the oil-mills, the wine-presses, the count of the flocks and
herds, the beehives, all in short that a rich farmer like my father has
or can have, I had under my care, and I acted as steward and mistress
with an assiduity on my part and satisfaction on theirs that I cannot
well describe to you. The leisure hours left to me after I had given
the requisite orders to the head-shepherds, overseers, and other
labourers, I passed in such employments as are not only allowable but
necessary for young girls, those that the needle, embroidery cushion,
and spinning wheel usually afford, and if to refresh my mind I quitted
them for a while, I found recreation in reading some devotional book or
playing the harp, for experience taught me that music soothes the
troubled mind and relieves weariness of spirit. Such was the life I led
in my parents’ house and if I have depicted it thus minutely, it is not
out of ostentation, or to let you know that I am rich, but that you may
see how, without any fault of mine, I have fallen from the happy
condition I have described, to the misery I am in at present. The truth
is, that while I was leading this busy life, in a retirement that might
compare with that of a monastery, and unseen as I thought by any except
the servants of the house (for when I went to Mass it was so early in
the morning, and I was so closely attended by my mother and the women
of the household, and so thickly veiled and so shy, that my eyes
scarcely saw more ground than I trod on), in spite of all this, the
eyes of love, or idleness, more properly speaking, that the lynx’s
cannot rival, discovered me, with the help of the assiduity of Don
Fernando; for that is the name of the younger son of the duke I told
of.”

The moment the speaker mentioned the name of Don Fernando, Cardenio
changed colour and broke into a sweat, with such signs of emotion that
the curate and the barber, who observed it, feared that one of the mad
fits which they heard attacked him sometimes was coming upon him; but
Cardenio showed no further agitation and remained quiet, regarding the
peasant girl with fixed attention, for he began to suspect who she was.
She, however, without noticing the excitement of Cardenio, continuing
her story, went on to say:

“And they had hardly discovered me, when, as he owned afterwards, he
was smitten with a violent love for me, as the manner in which it
displayed itself plainly showed. But to shorten the long recital of my
woes, I will pass over in silence all the artifices employed by Don
Fernando for declaring his passion for me. He bribed all the household,
he gave and offered gifts and presents to my parents; every day was
like a holiday or a merry-making in our street; by night no one could
sleep for the music; the love letters that used to come to my hand, no
one knew how, were innumerable, full of tender pleadings and pledges,
containing more promises and oaths than there were letters in them; all
which not only did not soften me, but hardened my heart against him, as
if he had been my mortal enemy, and as if everything he did to make me
yield were done with the opposite intention. Not that the high-bred
bearing of Don Fernando was disagreeable to me, or that I found his
importunities wearisome; for it gave me a certain sort of satisfaction
to find myself so sought and prized by a gentleman of such distinction,
and I was not displeased at seeing my praises in his letters (for
however ugly we women may be, it seems to me it always pleases us to
hear ourselves called beautiful) but that my own sense of right was
opposed to all this, as well as the repeated advice of my parents, who
now very plainly perceived Don Fernando’s purpose, for he cared very
little if all the world knew it. They told me they trusted and confided
their honour and good name to my virtue and rectitude alone, and bade
me consider the disparity between Don Fernando and myself, from which I
might conclude that his intentions, whatever he might say to the
contrary, had for their aim his own pleasure rather than my advantage;
and if I were at all desirous of opposing an obstacle to his
unreasonable suit, they were ready, they said, to marry me at once to
anyone I preferred, either among the leading people of our own town, or
of any of those in the neighbourhood; for with their wealth and my good
name, a match might be looked for in any quarter. This offer, and their
sound advice strengthened my resolution, and I never gave Don Fernando
a word in reply that could hold out to him any hope of success, however
remote.



c28c.jpg (279K)

Full Size




“All this caution of mine, which he must have taken for coyness, had
apparently the effect of increasing his wanton appetite—for that is the
name I give to his passion for me; had it been what he declared it to
be, you would not know of it now, because there would have been no
occasion to tell you of it. At length he learned that my parents were
contemplating marriage for me in order to put an end to his hopes of
obtaining possession of me, or at least to secure additional protectors
to watch over me, and this intelligence or suspicion made him act as
you shall hear. One night, as I was in my chamber with no other
companion than a damsel who waited on me, with the doors carefully
locked lest my honour should be imperilled through any carelessness, I
know not nor can conceive how it happened, but, with all this seclusion
and these precautions, and in the solitude and silence of my
retirement, I found him standing before me, a vision that so astounded
me that it deprived my eyes of sight, and my tongue of speech. I had no
power to utter a cry, nor, I think, did he give me time to utter one,
as he immediately approached me, and taking me in his arms (for,
overwhelmed as I was, I was powerless, I say, to help myself), he began
to make such professions to me that I know not how falsehood could have
had the power of dressing them up to seem so like truth; and the
traitor contrived that his tears should vouch for his words, and his
sighs for his sincerity.

“I, a poor young creature alone, ill versed among my people in cases
such as this, began, I know not how, to think all these lying
protestations true, though without being moved by his sighs and tears
to anything more than pure compassion; and so, as the first feeling of
bewilderment passed away, and I began in some degree to recover myself,
I said to him with more courage than I thought I could have possessed,
‘If, as I am now in your arms, señor, I were in the claws of a fierce
lion, and my deliverance could be procured by doing or saying anything
to the prejudice of my honour, it would no more be in my power to do it
or say it, than it would be possible that what was should not have
been; so then, if you hold my body clasped in your arms, I hold my soul
secured by virtuous intentions, very different from yours, as you will
see if you attempt to carry them into effect by force. I am your
vassal, but I am not your slave; your nobility neither has nor should
have any right to dishonour or degrade my humble birth; and low-born
peasant as I am, I have my self-respect as much as you, a lord and
gentleman: with me your violence will be to no purpose, your wealth
will have no weight, your words will have no power to deceive me, nor
your sighs or tears to soften me: were I to see any of the things I
speak of in him whom my parents gave me as a husband, his will should
be mine, and mine should be bounded by his; and my honour being
preserved even though my inclinations were not would willingly yield
him what you, señor, would now obtain by force; and this I say lest you
should suppose that any but my lawful husband shall ever win anything
of me.’ ‘If that,’ said this disloyal gentleman, ‘be the only scruple
you feel, fairest Dorothea’ (for that is the name of this unhappy
being), ‘see here I give you my hand to be yours, and let Heaven, from
which nothing is hid, and this image of Our Lady you have here, be
witnesses of this pledge.’”



c28d.jpg (289K)

Full Size




When Cardenio heard her say she was called Dorothea, he showed fresh
agitation and felt convinced of the truth of his former suspicion, but
he was unwilling to interrupt the story, and wished to hear the end of
what he already all but knew, so he merely said:

“What! is Dorothea your name, señora? I have heard of another of the
same name who can perhaps match your misfortunes. But proceed;
by-and-by I may tell you something that will astonish you as much as it
will excite your compassion.”

Dorothea was struck by Cardenio’s words as well as by his strange and
miserable attire, and begged him if he knew anything concerning her to
tell it to her at once, for if fortune had left her any blessing it was
courage to bear whatever calamity might fall upon her, as she felt sure
that none could reach her capable of increasing in any degree what she
endured already.

“I would not let the occasion pass, señora,” replied Cardenio, “of
telling you what I think, if what I suspect were the truth, but so far
there has been no opportunity, nor is it of any importance to you to
know it.”

“Be it as it may,” replied Dorothea, “what happened in my story was
that Don Fernando, taking an image that stood in the chamber, placed it
as a witness of our betrothal, and with the most binding words and
extravagant oaths gave me his promise to become my husband; though
before he had made an end of pledging himself I bade him consider well
what he was doing, and think of the anger his father would feel at
seeing him married to a peasant girl and one of his vassals; I told him
not to let my beauty, such as it was, blind him, for that was not
enough to furnish an excuse for his transgression; and if in the love
he bore me he wished to do me any kindness, it would be to leave my lot
to follow its course at the level my condition required; for marriages
so unequal never brought happiness, nor did they continue long to
afford the enjoyment they began with.

“All this that I have now repeated I said to him, and much more which I
cannot recollect; but it had no effect in inducing him to forego his
purpose; he who has no intention of paying does not trouble himself
about difficulties when he is striking the bargain. At the same time I
argued the matter briefly in my own mind, saying to myself, ‘I shall
not be the first who has risen through marriage from a lowly to a lofty
station, nor will Don Fernando be the first whom beauty or, as is more
likely, a blind attachment, has led to mate himself below his rank.
Then, since I am introducing no new usage or practice, I may as well
avail myself of the honour that chance offers me, for even though his
inclination for me should not outlast the attainment of his wishes, I
shall be, after all, his wife before God. And if I strive to repel him
by scorn, I can see that, fair means failing, he is in a mood to use
force, and I shall be left dishonoured and without any means of proving
my innocence to those who cannot know how innocently I have come to be
in this position; for what arguments would persuade my parents that
this gentleman entered my chamber without my consent?’

“All these questions and answers passed through my mind in a moment;
but the oaths of Don Fernando, the witnesses he appealed to, the tears
he shed, and lastly the charms of his person and his high-bred grace,
which, accompanied by such signs of genuine love, might well have
conquered a heart even more free and coy than mine—these were the
things that more than all began to influence me and lead me unawares to
my ruin. I called my waiting-maid to me, that there might be a witness
on earth besides those in Heaven, and again Don Fernando renewed and
repeated his oaths, invoked as witnesses fresh saints in addition to
the former ones, called down upon himself a thousand curses hereafter
should he fail to keep his promise, shed more tears, redoubled his
sighs and pressed me closer in his arms, from which he had never
allowed me to escape; and so I was left by my maid, and ceased to be
one, and he became a traitor and a perjured man.

“The day which followed the night of my misfortune did not come so
quickly, I imagine, as Don Fernando wished, for when desire has
attained its object, the greatest pleasure is to fly from the scene of
pleasure. I say so because Don Fernando made all haste to leave me, and
by the adroitness of my maid, who was indeed the one who had admitted
him, gained the street before daybreak; but on taking leave of me he
told me, though not with as much earnestness and fervour as when he
came, that I might rest assured of his faith and of the sanctity and
sincerity of his oaths; and to confirm his words he drew a rich ring
off his finger and placed it upon mine. He then took his departure and
I was left, I know not whether sorrowful or happy; all I can say is, I
was left agitated and troubled in mind and almost bewildered by what
had taken place, and I had not the spirit, or else it did not occur to
me, to chide my maid for the treachery she had been guilty of in
concealing Don Fernando in my chamber; for as yet I was unable to make
up my mind whether what had befallen me was for good or evil. I told
Don Fernando at parting, that as I was now his, he might see me on
other nights in the same way, until it should be his pleasure to let
the matter become known; but, except the following night, he came no
more, nor for more than a month could I catch a glimpse of him in the
street or in church, while I wearied myself with watching for one;
although I knew he was in the town, and almost every day went out
hunting, a pastime he was very fond of. I remember well how sad and
dreary those days and hours were to me; I remember well how I began to
doubt as they went by, and even to lose confidence in the faith of Don
Fernando; and I remember, too, how my maid heard those words in reproof
of her audacity that she had not heard before, and how I was forced to
put a constraint on my tears and on the expression of my countenance,
not to give my parents cause to ask me why I was so melancholy, and
drive me to invent falsehoods in reply. But all this was suddenly
brought to an end, for the time came when all such considerations were
disregarded, and there was no further question of honour, when my
patience gave way and the secret of my heart became known abroad. The
reason was, that a few days later it was reported in the town that Don
Fernando had been married in a neighbouring city to a maiden of rare
beauty, the daughter of parents of distinguished position, though not
so rich that her portion would entitle her to look for so brilliant a
match; it was said, too, that her name was Luscinda, and that at the
betrothal some strange things had happened.”

Cardenio heard the name of Luscinda, but he only shrugged his
shoulders, bit his lips, bent his brows, and before long two streams of
tears escaped from his eyes. Dorothea, however, did not interrupt her
story, but went on in these words:

“This sad intelligence reached my ears, and, instead of being struck
with a chill, with such wrath and fury did my heart burn that I
scarcely restrained myself from rushing out into the streets, crying
aloud and proclaiming openly the perfidy and treachery of which I was
the victim; but this transport of rage was for the time checked by a
resolution I formed, to be carried out the same night, and that was to
assume this dress, which I got from a servant of my father’s, one of
the zagals, as they are called in farmhouses, to whom I confided the
whole of my misfortune, and whom I entreated to accompany me to the
city where I heard my enemy was. He, though he remonstrated with me for
my boldness, and condemned my resolution, when he saw me bent upon my
purpose, offered to bear me company, as he said, to the end of the
world. I at once packed up in a linen pillow-case a woman’s dress, and
some jewels and money to provide for emergencies, and in the silence of
the night, without letting my treacherous maid know, I sallied forth
from the house, accompanied by my servant and abundant anxieties, and
on foot set out for the city, but borne as it were on wings by my
eagerness to reach it, if not to prevent what I presumed to be already
done, at least to call upon Don Fernando to tell me with what
conscience he had done it. I reached my destination in two days and a
half, and on entering the city inquired for the house of Luscinda’s
parents. The first person I asked gave me more in reply than I sought
to know; he showed me the house, and told me all that had occurred at
the betrothal of the daughter of the family, an affair of such
notoriety in the city that it was the talk of every knot of idlers in
the street. He said that on the night of Don Fernando’s betrothal with
Luscinda, as soon as she had consented to be his bride by saying ‘Yes,’
she was taken with a sudden fainting fit, and that on the bridegroom
approaching to unlace the bosom of her dress to give her air, he found
a paper in her own handwriting, in which she said and declared that she
could not be Don Fernando’s bride, because she was already Cardenio’s,
who, according to the man’s account, was a gentleman of distinction of
the same city; and that if she had accepted Don Fernando, it was only
in obedience to her parents. In short, he said, the words of the paper
made it clear she meant to kill herself on the completion of the
betrothal, and gave her reasons for putting an end to herself all which
was confirmed, it was said, by a dagger they found somewhere in her
clothes. On seeing this, Don Fernando, persuaded that Luscinda had
befooled, slighted, and trifled with him, assailed her before she had
recovered from her swoon, and tried to stab her with the dagger that
had been found, and would have succeeded had not her parents and those
who were present prevented him. It was said, moreover, that Don
Fernando went away at once, and that Luscinda did not recover from her
prostration until the next day, when she told her parents how she was
really the bride of that Cardenio I have mentioned. I learned besides
that Cardenio, according to report, had been present at the betrothal;
and that upon seeing her betrothed contrary to his expectation, he had
quitted the city in despair, leaving behind him a letter declaring the
wrong Luscinda had done him, and his intention of going where no one
should ever see him again. All this was a matter of notoriety in the
city, and everyone spoke of it; especially when it became known that
Luscinda was missing from her father’s house and from the city, for she
was not to be found anywhere, to the distraction of her parents, who
knew not what steps to take to recover her. What I learned revived my
hopes, and I was better pleased not to have found Don Fernando than to
find him married, for it seemed to me that the door was not yet
entirely shut upon relief in my case, and I thought that perhaps Heaven
had put this impediment in the way of the second marriage, to lead him
to recognise his obligations under the former one, and reflect that as
a Christian he was bound to consider his soul above all human objects.
All this passed through my mind, and I strove to comfort myself without
comfort, indulging in faint and distant hopes of cherishing that life
that I now abhor.

“But while I was in the city, uncertain what to do, as I could not find
Don Fernando, I heard notice given by the public crier offering a great
reward to anyone who should find me, and giving the particulars of my
age and of the very dress I wore; and I heard it said that the lad who
came with me had taken me away from my father’s house; a thing that cut
me to the heart, showing how low my good name had fallen, since it was
not enough that I should lose it by my flight, but they must add with
whom I had fled, and that one so much beneath me and so unworthy of my
consideration. The instant I heard the notice I quitted the city with
my servant, who now began to show signs of wavering in his fidelity to
me, and the same night, for fear of discovery, we entered the most
thickly wooded part of these mountains. But, as is commonly said, one
evil calls up another and the end of one misfortune is apt to be the
beginning of one still greater, and so it proved in my case; for my
worthy servant, until then so faithful and trusty when he found me in
this lonely spot, moved more by his own villainy than by my beauty,
sought to take advantage of the opportunity which these solitudes
seemed to present him, and with little shame and less fear of God and
respect for me, began to make overtures to me; and finding that I
replied to the effrontery of his proposals with justly severe language,
he laid aside the entreaties which he had employed at first, and began
to use violence.



c28e.jpg (324K)

Full Size




“But just Heaven, that seldom fails to watch over and aid good
intentions, so aided mine that with my slight strength and with little
exertion I pushed him over a precipice, where I left him, whether dead
or alive I know not; and then, with greater speed than seemed possible
in my terror and fatigue, I made my way into the mountains, without any
other thought or purpose save that of hiding myself among them, and
escaping my father and those despatched in search of me by his orders.
It is now I know not how many months since with this object I came
here, where I met a herdsman who engaged me as his servant at a place
in the heart of this Sierra, and all this time I have been serving him
as herd, striving to keep always afield to hide these locks which have
now unexpectedly betrayed me. But all my care and pains were
unavailing, for my master made the discovery that I was not a man, and
harboured the same base designs as my servant; and as fortune does not
always supply a remedy in cases of difficulty, and I had no precipice
or ravine at hand down which to fling the master and cure his passion,
as I had in the servant’s case, I thought it a lesser evil to leave him
and again conceal myself among these crags, than make trial of my
strength and argument with him. So, as I say, once more I went into
hiding to seek for some place where I might with sighs and tears
implore Heaven to have pity on my misery, and grant me help and
strength to escape from it, or let me die among the solitudes, leaving
no trace of an unhappy being who, by no fault of hers, has furnished
matter for talk and scandal at home and abroad.”



c28f.jpg (42K)



CHAPTER XXIX.
WHICH TREATS OF THE DROLL DEVICE AND METHOD ADOPTED TO EXTRICATE OUR
LOVE-STRICKEN KNIGHT FROM THE SEVERE PENANCE HE HAD IMPOSED UPON
HIMSELF




c29a.jpg (99K)

Full Size




“Such, sirs, is the true story of my sad adventures; judge for
yourselves now whether the sighs and lamentations you heard, and the
tears that flowed from my eyes, had not sufficient cause even if I had
indulged in them more freely; and if you consider the nature of my
misfortune you will see that consolation is idle, as there is no
possible remedy for it. All I ask of you is, what you may easily and
reasonably do, to show me where I may pass my life unharassed by the
fear and dread of discovery by those who are in search of me; for
though the great love my parents bear me makes me feel sure of being
kindly received by them, so great is my feeling of shame at the mere
thought that I cannot present myself before them as they expect, that I
had rather banish myself from their sight for ever than look them in
the face with the reflection that they beheld mine stripped of that
purity they had a right to expect in me.”

With these words she became silent, and the colour that overspread her
face showed plainly the pain and shame she was suffering at heart. In
theirs the listeners felt as much pity as wonder at her misfortunes;
but as the curate was just about to offer her some consolation and
advice Cardenio forestalled him, saying, “So then, señora, you are the
fair Dorothea, the only daughter of the rich Clenardo?” Dorothea was
astonished at hearing her father’s name, and at the miserable
appearance of him who mentioned it, for it has been already said how
wretchedly clad Cardenio was; so she said to him:

“And who may you be, brother, who seem to know my father’s name so
well? For so far, if I remember rightly, I have not mentioned it in the
whole story of my misfortunes.”

“I am that unhappy being, señora,” replied Cardenio, “whom, as you have
said, Luscinda declared to be her husband; I am the unfortunate
Cardenio, whom the wrong-doing of him who has brought you to your
present condition has reduced to the state you see me in, bare, ragged,
bereft of all human comfort, and what is worse, of reason, for I only
possess it when Heaven is pleased for some short space to restore it to
me. I, Dorothea, am he who witnessed the wrong done by Don Fernando,
and waited to hear the ‘Yes’ uttered by which Luscinda owned herself
his betrothed: I am he who had not courage enough to see how her
fainting fit ended, or what came of the paper that was found in her
bosom, because my heart had not the fortitude to endure so many strokes
of ill-fortune at once; and so losing patience I quitted the house, and
leaving a letter with my host, which I entreated him to place in
Luscinda’s hands, I betook myself to these solitudes, resolved to end
here the life I hated as if it were my mortal enemy. But fate would not
rid me of it, contenting itself with robbing me of my reason, perhaps
to preserve me for the good fortune I have had in meeting you; for if
that which you have just told us be true, as I believe it to be, it may
be that Heaven has yet in store for both of us a happier termination to
our misfortunes than we look for; because seeing that Luscinda cannot
marry Don Fernando, being mine, as she has herself so openly declared,
and that Don Fernando cannot marry her as he is yours, we may
reasonably hope that Heaven will restore to us what is ours, as it is
still in existence and not yet alienated or destroyed. And as we have
this consolation springing from no very visionary hope or wild fancy, I
entreat you, señora, to form new resolutions in your better mind, as I
mean to do in mine, preparing yourself to look forward to happier
fortunes; for I swear to you by the faith of a gentleman and a
Christian not to desert you until I see you in possession of Don
Fernando, and if I cannot by words induce him to recognise his
obligation to you, in that case to avail myself of the right which my
rank as a gentleman gives me, and with just cause challenge him on
account of the injury he has done you, not regarding my own wrongs,
which I shall leave to Heaven to avenge, while I on earth devote myself
to yours.”

Cardenio’s words completed the astonishment of Dorothea, and not
knowing how to return thanks for such an offer, she attempted to kiss
his feet; but Cardenio would not permit it, and the licentiate replied
for both, commended the sound reasoning of Cardenio, and lastly,
begged, advised, and urged them to come with him to his village, where
they might furnish themselves with what they needed, and take measures
to discover Don Fernando, or restore Dorothea to her parents, or do
what seemed to them most advisable. Cardenio and Dorothea thanked him,
and accepted the kind offer he made them; and the barber, who had been
listening to all attentively and in silence, on his part some kindly
words also, and with no less good-will than the curate offered his
services in any way that might be of use to them. He also explained to
them in a few words the object that had brought them there, and the
strange nature of Don Quixote’s madness, and how they were waiting for
his squire, who had gone in search of him. Like the recollection of a
dream, the quarrel he had had with Don Quixote came back to Cardenio’s
memory, and he described it to the others; but he was unable to say
what the dispute was about.



c29b.jpg (351K)

Full Size




At this moment they heard a shout, and recognised it as coming from
Sancho Panza, who, not finding them where he had left them, was calling
aloud to them. They went to meet him, and in answer to their inquiries
about Don Quixote, he told them how he had found him stripped to his
shirt, lank, yellow, half dead with hunger, and sighing for his lady
Dulcinea; and although he had told him that she commanded him to quit
that place and come to El Toboso, where she was expecting him, he had
answered that he was determined not to appear in the presence of her
beauty until he had done deeds to make him worthy of her favour; and if
this went on, Sancho said, he ran the risk of not becoming an emperor
as in duty bound, or even an archbishop, which was the least he could
be; for which reason they ought to consider what was to be done to get
him away from there. The licentiate in reply told him not to be uneasy,
for they would fetch him away in spite of himself. He then told
Cardenio and Dorothea what they had proposed to do to cure Don Quixote,
or at any rate take him home; upon which Dorothea said that she could
play the distressed damsel better than the barber; especially as she
had there the dress in which to do it to the life, and that they might
trust to her acting the part in every particular requisite for carrying
out their scheme, for she had read a great many books of chivalry, and
knew exactly the style in which afflicted damsels begged boons of
knights-errant.

“In that case,” said the curate, “there is nothing more required than
to set about it at once, for beyond a doubt fortune is declaring itself
in our favour, since it has so unexpectedly begun to open a door for
your relief, and smoothed the way for us to our object.”

Dorothea then took out of her pillow-case a complete petticoat of some
rich stuff, and a green mantle of some other fine material, and a
necklace and other ornaments out of a little box, and with these in an
instant she so arrayed herself that she looked like a great and rich
lady. All this, and more, she said, she had taken from home in case of
need, but that until then she had had no occasion to make use of it.
They were all highly delighted with her grace, air, and beauty, and
declared Don Fernando to be a man of very little taste when he rejected
such charms. But the one who admired her most was Sancho Panza, for it
seemed to him (what indeed was true) that in all the days of his life
he had never seen such a lovely creature; and he asked the curate with
great eagerness who this beautiful lady was, and what she wanted in
these out-of-the-way quarters.

“This fair lady, brother Sancho,” replied the curate, “is no less a
personage than the heiress in the direct male line of the great kingdom
of Micomicon, who has come in search of your master to beg a boon of
him, which is that he redress a wrong or injury that a wicked giant has
done her; and from the fame as a good knight which your master has
acquired far and wide, this princess has come from Guinea to seek him.”

“A lucky seeking and a lucky finding!” said Sancho Panza at this;
“especially if my master has the good fortune to redress that injury,
and right that wrong, and kill that son of a bitch of a giant your
worship speaks of; as kill him he will if he meets him, unless, indeed,
he happens to be a phantom; for my master has no power at all against
phantoms. But one thing among others I would beg of you, señor
licentiate, which is, that, to prevent my master taking a fancy to be
an archbishop, for that is what I’m afraid of, your worship would
recommend him to marry this princess at once; for in this way he will
be disabled from taking archbishop’s orders, and will easily come into
his empire, and I to the end of my desires; I have been thinking over
the matter carefully, and by what I can make out I find it will not do
for me that my master should become an archbishop, because I am no good
for the Church, as I am married; and for me now, having as I have a
wife and children, to set about obtaining dispensations to enable me to
hold a place of profit under the Church, would be endless work; so
that, señor, it all turns on my master marrying this lady at once—for
as yet I do not know her grace, and so I cannot call her by her name.”

“She is called the Princess Micomicona,” said the curate; “for as her
kingdom is Micomicon, it is clear that must be her name.”

“There’s no doubt of that,” replied Sancho, “for I have known many to
take their name and title from the place where they were born and call
themselves Pedro of Alcalá, Juan of Úbeda, and Diego of Valladolid; and
it may be that over there in Guinea queens have the same way of taking
the names of their kingdoms.”

“So it may,” said the curate; “and as for your master’s marrying, I
will do all in my power towards it:” with which Sancho was as much
pleased as the curate was amazed at his simplicity and at seeing what a
hold the absurdities of his master had taken of his fancy, for he had
evidently persuaded himself that he was going to be an emperor.

By this time Dorothea had seated herself upon the curate’s mule, and
the barber had fitted the ox-tail beard to his face, and they now told
Sancho to conduct them to where Don Quixote was, warning him not to say
that he knew either the licentiate or the barber, as his master’s
becoming an emperor entirely depended on his not recognising them;
neither the curate nor Cardenio, however, thought fit to go with them;
Cardenio lest he should remind Don Quixote of the quarrel he had with
him, and the curate as there was no necessity for his presence just
yet, so they allowed the others to go on before them, while they
themselves followed slowly on foot. The curate did not forget to
instruct Dorothea how to act, but she said they might make their minds
easy, as everything would be done exactly as the books of chivalry
required and described.



c29c.jpg (286K)

Full Size




They had gone about three-quarters of a league when they discovered Don
Quixote in a wilderness of rocks, by this time clothed, but without his
armour; and as soon as Dorothea saw him and was told by Sancho that
that was Don Quixote, she whipped her palfrey, the well-bearded barber
following her, and on coming up to him her squire sprang from his mule
and came forward to receive her in his arms, and she dismounting with
great ease of manner advanced to kneel before the feet of Don Quixote;
and though he strove to raise her up, she without rising addressed him
in this fashion:

“From this spot I will not rise, valiant and doughty knight, until your
goodness and courtesy grant me a boon, which will redound to the honour
and renown of your person and render a service to the most disconsolate
and afflicted damsel the sun has seen; and if the might of your strong
arm corresponds to the repute of your immortal fame, you are bound to
aid the helpless being who, led by the savour of your renowned name,
hath come from far distant lands to seek your aid in her misfortunes.”

“I will not answer a word, beauteous lady,” replied Don Quixote, “nor
will I listen to anything further concerning you, until you rise from
the earth.”

“I will not rise, señor,” answered the afflicted damsel, “unless of
your courtesy the boon I ask is first granted me.”

“I grant and accord it,” said Don Quixote, “provided without detriment
or prejudice to my king, my country, or her who holds the key of my
heart and freedom, it may be complied with.”

“It will not be to the detriment or prejudice of any of them, my worthy
lord,” said the afflicted damsel; and here Sancho Panza drew close to
his master’s ear and said to him very softly, “Your worship may very
safely grant the boon she asks; it’s nothing at all; only to kill a big
giant; and she who asks it is the exalted Princess Micomicona, queen of
the great kingdom of Micomicon of Ethiopia.”

“Let her be who she may,” replied Don Quixote, “I will do what is my
bounden duty, and what my conscience bids me, in conformity with what I
have professed;” and turning to the damsel he said, “Let your great
beauty rise, for I grant the boon which you would ask of me.”

“Then what I ask,” said the damsel, “is that your magnanimous person
accompany me at once whither I will conduct you, and that you promise
not to engage in any other adventure or quest until you have avenged me
of a traitor who against all human and divine law, has usurped my
kingdom.”

“I repeat that I grant it,” replied Don Quixote; “and so, lady, you may
from this day forth lay aside the melancholy that distresses you, and
let your failing hopes gather new life and strength, for with the help
of God and of my arm you will soon see yourself restored to your
kingdom, and seated upon the throne of your ancient and mighty realm,
notwithstanding and despite of the felons who would gainsay it; and now
hands to the work, for in delay there is apt to be danger.”

The distressed damsel strove with much pertinacity to kiss his hands;
but Don Quixote, who was in all things a polished and courteous knight,
would by no means allow it, but made her rise and embraced her with
great courtesy and politeness, and ordered Sancho to look to
Rocinante’s girths, and to arm him without a moment’s delay. Sancho
took down the armour, which was hung up on a tree like a trophy, and
having seen to the girths armed his master in a trice, who as soon as
he found himself in his armour exclaimed:

“Let us be gone in the name of God to bring aid to this great lady.”

The barber was all this time on his knees at great pains to hide his
laughter and not let his beard fall, for had it fallen maybe their fine
scheme would have come to nothing; but now seeing the boon granted, and
the promptitude with which Don Quixote prepared to set out in
compliance with it, he rose and took his lady’s hand, and between them
they placed her upon the mule. Don Quixote then mounted Rocinante, and
the barber settled himself on his beast, Sancho being left to go on
foot, which made him feel anew the loss of his Dapple, finding the want
of him now. But he bore all with cheerfulness, being persuaded that his
master had now fairly started and was just on the point of becoming an
emperor; for he felt no doubt at all that he would marry this princess,
and be king of Micomicon at least. The only thing that troubled him was
the reflection that this kingdom was in the land of the blacks, and
that the people they would give him for vassals would be all black; but
for this he soon found a remedy in his fancy, and said he to himself,
“What is it to me if my vassals are blacks? What more have I to do than
make a cargo of them and carry them to Spain, where I can sell them and
get ready money for them, and with it buy some title or some office in
which to live at ease all the days of my life? Not unless you go to
sleep and haven’t the wit or skill to turn things to account and sell
three, six, or ten thousand vassals while you would be talking about
it! By God I will stir them up, big and little, or as best I can, and
let them be ever so black I’ll turn them into white or yellow. Come,
come, what a fool I am!” And so he jogged on, so occupied with his
thoughts and easy in his mind that he forgot all about the hardship of
travelling on foot.

Cardenio and the curate were watching all this from among some bushes,
not knowing how to join company with the others; but the curate, who
was very fertile in devices, soon hit upon a way of effecting their
purpose, and with a pair of scissors he had in a case he quickly cut
off Cardenio’s beard, and putting on him a grey jerkin of his own he
gave him a black cloak, leaving himself in his breeches and doublet,
while Cardenio’s appearance was so different from what it had been that
he would not have known himself had he seen himself in a mirror. Having
effected this, although the others had gone on ahead while they were
disguising themselves, they easily came out on the high road before
them, for the brambles and awkward places they encountered did not
allow those on horseback to go as fast as those on foot. They then
posted themselves on the level ground at the outlet of the Sierra, and
as soon as Don Quixote and his companions emerged from it the curate
began to examine him very deliberately, as though he were striving to
recognise him, and after having stared at him for some time he hastened
towards him with open arms exclaiming, “A happy meeting with the mirror
of chivalry, my worthy compatriot Don Quixote of La Mancha, the flower
and cream of high breeding, the protection and relief of the
distressed, the quintessence of knights-errant!” And so saying he
clasped in his arms the knee of Don Quixote’s left leg. He, astonished
at the stranger’s words and behaviour, looked at him attentively, and
at length recognised him, very much surprised to see him there, and
made great efforts to dismount. This, however, the curate would not
allow, on which Don Quixote said, “Permit me, señor licentiate, for it
is not fitting that I should be on horseback and so reverend a person
as your worship on foot.”

“On no account will I allow it,” said the curate; “your mightiness must
remain on horseback, for it is on horseback you achieve the greatest
deeds and adventures that have been beheld in our age; as for me, an
unworthy priest, it will serve me well enough to mount on the haunches
of one of the mules of these gentlefolk who accompany your worship, if
they have no objection, and I will fancy I am mounted on the steed
Pegasus, or on the zebra or charger that bore the famous Moor,
Muzaraque, who to this day lies enchanted in the great hill of Zulema,
a little distance from the great Complutum.”

“Nor even that will I consent to, señor licentiate,” answered Don
Quixote, “and I know it will be the good pleasure of my lady the
princess, out of love for me, to order her squire to give up the saddle
of his mule to your worship, and he can sit behind if the beast will
bear it.”

“It will, I am sure,” said the princess, “and I am sure, too, that I
need not order my squire, for he is too courteous and considerate to
allow a Churchman to go on foot when he might be mounted.”

“That he is,” said the barber, and at once alighting, he offered his
saddle to the curate, who accepted it without much entreaty; but
unfortunately as the barber was mounting behind, the mule, being as it
happened a hired one, which is the same thing as saying
ill-conditioned, lifted its hind hoofs and let fly a couple of kicks in
the air, which would have made Master Nicholas wish his expedition in
quest of Don Quixote at the devil had they caught him on the breast or
head. As it was, they so took him by surprise that he came to the
ground, giving so little heed to his beard that it fell off, and all he
could do when he found himself without it was to cover his face hastily
with both his hands and moan that his teeth were knocked out. Don
Quixote when he saw all that bundle of beard detached, without jaws or
blood, from the face of the fallen squire, exclaimed:

“By the living God, but this is a great miracle! it has knocked off and
plucked away the beard from his face as if it had been shaved off
designedly.”

The curate, seeing the danger of discovery that threatened his scheme,
at once pounced upon the beard and hastened with it to where Master
Nicholas lay, still uttering moans, and drawing his head to his breast
had it on in an instant, muttering over him some words which he said
were a certain special charm for sticking on beards, as they would see;
and as soon as he had it fixed he left him, and the squire appeared
well bearded and whole as before, whereat Don Quixote was beyond
measure astonished, and begged the curate to teach him that charm when
he had an opportunity, as he was persuaded its virtue must extend
beyond the sticking on of beards, for it was clear that where the beard
had been stripped off the flesh must have remained torn and lacerated,
and when it could heal all that it must be good for more than beards.

“And so it is,” said the curate, and he promised to teach it to him on
the first opportunity. They then agreed that for the present the curate
should mount, and that the three should ride by turns until they
reached the inn, which might be about six leagues from where they were.

Three then being mounted, that is to say, Don Quixote, the princess,
and the curate, and three on foot, Cardenio, the barber, and Sancho
Panza, Don Quixote said to the damsel:

“Let your highness, lady, lead on whithersoever is most pleasing to
you;” but before she could answer the licentiate said:



c29d.jpg (345K)

Full Size




“Towards what kingdom would your ladyship direct our course? Is it
perchance towards that of Micomicon? It must be, or else I know little
about kingdoms.”

She, being ready on all points, understood that she was to answer
“Yes,” so she said “Yes, señor, my way lies towards that kingdom.”

“In that case,” said the curate, “we must pass right through my
village, and there your worship will take the road to Cartagena, where
you will be able to embark, fortune favouring; and if the wind be fair
and the sea smooth and tranquil, in somewhat less than nine years you
may come in sight of the great lake Meona, I mean Meotides, which is
little more than a hundred days’ journey this side of your highness’s
kingdom.”



c29e.jpg (318K)

Full Size




“Your worship is mistaken, señor,” said she; “for it is not two years
since I set out from it, and though I never had good weather,
nevertheless I am here to behold what I so longed for, and that is my
lord Don Quixote of La Mancha, whose fame came to my ears as soon as I
set foot in Spain and impelled me to go in search of him, to commend
myself to his courtesy, and entrust the justice of my cause to the
might of his invincible arm.”

“Enough; no more praise,” said Don Quixote at this, “for I hate all
flattery; and though this may not be so, still language of the kind is
offensive to my chaste ears. I will only say, señora, that whether it
has might or not, that which it may or may not have shall be devoted to
your service even to death; and now, leaving this to its proper season,
I would ask the señor licentiate to tell me what it is that has brought
him into these parts, alone, unattended, and so lightly clad that I am
filled with amazement.”

“I will answer that briefly,” replied the curate; “you must know then,
Señor Don Quixote, that Master Nicholas, our friend and barber, and I
were going to Seville to receive some money that a relative of mine who
went to the Indies many years ago had sent me, and not such a small sum
but that it was over sixty thousand pieces of eight, full weight, which
is something; and passing by this place yesterday we were attacked by
four footpads, who stripped us even to our beards, and them they
stripped off so that the barber found it necessary to put on a false
one, and even this young man here”—pointing to Cardenio—“they
completely transformed. But the best of it is, the story goes in the
neighbourhood that those who attacked us belong to a number of galley
slaves who, they say, were set free almost on the very same spot by a
man of such valour that, in spite of the commissary and of the guards,
he released the whole of them; and beyond all doubt he must have been
out of his senses, or he must be as great a scoundrel as they, or some
man without heart or conscience to let the wolf loose among the sheep,
the fox among the hens, the fly among the honey. He has defrauded
justice, and opposed his king and lawful master, for he opposed his
just commands; he has, I say, robbed the galleys of their feet, stirred
up the Holy Brotherhood which for many years past has been quiet, and,
lastly, has done a deed by which his soul may be lost without any gain
to his body.” Sancho had told the curate and the barber of the
adventure of the galley slaves, which, so much to his glory, his master
had achieved, and hence the curate in alluding to it made the most of
it to see what would be said or done by Don Quixote; who changed colour
at every word, not daring to say that it was he who had been the
liberator of those worthy people. “These, then,” said the curate, “were
they who robbed us; and God in his mercy pardon him who would not let
them go to the punishment they deserved.”



c29f.jpg (53K)

Full Size



CHAPTER XXX.
WHICH TREATS OF ADDRESS DISPLAYED BY THE FAIR DOROTHEA, WITH OTHER
MATTERS PLEASANT AND AMUSING




c30a.jpg (147K)

Full Size




The curate had hardly ceased speaking, when Sancho said, “In faith,
then, señor licentiate, he who did that deed was my master; and it was
not for want of my telling him beforehand and warning him to mind what
he was about, and that it was a sin to set them at liberty, as they
were all on the march there because they were special scoundrels.”

“Blockhead!” said Don Quixote at this, “it is no business or concern of
knights-errant to inquire whether any persons in affliction, in chains,
or oppressed that they may meet on the high roads go that way and
suffer as they do because of their faults or because of their
misfortunes. It only concerns them to aid them as persons in need of
help, having regard to their sufferings and not to their rascalities. I
encountered a chaplet or string of miserable and unfortunate people,
and did for them what my sense of duty demands of me, and as for the
rest be that as it may; and whoever takes objection to it, saving the
sacred dignity of the señor licentiate and his honoured person, I say
he knows little about chivalry and lies like a whoreson villain, and
this I will give him to know to the fullest extent with my sword;” and
so saying he settled himself in his stirrups and pressed down his
morion; for the barber’s basin, which according to him was Mambrino’s
helmet, he carried hanging at the saddle-bow until he could repair the
damage done to it by the galley slaves.

Dorothea, who was shrewd and sprightly, and by this time thoroughly
understood Don Quixote’s crazy turn, and that all except Sancho Panza
were making game of him, not to be behind the rest said to him, on
observing his irritation, “Sir Knight, remember the boon you have
promised me, and that in accordance with it you must not engage in any
other adventure, be it ever so pressing; calm yourself, for if the
licentiate had known that the galley slaves had been set free by that
unconquered arm he would have stopped his mouth thrice over, or even
bitten his tongue three times before he would have said a word that
tended towards disrespect of your worship.”

“That I swear heartily,” said the curate, “and I would have even
plucked off a moustache.”

“I will hold my peace, señora,” said Don Quixote, “and I will curb the
natural anger that had arisen in my breast, and will proceed in peace
and quietness until I have fulfilled my promise; but in return for this
consideration I entreat you to tell me, if you have no objection to do
so, what is the nature of your trouble, and how many, who, and what are
the persons of whom I am to require due satisfaction, and on whom I am
to take vengeance on your behalf?”

“That I will do with all my heart,” replied Dorothea, “if it will not
be wearisome to you to hear of miseries and misfortunes.”

“It will not be wearisome, señora,” said Don Quixote; to which Dorothea
replied, “Well, if that be so, give me your attention.” As soon as she
said this, Cardenio and the barber drew close to her side, eager to
hear what sort of story the quick-witted Dorothea would invent for
herself; and Sancho did the same, for he was as much taken in by her as
his master; and she having settled herself comfortably in the saddle,
and with the help of coughing and other preliminaries taken time to
think, began with great sprightliness of manner in this fashion.

“First of all, I would have you know, sirs, that my name is—” and here
she stopped for a moment, for she forgot the name the curate had given
her; but he came to her relief, seeing what her difficulty was, and
said, “It is no wonder, señora, that your highness should be confused
and embarrassed in telling the tale of your misfortunes; for such
afflictions often have the effect of depriving the sufferers of memory,
so that they do not even remember their own names, as is the case now
with your ladyship, who has forgotten that she is called the Princess
Micomicona, lawful heiress of the great kingdom of Micomicon; and with
this cue your highness may now recall to your sorrowful recollection
all you may wish to tell us.”

“That is the truth,” said the damsel; “but I think from this on I shall
have no need of any prompting, and I shall bring my true story safe
into port, and here it is. The king my father, who was called Tinacrio
the Sapient, was very learned in what they call magic arts, and became
aware by his craft that my mother, who was called Queen Jaramilla, was
to die before he did, and that soon after he too was to depart this
life, and I was to be left an orphan without father or mother. But all
this, he declared, did not so much grieve or distress him as his
certain knowledge that a prodigious giant, the lord of a great island
close to our kingdom, Pandafilando of the Scowl by name—for it is
averred that, though his eyes are properly placed and straight, he
always looks askew as if he squinted, and this he does out of
malignity, to strike fear and terror into those he looks at—that he
knew, I say, that this giant on becoming aware of my orphan condition
would overrun my kingdom with a mighty force and strip me of all, not
leaving me even a small village to shelter me; but that I could avoid
all this ruin and misfortune if I were willing to marry him; however,
as far as he could see, he never expected that I would consent to a
marriage so unequal; and he said no more than the truth in this, for it
has never entered my mind to marry that giant, or any other, let him be
ever so great or enormous. My father said, too, that when he was dead,
and I saw Pandafilando about to invade my kingdom, I was not to wait
and attempt to defend myself, for that would be destructive to me, but
that I should leave the kingdom entirely open to him if I wished to
avoid the death and total destruction of my good and loyal vassals, for
there would be no possibility of defending myself against the giant’s
devilish power; and that I should at once with some of my followers set
out for Spain, where I should obtain relief in my distress on finding a
certain knight-errant whose fame by that time would extend over the
whole kingdom, and who would be called, if I remember rightly, Don
Azote or Don Gigote.”

“‘Don Quixote,’ he must have said, señora,” observed Sancho at this,
“otherwise called the Knight of the Rueful Countenance.”

“That is it,” said Dorothea; “he said, moreover, that he would be tall
of stature and lank featured; and that on his right side under the left
shoulder, or thereabouts, he would have a grey mole with hairs like
bristles.”

On hearing this, Don Quixote said to his squire, “Here, Sancho my son,
bear a hand and help me to strip, for I want to see if I am the knight
that sage king foretold.”

“What does your worship want to strip for?” said Dorothea.

“To see if I have that mole your father spoke of,” answered Don
Quixote.

“There is no occasion to strip,” said Sancho; “for I know your worship
has just such a mole on the middle of your backbone, which is the mark
of a strong man.”

“That is enough,” said Dorothea, “for with friends we must not look too
closely into trifles; and whether it be on the shoulder or on the
backbone matters little; it is enough if there is a mole, be it where
it may, for it is all the same flesh; no doubt my good father hit the
truth in every particular, and I have made a lucky hit in commending
myself to Don Quixote; for he is the one my father spoke of, as the
features of his countenance correspond with those assigned to this
knight by that wide fame he has acquired not only in Spain but in all
La Mancha; for I had scarcely landed at Osuna when I heard such
accounts of his achievements, that at once my heart told me he was the
very one I had come in search of.”

“But how did you land at Osuna, señora,” asked Don Quixote, “when it is
not a seaport?”

But before Dorothea could reply the curate anticipated her, saying,
“The princess meant to say that after she had landed at Malaga the
first place where she heard of your worship was Osuna.”

“That is what I meant to say,” said Dorothea.

“And that would be only natural,” said the curate. “Will your majesty
please proceed?”

“There is no more to add,” said Dorothea, “save that in finding Don
Quixote I have had such good fortune, that I already reckon and regard
myself queen and mistress of my entire dominions, since of his courtesy
and magnanimity he has granted me the boon of accompanying me
whithersoever I may conduct him, which will be only to bring him face
to face with Pandafilando of the Scowl, that he may slay him and
restore to me what has been unjustly usurped by him: for all this must
come to pass satisfactorily since my good father Tinacrio the Sapient
foretold it, who likewise left it declared in writing in Chaldee or
Greek characters (for I cannot read them), that if this predicted
knight, after having cut the giant’s throat, should be disposed to
marry me I was to offer myself at once without demur as his lawful
wife, and yield him possession of my kingdom together with my person.”

“What thinkest thou now, friend Sancho?” said Don Quixote at this.
“Hearest thou that? Did I not tell thee so? See how we have already got
a kingdom to govern and a queen to marry!”

“On my oath it is so,” said Sancho; “and foul fortune to him who won’t
marry after slitting Señor Pandahilado’s windpipe! And then, how
illfavoured the queen is! I wish the fleas in my bed were that sort!”

And so saying he cut a couple of capers in the air with every sign of
extreme satisfaction, and then ran to seize the bridle of Dorothea’s
mule, and checking it fell on his knees before her, begging her to give
him her hand to kiss in token of his acknowledgment of her as his queen
and mistress. Which of the bystanders could have helped laughing to see
the madness of the master and the simplicity of the servant? Dorothea
therefore gave her hand, and promised to make him a great lord in her
kingdom, when Heaven should be so good as to permit her to recover and
enjoy it, for which Sancho returned thanks in words that set them all
laughing again.

“This, sirs,” continued Dorothea, “is my story; it only remains to tell
you that of all the attendants I took with me from my kingdom I have
none left except this well-bearded squire, for all were drowned in a
great tempest we encountered when in sight of port; and he and I came
to land on a couple of planks as if by a miracle; and indeed the whole
course of my life is a miracle and a mystery as you may have observed;
and if I have been over minute in any respect or not as precise as I
ought, let it be accounted for by what the licentiate said at the
beginning of my tale, that constant and excessive troubles deprive the
sufferers of their memory.”

“They shall not deprive me of mine, exalted and worthy princess,” said
Don Quixote, “however great and unexampled those which I shall endure
in your service may be; and here I confirm anew the boon I have
promised you, and I swear to go with you to the end of the world until
I find myself in the presence of your fierce enemy, whose haughty head
I trust by the aid of my arm to cut off with the edge of this—I will
not say good sword, thanks to Gines de Pasamonte who carried away
mine”—(this he said between his teeth, and then continued), “and when
it has been cut off and you have been put in peaceful possession of
your realm it shall be left to your own decision to dispose of your
person as may be most pleasing to you; for so long as my memory is
occupied, my will enslaved, and my understanding enthralled by her—I
say no more—it is impossible for me for a moment to contemplate
marriage, even with a Phœnix.”

The last words of his master about not wanting to marry were so
disagreeable to Sancho that raising his voice he exclaimed with great
irritation:

“By my oath, Señor Don Quixote, you are not in your right senses; for
how can your worship possibly object to marrying such an exalted
princess as this? Do you think Fortune will offer you behind every
stone such a piece of luck as is offered you now? Is my lady Dulcinea
fairer, perchance? Not she; nor half as fair; and I will even go so far
as to say she does not come up to the shoe of this one here. A poor
chance I have of getting that county I am waiting for if your worship
goes looking for dainties in the bottom of the sea. In the devil’s
name, marry, marry, and take this kingdom that comes to hand without
any trouble, and when you are king make me a marquis or governor of a
province, and for the rest let the devil take it all.”

Don Quixote, when he heard such blasphemies uttered against his lady
Dulcinea, could not endure it, and lifting his pike, without saying
anything to Sancho or uttering a word, he gave him two such thwacks
that he brought him to the ground; and had it not been that Dorothea
cried out to him to spare him he would have no doubt taken his life on
the spot.

“Do you think,” he said to him after a pause, “you scurvy clown, that
you are to be always interfering with me, and that you are to be always
offending and I always pardoning? Don’t fancy it, impious scoundrel,
for that beyond a doubt thou art, since thou hast set thy tongue going
against the peerless Dulcinea. Know you not, lout, vagabond, beggar,
that were it not for the might that she infuses into my arm I should
not have strength enough to kill a flea? Say, scoffer with a viper’s
tongue, what think you has won this kingdom and cut off this giant’s
head and made you a marquis (for all this I count as already
accomplished and decided), but the might of Dulcinea, employing my arm
as the instrument of her achievements? She fights in me and conquers in
me, and I live and breathe in her, and owe my life and being to her. O
whoreson scoundrel, how ungrateful you are, you see yourself raised
from the dust of the earth to be a titled lord, and the return you make
for so great a benefit is to speak evil of her who has conferred it
upon you!”

Sancho was not so stunned but that he heard all his master said, and
rising with some degree of nimbleness he ran to place himself behind
Dorothea’s palfrey, and from that position he said to his master:

“Tell me, señor; if your worship is resolved not to marry this great
princess, it is plain the kingdom will not be yours; and not being so,
how can you bestow favours upon me? That is what I complain of. Let
your worship at any rate marry this queen, now that we have got her
here as if showered down from heaven, and afterwards you may go back to
my lady Dulcinea; for there must have been kings in the world who kept
mistresses. As to beauty, I have nothing to do with it; and if the
truth is to be told, I like them both; though I have never seen the
lady Dulcinea.”

“How! never seen her, blasphemous traitor!” exclaimed Don Quixote;
“hast thou not just now brought me a message from her?”

“I mean,” said Sancho, “that I did not see her so much at my leisure
that I could take particular notice of her beauty, or of her charms
piecemeal; but taken in the lump I like her.”

“Now I forgive thee,” said Don Quixote; “and do thou forgive me the
injury I have done thee; for our first impulses are not in our
control.”

“That I see,” replied Sancho, “and with me the wish to speak is always
the first impulse, and I cannot help saying, once at any rate, what I
have on the tip of my tongue.”

“For all that, Sancho,” said Don Quixote, “take heed of what thou
sayest, for the pitcher goes so often to the well—I need say no more to
thee.”

“Well, well,” said Sancho, “God is in heaven, and sees all tricks, and
will judge who does most harm, I in not speaking right, or your worship
in not doing it.”

“That is enough,” said Dorothea; “run, Sancho, and kiss your lord’s
hand and beg his pardon, and henceforward be more circumspect with your
praise and abuse; and say nothing in disparagement of that lady Toboso,
of whom I know nothing save that I am her servant; and put your trust
in God, for you will not fail to obtain some dignity so as to live like
a prince.”

Sancho advanced hanging his head and begged his master’s hand, which
Don Quixote with dignity presented to him, giving him his blessing as
soon as he had kissed it; he then bade him go on ahead a little, as he
had questions to ask him and matters of great importance to discuss
with him. Sancho obeyed, and when the two had gone some distance in
advance Don Quixote said to him, “Since thy return I have had no
opportunity or time to ask thee many particulars touching thy mission
and the answer thou hast brought back, and now that chance has granted
us the time and opportunity, deny me not the happiness thou canst give
me by such good news.”

“Let your worship ask what you will,” answered Sancho, “for I shall
find a way out of all as I found a way in; but I implore you, señor,
not to be so revengeful in future.”

“Why dost thou say that, Sancho?” said Don Quixote.

“I say it,” he returned, “because those blows just now were more
because of the quarrel the devil stirred up between us both the other
night, than for what I said against my lady Dulcinea, whom I love and
reverence as I would a relic—though there is nothing of that about
her—merely as something belonging to your worship.”

“Say no more on that subject for thy life, Sancho,” said Don Quixote,
“for it is displeasing to me; I have already pardoned thee for that,
and thou knowest the common saying, ‘for a fresh sin a fresh penance.’”

While this was going on they saw coming along the road they were
following a man mounted on an ass, who when he came close seemed to be
a gipsy; but Sancho Panza, whose eyes and heart were there wherever he
saw asses, no sooner beheld the man than he knew him to be Gines de
Pasamonte; and by the thread of the gipsy he got at the ball, his ass,
for it was, in fact, Dapple that carried Pasamonte, who to escape
recognition and to sell the ass had disguised himself as a gipsy, being
able to speak the gipsy language, and many more, as well as if they
were his own. Sancho saw him and recognised him, and the instant he did
so he shouted to him, “Ginesillo, you thief, give up my treasure,
release my life, embarrass thyself not with my repose, quit my ass,
leave my delight, be off, rip, get thee gone, thief, and give up what
is not thine.”

There was no necessity for so many words or objurgations, for at the
first one Gines jumped down, and at a like racing speed made off and
got clear of them all. Sancho hastened to his Dapple, and embracing him
he said, “How hast thou fared, my blessing, Dapple of my eyes, my
comrade?” all the while kissing him and caressing him as if he were a
human being. The ass held his peace, and let himself be kissed and
caressed by Sancho without answering a single word. They all came up
and congratulated him on having found Dapple, Don Quixote especially,
who told him that notwithstanding this he would not cancel the order
for the three ass-colts, for which Sancho thanked him.

While the two had been going along conversing in this fashion, the
curate observed to Dorothea that she had shown great cleverness, as
well in the story itself as in its conciseness, and the resemblance it
bore to those of the books of chivalry. She said that she had many
times amused herself reading them; but that she did not know the
situation of the provinces or seaports, and so she had said at
haphazard that she had landed at Osuna.

“So I saw,” said the curate, “and for that reason I made haste to say
what I did, by which it was all set right. But is it not a strange
thing to see how readily this unhappy gentleman believes all these
figments and lies, simply because they are in the style and manner of
the absurdities of his books?”

“So it is,” said Cardenio; “and so uncommon and unexampled, that were
one to attempt to invent and concoct it in fiction, I doubt if there be
any wit keen enough to imagine it.”

“But another strange thing about it,” said the curate, “is that, apart
from the silly things which this worthy gentleman says in connection
with his craze, when other subjects are dealt with, he can discuss them
in a perfectly rational manner, showing that his mind is quite clear
and composed; so that, provided his chivalry is not touched upon, no
one would take him to be anything but a man of thoroughly sound
understanding.”

While they were holding this conversation Don Quixote continued his
with Sancho, saying:

“Friend Panza, let us forgive and forget as to our quarrels, and tell
me now, dismissing anger and irritation, where, how, and when didst
thou find Dulcinea? What was she doing? What didst thou say to her?
What did she answer? How did she look when she was reading my letter?
Who copied it out for thee? and everything in the matter that seems to
thee worth knowing, asking, and learning; neither adding nor falsifying
to give me pleasure, nor yet curtailing lest you should deprive me of
it.”

“Señor,” replied Sancho, “if the truth is to be told, nobody copied out
the letter for me, for I carried no letter at all.”

“It is as thou sayest,” said Don Quixote, “for the notebook in which I
wrote it I found in my own possession two days after thy departure,
which gave me very great vexation, as I knew not what thou wouldst do
on finding thyself without any letter; and I made sure thou wouldst
return from the place where thou didst first miss it.”

“So I should have done,” said Sancho, “if I had not got it by heart
when your worship read it to me, so that I repeated it to a sacristan,
who copied it out for me from hearing it, so exactly that he said in
all the days of his life, though he had read many a letter of
excommunication, he had never seen or read so pretty a letter as that.”

“And hast thou got it still in thy memory, Sancho?” said Don Quixote.

“No, señor,” replied Sancho, “for as soon as I had repeated it, seeing
there was no further use for it, I set about forgetting it; and if I
recollect any of it, it is that about ‘Scrubbing,’ I mean to say
‘Sovereign Lady,’ and the end ‘Yours till death, the Knight of the
Rueful Countenance;’ and between these two I put into it more than
three hundred ‘my souls’ and ‘my life’s’ and ‘my eyes.”



c30e.jpg (13K)



CHAPTER XXXI.
OF THE DELECTABLE DISCUSSION BETWEEN DON QUIXOTE AND SANCHO PANZA, HIS
SQUIRE, TOGETHER WITH OTHER INCIDENTS




c31a.jpg (151K)

Full Size




“All that is not unsatisfactory to me,” said Don Quixote. “Go on; thou
didst reach her; and what was that queen of beauty doing? Surely thou
didst find her stringing pearls, or embroidering some device in gold
thread for this her enslaved knight.”

“I did not,” said Sancho, “but I found her winnowing two bushels of
wheat in the yard of her house.”

“Then depend upon it,” said Don Quixote, “the grains of that wheat were
pearls when touched by her hands; and didst thou look, friend? was it
white wheat or brown?”

“It was neither, but red,” said Sancho.

“Then I promise thee,” said Don Quixote, “that, winnowed by her hands,
beyond a doubt the bread it made was of the whitest; but go on; when
thou gavest her my letter, did she kiss it? Did she place it on her
head? Did she perform any ceremony befitting it, or what did she do?”

“When I went to give it to her,” replied Sancho, “she was hard at it
swaying from side to side with a lot of wheat she had in the sieve, and
she said to me, ‘Lay the letter, friend, on the top of that sack, for I
cannot read it until I have done sifting all this.”

“Discreet lady!” said Don Quixote; “that was in order to read it at her
leisure and enjoy it; proceed, Sancho; while she was engaged in her
occupation what converse did she hold with thee? What did she ask about
me, and what answer didst thou give? Make haste; tell me all, and let
not an atom be left behind in the ink-bottle.”

“She asked me nothing,” said Sancho; “but I told her how your worship
was left doing penance in her service, naked from the waist up, in
among these mountains like a savage, sleeping on the ground, not eating
bread off a tablecloth nor combing your beard, weeping and cursing your
fortune.”

“In saying I cursed my fortune thou saidst wrong,” said Don Quixote;
“for rather do I bless it and shall bless it all the days of my life
for having made me worthy of aspiring to love so lofty a lady as
Dulcinea del Toboso.”

“And so lofty she is,” said Sancho, “that she overtops me by more than
a hand’s-breadth.”

“What! Sancho,” said Don Quixote, “didst thou measure with her?”

“I measured in this way,” said Sancho; “going to help her to put a sack
of wheat on the back of an ass, we came so close together that I could
see she stood more than a good palm over me.”

“Well!” said Don Quixote, “and doth she not of a truth accompany and
adorn this greatness with a thousand million charms of mind! But one
thing thou wilt not deny, Sancho; when thou camest close to her didst
thou not perceive a Sabæan odour, an aromatic fragrance, a, I know not
what, delicious, that I cannot find a name for; I mean a redolence, an
exhalation, as if thou wert in the shop of some dainty glover?”

“All I can say is,” said Sancho, “that I did perceive a little odour,
something goaty; it must have been that she was all in a sweat with
hard work.”

“It could not be that,” said Don Quixote, “but thou must have been
suffering from cold in the head, or must have smelt thyself; for I know
well what would be the scent of that rose among thorns, that lily of
the field, that dissolved amber.”

“Maybe so,” replied Sancho; “there often comes from myself that same
odour which then seemed to me to come from her grace the lady Dulcinea;
but that’s no wonder, for one devil is like another.”

“Well then,” continued Don Quixote, “now she has done sifting the corn
and sent it to the mill; what did she do when she read the letter?”

“As for the letter,” said Sancho, “she did not read it, for she said
she could neither read nor write; instead of that she tore it up into
small pieces, saying that she did not want to let anyone read it lest
her secrets should become known in the village, and that what I had
told her by word of mouth about the love your worship bore her, and the
extraordinary penance you were doing for her sake, was enough; and, to
make an end of it, she told me to tell your worship that she kissed
your hands, and that she had a greater desire to see you than to write
to you; and that therefore she entreated and commanded you, on sight of
this present, to come out of these thickets, and to have done with
carrying on absurdities, and to set out at once for El Toboso, unless
something else of greater importance should happen, for she had a great
desire to see your worship. She laughed greatly when I told her how
your worship was called The Knight of the Rueful Countenance; I asked
her if that Biscayan the other day had been there; and she told me he
had, and that he was an honest fellow; I asked her too about the galley
slaves, but she said she had not seen any as yet.”

“So far all goes well,” said Don Quixote; “but tell me what jewel was
it that she gave thee on taking thy leave, in return for thy tidings of
me? For it is a usual and ancient custom with knights and ladies errant
to give the squires, damsels, or dwarfs who bring tidings of their
ladies to the knights, or of their knights to the ladies, some rich
jewel as a guerdon for good news, and acknowledgment of the message.”

“That is very likely,” said Sancho, “and a good custom it was, to my
mind; but that must have been in days gone by, for now it would seem to
be the custom only to give a piece of bread and cheese; because that
was what my lady Dulcinea gave me over the top of the yard-wall when I
took leave of her; and more by token it was sheep’s-milk cheese.”

“She is generous in the extreme,” said Don Quixote, “and if she did not
give thee a jewel of gold, no doubt it must have been because she had
not one to hand there to give thee; but sleeves are good after Easter;
I shall see her and all shall be made right. But knowest thou what
amazes me, Sancho? It seems to me thou must have gone and come through
the air, for thou hast taken but little more than three days to go to
El Toboso and return, though it is more than thirty leagues from here
to there. From which I am inclined to think that the sage magician who
is my friend, and watches over my interests (for of necessity there is
and must be one, or else I should not be a right knight-errant), that
this same, I say, must have helped thee to travel without thy
knowledge; for some of these sages will catch up a knight-errant
sleeping in his bed, and without his knowing how or in what way it
happened, he wakes up the next day more than a thousand leagues away
from the place where he went to sleep. And if it were not for this,
knights-errant would not be able to give aid to one another in peril,
as they do at every turn. For a knight, maybe, is fighting in the
mountains of Armenia with some dragon, or fierce serpent, or another
knight, and gets the worst of the battle, and is at the point of death;
but when he least looks for it, there appears over against him on a
cloud, or chariot of fire, another knight, a friend of his, who just
before had been in England, and who takes his part, and delivers him
from death; and at night he finds himself in his own quarters supping
very much to his satisfaction; and yet from one place to the other will
have been two or three thousand leagues. And all this is done by the
craft and skill of the sage enchanters who take care of those valiant
knights; so that, friend Sancho, I find no difficulty in believing that
thou mayest have gone from this place to El Toboso and returned in such
a short time, since, as I have said, some friendly sage must have
carried thee through the air without thee perceiving it.”

“That must have been it,” said Sancho, “for indeed Rocinante went like
a gipsy’s ass with quicksilver in his ears.”

“Quicksilver!” said Don Quixote, “aye and what is more, a legion of
devils, folk that can travel and make others travel without being
weary, exactly as the whim seizes them. But putting this aside, what
thinkest thou I ought to do about my lady’s command to go and see her?
For though I feel that I am bound to obey her mandate, I feel too that
I am debarred by the boon I have accorded to the princess that
accompanies us, and the law of chivalry compels me to have regard for
my word in preference to my inclination; on the one hand the desire to
see my lady pursues and harasses me, on the other my solemn promise and
the glory I shall win in this enterprise urge and call me; but what I
think I shall do is to travel with all speed and reach quickly the
place where this giant is, and on my arrival I shall cut off his head,
and establish the princess peacefully in her realm, and forthwith I
shall return to behold the light that lightens my senses, to whom I
shall make such excuses that she will be led to approve of my delay,
for she will see that it entirely tends to increase her glory and fame;
for all that I have won, am winning, or shall win by arms in this life,
comes to me of the favour she extends to me, and because I am hers.”

“Ah! what a sad state your worship’s brains are in!” said Sancho. “Tell
me, señor, do you mean to travel all that way for nothing, and to let
slip and lose so rich and great a match as this where they give as a
portion a kingdom that in sober truth I have heard say is more than
twenty thousand leagues round about, and abounds with all things
necessary to support human life, and is bigger than Portugal and
Castile put together? Peace, for the love of God! Blush for what you
have said, and take my advice, and forgive me, and marry at once in the
first village where there is a curate; if not, here is our licentiate
who will do the business beautifully; remember, I am old enough to give
advice, and this I am giving comes pat to the purpose; for a sparrow in
the hand is better than a vulture on the wing, and he who has the good
to his hand and chooses the bad, that the good he complains of may not
come to him.”

“Look here, Sancho,” said Don Quixote. “If thou art advising me to
marry, in order that immediately on slaying the giant I may become
king, and be able to confer favours on thee, and give thee what I have
promised, let me tell thee I shall be able very easily to satisfy thy
desires without marrying; for before going into battle I will make it a
stipulation that, if I come out of it victorious, even I do not marry,
they shall give me a portion of the kingdom, that I may bestow it upon
whomsoever I choose, and when they give it to me upon whom wouldst thou
have me bestow it but upon thee?”

“That is plain speaking,” said Sancho; “but let your worship take care
to choose it on the seacoast, so that if I don’t like the life, I may
be able to ship off my black vassals and deal with them as I have said;
don’t mind going to see my lady Dulcinea now, but go and kill this
giant and let us finish off this business; for by God it strikes me it
will be one of great honour and great profit.”

“I hold thou art in the right of it, Sancho,” said Don Quixote, “and I
will take thy advice as to accompanying the princess before going to
see Dulcinea; but I counsel thee not to say anything to anyone, or to
those who are with us, about what we have considered and discussed, for
as Dulcinea is so decorous that she does not wish her thoughts to be
known it is not right that I or anyone for me should disclose them.”

“Well then, if that be so,” said Sancho, “how is it that your worship
makes all those you overcome by your arm go to present themselves
before my lady Dulcinea, this being the same thing as signing your name
to it that you love her and are her lover? And as those who go must
perforce kneel before her and say they come from your worship to submit
themselves to her, how can the thoughts of both of you be hid?”

“O, how silly and simple thou art!” said Don Quixote; “seest thou not,
Sancho, that this tends to her greater exaltation? For thou must know
that according to our way of thinking in chivalry, it is a high honour
to a lady to have many knights-errant in her service, whose thoughts
never go beyond serving her for her own sake, and who look for no other
reward for their great and true devotion than that she should be
willing to accept them as her knights.”

“It is with that kind of love,” said Sancho, “I have heard preachers
say we ought to love our Lord, for himself alone, without being moved
by the hope of glory or the fear of punishment; though for my part, I
would rather love and serve him for what he could do.”

“The devil take thee for a clown!” said Don Quixote, “and what shrewd
things thou sayest at times! One would think thou hadst studied.”

“In faith, then, I cannot even read.”

Master Nicholas here called out to them to wait a while, as they wanted
to halt and drink at a little spring there was there. Don Quixote drew
up, not a little to the satisfaction of Sancho, for he was by this time
weary of telling so many lies, and in dread of his master catching him
tripping, for though he knew that Dulcinea was a peasant girl of El
Toboso, he had never seen her in all his life. Cardenio had now put on
the clothes which Dorothea was wearing when they found her, and though
they were not very good, they were far better than those he put off.
They dismounted together by the side of the spring, and with what the
curate had provided himself with at the inn they appeased, though not
very well, the keen appetite they all of them brought with them.

While they were so employed there happened to come by a youth passing
on his way, who stopping to examine the party at the spring, the next
moment ran to Don Quixote and clasping him round the legs, began to
weep freely, saying, “O, señor, do you not know me? Look at me well; I
am that lad Andres that your worship released from the oak-tree where I
was tied.”

Don Quixote recognised him, and taking his hand he turned to those
present and said: “That your worships may see how important it is to
have knights-errant to redress the wrongs and injuries done by
tyrannical and wicked men in this world, I may tell you that some days
ago passing through a wood, I heard cries and piteous complaints as of
a person in pain and distress; I immediately hastened, impelled by my
bounden duty, to the quarter whence the plaintive accents seemed to me
to proceed, and I found tied to an oak this lad who now stands before
you, which in my heart I rejoice at, for his testimony will not permit
me to depart from the truth in any particular. He was, I say, tied to
an oak, naked from the waist up, and a clown, whom I afterwards found
to be his master, was scarifying him by lashes with the reins of his
mare. As soon as I saw him I asked the reason of so cruel a
flagellation. The boor replied that he was flogging him because he was
his servant and because of carelessness that proceeded rather from
dishonesty than stupidity; on which this boy said, ‘Señor, he flogs me
only because I ask for my wages.’ The master made I know not what
speeches and explanations, which, though I listened to them, I did not
accept. In short, I compelled the clown to unbind him, and to swear he
would take him with him, and pay him real by real, and perfumed into
the bargain. Is not all this true, Andres my son? Didst thou not mark
with what authority I commanded him, and with what humility he promised
to do all I enjoined, specified, and required of him? Answer without
hesitation; tell these gentlemen what took place, that they may see
that it is as great an advantage as I say to have knights-errant
abroad.”

“All that your worship has said is quite true,” answered the lad; “but
the end of the business turned out just the opposite of what your
worship supposes.”

“How! the opposite?” said Don Quixote; “did not the clown pay thee
then?”

“Not only did he not pay me,” replied the lad, “but as soon as your
worship had passed out of the wood and we were alone, he tied me up
again to the same oak and gave me a fresh flogging, that left me like a
flayed Saint Bartholomew; and every stroke he gave me he followed up
with some jest or gibe about having made a fool of your worship, and
but for the pain I was suffering I should have laughed at the things he
said. In short he left me in such a condition that I have been until
now in a hospital getting cured of the injuries which that rascally
clown inflicted on me then; for all which your worship is to blame; for
if you had gone your own way and not come where there was no call for
you, nor meddled in other people’s affairs, my master would have been
content with giving me one or two dozen lashes, and would have then
loosed me and paid me what he owed me; but when your worship abused him
so out of measure, and gave him so many hard words, his anger was
kindled; and as he could not revenge himself on you, as soon as he saw
you had left him the storm burst upon me in such a way, that I feel as
if I should never be a man again.”

“The mischief,” said Don Quixote, “lay in my going away; for I should
not have gone until I had seen thee paid; because I ought to have known
well by long experience that there is no clown who will keep his word
if he finds it will not suit him to keep it; but thou rememberest,
Andres, that I swore if he did not pay thee I would go and seek him,
and find him though he were to hide himself in the whale’s belly.”

“That is true,” said Andres; “but it was of no use.”

“Thou shalt see now whether it is of use or not,” said Don Quixote; and
so saying, he got up hastily and bade Sancho bridle Rocinante, who was
browsing while they were eating. Dorothea asked him what he meant to
do. He replied that he meant to go in search of this clown and chastise
him for such iniquitous conduct, and see Andres paid to the last
maravedi, despite and in the teeth of all the clowns in the world. To
which she replied that he must remember that in accordance with his
promise he could not engage in any enterprise until he had concluded
hers; and that as he knew this better than anyone, he should restrain
his ardour until his return from her kingdom.

“That is true,” said Don Quixote, “and Andres must have patience until
my return as you say, señora; but I once more swear and promise not to
stop until I have seen him avenged and paid.”

“I have no faith in those oaths,” said Andres; “I would rather have now
something to help me to get to Seville than all the revenges in the
world; if you have here anything to eat that I can take with me, give
it me, and God be with your worship and all knights-errant; and may
their errands turn out as well for themselves as they have for me.”

Sancho took out from his store a piece of bread and another of cheese,
and giving them to the lad he said, “Here, take this, brother Andres,
for we have all of us a share in your misfortune.”

“Why, what share have you got?”

“This share of bread and cheese I am giving you,” answered Sancho; “and
God knows whether I shall feel the want of it myself or not; for I
would have you know, friend, that we squires to knights-errant have to
bear a great deal of hunger and hard fortune, and even other things
more easily felt than told.”

Andres seized his bread and cheese, and seeing that nobody gave him
anything more, bent his head, and took hold of the road, as the saying
is. However, before leaving he said, “For the love of God, sir
knight-errant, if you ever meet me again, though you may see them
cutting me to pieces, give me no aid or succour, but leave me to my
misfortune, which will not be so great but that a greater will come to
me by being helped by your worship, on whom and all the knights-errant
that have ever been born God send his curse.”

Don Quixote was getting up to chastise him, but he took to his heels at
such a pace that no one attempted to follow him; and mightily
chapfallen was Don Quixote at Andres’ story, and the others had to take
great care to restrain their laughter so as not to put him entirely out
of countenance.



c31e.jpg (32K)



CHAPTER XXXII.
WHICH TREATS OF WHAT BEFELL DON QUIXOTE’S PARTY AT THE INN




c32a.jpg (132K)

Full Size




Their dainty repast being finished, they saddled at once, and without
any adventure worth mentioning they reached next day the inn, the
object of Sancho Panza’s fear and dread; but though he would have
rather not entered it, there was no help for it. The landlady, the
landlord, their daughter, and Maritornes, when they saw Don Quixote and
Sancho coming, went out to welcome them with signs of hearty
satisfaction, which Don Quixote received with dignity and gravity, and
bade them make up a better bed for him than the last time: to which the
landlady replied that if he paid better than he did the last time she
would give him one fit for a prince. Don Quixote said he would, so they
made up a tolerable one for him in the same garret as before; and he
lay down at once, being sorely shaken and in want of sleep.

No sooner was the door shut upon him than the landlady made at the
barber, and seizing him by the beard, said:

“By my faith you are not going to make a beard of my tail any longer;
you must give me back my tail, for it is a shame the way that thing of
my husband’s goes tossing about on the floor; I mean the comb that I
used to stick in my good tail.”

But for all she tugged at it the barber would not give it up until the
licentiate told him to let her have it, as there was now no further
occasion for that stratagem, because he might declare himself and
appear in his own character, and tell Don Quixote that he had fled to
this inn when those thieves the galley slaves robbed him; and should he
ask for the princess’s squire, they could tell him that she had sent
him on before her to give notice to the people of her kingdom that she
was coming, and bringing with her the deliverer of them all. On this
the barber cheerfully restored the tail to the landlady, and at the
same time they returned all the accessories they had borrowed to effect
Don Quixote’s deliverance. All the people of the inn were struck with
astonishment at the beauty of Dorothea, and even at the comely figure
of the shepherd Cardenio. The curate made them get ready such fare as
there was in the inn, and the landlord, in hope of better payment,
served them up a tolerably good dinner. All this time Don Quixote was
asleep, and they thought it best not to waken him, as sleeping would
now do him more good than eating.

While at dinner, the company consisting of the landlord, his wife,
their daughter, Maritornes, and all the travellers, they discussed the
strange craze of Don Quixote and the manner in which he had been found;
and the landlady told them what had taken place between him and the
carrier; and then, looking round to see if Sancho was there, when she
saw he was not, she gave them the whole story of his blanketing, which
they received with no little amusement. But on the curate observing
that it was the books of chivalry which Don Quixote had read that had
turned his brain, the landlord said:

“I cannot understand how that can be, for in truth to my mind there is
no better reading in the world, and I have here two or three of them,
with other writings that are the very life, not only of myself but of
plenty more; for when it is harvest-time, the reapers flock here on
holidays, and there is always one among them who can read and who takes
up one of these books, and we gather round him, thirty or more of us,
and stay listening to him with a delight that makes our grey hairs grow
young again. At least I can say for myself that when I hear of what
furious and terrible blows the knights deliver, I am seized with the
longing to do the same, and I would like to be hearing about them night
and day.”

“And I just as much,” said the landlady, “because I never have a quiet
moment in my house except when you are listening to someone reading;
for then you are so taken up that for the time being you forget to
scold.”

“That is true,” said Maritornes; “and, faith, I relish hearing these
things greatly too, for they are very pretty; especially when they
describe some lady or another in the arms of her knight under the
orange trees, and the duenna who is keeping watch for them half dead
with envy and fright; all this I say is as good as honey.”

“And you, what do you think, young lady?” said the curate turning to
the landlord’s daughter.

“I don’t know indeed, señor,” said she; “I listen too, and to tell the
truth, though I do not understand it, I like hearing it; but it is not
the blows that my father likes that I like, but the laments the knights
utter when they are separated from their ladies; and indeed they
sometimes make me weep with the pity I feel for them.”

“Then you would console them if it was for you they wept, young lady?”
said Dorothea.

“I don’t know what I should do,” said the girl; “I only know that there
are some of those ladies so cruel that they call their knights tigers
and lions and a thousand other foul names: and Jesus! I don’t know what
sort of folk they can be, so unfeeling and heartless, that rather than
bestow a glance upon a worthy man they leave him to die or go mad. I
don’t know what is the good of such prudery; if it is for honour’s
sake, why not marry them? That’s all they want.”

“Hush, child,” said the landlady; “it seems to me thou knowest a great
deal about these things, and it is not fit for girls to know or talk so
much.”

“As the gentleman asked me, I could not help answering him,” said the
girl.

“Well then,” said the curate, “bring me these books, señor landlord,
for I should like to see them.”

“With all my heart,” said he, and going into his own room he brought
out an old valise secured with a little chain, on opening which the
curate found in it three large books and some manuscripts written in a
very good hand. The first that he opened he found to be “Don Cirongilio
of Thrace,” and the second “Don Felixmarte of Hircania,” and the other
the “History of the Great Captain Gonzalo Hernandez de Cordova, with
the Life of Diego García de Paredes.”

When the curate read the two first titles he looked over at the barber
and said, “We want my friend’s housekeeper and niece here now.”

“Nay,” said the barber, “I can do just as well to carry them to the
yard or to the hearth, and there is a very good fire there.”

“What! your worship would burn my books!” said the landlord.

“Only these two,” said the curate, “Don Cirongilio, and Felixmarte.”

“Are my books, then, heretics or phlegmatics that you want to burn
them?” said the landlord.

“Schismatics you mean, friend,” said the barber, “not phlegmatics.”

“That’s it,” said the landlord; “but if you want to burn any, let it be
that about the Great Captain and that Diego García; for I would rather
have a child of mine burnt than either of the others.”

“Brother,” said the curate, “those two books are made up of lies, and
are full of folly and nonsense; but this of the Great Captain is a true
history, and contains the deeds of Gonzalo Hernandez of Cordova, who by
his many and great achievements earned the title all over the world of
the Great Captain, a famous and illustrious name, and deserved by him
alone; and this Diego García de Paredes was a distinguished knight of
the city of Trujillo in Estremadura, a most gallant soldier, and of
such bodily strength that with one finger he stopped a mill-wheel in
full motion; and posted with a two-handed sword at the foot of a bridge
he kept the whole of an immense army from passing over it, and achieved
such other exploits that if, instead of his relating them himself with
the modesty of a knight and of one writing his own history, some free
and unbiased writer had recorded them, they would have thrown into the
shade all the deeds of the Hectors, Achilleses, and Rolands.”



c32b.jpg (395K)

Full Size




“Tell that to my father,” said the landlord. “There’s a thing to be
astonished at! Stopping a mill-wheel! By God your worship should read
what I have read of Felixmarte of Hircania, how with one single
backstroke he cleft five giants asunder through the middle as if they
had been made of bean-pods like the little friars the children make;
and another time he attacked a very great and powerful army, in which
there were more than a million six hundred thousand soldiers, all armed
from head to foot, and he routed them all as if they had been flocks of
sheep.”



c32c.jpg (341K)

Full Size




“And then, what do you say to the good Cirongilio of Thrace, that was
so stout and bold; as may be seen in the book, where it is related that
as he was sailing along a river there came up out of the midst of the
water against him a fiery serpent, and he, as soon as he saw it, flung
himself upon it and got astride of its scaly shoulders, and squeezed
its throat with both hands with such force that the serpent, finding he
was throttling it, had nothing for it but to let itself sink to the
bottom of the river, carrying with it the knight who would not let go
his hold; and when they got down there he found himself among palaces
and gardens so pretty that it was a wonder to see; and then the serpent
changed itself into an old ancient man, who told him such things as
were never heard. Hold your peace, señor; for if you were to hear this
you would go mad with delight. A couple of figs for your Great Captain
and your Diego García!”

Hearing this Dorothea said in a whisper to Cardenio, “Our landlord is
almost fit to play a second part to Don Quixote.”

“I think so,” said Cardenio, “for, as he shows, he accepts it as a
certainty that everything those books relate took place exactly as it
is written down; and the barefooted friars themselves would not
persuade him to the contrary.”

“But consider, brother,” said the curate once more, “there never was
any Felixmarte of Hircania in the world, nor any Cirongilio of Thrace,
or any of the other knights of the same sort, that the books of
chivalry talk of; the whole thing is the fabrication and invention of
idle wits, devised by them for the purpose you describe of beguiling
the time, as your reapers do when they read; for I swear to you in all
seriousness there never were any such knights in the world, and no such
exploits or nonsense ever happened anywhere.”

“Try that bone on another dog,” said the landlord; “as if I did not
know how many make five, and where my shoe pinches me; don’t think to
feed me with pap, for by God I am no fool. It is a good joke for your
worship to try and persuade me that everything these good books say is
nonsense and lies, and they printed by the license of the Lords of the
Royal Council, as if they were people who would allow such a lot of
lies to be printed all together, and so many battles and enchantments
that they take away one’s senses.”

“I have told you, friend,” said the curate, “that this is done to
divert our idle thoughts; and as in well-ordered states games of chess,
fives, and billiards are allowed for the diversion of those who do not
care, or are not obliged, or are unable to work, so books of this kind
are allowed to be printed, on the supposition that, what indeed is the
truth, there can be nobody so ignorant as to take any of them for true
stories; and if it were permitted me now, and the present company
desired it, I could say something about the qualities books of chivalry
should possess to be good ones, that would be to the advantage and even
to the taste of some; but I hope the time will come when I can
communicate my ideas to someone who may be able to mend matters; and in
the meantime, señor landlord, believe what I have said, and take your
books, and make up your mind about their truth or falsehood, and much
good may they do you; and God grant you may not fall lame of the same
foot your guest Don Quixote halts on.”

“No fear of that,” returned the landlord; “I shall not be so mad as to
make a knight-errant of myself; for I see well enough that things are
not now as they used to be in those days, when they say those famous
knights roamed about the world.”

Sancho had made his appearance in the middle of this conversation, and
he was very much troubled and cast down by what he heard said about
knights-errant being now no longer in vogue, and all books of chivalry
being folly and lies; and he resolved in his heart to wait and see what
came of this journey of his master’s, and if it did not turn out as
happily as his master expected, he determined to leave him and go back
to his wife and children and his ordinary labour.

The landlord was carrying away the valise and the books, but the curate
said to him, “Wait; I want to see what those papers are that are
written in such a good hand.” The landlord taking them out handed them
to him to read, and he perceived they were a work of about eight sheets
of manuscript, with, in large letters at the beginning, the title of
“Novel of the Ill-advised Curiosity.” The curate read three or four
lines to himself, and said, “I must say the title of this novel does
not seem to me a bad one, and I feel an inclination to read it all.” To
which the landlord replied, “Then your reverence will do well to read
it, for I can tell you that some guests who have read it here have been
much pleased with it, and have begged it of me very earnestly; but I
would not give it, meaning to return it to the person who forgot the
valise, books, and papers here, for maybe he will return here some time
or other; and though I know I shall miss the books, faith I mean to
return them; for though I am an innkeeper, still I am a Christian.”

“You are very right, friend,” said the curate; “but for all that, if
the novel pleases me you must let me copy it.”

“With all my heart,” replied the host.

While they were talking Cardenio had taken up the novel and begun to
read it, and forming the same opinion of it as the curate, he begged
him to read it so that they might all hear it.

“I would read it,” said the curate, “if the time would not be better
spent in sleeping.”

“It will be rest enough for me,” said Dorothea, “to while away the time
by listening to some tale, for my spirits are not yet tranquil enough
to let me sleep when it would be seasonable.”

“Well then, in that case,” said the curate, “I will read it, if it were
only out of curiosity; perhaps it may contain something pleasant.”

Master Nicholas added his entreaties to the same effect, and Sancho
too; seeing which, and considering that he would give pleasure to all,
and receive it himself, the curate said, “Well then, attend to me
everyone, for the novel begins thus.”



c32e.jpg (11K)



CHAPTER XXXIII.
IN WHICH IS RELATED THE NOVEL OF “THE ILL-ADVISED CURIOSITY”

In Florence, a rich and famous city of Italy in the province called
Tuscany, there lived two gentlemen of wealth and quality, Anselmo and
Lothario, such great friends that by way of distinction they were
called by all that knew them “The Two Friends.” They were unmarried,
young, of the same age and of the same tastes, which was enough to
account for the reciprocal friendship between them. Anselmo, it is
true, was somewhat more inclined to seek pleasure in love than
Lothario, for whom the pleasures of the chase had more attraction; but
on occasion Anselmo would forego his own tastes to yield to those of
Lothario, and Lothario would surrender his to fall in with those of
Anselmo, and in this way their inclinations kept pace one with the
other with a concord so perfect that the best regulated clock could not
surpass it.

Anselmo was deep in love with a high-born and beautiful maiden of the
same city, the daughter of parents so estimable, and so estimable
herself, that he resolved, with the approval of his friend Lothario,
without whom he did nothing, to ask her of them in marriage, and did
so, Lothario being the bearer of the demand, and conducting the
negotiation so much to the satisfaction of his friend that in a short
time he was in possession of the object of his desires, and Camilla so
happy in having won Anselmo for her husband, that she gave thanks
unceasingly to heaven and to Lothario, by whose means such good fortune
had fallen to her. The first few days, those of a wedding being usually
days of merry-making, Lothario frequented his friend Anselmo’s house as
he had been wont, striving to do honour to him and to the occasion, and
to gratify him in every way he could; but when the wedding days were
over and the succession of visits and congratulations had slackened, he
began purposely to leave off going to the house of Anselmo, for it
seemed to him, as it naturally would to all men of sense, that friends’
houses ought not to be visited after marriage with the same frequency
as in their masters’ bachelor days: because, though true and genuine
friendship cannot and should not be in any way suspicious, still a
married man’s honour is a thing of such delicacy that it is held liable
to injury from brothers, much more from friends. Anselmo remarked the
cessation of Lothario’s visits, and complained of it to him, saying
that if he had known that marriage was to keep him from enjoying his
society as he used, he would have never married; and that, if by the
thorough harmony that subsisted between them while he was a bachelor
they had earned such a sweet name as that of “The Two Friends,” he
should not allow a title so rare and so delightful to be lost through a
needless anxiety to act circumspectly; and so he entreated him, if such
a phrase was allowable between them, to be once more master of his
house and to come in and go out as formerly, assuring him that his wife
Camilla had no other desire or inclination than that which he would
wish her to have, and that knowing how sincerely they loved one another
she was grieved to see such coldness in him.

To all this and much more that Anselmo said to Lothario to persuade him
to come to his house as he had been in the habit of doing, Lothario
replied with so much prudence, sense, and judgment, that Anselmo was
satisfied of his friend’s good intentions, and it was agreed that on
two days in the week, and on holidays, Lothario should come to dine
with him; but though this arrangement was made between them Lothario
resolved to observe it no further than he considered to be in
accordance with the honour of his friend, whose good name was more to
him than his own. He said, and justly, that a married man upon whom
heaven had bestowed a beautiful wife should consider as carefully what
friends he brought to his house as what female friends his wife
associated with, for what cannot be done or arranged in the
market-place, in church, at public festivals or at stations
(opportunities that husbands cannot always deny their wives), may be
easily managed in the house of the female friend or relative in whom
most confidence is reposed. Lothario said, too, that every married man
should have some friend who would point out to him any negligence he
might be guilty of in his conduct, for it will sometimes happen that
owing to the deep affection the husband bears his wife either he does
not caution her, or, not to vex her, refrains from telling her to do or
not to do certain things, doing or avoiding which may be a matter of
honour or reproach to him; and errors of this kind he could easily
correct if warned by a friend. But where is such a friend to be found
as Lothario would have, so judicious, so loyal, and so true?

Of a truth I know not; Lothario alone was such a one, for with the
utmost care and vigilance he watched over the honour of his friend, and
strove to diminish, cut down, and reduce the number of days for going
to his house according to their agreement, lest the visits of a young
man, wealthy, high-born, and with the attractions he was conscious of
possessing, at the house of a woman so beautiful as Camilla, should be
regarded with suspicion by the inquisitive and malicious eyes of the
idle public. For though his integrity and reputation might bridle
slanderous tongues, still he was unwilling to hazard either his own
good name or that of his friend; and for this reason most of the days
agreed upon he devoted to some other business which he pretended was
unavoidable; so that a great portion of the day was taken up with
complaints on one side and excuses on the other. It happened, however,
that on one occasion when the two were strolling together outside the
city, Anselmo addressed the following words to Lothario.

“Thou mayest suppose, Lothario my friend, that I am unable to give
sufficient thanks for the favours God has rendered me in making me the
son of such parents as mine were, and bestowing upon me with no niggard
hand what are called the gifts of nature as well as those of fortune,
and above all for what he has done in giving me thee for a friend and
Camilla for a wife—two treasures that I value, if not as highly as I
ought, at least as highly as I am able. And yet, with all these good
things, which are commonly all that men need to enable them to live
happily, I am the most discontented and dissatisfied man in the whole
world; for, I know not how long since, I have been harassed and
oppressed by a desire so strange and so unusual, that I wonder at
myself and blame and chide myself when I am alone, and strive to stifle
it and hide it from my own thoughts, and with no better success than if
I were endeavouring deliberately to publish it to all the world; and
as, in short, it must come out, I would confide it to thy safe keeping,
feeling sure that by this means, and by thy readiness as a true friend
to afford me relief, I shall soon find myself freed from the distress
it causes me, and that thy care will give me happiness in the same
degree as my own folly has caused me misery.”

The words of Anselmo struck Lothario with astonishment, unable as he
was to conjecture the purport of such a lengthy preamble; and though he
strove to imagine what desire it could be that so troubled his friend,
his conjectures were all far from the truth, and to relieve the anxiety
which this perplexity was causing him, he told him he was doing a
flagrant injustice to their great friendship in seeking circuitous
methods of confiding to him his most hidden thoughts, for he well knew
he might reckon upon his counsel in diverting them, or his help in
carrying them into effect.

“That is the truth,” replied Anselmo, “and relying upon that I will
tell thee, friend Lothario, that the desire which harasses me is that
of knowing whether my wife Camilla is as good and as perfect as I think
her to be; and I cannot satisfy myself of the truth on this point
except by testing her in such a way that the trial may prove the purity
of her virtue as the fire proves that of gold; because I am persuaded,
my friend, that a woman is virtuous only in proportion as she is or is
not tempted; and that she alone is strong who does not yield to the
promises, gifts, tears, and importunities of earnest lovers; for what
thanks does a woman deserve for being good if no one urges her to be
bad, and what wonder is it that she is reserved and circumspect to whom
no opportunity is given of going wrong and who knows she has a husband
that will take her life the first time he detects her in an
impropriety? I do not therefore hold her who is virtuous through fear
or want of opportunity in the same estimation as her who comes out of
temptation and trial with a crown of victory; and so, for these reasons
and many others that I could give thee to justify and support the
opinion I hold, I am desirous that my wife Camilla should pass this
crisis, and be refined and tested by the fire of finding herself wooed
and by one worthy to set his affections upon her; and if she comes out,
as I know she will, victorious from this struggle, I shall look upon my
good fortune as unequalled, I shall be able to say that the cup of my
desire is full, and that the virtuous woman of whom the sage says ‘Who
shall find her?’ has fallen to my lot. And if the result be the
contrary of what I expect, in the satisfaction of knowing that I have
been right in my opinion, I shall bear without complaint the pain which
my so dearly bought experience will naturally cause me. And, as nothing
of all thou wilt urge in opposition to my wish will avail to keep me
from carrying it into effect, it is my desire, friend Lothario, that
thou shouldst consent to become the instrument for effecting this
purpose that I am bent upon, for I will afford thee opportunities to
that end, and nothing shall be wanting that I may think necessary for
the pursuit of a virtuous, honourable, modest and high-minded woman.
And among other reasons, I am induced to entrust this arduous task to
thee by the consideration that if Camilla be conquered by thee the
conquest will not be pushed to extremes, but only far enough to account
that accomplished which from a sense of honour will be left undone;
thus I shall not be wronged in anything more than intention, and my
wrong will remain buried in the integrity of thy silence, which I know
well will be as lasting as that of death in what concerns me. If,
therefore, thou wouldst have me enjoy what can be called life, thou
wilt at once engage in this love struggle, not lukewarmly nor
slothfully, but with the energy and zeal that my desire demands, and
with the loyalty our friendship assures me of.”

Such were the words Anselmo addressed to Lothario, who listened to them
with such attention that, except to say what has been already
mentioned, he did not open his lips until the other had finished. Then
perceiving that he had no more to say, after regarding him for a while,
as one would regard something never before seen that excited wonder and
amazement, he said to him, “I cannot persuade myself, Anselmo my
friend, that what thou hast said to me is not in jest; if I thought
that thou wert speaking seriously I would not have allowed thee to go
so far; so as to put a stop to thy long harangue by not listening to
thee I verily suspect that either thou dost not know me, or I do not
know thee; but no, I know well thou art Anselmo, and thou knowest that
I am Lothario; the misfortune is, it seems to me, that thou art not the
Anselmo thou wert, and must have thought that I am not the Lothario I
should be; for the things that thou hast said to me are not those of
that Anselmo who was my friend, nor are those that thou demandest of me
what should be asked of the Lothario thou knowest. True friends will
prove their friends and make use of them, as a poet has said, _usque ad
aras;_ whereby he meant that they will not make use of their friendship
in things that are contrary to God’s will. If this, then, was a
heathen’s feeling about friendship, how much more should it be a
Christian’s, who knows that the divine must not be forfeited for the
sake of any human friendship? And if a friend should go so far as to
put aside his duty to Heaven to fulfil his duty to his friend, it
should not be in matters that are trifling or of little moment, but in
such as affect the friend’s life and honour. Now tell me, Anselmo, in
which of these two art thou imperilled, that I should hazard myself to
gratify thee, and do a thing so detestable as that thou seekest of me?
Neither forsooth; on the contrary, thou dost ask of me, so far as I
understand, to strive and labour to rob thee of honour and life, and to
rob myself of them at the same time; for if I take away thy honour it
is plain I take away thy life, as a man without honour is worse than
dead; and being the instrument, as thou wilt have it so, of so much
wrong to thee, shall not I, too, be left without honour, and
consequently without life? Listen to me, Anselmo my friend, and be not
impatient to answer me until I have said what occurs to me touching the
object of thy desire, for there will be time enough left for thee to
reply and for me to hear.”

“Be it so,” said Anselmo, “say what thou wilt.”

Lothario then went on to say, “It seems to me, Anselmo, that thine is
just now the temper of mind which is always that of the Moors, who can
never be brought to see the error of their creed by quotations from the
Holy Scriptures, or by reasons which depend upon the examination of the
understanding or are founded upon the articles of faith, but must have
examples that are palpable, easy, intelligible, capable of proof, not
admitting of doubt, with mathematical demonstrations that cannot be
denied, like, ‘_If equals be taken from equals, the remainders are
equal:_’ and if they do not understand this in words, and indeed they
do not, it has to be shown to them with the hands, and put before their
eyes, and even with all this no one succeeds in convincing them of the
truth of our holy religion. This same mode of proceeding I shall have
to adopt with thee, for the desire which has sprung up in thee is so
absurd and remote from everything that has a semblance of reason, that
I feel it would be a waste of time to employ it in reasoning with thy
simplicity, for at present I will call it by no other name; and I am
even tempted to leave thee in thy folly as a punishment for thy
pernicious desire; but the friendship I bear thee, which will not allow
me to desert thee in such manifest danger of destruction, keeps me from
dealing so harshly by thee. And that thou mayest clearly see this, say,
Anselmo, hast thou not told me that I must force my suit upon a modest
woman, decoy one that is virtuous, make overtures to one that is
pure-minded, pay court to one that is prudent? Yes, thou hast told me
so. Then, if thou knowest that thou hast a wife, modest, virtuous,
pure-minded and prudent, what is it that thou seekest? And if thou
believest that she will come forth victorious from all my attacks—as
doubtless she would—what higher titles than those she possesses now
dost thou think thou canst bestow upon her then, or in what will she be
better then than she is now? Either thou dost not hold her to be what
thou sayest, or thou knowest not what thou dost demand. If thou dost
not hold her to be what thou sayest, why dost thou seek to prove her
instead of treating her as guilty in the way that may seem best to
thee? but if she be as virtuous as thou believest, it is an
uncalled-for proceeding to make trial of truth itself, for, after
trial, it will but be in the same estimation as before. Thus, then, it
is conclusive that to attempt things from which harm rather than
advantage may come to us is the part of unreasoning and reckless minds,
more especially when they are things which we are not forced or
compelled to attempt, and which show from afar that it is plainly
madness to attempt them.

“Difficulties are attempted either for the sake of God or for the sake
of the world, or for both; those undertaken for God’s sake are those
which the saints undertake when they attempt to live the lives of
angels in human bodies; those undertaken for the sake of the world are
those of the men who traverse such a vast expanse of water, such a
variety of climates, so many strange countries, to acquire what are
called the blessings of fortune; and those undertaken for the sake of
God and the world together are those of brave soldiers, who no sooner
do they see in the enemy’s wall a breach as wide as a cannon ball could
make, than, casting aside all fear, without hesitating, or heeding the
manifest peril that threatens them, borne onward by the desire of
defending their faith, their country, and their king, they fling
themselves dauntlessly into the midst of the thousand opposing deaths
that await them. Such are the things that men are wont to attempt, and
there is honour, glory, gain, in attempting them, however full of
difficulty and peril they may be; but that which thou sayest it is thy
wish to attempt and carry out will not win thee the glory of God nor
the blessings of fortune nor fame among men; for even if the issue be
as thou wouldst have it, thou wilt be no happier, richer, or more
honoured than thou art this moment; and if it be otherwise thou wilt be
reduced to misery greater than can be imagined, for then it will avail
thee nothing to reflect that no one is aware of the misfortune that has
befallen thee; it will suffice to torture and crush thee that thou
knowest it thyself. And in confirmation of the truth of what I say, let
me repeat to thee a stanza made by the famous poet Luigi Tansillo at
the end of the first part of his ‘Tears of Saint Peter,’ which says
thus:

The anguish and the shame but greater grew
    In Peter’s heart as morning slowly came;
No eye was there to see him, well he knew,
    Yet he himself was to himself a shame;
Exposed to all men’s gaze, or screened from view,
    A noble heart will feel the pang the same;
A prey to shame the sinning soul will be,
Though none but heaven and earth its shame can see.


Thus by keeping it secret thou wilt not escape thy sorrow, but rather
thou wilt shed tears unceasingly, if not tears of the eyes, tears of
blood from the heart, like those shed by that simple doctor our poet
tells us of, that tried the test of the cup, which the wise Rinaldo,
better advised, refused to do; for though this may be a poetic fiction
it contains a moral lesson worthy of attention and study and imitation.
Moreover by what I am about to say to thee thou wilt be led to see the
great error thou wouldst commit.

“Tell me, Anselmo, if Heaven or good fortune had made thee master and
lawful owner of a diamond of the finest quality, with the excellence
and purity of which all the lapidaries that had seen it had been
satisfied, saying with one voice and common consent that in purity,
quality, and fineness, it was all that a stone of the kind could
possibly be, thou thyself too being of the same belief, as knowing
nothing to the contrary, would it be reasonable in thee to desire to
take that diamond and place it between an anvil and a hammer, and by
mere force of blows and strength of arm try if it were as hard and as
fine as they said? And if thou didst, and if the stone should resist so
silly a test, that would add nothing to its value or reputation; and if
it were broken, as it might be, would not all be lost? Undoubtedly it
would, leaving its owner to be rated as a fool in the opinion of all.
Consider, then, Anselmo my friend, that Camilla is a diamond of the
finest quality as well in thy estimation as in that of others, and that
it is contrary to reason to expose her to the risk of being broken; for
if she remains intact she cannot rise to a higher value than she now
possesses; and if she give way and be unable to resist, bethink thee
now how thou wilt be deprived of her, and with what good reason thou
wilt complain of thyself for having been the cause of her ruin and
thine own. Remember there is no jewel in the world so precious as a
chaste and virtuous woman, and that the whole honour of women consists
in reputation; and since thy wife’s is of that high excellence that
thou knowest, wherefore shouldst thou seek to call that truth in
question? Remember, my friend, that woman is an imperfect animal, and
that impediments are not to be placed in her way to make her trip and
fall, but that they should be removed, and her path left clear of all
obstacles, so that without hindrance she may run her course freely to
attain the desired perfection, which consists in being virtuous.
Naturalists tell us that the ermine is a little animal which has a fur
of purest white, and that when the hunters wish to take it, they make
use of this artifice. Having ascertained the places which it frequents
and passes, they stop the way to them with mud, and then rousing it,
drive it towards the spot, and as soon as the ermine comes to the mud
it halts, and allows itself to be taken captive rather than pass
through the mire, and spoil and sully its whiteness, which it values
more than life and liberty. The virtuous and chaste woman is an ermine,
and whiter and purer than snow is the virtue of modesty; and he who
wishes her not to lose it, but to keep and preserve it, must adopt a
course different from that employed with the ermine; he must not put
before her the mire of the gifts and attentions of persevering lovers,
because perhaps—and even without a perhaps—she may not have sufficient
virtue and natural strength in herself to pass through and tread under
foot these impediments; they must be removed, and the brightness of
virtue and the beauty of a fair fame must be put before her. A virtuous
woman, too, is like a mirror, of clear shining crystal, liable to be
tarnished and dimmed by every breath that touches it. She must be
treated as relics are; adored, not touched. She must be protected and
prized as one protects and prizes a fair garden full of roses and
flowers, the owner of which allows no one to trespass or pluck a
blossom; enough for others that from afar and through the iron grating
they may enjoy its fragrance and its beauty. Finally let me repeat to
thee some verses that come to my mind; I heard them in a modern comedy,
and it seems to me they bear upon the point we are discussing. A
prudent old man was giving advice to another, the father of a young
girl, to lock her up, watch over her and keep her in seclusion, and
among other arguments he used these:

Woman is a thing of glass;
    But her brittleness ’tis best
    Not too curiously to test:
Who knows what may come to pass?

Breaking is an easy matter,
    And it’s folly to expose
    What you cannot mend to blows;
What you can’t make whole to shatter.

This, then, all may hold as true,
    And the reason’s plain to see;
    For if Danaës there be,
There are golden showers too.


“All that I have said to thee so far, Anselmo, has had reference to
what concerns thee; now it is right that I should say something of what
regards myself; and if I be prolix, pardon me, for the labyrinth into
which thou hast entered and from which thou wouldst have me extricate
thee makes it necessary.

“Thou dost reckon me thy friend, and thou wouldst rob me of honour, a
thing wholly inconsistent with friendship; and not only dost thou aim
at this, but thou wouldst have me rob thee of it also. That thou
wouldst rob me of it is clear, for when Camilla sees that I pay court
to her as thou requirest, she will certainly regard me as a man without
honour or right feeling, since I attempt and do a thing so much opposed
to what I owe to my own position and thy friendship. That thou wouldst
have me rob thee of it is beyond a doubt, for Camilla, seeing that I
press my suit upon her, will suppose that I have perceived in her
something light that has encouraged me to make known to her my base
desire; and if she holds herself dishonoured, her dishonour touches
thee as belonging to her; and hence arises what so commonly takes
place, that the husband of the adulterous woman, though he may not be
aware of or have given any cause for his wife’s failure in her duty, or
(being careless or negligent) have had it in his power to prevent his
dishonour, nevertheless is stigmatised by a vile and reproachful name,
and in a manner regarded with eyes of contempt instead of pity by all
who know of his wife’s guilt, though they see that he is unfortunate
not by his own fault, but by the lust of a vicious consort. But I will
tell thee why with good reason dishonour attaches to the husband of the
unchaste wife, though he know not that she is so, nor be to blame, nor
have done anything, or given any provocation to make her so; and be not
weary with listening to me, for it will be for thy good.

“When God created our first parent in the earthly paradise, the Holy
Scripture says that he infused sleep into Adam and while he slept took
a rib from his left side of which he formed our mother Eve, and when
Adam awoke and beheld her he said, ‘This is flesh of my flesh, and bone
of my bone.’ And God said ‘For this shall a man leave his father and
his mother, and they shall be two in one flesh; and then was instituted
the divine sacrament of marriage, with such ties that death alone can
loose them. And such is the force and virtue of this miraculous
sacrament that it makes two different persons one and the same flesh;
and even more than this when the virtuous are married; for though they
have two souls they have but one will. And hence it follows that as the
flesh of the wife is one and the same with that of her husband the
stains that may come upon it, or the injuries it incurs fall upon the
husband’s flesh, though he, as has been said, may have given no cause
for them; for as the pain of the foot or any member of the body is felt
by the whole body, because all is one flesh, as the head feels the hurt
to the ankle without having caused it, so the husband, being one with
her, shares the dishonour of the wife; and as all worldly honour or
dishonour comes of flesh and blood, and the erring wife’s is of that
kind, the husband must needs bear his part of it and be held
dishonoured without knowing it. See, then, Anselmo, the peril thou art
encountering in seeking to disturb the peace of thy virtuous consort;
see for what an empty and ill-advised curiosity thou wouldst rouse up
passions that now repose in quiet in the breast of thy chaste wife;
reflect that what thou art staking all to win is little, and what thou
wilt lose so much that I leave it undescribed, not having the words to
express it. But if all I have said be not enough to turn thee from thy
vile purpose, thou must seek some other instrument for thy dishonour
and misfortune; for such I will not consent to be, though I lose thy
friendship, the greatest loss that I can conceive.”

Having said this, the wise and virtuous Lothario was silent, and
Anselmo, troubled in mind and deep in thought, was unable for a while
to utter a word in reply; but at length he said, “I have listened,
Lothario my friend, attentively, as thou hast seen, to what thou hast
chosen to say to me, and in thy arguments, examples, and comparisons I
have seen that high intelligence thou dost possess, and the perfection
of true friendship thou hast reached; and likewise I see and confess
that if I am not guided by thy opinion, but follow my own, I am flying
from the good and pursuing the evil. This being so, thou must remember
that I am now labouring under that infirmity which women sometimes
suffer from, when the craving seizes them to eat clay, plaster,
charcoal, and things even worse, disgusting to look at, much more to
eat; so that it will be necessary to have recourse to some artifice to
cure me; and this can be easily effected if only thou wilt make a
beginning, even though it be in a lukewarm and make-believe fashion, to
pay court to Camilla, who will not be so yielding that her virtue will
give way at the first attack: with this mere attempt I shall rest
satisfied, and thou wilt have done what our friendship binds thee to
do, not only in giving me life, but in persuading me not to discard my
honour. And this thou art bound to do for one reason alone, that,
being, as I am, resolved to apply this test, it is not for thee to
permit me to reveal my weakness to another, and so imperil that honour
thou art striving to keep me from losing; and if thine may not stand as
high as it ought in the estimation of Camilla while thou art paying
court to her, that is of little or no importance, because ere long, on
finding in her that constancy which we expect, thou canst tell her the
plain truth as regards our stratagem, and so regain thy place in her
esteem; and as thou art venturing so little, and by the venture canst
afford me so much satisfaction, refuse not to undertake it, even if
further difficulties present themselves to thee; for, as I have said,
if thou wilt only make a beginning I will acknowledge the issue
decided.”

Lothario seeing the fixed determination of Anselmo, and not knowing
what further examples to offer or arguments to urge in order to
dissuade him from it, and perceiving that he threatened to confide his
pernicious scheme to someone else, to avoid a greater evil resolved to
gratify him and do what he asked, intending to manage the business so
as to satisfy Anselmo without corrupting the mind of Camilla; so in
reply he told him not to communicate his purpose to any other, for he
would undertake the task himself, and would begin it as soon as he
pleased. Anselmo embraced him warmly and affectionately, and thanked
him for his offer as if he had bestowed some great favour upon him; and
it was agreed between them to set about it the next day, Anselmo
affording opportunity and time to Lothario to converse alone with
Camilla, and furnishing him with money and jewels to offer and present
to her. He suggested, too, that he should treat her to music, and write
verses in her praise, and if he was unwilling to take the trouble of
composing them, he offered to do it himself. Lothario agreed to all
with an intention very different from what Anselmo supposed, and with
this understanding they returned to Anselmo’s house, where they found
Camilla awaiting her husband anxiously and uneasily, for he was later
than usual in returning that day. Lothario repaired to his own house,
and Anselmo remained in his, as well satisfied as Lothario was troubled
in mind; for he could see no satisfactory way out of this ill-advised
business. That night, however, he thought of a plan by which he might
deceive Anselmo without any injury to Camilla. The next day he went to
dine with his friend, and was welcomed by Camilla, who received and
treated him with great cordiality, knowing the affection her husband
felt for him. When dinner was over and the cloth removed, Anselmo told
Lothario to stay there with Camilla while he attended to some pressing
business, as he would return in an hour and a half. Camilla begged him
not to go, and Lothario offered to accompany him, but nothing could
persuade Anselmo, who on the contrary pressed Lothario to remain
waiting for him as he had a matter of great importance to discuss with
him. At the same time he bade Camilla not to leave Lothario alone until
he came back. In short he contrived to put so good a face on the
reason, or the folly, of his absence that no one could have suspected
it was a pretence.

Anselmo took his departure, and Camilla and Lothario were left alone at
the table, for the rest of the household had gone to dinner. Lothario
saw himself in the lists according to his friend’s wish, and facing an
enemy that could by her beauty alone vanquish a squadron of armed
knights; judge whether he had good reason to fear; but what he did was
to lean his elbow on the arm of the chair, and his cheek upon his hand,
and, asking Camilla’s pardon for his ill manners, he said he wished to
take a little sleep until Anselmo returned. Camilla in reply said he
could repose more at his ease in the reception-room than in his chair,
and begged of him to go in and sleep there; but Lothario declined, and
there he remained asleep until the return of Anselmo, who finding
Camilla in her own room, and Lothario asleep, imagined that he had
stayed away so long as to have afforded them time enough for
conversation and even for sleep, and was all impatience until Lothario
should wake up, that he might go out with him and question him as to
his success. Everything fell out as he wished; Lothario awoke, and the
two at once left the house, and Anselmo asked what he was anxious to
know, and Lothario in answer told him that he had not thought it
advisable to declare himself entirely the first time, and therefore had
only extolled the charms of Camilla, telling her that all the city
spoke of nothing else but her beauty and wit, for this seemed to him an
excellent way of beginning to gain her good-will and render her
disposed to listen to him with pleasure the next time, thus availing
himself of the device the devil has recourse to when he would deceive
one who is on the watch; for he being the angel of darkness transforms
himself into an angel of light, and, under cover of a fair seeming,
discloses himself at length, and effects his purpose if at the
beginning his wiles are not discovered. All this gave great
satisfaction to Anselmo, and he said he would afford the same
opportunity every day, but without leaving the house, for he would find
things to do at home so that Camilla should not detect the plot.

Thus, then, several days went by, and Lothario, without uttering a word
to Camilla, reported to Anselmo that he had talked with her and that he
had never been able to draw from her the slightest indication of
consent to anything dishonourable, nor even a sign or shadow of hope;
on the contrary, he said she would inform her husband of it.

“So far well,” said Anselmo; “Camilla has thus far resisted words; we
must now see how she will resist deeds. I will give you to-morrow two
thousand crowns in gold for you to offer or even present, and as many
more to buy jewels to lure her, for women are fond of being becomingly
attired and going gaily dressed, and all the more so if they are
beautiful, however chaste they may be; and if she resists this
temptation, I will rest satisfied and will give you no more trouble.”

Lothario replied that now he had begun he would carry on the
undertaking to the end, though he perceived he was to come out of it
wearied and vanquished. The next day he received the four thousand
crowns, and with them four thousand perplexities, for he knew not what
to say by way of a new falsehood; but in the end he made up his mind to
tell him that Camilla stood as firm against gifts and promises as
against words, and that there was no use in taking any further trouble,
for the time was all spent to no purpose.

But chance, directing things in a different manner, so ordered it that
Anselmo, having left Lothario and Camilla alone as on other occasions,
shut himself into a chamber and posted himself to watch and listen
through the keyhole to what passed between them, and perceived that for
more than half an hour Lothario did not utter a word to Camilla, nor
would utter a word though he were to be there for an age; and he came
to the conclusion that what his friend had told him about the replies
of Camilla was all invention and falsehood, and to ascertain if it were
so, he came out, and calling Lothario aside asked him what news he had
and in what humour Camilla was. Lothario replied that he was not
disposed to go on with the business, for she had answered him so
angrily and harshly that he had no heart to say anything more to her.

“Ah, Lothario, Lothario,” said Anselmo, “how ill dost thou meet thy
obligations to me, and the great confidence I repose in thee! I have
been just now watching through this keyhole, and I have seen that thou
hast not said a word to Camilla, whence I conclude that on the former
occasions thou hast not spoken to her either, and if this be so, as no
doubt it is, why dost thou deceive me, or wherefore seekest thou by
craft to deprive me of the means I might find of attaining my desire?”

Anselmo said no more, but he had said enough to cover Lothario with
shame and confusion, and he, feeling as it were his honour touched by
having been detected in a lie, swore to Anselmo that he would from that
moment devote himself to satisfying him without any deception, as he
would see if he had the curiosity to watch; though he need not take the
trouble, for the pains he would take to satisfy him would remove all
suspicions from his mind. Anselmo believed him, and to afford him an
opportunity more free and less liable to surprise, he resolved to
absent himself from his house for eight days, betaking himself to that
of a friend of his who lived in a village not far from the city; and,
the better to account for his departure to Camilla, he so arranged it
that the friend should send him a very pressing invitation.

Unhappy, shortsighted Anselmo, what art thou doing, what art thou
plotting, what art thou devising? Bethink thee thou art working against
thyself, plotting thine own dishonour, devising thine own ruin. Thy
wife Camilla is virtuous, thou dost possess her in peace and quietness,
no one assails thy happiness, her thoughts wander not beyond the walls
of thy house, thou art her heaven on earth, the object of her wishes,
the fulfilment of her desires, the measure wherewith she measures her
will, making it conform in all things to thine and Heaven’s. If, then,
the mine of her honour, beauty, virtue, and modesty yields thee without
labour all the wealth it contains and thou canst wish for, why wilt
thou dig the earth in search of fresh veins, of new unknown treasure,
risking the collapse of all, since it but rests on the feeble props of
her weak nature? Bethink thee that from him who seeks impossibilities
that which is possible may with justice be withheld, as was better
expressed by a poet who said:

’Tis mine to seek for life in death,
    Health in disease seek I,
I seek in prison freedom’s breath,
    In traitors loyalty.

So Fate that ever scorns to grant
    Or grace or boon to me,
Since what can never be I want,
    Denies me what might be.


The next day Anselmo took his departure for the village, leaving
instructions with Camilla that during his absence Lothario would come
to look after his house and to dine with her, and that she was to treat
him as she would himself. Camilla was distressed, as a discreet and
right-minded woman would be, at the orders her husband left her, and
bade him remember that it was not becoming that anyone should occupy
his seat at the table during his absence, and if he acted thus from not
feeling confidence that she would be able to manage his house, let him
try her this time, and he would find by experience that she was equal
to greater responsibilities. Anselmo replied that it was his pleasure
to have it so, and that she had only to submit and obey. Camilla said
she would do so, though against her will.

Anselmo went, and the next day Lothario came to his house, where he was
received by Camilla with a friendly and modest welcome; but she never
suffered Lothario to see her alone, for she was always attended by her
men and women servants, especially by a handmaid of hers, Leonela by
name, to whom she was much attached (for they had been brought up
together from childhood in her father’s house), and whom she had kept
with her after her marriage with Anselmo. The first three days Lothario
did not speak to her, though he might have done so when they removed
the cloth and the servants retired to dine hastily; for such were
Camilla’s orders; nay more, Leonela had directions to dine earlier than
Camilla and never to leave her side. She, however, having her thoughts
fixed upon other things more to her taste, and wanting that time and
opportunity for her own pleasures, did not always obey her mistress’s
commands, but on the contrary left them alone, as if they had ordered
her to do so; but the modest bearing of Camilla, the calmness of her
countenance, the composure of her aspect were enough to bridle the
tongue of Lothario. But the influence which the many virtues of Camilla
exerted in imposing silence on Lothario’s tongue proved mischievous for
both of them, for if his tongue was silent his thoughts were busy, and
could dwell at leisure upon the perfections of Camilla’s goodness and
beauty one by one, charms enough to warm with love a marble statue, not
to say a heart of flesh. Lothario gazed upon her when he might have
been speaking to her, and thought how worthy of being loved she was;
and thus reflection began little by little to assail his allegiance to
Anselmo, and a thousand times he thought of withdrawing from the city
and going where Anselmo should never see him nor he see Camilla. But
already the delight he found in gazing on her interposed and held him
fast. He put a constraint upon himself, and struggled to repel and
repress the pleasure he found in contemplating Camilla; when alone he
blamed himself for his weakness, called himself a bad friend, nay a bad
Christian; then he argued the matter and compared himself with Anselmo;
always coming to the conclusion that the folly and rashness of Anselmo
had been worse than his faithlessness, and that if he could excuse his
intentions as easily before God as with man, he had no reason to fear
any punishment for his offence.

In short the beauty and goodness of Camilla, joined with the
opportunity which the blind husband had placed in his hands, overthrew
the loyalty of Lothario; and giving heed to nothing save the object
towards which his inclinations led him, after Anselmo had been three
days absent, during which he had been carrying on a continual struggle
with his passion, he began to make love to Camilla with so much
vehemence and warmth of language that she was overwhelmed with
amazement, and could only rise from her place and retire to her room
without answering him a word. But the hope which always springs up with
love was not weakened in Lothario by this repelling demeanour; on the
contrary his passion for Camilla increased, and she discovering in him
what she had never expected, knew not what to do; and considering it
neither safe nor right to give him the chance or opportunity of
speaking to her again, she resolved to send, as she did that very
night, one of her servants with a letter to Anselmo, in which she
addressed the following words to him.



CHAPTER XXXIV.
IN WHICH IS CONTINUED THE NOVEL OF “THE ILL-ADVISED CURIOSITY”

“It is commonly said that an army looks ill without its general and a
castle without its castellan, and I say that a young married woman
looks still worse without her husband unless there are very good
reasons for it. I find myself so ill at ease without you, and so
incapable of enduring this separation, that unless you return quickly I
shall have to go for relief to my parents’ house, even if I leave yours
without a protector; for the one you left me, if indeed he deserved
that title, has, I think, more regard to his own pleasure than to what
concerns you: as you are possessed of discernment I need say no more to
you, nor indeed is it fitting I should say more.”

Anselmo received this letter, and from it he gathered that Lothario had
already begun his task and that Camilla must have replied to him as he
would have wished; and delighted beyond measure at such intelligence he
sent word to her not to leave his house on any account, as he would
very shortly return. Camilla was astonished at Anselmo’s reply, which
placed her in greater perplexity than before, for she neither dared to
remain in her own house, nor yet to go to her parents’; for in
remaining her virtue was imperilled, and in going she was opposing her
husband’s commands. Finally she decided upon what was the worse course
for her, to remain, resolving not to fly from the presence of Lothario,
that she might not give food for gossip to her servants; and she now
began to regret having written as she had to her husband, fearing he
might imagine that Lothario had perceived in her some lightness which
had impelled him to lay aside the respect he owed her; but confident of
her rectitude she put her trust in God and in her own virtuous
intentions, with which she hoped to resist in silence all the
solicitations of Lothario, without saying anything to her husband so as
not to involve him in any quarrel or trouble; and she even began to
consider how to excuse Lothario to Anselmo when he should ask her what
it was that induced her to write that letter. With these resolutions,
more honourable than judicious or effectual, she remained the next day
listening to Lothario, who pressed his suit so strenuously that
Camilla’s firmness began to waver, and her virtue had enough to do to
come to the rescue of her eyes and keep them from showing signs of a
certain tender compassion which the tears and appeals of Lothario had
awakened in her bosom. Lothario observed all this, and it inflamed him
all the more. In short he felt that while Anselmo’s absence afforded
time and opportunity he must press the siege of the fortress, and so he
assailed her self-esteem with praises of her beauty, for there is
nothing that more quickly reduces and levels the castle towers of fair
women’s vanity than vanity itself upon the tongue of flattery. In fact
with the utmost assiduity he undermined the rock of her purity with
such engines that had Camilla been of brass she must have fallen. He
wept, he entreated, he promised, he flattered, he importuned, he
pretended with so much feeling and apparent sincerity, that he
overthrew the virtuous resolves of Camilla and won the triumph he least
expected and most longed for. Camilla yielded, Camilla fell; but what
wonder if the friendship of Lothario could not stand firm? A clear
proof to us that the passion of love is to be conquered only by flying
from it, and that no one should engage in a struggle with an enemy so
mighty; for divine strength is needed to overcome his human power.
Leonela alone knew of her mistress’s weakness, for the two false
friends and new lovers were unable to conceal it. Lothario did not care
to tell Camilla the object Anselmo had in view, nor that he had
afforded him the opportunity of attaining such a result, lest she
should undervalue his love and think that it was by chance and without
intending it and not of his own accord that he had made love to her.

A few days later Anselmo returned to his house and did not perceive
what it had lost, that which he so lightly treated and so highly
prized. He went at once to see Lothario, and found him at home; they
embraced each other, and Anselmo asked for the tidings of his life or
his death.

“The tidings I have to give thee, Anselmo my friend,” said Lothario,
“are that thou dost possess a wife that is worthy to be the pattern and
crown of all good wives. The words that I have addressed to her were
borne away on the wind, my promises have been despised, my presents
have been refused, such feigned tears as I shed have been turned into
open ridicule. In short, as Camilla is the essence of all beauty, so is
she the treasure-house where purity dwells, and gentleness and modesty
abide with all the virtues that can confer praise, honour, and
happiness upon a woman. Take back thy money, my friend; here it is, and
I have had no need to touch it, for the chastity of Camilla yields not
to things so base as gifts or promises. Be content, Anselmo, and
refrain from making further proof; and as thou hast passed dryshod
through the sea of those doubts and suspicions that are and may be
entertained of women, seek not to plunge again into the deep ocean of
new embarrassments, or with another pilot make trial of the goodness
and strength of the bark that Heaven has granted thee for thy passage
across the sea of this world; but reckon thyself now safe in port, moor
thyself with the anchor of sound reflection, and rest in peace until
thou art called upon to pay that debt which no nobility on earth can
escape paying.”

Anselmo was completely satisfied by the words of Lothario, and believed
them as fully as if they had been spoken by an oracle; nevertheless he
begged of him not to relinquish the undertaking, were it but for the
sake of curiosity and amusement; though thenceforward he need not make
use of the same earnest endeavours as before; all he wished him to do
was to write some verses to her, praising her under the name of
Chloris, for he himself would give her to understand that he was in
love with a lady to whom he had given that name to enable him to sing
her praises with the decorum due to her modesty; and if Lothario were
unwilling to take the trouble of writing the verses he would compose
them himself.

“That will not be necessary,” said Lothario, “for the muses are not
such enemies of mine but that they visit me now and then in the course
of the year. Do thou tell Camilla what thou hast proposed about a
pretended amour of mine; as for the verses I will make them, and if not
as good as the subject deserves, they shall be at least the best I can
produce.” An agreement to this effect was made between the friends, the
ill-advised one and the treacherous, and Anselmo returning to his house
asked Camilla the question she already wondered he had not asked
before—what it was that had caused her to write the letter she had sent
him. Camilla replied that it had seemed to her that Lothario looked at
her somewhat more freely than when he had been at home; but that now
she was undeceived and believed it to have been only her own
imagination, for Lothario now avoided seeing her, or being alone with
her. Anselmo told her she might be quite easy on the score of that
suspicion, for he knew that Lothario was in love with a damsel of rank
in the city whom he celebrated under the name of Chloris, and that even
if he were not, his fidelity and their great friendship left no room
for fear. Had not Camilla, however, been informed beforehand by
Lothario that this love for Chloris was a pretence, and that he himself
had told Anselmo of it in order to be able sometimes to give utterance
to the praises of Camilla herself, no doubt she would have fallen into
the despairing toils of jealousy; but being forewarned she received the
startling news without uneasiness.

The next day as the three were at table Anselmo asked Lothario to
recite something of what he had composed for his mistress Chloris; for
as Camilla did not know her, he might safely say what he liked.

“Even did she know her,” returned Lothario, “I would hide nothing, for
when a lover praises his lady’s beauty, and charges her with cruelty,
he casts no imputation upon her fair name; at any rate, all I can say
is that yesterday I made a sonnet on the ingratitude of this Chloris,
which goes thus:

SONNET

At midnight, in the silence, when the eyes
Of happier mortals balmy slumbers close,
The weary tale of my unnumbered woes
To Chloris and to Heaven is wont to rise.
And when the light of day returning dyes
The portals of the east with tints of rose,
With undiminished force my sorrow flows
In broken accents and in burning sighs.
And when the sun ascends his star-girt throne,
And on the earth pours down his midday beams,
Noon but renews my wailing and my tears;
And with the night again goes up my moan.
Yet ever in my agony it seems
To me that neither Heaven nor Chloris hears.”


The sonnet pleased Camilla, and still more Anselmo, for he praised it
and said the lady was excessively cruel who made no return for
sincerity so manifest. On which Camilla said, “Then all that
love-smitten poets say is true?”

“As poets they do not tell the truth,” replied Lothario; “but as lovers
they are not more defective in expression than they are truthful.”

“There is no doubt of that,” observed Anselmo, anxious to support and
uphold Lothario’s ideas with Camilla, who was as regardless of his
design as she was deep in love with Lothario; and so taking delight in
anything that was his, and knowing that his thoughts and writings had
her for their object, and that she herself was the real Chloris, she
asked him to repeat some other sonnet or verses if he recollected any.

“I do,” replied Lothario, “but I do not think it as good as the first
one, or, more correctly speaking, less bad; but you can easily judge,
for it is this.

SONNET

I know that I am doomed; death is to me
As certain as that thou, ungrateful fair,
Dead at thy feet shouldst see me lying, ere
My heart repented of its love for thee.
If buried in oblivion I should be,
Bereft of life, fame, favour, even there
It would be found that I thy image bear
Deep graven in my breast for all to see.
This like some holy relic do I prize
To save me from the fate my truth entails,
Truth that to thy hard heart its vigour owes.
Alas for him that under lowering skies,
In peril o’er a trackless ocean sails,
Where neither friendly port nor pole-star shows.”


Anselmo praised this second sonnet too, as he had praised the first;
and so he went on adding link after link to the chain with which he was
binding himself and making his dishonour secure; for when Lothario was
doing most to dishonour him he told him he was most honoured; and thus
each step that Camilla descended towards the depths of her abasement,
she mounted, in his opinion, towards the summit of virtue and fair
fame.

It so happened that finding herself on one occasion alone with her
maid, Camilla said to her, “I am ashamed to think, my dear Leonela, how
lightly I have valued myself that I did not compel Lothario to purchase
by at least some expenditure of time that full possession of me that I
so quickly yielded him of my own free will. I fear that he will think
ill of my pliancy or lightness, not considering the irresistible
influence he brought to bear upon me.”

“Let not that trouble you, my lady,” said Leonela, “for it does not
take away the value of the thing given or make it the less precious to
give it quickly if it be really valuable and worthy of being prized;
nay, they are wont to say that he who gives quickly gives twice.”

“They say also,” said Camilla, “that what costs little is valued less.”

“That saying does not hold good in your case,” replied Leonela, “for
love, as I have heard say, sometimes flies and sometimes walks; with
this one it runs, with that it moves slowly; some it cools, others it
burns; some it wounds, others it slays; it begins the course of its
desires, and at the same moment completes and ends it; in the morning
it will lay siege to a fortress and by night will have taken it, for
there is no power that can resist it; so what are you in dread of, what
do you fear, when the same must have befallen Lothario, love having
chosen the absence of my lord as the instrument for subduing you? and
it was absolutely necessary to complete then what love had resolved
upon, without affording the time to let Anselmo return and by his
presence compel the work to be left unfinished; for love has no better
agent for carrying out his designs than opportunity; and of opportunity
he avails himself in all his feats, especially at the outset. All this
I know well myself, more by experience than by hearsay, and some day,
señora, I will enlighten you on the subject, for I am of your flesh and
blood too. Moreover, lady Camilla, you did not surrender yourself or
yield so quickly but that first you saw Lothario’s whole soul in his
eyes, in his sighs, in his words, his promises and his gifts, and by it
and his good qualities perceived how worthy he was of your love. This,
then, being the case, let not these scrupulous and prudish ideas
trouble your imagination, but be assured that Lothario prizes you as
you do him, and rest content and satisfied that as you are caught in
the noose of love it is one of worth and merit that has taken you, and
one that has not only the four S’s that they say true lovers ought to
have, but a complete alphabet; only listen to me and you will see how I
can repeat it by rote. He is to my eyes and thinking, Amiable, Brave,
Courteous, Distinguished, Elegant, Fond, Gay, Honourable, Illustrious,
Loyal, Manly, Noble, Open, Polite, Quickwitted, Rich, and the S’s
according to the saying, and then Tender, Veracious: X does not suit
him, for it is a rough letter; Y has been given already; and Z Zealous
for your honour.”

Camilla laughed at her maid’s alphabet, and perceived her to be more
experienced in love affairs than she said, which she admitted,
confessing to Camilla that she had love passages with a young man of
good birth of the same city. Camilla was uneasy at this, dreading lest
it might prove the means of endangering her honour, and asked whether
her intrigue had gone beyond words, and she with little shame and much
effrontery said it had; for certain it is that ladies’ imprudences make
servants shameless, who, when they see their mistresses make a false
step, think nothing of going astray themselves, or of its being known.
All that Camilla could do was to entreat Leonela to say nothing about
her doings to him whom she called her lover, and to conduct her own
affairs secretly lest they should come to the knowledge of Anselmo or
of Lothario. Leonela said she would, but kept her word in such a way
that she confirmed Camilla’s apprehension of losing her reputation
through her means; for this abandoned and bold Leonela, as soon as she
perceived that her mistress’s demeanour was not what it was wont to be,
had the audacity to introduce her lover into the house, confident that
even if her mistress saw him she would not dare to expose him; for the
sins of mistresses entail this mischief among others; they make
themselves the slaves of their own servants, and are obliged to hide
their laxities and depravities; as was the case with Camilla, who
though she perceived, not once but many times, that Leonela was with
her lover in some room of the house, not only did not dare to chide
her, but afforded her opportunities for concealing him and removed all
difficulties, lest he should be seen by her husband. She was unable,
however, to prevent him from being seen on one occasion, as he sallied
forth at daybreak, by Lothario, who, not knowing who he was, at first
took him for a spectre; but, as soon as he saw him hasten away,
muffling his face with his cloak and concealing himself carefully and
cautiously, he rejected this foolish idea, and adopted another, which
would have been the ruin of all had not Camilla found a remedy. It did
not occur to Lothario that this man he had seen issuing at such an
untimely hour from Anselmo’s house could have entered it on Leonela’s
account, nor did he even remember there was such a person as Leonela;
all he thought was that as Camilla had been light and yielding with
him, so she had been with another; for this further penalty the erring
woman’s sin brings with it, that her honour is distrusted even by him
to whose overtures and persuasions she has yielded; and he believes her
to have surrendered more easily to others, and gives implicit credence
to every suspicion that comes into his mind. All Lothario’s good sense
seems to have failed him at this juncture; all his prudent maxims
escaped his memory; for without once reflecting rationally, and without
more ado, in his impatience and in the blindness of the jealous rage
that gnawed his heart, and dying to revenge himself upon Camilla, who
had done him no wrong, before Anselmo had risen he hastened to him and
said to him, “Know, Anselmo, that for several days past I have been
struggling with myself, striving to withhold from thee what it is no
longer possible or right that I should conceal from thee. Know that
Camilla’s fortress has surrendered and is ready to submit to my will;
and if I have been slow to reveal this fact to thee, it was in order to
see if it were some light caprice of hers, or if she sought to try me
and ascertain if the love I began to make to her with thy permission
was made with a serious intention. I thought, too, that she, if she
were what she ought to be, and what we both believed her, would have
ere this given thee information of my addresses; but seeing that she
delays, I believe the truth of the promise she has given me that the
next time thou art absent from the house she will grant me an interview
in the closet where thy jewels are kept (and it was true that Camilla
used to meet him there); but I do not wish thee to rush precipitately
to take vengeance, for the sin is as yet only committed in intention,
and Camilla’s may change perhaps between this and the appointed time,
and repentance spring up in its place. As hitherto thou hast always
followed my advice wholly or in part, follow and observe this that I
will give thee now, so that, without mistake, and with mature
deliberation, thou mayest satisfy thyself as to what may seem the best
course; pretend to absent thyself for two or three days as thou hast
been wont to do on other occasions, and contrive to hide thyself in the
closet; for the tapestries and other things there afford great
facilities for thy concealment, and then thou wilt see with thine own
eyes and I with mine what Camilla’s purpose may be. And if it be a
guilty one, which may be feared rather than expected, with silence,
prudence, and discretion thou canst thyself become the instrument of
punishment for the wrong done thee.”

Anselmo was amazed, overwhelmed, and astounded at the words of
Lothario, which came upon him at a time when he least expected to hear
them, for he now looked upon Camilla as having triumphed over the
pretended attacks of Lothario, and was beginning to enjoy the glory of
her victory. He remained silent for a considerable time, looking on the
ground with fixed gaze, and at length said, “Thou hast behaved,
Lothario, as I expected of thy friendship: I will follow thy advice in
everything; do as thou wilt, and keep this secret as thou seest it
should be kept in circumstances so unlooked for.”

Lothario gave him his word, but after leaving him he repented
altogether of what he had said to him, perceiving how foolishly he had
acted, as he might have revenged himself upon Camilla in some less
cruel and degrading way. He cursed his want of sense, condemned his
hasty resolution, and knew not what course to take to undo the mischief
or find some ready escape from it. At last he decided upon revealing
all to Camilla, and, as there was no want of opportunity for doing so,
he found her alone the same day; but she, as soon as she had the chance
of speaking to him, said, “Lothario my friend, I must tell thee I have
a sorrow in my heart which fills it so that it seems ready to burst;
and it will be a wonder if it does not; for the audacity of Leonela has
now reached such a pitch that every night she conceals a gallant of
hers in this house and remains with him till morning, at the expense of
my reputation; inasmuch as it is open to anyone to question it who may
see him quitting my house at such unseasonable hours; but what
distresses me is that I cannot punish or chide her, for her privity to
our intrigue bridles my mouth and keeps me silent about hers, while I
am dreading that some catastrophe will come of it.”

As Camilla said this Lothario at first imagined it was some device to
delude him into the idea that the man he had seen going out was
Leonela’s lover and not hers; but when he saw how she wept and
suffered, and begged him to help her, he became convinced of the truth,
and the conviction completed his confusion and remorse; however, he
told Camilla not to distress herself, as he would take measures to put
a stop to the insolence of Leonela. At the same time he told her what,
driven by the fierce rage of jealousy, he had said to Anselmo, and how
he had arranged to hide himself in the closet that he might there see
plainly how little she preserved her fidelity to him; and he entreated
her pardon for this madness, and her advice as to how to repair it, and
escape safely from the intricate labyrinth in which his imprudence had
involved him. Camilla was struck with alarm at hearing what Lothario
said, and with much anger, and great good sense, she reproved him and
rebuked his base design and the foolish and mischievous resolution he
had made; but as woman has by nature a nimbler wit than man for good
and for evil, though it is apt to fail when she sets herself
deliberately to reason, Camilla on the spur of the moment thought of a
way to remedy what was to all appearance irremediable, and told
Lothario to contrive that the next day Anselmo should conceal himself
in the place he mentioned, for she hoped from his concealment to obtain
the means of their enjoying themselves for the future without any
apprehension; and without revealing her purpose to him entirely she
charged him to be careful, as soon as Anselmo was concealed, to come to
her when Leonela should call him, and to all she said to him to answer
as he would have answered had he not known that Anselmo was listening.
Lothario pressed her to explain her intention fully, so that he might
with more certainty and precaution take care to do what he saw to be
needful.

“I tell you,” said Camilla, “there is nothing to take care of except to
answer me what I shall ask you;” for she did not wish to explain to him
beforehand what she meant to do, fearing lest he should be unwilling to
follow out an idea which seemed to her such a good one, and should try
or devise some other less practicable plan.

Lothario then retired, and the next day Anselmo, under pretence of
going to his friend’s country house, took his departure, and then
returned to conceal himself, which he was able to do easily, as Camilla
and Leonela took care to give him the opportunity; and so he placed
himself in hiding in the state of agitation that it may be imagined he
would feel who expected to see the vitals of his honour laid bare
before his eyes, and found himself on the point of losing the supreme
blessing he thought he possessed in his beloved Camilla. Having made
sure of Anselmo’s being in his hiding-place, Camilla and Leonela
entered the closet, and the instant she set foot within it Camilla
said, with a deep sigh, “Ah! dear Leonela, would it not be better,
before I do what I am unwilling you should know lest you should seek to
prevent it, that you should take Anselmo’s dagger that I have asked of
you and with it pierce this vile heart of mine? But no; there is no
reason why I should suffer the punishment of another’s fault. I will
first know what it is that the bold licentious eyes of Lothario have
seen in me that could have encouraged him to reveal to me a design so
base as that which he has disclosed regardless of his friend and of my
honour. Go to the window, Leonela, and call him, for no doubt he is in
the street waiting to carry out his vile project; but mine, cruel it
may be, but honourable, shall be carried out first.”

“Ah, señora,” said the crafty Leonela, who knew her part, “what is it
you want to do with this dagger? Can it be that you mean to take your
own life, or Lothario’s? for whichever you mean to do, it will lead to
the loss of your reputation and good name. It is better to dissemble
your wrong and not give this wicked man the chance of entering the
house now and finding us alone; consider, señora, we are weak women and
he is a man, and determined, and as he comes with such a base purpose,
blind and urged by passion, perhaps before you can put yours into
execution he may do what will be worse for you than taking your life.
Ill betide my master, Anselmo, for giving such authority in his house
to this shameless fellow! And supposing you kill him, señora, as I
suspect you mean to do, what shall we do with him when he is dead?”

“What, my friend?” replied Camilla, “we shall leave him for Anselmo to
bury him; for in reason it will be to him a light labour to hide his
own infamy under ground. Summon him, make haste, for all the time I
delay in taking vengeance for my wrong seems to me an offence against
the loyalty I owe my husband.”

Anselmo was listening to all this, and every word that Camilla uttered
made him change his mind; but when he heard that it was resolved to
kill Lothario his first impulse was to come out and show himself to
avert such a disaster; but in his anxiety to see the issue of a
resolution so bold and virtuous he restrained himself, intending to
come forth in time to prevent the deed. At this moment Camilla,
throwing herself upon a bed that was close by, swooned away, and
Leonela began to weep bitterly, exclaiming, “Woe is me! that I should
be fated to have dying here in my arms the flower of virtue upon earth,
the crown of true wives, the pattern of chastity!” with more to the
same effect, so that anyone who heard her would have taken her for the
most tender-hearted and faithful handmaid in the world, and her
mistress for another persecuted Penelope.

Camilla was not long in recovering from her fainting fit and on coming
to herself she said, “Why do you not go, Leonela, to call hither that
friend, the falsest to his friend the sun ever shone upon or night
concealed? Away, run, haste, speed! lest the fire of my wrath burn
itself out with delay, and the righteous vengeance that I hope for melt
away in menaces and maledictions.”

“I am just going to call him, señora,” said Leonela; “but you must
first give me that dagger, lest while I am gone you should by means of
it give cause to all who love you to weep all their lives.”

“Go in peace, dear Leonela, I will not do so,” said Camilla, “for rash
and foolish as I may be, to your mind, in defending my honour, I am not
going to be so much so as that Lucretia who they say killed herself
without having done anything wrong, and without having first killed him
on whom the guilt of her misfortune lay. I shall die, if I am to die;
but it must be after full vengeance upon him who has brought me here to
weep over audacity that no fault of mine gave birth to.”

Leonela required much pressing before she would go to summon Lothario,
but at last she went, and while awaiting her return Camilla continued,
as if speaking to herself, “Good God! would it not have been more
prudent to have repulsed Lothario, as I have done many a time before,
than to allow him, as I am now doing, to think me unchaste and vile,
even for the short time I must wait until I undeceive him? No doubt it
would have been better; but I should not be avenged, nor the honour of
my husband vindicated, should he find so clear and easy an escape from
the strait into which his depravity has led him. Let the traitor pay
with his life for the temerity of his wanton wishes, and let the world
know (if haply it shall ever come to know) that Camilla not only
preserved her allegiance to her husband, but avenged him of the man who
dared to wrong him. Still, I think it might be better to disclose this
to Anselmo. But then I have called his attention to it in the letter I
wrote to him in the country, and, if he did nothing to prevent the
mischief I there pointed out to him, I suppose it was that from pure
goodness of heart and trustfulness he would not and could not believe
that any thought against his honour could harbour in the breast of so
stanch a friend; nor indeed did I myself believe it for many days, nor
should I have ever believed it if his insolence had not gone so far as
to make it manifest by open presents, lavish promises, and ceaseless
tears. But why do I argue thus? Does a bold determination stand in need
of arguments? Surely not. Then traitors avaunt! Vengeance to my aid!
Let the false one come, approach, advance, die, yield up his life, and
then befall what may. Pure I came to him whom Heaven bestowed upon me,
pure I shall leave him; and at the worst bathed in my own chaste blood
and in the foul blood of the falsest friend that friendship ever saw in
the world;” and as she uttered these words she paced the room holding
the unsheathed dagger, with such irregular and disordered steps, and
such gestures that one would have supposed her to have lost her senses,
and taken her for some violent desperado instead of a delicate woman.

Anselmo, hidden behind some tapestries where he had concealed himself,
beheld and was amazed at all, and already felt that what he had seen
and heard was a sufficient answer to even greater suspicions; and he
would have been now well pleased if the proof afforded by Lothario’s
coming were dispensed with, as he feared some sudden mishap; but as he
was on the point of showing himself and coming forth to embrace and
undeceive his wife he paused as he saw Leonela returning, leading
Lothario. Camilla when she saw him, drawing a long line in front of her
on the floor with the dagger, said to him, “Lothario, pay attention to
what I say to thee: if by any chance thou darest to cross this line
thou seest, or even approach it, the instant I see thee attempt it that
same instant will I pierce my bosom with this dagger that I hold in my
hand; and before thou answerest me a word desire thee to listen to a
few from me, and afterwards thou shalt reply as may please thee. First,
I desire thee to tell me, Lothario, if thou knowest my husband Anselmo,
and in what light thou regardest him; and secondly I desire to know if
thou knowest me too. Answer me this, without embarrassment or
reflecting deeply what thou wilt answer, for they are no riddles I put
to thee.”

Lothario was not so dull but that from the first moment when Camilla
directed him to make Anselmo hide himself he understood what she
intended to do, and therefore he fell in with her idea so readily and
promptly that between them they made the imposture look more true than
truth; so he answered her thus: “I did not think, fair Camilla, that
thou wert calling me to ask questions so remote from the object with
which I come; but if it is to defer the promised reward thou art doing
so, thou mightst have put it off still longer, for the longing for
happiness gives the more distress the nearer comes the hope of gaining
it; but lest thou shouldst say that I do not answer thy questions, I
say that I know thy husband Anselmo, and that we have known each other
from our earliest years; I will not speak of what thou too knowest, of
our friendship, that I may not compel myself to testify against the
wrong that love, the mighty excuse for greater errors, makes me inflict
upon him. Thee I know and hold in the same estimation as he does, for
were it not so I had not for a lesser prize acted in opposition to what
I owe to my station and the holy laws of true friendship, now broken
and violated by me through that powerful enemy, love.”

“If thou dost confess that,” returned Camilla, “mortal enemy of all
that rightly deserves to be loved, with what face dost thou dare to
come before one whom thou knowest to be the mirror wherein he is
reflected on whom thou shouldst look to see how unworthily thou
wrongest him? But, woe is me, I now comprehend what has made thee give
so little heed to what thou owest to thyself; it must have been some
freedom of mine, for I will not call it immodesty, as it did not
proceed from any deliberate intention, but from some heedlessness such
as women are guilty of through inadvertence when they think they have
no occasion for reserve. But tell me, traitor, when did I by word or
sign give a reply to thy prayers that could awaken in thee a shadow of
hope of attaining thy base wishes? When were not thy professions of
love sternly and scornfully rejected and rebuked? When were thy
frequent pledges and still more frequent gifts believed or accepted?
But as I am persuaded that no one can long persevere in the attempt to
win love unsustained by some hope, I am willing to attribute to myself
the blame of thy assurance, for no doubt some thoughtlessness of mine
has all this time fostered thy hopes; and therefore will I punish
myself and inflict upon myself the penalty thy guilt deserves. And that
thou mayest see that being so relentless to myself I cannot possibly be
otherwise to thee, I have summoned thee to be a witness of the
sacrifice I mean to offer to the injured honour of my honoured husband,
wronged by thee with all the assiduity thou wert capable of, and by me
too through want of caution in avoiding every occasion, if I have given
any, of encouraging and sanctioning thy base designs. Once more I say
the suspicion in my mind that some imprudence of mine has engendered
these lawless thoughts in thee, is what causes me most distress and
what I desire most to punish with my own hands, for were any other
instrument of punishment employed my error might become perhaps more
widely known; but before I do so, in my death I mean to inflict death,
and take with me one that will fully satisfy my longing for the revenge
I hope for and have; for I shall see, wheresoever it may be that I go,
the penalty awarded by inflexible, unswerving justice on him who has
placed me in a position so desperate.”

As she uttered these words, with incredible energy and swiftness she
flew upon Lothario with the naked dagger, so manifestly bent on burying
it in his breast that he was almost uncertain whether these
demonstrations were real or feigned, for he was obliged to have
recourse to all his skill and strength to prevent her from striking
him; and with such reality did she act this strange farce and
mystification that, to give it a colour of truth, she determined to
stain it with her own blood; for perceiving, or pretending, that she
could not wound Lothario, she said, “Fate, it seems, will not grant my
just desire complete satisfaction, but it will not be able to keep me
from satisfying it partially at least;” and making an effort to free
the hand with the dagger which Lothario held in his grasp, she released
it, and directing the point to a place where it could not inflict a
deep wound, she plunged it into her left side high up close to the
shoulder, and then allowed herself to fall to the ground as if in a
faint.

Leonela and Lothario stood amazed and astounded at the catastrophe, and
seeing Camilla stretched on the ground and bathed in her blood they
were still uncertain as to the true nature of the act. Lothario,
terrified and breathless, ran in haste to pluck out the dagger; but
when he saw how slight the wound was he was relieved of his fears and
once more admired the subtlety, coolness, and ready wit of the fair
Camilla; and the better to support the part he had to play he began to
utter profuse and doleful lamentations over her body as if she were
dead, invoking maledictions not only on himself but also on him who had
been the means of placing him in such a position: and knowing that his
friend Anselmo heard him he spoke in such a way as to make a listener
feel much more pity for him than for Camilla, even though he supposed
her dead. Leonela took her up in her arms and laid her on the bed,
entreating Lothario to go in quest of someone to attend to her wound in
secret, and at the same time asking his advice and opinion as to what
they should say to Anselmo about his lady’s wound if he should chance
to return before it was healed. He replied they might say what they
liked, for he was not in a state to give advice that would be of any
use; all he could tell her was to try and stanch the blood, as he was
going where he should never more be seen; and with every appearance of
deep grief and sorrow he left the house; but when he found himself
alone, and where there was nobody to see him, he crossed himself
unceasingly, lost in wonder at the adroitness of Camilla and the
consistent acting of Leonela. He reflected how convinced Anselmo would
be that he had a second Portia for a wife, and he looked forward
anxiously to meeting him in order to rejoice together over falsehood
and truth the most craftily veiled that could be imagined.

Leonela, as he told her, stanched her lady’s blood, which was no more
than sufficed to support her deception; and washing the wound with a
little wine she bound it up to the best of her skill, talking all the
time she was tending her in a strain that, even if nothing else had
been said before, would have been enough to assure Anselmo that he had
in Camilla a model of purity. To Leonela’s words Camilla added her own,
calling herself cowardly and wanting in spirit, since she had not
enough at the time she had most need of it to rid herself of the life
she so much loathed. She asked her attendant’s advice as to whether or
not she ought to inform her beloved husband of all that had happened,
but the other bade her say nothing about it, as she would lay upon him
the obligation of taking vengeance on Lothario, which he could not do
but at great risk to himself; and it was the duty of a true wife not to
give her husband provocation to quarrel, but, on the contrary, to
remove it as far as possible from him.

Camilla replied that she believed she was right and that she would
follow her advice, but at any rate it would be well to consider how she
was to explain the wound to Anselmo, for he could not help seeing it;
to which Leonela answered that she did not know how to tell a lie even
in jest.

“How then can I know, my dear?” said Camilla, “for I should not dare to
forge or keep up a falsehood if my life depended on it. If we can think
of no escape from this difficulty, it will be better to tell him the
plain truth than that he should find us out in an untrue story.”

“Be not uneasy, señora,” said Leonela; “between this and to-morrow I
will think of what we must say to him, and perhaps the wound being
where it is it can be hidden from his sight, and Heaven will be pleased
to aid us in a purpose so good and honourable. Compose yourself,
señora, and endeavour to calm your excitement lest my lord find you
agitated; and leave the rest to my care and God’s, who always supports
good intentions.”

Anselmo had with the deepest attention listened to and seen played out
the tragedy of the death of his honour, which the performers acted with
such wonderfully effective truth that it seemed as if they had become
the realities of the parts they played. He longed for night and an
opportunity of escaping from the house to go and see his good friend
Lothario, and with him give vent to his joy over the precious pearl he
had gained in having established his wife’s purity. Both mistress and
maid took care to give him time and opportunity to get away, and taking
advantage of it he made his escape, and at once went in quest of
Lothario, and it would be impossible to describe how he embraced him
when he found him, and the things he said to him in the joy of his
heart, and the praises he bestowed upon Camilla; all which Lothario
listened to without being able to show any pleasure, for he could not
forget how deceived his friend was, and how dishonourably he had
wronged him; and though Anselmo could see that Lothario was not glad,
still he imagined it was only because he had left Camilla wounded and
had been himself the cause of it; and so among other things he told him
not to be distressed about Camilla’s accident, for, as they had agreed
to hide it from him, the wound was evidently trifling; and that being
so, he had no cause for fear, but should henceforward be of good cheer
and rejoice with him, seeing that by his means and adroitness he found
himself raised to the greatest height of happiness that he could have
ventured to hope for, and desired no better pastime than making verses
in praise of Camilla that would preserve her name for all time to come.
Lothario commended his purpose, and promised on his own part to aid him
in raising a monument so glorious.

And so Anselmo was left the most charmingly hoodwinked man there could
be in the world. He himself, persuaded he was conducting the instrument
of his glory, led home by the hand of him who had been the utter
destruction of his good name; whom Camilla received with averted
countenance, though with smiles in her heart. The deception was carried
on for some time, until at the end of a few months Fortune turned her
wheel and the guilt which had been until then so skilfully concealed
was published abroad, and Anselmo paid with his life the penalty of his
ill-advised curiosity.



CHAPTER XXXV.
WHICH TREATS OF THE HEROIC AND PRODIGIOUS BATTLE DON QUIXOTE HAD WITH
CERTAIN SKINS OF RED WINE, AND BRINGS THE NOVEL OF “THE ILL-ADVISED
CURIOSITY” TO A CLOSE

There remained but little more of the novel to be read, when Sancho
Panza burst forth in wild excitement from the garret where Don Quixote
was lying, shouting, “Run, sirs! quick; and help my master, who is in
the thick of the toughest and stiffest battle I ever laid eyes on. By
the living God he has given the giant, the enemy of my lady the
Princess Micomicona, such a slash that he has sliced his head clean off
as if it were a turnip.”

“What are you talking about, brother?” said the curate, pausing as he
was about to read the remainder of the novel. “Are you in your senses,
Sancho? How the devil can it be as you say, when the giant is two
thousand leagues away?”

Here they heard a loud noise in the chamber, and Don Quixote shouting
out, “Stand, thief, brigand, villain; now I have got thee, and thy
scimitar shall not avail thee!” And then it seemed as though he were
slashing vigorously at the wall.

“Don’t stop to listen,” said Sancho, “but go in and part them or help
my master: though there is no need of that now, for no doubt the giant
is dead by this time and giving account to God of his past wicked life;
for I saw the blood flowing on the ground, and the head cut off and
fallen on one side, and it is as big as a large wine-skin.”

“May I die,” said the landlord at this, “if Don Quixote or Don Devil
has not been slashing some of the skins of red wine that stand full at
his bed’s head, and the spilt wine must be what this good fellow takes
for blood;” and so saying he went into the room and the rest after him,
and there they found Don Quixote in the strangest costume in the world.
He was in his shirt, which was not long enough in front to cover his
thighs completely and was six fingers shorter behind; his legs were
very long and lean, covered with hair, and anything but clean; on his
head he had a little greasy red cap that belonged to the host, round
his left arm he had rolled the blanket of the bed, to which Sancho, for
reasons best known to himself, owed a grudge, and in his right hand he
held his unsheathed sword, with which he was slashing about on all
sides, uttering exclamations as if he were actually fighting some
giant: and the best of it was his eyes were not open, for he was fast
asleep, and dreaming that he was doing battle with the giant. For his
imagination was so wrought upon by the adventure he was going to
accomplish, that it made him dream he had already reached the kingdom
of Micomicon, and was engaged in combat with his enemy; and believing
he was laying on the giant, he had given so many sword cuts to the
skins that the whole room was full of wine. On seeing this the landlord
was so enraged that he fell on Don Quixote, and with his clenched fist
began to pummel him in such a way, that if Cardenio and the curate had
not dragged him off, he would have brought the war of the giant to an
end. But in spite of all the poor gentleman never woke until the barber
brought a great pot of cold water from the well and flung it with one
dash all over his body, on which Don Quixote woke up, but not so
completely as to understand what was the matter. Dorothea, seeing how
short and slight his attire was, would not go in to witness the battle
between her champion and her opponent. As for Sancho, he went searching
all over the floor for the head of the giant, and not finding it he
said, “I see now that it’s all enchantment in this house; for the last
time, on this very spot where I am now, I got ever so many thumps
without knowing who gave them to me, or being able to see anybody; and
now this head is not to be seen anywhere about, though I saw it cut off
with my own eyes and the blood running from the body as if from a
fountain.”

“What blood and fountains are you talking about, enemy of God and his
saints?” said the landlord. “Don’t you see, you thief, that the blood
and the fountain are only these skins here that have been stabbed and
the red wine swimming all over the room?—and I wish I saw the soul of
him that stabbed them swimming in hell.”

“I know nothing about that,” said Sancho; “all I know is it will be my
bad luck that through not finding this head my county will melt away
like salt in water;”—for Sancho awake was worse than his master asleep,
so much had his master’s promises addled his wits.

The landlord was beside himself at the coolness of the squire and the
mischievous doings of the master, and swore it should not be like the
last time when they went without paying; and that their privileges of
chivalry should not hold good this time to let one or other of them off
without paying, even to the cost of the plugs that would have to be put
to the damaged wine-skins. The curate was holding Don Quixote’s hands,
who, fancying he had now ended the adventure and was in the presence of
the Princess Micomicona, knelt before the curate and said, “Exalted and
beauteous lady, your highness may live from this day forth fearless of
any harm this base being could do you; and I too from this day forth am
released from the promise I gave you, since by the help of God on high
and by the favour of her by whom I live and breathe, I have fulfilled
it so successfully.”

“Did not I say so?” said Sancho on hearing this. “You see I wasn’t
drunk; there you see my master has already salted the giant; there’s no
doubt about the bulls; my county is all right!”

Who could have helped laughing at the absurdities of the pair, master
and man? And laugh they did, all except the landlord, who cursed
himself; but at length the barber, Cardenio, and the curate contrived
with no small trouble to get Don Quixote on the bed, and he fell asleep
with every appearance of excessive weariness. They left him to sleep,
and came out to the gate of the inn to console Sancho Panza on not
having found the head of the giant; but much more work had they to
appease the landlord, who was furious at the sudden death of his
wine-skins; and said the landlady half scolding, half crying, “At an
evil moment and in an unlucky hour he came into my house, this
knight-errant—would that I had never set eyes on him, for dear he has
cost me; the last time he went off with the overnight score against him
for supper, bed, straw, and barley, for himself and his squire and a
hack and an ass, saying he was a knight adventurer—God send unlucky
adventures to him and all the adventurers in the world—and therefore
not bound to pay anything, for it was so settled by the knight-errantry
tariff: and then, all because of him, came the other gentleman and
carried off my tail, and gives it back more than two cuartillos the
worse, all stripped of its hair, so that it is no use for my husband’s
purpose; and then, for a finishing touch to all, to burst my wine-skins
and spill my wine! I wish I saw his own blood spilt! But let him not
deceive himself, for, by the bones of my father and the shade of my
mother, they shall pay me down every quarts; or my name is not what it
is, and I am not my father’s daughter.” All this and more to the same
effect the landlady delivered with great irritation, and her good maid
Maritornes backed her up, while the daughter held her peace and smiled
from time to time. The curate smoothed matters by promising to make
good all losses to the best of his power, not only as regarded the
wine-skins but also the wine, and above all the depreciation of the
tail which they set such store by. Dorothea comforted Sancho, telling
him that she pledged herself, as soon as it should appear certain that
his master had decapitated the giant, and she found herself peacefully
established in her kingdom, to bestow upon him the best county there
was in it. With this Sancho consoled himself, and assured the princess
she might rely upon it that he had seen the head of the giant, and more
by token it had a beard that reached to the girdle, and that if it was
not to be seen now it was because everything that happened in that
house went by enchantment, as he himself had proved the last time he
had lodged there. Dorothea said she fully believed it, and that he need
not be uneasy, for all would go well and turn out as he wished. All
therefore being appeased, the curate was anxious to go on with the
novel, as he saw there was but little more left to read. Dorothea and
the others begged him to finish it, and he, as he was willing to please
them, and enjoyed reading it himself, continued the tale in these
words:

The result was, that from the confidence Anselmo felt in Camilla’s
virtue, he lived happy and free from anxiety, and Camilla purposely
looked coldly on Lothario, that Anselmo might suppose her feelings
towards him to be the opposite of what they were; and the better to
support the position, Lothario begged to be excused from coming to the
house, as the displeasure with which Camilla regarded his presence was
plain to be seen. But the befooled Anselmo said he would on no account
allow such a thing, and so in a thousand ways he became the author of
his own dishonour, while he believed he was insuring his happiness.
Meanwhile the satisfaction with which Leonela saw herself empowered to
carry on her amour reached such a height that, regardless of everything
else, she followed her inclinations unrestrainedly, feeling confident
that her mistress would screen her, and even show her how to manage it
safely. At last one night Anselmo heard footsteps in Leonela’s room,
and on trying to enter to see who it was, he found that the door was
held against him, which made him all the more determined to open it;
and exerting his strength he forced it open, and entered the room in
time to see a man leaping through the window into the street. He ran
quickly to seize him or discover who he was, but he was unable to
effect either purpose, for Leonela flung her arms round him crying, “Be
calm, señor; do not give way to passion or follow him who has escaped
from this; he belongs to me, and in fact he is my husband.”

Anselmo would not believe it, but blind with rage drew a dagger and
threatened to stab Leonela, bidding her tell the truth or he would kill
her. She, in her fear, not knowing what she was saying, exclaimed, “Do
not kill me, señor, for I can tell you things more important than any
you can imagine.”

“Tell me then at once or thou diest,” said Anselmo.

“It would be impossible for me now,” said Leonela, “I am so agitated:
leave me till to-morrow, and then you shall hear from me what will fill
you with astonishment; but rest assured that he who leaped through the
window is a young man of this city, who has given me his promise to
become my husband.”

Anselmo was appeased with this, and was content to wait the time she
asked of him, for he never expected to hear anything against Camilla,
so satisfied and sure of her virtue was he; and so he quitted the room,
and left Leonela locked in, telling her she should not come out until
she had told him all she had to make known to him. He went at once to
see Camilla, and tell her, as he did, all that had passed between him
and her handmaid, and the promise she had given him to inform him
matters of serious importance.

There is no need of saying whether Camilla was agitated or not, for so
great was her fear and dismay, that, making sure, as she had good
reason to do, that Leonela would tell Anselmo all she knew of her
faithlessness, she had not the courage to wait and see if her
suspicions were confirmed; and that same night, as soon as she thought
that Anselmo was asleep, she packed up the most valuable jewels she had
and some money, and without being observed by anybody escaped from the
house and betook herself to Lothario’s, to whom she related what had
occurred, imploring him to convey her to some place of safety or fly
with her where they might be safe from Anselmo. The state of perplexity
to which Camilla reduced Lothario was such that he was unable to utter
a word in reply, still less to decide upon what he should do. At length
he resolved to conduct her to a convent of which a sister of his was
prioress; Camilla agreed to this, and with the speed which the
circumstances demanded, Lothario took her to the convent and left her
there, and then himself quitted the city without letting anyone know of
his departure.

As soon as daylight came Anselmo, without missing Camilla from his
side, rose eager to learn what Leonela had to tell him, and hastened to
the room where he had locked her in. He opened the door, entered, but
found no Leonela; all he found was some sheets knotted to the window, a
plain proof that she had let herself down from it and escaped. He
returned, uneasy, to tell Camilla, but not finding her in bed or
anywhere in the house he was lost in amazement. He asked the servants
of the house about her, but none of them could give him any
explanation. As he was going in search of Camilla it happened by chance
that he observed her boxes were lying open, and that the greater part
of her jewels were gone; and now he became fully aware of his disgrace,
and that Leonela was not the cause of his misfortune; and, just as he
was, without delaying to dress himself completely, he repaired, sad at
heart and dejected, to his friend Lothario to make known his sorrow to
him; but when he failed to find him and the servants reported that he
had been absent from his house all night and had taken with him all the
money he had, he felt as though he were losing his senses; and to make
all complete on returning to his own house he found it deserted and
empty, not one of all his servants, male or female, remaining in it. He
knew not what to think, or say, or do, and his reason seemed to be
deserting him little by little. He reviewed his position, and saw
himself in a moment left without wife, friend, or servants, abandoned,
he felt, by the heaven above him, and more than all robbed of his
honour, for in Camilla’s disappearance he saw his own ruin. After long
reflection he resolved at last to go to his friend’s village, where he
had been staying when he afforded opportunities for the contrivance of
this complication of misfortune. He locked the doors of his house,
mounted his horse, and with a broken spirit set out on his journey; but
he had hardly gone half-way when, harassed by his reflections, he had
to dismount and tie his horse to a tree, at the foot of which he threw
himself, giving vent to piteous heartrending sighs; and there he
remained till nearly nightfall, when he observed a man approaching on
horseback from the city, of whom, after saluting him, he asked what was
the news in Florence.

The citizen replied, “The strangest that have been heard for many a
day; for it is reported abroad that Lothario, the great friend of the
wealthy Anselmo, who lived at San Giovanni, carried off last night
Camilla, the wife of Anselmo, who also has disappeared. All this has
been told by a maid-servant of Camilla’s, whom the governor found last
night lowering herself by a sheet from the windows of Anselmo’s house.
I know not indeed, precisely, how the affair came to pass; all I know
is that the whole city is wondering at the occurrence, for no one could
have expected a thing of the kind, seeing the great and intimate
friendship that existed between them, so great, they say, that they
were called ‘The Two Friends.’”

“Is it known at all,” said Anselmo, “what road Lothario and Camilla
took?”

“Not in the least,” said the citizen, “though the governor has been
very active in searching for them.”

“God speed you, señor,” said Anselmo.

“God be with you,” said the citizen and went his way.

This disastrous intelligence almost robbed Anselmo not only of his
senses but of his life. He got up as well as he was able and reached
the house of his friend, who as yet knew nothing of his misfortune, but
seeing him come pale, worn, and haggard, perceived that he was
suffering some heavy affliction. Anselmo at once begged to be allowed
to retire to rest, and to be given writing materials. His wish was
complied with and he was left lying down and alone, for he desired
this, and even that the door should be locked. Finding himself alone he
so took to heart the thought of his misfortune that by the signs of
death he felt within him he knew well his life was drawing to a close,
and therefore he resolved to leave behind him a declaration of the
cause of his strange end. He began to write, but before he had put down
all he meant to say, his breath failed him and he yielded up his life,
a victim to the suffering which his ill-advised curiosity had entailed
upon him. The master of the house observing that it was now late and
that Anselmo did not call, determined to go in and ascertain if his
indisposition was increasing, and found him lying on his face, his body
partly in the bed, partly on the writing-table, on which he lay with
the written paper open and the pen still in his hand. Having first
called to him without receiving any answer, his host approached him,
and taking him by the hand, found that it was cold, and saw that he was
dead. Greatly surprised and distressed he summoned the household to
witness the sad fate which had befallen Anselmo; and then he read the
paper, the handwriting of which he recognised as his, and which
contained these words:

“A foolish and ill-advised desire has robbed me of life. If the news of
my death should reach the ears of Camilla, let her know that I forgive
her, for she was not bound to perform miracles, nor ought I to have
required her to perform them; and since I have been the author of my
own dishonour, there is no reason why—”

So far Anselmo had written, and thus it was plain that at this point,
before he could finish what he had to say, his life came to an end. The
next day his friend sent intelligence of his death to his relatives,
who had already ascertained his misfortune, as well as the convent
where Camilla lay almost on the point of accompanying her husband on
that inevitable journey, not on account of the tidings of his death,
but because of those she received of her lover’s departure. Although
she saw herself a widow, it is said she refused either to quit the
convent or take the veil, until, not long afterwards, intelligence
reached her that Lothario had been killed in a battle in which M. de
Lautrec had been recently engaged with the Great Captain Gonzalo
Fernandez de Cordova in the kingdom of Naples, whither her too late
repentant lover had repaired. On learning this Camilla took the veil,
and shortly afterwards died, worn out by grief and melancholy. This was
the end of all three, an end that came of a thoughtless beginning.

“I like this novel,” said the curate; “but I cannot persuade myself of
its truth; and if it has been invented, the author’s invention is
faulty, for it is impossible to imagine any husband so foolish as to
try such a costly experiment as Anselmo’s. If it had been represented
as occurring between a gallant and his mistress it might pass; but
between husband and wife there is something of an impossibility about
it. As to the way in which the story is told, however, I have no fault
to find.”



CHAPTER XXXVI.
WHICH TREATS OF MORE CURIOUS INCIDENTS THAT OCCURRED AT THE INN




c36a.jpg (124K)

Full Size




Just at that instant the landlord, who was standing at the gate of the
inn, exclaimed, “Here comes a fine troop of guests; if they stop here
we may say _gaudeamus_.”

“What are they?” said Cardenio.

“Four men,” said the landlord, “riding _à la jineta_, with lances and
bucklers, and all with black veils, and with them there is a woman in
white on a side-saddle, whose face is also veiled, and two attendants
on foot.”

“Are they very near?” said the curate.

“So near,” answered the landlord, “that here they come.”

Hearing this Dorothea covered her face, and Cardenio retreated into Don
Quixote’s room, and they hardly had time to do so before the whole
party the host had described entered the inn, and the four that were on
horseback, who were of highbred appearance and bearing, dismounted, and
came forward to take down the woman who rode on the side-saddle, and
one of them taking her in his arms placed her in a chair that stood at
the entrance of the room where Cardenio had hidden himself. All this
time neither she nor they had removed their veils or spoken a word,
only on sitting down on the chair the woman gave a deep sigh and let
her arms fall like one that was ill and weak. The attendants on foot
then led the horses away to the stable. Observing this the curate,
curious to know who these people in such a dress and preserving such
silence were, went to where the servants were standing and put the
question to one of them, who answered him.

“Faith, sir, I cannot tell you who they are, I only know they seem to
be people of distinction, particularly he who advanced to take the lady
you saw in his arms; and I say so because all the rest show him
respect, and nothing is done except what he directs and orders.”

“And the lady, who is she?” asked the curate.

“That I cannot tell you either,” said the servant, “for I have not seen
her face all the way: I have indeed heard her sigh many times and utter
such groans that she seems to be giving up the ghost every time; but it
is no wonder if we do not know more than we have told you, as my
comrade and I have only been in their company two days, for having met
us on the road they begged and persuaded us to accompany them to
Andalusia, promising to pay us well.”

“And have you heard any of them called by his name?” asked the curate.

“No, indeed,” replied the servant; “they all preserve a marvellous
silence on the road, for not a sound is to be heard among them except
the poor lady’s sighs and sobs, which make us pity her; and we feel
sure that wherever it is she is going, it is against her will, and as
far as one can judge from her dress she is a nun or, what is more
likely, about to become one; and perhaps it is because taking the vows
is not of her own free will, that she is so unhappy as she seems to
be.”

“That may well be,” said the curate, and leaving them he returned to
where Dorothea was, who, hearing the veiled lady sigh, moved by natural
compassion drew near to her and said, “What are you suffering from,
señora? If it be anything that women are accustomed and know how to
relieve, I offer you my services with all my heart.”

To this the unhappy lady made no reply; and though Dorothea repeated
her offers more earnestly she still kept silence, until the gentleman
with the veil, who, the servant said, was obeyed by the rest,
approached and said to Dorothea, “Do not give yourself the trouble,
señora, of making any offers to that woman, for it is her way to give
no thanks for anything that is done for her; and do not try to make her
answer unless you want to hear some lie from her lips.”

“I have never told a lie,” was the immediate reply of her who had been
silent until now; “on the contrary, it is because I am so truthful and
so ignorant of lying devices that I am now in this miserable condition;
and this I call you yourself to witness, for it is my unstained truth
that has made you false and a liar.”

Cardenio heard these words clearly and distinctly, being quite close to
the speaker, for there was only the door of Don Quixote’s room between
them, and the instant he did so, uttering a loud exclamation he cried,
“Good God! what is this I hear? What voice is this that has reached my
ears?” Startled at the voice the lady turned her head; and not seeing
the speaker she stood up and attempted to enter the room; observing
which the gentleman held her back, preventing her from moving a step.
In her agitation and sudden movement the silk with which she had
covered her face fell off and disclosed a countenance of incomparable
and marvellous beauty, but pale and terrified; for she kept turning her
eyes, everywhere she could direct her gaze, with an eagerness that made
her look as if she had lost her senses, and so marked that it excited
the pity of Dorothea and all who beheld her, though they knew not what
caused it. The gentleman grasped her firmly by the shoulders, and being
so fully occupied with holding her back, he was unable to put a hand to
his veil which was falling off, as it did at length entirely, and
Dorothea, who was holding the lady in her arms, raising her eyes saw
that he who likewise held her was her husband, Don Fernando. The
instant she recognised him, with a prolonged plaintive cry drawn from
the depths of her heart, she fell backwards fainting, and but for the
barber being close by to catch her in his arms, she would have fallen
completely to the ground. The curate at once hastened to uncover her
face and throw water on it, and as he did so Don Fernando, for he it
was who held the other in his arms, recognised her and stood as if
death-stricken by the sight; not, however, relaxing his grasp of
Luscinda, for it was she that was struggling to release herself from
his hold, having recognised Cardenio by his voice, as he had recognised
her. Cardenio also heard Dorothea’s cry as she fell fainting, and
imagining that it came from his Luscinda burst forth in terror from the
room, and the first thing he saw was Don Fernando with Luscinda in his
arms. Don Fernando, too, knew Cardenio at once; and all three,
Luscinda, Cardenio, and Dorothea, stood in silent amazement scarcely
knowing what had happened to them.

They gazed at one another without speaking, Dorothea at Don Fernando,
Don Fernando at Cardenio, Cardenio at Luscinda, and Luscinda at
Cardenio. The first to break silence was Luscinda, who thus addressed
Don Fernando: “Leave me, Señor Don Fernando, for the sake of what you
owe to yourself; if no other reason will induce you, leave me to cling
to the wall of which I am the ivy, to the support from which neither
your importunities, nor your threats, nor your promises, nor your gifts
have been able to detach me. See how Heaven, by ways strange and hidden
from our sight, has brought me face to face with my true husband; and
well you know by dear-bought experience that death alone will be able
to efface him from my memory. May this plain declaration, then, lead
you, as you can do nothing else, to turn your love into rage, your
affection into resentment, and so to take my life; for if I yield it up
in the presence of my beloved husband I count it well bestowed; it may
be by my death he will be convinced that I kept my faith to him to the
last moment of life.”

Meanwhile Dorothea had come to herself, and had heard Luscinda’s words,
by means of which she divined who she was; but seeing that Don Fernando
did not yet release her or reply to her, summoning up her resolution as
well as she could she rose and knelt at his feet, and with a flood of
bright and touching tears addressed him thus:

“If, my lord, the beams of that sun that thou holdest eclipsed in thine
arms did not dazzle and rob thine eyes of sight thou wouldst have seen
by this time that she who kneels at thy feet is, so long as thou wilt
have it so, the unhappy and unfortunate Dorothea. I am that lowly
peasant girl whom thou in thy goodness or for thy pleasure wouldst
raise high enough to call herself thine; I am she who in the seclusion
of innocence led a contented life until at the voice of thy
importunity, and thy true and tender passion, as it seemed, she opened
the gates of her modesty and surrendered to thee the keys of her
liberty; a gift received by thee but thanklessly, as is clearly shown
by my forced retreat to the place where thou dost find me, and by thy
appearance under the circumstances in which I see thee. Nevertheless, I
would not have thee suppose that I have come here driven by my shame;
it is only grief and sorrow at seeing myself forgotten by thee that
have led me. It was thy will to make me thine, and thou didst so follow
thy will, that now, even though thou repentest, thou canst not help
being mine. Bethink thee, my lord, the unsurpassable affection I bear
thee may compensate for the beauty and noble birth for which thou
wouldst desert me. Thou canst not be the fair Luscinda’s because thou
art mine, nor can she be thine because she is Cardenio’s; and it will
be easier, remember, to bend thy will to love one who adores thee, than
to lead one to love thee who abhors thee now. Thou didst address
thyself to my simplicity, thou didst lay siege to my virtue, thou wert
not ignorant of my station, well dost thou know how I yielded wholly to
thy will; there is no ground or reason for thee to plead deception, and
if it be so, as it is, and if thou art a Christian as thou art a
gentleman, why dost thou by such subterfuges put off making me as happy
at last as thou didst at first? And if thou wilt not have me for what I
am, thy true and lawful wife, at least take and accept me as thy slave,
for so long as I am thine I will count myself happy and fortunate. Do
not by deserting me let my shame become the talk of the gossips in the
streets; make not the old age of my parents miserable; for the loyal
services they as faithful vassals have ever rendered thine are not
deserving of such a return; and if thou thinkest it will debase thy
blood to mingle it with mine, reflect that there is little or no
nobility in the world that has not travelled the same road, and that in
illustrious lineages it is not the woman’s blood that is of account;
and, moreover, that true nobility consists in virtue, and if thou art
wanting in that, refusing me what in justice thou owest me, then even I
have higher claims to nobility than thine. To make an end, señor, these
are my last words to thee: whether thou wilt, or wilt not, I am thy
wife; witness thy words, which must not and ought not to be false, if
thou dost pride thyself on that for want of which thou scornest me;
witness the pledge which thou didst give me, and witness Heaven, which
thou thyself didst call to witness the promise thou hadst made me; and
if all this fail, thy own conscience will not fail to lift up its
silent voice in the midst of all thy gaiety, and vindicate the truth of
what I say and mar thy highest pleasure and enjoyment.”

All this and more the injured Dorothea delivered with such earnest
feeling and such tears that all present, even those who came with Don
Fernando, were constrained to join her in them. Don Fernando listened
to her without replying, until, ceasing to speak, she gave way to such
sobs and sighs that it must have been a heart of brass that was not
softened by the sight of so great sorrow. Luscinda stood regarding her
with no less compassion for her sufferings than admiration for her
intelligence and beauty, and would have gone to her to say some words
of comfort to her, but was prevented by Don Fernando’s grasp which held
her fast. He, overwhelmed with confusion and astonishment, after
regarding Dorothea for some moments with a fixed gaze, opened his arms,
and, releasing Luscinda, exclaimed:

“Thou hast conquered, fair Dorothea, thou hast conquered, for it is
impossible to have the heart to deny the united force of so many
truths.”

Luscinda in her feebleness was on the point of falling to the ground
when Don Fernando released her, but Cardenio, who stood near, having
retreated behind Don Fernando to escape recognition, casting fear aside
and regardless of what might happen, ran forward to support her, and
said as he clasped her in his arms, “If Heaven in its compassion is
willing to let thee rest at last, mistress of my heart, true, constant,
and fair, nowhere canst thou rest more safely than in these arms that
now receive thee, and received thee before when fortune permitted me to
call thee mine.”

At these words Luscinda looked up at Cardenio, at first beginning to
recognise him by his voice and then satisfying herself by her eyes that
it was he, and hardly knowing what she did, and heedless of all
considerations of decorum, she flung her arms around his neck and
pressing her face close to his, said, “Yes, my dear lord, you are the
true master of this your slave, even though adverse fate interpose
again, and fresh dangers threaten this life that hangs on yours.”

A strange sight was this for Don Fernando and those that stood around,
filled with surprise at an incident so unlooked for. Dorothea fancied
that Don Fernando changed colour and looked as though he meant to take
vengeance on Cardenio, for she observed him put his hand to his sword;
and the instant the idea struck her, with wonderful quickness she
clasped him round the knees, and kissing them and holding him so as to
prevent his moving, she said, while her tears continued to flow, “What
is it thou wouldst do, my only refuge, in this unforeseen event? Thou
hast thy wife at thy feet, and she whom thou wouldst have for thy wife
is in the arms of her husband: reflect whether it will be right for
thee, whether it will be possible for thee to undo what Heaven has
done, or whether it will be becoming in thee to seek to raise her to be
thy mate who in spite of every obstacle, and strong in her truth and
constancy, is before thine eyes, bathing with the tears of love the
face and bosom of her lawful husband. For God’s sake I entreat of thee,
for thine own I implore thee, let not this open manifestation rouse thy
anger; but rather so calm it as to allow these two lovers to live in
peace and quiet without any interference from thee so long as Heaven
permits them; and in so doing thou wilt prove the generosity of thy
lofty noble spirit, and the world shall see that with thee reason has
more influence than passion.”

All the time Dorothea was speaking, Cardenio, though he held Luscinda
in his arms, never took his eyes off Don Fernando, determined, if he
saw him make any hostile movement, to try and defend himself and resist
as best he could all who might assail him, though it should cost him
his life. But now Don Fernando’s friends, as well as the curate and the
barber, who had been present all the while, not forgetting the worthy
Sancho Panza, ran forward and gathered round Don Fernando, entreating
him to have regard for the tears of Dorothea, and not suffer her
reasonable hopes to be disappointed, since, as they firmly believed,
what she said was but the truth; and bidding him observe that it was
not, as it might seem, by accident, but by a special disposition of
Providence that they had all met in a place where no one could have
expected a meeting. And the curate bade him remember that only death
could part Luscinda from Cardenio; that even if some sword were to
separate them they would think their death most happy; and that in a
case that admitted of no remedy his wisest course was, by conquering
and putting a constraint upon himself, to show a generous mind, and of
his own accord suffer these two to enjoy the happiness Heaven had
granted them. He bade him, too, turn his eyes upon the beauty of
Dorothea and he would see that few if any could equal much less excel
her; while to that beauty should be added her modesty and the
surpassing love she bore him. But besides all this, he reminded him
that if he prided himself on being a gentleman and a Christian, he
could not do otherwise than keep his plighted word; and that in doing
so he would obey God and meet the approval of all sensible people, who
know and recognised it to be the privilege of beauty, even in one of
humble birth, provided virtue accompany it, to be able to raise itself
to the level of any rank, without any slur upon him who places it upon
an equality with himself; and furthermore that when the potent sway of
passion asserts itself, so long as there be no mixture of sin in it, he
is not to be blamed who gives way to it.

To be brief, they added to these such other forcible arguments that Don
Fernando’s manly heart, being after all nourished by noble blood, was
touched, and yielded to the truth which, even had he wished it, he
could not gainsay; and he showed his submission, and acceptance of the
good advice that had been offered to him, by stooping down and
embracing Dorothea, saying to her, “Rise, dear lady, it is not right
that what I hold in my heart should be kneeling at my feet; and if
until now I have shown no sign of what I own, it may have been by
Heaven’s decree in order that, seeing the constancy with which you love
me, I may learn to value you as you deserve. What I entreat of you is
that you reproach me not with my transgression and grievous
wrong-doing; for the same cause and force that drove me to make you
mine impelled me to struggle against being yours; and to prove this,
turn and look at the eyes of the now happy Luscinda, and you will see
in them an excuse for all my errors: and as she has found and gained
the object of her desires, and I have found in you what satisfies all
my wishes, may she live in peace and contentment as many happy years
with her Cardenio, as on my knees I pray Heaven to allow me to live
with my Dorothea;” and with these words he once more embraced her and
pressed his face to hers with so much tenderness that he had to take
great heed to keep his tears from completing the proof of his love and
repentance in the sight of all. Not so Luscinda, and Cardenio, and
almost all the others, for they shed so many tears, some in their own
happiness, some at that of the others, that one would have supposed a
heavy calamity had fallen upon them all. Even Sancho Panza was weeping;
though afterwards he said he only wept because he saw that Dorothea was
not as he fancied the queen Micomicona, of whom he expected such great
favours. Their wonder as well as their weeping lasted some time, and
then Cardenio and Luscinda went and fell on their knees before Don
Fernando, returning him thanks for the favour he had rendered them in
language so grateful that he knew not how to answer them, and raising
them up embraced them with every mark of affection and courtesy.

He then asked Dorothea how she had managed to reach a place so far
removed from her own home, and she in a few fitting words told all that
she had previously related to Cardenio, with which Don Fernando and his
companions were so delighted that they wished the story had been
longer; so charmingly did Dorothea describe her misadventures. When she
had finished Don Fernando recounted what had befallen him in the city
after he had found in Luscinda’s bosom the paper in which she declared
that she was Cardenio’s wife, and never could be his. He said he meant
to kill her, and would have done so had he not been prevented by her
parents, and that he quitted the house full of rage and shame, and
resolved to avenge himself when a more convenient opportunity should
offer. The next day he learned that Luscinda had disappeared from her
father’s house, and that no one could tell whither she had gone.
Finally, at the end of some months he ascertained that she was in a
convent and meant to remain there all the rest of her life, if she were
not to share it with Cardenio; and as soon as he had learned this,
taking these three gentlemen as his companions, he arrived at the place
where she was, but avoided speaking to her, fearing that if it were
known he was there stricter precautions would be taken in the convent;
and watching a time when the porter’s lodge was open he left two to
guard the gate, and he and the other entered the convent in quest of
Luscinda, whom they found in the cloisters in conversation with one of
the nuns, and carrying her off without giving her time to resist, they
reached a place with her where they provided themselves with what they
required for taking her away; all which they were able to do in
complete safety, as the convent was in the country at a considerable
distance from the city. He added that when Luscinda found herself in
his power she lost all consciousness, and after returning to herself
did nothing but weep and sigh without speaking a word; and thus in
silence and tears they reached that inn, which for him was reaching
heaven where all the mischances of earth are over and at an end.



c36b.jpg (319K)

Full Size



c36e.jpg (36K)



CHAPTER XXXVII.
IN WHICH IS CONTINUED THE STORY OF THE FAMOUS PRINCESS MICOMICONA, WITH
OTHER DROLL ADVENTURES




c37a.jpg (159K)

Full Size




To all this Sancho listened with no little sorrow at heart to see how
his hopes of dignity were fading away and vanishing in smoke, and how
the fair Princess Micomicona had turned into Dorothea, and the giant
into Don Fernando, while his master was sleeping tranquilly, totally
unconscious of all that had come to pass. Dorothea was unable to
persuade herself that her present happiness was not all a dream;
Cardenio was in a similar state of mind, and Luscinda’s thoughts ran in
the same direction. Don Fernando gave thanks to Heaven for the favour
shown to him and for having been rescued from the intricate labyrinth
in which he had been brought so near the destruction of his good name
and of his soul; and in short everybody in the inn was full of
contentment and satisfaction at the happy issue of such a complicated
and hopeless business. The curate as a sensible man made sound
reflections upon the whole affair, and congratulated each upon his good
fortune; but the one that was in the highest spirits and good humour
was the landlady, because of the promise Cardenio and the curate had
given her to pay for all the losses and damage she had sustained
through Don Quixote’s means. Sancho, as has been already said, was the
only one who was distressed, unhappy, and dejected; and so with a long
face he went in to his master, who had just awoke, and said to him:

“Sir Rueful Countenance, your worship may as well sleep on as much as
you like, without troubling yourself about killing any giant or
restoring her kingdom to the princess; for that is all over and settled
now.”

“I should think it was,” replied Don Quixote, “for I have had the most
prodigious and stupendous battle with the giant that I ever remember
having had all the days of my life; and with one back-stroke—swish!—I
brought his head tumbling to the ground, and so much blood gushed forth
from him that it ran in rivulets over the earth like water.”

“Like red wine, your worship had better say,” replied Sancho; “for I
would have you know, if you don’t know it, that the dead giant is a
hacked wine-skin, and the blood four-and-twenty gallons of red wine
that it had in its belly, and the cut-off head is the bitch that bore
me; and the devil take it all.”

“What art thou talking about, fool?” said Don Quixote; “art thou in thy
senses?”

“Let your worship get up,” said Sancho, “and you will see the nice
business you have made of it, and what we have to pay; and you will see
the queen turned into a private lady called Dorothea, and other things
that will astonish you, if you understand them.”

“I shall not be surprised at anything of the kind,” returned Don
Quixote; “for if thou dost remember the last time we were here I told
thee that everything that happened here was a matter of enchantment,
and it would be no wonder if it were the same now.”

“I could believe all that,” replied Sancho, “if my blanketing was the
same sort of thing also; only it wasn’t, but real and genuine; for I
saw the landlord, who is here to-day, holding one end of the blanket
and jerking me up to the skies very neatly and smartly, and with as
much laughter as strength; and when it comes to be a case of knowing
people, I hold for my part, simple and sinner as I am, that there is no
enchantment about it at all, but a great deal of bruising and bad
luck.”

“Well, well, God will give a remedy,” said Don Quixote; “hand me my
clothes and let me go out, for I want to see these transformations and
things thou speakest of.”

Sancho fetched him his clothes; and while he was dressing, the curate
gave Don Fernando and the others present an account of Don Quixote’s
madness and of the stratagem they had made use of to withdraw him from
that Pena Pobre where he fancied himself stationed because of his
lady’s scorn. He described to them also nearly all the adventures that
Sancho had mentioned, at which they marvelled and laughed not a little,
thinking it, as all did, the strangest form of madness a crazy
intellect could be capable of. But now, the curate said, that the lady
Dorothea’s good fortune prevented her from proceeding with their
purpose, it would be necessary to devise or discover some other way of
getting him home.

Cardenio proposed to carry out the scheme they had begun, and suggested
that Luscinda would act and support Dorothea’s part sufficiently well.

“No,” said Don Fernando, “that must not be, for I want Dorothea to
follow out this idea of hers; and if the worthy gentleman’s village is
not very far off, I shall be happy if I can do anything for his
relief.”

“It is not more than two days’ journey from this,” said the curate.

“Even if it were more,” said Don Fernando, “I would gladly travel so
far for the sake of doing so good a work.”

At this moment Don Quixote came out in full panoply, with Mambrino’s
helmet, all dinted as it was, on his head, his buckler on his arm, and
leaning on his staff or pike. The strange figure he presented filled
Don Fernando and the rest with amazement as they contemplated his lean
yellow face half a league long, his armour of all sorts, and the
solemnity of his deportment. They stood silent waiting to see what he
would say, and he, fixing his eyes on the fair Dorothea, addressed her
with great gravity and composure:

“I am informed, fair lady, by my squire here that your greatness has
been annihilated and your being abolished, since, from a queen and lady
of high degree as you used to be, you have been turned into a private
maiden. If this has been done by the command of the magician king your
father, through fear that I should not afford you the aid you need and
are entitled to, I may tell you he did not know and does not know half
the mass, and was little versed in the annals of chivalry; for, if he
had read and gone through them as attentively and deliberately as I
have, he would have found at every turn that knights of less renown
than mine have accomplished things more difficult: it is no great
matter to kill a whelp of a giant, however arrogant he may be; for it
is not many hours since I myself was engaged with one, and—I will not
speak of it, that they may not say I am lying; time, however, that
reveals all, will tell the tale when we least expect it.”

“You were engaged with a couple of wine-skins, and not a giant,” said
the landlord at this; but Don Fernando told him to hold his tongue and
on no account interrupt Don Quixote, who continued, “I say in
conclusion, high and disinherited lady, that if your father has brought
about this metamorphosis in your person for the reason I have
mentioned, you ought not to attach any importance to it; for there is
no peril on earth through which my sword will not force a way, and with
it, before many days are over, I will bring your enemy’s head to the
ground and place on yours the crown of your kingdom.”

Don Quixote said no more, and waited for the reply of the princess, who
aware of Don Fernando’s determination to carry on the deception until
Don Quixote had been conveyed to his home, with great ease of manner
and gravity made answer, “Whoever told you, valiant Knight of the
Rueful Countenance, that I had undergone any change or transformation
did not tell you the truth, for I am the same as I was yesterday. It is
true that certain strokes of good fortune, that have given me more than
I could have hoped for, have made some alteration in me; but I have not
therefore ceased to be what I was before, or to entertain the same
desire I have had all through of availing myself of the might of your
valiant and invincible arm. And so, señor, let your goodness reinstate
the father that begot me in your good opinion, and be assured that he
was a wise and prudent man, since by his craft he found out such a sure
and easy way of remedying my misfortune; for I believe, señor, that had
it not been for you I should never have lit upon the good fortune I now
possess; and in this I am saying what is perfectly true; as most of
these gentlemen who are present can fully testify. All that remains is
to set out on our journey to-morrow, for to-day we could not make much
way; and for the rest of the happy result I am looking forward to, I
trust to God and the valour of your heart.”

So said the sprightly Dorothea, and on hearing her Don Quixote turned
to Sancho, and said to him, with an angry air, “I declare now, little
Sancho, thou art the greatest little villain in Spain. Say, thief and
vagabond, hast thou not just now told me that this princess had been
turned into a maiden called Dorothea, and that the head which I am
persuaded I cut off from a giant was the bitch that bore thee, and
other nonsense that put me in the greatest perplexity I have ever been
in all my life? I vow” (and here he looked to heaven and ground his
teeth) “I have a mind to play the mischief with thee, in a way that
will teach sense for the future to all lying squires of knights-errant
in the world.”

“Let your worship be calm, señor,” returned Sancho, “for it may well be
that I have been mistaken as to the change of the lady princess
Micomicona; but as to the giant’s head, or at least as to the piercing
of the wine-skins, and the blood being red wine, I make no mistake, as
sure as there is a God; because the wounded skins are there at the head
of your worship’s bed, and the wine has made a lake of the room; if not
you will see when the eggs come to be fried; I mean when his worship
the landlord calls for all the damages: for the rest, I am heartily
glad that her ladyship the queen is as she was, for it concerns me as
much as anyone.”

“I tell thee again, Sancho, thou art a fool,” said Don Quixote;
“forgive me, and that will do.”

“That will do,” said Don Fernando; “let us say no more about it; and as
her ladyship the princess proposes to set out to-morrow because it is
too late to-day, so be it, and we will pass the night in pleasant
conversation, and to-morrow we will all accompany Señor Don Quixote;
for we wish to witness the valiant and unparalleled achievements he is
about to perform in the course of this mighty enterprise which he has
undertaken.”

“It is I who shall wait upon and accompany you,” said Don Quixote; “and
I am much gratified by the favour that is bestowed upon me, and the
good opinion entertained of me, which I shall strive to justify or it
shall cost me my life, or even more, if it can possibly cost me more.”

Many were the compliments and expressions of politeness that passed
between Don Quixote and Don Fernando; but they were brought to an end
by a traveller who at this moment entered the inn, and who seemed from
his attire to be a Christian lately come from the country of the Moors,
for he was dressed in a short-skirted coat of blue cloth with
half-sleeves and without a collar; his breeches were also of blue
cloth, and his cap of the same colour, and he wore yellow buskins and
had a Moorish cutlass slung from a baldric across his breast. Behind
him, mounted upon an ass, there came a woman dressed in Moorish
fashion, with her face veiled and a scarf on her head, and wearing a
little brocaded cap, and a mantle that covered her from her shoulders
to her feet. The man was of a robust and well-proportioned frame, in
age a little over forty, rather swarthy in complexion, with long
moustaches and a full beard, and, in short, his appearance was such
that if he had been well dressed he would have been taken for a person
of quality and good birth. On entering he asked for a room, and when
they told him there was none in the inn he seemed distressed, and
approaching her who by her dress seemed to be a Moor, he took her down
from the saddle in his arms. Luscinda, Dorothea, the landlady, her
daughter and Maritornes, attracted by the strange, and to them entirely
new costume, gathered round her; and Dorothea, who was always kindly,
courteous, and quick-witted, perceiving that both she and the man who
had brought her were annoyed at not finding a room, said to her, “Do
not be put out, señora, by the discomfort and want of luxuries here,
for it is the way of road-side inns to be without them; still, if you
will be pleased to share our lodging with us (pointing to Luscinda)
perhaps you will have found worse accommodation in the course of your
journey.”

To this the veiled lady made no reply; all she did was to rise from her
seat, crossing her hands upon her bosom, bowing her head and bending
her body as a sign that she returned thanks. From her silence they
concluded that she must be a Moor and unable to speak a Christian
tongue.

At this moment the captive came up, having been until now otherwise
engaged, and seeing that they all stood round his companion and that
she made no reply to what they addressed to her, he said, “Ladies, this
damsel hardly understands my language and can speak none but that of
her own country, for which reason she does not and cannot answer what
has been asked of her.”

“Nothing has been asked of her,” returned Luscinda; “she has only been
offered our company for this evening and a share of the quarters we
occupy, where she shall be made as comfortable as the circumstances
allow, with the good-will we are bound to show all strangers that stand
in need of it, especially if it be a woman to whom the service is
rendered.”

“On her part and my own, señora,” replied the captive, “I kiss your
hands, and I esteem highly, as I ought, the favour you have offered,
which, on such an occasion and coming from persons of your appearance,
is, it is plain to see, a very great one.”

“Tell me, señor,” said Dorothea, “is this lady a Christian or a Moor?
for her dress and her silence lead us to imagine that she is what we
could wish she was not.”

“In dress and outwardly,” said he, “she is a Moor, but at heart she is
a thoroughly good Christian, for she has the greatest desire to become
one.”

“Then she has not been baptised?” returned Luscinda.

“There has been no opportunity for that,” replied the captive, “since
she left Algiers, her native country and home; and up to the present
she has not found herself in any such imminent danger of death as to
make it necessary to baptise her before she has been instructed in all
the ceremonies our holy mother Church ordains; but, please God, ere
long she shall be baptised with the solemnity befitting her which is
higher than her dress or mine indicates.”

By these words he excited a desire in all who heard him, to know who
the Moorish lady and the captive were, but no one liked to ask just
then, seeing that it was a fitter moment for helping them to rest
themselves than for questioning them about their lives. Dorothea took
the Moorish lady by the hand and leading her to a seat beside herself,
requested her to remove her veil. She looked at the captive as if to
ask him what they meant and what she was to do. He said to her in
Arabic that they asked her to take off her veil, and thereupon she
removed it and disclosed a countenance so lovely, that to Dorothea she
seemed more beautiful than Luscinda, and to Luscinda more beautiful
than Dorothea, and all the bystanders felt that if any beauty could
compare with theirs it was the Moorish lady’s, and there were even
those who were inclined to give it somewhat the preference. And as it
is the privilege and charm of beauty to win the heart and secure
good-will, all forthwith became eager to show kindness and attention to
the lovely Moor.

Don Fernando asked the captive what her name was, and he replied that
it was Lela Zoraida; but the instant she heard him, she guessed what
the Christian had asked, and said hastily, with some displeasure and
energy, “No, not Zoraida; Maria, Maria!” giving them to understand that
she was called “Maria” and not “Zoraida.” These words, and the touching
earnestness with which she uttered them, drew more than one tear from
some of the listeners, particularly the women, who are by nature
tender-hearted and compassionate. Luscinda embraced her affectionately,
saying, “Yes, yes, Maria, Maria,” to which the Moor replied, “Yes, yes,
Maria; Zoraida macange,” which means “not Zoraida.”

Night was now approaching, and by the orders of those who accompanied
Don Fernando the landlord had taken care and pains to prepare for them
the best supper that was in his power. The hour therefore having
arrived they all took their seats at a long table like a refectory one,
for round or square table there was none in the inn, and the seat of
honour at the head of it, though he was for refusing it, they assigned
to Don Quixote, who desired the lady Micomicona to place herself by his
side, as he was her protector. Luscinda and Zoraida took their places
next her, opposite to them were Don Fernando and Cardenio, and next the
captive and the other gentlemen, and by the side of the ladies, the
curate and the barber. And so they supped in high enjoyment, which was
increased when they observed Don Quixote leave off eating, and, moved
by an impulse like that which made him deliver himself at such length
when he supped with the goatherds, begin to address them:

“Verily, gentlemen, if we reflect upon it, great and marvellous are the
things they see, who make profession of the order of knight-errantry.
Say, what being is there in this world, who entering the gate of this
castle at this moment, and seeing us as we are here, would suppose or
imagine us to be what we are? Who would say that this lady who is
beside me was the great queen that we all know her to be, or that I am
that Knight of the Rueful Countenance, trumpeted far and wide by the
mouth of Fame? Now, there can be no doubt that this art and calling
surpasses all those that mankind has invented, and is the more
deserving of being held in honour in proportion as it is the more
exposed to peril. Away with those who assert that letters have the
preeminence over arms; I will tell them, whosoever they may be, that
they know not what they say. For the reason which such persons commonly
assign, and upon which they chiefly rest, is, that the labours of the
mind are greater than those of the body, and that arms give employment
to the body alone; as if the calling were a porter’s trade, for which
nothing more is required than sturdy strength; or as if, in what we who
profess them call arms, there were not included acts of vigour for the
execution of which high intelligence is requisite; or as if the soul of
the warrior, when he has an army, or the defence of a city under his
care, did not exert itself as much by mind as by body. Nay; see whether
by bodily strength it be possible to learn or divine the intentions of
the enemy, his plans, stratagems, or obstacles, or to ward off
impending mischief; for all these are the work of the mind, and in them
the body has no share whatever. Since, therefore, arms have need of the
mind, as much as letters, let us see now which of the two minds, that
of the man of letters or that of the warrior, has most to do; and this
will be seen by the end and goal that each seeks to attain; for that
purpose is the more estimable which has for its aim the nobler object.
The end and goal of letters—I am not speaking now of divine letters,
the aim of which is to raise and direct the soul to Heaven; for with an
end so infinite no other can be compared—I speak of human letters, the
end of which is to establish distributive justice, give to every man
that which is his, and see and take care that good laws are observed:
an end undoubtedly noble, lofty, and deserving of high praise, but not
such as should be given to that sought by arms, which have for their
end and object peace, the greatest boon that men can desire in this
life. The first good news the world and mankind received was that which
the angels announced on the night that was our day, when they sang in
the air, ‘Glory to God in the highest, and peace on earth to men of
good-will;’ and the salutation which the great Master of heaven and
earth taught his disciples and chosen followers when they entered any
house, was to say, ‘Peace be on this house;’ and many other times he
said to them, ‘My peace I give unto you, my peace I leave you, peace be
with you;’ a jewel and a precious gift given and left by such a hand: a
jewel without which there can be no happiness either on earth or in
heaven. This peace is the true end of war; and war is only another name
for arms. This, then, being admitted, that the end of war is peace, and
that so far it has the advantage of the end of letters, let us turn to
the bodily labours of the man of letters, and those of him who follows
the profession of arms, and see which are the greater.”

Don Quixote delivered his discourse in such a manner and in such
correct language, that for the time being he made it impossible for any
of his hearers to consider him a madman; on the contrary, as they were
mostly gentlemen, to whom arms are an appurtenance by birth, they
listened to him with great pleasure as he continued: “Here, then, I say
is what the student has to undergo; first of all poverty: not that all
are poor, but to put the case as strongly as possible: and when I have
said that he endures poverty, I think nothing more need be said about
his hard fortune, for he who is poor has no share of the good things of
life. This poverty he suffers from in various ways, hunger, or cold, or
nakedness, or all together; but for all that it is not so extreme but
that he gets something to eat, though it may be at somewhat
unseasonable hours and from the leavings of the rich; for the greatest
misery of the student is what they themselves call ‘going out for
soup,’ and there is always some neighbour’s brazier or hearth for them,
which, if it does not warm, at least tempers the cold to them, and
lastly, they sleep comfortably at night under a roof. I will not go
into other particulars, as for example want of shirts, and no
superabundance of shoes, thin and threadbare garments, and gorging
themselves to surfeit in their voracity when good luck has treated them
to a banquet of some sort. By this road that I have described, rough
and hard, stumbling here, falling there, getting up again to fall
again, they reach the rank they desire, and that once attained, we have
seen many who have passed these Syrtes and Scyllas and Charybdises, as
if borne flying on the wings of favouring fortune; we have seen them, I
say, ruling and governing the world from a chair, their hunger turned
into satiety, their cold into comfort, their nakedness into fine
raiment, their sleep on a mat into repose in holland and damask, the
justly earned reward of their virtue; but, contrasted and compared with
what the warrior undergoes, all they have undergone falls far short of
it, as I am now about to show.”



c37e.jpg (13K)



CHAPTER XXXVIII.
WHICH TREATS OF THE CURIOUS DISCOURSE DON QUIXOTE DELIVERED ON ARMS AND
LETTERS




c38a.jpg (180K)

Full Size




Continuing his discourse Don Quixote said: “As we began in the
student’s case with poverty and its accompaniments, let us see now if
the soldier is richer, and we shall find that in poverty itself there
is no one poorer; for he is dependent on his miserable pay, which comes
late or never, or else on what he can plunder, seriously imperilling
his life and conscience; and sometimes his nakedness will be so great
that a slashed doublet serves him for uniform and shirt, and in the
depth of winter he has to defend himself against the inclemency of the
weather in the open field with nothing better than the breath of his
mouth, which I need not say, coming from an empty place, must come out
cold, contrary to the laws of nature. To be sure he looks forward to
the approach of night to make up for all these discomforts on the bed
that awaits him, which, unless by some fault of his, never sins by
being over narrow, for he can easily measure out on the ground as he
likes, and roll himself about in it to his heart’s content without any
fear of the sheets slipping away from him. Then, after all this,
suppose the day and hour for taking his degree in his calling to have
come; suppose the day of battle to have arrived, when they invest him
with the doctor’s cap made of lint, to mend some bullet-hole, perhaps,
that has gone through his temples, or left him with a crippled arm or
leg. Or if this does not happen, and merciful Heaven watches over him
and keeps him safe and sound, it may be he will be in the same poverty
he was in before, and he must go through more engagements and more
battles, and come victorious out of all before he betters himself; but
miracles of that sort are seldom seen. For tell me, sirs, if you have
ever reflected upon it, by how much do those who have gained by war
fall short of the number of those who have perished in it? No doubt you
will reply that there can be no comparison, that the dead cannot be
numbered, while the living who have been rewarded may be summed up with
three figures. All which is the reverse in the case of men of letters;
for by skirts, to say nothing of sleeves, they all find means of
support; so that though the soldier has more to endure, his reward is
much less. But against all this it may be urged that it is easier to
reward two thousand soldiers, for the former may be remunerated by
giving them places, which must perforce be conferred upon men of their
calling, while the latter can only be recompensed out of the very
property of the master they serve; but this impossibility only
strengthens my argument.

“Putting this, however, aside, for it is a puzzling question for which
it is difficult to find a solution, let us return to the superiority of
arms over letters, a matter still undecided, so many are the arguments
put forward on each side; for besides those I have mentioned, letters
say that without them arms cannot maintain themselves, for war, too,
has its laws and is governed by them, and laws belong to the domain of
letters and men of letters. To this arms make answer that without them
laws cannot be maintained, for by arms states are defended, kingdoms
preserved, cities protected, roads made safe, seas cleared of pirates;
and, in short, if it were not for them, states, kingdoms, monarchies,
cities, ways by sea and land would be exposed to the violence and
confusion which war brings with it, so long as it lasts and is free to
make use of its privileges and powers. And then it is plain that
whatever costs most is valued and deserves to be valued most. To attain
to eminence in letters costs a man time, watching, hunger, nakedness,
headaches, indigestions, and other things of the sort, some of which I
have already referred to. But for a man to come in the ordinary course
of things to be a good soldier costs him all the student suffers, and
in an incomparably higher degree, for at every step he runs the risk of
losing his life. For what dread of want or poverty that can reach or
harass the student can compare with what the soldier feels, who finds
himself beleaguered in some stronghold mounting guard in some ravelin
or cavalier, knows that the enemy is pushing a mine towards the post
where he is stationed, and cannot under any circumstances retire or fly
from the imminent danger that threatens him? All he can do is to inform
his captain of what is going on so that he may try to remedy it by a
counter-mine, and then stand his ground in fear and expectation of the
moment when he will fly up to the clouds without wings and descend into
the deep against his will. And if this seems a trifling risk, let us
see whether it is equalled or surpassed by the encounter of two galleys
stem to stem, in the midst of the open sea, locked and entangled one
with the other, when the soldier has no more standing room than two
feet of the plank of the spur; and yet, though he sees before him
threatening him as many ministers of death as there are cannon of the
foe pointed at him, not a lance length from his body, and sees too that
with the first heedless step he will go down to visit the profundities
of Neptune’s bosom, still with dauntless heart, urged on by honour that
nerves him, he makes himself a target for all that musketry, and
struggles to cross that narrow path to the enemy’s ship. And what is
still more marvellous, no sooner has one gone down into the depths he
will never rise from till the end of the world, than another takes his
place; and if he too falls into the sea that waits for him like an
enemy, another and another will succeed him without a moment’s pause
between their deaths: courage and daring the greatest that all the
chances of war can show. Happy the blest ages that knew not the dread
fury of those devilish engines of artillery, whose inventor I am
persuaded is in hell receiving the reward of his diabolical invention,
by which he made it easy for a base and cowardly arm to take the life
of a gallant gentleman; and that, when he knows not how or whence, in
the height of the ardour and enthusiasm that fire and animate brave
hearts, there should come some random bullet, discharged perhaps by one
who fled in terror at the flash when he fired off his accursed machine,
which in an instant puts an end to the projects and cuts off the life
of one who deserved to live for ages to come. And thus when I reflect
on this, I am almost tempted to say that in my heart I repent of having
adopted this profession of knight-errant in so detestable an age as we
live in now; for though no peril can make me fear, still it gives me
some uneasiness to think that powder and lead may rob me of the
opportunity of making myself famous and renowned throughout the known
earth by the might of my arm and the edge of my sword. But Heaven’s
will be done; if I succeed in my attempt I shall be all the more
honoured, as I have faced greater dangers than the knights-errant of
yore exposed themselves to.”

All this lengthy discourse Don Quixote delivered while the others
supped, forgetting to raise a morsel to his lips, though Sancho more
than once told him to eat his supper, as he would have time enough
afterwards to say all he wanted. It excited fresh pity in those who had
heard him to see a man of apparently sound sense, and with rational
views on every subject he discussed, so hopelessly wanting in all, when
his wretched unlucky chivalry was in question. The curate told him he
was quite right in all he had said in favour of arms, and that he
himself, though a man of letters and a graduate, was of the same
opinion.

They finished their supper, the cloth was removed, and while the
hostess, her daughter, and Maritornes were getting Don Quixote of La
Mancha’s garret ready, in which it was arranged that the women were to
be quartered by themselves for the night, Don Fernando begged the
captive to tell them the story of his life, for it could not fail to be
strange and interesting, to judge by the hints he had let fall on his
arrival in company with Zoraida. To this the captive replied that he
would very willingly yield to his request, only he feared his tale
would not give them as much pleasure as he wished; nevertheless, not to
be wanting in compliance, he would tell it. The curate and the others
thanked him and added their entreaties, and he finding himself so
pressed said there was no occasion ask, where a command had such
weight, and added, “If your worships will give me your attention you
will hear a true story which, perhaps, fictitious ones constructed with
ingenious and studied art cannot come up to.” These words made them
settle themselves in their places and preserve a deep silence, and he
seeing them waiting on his words in mute expectation, began thus in a
pleasant quiet voice.



c38e.jpg (18K)



CHAPTER XXXIX.
WHEREIN THE CAPTIVE RELATES HIS LIFE AND ADVENTURES




c39a.jpg (137K)

Full Size




My family had its origin in a village in the mountains of Leon, and
nature had been kinder and more generous to it than fortune; though in
the general poverty of those communities my father passed for being
even a rich man; and he would have been so in reality had he been as
clever in preserving his property as he was in spending it. This
tendency of his to be liberal and profuse he had acquired from having
been a soldier in his youth, for the soldier’s life is a school in
which the niggard becomes free-handed and the free-handed prodigal; and
if any soldiers are to be found who are misers, they are monsters of
rare occurrence. My father went beyond liberality and bordered on
prodigality, a disposition by no means advantageous to a married man
who has children to succeed to his name and position. My father had
three, all sons, and all of sufficient age to make choice of a
profession. Finding, then, that he was unable to resist his propensity,
he resolved to divest himself of the instrument and cause of his
prodigality and lavishness, to divest himself of wealth, without which
Alexander himself would have seemed parsimonious; and so calling us all
three aside one day into a room, he addressed us in words somewhat to
the following effect:

“My sons, to assure you that I love you, no more need be known or said
than that you are my sons; and to encourage a suspicion that I do not
love you, no more is needed than the knowledge that I have no
self-control as far as preservation of your patrimony is concerned;
therefore, that you may for the future feel sure that I love you like a
father, and have no wish to ruin you like a stepfather, I propose to do
with you what I have for some time back meditated, and after mature
deliberation decided upon. You are now of an age to choose your line of
life or at least make choice of a calling that will bring you honour
and profit when you are older; and what I have resolved to do is to
divide my property into four parts; three I will give to you, to each
his portion without making any difference, and the other I will retain
to live upon and support myself for whatever remainder of life Heaven
may be pleased to grant me. But I wish each of you on taking possession
of the share that falls to him to follow one of the paths I shall
indicate. In this Spain of ours there is a proverb, to my mind very
true—as they all are, being short aphorisms drawn from long practical
experience—and the one I refer to says, ‘The church, or the sea, or the
king’s house;’ as much as to say, in plainer language, whoever wants to
flourish and become rich, let him follow the church, or go to sea,
adopting commerce as his calling, or go into the king’s service in his
household, for they say, ‘Better a king’s crumb than a lord’s favour.’
I say so because it is my will and pleasure that one of you should
follow letters, another trade, and the third serve the king in the
wars, for it is a difficult matter to gain admission to his service in
his household, and if war does not bring much wealth it confers great
distinction and fame. Eight days hence I will give you your full shares
in money, without defrauding you of a farthing, as you will see in the
end. Now tell me if you are willing to follow out my idea and advice as
I have laid it before you.”

Having called upon me as the eldest to answer, I, after urging him not
to strip himself of his property but to spend it all as he pleased, for
we were young men able to gain our living, consented to comply with his
wishes, and said that mine were to follow the profession of arms and
thereby serve God and my king. My second brother having made the same
proposal, decided upon going to the Indies, embarking the portion that
fell to him in trade. The youngest, and in my opinion the wisest, said
he would rather follow the church, or go to complete his studies at
Salamanca. As soon as we had come to an understanding, and made choice
of our professions, my father embraced us all, and in the short time he
mentioned carried into effect all he had promised; and when he had
given to each his share, which as well as I remember was three thousand
ducats apiece in cash (for an uncle of ours bought the estate and paid
for it down, not to let it go out of the family), we all three on the
same day took leave of our good father; and at the same time, as it
seemed to me inhuman to leave my father with such scanty means in his
old age, I induced him to take two of my three thousand ducats, as the
remainder would be enough to provide me with all a soldier needed. My
two brothers, moved by my example, gave him each a thousand ducats, so
that there was left for my father four thousand ducats in money,
besides three thousand, the value of the portion that fell to him which
he preferred to retain in land instead of selling it. Finally, as I
said, we took leave of him, and of our uncle whom I have mentioned, not
without sorrow and tears on both sides, they charging us to let them
know whenever an opportunity offered how we fared, whether well or ill.
We promised to do so, and when he had embraced us and given us his
blessing, one set out for Salamanca, the other for Seville, and I for
Alicante, where I had heard there was a Genoese vessel taking in a
cargo of wool for Genoa.

It is now some twenty-two years since I left my father’s house, and all
that time, though I have written several letters, I have had no news
whatever of him or of my brothers; my own adventures during that period
I will now relate briefly. I embarked at Alicante, reached Genoa after
a prosperous voyage, and proceeded thence to Milan, where I provided
myself with arms and a few soldier’s accoutrements; thence it was my
intention to go and take service in Piedmont, but as I was already on
the road to Alessandria della Paglia, I learned that the great Duke of
Alva was on his way to Flanders. I changed my plans, joined him, served
under him in the campaigns he made, was present at the deaths of the
Counts Egmont and Horn, and was promoted to be ensign under a famous
captain of Guadalajara, Diego de Urbina by name. Some time after my
arrival in Flanders news came of the league that his Holiness Pope Pius
V. of happy memory, had made with Venice and Spain against the common
enemy, the Turk, who had just then with his fleet taken the famous
island of Cyprus, which belonged to the Venetians, a loss deplorable
and disastrous. It was known as a fact that the Most Serene Don John of
Austria, natural brother of our good king Don Philip, was coming as
commander-in-chief of the allied forces, and rumours were abroad of the
vast warlike preparations which were being made, all which stirred my
heart and filled me with a longing to take part in the campaign which
was expected; and though I had reason to believe, and almost certain
promises, that on the first opportunity that presented itself I should
be promoted to be captain, I preferred to leave all and betake myself,
as I did, to Italy; and it was my good fortune that Don John had just
arrived at Genoa, and was going on to Naples to join the Venetian
fleet, as he afterwards did at Messina. I may say, in short, that I
took part in that glorious expedition, promoted by this time to be a
captain of infantry, to which honourable charge my good luck rather
than my merits raised me; and that day—so fortunate for Christendom,
because then all the nations of the earth were disabused of the error
under which they lay in imagining the Turks to be invincible on sea—on
that day, I say, on which the Ottoman pride and arrogance were broken,
among all that were there made happy (for the Christians who died that
day were happier than those who remained alive and victorious) I alone
was miserable; for, instead of some naval crown that I might have
expected had it been in Roman times, on the night that followed that
famous day I found myself with fetters on my feet and manacles on my
hands.

It happened in this way: El Uchali, the king of Algiers, a daring and
successful corsair, having attacked and taken the leading Maltese
galley (only three knights being left alive in it, and they badly
wounded), the chief galley of John Andrea, on board of which I and my
company were placed, came to its relief, and doing as was bound to do
in such a case, I leaped on board the enemy’s galley, which, sheering
off from that which had attacked it, prevented my men from following
me, and so I found myself alone in the midst of my enemies, who were in
such numbers that I was unable to resist; in short I was taken, covered
with wounds; El Uchali, as you know, sirs, made his escape with his
entire squadron, and I was left a prisoner in his power, the only sad
being among so many filled with joy, and the only captive among so many
free; for there were fifteen thousand Christians, all at the oar in the
Turkish fleet, that regained their longed-for liberty that day.

They carried me to Constantinople, where the Grand Turk, Selim, made my
master general at sea for having done his duty in the battle and
carried off as evidence of his bravery the standard of the Order of
Malta. The following year, which was the year seventy-two, I found
myself at Navarino rowing in the leading galley with the three
lanterns. There I saw and observed how the opportunity of capturing the
whole Turkish fleet in harbour was lost; for all the marines and
janizzaries that belonged to it made sure that they were about to be
attacked inside the very harbour, and had their kits and pasamaques, or
shoes, ready to flee at once on shore without waiting to be assailed,
in so great fear did they stand of our fleet. But Heaven ordered it
otherwise, not for any fault or neglect of the general who commanded on
our side, but for the sins of Christendom, and because it was God’s
will and pleasure that we should always have instruments of punishment
to chastise us. As it was, El Uchali took refuge at Modon, which is an
island near Navarino, and landing forces fortified the mouth of the
harbour and waited quietly until Don John retired. On this expedition
was taken the galley called the Prize, whose captain was a son of the
famous corsair Barbarossa. It was taken by the chief Neapolitan galley
called the She-wolf, commanded by that thunderbolt of war, that father
of his men, that successful and unconquered captain Don Álvaro de
Bazan, Marquis of Santa Cruz; and I cannot help telling you what took
place at the capture of the Prize.

The son of Barbarossa was so cruel, and treated his slaves so badly,
that, when those who were at the oars saw that the She-wolf galley was
bearing down upon them and gaining upon them, they all at once dropped
their oars and seized their captain who stood on the stage at the end
of the gangway shouting to them to row lustily; and passing him on from
bench to bench, from the poop to the prow, they so bit him that before
he had got much past the mast his soul had already got to hell; so
great, as I said, was the cruelty with which he treated them, and the
hatred with which they hated him.

We returned to Constantinople, and the following year, seventy-three,
it became known that Don John had seized Tunis and taken the kingdom
from the Turks, and placed Muley Hamet in possession, putting an end to
the hopes which Muley Hamida, the cruelest and bravest Moor in the
world, entertained of returning to reign there. The Grand Turk took the
loss greatly to heart, and with the cunning which all his race possess,
he made peace with the Venetians (who were much more eager for it than
he was), and the following year, seventy-four, he attacked the Goletta
and the fort which Don John had left half built near Tunis. While all
these events were occurring, I was labouring at the oar without any
hope of freedom; at least I had no hope of obtaining it by ransom, for
I was firmly resolved not to write to my father telling him of my
misfortunes. At length the Goletta fell, and the fort fell, before
which places there were seventy-five thousand regular Turkish soldiers,
and more than four hundred thousand Moors and Arabs from all parts of
Africa, and in the train of all this great host such munitions and
engines of war, and so many pioneers that with their hands they might
have covered the Goletta and the fort with handfuls of earth. The first
to fall was the Goletta, until then reckoned impregnable, and it fell,
not by any fault of its defenders, who did all that they could and
should have done, but because experiment proved how easily
entrenchments could be made in the desert sand there; for water used to
be found at two palms depth, while the Turks found none at two yards;
and so by means of a quantity of sandbags they raised their works so
high that they commanded the walls of the fort, sweeping them as if
from a cavalier, so that no one was able to make a stand or maintain
the defence.

It was a common opinion that our men should not have shut themselves up
in the Goletta, but should have waited in the open at the
landing-place; but those who say so talk at random and with little
knowledge of such matters; for if in the Goletta and in the fort there
were barely seven thousand soldiers, how could such a small number,
however resolute, sally out and hold their own against numbers like
those of the enemy? And how is it possible to help losing a stronghold
that is not relieved, above all when surrounded by a host of determined
enemies in their own country? But many thought, and I thought so too,
that it was special favour and mercy which Heaven showed to Spain in
permitting the destruction of that source and hiding place of mischief,
that devourer, sponge, and moth of countless money, fruitlessly wasted
there to no other purpose save preserving the memory of its capture by
the invincible Charles V.; as if to make that eternal, as it is and
will be, these stones were needed to support it. The fort also fell;
but the Turks had to win it inch by inch, for the soldiers who defended
it fought so gallantly and stoutly that the number of the enemy killed
in twenty-two general assaults exceeded twenty-five thousand. Of three
hundred that remained alive not one was taken unwounded, a clear and
manifest proof of their gallantry and resolution, and how sturdily they
had defended themselves and held their post. A small fort or tower
which was in the middle of the lagoon under the command of Don Juan
Zanoguera, a Valencian gentleman and a famous soldier, capitulated upon
terms. They took prisoner Don Pedro Puertocarrero, commandant of the
Goletta, who had done all in his power to defend his fortress, and took
the loss of it so much to heart that he died of grief on the way to
Constantinople, where they were carrying him a prisoner. They also took
the commandant of the fort, Gabrio Cerbellon by name, a Milanese
gentleman, a great engineer and a very brave soldier. In these two
fortresses perished many persons of note, among whom was Pagano Doria,
knight of the Order of St. John, a man of generous disposition, as was
shown by his extreme liberality to his brother, the famous John Andrea
Doria; and what made his death the more sad was that he was slain by
some Arabs to whom, seeing that the fort was now lost, he entrusted
himself, and who offered to conduct him in the disguise of a Moor to
Tabarca, a small fort or station on the coast held by the Genoese
employed in the coral fishery. These Arabs cut off his head and carried
it to the commander of the Turkish fleet, who proved on them the truth
of our Castilian proverb, that “though the treason may please, the
traitor is hated;” for they say he ordered those who brought him the
present to be hanged for not having brought him alive.



c39b.jpg (371K)

Full Size




Among the Christians who were taken in the fort was one named Don Pedro
de Aguilar, a native of some place, I know not what, in Andalusia, who
had been ensign in the fort, a soldier of great repute and rare
intelligence, who had in particular a special gift for what they call
poetry. I say so because his fate brought him to my galley and to my
bench, and made him a slave to the same master; and before we left the
port this gentleman composed two sonnets by way of epitaphs, one on the
Goletta and the other on the fort; indeed, I may as well repeat them,
for I have them by heart, and I think they will be liked rather than
disliked.

The instant the captive mentioned the name of Don Pedro de Aguilar, Don
Fernando looked at his companions and they all three smiled; and when
he came to speak of the sonnets one of them said, “Before your worship
proceeds any further I entreat you to tell me what became of that Don
Pedro de Aguilar you have spoken of.”

“All I know is,” replied the captive, “that after having been in
Constantinople two years, he escaped in the disguise of an Arnaut, in
company with a Greek spy; but whether he regained his liberty or not I
cannot tell, though I fancy he did, because a year afterwards I saw the
Greek at Constantinople, though I was unable to ask him what the result
of the journey was.”

“Well then, you are right,” returned the gentleman, “for that Don Pedro
is my brother, and he is now in our village in good health, rich,
married, and with three children.”

“Thanks be to God for all the mercies he has shown him,” said the
captive; “for to my mind there is no happiness on earth to compare with
recovering lost liberty.”

“And what is more,” said the gentleman, “I know the sonnets my brother
made.”

“Then let your worship repeat them,” said the captive, “for you will
recite them better than I can.”

“With all my heart,” said the gentleman; “that on the Goletta runs
thus.”



c39e.jpg (38K)



CHAPTER XL.
IN WHICH THE STORY OF THE CAPTIVE IS CONTINUED.




c40a.jpg (131K)

Full Size




SONNET

“Blest souls, that, from this mortal husk set free,
In guerdon of brave deeds beatified,
Above this lowly orb of ours abide
Made heirs of heaven and immortality,
With noble rage and ardour glowing ye
Your strength, while strength was yours, in battle plied,
And with your own blood and the foeman’s dyed
The sandy soil and the encircling sea.
It was the ebbing life-blood first that failed
The weary arms; the stout hearts never quailed.
Though vanquished, yet ye earned the victor’s crown:
Though mourned, yet still triumphant was your fall
For there ye won, between the sword and wall,
In Heaven glory and on earth renown.”


“That is it exactly, according to my recollection,” said the captive.

“Well then, that on the fort,” said the gentleman, “if my memory serves
me, goes thus:

SONNET

“Up from this wasted soil, this shattered shell,
Whose walls and towers here in ruin lie,
Three thousand soldier souls took wing on high,
In the bright mansions of the blest to dwell.
The onslaught of the foeman to repel
By might of arm all vainly did they try,
And when at length ’twas left them but to die,
Wearied and few the last defenders fell.
And this same arid soil hath ever been
A haunt of countless mournful memories,
As well in our day as in days of yore.
But never yet to Heaven it sent, I ween,
From its hard bosom purer souls than these,
Or braver bodies on its surface bore.”


The sonnets were not disliked, and the captive was rejoiced at the
tidings they gave him of his comrade, and continuing his tale, he went
on to say:

The Goletta and the fort being thus in their hands, the Turks gave
orders to dismantle the Goletta—for the fort was reduced to such a
state that there was nothing left to level—and to do the work more
quickly and easily they mined it in three places; but nowhere were they
able to blow up the part which seemed to be the least strong, that is
to say, the old walls, while all that remained standing of the new
fortifications that the Fratin had made came to the ground with the
greatest ease. Finally the fleet returned victorious and triumphant to
Constantinople, and a few months later died my master, El Uchali,
otherwise Uchali Fartax, which means in Turkish “the scabby renegade;”
for that he was; it is the practice with the Turks to name people from
some defect or virtue they may possess; the reason being that there are
among them only four surnames belonging to families tracing their
descent from the Ottoman house, and the others, as I have said, take
their names and surnames either from bodily blemishes or moral
qualities. This “scabby one” rowed at the oar as a slave of the Grand
Signor’s for fourteen years, and when over thirty-four years of age, in
resentment at having been struck by a Turk while at the oar, turned
renegade and renounced his faith in order to be able to revenge
himself; and such was his valour that, without owing his advancement to
the base ways and means by which most favourites of the Grand Signor
rise to power, he came to be king of Algiers, and afterwards
general-on-sea, which is the third place of trust in the realm. He was
a Calabrian by birth, and a worthy man morally, and he treated his
slaves with great humanity. He had three thousand of them, and after
his death they were divided, as he directed by his will, between the
Grand Signor (who is heir of all who die and shares with the children
of the deceased) and his renegades. I fell to the lot of a Venetian
renegade who, when a cabin boy on board a ship, had been taken by
Uchali and was so much beloved by him that he became one of his most
favoured youths. He came to be the most cruel renegade I ever saw: his
name was Hassan Aga, and he grew very rich and became king of Algiers.
With him I went there from Constantinople, rather glad to be so near
Spain, not that I intended to write to anyone about my unhappy lot, but
to try if fortune would be kinder to me in Algiers than in
Constantinople, where I had attempted in a thousand ways to escape
without ever finding a favourable time or chance; but in Algiers I
resolved to seek for other means of effecting the purpose I cherished
so dearly; for the hope of obtaining my liberty never deserted me; and
when in my plots and schemes and attempts the result did not answer my
expectations, without giving way to despair I immediately began to look
out for or conjure up some new hope to support me, however faint or
feeble it might be.

In this way I lived on immured in a building or prison called by the
Turks a baño in which they confine the Christian captives, as well
those that are the king’s as those belonging to private individuals,
and also what they call those of the Almacen, which is as much as to
say the slaves of the municipality, who serve the city in the public
works and other employments; but captives of this kind recover their
liberty with great difficulty, for, as they are public property and
have no particular master, there is no one with whom to treat for their
ransom, even though they may have the means. To these baños, as I have
said, some private individuals of the town are in the habit of bringing
their captives, especially when they are to be ransomed; because there
they can keep them in safety and comfort until their ransom arrives.
The king’s captives also, that are on ransom, do not go out to work
with the rest of the crew, unless when their ransom is delayed; for
then, to make them write for it more pressingly, they compel them to
work and go for wood, which is no light labour.

I, however, was one of those on ransom, for when it was discovered that
I was a captain, although I declared my scanty means and want of
fortune, nothing could dissuade them from including me among the
gentlemen and those waiting to be ransomed. They put a chain on me,
more as a mark of this than to keep me safe, and so I passed my life in
that baño with several other gentlemen and persons of quality marked
out as held to ransom; but though at times, or rather almost always, we
suffered from hunger and scanty clothing, nothing distressed us so much
as hearing and seeing at every turn the unexampled and unheard-of
cruelties my master inflicted upon the Christians. Every day he hanged
a man, impaled one, cut off the ears of another; and all with so little
provocation, or so entirely without any, that the Turks acknowledged he
did it merely for the sake of doing it, and because he was by nature
murderously disposed towards the whole human race. The only one that
fared at all well with him was a Spanish soldier, something de Saavedra
by name, to whom he never gave a blow himself, or ordered a blow to be
given, or addressed a hard word, although he had done things that will
dwell in the memory of the people there for many a year, and all to
recover his liberty; and for the least of the many things he did we all
dreaded that he would be impaled, and he himself was in fear of it more
than once; and only that time does not allow, I could tell you now
something of what that soldier did, that would interest and astonish
you much more than the narration of my own tale.

To go on with my story; the courtyard of our prison was overlooked by
the windows of the house belonging to a wealthy Moor of high position;
and these, as is usual in Moorish houses, were rather loopholes than
windows, and besides were covered with thick and close lattice-work. It
so happened, then, that as I was one day on the terrace of our prison
with three other comrades, trying, to pass away the time, how far we
could leap with our chains, we being alone, for all the other
Christians had gone out to work, I chanced to raise my eyes, and from
one of these little closed windows I saw a reed appear with a cloth
attached to the end of it, and it kept waving to and fro, and moving as
if making signs to us to come and take it. We watched it, and one of
those who were with me went and stood under the reed to see whether
they would let it drop, or what they would do, but as he did so the
reed was raised and moved from side to side, as if they meant to say
“no” by a shake of the head. The Christian came back, and it was again
lowered, making the same movements as before. Another of my comrades
went, and with him the same happened as with the first, and then the
third went forward, but with the same result as the first and second.
Seeing this I did not like not to try my luck, and as soon as I came
under the reed it was dropped and fell inside the baño at my feet. I
hastened to untie the cloth, in which I perceived a knot, and in this
were ten cianis, which are coins of base gold, current among the Moors,
and each worth ten reals of our money.

It is needless to say I rejoiced over this godsend, and my joy was not
less than my wonder as I strove to imagine how this good fortune could
have come to us, but to me specially; for the evident unwillingness to
drop the reed for any but me showed that it was for me the favour was
intended. I took my welcome money, broke the reed, and returned to the
terrace, and looking up at the window, I saw a very white hand put out
that opened and shut very quickly. From this we gathered or fancied
that it must be some woman living in that house that had done us this
kindness, and to show that we were grateful for it, we made salaams
after the fashion of the Moors, bowing the head, bending the body, and
crossing the arms on the breast. Shortly afterwards at the same window
a small cross made of reeds was put out and immediately withdrawn. This
sign led us to believe that some Christian woman was a captive in the
house, and that it was she who had been so good to us; but the
whiteness of the hand and the bracelets we had perceived made us
dismiss that idea, though we thought it might be one of the Christian
renegades whom their masters very often take as lawful wives, and
gladly, for they prefer them to the women of their own nation. In all
our conjectures we were wide of the truth; so from that time forward
our sole occupation was watching and gazing at the window where the
cross had appeared to us, as if it were our pole-star; but at least
fifteen days passed without our seeing either it or the hand, or any
other sign and though meanwhile we endeavoured with the utmost pains to
ascertain who it was that lived in the house, and whether there were
any Christian renegade in it, nobody could ever tell us anything more
than that he who lived there was a rich Moor of high position, Hadji
Morato by name, formerly alcaide of La Pata, an office of high dignity
among them. But when we least thought it was going to rain any more
cianis from that quarter, we saw the reed suddenly appear with another
cloth tied in a larger knot attached to it, and this at a time when, as
on the former occasion, the baño was deserted and unoccupied.



c40b.jpg (288K)

Full Size




We made trial as before, each of the same three going forward before I
did; but the reed was delivered to none but me, and on my approach it
was let drop. I untied the knot and I found forty Spanish gold crowns
with a paper written in Arabic, and at the end of the writing there was
a large cross drawn. I kissed the cross, took the crowns and returned
to the terrace, and we all made our salaams; again the hand appeared, I
made signs that I would read the paper, and then the window was closed.
We were all puzzled, though filled with joy at what had taken place;
and as none of us understood Arabic, great was our curiosity to know
what the paper contained, and still greater the difficulty of finding
someone to read it. At last I resolved to confide in a renegade, a
native of Murcia, who professed a very great friendship for me, and had
given pledges that bound him to keep any secret I might entrust to him;
for it is the custom with some renegades, when they intend to return to
Christian territory, to carry about them certificates from captives of
mark testifying, in whatever form they can, that such and such a
renegade is a worthy man who has always shown kindness to Christians,
and is anxious to escape on the first opportunity that may present
itself. Some obtain these testimonials with good intentions, others put
them to a cunning use; for when they go to pillage on Christian
territory, if they chance to be cast away, or taken prisoners, they
produce their certificates and say that from these papers may be seen
the object they came for, which was to remain on Christian ground, and
that it was to this end they joined the Turks in their foray. In this
way they escape the consequences of the first outburst and make their
peace with the Church before it does them any harm, and then when they
have the chance they return to Barbary to become what they were before.
Others, however, there are who procure these papers and make use of
them honestly, and remain on Christian soil. This friend of mine, then,
was one of these renegades that I have described; he had certificates
from all our comrades, in which we testified in his favour as strongly
as we could; and if the Moors had found the papers they would have
burned him alive.

I knew that he understood Arabic very well, and could not only speak
but also write it; but before I disclosed the whole matter to him, I
asked him to read for me this paper which I had found by accident in a
hole in my cell. He opened it and remained some time examining it and
muttering to himself as he translated it. I asked him if he understood
it, and he told me he did perfectly well, and that if I wished him to
tell me its meaning word for word, I must give him pen and ink that he
might do it more satisfactorily. We at once gave him what he required,
and he set about translating it bit by bit, and when he had done he
said:

“All that is here in Spanish is what the Moorish paper contains, and
you must bear in mind that when it says ‘Lela Marien’ it means ‘Our
Lady the Virgin Mary.’”

We read the paper and it ran thus:

“When I was a child my father had a slave who taught me to pray the
Christian prayer in my own language, and told me many things about Lela
Marien. The Christian died, and I know that she did not go to the fire,
but to Allah, because since then I have seen her twice, and she told me
to go to the land of the Christians to see Lela Marien, who had great
love for me. I know not how to go. I have seen many Christians, but
except thyself none has seemed to me to be a gentleman. I am young and
beautiful, and have plenty of money to take with me. See if thou canst
contrive how we may go, and if thou wilt thou shalt be my husband
there, and if thou wilt not it will not distress me, for Lela Marien
will find me someone to marry me. I myself have written this: have a
care to whom thou givest it to read: trust no Moor, for they are all
perfidious. I am greatly troubled on this account, for I would not have
thee confide in anyone, because if my father knew it he would at once
fling me down a well and cover me with stones. I will put a thread to
the reed; tie the answer to it, and if thou hast no one to write for
thee in Arabic, tell it to me by signs, for Lela Marien will make me
understand thee. She and Allah and this cross, which I often kiss as
the captive bade me, protect thee.”

Judge, sirs, whether we had reason for surprise and joy at the words of
this paper; and both one and the other were so great, that the renegade
perceived that the paper had not been found by chance, but had been in
reality addressed to someone of us, and he begged us, if what he
suspected were the truth, to trust him and tell him all, for he would
risk his life for our freedom; and so saying he took out from his
breast a metal crucifix, and with many tears swore by the God the image
represented, in whom, sinful and wicked as he was, he truly and
faithfully believed, to be loyal to us and keep secret whatever we
chose to reveal to him; for he thought and almost foresaw that by means
of her who had written that paper, he and all of us would obtain our
liberty, and he himself obtain the object he so much desired, his
restoration to the bosom of the Holy Mother Church, from which by his
own sin and ignorance he was now severed like a corrupt limb. The
renegade said this with so many tears and such signs of repentance,
that with one consent we all agreed to tell him the whole truth of the
matter, and so we gave him a full account of all, without hiding
anything from him. We pointed out to him the window at which the reed
appeared, and he by that means took note of the house, and resolved to
ascertain with particular care who lived in it. We agreed also that it
would be advisable to answer the Moorish lady’s letter, and the
renegade without a moment’s delay took down the words I dictated to
him, which were exactly what I shall tell you, for nothing of
importance that took place in this affair has escaped my memory, or
ever will while life lasts. This, then, was the answer returned to the
Moorish lady:

“The true Allah protect thee, Lady, and that blessed Marien who is the
true mother of God, and who has put it into thy heart to go to the land
of the Christians, because she loves thee. Entreat her that she be
pleased to show thee how thou canst execute the command she gives thee,
for she will, such is her goodness. On my own part, and on that of all
these Christians who are with me, I promise to do all that we can for
thee, even to death. Fail not to write to me and inform me what thou
dost mean to do, and I will always answer thee; for the great Allah has
given us a Christian captive who can speak and write thy language well,
as thou mayest see by this paper; without fear, therefore, thou canst
inform us of all thou wouldst. As to what thou sayest, that if thou
dost reach the land of the Christians thou wilt be my wife, I give thee
my promise upon it as a good Christian; and know that the Christians
keep their promises better than the Moors. Allah and Marien his mother
watch over thee, my Lady.”

The paper being written and folded I waited two days until the baño was
empty as before, and immediately repaired to the usual walk on the
terrace to see if there were any sign of the reed, which was not long
in making its appearance. As soon as I saw it, although I could not
distinguish who put it out, I showed the paper as a sign to attach the
thread, but it was already fixed to the reed, and to it I tied the
paper; and shortly afterwards our star once more made its appearance
with the white flag of peace, the little bundle. It was dropped, and I
picked it up, and found in the cloth, in gold and silver coins of all
sorts, more than fifty crowns, which fifty times more strengthened our
joy and doubled our hope of gaining our liberty. That very night our
renegade returned and said he had learned that the Moor we had been
told of lived in that house, that his name was Hadji Morato, that he
was enormously rich, that he had one only daughter the heiress of all
his wealth, and that it was the general opinion throughout the city
that she was the most beautiful woman in Barbary, and that several of
the viceroys who came there had sought her for a wife, but that she had
been always unwilling to marry; and he had learned, moreover, that she
had a Christian slave who was now dead; all which agreed with the
contents of the paper. We immediately took counsel with the renegade as
to what means would have to be adopted in order to carry off the
Moorish lady and bring us all to Christian territory; and in the end it
was agreed that for the present we should wait for a second
communication from Zoraida (for that was the name of her who now
desires to be called Maria), because we saw clearly that she and no one
else could find a way out of all these difficulties. When we had
decided upon this the renegade told us not to be uneasy, for he would
lose his life or restore us to liberty. For four days the baño was
filled with people, for which reason the reed delayed its appearance
for four days, but at the end of that time, when the baño was, as it
generally was, empty, it appeared with the cloth so bulky that it
promised a happy birth. Reed and cloth came down to me, and I found
another paper and a hundred crowns in gold, without any other coin. The
renegade was present, and in our cell we gave him the paper to read,
which was to this effect:

“I cannot think of a plan, señor, for our going to Spain, nor has Lela
Marien shown me one, though I have asked her. All that can be done is
for me to give you plenty of money in gold from this window. With it
ransom yourself and your friends, and let one of you go to the land of
the Christians, and there buy a vessel and come back for the others;
and he will find me in my father’s garden, which is at the Babazon gate
near the seashore, where I shall be all this summer with my father and
my servants. You can carry me away from there by night without any
danger, and bring me to the vessel. And remember thou art to be my
husband, else I will pray to Marien to punish thee. If thou canst not
trust anyone to go for the vessel, ransom thyself and do thou go, for I
know thou wilt return more surely than any other, as thou art a
gentleman and a Christian. Endeavour to make thyself acquainted with
the garden; and when I see thee walking yonder I shall know that the
baño is empty and I will give thee abundance of money. Allah protect
thee, señor.”

These were the words and contents of the second paper, and on hearing
them, each declared himself willing to be the ransomed one, and
promised to go and return with scrupulous good faith; and I too made
the same offer; but to all this the renegade objected, saying that he
would not on any account consent to one being set free before all went
together, as experience had taught him how ill those who have been set
free keep promises which they made in captivity; for captives of
distinction frequently had recourse to this plan, paying the ransom of
one who was to go to Valencia or Majorca with money to enable him to
arm a bark and return for the others who had ransomed him, but who
never came back; for recovered liberty and the dread of losing it again
efface from the memory all the obligations in the world. And to prove
the truth of what he said, he told us briefly what had happened to a
certain Christian gentleman almost at that very time, the strangest
case that had ever occurred even there, where astonishing and
marvellous things are happening every instant. In short, he ended by
saying that what could and ought to be done was to give the money
intended for the ransom of one of us Christians to him, so that he
might with it buy a vessel there in Algiers under the pretence of
becoming a merchant and trader at Tetuan and along the coast; and when
master of the vessel, it would be easy for him to hit on some way of
getting us all out of the baño and putting us on board; especially if
the Moorish lady gave, as she said, money enough to ransom all, because
once free it would be the easiest thing in the world for us to embark
even in open day; but the greatest difficulty was that the Moors do not
allow any renegade to buy or own any craft, unless it be a large vessel
for going on roving expeditions, because they are afraid that anyone
who buys a small vessel, especially if he be a Spaniard, only wants it
for the purpose of escaping to Christian territory. This however he
could get over by arranging with a Tagarin Moor to go shares with him
in the purchase of the vessel, and in the profit on the cargo; and
under cover of this he could become master of the vessel, in which case
he looked upon all the rest as accomplished. But though to me and my
comrades it had seemed a better plan to send to Majorca for the vessel,
as the Moorish lady suggested, we did not dare to oppose him, fearing
that if we did not do as he said he would denounce us, and place us in
danger of losing all our lives if he were to disclose our dealings with
Zoraida, for whose life we would have all given our own. We therefore
resolved to put ourselves in the hands of God and in the renegade’s;
and at the same time an answer was given to Zoraida, telling her that
we would do all she recommended, for she had given as good advice as if
Lela Marien had delivered it, and that it depended on her alone whether
we were to defer the business or put it in execution at once. I renewed
my promise to be her husband; and thus the next day that the baño
chanced to be empty she at different times gave us by means of the reed
and cloth two thousand gold crowns and a paper in which she said that
the next Juma, that is to say Friday, she was going to her father’s
garden, but that before she went she would give us more money; and if
it were not enough we were to let her know, as she would give us as
much as we asked, for her father had so much he would not miss it, and
besides she kept all the keys.

We at once gave the renegade five hundred crowns to buy the vessel, and
with eight hundred I ransomed myself, giving the money to a Valencian
merchant who happened to be in Algiers at the time, and who had me
released on his word, pledging it that on the arrival of the first ship
from Valencia he would pay my ransom; for if he had given the money at
once it would have made the king suspect that my ransom money had been
for a long time in Algiers, and that the merchant had for his own
advantage kept it secret. In fact my master was so difficult to deal
with that I dared not on any account pay down the money at once. The
Thursday before the Friday on which the fair Zoraida was to go to the
garden she gave us a thousand crowns more, and warned us of her
departure, begging me, if I were ransomed, to find out her father’s
garden at once, and by all means to seek an opportunity of going there
to see her. I answered in a few words that I would do so, and that she
must remember to commend us to Lela Marien with all the prayers the
captive had taught her. This having been done, steps were taken to
ransom our three comrades, so as to enable them to quit the baño, and
lest, seeing me ransomed and themselves not, though the money was
forthcoming, they should make a disturbance about it and the devil
should prompt them to do something that might injure Zoraida; for
though their position might be sufficient to relieve me from this
apprehension, nevertheless I was unwilling to run any risk in the
matter; and so I had them ransomed in the same way as I was, handing
over all the money to the merchant so that he might with safety and
confidence give security; without, however, confiding our arrangement
and secret to him, which might have been dangerous.



c40e.jpg (34K)



CHAPTER XLI.
IN WHICH THE CAPTIVE STILL CONTINUES HIS ADVENTURES




c41a.jpg (106K)

Full Size




Before fifteen days were over our renegade had already purchased an
excellent vessel with room for more than thirty persons; and to make
the transaction safe and lend a colour to it, he thought it well to
make, as he did, a voyage to a place called Shershel, twenty leagues
from Algiers on the Oran side, where there is an extensive trade in
dried figs. Two or three times he made this voyage in company with the
Tagarin already mentioned. The Moors of Aragon are called Tagarins in
Barbary, and those of Granada Mudéjares; but in the Kingdom of Fez they
call the Mudéjares Elches, and they are the people the king chiefly
employs in war. To proceed: every time he passed with his vessel he
anchored in a cove that was not two crossbow shots from the garden
where Zoraida was waiting; and there the renegade, together with the
two Moorish lads that rowed, used purposely to station himself, either
going through his prayers, or else practising as a part what he meant
to perform in earnest. And thus he would go to Zoraida’s garden and ask
for fruit, which her father gave him, not knowing him; but though, as
he afterwards told me, he sought to speak to Zoraida, and tell her who
he was, and that by my orders he was to take her to the land of the
Christians, so that she might feel satisfied and easy, he had never
been able to do so; for the Moorish women do not allow themselves to be
seen by any Moor or Turk, unless their husband or father bid them: with
Christian captives they permit freedom of intercourse and
communication, even more than might be considered proper. But for my
part I should have been sorry if he had spoken to her, for perhaps it
might have alarmed her to find her affairs talked of by renegades. But
God, who ordered it otherwise, afforded no opportunity for our
renegade’s well-meant purpose; and he, seeing how safely he could go to
Shershel and return, and anchor when and how and where he liked, and
that the Tagarin his partner had no will but his, and that, now I was
ransomed, all we wanted was to find some Christians to row, told me to
look out for any I should be willing to take with me, over and above
those who had been ransomed, and to engage them for the next Friday,
which he fixed upon for our departure. On this I spoke to twelve
Spaniards, all stout rowers, and such as could most easily leave the
city; but it was no easy matter to find so many just then, because
there were twenty ships out on a cruise and they had taken all the
rowers with them; and these would not have been found were it not that
their master remained at home that summer without going to sea in order
to finish a galliot that he had upon the stocks. To these men I said
nothing more than that the next Friday in the evening they were to come
out stealthily one by one and hang about Hadji Morato’s garden, waiting
for me there until I came. These directions I gave each one separately,
with orders that if they saw any other Christians there they were not
to say anything to them except that I had directed them to wait at that
spot.

This preliminary having been settled, another still more necessary step
had to be taken, which was to let Zoraida know how matters stood that
she might be prepared and forewarned, so as not to be taken by surprise
if we were suddenly to seize upon her before she thought the
Christians’ vessel could have returned. I determined, therefore, to go
to the garden and try if I could speak to her; and the day before my
departure I went there under the pretence of gathering herbs. The first
person I met was her father, who addressed me in the language that all
over Barbary and even in Constantinople is the medium between captives
and Moors, and is neither Morisco nor Castilian, nor of any other
nation, but a mixture of all languages, by means of which we can all
understand one another. In this sort of language, I say, he asked me
what I wanted in his garden, and to whom I belonged. I replied that I
was a slave of the Arnaut Mami (for I knew as a certainty that he was a
very great friend of his), and that I wanted some herbs to make a
salad. He asked me then whether I were on ransom or not, and what my
master demanded for me. While these questions and answers were
proceeding, the fair Zoraida, who had already perceived me some time
before, came out of the house in the garden, and as Moorish women are
by no means particular about letting themselves be seen by Christians,
or, as I have said before, at all coy, she had no hesitation in coming
to where her father stood with me; moreover her father, seeing her
approaching slowly, called to her to come. It would be beyond my power
now to describe to you the great beauty, the high-bred air, the
brilliant attire of my beloved Zoraida as she presented herself before
my eyes. I will content myself with saying that more pearls hung from
her fair neck, her ears, and her hair than she had hairs on her head.
On her ankles, which as is customary were bare, she had carcajes (for
so bracelets or anklets are called in Morisco) of the purest gold, set
with so many diamonds that she told me afterwards her father valued
them at ten thousand doubloons, and those she had on her wrists were
worth as much more. The pearls were in profusion and very fine, for the
highest display and adornment of the Moorish women is decking
themselves with rich pearls and seed-pearls; and of these there are
therefore more among the Moors than among any other people. Zoraida’s
father had to the reputation of possessing a great number, and the
purest in all Algiers, and of possessing also more than two hundred
thousand Spanish crowns; and she, who is now mistress of me only, was
mistress of all this. Whether thus adorned she would have been
beautiful or not, and what she must have been in her prosperity, may be
imagined from the beauty remaining to her after so many hardships; for,
as everyone knows, the beauty of some women has its times and its
seasons, and is increased or diminished by chance causes; and naturally
the emotions of the mind will heighten or impair it, though indeed more
frequently they totally destroy it. In a word she presented herself
before me that day attired with the utmost splendour, and supremely
beautiful; at any rate, she seemed to me the most beautiful object I
had ever seen; and when, besides, I thought of all I owed to her I felt
as though I had before me some heavenly being come to earth to bring me
relief and happiness.

As she approached her father told her in his own language that I was a
captive belonging to his friend the Arnaut Mami, and that I had come
for salad.

She took up the conversation, and in that mixture of tongues I have
spoken of she asked me if I was a gentleman, and why I was not
ransomed.

I answered that I was already ransomed, and that by the price it might
be seen what value my master set on me, as they had given one thousand
five hundred zoltanis for me; to which she replied, “Hadst thou been my
father’s, I can tell thee, I would not have let him part with thee for
twice as much, for you Christians always tell lies about yourselves and
make yourselves out poor to cheat the Moors.”

“That may be, lady,” said I; “but indeed I dealt truthfully with my
master, as I do and mean to do with everybody in the world.”

“And when dost thou go?” said Zoraida.

“To-morrow, I think,” said I, “for there is a vessel here from France
which sails to-morrow, and I think I shall go in her.”

“Would it not be better,” said Zoraida, “to wait for the arrival of
ships from Spain and go with them and not with the French who are not
your friends?”

“No,” said I; “though if there were intelligence that a vessel were now
coming from Spain it is true I might, perhaps, wait for it; however, it
is more likely I shall depart to-morrow, for the longing I feel to
return to my country and to those I love is so great that it will not
allow me to wait for another opportunity, however more convenient, if
it be delayed.”

“No doubt thou art married in thine own country,” said Zoraida, “and
for that reason thou art anxious to go and see thy wife.”

“I am not married,” I replied, “but I have given my promise to marry on
my arrival there.”

“And is the lady beautiful to whom thou hast given it?” said Zoraida.

“So beautiful,” said I, “that, to describe her worthily and tell thee
the truth, she is very like thee.”

At this her father laughed very heartily and said, “By Allah,
Christian, she must be very beautiful if she is like my daughter, who
is the most beautiful woman in all this kingdom: only look at her well
and thou wilt see I am telling the truth.”

Zoraida’s father as the better linguist helped to interpret most of
these words and phrases, for though she spoke the bastard language,
that, as I have said, is employed there, she expressed her meaning more
by signs than by words.

While we were still engaged in this conversation, a Moor came running
up, exclaiming that four Turks had leaped over the fence or wall of the
garden, and were gathering the fruit though it was not yet ripe. The
old man was alarmed and Zoraida too, for the Moors commonly, and, so to
speak, instinctively have a dread of the Turks, but particularly of the
soldiers, who are so insolent and domineering to the Moors who are
under their power that they treat them worse than if they were their
slaves. Her father said to Zoraida, “Daughter, retire into the house
and shut thyself in while I go and speak to these dogs; and thou,
Christian, pick thy herbs, and go in peace, and Allah bring thee safe
to thy own country.”

I bowed, and he went away to look for the Turks, leaving me alone with
Zoraida, who made as if she were about to retire as her father bade
her; but the moment he was concealed by the trees of the garden,
turning to me with her eyes full of tears she said, “Tameji, cristiano,
tameji?” that is to say, “Art thou going, Christian, art thou going?”

I made answer, “Yes, lady, but not without thee, come what may: be on
the watch for me on the next Juma, and be not alarmed when thou seest
us; for most surely we shall go to the land of the Christians.”

This I said in such a way that she understood perfectly all that passed
between us, and throwing her arm round my neck she began with feeble
steps to move towards the house; but as fate would have it (and it
might have been very unfortunate if Heaven had not otherwise ordered
it), just as we were moving on in the manner and position I have
described, with her arm round my neck, her father, as he returned after
having sent away the Turks, saw how we were walking and we perceived
that he saw us; but Zoraida, ready and quickwitted, took care not to
remove her arm from my neck, but on the contrary drew closer to me and
laid her head on my breast, bending her knees a little and showing all
the signs and tokens of fainting, while I at the same time made it seem
as though I were supporting her against my will. Her father came
running up to where we were, and seeing his daughter in this state
asked what was the matter with her; she, however, giving no answer, he
said, “No doubt she has fainted in alarm at the entrance of those
dogs,” and taking her from mine he drew her to his own breast, while
she sighing, her eyes still wet with tears, said again, “Ameji,
cristiano, ameji”—“Go, Christian, go.” To this her father replied,
“There is no need, daughter, for the Christian to go, for he has done
thee no harm, and the Turks have now gone; feel no alarm, there is
nothing to hurt thee, for as I say, the Turks at my request have gone
back the way they came.”



c41b.jpg (320K)

Full Size




“It was they who terrified her, as thou hast said, señor,” said I to
her father; “but since she tells me to go, I have no wish to displease
her: peace be with thee, and with thy leave I will come back to this
garden for herbs if need be, for my master says there are nowhere
better herbs for salad than here.”

“Come back for any thou hast need of,” replied Hadji Morato; “for my
daughter does not speak thus because she is displeased with thee or any
Christian: she only meant that the Turks should go, not thou; or that
it was time for thee to look for thy herbs.”

With this I at once took my leave of both; and she, looking as though
her heart were breaking, retired with her father. While pretending to
look for herbs I made the round of the garden at my ease, and studied
carefully all the approaches and outlets, and the fastenings of the
house and everything that could be taken advantage of to make our task
easy.



c41c.jpg (326K)

Full Size




Having done so I went and gave an account of all that had taken place
to the renegade and my comrades, and looked forward with impatience to
the hour when, all fear at an end, I should find myself in possession
of the prize which fortune held out to me in the fair and lovely
Zoraida. The time passed at length, and the appointed day we so longed
for arrived; and, all following out the arrangement and plan which,
after careful consideration and many a long discussion, we had decided
upon, we succeeded as fully as we could have wished; for on the Friday
following the day upon which I spoke to Zoraida in the garden, the
renegade anchored his vessel at nightfall almost opposite the spot
where she was. The Christians who were to row were ready and in hiding
in different places round about, all waiting for me, anxious and
elated, and eager to attack the vessel they had before their eyes; for
they did not know the renegade’s plan, but expected that they were to
gain their liberty by force of arms and by killing the Moors who were
on board the vessel. As soon, then, as I and my comrades made our
appearance, all those that were in hiding seeing us came and joined us.
It was now the time when the city gates are shut, and there was no one
to be seen in all the space outside. When we were collected together we
debated whether it would be better first to go for Zoraida, or to make
prisoners of the Moorish rowers who rowed in the vessel; but while we
were still uncertain our renegade came up asking us what kept us, as it
was now the time, and all the Moors were off their guard and most of
them asleep. We told him why we hesitated, but he said it was of more
importance first to secure the vessel, which could be done with the
greatest ease and without any danger, and then we could go for Zoraida.
We all approved of what he said, and so without further delay, guided
by him we made for the vessel, and he leaping on board first, drew his
cutlass and said in Morisco, “Let no one stir from this if he does not
want it to cost him his life.” By this almost all the Christians were
on board, and the Moors, who were fainthearted, hearing their captain
speak in this way, were cowed, and without any one of them taking to
his arms (and indeed they had few or hardly any) they submitted without
saying a word to be bound by the Christians, who quickly secured them,
threatening them that if they raised any kind of outcry they would be
all put to the sword. This having been accomplished, and half of our
party being left to keep guard over them, the rest of us, again taking
the renegade as our guide, hastened towards Hadji Morato’s garden, and
as good luck would have it, on trying the gate it opened as easily as
if it had not been locked; and so, quite quietly and in silence, we
reached the house without being perceived by anybody. The lovely
Zoraida was watching for us at a window, and as soon as she perceived
that there were people there, she asked in a low voice if we were
“Nizarani,” as much as to say or ask if we were Christians. I answered
that we were, and begged her to come down. As soon as she recognised me
she did not delay an instant, but without answering a word came down
immediately, opened the door and presented herself before us all, so
beautiful and so richly attired that I cannot attempt to describe her.
The moment I saw her I took her hand and kissed it, and the renegade
and my two comrades did the same; and the rest, who knew nothing of the
circumstances, did as they saw us do, for it only seemed as if we were
returning thanks to her, and recognising her as the giver of our
liberty. The renegade asked her in the Morisco language if her father
was in the house. She replied that he was and that he was asleep.

“Then it will be necessary to waken him and take him with us,” said the
renegade, “and everything of value in this fair mansion.”

“Nay,” said she, “my father must not on any account be touched, and
there is nothing in the house except what I shall take, and that will
be quite enough to enrich and satisfy all of you; wait a little and you
shall see,” and so saying she went in, telling us she would return
immediately and bidding us keep quiet without making any noise.

I asked the renegade what had passed between them, and when he told me,
I declared that nothing should be done except in accordance with the
wishes of Zoraida, who now came back with a little trunk so full of
gold crowns that she could scarcely carry it. Unfortunately her father
awoke while this was going on, and hearing a noise in the garden, came
to the window, and at once perceiving that all those who were there
were Christians, raising a prodigiously loud outcry, he began to call
out in Arabic, “Christians, Christians! thieves, thieves!” by which
cries we were all thrown into the greatest fear and embarrassment; but
the renegade seeing the danger we were in and how important it was for
him to effect his purpose before we were heard, mounted with the utmost
quickness to where Hadji Morato was, and with him went some of our
party; I, however, did not dare to leave Zoraida, who had fallen almost
fainting in my arms. To be brief, those who had gone upstairs acted so
promptly that in an instant they came down, carrying Hadji Morato with
his hands bound and a napkin tied over his mouth, which prevented him
from uttering a word, warning him at the same time that to attempt to
speak would cost him his life. When his daughter caught sight of him
she covered her eyes so as not to see him, and her father was
horror-stricken, not knowing how willingly she had placed herself in
our hands. But it was now most essential for us to be on the move, and
carefully and quickly we regained the vessel, where those who had
remained on board were waiting for us in apprehension of some mishap
having befallen us. It was barely two hours after night set in when we
were all on board the vessel, where the cords were removed from the
hands of Zoraida’s father, and the napkin from his mouth; but the
renegade once more told him not to utter a word, or they would take his
life. He, when he saw his daughter there, began to sigh piteously, and
still more when he perceived that I held her closely embraced and that
she lay quiet without resisting or complaining, or showing any
reluctance; nevertheless he remained silent lest they should carry into
effect the repeated threats the renegade had addressed to him.

Finding herself now on board, and that we were about to give way with
the oars, Zoraida, seeing her father there, and the other Moors bound,
bade the renegade ask me to do her the favour of releasing the Moors
and setting her father at liberty, for she would rather drown herself
in the sea than suffer a father that had loved her so dearly to be
carried away captive before her eyes and on her account. The renegade
repeated this to me, and I replied that I was very willing to do so;
but he replied that it was not advisable, because if they were left
there they would at once raise the country and stir up the city, and
lead to the despatch of swift cruisers in pursuit, and our being taken,
by sea or land, without any possibility of escape; and that all that
could be done was to set them free on the first Christian ground we
reached. On this point we all agreed; and Zoraida, to whom it was
explained, together with the reasons that prevented us from doing at
once what she desired, was satisfied likewise; and then in glad silence
and with cheerful alacrity each of our stout rowers took his oar, and
commending ourselves to God with all our hearts, we began to shape our
course for the island of Majorca, the nearest Christian land. Owing,
however, to the Tramontana rising a little, and the sea growing
somewhat rough, it was impossible for us to keep a straight course for
Majorca, and we were compelled to coast in the direction of Oran, not
without great uneasiness on our part lest we should be observed from
the town of Shershel, which lies on that coast, not more than sixty
miles from Algiers. Moreover we were afraid of meeting on that course
one of the galliots that usually come with goods from Tetuan; although
each of us for himself and all of us together felt confident that, if
we were to meet a merchant galliot, so that it were not a cruiser, not
only should we not be lost, but that we should take a vessel in which
we could more safely accomplish our voyage. As we pursued our course
Zoraida kept her head between my hands so as not to see her father, and
I felt that she was praying to Lela Marien to help us.



c41d.jpg (266K)

Full Size




We might have made about thirty miles when daybreak found us some three
musket-shots off the land, which seemed to us deserted, and without
anyone to see us. For all that, however, by hard rowing we put out a
little to sea, for it was now somewhat calmer, and having gained about
two leagues the word was given to row by batches, while we ate
something, for the vessel was well provided; but the rowers said it was
not a time to take any rest; let food be served out to those who were
not rowing, but they would not leave their oars on any account. This
was done, but now a stiff breeze began to blow, which obliged us to
leave off rowing and make sail at once and steer for Oran, as it was
impossible to make any other course. All this was done very promptly,
and under sail we ran more than eight miles an hour without any fear,
except that of coming across some vessel out on a roving expedition. We
gave the Moorish rowers some food, and the renegade comforted them by
telling them that they were not held as captives, as we should set them
free on the first opportunity.

The same was said to Zoraida’s father, who replied, “Anything else,
Christian, I might hope for or think likely from your generosity and
good behaviour, but do not think me so simple as to imagine you will
give me my liberty; for you would have never exposed yourselves to the
danger of depriving me of it only to restore it to me so generously,
especially as you know who I am and the sum you may expect to receive
on restoring it; and if you will only name that, I here offer you all
you require for myself and for my unhappy daughter there; or else for
her alone, for she is the greatest and most precious part of my soul.”

As he said this he began to weep so bitterly that he filled us all with
compassion and forced Zoraida to look at him, and when she saw him
weeping she was so moved that she rose from my feet and ran to throw
her arms round him, and pressing her face to his, they both gave way to
such an outburst of tears that several of us were constrained to keep
them company.

But when her father saw her in full dress and with all her jewels about
her, he said to her in his own language, “What means this, my daughter?
Last night, before this terrible misfortune in which we are plunged
befell us, I saw thee in thy everyday and indoor garments; and now,
without having had time to attire thyself, and without my bringing thee
any joyful tidings to furnish an occasion for adorning and bedecking
thyself, I see thee arrayed in the finest attire it would be in my
power to give thee when fortune was most kind to us. Answer me this;
for it causes me greater anxiety and surprise than even this misfortune
itself.”

The renegade interpreted to us what the Moor said to his daughter; she,
however, returned him no answer. But when he observed in one corner of
the vessel the little trunk in which she used to keep her jewels, which
he well knew he had left in Algiers and had not brought to the garden,
he was still more amazed, and asked her how that trunk had come into
our hands, and what there was in it. To which the renegade, without
waiting for Zoraida to reply, made answer, “Do not trouble thyself by
asking thy daughter Zoraida so many questions, señor, for the one
answer I will give thee will serve for all; I would have thee know that
she is a Christian, and that it is she who has been the file for our
chains and our deliverer from captivity. She is here of her own free
will, as glad, I imagine, to find herself in this position as he who
escapes from darkness into the light, from death to life, and from
suffering to glory.”

“Daughter, is this true, what he says?” cried the Moor.

“It is,” replied Zoraida.

“That thou art in truth a Christian,” said the old man, “and that thou
hast given thy father into the power of his enemies?”

To which Zoraida made answer, “A Christian I am, but it is not I who
have placed thee in this position, for it never was my wish to leave
thee or do thee harm, but only to do good to myself.”

“And what good hast thou done thyself, daughter?” said he.

“Ask thou that,” said she, “of Lela Marien, for she can tell thee
better than I.”

The Moor had hardly heard these words when with marvellous quickness he
flung himself headforemost into the sea, where no doubt he would have
been drowned had not the long and full dress he wore held him up for a
little on the surface of the water. Zoraida cried aloud to us to save
him, and we all hastened to help, and seizing him by his robe we drew
him in half drowned and insensible, at which Zoraida was in such
distress that she wept over him as piteously and bitterly as though he
were already dead. We turned him upon his face and he voided a great
quantity of water, and at the end of two hours came to himself.
Meanwhile, the wind having changed we were compelled to head for the
land, and ply our oars to avoid being driven on shore; but it was our
good fortune to reach a creek that lies on one side of a small
promontory or cape, called by the Moors that of the “Cava rumia,” which
in our language means “the wicked Christian woman;” for it is a
tradition among them that La Cava, through whom Spain was lost, lies
buried at that spot; “cava” in their language meaning “wicked woman,”
and “rumia” “Christian;” moreover, they count it unlucky to anchor
there when necessity compels them, and they never do so otherwise. For
us, however, it was not the resting-place of the wicked woman but a
haven of safety for our relief, so much had the sea now got up. We
posted a look-out on shore, and never let the oars out of our hands,
and ate of the stores the renegade had laid in, imploring God and Our
Lady with all our hearts to help and protect us, that we might give a
happy ending to a beginning so prosperous. At the entreaty of Zoraida
orders were given to set on shore her father and the other Moors who
were still bound, for she could not endure, nor could her tender heart
bear to see her father in bonds and her fellow-countrymen prisoners
before her eyes. We promised her to do this at the moment of departure,
for as it was uninhabited we ran no risk in releasing them at that
place.

Our prayers were not so far in vain as to be unheard by Heaven, for
after a while the wind changed in our favour, and made the sea calm,
inviting us once more to resume our voyage with a good heart. Seeing
this we unbound the Moors, and one by one put them on shore, at which
they were filled with amazement; but when we came to land Zoraida’s
father, who had now completely recovered his senses, he said:

“Why is it, think ye, Christians, that this wicked woman is rejoiced at
your giving me my liberty? Think ye it is because of the affection she
bears me? Nay verily, it is only because of the hindrance my presence
offers to the execution of her base designs. And think not that it is
her belief that yours is better than ours that has led her to change
her religion; it is only because she knows that immodesty is more
freely practised in your country than in ours.” Then turning to
Zoraida, while I and another of the Christians held him fast by both
arms, lest he should do some mad act, he said to her, “Infamous girl,
misguided maiden, whither in thy blindness and madness art thou going
in the hands of these dogs, our natural enemies? Cursed be the hour
when I begot thee! Cursed the luxury and indulgence in which I reared
thee!”

But seeing that he was not likely soon to cease I made haste to put him
on shore, and thence he continued his maledictions and lamentations
aloud; calling on Mohammed to pray to Allah to destroy us, to confound
us, to make an end of us; and when, in consequence of having made sail,
we could no longer hear what he said we could see what he did; how he
plucked out his beard and tore his hair and lay writhing on the ground.
But once he raised his voice to such a pitch that we were able to hear
what he said. “Come back, dear daughter, come back to shore; I forgive
thee all; let those men have the money, for it is theirs now, and come
back to comfort thy sorrowing father, who will yield up his life on
this barren strand if thou dost leave him.”



c41e.jpg (281K)

Full Size




All this Zoraida heard, and heard with sorrow and tears, and all she
could say in answer was, “Allah grant that Lela Marien, who has made me
become a Christian, give thee comfort in thy sorrow, my father. Allah
knows that I could not do otherwise than I have done, and that these
Christians owe nothing to my will; for even had I wished not to
accompany them, but remain at home, it would have been impossible for
me, so eagerly did my soul urge me on to the accomplishment of this
purpose, which I feel to be as righteous as to thee, dear father, it
seems wicked.”

But neither could her father hear her nor we see him when she said
this; and so, while I consoled Zoraida, we turned our attention to our
voyage, in which a breeze from the right point so favoured us that we
made sure of finding ourselves off the coast of Spain on the morrow by
daybreak. But, as good seldom or never comes pure and unmixed, without
being attended or followed by some disturbing evil that gives a shock
to it, our fortune, or perhaps the curses which the Moor had hurled at
his daughter (for whatever kind of father they may come from these are
always to be dreaded), brought it about that when we were now in
mid-sea, and the night about three hours spent, as we were running with
all sail set and oars lashed, for the favouring breeze saved us the
trouble of using them, we saw by the light of the moon, which shone
brilliantly, a square-rigged vessel in full sail close to us, luffing
up and standing across our course, and so close that we had to strike
sail to avoid running foul of her, while they too put the helm hard up
to let us pass. They came to the side of the ship to ask who we were,
whither we were bound, and whence we came, but as they asked this in
French our renegade said, “Let no one answer, for no doubt these are
French corsairs who plunder all comers.”



c41f.jpg (268K)

Full Size




Acting on this warning no one answered a word, but after we had gone a
little ahead, and the vessel was now lying to leeward, suddenly they
fired two guns, and apparently both loaded with chain-shot, for with
one they cut our mast in half and brought down both it and the sail
into the sea, and the other, discharged at the same moment, sent a ball
into our vessel amidships, staving her in completely, but without doing
any further damage. We, however, finding ourselves sinking began to
shout for help and call upon those in the ship to pick us up as we were
beginning to fill. They then lay to, and lowering a skiff or boat, as
many as a dozen Frenchmen, well armed with match-locks, and their
matches burning, got into it and came alongside; and seeing how few we
were, and that our vessel was going down, they took us in, telling us
that this had come to us through our incivility in not giving them an
answer. Our renegade took the trunk containing Zoraida’s wealth and
dropped it into the sea without anyone perceiving what he did. In short
we went on board with the Frenchmen, who, after having ascertained all
they wanted to know about us, rifled us of everything we had, as if
they had been our bitterest enemies, and from Zoraida they took even
the anklets she wore on her feet; but the distress they caused her did
not distress me so much as the fear I was in that from robbing her of
her rich and precious jewels they would proceed to rob her of the most
precious jewel that she valued more than all. The desires, however, of
those people do not go beyond money, but of that their covetousness is
insatiable, and on this occasion it was carried to such a pitch that
they would have taken even the clothes we wore as captives if they had
been worth anything to them. It was the advice of some of them to throw
us all into the sea wrapped up in a sail; for their purpose was to
trade at some of the ports of Spain, giving themselves out as Bretons,
and if they brought us alive they would be punished as soon as the
robbery was discovered; but the captain (who was the one who had
plundered my beloved Zoraida) said he was satisfied with the prize he
had got, and that he would not touch at any Spanish port, but pass the
Straits of Gibraltar by night, or as best he could, and make for La
Rochelle, from which he had sailed. So they agreed by common consent to
give us the skiff belonging to their ship and all we required for the
short voyage that remained to us, and this they did the next day on
coming in sight of the Spanish coast, with which, and the joy we felt,
all our sufferings and miseries were as completely forgotten as if they
had never been endured by us, such is the delight of recovering lost
liberty.

It may have been about mid-day when they placed us in the boat, giving
us two kegs of water and some biscuit; and the captain, moved by I know
not what compassion, as the lovely Zoraida was about to embark, gave
her some forty gold crowns, and would not permit his men to take from
her those same garments which she has on now. We got into the boat,
returning them thanks for their kindness to us, and showing ourselves
grateful rather than indignant. They stood out to sea, steering for the
straits; we, without looking to any compass save the land we had before
us, set ourselves to row with such energy that by sunset we were so
near that we might easily, we thought, land before the night was far
advanced. But as the moon did not show that night, and the sky was
clouded, and as we knew not whereabouts we were, it did not seem to us
a prudent thing to make for the shore, as several of us advised, saying
we ought to run ourselves ashore even if it were on rocks and far from
any habitation, for in this way we should be relieved from the
apprehensions we naturally felt of the prowling vessels of the Tetuan
corsairs, who leave Barbary at nightfall and are on the Spanish coast
by daybreak, where they commonly take some prize, and then go home to
sleep in their own houses. But of the conflicting counsels the one
which was adopted was that we should approach gradually, and land where
we could if the sea were calm enough to permit us. This was done, and a
little before midnight we drew near to the foot of a huge and lofty
mountain, not so close to the sea but that it left a narrow space on
which to land conveniently. We ran our boat up on the sand, and all
sprang out and kissed the ground, and with tears of joyful satisfaction
returned thanks to God our Lord for all his incomparable goodness to us
on our voyage. We took out of the boat the provisions it contained, and
drew it up on the shore, and then climbed a long way up the mountain,
for even there we could not feel easy in our hearts, or persuade
ourselves that it was Christian soil that was now under our feet.

The dawn came, more slowly, I think, than we could have wished; we
completed the ascent in order to see if from the summit any habitation
or any shepherds’ huts could be discovered, but strain our eyes as we
might, neither dwelling, nor human being, nor path nor road could we
perceive. However, we determined to push on farther, as it could not
but be that ere long we must see someone who could tell us where we
were. But what distressed me most was to see Zoraida going on foot over
that rough ground; for though I once carried her on my shoulders, she
was more wearied by my weariness than rested by the rest; and so she
would never again allow me to undergo the exertion, and went on very
patiently and cheerfully, while I led her by the hand. We had gone
rather less than a quarter of a league when the sound of a little bell
fell on our ears, a clear proof that there were flocks hard by, and
looking about carefully to see if any were within view, we observed a
young shepherd tranquilly and unsuspiciously trimming a stick with his
knife at the foot of a cork tree. We called to him, and he, raising his
head, sprang nimbly to his feet, for, as we afterwards learned, the
first who presented themselves to his sight were the renegade and
Zoraida, and seeing them in Moorish dress he imagined that all the
Moors of Barbary were upon him; and plunging with marvellous swiftness
into the thicket in front of him, he began to raise a prodigious
outcry, exclaiming, “The Moors—the Moors have landed! To arms, to
arms!” We were all thrown into perplexity by these cries, not knowing
what to do; but reflecting that the shouts of the shepherd would raise
the country and that the mounted coast-guard would come at once to see
what was the matter, we agreed that the renegade must strip off his
Turkish garments and put on a captive’s jacket or coat which one of our
party gave him at once, though he himself was reduced to his shirt; and
so commending ourselves to God, we followed the same road which we saw
the shepherd take, expecting every moment that the coast-guard would be
down upon us. Nor did our expectation deceive us, for two hours had not
passed when, coming out of the brushwood into the open ground, we
perceived some fifty mounted men swiftly approaching us at a
hand-gallop. As soon as we saw them we stood still, waiting for them;
but as they came close and, instead of the Moors they were in quest of,
saw a set of poor Christians, they were taken aback, and one of them
asked if it could be we who were the cause of the shepherd having
raised the call to arms. I said “Yes,” and as I was about to explain to
him what had occurred, and whence we came and who we were, one of the
Christians of our party recognised the horseman who had put the
question to us, and before I could say anything more he exclaimed:

“Thanks be to God, sirs, for bringing us to such good quarters; for, if
I do not deceive myself, the ground we stand on is that of Velez Malaga
unless, indeed, all my years of captivity have made me unable to
recollect that you, señor, who ask who we are, are Pedro de Bustamante,
my uncle.”

The Christian captive had hardly uttered these words, when the horseman
threw himself off his horse, and ran to embrace the young man, crying:

“Nephew of my soul and life! I recognise thee now; and long have I
mourned thee as dead, I, and my sister, thy mother, and all thy kin
that are still alive, and whom God has been pleased to preserve that
they may enjoy the happiness of seeing thee. We knew long since that
thou wert in Algiers, and from the appearance of thy garments and those
of all this company, I conclude that ye have had a miraculous
restoration to liberty.”

“It is true,” replied the young man, “and by-and-by we will tell you
all.”

As soon as the horsemen understood that we were Christian captives,
they dismounted from their horses, and each offered his to carry us to
the city of Velez Malaga, which was a league and a half distant. Some
of them went to bring the boat to the city, we having told them where
we had left it; others took us up behind them, and Zoraida was placed
on the horse of the young man’s uncle. The whole town came out to meet
us, for they had by this time heard of our arrival from one who had
gone on in advance. They were not astonished to see liberated captives
or captive Moors, for people on that coast are well used to see both
one and the other; but they were astonished at the beauty of Zoraida,
which was just then heightened, as well by the exertion of travelling
as by joy at finding herself on Christian soil, and relieved of all
fear of being lost; for this had brought such a glow upon her face,
that unless my affection for her were deceiving me, I would venture to
say that there was not a more beautiful creature in the world—at least,
that I had ever seen. We went straight to the church to return thanks
to God for the mercies we had received, and when Zoraida entered it she
said there were faces there like Lela Marien’s. We told her they were
her images; and as well as he could the renegade explained to her what
they meant, that she might adore them as if each of them were the very
same Lela Marien that had spoken to her; and she, having great
intelligence and a quick and clear instinct, understood at once all he
said to her about them. Thence they took us away and distributed us all
in different houses in the town; but as for the renegade, Zoraida, and
myself, the Christian who came with us brought us to the house of his
parents, who had a fair share of the gifts of fortune, and treated us
with as much kindness as they did their own son.

We remained six days in Velez, at the end of which the renegade, having
informed himself of all that was requisite for him to do, set out for
the city of Granada to restore himself to the sacred bosom of the
Church through the medium of the Holy Inquisition. The other released
captives took their departures, each the way that seemed best to him,
and Zoraida and I were left alone, with nothing more than the crowns
which the courtesy of the Frenchman had bestowed upon Zoraida, out of
which I bought the beast on which she rides; and, I for the present
attending her as her father and squire and not as her husband, we are
now going to ascertain if my father is living, or if any of my brothers
has had better fortune than mine has been; though, as Heaven has made
me the companion of Zoraida, I think no other lot could be assigned to
me, however happy, that I would rather have. The patience with which
she endures the hardships that poverty brings with it, and the
eagerness she shows to become a Christian, are such that they fill me
with admiration, and bind me to serve her all my life; though the
happiness I feel in seeing myself hers, and her mine, is disturbed and
marred by not knowing whether I shall find any corner to shelter her in
my own country, or whether time and death may not have made such
changes in the fortunes and lives of my father and brothers, that I
shall hardly find anyone who knows me, if they are not alive.

I have no more of my story to tell you, gentlemen; whether it be an
interesting or a curious one let your better judgments decide; all I
can say is I would gladly have told it to you more briefly; although my
fear of wearying you has made me leave out more than one circumstance.



c41g.jpg (33K)



CHAPTER XLII.
WHICH TREATS OF WHAT FURTHER TOOK PLACE IN THE INN, AND OF SEVERAL
OTHER THINGS WORTH KNOWING




c42a.jpg (139K)

Full Size




With these words the captive held his peace, and Don Fernando said to
him, “In truth, captain, the manner in which you have related this
remarkable adventure has been such as befitted the novelty and
strangeness of the matter. The whole story is curious and uncommon, and
abounds with incidents that fill the hearers with wonder and
astonishment; and so great is the pleasure we have found in listening
to it that we should be glad if it were to begin again, even though
to-morrow were to find us still occupied with the same tale.” And while
he said this Cardenio and the rest of them offered to be of service to
him in any way that lay in their power, and in words and language so
kindly and sincere that the captain was much gratified by their
good-will. In particular Don Fernando offered, if he would go back with
him, to get his brother the marquis to become godfather at the baptism
of Zoraida, and on his own part to provide him with the means of making
his appearance in his own country with the credit and comfort he was
entitled to. For all this the captive returned thanks very courteously,
although he would not accept any of their generous offers.

By this time night closed in, and as it did, there came up to the inn a
coach attended by some men on horseback, who demanded accommodation; to
which the landlady replied that there was not a hand’s breadth of the
whole inn unoccupied.

“Still, for all that,” said one of those who had entered on horseback,
“room must be found for his lordship the Judge here.”

At this name the landlady was taken aback, and said, “Señor, the fact
is I have no beds; but if his lordship the Judge carries one with him,
as no doubt he does, let him come in and welcome; for my husband and I
will give up our room to accommodate his worship.”

“Very good, so be it,” said the squire; but in the meantime a man had
got out of the coach whose dress indicated at a glance the office and
post he held, for the long robe with ruffled sleeves that he wore
showed that he was, as his servant said, a Judge of appeal. He led by
the hand a young girl in a travelling dress, apparently about sixteen
years of age, and of such a high-bred air, so beautiful and so
graceful, that all were filled with admiration when she made her
appearance, and but for having seen Dorothea, Luscinda, and Zoraida,
who were there in the inn, they would have fancied that a beauty like
that of this maiden’s would have been hard to find. Don Quixote was
present at the entrance of the Judge with the young lady, and as soon
as he saw him he said, “Your worship may with confidence enter and take
your ease in this castle; for though the accommodation be scanty and
poor, there are no quarters so cramped or inconvenient that they cannot
make room for arms and letters; above all if arms and letters have
beauty for a guide and leader, as letters represented by your worship
have in this fair maiden, to whom not only ought castles to throw
themselves open and yield themselves up, but rocks should rend
themselves asunder and mountains divide and bow themselves down to give
her a reception. Enter, your worship, I say, into this paradise, for
here you will find stars and suns to accompany the heaven your worship
brings with you, here you will find arms in their supreme excellence,
and beauty in its highest perfection.”

The Judge was struck with amazement at the language of Don Quixote,
whom he scrutinized very carefully, no less astonished by his figure
than by his talk; and before he could find words to answer him he had a
fresh surprise, when he saw opposite to him Luscinda, Dorothea, and
Zoraida, who, having heard of the new guests and of the beauty of the
young lady, had come to see her and welcome her; Don Fernando,
Cardenio, and the curate, however, greeted him in a more intelligible
and polished style. In short, the Judge made his entrance in a state of
bewilderment, as well with what he saw as what he heard, and the fair
ladies of the inn gave the fair damsel a cordial welcome. On the whole
he could perceive that all who were there were people of quality; but
with the figure, countenance, and bearing of Don Quixote he was at his
wits’ end; and all civilities having been exchanged, and the
accommodation of the inn inquired into, it was settled, as it had been
before settled, that all the women should retire to the garret that has
been already mentioned, and that the men should remain outside as if to
guard them; the Judge, therefore, was very well pleased to allow his
daughter, for such the damsel was, to go with the ladies, which she did
very willingly; and with part of the host’s narrow bed and half of what
the Judge had brought with him, they made a more comfortable
arrangement for the night than they had expected.

The captive, whose heart had leaped within him the instant he saw the
Judge, telling him somehow that this was his brother, asked one of the
servants who accompanied him what his name was, and whether he knew
from what part of the country he came. The servant replied that he was
called the Licentiate Juan Perez de Viedma, and that he had heard it
said he came from a village in the mountains of Leon. From this
statement, and what he himself had seen, he felt convinced that this
was his brother who had adopted letters by his father’s advice; and
excited and rejoiced, he called Don Fernando and Cardenio and the
curate aside, and told them how the matter stood, assuring them that
the judge was his brother. The servant had further informed him that he
was now going to the Indies with the appointment of Judge of the
Supreme Court of Mexico; and he had learned, likewise, that the young
lady was his daughter, whose mother had died in giving birth to her,
and that he was very rich in consequence of the dowry left to him with
the daughter. He asked their advice as to what means he should adopt to
make himself known, or to ascertain beforehand whether, when he had
made himself known, his brother, seeing him so poor, would be ashamed
of him, or would receive him with a warm heart.

“Leave it to me to find out that,” said the curate; “though there is no
reason for supposing, señor captain, that you will not be kindly
received, because the worth and wisdom that your brother’s bearing
shows him to possess do not make it likely that he will prove haughty
or insensible, or that he will not know how to estimate the accidents
of fortune at their proper value.”

“Still,” said the captain, “I would not make myself known abruptly, but
in some indirect way.”

“I have told you already,” said the curate, “that I will manage it in a
way to satisfy us all.”

By this time supper was ready, and they all took their seats at the
table, except the captive, and the ladies, who supped by themselves in
their own room. In the middle of supper the curate said:

“I had a comrade of your worship’s name, Señor Judge, in
Constantinople, where I was a captive for several years, and that same
comrade was one of the stoutest soldiers and captains in the whole
Spanish infantry; but he had as large a share of misfortune as he had
of gallantry and courage.”

“And how was the captain called, señor?” asked the Judge.

“He was called Ruy Perez de Viedma,” replied the curate, “and he was
born in a village in the mountains of Leon; and he mentioned a
circumstance connected with his father and his brothers which, had it
not been told me by so truthful a man as he was, I should have set down
as one of those fables the old women tell over the fire in winter; for
he said his father had divided his property among his three sons and
had addressed words of advice to them sounder than any of Cato’s. But I
can say this much, that the choice he made of going to the wars was
attended with such success, that by his gallant conduct and courage,
and without any help save his own merit, he rose in a few years to be
captain of infantry, and to see himself on the high-road and in
position to be given the command of a corps before long; but Fortune
was against him, for where he might have expected her favour he lost
it, and with it his liberty, on that glorious day when so many
recovered theirs, at the battle of Lepanto. I lost mine at the Goletta,
and after a variety of adventures we found ourselves comrades at
Constantinople. Thence he went to Algiers, where he met with one of the
most extraordinary adventures that ever befell anyone in the world.”

Here the curate went on to relate briefly his brother’s adventure with
Zoraida; to all which the Judge gave such an attentive hearing that he
never before had been so much of a hearer. The curate, however, only
went so far as to describe how the Frenchmen plundered those who were
in the boat, and the poverty and distress in which his comrade and the
fair Moor were left, of whom he said he had not been able to learn what
became of them, or whether they had reached Spain, or been carried to
France by the Frenchmen.

The captain, standing a little to one side, was listening to all the
curate said, and watching every movement of his brother, who, as soon
as he perceived the curate had made an end of his story, gave a deep
sigh and said with his eyes full of tears, “Oh, señor, if you only knew
what news you have given me and how it comes home to me, making me show
how I feel it with these tears that spring from my eyes in spite of all
my worldly wisdom and self-restraint! That brave captain that you speak
of is my eldest brother, who, being of a bolder and loftier mind than
my other brother or myself, chose the honourable and worthy calling of
arms, which was one of the three careers our father proposed to us, as
your comrade mentioned in that fable you thought he was telling you. I
followed that of letters, in which God and my own exertions have raised
me to the position in which you see me. My second brother is in Peru,
so wealthy that with what he has sent to my father and to me he has
fully repaid the portion he took with him, and has even furnished my
father’s hands with the means of gratifying his natural generosity,
while I too have been enabled to pursue my studies in a more becoming
and creditable fashion, and so to attain my present standing. My father
is still alive, though dying with anxiety to hear of his eldest son,
and he prays God unceasingly that death may not close his eyes until he
has looked upon those of his son; but with regard to him what surprises
me is, that having so much common sense as he had, he should have
neglected to give any intelligence about himself, either in his
troubles and sufferings, or in his prosperity, for if his father or any
of us had known of his condition he need not have waited for that
miracle of the reed to obtain his ransom; but what now disquiets me is
the uncertainty whether those Frenchmen may have restored him to
liberty, or murdered him to hide the robbery. All this will make me
continue my journey, not with the satisfaction in which I began it, but
in the deepest melancholy and sadness. Oh dear brother! that I only
knew where thou art now, and I would hasten to seek thee out and
deliver thee from thy sufferings, though it were to cost me suffering
myself! Oh that I could bring news to our old father that thou art
alive, even wert thou in the deepest dungeon of Barbary; for his wealth
and my brother’s and mine would rescue thee thence! Oh beautiful and
generous Zoraida, that I could repay thy goodness to a brother! That I
could be present at the new birth of thy soul, and at thy bridal that
would give us all such happiness!”

All this and more the Judge uttered with such deep emotion at the news
he had received of his brother that all who heard him shared in it,
showing their sympathy with his sorrow. The curate, seeing, then, how
well he had succeeded in carrying out his purpose and the captain’s
wishes, had no desire to keep them unhappy any longer, so he rose from
the table and going into the room where Zoraida was he took her by the
hand, Luscinda, Dorothea, and the Judge’s daughter following her. The
captain was waiting to see what the curate would do, when the latter,
taking him with the other hand, advanced with both of them to where the
Judge and the other gentlemen were and said, “Let your tears cease to
flow, Señor Judge, and the wish of your heart be gratified as fully as
you could desire, for you have before you your worthy brother and your
good sister-in-law. He whom you see here is the Captain Viedma, and
this is the fair Moor who has been so good to him. The Frenchmen I told
you of have reduced them to the state of poverty you see that you may
show the generosity of your kind heart.”

The captain ran to embrace his brother, who placed both hands on his
breast so as to have a good look at him, holding him a little way off
but as soon as he had fully recognised him he clasped him in his arms
so closely, shedding such tears of heartfelt joy, that most of those
present could not but join in them. The words the brothers exchanged,
the emotion they showed can scarcely be imagined, I fancy, much less
put down in writing. They told each other in a few words the events of
their lives; they showed the true affection of brothers in all its
strength; then the judge embraced Zoraida, putting all he possessed at
her disposal; then he made his daughter embrace her, and the fair
Christian and the lovely Moor drew fresh tears from every eye. And
there was Don Quixote observing all these strange proceedings
attentively without uttering a word, and attributing the whole to
chimeras of knight-errantry. Then they agreed that the captain and
Zoraida should return with his brother to Seville, and send news to his
father of his having been delivered and found, so as to enable him to
come and be present at the marriage and baptism of Zoraida, for it was
impossible for the Judge to put off his journey, as he was informed
that in a month from that time the fleet was to sail from Seville for
New Spain, and to miss the passage would have been a great
inconvenience to him. In short, everybody was well pleased and glad at
the captive’s good fortune; and as now almost two-thirds of the night
were past, they resolved to retire to rest for the remainder of it. Don
Quixote offered to mount guard over the castle lest they should be
attacked by some giant or other malevolent scoundrel, covetous of the
great treasure of beauty the castle contained. Those who understood him
returned him thanks for this service, and they gave the Judge an
account of his extraordinary humour, with which he was not a little
amused. Sancho Panza alone was fuming at the lateness of the hour for
retiring to rest; and he of all was the one that made himself most
comfortable, as he stretched himself on the trappings of his ass,
which, as will be told farther on, cost him so dear.

The ladies, then, having retired to their chamber, and the others
having disposed themselves with as little discomfort as they could, Don
Quixote sallied out of the inn to act as sentinel of the castle as he
had promised. It happened, however, that a little before the approach
of dawn a voice so musical and sweet reached the ears of the ladies
that it forced them all to listen attentively, but especially Dorothea,
who had been awake, and by whose side Doña Clara de Viedma, for so the
Judge’s daughter was called, lay sleeping. No one could imagine who it
was that sang so sweetly, and the voice was unaccompanied by any
instrument. At one moment it seemed to them as if the singer were in
the courtyard, at another in the stable; and as they were all
attention, wondering, Cardenio came to the door and said, “Listen,
whoever is not asleep, and you will hear a muleteer’s voice that
enchants as it chants.”

“We are listening to it already, señor,” said Dorothea; on which
Cardenio went away; and Dorothea, giving all her attention to it, made
out the words of the song to be these:



c42e.jpg (11K)



CHAPTER XLIII.
WHEREIN IS RELATED THE PLEASANT STORY OF THE MULETEER, TOGETHER WITH
OTHER STRANGE THINGS THAT CAME TO PASS IN THE INN




c43a.jpg (127K)

Full Size




Ah me, Love’s mariner am I
On Love’s deep ocean sailing;
I know not where the haven lies,
I dare not hope to gain it.

One solitary distant star
Is all I have to guide me,
A brighter orb than those of old
That Palinurus lighted.

And vaguely drifting am I borne,
I know not where it leads me;
I fix my gaze on it alone,
Of all beside it heedless.

But over-cautious prudery,
And coyness cold and cruel,
When most I need it, these, like clouds,
Its longed-for light refuse me.

Bright star, goal of my yearning eyes
As thou above me beamest,
When thou shalt hide thee from my sight
I’ll know that death is near me.


The singer had got so far when it struck Dorothea that it was not fair
to let Clara miss hearing such a sweet voice, so, shaking her from side
to side, she woke her, saying:

“Forgive me, child, for waking thee, but I do so that thou mayest have
the pleasure of hearing the best voice thou hast ever heard, perhaps,
in all thy life.”

Clara awoke quite drowsy, and not understanding at the moment what
Dorothea said, asked her what it was; she repeated what she had said,
and Clara became attentive at once; but she had hardly heard two lines,
as the singer continued, when a strange trembling seized her, as if she
were suffering from a severe attack of quartan ague, and throwing her
arms round Dorothea she said:

“Ah, dear lady of my soul and life! why did you wake me? The greatest
kindness fortune could do me now would be to close my eyes and ears so
as neither to see or hear that unhappy musician.”

“What art thou talking about, child?” said Dorothea. “Why, they say
this singer is a muleteer!”

“Nay, he is the lord of many places,” replied Clara, “and that one in
my heart which he holds so firmly shall never be taken from him, unless
he be willing to surrender it.”

Dorothea was amazed at the ardent language of the girl, for it seemed
to be far beyond such experience of life as her tender years gave any
promise of, so she said to her:

“You speak in such a way that I cannot understand you, Señora Clara;
explain yourself more clearly, and tell me what is this you are saying
about hearts and places and this musician whose voice has so moved you?
But do not tell me anything now; I do not want to lose the pleasure I
get from listening to the singer by giving my attention to your
transports, for I perceive he is beginning to sing a new strain and a
new air.”

“Let him, in Heaven’s name,” returned Clara; and not to hear him she
stopped both ears with her hands, at which Dorothea was again
surprised; but turning her attention to the song she found that it ran
in this fashion:

Sweet Hope, my stay,
That onward to the goal of thy intent
Dost make thy way,
Heedless of hindrance or impediment,
Have thou no fear
If at each step thou findest death is near.

No victory,
No joy of triumph doth the faint heart know;
Unblest is he
That a bold front to Fortune dares not show,
But soul and sense
In bondage yieldeth up to indolence.

If Love his wares
Do dearly sell, his right must be contest;
What gold compares
With that whereon his stamp he hath imprest?
And all men know
What costeth little that we rate but low.

Love resolute
Knows not the word “impossibility;”
And though my suit
Beset by endless obstacles I see,
Yet no despair
Shall hold me bound to earth while heaven is there.


Here the voice ceased and Clara’s sobs began afresh, all which excited
Dorothea’s curiosity to know what could be the cause of singing so
sweet and weeping so bitter, so she again asked her what it was she was
going to say before. On this Clara, afraid that Luscinda might overhear
her, winding her arms tightly round Dorothea put her mouth so close to
her ear that she could speak without fear of being heard by anyone
else, and said:

“This singer, dear señora, is the son of a gentleman of Aragon, lord of
two villages, who lives opposite my father’s house at Madrid; and
though my father had curtains to the windows of his house in winter,
and lattice-work in summer, in some way—I know not how—this gentleman,
who was pursuing his studies, saw me, whether in church or elsewhere, I
cannot tell, and, in fact, fell in love with me, and gave me to know it
from the windows of his house, with so many signs and tears that I was
forced to believe him, and even to love him, without knowing what it
was he wanted of me. One of the signs he used to make me was to link
one hand in the other, to show me he wished to marry me; and though I
should have been glad if that could be, being alone and motherless I
knew not whom to open my mind to, and so I left it as it was, showing
him no favour, except when my father, and his too, were from home, to
raise the curtain or the lattice a little and let him see me plainly,
at which he would show such delight that he seemed as if he were going
mad. Meanwhile the time for my father’s departure arrived, which he
became aware of, but not from me, for I had never been able to tell him
of it. He fell sick, of grief I believe, and so the day we were going
away I could not see him to take farewell of him, were it only with the
eyes. But after we had been two days on the road, on entering the
posada of a village a day’s journey from this, I saw him at the inn
door in the dress of a muleteer, and so well disguised, that if I did
not carry his image graven on my heart it would have been impossible
for me to recognise him. But I knew him, and I was surprised, and glad;
he watched me, unsuspected by my father, from whom he always hides
himself when he crosses my path on the road, or in the posadas where we
halt; and, as I know what he is, and reflect that for love of me he
makes this journey on foot in all this hardship, I am ready to die of
sorrow; and where he sets foot there I set my eyes. I know not with
what object he has come; or how he could have got away from his father,
who loves him beyond measure, having no other heir, and because he
deserves it, as you will perceive when you see him. And moreover, I can
tell you, all that he sings is out of his own head; for I have heard
them say he is a great scholar and poet; and what is more, every time I
see him or hear him sing I tremble all over, and am terrified lest my
father should recognise him and come to know of our loves. I have never
spoken a word to him in my life; and for all that I love him so that I
could not live without him. This, dear señora, is all I have to tell
you about the musician whose voice has delighted you so much; and from
it alone you might easily perceive he is no muleteer, but a lord of
hearts and towns, as I told you already.”

“Say no more, Doña Clara,” said Dorothea at this, at the same time
kissing her a thousand times over, “say no more, I tell you, but wait
till day comes; when I trust in God to arrange this affair of yours so
that it may have the happy ending such an innocent beginning deserves.”

“Ah, señora,” said Doña Clara, “what end can be hoped for when his
father is of such lofty position, and so wealthy, that he would think I
was not fit to be even a servant to his son, much less wife? And as to
marrying without the knowledge of my father, I would not do it for all
the world. I would not ask anything more than that this youth should go
back and leave me; perhaps with not seeing him, and the long distance
we shall have to travel, the pain I suffer now may become easier;
though I daresay the remedy I propose will do me very little good. I
don’t know how the devil this has come about, or how this love I have
for him got in; I such a young girl, and he such a mere boy; for I
verily believe we are both of an age, and I am not sixteen yet; for I
will be sixteen Michaelmas Day, next, my father says.”

Dorothea could not help laughing to hear how like a child Doña Clara
spoke. “Let us go to sleep now, señora,” said she, “for the little of
the night that I fancy is left to us: God will soon send us daylight,
and we will set all to rights, or it will go hard with me.”

With this they fell asleep, and deep silence reigned all through the
inn. The only persons not asleep were the landlady’s daughter and her
servant Maritornes, who, knowing the weak point of Don Quixote’s
humour, and that he was outside the inn mounting guard in armour and on
horseback, resolved, the pair of them, to play some trick upon him, or
at any rate to amuse themselves for a while by listening to his
nonsense. As it so happened there was not a window in the whole inn
that looked outwards except a hole in the wall of a straw-loft through
which they used to throw out the straw. At this hole the two
demi-damsels posted themselves, and observed Don Quixote on his horse,
leaning on his pike and from time to time sending forth such deep and
doleful sighs, that he seemed to pluck up his soul by the roots with
each of them; and they could hear him, too, saying in a soft, tender,
loving tone, “Oh my lady Dulcinea del Toboso, perfection of all beauty,
summit and crown of discretion, treasure house of grace, depositary of
virtue, and finally, ideal of all that is good, honourable, and
delectable in this world! What is thy grace doing now? Art thou,
perchance, mindful of thy enslaved knight who of his own free will hath
exposed himself to so great perils, and all to serve thee? Give me
tidings of her, oh luminary of the three faces! Perhaps at this moment,
envious of hers, thou art regarding her, either as she paces to and fro
some gallery of her sumptuous palaces, or leans over some balcony,
meditating how, whilst preserving her purity and greatness, she may
mitigate the tortures this wretched heart of mine endures for her sake,
what glory should recompense my sufferings, what repose my toil, and
lastly what death my life, and what reward my services? And thou, oh
sun, that art now doubtless harnessing thy steeds in haste to rise
betimes and come forth to see my lady; when thou seest her I entreat of
thee to salute her on my behalf: but have a care, when thou shalt see
her and salute her, that thou kiss not her face; for I shall be more
jealous of thee than thou wert of that light-footed ingrate that made
thee sweat and run so on the plains of Thessaly, or on the banks of the
Peneus (for I do not exactly recollect where it was thou didst run on
that occasion) in thy jealousy and love.”

Don Quixote had got so far in his pathetic speech when the landlady’s
daughter began to signal to him, saying, “Señor, come over here,
please.”

At these signals and voice Don Quixote turned his head and saw by the
light of the moon, which then was in its full splendour, that someone
was calling to him from the hole in the wall, which seemed to him to be
a window, and what is more, with a gilt grating, as rich castles, such
as he believed the inn to be, ought to have; and it immediately
suggested itself to his imagination that, as on the former occasion,
the fair damsel, the daughter of the lady of the castle, overcome by
love for him, was once more endeavouring to win his affections; and
with this idea, not to show himself discourteous, or ungrateful, he
turned Rocinante’s head and approached the hole, and as he perceived
the two wenches he said:

“I pity you, beauteous lady, that you should have directed your
thoughts of love to a quarter from whence it is impossible that such a
return can be made to you as is due to your great merit and gentle
birth, for which you must not blame this unhappy knight-errant whom
love renders incapable of submission to any other than her whom, the
first moment his eyes beheld her, he made absolute mistress of his
soul. Forgive me, noble lady, and retire to your apartment, and do not,
by any further declaration of your passion, compel me to show myself
more ungrateful; and if, of the love you bear me, you should find that
there is anything else in my power wherein I can gratify you, provided
it be not love itself, demand it of me; for I swear to you by that
sweet absent enemy of mine to grant it this instant, though it be that
you require of me a lock of Medusa’s hair, which was all snakes, or
even the very beams of the sun shut up in a vial.”

“My mistress wants nothing of that sort, sir knight,” said Maritornes
at this.

“What then, discreet dame, is it that your mistress wants?” replied Don
Quixote.

“Only one of your fair hands,” said Maritornes, “to enable her to vent
over it the great passion, passion which has brought her to this
loophole, so much to the risk of her honour; for if the lord her father
had heard her, the least slice he would cut off her would be her ear.”

“I should like to see that tried,” said Don Quixote; “but he had better
beware of that, if he does not want to meet the most disastrous end
that ever father in the world met for having laid hands on the tender
limbs of a love-stricken daughter.”

Maritornes felt sure that Don Quixote would present the hand she had
asked, and making up her mind what to do, she got down from the hole
and went into the stable, where she took the halter of Sancho Panza’s
ass, and in all haste returned to the hole, just as Don Quixote had
planted himself standing on Rocinante’s saddle in order to reach the
grated window where he supposed the lovelorn damsel to be; and giving
her his hand, he said, “Lady, take this hand, or rather this scourge of
the evil-doers of the earth; take, I say, this hand which no other hand
of woman has ever touched, not even hers who has complete possession of
my entire body. I present it to you, not that you may kiss it, but that
you may observe the contexture of the sinews, the close network of the
muscles, the breadth and capacity of the veins, whence you may infer
what must be the strength of the arm that has such a hand.”

“That we shall see presently,” said Maritornes, and making a running
knot on the halter, she passed it over his wrist and coming down from
the hole tied the other end very firmly to the bolt of the door of the
straw-loft.

Don Quixote, feeling the roughness of the rope on his wrist, exclaimed,
“Your grace seems to be grating rather than caressing my hand; treat it
not so harshly, for it is not to blame for the offence my resolution
has given you, nor is it just to wreak all your vengeance on so small a
part; remember that one who loves so well should not revenge herself so
cruelly.”

But there was nobody now to listen to these words of Don Quixote’s, for
as soon as Maritornes had tied him she and the other made off, ready to
die with laughing, leaving him fastened in such a way that it was
impossible for him to release himself.

He was, as has been said, standing on Rocinante, with his arm passed
through the hole and his wrist tied to the bolt of the door, and in
mighty fear and dread of being left hanging by the arm if Rocinante
were to stir one side or the other; so he did not dare to make the
least movement, although from the patience and imperturbable
disposition of Rocinante, he had good reason to expect that he would
stand without budging for a whole century. Finding himself fast, then,
and that the ladies had retired, he began to fancy that all this was
done by enchantment, as on the former occasion when in that same castle
that enchanted Moor of a carrier had belaboured him; and he cursed in
his heart his own want of sense and judgment in venturing to enter the
castle again, after having come off so badly the first time; it being a
settled point with knights-errant that when they have tried an
adventure, and have not succeeded in it, it is a sign that it is not
reserved for them but for others, and that therefore they need not try
it again. Nevertheless he pulled his arm to see if he could release
himself, but it had been made so fast that all his efforts were in
vain. It is true he pulled it gently lest Rocinante should move, but
try as he might to seat himself in the saddle, he had nothing for it
but to stand upright or pull his hand off. Then it was he wished for
the sword of Amadis, against which no enchantment whatever had any
power; then he cursed his ill fortune; then he magnified the loss the
world would sustain by his absence while he remained there enchanted,
for that he believed he was beyond all doubt; then he once more took to
thinking of his beloved Dulcinea del Toboso; then he called to his
worthy squire Sancho Panza, who, buried in sleep and stretched upon the
pack-saddle of his ass, was oblivious, at that moment, of the mother
that bore him; then he called upon the sages Lirgandeo and Alquife to
come to his aid; then he invoked his good friend Urganda to succour
him; and then, at last, morning found him in such a state of
desperation and perplexity that he was bellowing like a bull, for he
had no hope that day would bring any relief to his suffering, which he
believed would last for ever, inasmuch as he was enchanted; and of this
he was convinced by seeing that Rocinante never stirred, much or
little, and he felt persuaded that he and his horse were to remain in
this state, without eating or drinking or sleeping, until the malign
influence of the stars was overpast, or until some other more sage
enchanter should disenchant him.

But he was very much deceived in this conclusion, for daylight had
hardly begun to appear when there came up to the inn four men on
horseback, well equipped and accoutred, with firelocks across their
saddle-bows. They called out and knocked loudly at the gate of the inn,
which was still shut; on seeing which, Don Quixote, even there where he
was, did not forget to act as sentinel, and said in a loud and
imperious tone, “Knights, or squires, or whatever ye be, ye have no
right to knock at the gates of this castle; for it is plain enough that
they who are within are either asleep, or else are not in the habit of
throwing open the fortress until the sun’s rays are spread over the
whole surface of the earth. Withdraw to a distance, and wait till it is
broad daylight, and then we shall see whether it will be proper or not
to open to you.”

“What the devil fortress or castle is this,” said one, “to make us
stand on such ceremony? If you are the innkeeper bid them open to us;
we are travellers who only want to feed our horses and go on, for we
are in haste.”

“Do you think, gentlemen, that I look like an innkeeper?” said Don
Quixote.

“I don’t know what you look like,” replied the other; “but I know that
you are talking nonsense when you call this inn a castle.”

“A castle it is,” returned Don Quixote, “nay, more, one of the best in
this whole province, and it has within it people who have had the
sceptre in the hand and the crown on the head.”

“It would be better if it were the other way,” said the traveller, “the
sceptre on the head and the crown in the hand; but if so, maybe there
is within some company of players, with whom it is a common thing to
have those crowns and sceptres you speak of; for in such a small inn as
this, and where such silence is kept, I do not believe any people
entitled to crowns and sceptres can have taken up their quarters.”

“You know but little of the world,” returned Don Quixote, “since you
are ignorant of what commonly occurs in knight-errantry.”

But the comrades of the spokesman, growing weary of the dialogue with
Don Quixote, renewed their knocks with great vehemence, so much so that
the host, and not only he but everybody in the inn, awoke, and he got
up to ask who knocked. It happened at this moment that one of the
horses of the four who were seeking admittance went to smell Rocinante,
who melancholy, dejected, and with drooping ears stood motionless,
supporting his sorely stretched master; and as he was, after all,
flesh, though he looked as if he were made of wood, he could not help
giving way and in return smelling the one who had come to offer him
attentions. But he had hardly moved at all when Don Quixote lost his
footing; and slipping off the saddle, he would have come to the ground,
but for being suspended by the arm, which caused him such agony that he
believed either his wrist would be cut through or his arm torn off; and
he hung so near the ground that he could just touch it with his feet,
which was all the worse for him; for, finding how little was wanted to
enable him to plant his feet firmly, he struggled and stretched himself
as much as he could to gain a footing; just like those undergoing the
torture of the strappado, when they are fixed at “touch and no touch,”
who aggravate their own sufferings by their violent efforts to stretch
themselves, deceived by the hope which makes them fancy that with a
very little more they will reach the ground.



c43b.jpg (272K)

Full Size



c43e.jpg (20K)



CHAPTER XLIV.
IN WHICH ARE CONTINUED THE UNHEARD-OF ADVENTURES OF THE INN




c44a.jpg (144K)

Full Size




So loud, in fact, were the shouts of Don Quixote, that the landlord
opening the gate of the inn in all haste, came out in dismay, and ran
to see who was uttering such cries, and those who were outside joined
him. Maritornes, who had been by this time roused up by the same
outcry, suspecting what it was, ran to the loft and, without anyone
seeing her, untied the halter by which Don Quixote was suspended, and
down he came to the ground in the sight of the landlord and the
travellers, who approaching asked him what was the matter with him that
he shouted so. He without replying a word took the rope off his wrist,
and rising to his feet leaped upon Rocinante, braced his buckler on his
arm, put his lance in rest, and making a considerable circuit of the
plain came back at a half-gallop exclaiming:

“Whoever shall say that I have been enchanted with just cause, provided
my lady the Princess Micomicona grants me permission to do so, I give
him the lie, challenge him and defy him to single combat.”

The newly arrived travellers were amazed at the words of Don Quixote;
but the landlord removed their surprise by telling them who he was, and
not to mind him as he was out of his senses. They then asked the
landlord if by any chance a youth of about fifteen years of age had
come to that inn, one dressed like a muleteer, and of such and such an
appearance, describing that of Doña Clara’s lover. The landlord replied
that there were so many people in the inn he had not noticed the person
they were inquiring for; but one of them observing the coach in which
the Judge had come, said, “He is here no doubt, for this is the coach
he is following: let one of us stay at the gate, and the rest go in to
look for him; or indeed it would be as well if one of us went round the
inn, lest he should escape over the wall of the yard.” “So be it,” said
another; and while two of them went in, one remained at the gate and
the other made the circuit of the inn; observing all which, the
landlord was unable to conjecture for what reason they were taking all
these precautions, though he understood they were looking for the youth
whose description they had given him.

It was by this time broad daylight; and for that reason, as well as in
consequence of the noise Don Quixote had made, everybody was awake and
up, but particularly Doña Clara and Dorothea; for they had been able to
sleep but badly that night, the one from agitation at having her lover
so near her, the other from curiosity to see him. Don Quixote, when he
saw that not one of the four travellers took any notice of him or
replied to his challenge, was furious and ready to die with indignation
and wrath; and if he could have found in the ordinances of chivalry
that it was lawful for a knight-errant to undertake or engage in
another enterprise, when he had plighted his word and faith not to
involve himself in any until he had made an end of the one to which he
was pledged, he would have attacked the whole of them, and would have
made them return an answer in spite of themselves. But considering that
it would not become him, nor be right, to begin any new emprise until
he had established Micomicona in her kingdom, he was constrained to
hold his peace and wait quietly to see what would be the upshot of the
proceedings of those same travellers; one of whom found the youth they
were seeking lying asleep by the side of a muleteer, without a thought
of anyone coming in search of him, much less finding him.

The man laid hold of him by the arm, saying, “It becomes you well
indeed, Señor Don Luis, to be in the dress you wear, and well the bed
in which I find you agrees with the luxury in which your mother reared
you.”

The youth rubbed his sleepy eyes and stared for a while at him who held
him, but presently recognised him as one of his father’s servants, at
which he was so taken aback that for some time he could not find or
utter a word; while the servant went on to say, “There is nothing for
it now, Señor Don Luis, but to submit quietly and return home, unless
it is your wish that my lord, your father, should take his departure
for the other world, for nothing else can be the consequence of the
grief he is in at your absence.”

“But how did my father know that I had gone this road and in this
dress?” said Don Luis.

“It was a student to whom you confided your intentions,” answered the
servant, “that disclosed them, touched with pity at the distress he saw
your father suffer on missing you; he therefore despatched four of his
servants in quest of you, and here we all are at your service, better
pleased than you can imagine that we shall return so soon and be able
to restore you to those eyes that so yearn for you.”

“That shall be as I please, or as heaven orders,” returned Don Luis.

“What can you please or heaven order,” said the other, “except to agree
to go back? Anything else is impossible.”

All this conversation between the two was overheard by the muleteer at
whose side Don Luis lay, and rising, he went to report what had taken
place to Don Fernando, Cardenio, and the others, who had by this time
dressed themselves; and told them how the man had addressed the youth
as “Don,” and what words had passed, and how he wanted him to return to
his father, which the youth was unwilling to do. With this, and what
they already knew of the rare voice that heaven had bestowed upon him,
they all felt very anxious to know more particularly who he was, and
even to help him if it was attempted to employ force against him; so
they hastened to where he was still talking and arguing with his
servant. Dorothea at this instant came out of her room, followed by
Doña Clara all in a tremor; and calling Cardenio aside, she told him in
a few words the story of the musician and Doña Clara, and he at the
same time told her what had happened, how his father’s servants had
come in search of him; but in telling her so, he did not speak low
enough but that Doña Clara heard what he said, at which she was so much
agitated that had not Dorothea hastened to support her she would have
fallen to the ground. Cardenio then bade Dorothea return to her room,
as he would endeavour to make the whole matter right, and they did as
he desired. All the four who had come in quest of Don Luis had now come
into the inn and surrounded him, urging him to return and console his
father at once and without a moment’s delay. He replied that he could
not do so on any account until he had concluded some business in which
his life, honour, and heart were at stake. The servants pressed him,
saying that most certainly they would not return without him, and that
they would take him away whether he liked it or not.

“You shall not do that,” replied Don Luis, “unless you take me dead;
though however you take me, it will be without life.”

By this time most of those in the inn had been attracted by the
dispute, but particularly Cardenio, Don Fernando, his companions, the
Judge, the curate, the barber, and Don Quixote; for he now considered
there was no necessity for mounting guard over the castle any longer.
Cardenio being already acquainted with the young man’s story, asked the
men who wanted to take him away, what object they had in seeking to
carry off this youth against his will.

“Our object,” said one of the four, “is to save the life of his father,
who is in danger of losing it through this gentleman’s disappearance.”

Upon this Don Luis exclaimed, “There is no need to make my affairs
public here; I am free, and I will return if I please; and if not, none
of you shall compel me.”

“Reason will compel your worship,” said the man, “and if it has no
power over you, it has power over us, to make us do what we came for,
and what it is our duty to do.”

“Let us hear what the whole affair is about,” said the Judge at this;
but the man, who knew him as a neighbour of theirs, replied, “Do you
not know this gentleman, Señor Judge? He is the son of your neighbour,
who has run away from his father’s house in a dress so unbecoming his
rank, as your worship may perceive.”

The judge on this looked at him more carefully and recognised him, and
embracing him said, “What folly is this, Señor Don Luis, or what can
have been the cause that could have induced you to come here in this
way, and in this dress, which so ill becomes your condition?”

Tears came into the eyes of the young man, and he was unable to utter a
word in reply to the Judge, who told the four servants not to be
uneasy, for all would be satisfactorily settled; and then taking Don
Luis by the hand, he drew him aside and asked the reason of his having
come there.

But while he was questioning him they heard a loud outcry at the gate
of the inn, the cause of which was that two of the guests who had
passed the night there, seeing everybody busy about finding out what it
was the four men wanted, had conceived the idea of going off without
paying what they owed; but the landlord, who minded his own affairs
more than other people’s, caught them going out of the gate and
demanded his reckoning, abusing them for their dishonesty with such
language that he drove them to reply with their fists, and so they
began to lay on him in such a style that the poor man was forced to cry
out, and call for help. The landlady and her daughter could see no one
more free to give aid than Don Quixote, and to him the daughter said,
“Sir knight, by the virtue God has given you, help my poor father, for
two wicked men are beating him to a mummy.”

To which Don Quixote very deliberately and phlegmatically replied,
“Fair damsel, at the present moment your request is inopportune, for I
am debarred from involving myself in any adventure until I have brought
to a happy conclusion one to which my word has pledged me; but that
which I can do for you is what I will now mention: run and tell your
father to stand his ground as well as he can in this battle, and on no
account to allow himself to be vanquished, while I go and request
permission of the Princess Micomicona to enable me to succour him in
his distress; and if she grants it, rest assured I will relieve him
from it.”

“Sinner that I am,” exclaimed Maritornes, who stood by; “before you
have got your permission my master will be in the other world.”

“Give me leave, señora, to obtain the permission I speak of,” returned
Don Quixote; “and if I get it, it will matter very little if he is in
the other world; for I will rescue him thence in spite of all the same
world can do; or at any rate I will give you such a revenge over those
who shall have sent him there that you will be more than moderately
satisfied;” and without saying anything more he went and knelt before
Dorothea, requesting her Highness in knightly and errant phrase to be
pleased to grant him permission to aid and succour the castellan of
that castle, who now stood in grievous jeopardy. The princess granted
it graciously, and he at once, bracing his buckler on his arm and
drawing his sword, hastened to the inn-gate, where the two guests were
still handling the landlord roughly; but as soon as he reached the spot
he stopped short and stood still, though Maritornes and the landlady
asked him why he hesitated to help their master and husband.

“I hesitate,” said Don Quixote, “because it is not lawful for me to
draw sword against persons of squirely condition; but call my squire
Sancho to me; for this defence and vengeance are his affair and
business.”

Thus matters stood at the inn-gate, where there was a very lively
exchange of fisticuffs and punches, to the sore damage of the landlord
and to the wrath of Maritornes, the landlady, and her daughter, who
were furious when they saw the pusillanimity of Don Quixote, and the
hard treatment their master, husband and father was undergoing. But let
us leave him there; for he will surely find someone to help him, and if
not, let him suffer and hold his tongue who attempts more than his
strength allows him to do; and let us go back fifty paces to see what
Don Luis said in reply to the Judge whom we left questioning him
privately as to his reasons for coming on foot and so meanly dressed.

To which the youth, pressing his hand in a way that showed his heart
was troubled by some great sorrow, and shedding a flood of tears, made
answer:

“Señor, I have no more to tell you than that from the moment when,
through heaven’s will and our being near neighbours, I first saw Doña
Clara, your daughter and my lady, from that instant I made her the
mistress of my will, and if yours, my true lord and father, offers no
impediment, this very day she shall become my wife. For her I left my
father’s house, and for her I assumed this disguise, to follow her
whithersoever she may go, as the arrow seeks its mark or the sailor the
pole-star. She knows nothing more of my passion than what she may have
learned from having sometimes seen from a distance that my eyes were
filled with tears. You know already, señor, the wealth and noble birth
of my parents, and that I am their sole heir; if this be a sufficient
inducement for you to venture to make me completely happy, accept me at
once as your son; for if my father, influenced by other objects of his
own, should disapprove of this happiness I have sought for myself, time
has more power to alter and change things, than human will.”

With this the love-smitten youth was silent, while the Judge, after
hearing him, was astonished, perplexed, and surprised, as well at the
manner and intelligence with which Don Luis had confessed the secret of
his heart, as at the position in which he found himself, not knowing
what course to take in a matter so sudden and unexpected. All the
answer, therefore, he gave him was to bid him to make his mind easy for
the present, and arrange with his servants not to take him back that
day, so that there might be time to consider what was best for all
parties. Don Luis kissed his hands by force, nay, bathed them with his
tears, in a way that would have touched a heart of marble, not to say
that of the Judge, who, as a shrewd man, had already perceived how
advantageous the marriage would be to his daughter; though, were it
possible, he would have preferred that it should be brought about with
the consent of the father of Don Luis, who he knew looked for a title
for his son.

The guests had by this time made peace with the landlord, for, by
persuasion and Don Quixote’s fair words more than by threats, they had
paid him what he demanded, and the servants of Don Luis were waiting
for the end of the conversation with the Judge and their master’s
decision, when the devil, who never sleeps, contrived that the barber,
from whom Don Quixote had taken Mambrino’s helmet, and Sancho Panza the
trappings of his ass in exchange for those of his own, should at this
instant enter the inn; which said barber, as he led his ass to the
stable, observed Sancho Panza engaged in repairing something or other
belonging to the pack-saddle; and the moment he saw it he knew it, and
made bold to attack Sancho, exclaiming, “Ho, sir thief, I have caught
you! hand over my basin and my pack-saddle, and all my trappings that
you robbed me of.”

Sancho, finding himself so unexpectedly assailed, and hearing the abuse
poured upon him, seized the pack-saddle with one hand, and with the
other gave the barber a cuff that bathed his teeth in blood. The
barber, however, was not so ready to relinquish the prize he had made
in the pack-saddle; on the contrary, he raised such an outcry that
everyone in the inn came running to know what the noise and quarrel
meant. “Here, in the name of the king and justice!” he cried, “this
thief and highwayman wants to kill me for trying to recover my
property.”

“You lie,” said Sancho, “I am no highwayman; it was in fair war my
master Don Quixote won these spoils.”

Don Quixote was standing by at the time, highly pleased to see his
squire’s stoutness, both offensive and defensive, and from that time
forth he reckoned him a man of mettle, and in his heart resolved to dub
him a knight on the first opportunity that presented itself, feeling
sure that the order of chivalry would be fittingly bestowed upon him.

In the course of the altercation, among other things the barber said,
“Gentlemen, this pack-saddle is mine as surely as I owe God a death,
and I know it as well as if I had given birth to it, and here is my ass
in the stable who will not let me lie; only try it, and if it does not
fit him like a glove, call me a rascal; and what is more, the same day
I was robbed of this, they robbed me likewise of a new brass basin,
never yet handselled, that would fetch a crown any day.”

At this Don Quixote could not keep himself from answering; and
interposing between the two, and separating them, he placed the
pack-saddle on the ground, to lie there in sight until the truth was
established, and said, “Your worships may perceive clearly and plainly
the error under which this worthy squire lies when he calls a basin
which was, is, and shall be the helmet of Mambrino which I won from him
in fair war, and made myself master of by legitimate and lawful
possession. With the pack-saddle I do not concern myself; but I may
tell you on that head that my squire Sancho asked my permission to
strip off the caparison of this vanquished poltroon’s steed, and with
it adorn his own; I allowed him, and he took it; and as to its having
been changed from a caparison into a pack-saddle, I can give no
explanation except the usual one, that such transformations will take
place in adventures of chivalry. To confirm all which, run, Sancho my
son, and fetch hither the helmet which this good fellow calls a basin.”

“Egad, master,” said Sancho, “if we have no other proof of our case
than what your worship puts forward, Mambrino’s helmet is just as much
a basin as this good fellow’s caparison is a pack-saddle.”

“Do as I bid thee,” said Don Quixote; “it cannot be that everything in
this castle goes by enchantment.”

Sancho hastened to where the basin was, and brought it back with him,
and when Don Quixote saw it, he took hold of it and said:

“Your worships may see with what a face this squire can assert that
this is a basin and not the helmet I told you of; and I swear by the
order of chivalry I profess, that this helmet is the identical one I
took from him, without anything added to or taken from it.”

“There is no doubt of that,” said Sancho, “for from the time my master
won it until now he has only fought one battle in it, when he let loose
those unlucky men in chains; and if it had not been for this
basin-helmet he would not have come off over well that time, for there
was plenty of stone-throwing in that affair.”



c44e.jpg (13K)



CHAPTER XLV.
IN WHICH THE DOUBTFUL QUESTION OF MAMBRINO’S HELMET AND THE PACK-SADDLE
IS FINALLY SETTLED, WITH OTHER ADVENTURES THAT OCCURRED IN TRUTH AND
EARNEST




c45a.jpg (154K)

Full Size




“What do you think now, gentlemen,” said the barber, “of what these
gentles say, when they want to make out that this is a helmet?”

“And whoever says the contrary,” said Don Quixote, “I will let him know
he lies if he is a knight, and if he is a squire that he lies again a
thousand times.”

Our own barber, who was present at all this, and understood Don
Quixote’s humour so thoroughly, took it into his head to back up his
delusion and carry on the joke for the general amusement; so addressing
the other barber he said:

“Señor barber, or whatever you are, you must know that I belong to your
profession too, and have had a licence to practise for more than twenty
years, and I know the implements of the barber craft, every one of
them, perfectly well; and I was likewise a soldier for some time in the
days of my youth, and I know also what a helmet is, and a morion, and a
headpiece with a visor, and other things pertaining to soldiering, I
meant to say to soldiers’ arms; and I say—saving better opinions and
always with submission to sounder judgments—that this piece we have now
before us, which this worthy gentleman has in his hands, not only is no
barber’s basin, but is as far from being one as white is from black,
and truth from falsehood; I say, moreover, that this, although it is a
helmet, is not a complete helmet.”

“Certainly not,” said Don Quixote, “for half of it is wanting, that is
to say the beaver.”

“It is quite true,” said the curate, who saw the object of his friend
the barber; and Cardenio, Don Fernando and his companions agreed with
him, and even the Judge, if his thoughts had not been so full of Don
Luis’s affair, would have helped to carry on the joke; but he was so
taken up with the serious matters he had on his mind that he paid
little or no attention to these facetious proceedings.

“God bless me!” exclaimed their butt the barber at this; “is it
possible that such an honourable company can say that this is not a
basin but a helmet? Why, this is a thing that would astonish a whole
university, however wise it might be! That will do; if this basin is a
helmet, why, then the pack-saddle must be a horse’s caparison, as this
gentleman has said.”

“To me it looks like a pack-saddle,” said Don Quixote; “but I have
already said that with that question I do not concern myself.”

“As to whether it be pack-saddle or caparison,” said the curate, “it is
only for Señor Don Quixote to say; for in these matters of chivalry all
these gentlemen and I bow to his authority.”

“By God, gentlemen,” said Don Quixote, “so many strange things have
happened to me in this castle on the two occasions on which I have
sojourned in it, that I will not venture to assert anything positively
in reply to any question touching anything it contains; for it is my
belief that everything that goes on within it goes by enchantment. The
first time, an enchanted Moor that there is in it gave me sore trouble,
nor did Sancho fare well among certain followers of his; and last night
I was kept hanging by this arm for nearly two hours, without knowing
how or why I came by such a mishap. So that now, for me to come forward
to give an opinion in such a puzzling matter, would be to risk a rash
decision. As regards the assertion that this is a basin and not a
helmet I have already given an answer; but as to the question whether
this is a pack-saddle or a caparison I will not venture to give a
positive opinion, but will leave it to your worships’ better judgment.
Perhaps as you are not dubbed knights like myself, the enchantments of
this place have nothing to do with you, and your faculties are
unfettered, and you can see things in this castle as they really and
truly are, and not as they appear to me.”

“There can be no question,” said Don Fernando on this, “but that Señor
Don Quixote has spoken very wisely, and that with us rests the decision
of this matter; and that we may have surer ground to go on, I will take
the votes of the gentlemen in secret, and declare the result clearly
and fully.”

To those who were in on the secret of Don Quixote’s humour all this
afforded great amusement; but to those who knew nothing about it, it
seemed the greatest nonsense in the world, in particular to the four
servants of Don Luis, as well as to Don Luis himself, and to three
other travellers who had by chance come to the inn, and had the
appearance of officers of the Holy Brotherhood, as indeed they were;
but the one who above all was at his wits’ end was the barber whose
basin, there before his very eyes, had been turned into Mambrino’s
helmet, and whose pack-saddle he had no doubt whatever was about to
become a rich caparison for a horse. All laughed to see Don Fernando
going from one to another collecting the votes, and whispering to them
to give him their private opinion whether the treasure over which there
had been so much fighting was a pack-saddle or a caparison; but after
he had taken the votes of those who knew Don Quixote, he said aloud,
“The fact is, my good fellow, that I am tired collecting such a number
of opinions, for I find that there is not one of whom I ask what I
desire to know, who does not tell me that it is absurd to say that this
is the pack-saddle of an ass, and not the caparison of a horse, nay, of
a thoroughbred horse; so you must submit, for, in spite of you and your
ass, this is a caparison and no pack-saddle, and you have stated and
proved your case very badly.”

“May I never share heaven,” said the poor barber, “if your worships are
not all mistaken; and may my soul appear before God as that appears to
me a pack-saddle and not a caparison; but, ‘laws go,’—I say no more;
and indeed I am not drunk, for I am fasting, except it be from sin.”

The simple talk of the barber did not afford less amusement than the
absurdities of Don Quixote, who now observed:

“There is no more to be done now than for each to take what belongs to
him, and to whom God has given it, may St. Peter add his blessing.”

But said one of the four servants, “Unless, indeed, this is a
deliberate joke, I cannot bring myself to believe that men so
intelligent as those present are, or seem to be, can venture to declare
and assert that this is not a basin, and that not a pack-saddle; but as
I perceive that they do assert and declare it, I can only come to the
conclusion that there is some mystery in this persistence in what is so
opposed to the evidence of experience and truth itself; for I swear
by”—and here he rapped out a round oath—“all the people in the world
will not make me believe that this is not a barber’s basin and that a
jackass’s pack-saddle.”

“It might easily be a she-ass’s,” observed the curate.

“It is all the same,” said the servant; “that is not the point; but
whether it is or is not a pack-saddle, as your worships say.”

On hearing this one of the newly arrived officers of the Brotherhood,
who had been listening to the dispute and controversy, unable to
restrain his anger and impatience, exclaimed, “It is a pack-saddle as
sure as my father is my father, and whoever has said or will say
anything else must be drunk.”

“You lie like a rascally clown,” returned Don Quixote; and lifting his
pike, which he had never let out of his hand, he delivered such a blow
at his head that, had not the officer dodged it, it would have
stretched him at full length. The pike was shivered in pieces against
the ground, and the rest of the officers, seeing their comrade
assaulted, raised a shout, calling for help for the Holy Brotherhood.
The landlord, who was of the fraternity, ran at once to fetch his staff
of office and his sword, and ranged himself on the side of his
comrades; the servants of Don Luis clustered round him, lest he should
escape from them in the confusion; the barber, seeing the house turned
upside down, once more laid hold of his pack-saddle and Sancho did the
same; Don Quixote drew his sword and charged the officers; Don Luis
cried out to his servants to leave him alone and go and help Don
Quixote, and Cardenio and Don Fernando, who were supporting him; the
curate was shouting at the top of his voice, the landlady was
screaming, her daughter was wailing, Maritornes was weeping, Dorothea
was aghast, Luscinda terror-stricken, and Doña Clara in a faint. The
barber cudgelled Sancho, and Sancho pommelled the barber; Don Luis gave
one of his servants, who ventured to catch him by the arm to keep him
from escaping, a cuff that bathed his teeth in blood; the Judge took
his part; Don Fernando had got one of the officers down and was
belabouring him heartily; the landlord raised his voice again calling
for help for the Holy Brotherhood; so that the whole inn was nothing
but cries, shouts, shrieks, confusion, terror, dismay, mishaps,
sword-cuts, fisticuffs, cudgellings, kicks, and bloodshed; and in the
midst of all this chaos, complication, and general entanglement, Don
Quixote took it into his head that he had been plunged into the thick
of the discord of Agramante’s camp; and, in a voice that shook the inn
like thunder, he cried out:

“Hold all, let all sheathe their swords, let all be calm and attend to
me as they value their lives!”

All paused at his mighty voice, and he went on to say, “Did I not tell
you, sirs, that this castle was enchanted, and that a legion or so of
devils dwelt in it? In proof whereof I call upon you to behold with
your own eyes how the discord of Agramante’s camp has come hither, and
been transferred into the midst of us. See how they fight, there for
the sword, here for the horse, on that side for the eagle, on this for
the helmet; we are all fighting, and all at cross purposes. Come then,
you, Señor Judge, and you, señor curate; let the one represent King
Agramante and the other King Sobrino, and make peace among us; for by
God Almighty it is a sorry business that so many persons of quality as
we are should slay one another for such trifling cause.” The officers,
who did not understand Don Quixote’s mode of speaking, and found
themselves roughly handled by Don Fernando, Cardenio, and their
companions, were not to be appeased; the barber was, however, for both
his beard and his pack-saddle were the worse for the struggle; Sancho
like a good servant obeyed the slightest word of his master; while the
four servants of Don Luis kept quiet when they saw how little they
gained by not being so. The landlord alone insisted upon it that they
must punish the insolence of this madman, who at every turn raised a
disturbance in the inn; but at length the uproar was stilled for the
present; the pack-saddle remained a caparison till the day of judgment,
and the basin a helmet and the inn a castle in Don Quixote’s
imagination.

All having been now pacified and made friends by the persuasion of the
Judge and the curate, the servants of Don Luis began again to urge him
to return with them at once; and while he was discussing the matter
with them, the Judge took counsel with Don Fernando, Cardenio, and the
curate as to what he ought to do in the case, telling them how it
stood, and what Don Luis had said to him. It was agreed at length that
Don Fernando should tell the servants of Don Luis who he was, and that
it was his desire that Don Luis should accompany him to Andalusia,
where he would receive from the marquis his brother the welcome his
quality entitled him to; for, otherwise, it was easy to see from the
determination of Don Luis that he would not return to his father at
present, though they tore him to pieces. On learning the rank of Don
Fernando and the resolution of Don Luis the four then settled it
between themselves that three of them should return to tell his father
how matters stood, and that the other should remain to wait upon Don
Luis, and not leave him until they came back for him, or his father’s
orders were known. Thus by the authority of Agramante and the wisdom of
King Sobrino all this complication of disputes was arranged; but the
enemy of concord and hater of peace, feeling himself slighted and made
a fool of, and seeing how little he had gained after having involved
them all in such an elaborate entanglement, resolved to try his hand
once more by stirring up fresh quarrels and disturbances.

It came about in this wise: the officers were pacified on learning the
rank of those with whom they had been engaged, and withdrew from the
contest, considering that whatever the result might be they were likely
to get the worst of the battle; but one of them, the one who had been
thrashed and kicked by Don Fernando, recollected that among some
warrants he carried for the arrest of certain delinquents, he had one
against Don Quixote, whom the Holy Brotherhood had ordered to be
arrested for setting the galley slaves free, as Sancho had, with very
good reason, apprehended. Suspecting how it was, then, he wished to
satisfy himself as to whether Don Quixote’s features corresponded; and
taking a parchment out of his bosom he lit upon what he was in search
of, and setting himself to read it deliberately, for he was not a quick
reader, as he made out each word he fixed his eyes on Don Quixote, and
went on comparing the description in the warrant with his face, and
discovered that beyond all doubt he was the person described in it. As
soon as he had satisfied himself, folding up the parchment, he took the
warrant in his left hand and with his right seized Don Quixote by the
collar so tightly that he did not allow him to breathe, and shouted
aloud, “Help for the Holy Brotherhood! and that you may see I demand it
in earnest, read this warrant which says this highwayman is to be
arrested.”

The curate took the warrant and saw that what the officer said was
true, and that it agreed with Don Quixote’s appearance, who, on his
part, when he found himself roughly handled by this rascally clown,
worked up to the highest pitch of wrath, and all his joints cracking
with rage, with both hands seized the officer by the throat with all
his might, so that had he not been helped by his comrades he would have
yielded up his life ere Don Quixote released his hold. The landlord,
who had perforce to support his brother officers, ran at once to aid
them. The landlady, when she saw her husband engaged in a fresh
quarrel, lifted up her voice afresh, and its note was immediately
caught up by Maritornes and her daughter, calling upon heaven and all
present for help; and Sancho, seeing what was going on, exclaimed, “By
the Lord, it is quite true what my master says about the enchantments
of this castle, for it is impossible to live an hour in peace in it!”

Don Fernando parted the officer and Don Quixote, and to their mutual
contentment made them relax the grip by which they held, the one the
coat collar, the other the throat of his adversary; for all this,
however, the officers did not cease to demand their prisoner and call
on them to help, and deliver him over bound into their power, as was
required for the service of the King and of the Holy Brotherhood, on
whose behalf they again demanded aid and assistance to effect the
capture of this robber and footpad of the highways.

Don Quixote smiled when he heard these words, and said very calmly,
“Come now, base, ill-born brood; call ye it highway robbery to give
freedom to those in bondage, to release the captives, to succour the
miserable, to raise up the fallen, to relieve the needy? Infamous
beings, who by your vile grovelling intellects deserve that heaven
should not make known to you the virtue that lies in knight-errantry,
or show you the sin and ignorance in which ye lie when ye refuse to
respect the shadow, not to say the presence, of any knight-errant! Come
now; band, not of officers, but of thieves; footpads with the licence
of the Holy Brotherhood; tell me who was the ignoramus who signed a
warrant of arrest against such a knight as I am? Who was he that did
not know that knights-errant are independent of all jurisdictions, that
their law is their sword, their charter their prowess, and their edicts
their will? Who, I say again, was the fool that knows not that there
are no letters patent of nobility that confer such privileges or
exemptions as a knight-errant acquires the day he is dubbed a knight,
and devotes himself to the arduous calling of chivalry? What
knight-errant ever paid poll-tax, duty, queen’s pin-money, king’s dues,
toll or ferry? What tailor ever took payment of him for making his
clothes? What castellan that received him in his castle ever made him
pay his shot? What king did not seat him at his table? What damsel was
not enamoured of him and did not yield herself up wholly to his will
and pleasure? And, lastly, what knight-errant has there been, is there,
or will there ever be in the world, not bold enough to give,
single-handed, four hundred cudgellings to four hundred officers of the
Holy Brotherhood if they come in his way?”



CHAPTER XLVI.
OF THE END OF THE NOTABLE ADVENTURE OF THE OFFICERS OF THE HOLY
BROTHERHOOD; AND OF THE GREAT FEROCITY OF OUR WORTHY KNIGHT, DON
QUIXOTE




c46a.jpg (163K)

Full Size




While Don Quixote was talking in this strain, the curate was
endeavouring to persuade the officers that he was out of his senses, as
they might perceive by his deeds and his words, and that they need not
press the matter any further, for even if they arrested him and carried
him off, they would have to release him by-and-by as a madman; to which
the holder of the warrant replied that he had nothing to do with
inquiring into Don Quixote’s madness, but only to execute his
superior’s orders, and that once taken they might let him go three
hundred times if they liked.

“For all that,” said the curate, “you must not take him away this time,
nor will he, it is my opinion, let himself be taken away.”

In short, the curate used such arguments, and Don Quixote did such mad
things, that the officers would have been more mad than he was if they
had not perceived his want of wits, and so they thought it best to
allow themselves to be pacified, and even to act as peacemakers between
the barber and Sancho Panza, who still continued their altercation with
much bitterness. In the end they, as officers of justice, settled the
question by arbitration in such a manner that both sides were, if not
perfectly contented, at least to some extent satisfied; for they
changed the pack-saddles, but not the girths or head-stalls; and as to
Mambrino’s helmet, the curate, under the rose and without Don Quixote’s
knowing it, paid eight reals for the basin, and the barber executed a
full receipt and engagement to make no further demand then or
thenceforth for evermore, amen. These two disputes, which were the most
important and gravest, being settled, it only remained for the servants
of Don Luis to consent that three of them should return while one was
left to accompany him whither Don Fernando desired to take him; and
good luck and better fortune, having already begun to solve
difficulties and remove obstructions in favour of the lovers and
warriors of the inn, were pleased to persevere and bring everything to
a happy issue; for the servants agreed to do as Don Luis wished; which
gave Doña Clara such happiness that no one could have looked into her
face just then without seeing the joy of her heart. Zoraida, though she
did not fully comprehend all she saw, was grave or gay without knowing
why, as she watched and studied the various countenances, but
particularly her Spaniard’s, whom she followed with her eyes and clung
to with her soul. The gift and compensation which the curate gave the
barber had not escaped the landlord’s notice, and he demanded Don
Quixote’s reckoning, together with the amount of the damage to his
wine-skins, and the loss of his wine, swearing that neither Rocinante
nor Sancho’s ass should leave the inn until he had been paid to the
very last farthing. The curate settled all amicably, and Don Fernando
paid; though the Judge had also very readily offered to pay the score;
and all became so peaceful and quiet that the inn no longer reminded
one of the discord of Agramante’s camp, as Don Quixote said, but of the
peace and tranquillity of the days of Octavianus: for all which it was
the universal opinion that their thanks were due to the great zeal and
eloquence of the curate, and to the unexampled generosity of Don
Fernando.

Finding himself now clear and quit of all quarrels, his squire’s as
well as his own, Don Quixote considered that it would be advisable to
continue the journey he had begun, and bring to a close that great
adventure for which he had been called and chosen; and with this high
resolve he went and knelt before Dorothea, who, however, would not
allow him to utter a word until he had risen; so to obey her he rose,
and said, “It is a common proverb, fair lady, that ‘diligence is the
mother of good fortune,’ and experience has often shown in important
affairs that the earnestness of the negotiator brings the doubtful case
to a successful termination; but in nothing does this truth show itself
more plainly than in war, where quickness and activity forestall the
devices of the enemy, and win the victory before the foe has time to
defend himself. All this I say, exalted and esteemed lady, because it
seems to me that for us to remain any longer in this castle now is
useless, and may be injurious to us in a way that we shall find out
some day; for who knows but that your enemy the giant may have learned
by means of secret and diligent spies that I am going to destroy him,
and if the opportunity be given him he may seize it to fortify himself
in some impregnable castle or stronghold, against which all my efforts
and the might of my indefatigable arm may avail but little? Therefore,
lady, let us, as I say, forestall his schemes by our activity, and let
us depart at once in quest of fair fortune; for your highness is only
kept from enjoying it as fully as you could desire by my delay in
encountering your adversary.”

Don Quixote held his peace and said no more, calmly awaiting the reply
of the beauteous princess, who, with commanding dignity and in a style
adapted to Don Quixote’s own, replied to him in these words, “I give
you thanks, sir knight, for the eagerness you, like a good knight to
whom it is a natural obligation to succour the orphan and the needy,
display to afford me aid in my sore trouble; and heaven grant that your
wishes and mine may be realised, so that you may see that there are
women in this world capable of gratitude; as to my departure, let it be
forthwith, for I have no will but yours; dispose of me entirely in
accordance with your good pleasure; for she who has once entrusted to
you the defence of her person, and placed in your hands the recovery of
her dominions, must not think of offering opposition to that which your
wisdom may ordain.”

“On, then, in God’s name,” said Don Quixote; “for, when a lady humbles
herself to me, I will not lose the opportunity of raising her up and
placing her on the throne of her ancestors. Let us depart at once, for
the common saying that in delay there is danger, lends spurs to my
eagerness to take the road; and as neither heaven has created nor hell
seen any that can daunt or intimidate me, saddle Rocinante, Sancho, and
get ready thy ass and the queen’s palfrey, and let us take leave of the
castellan and these gentlemen, and go hence this very instant.”

Sancho, who was standing by all the time, said, shaking his head, “Ah!
master, master, there is more mischief in the village than one hears
of, begging all good bodies’ pardon.”

“What mischief can there be in any village, or in all the cities of the
world, you booby, that can hurt my reputation?” said Don Quixote.

“If your worship is angry,” replied Sancho, “I will hold my tongue and
leave unsaid what as a good squire I am bound to say, and what a good
servant should tell his master.”

“Say what thou wilt,” returned Don Quixote, “provided thy words be not
meant to work upon my fears; for thou, if thou fearest, art behaving
like thyself; but I like myself, in not fearing.”

“It is nothing of the sort, as I am a sinner before God,” said Sancho,
“but that I take it to be sure and certain that this lady, who calls
herself queen of the great kingdom of Micomicon, is no more so than my
mother; for, if she was what she says, she would not go rubbing noses
with one that is here every instant and behind every door.”

Dorothea turned red at Sancho’s words, for the truth was that her
husband Don Fernando had now and then, when the others were not
looking, gathered from her lips some of the reward his love had earned,
and Sancho seeing this had considered that such freedom was more like a
courtesan than a queen of a great kingdom; she, however, being unable
or not caring to answer him, allowed him to proceed, and he continued,
“This I say, señor, because, if after we have travelled roads and
highways, and passed bad nights and worse days, one who is now enjoying
himself in this inn is to reap the fruit of our labours, there is no
need for me to be in a hurry to saddle Rocinante, put the pad on the
ass, or get ready the palfrey; for it will be better for us to stay
quiet, and let every jade mind her spinning, and let us go to dinner.”

Good God, what was the indignation of Don Quixote when he heard the
audacious words of his squire! So great was it, that in a voice
inarticulate with rage, with a stammering tongue, and eyes that flashed
living fire, he exclaimed, “Rascally clown, boorish, insolent, and
ignorant, ill-spoken, foul-mouthed, impudent backbiter and slanderer!
Hast thou dared to utter such words in my presence and in that of these
illustrious ladies? Hast thou dared to harbour such gross and shameless
thoughts in thy muddled imagination? Begone from my presence, thou born
monster, storehouse of lies, hoard of untruths, garner of knaveries,
inventor of scandals, publisher of absurdities, enemy of the respect
due to royal personages! Begone, show thyself no more before me under
pain of my wrath;” and so saying he knitted his brows, puffed out his
cheeks, gazed around him, and stamped on the ground violently with his
right foot, showing in every way the rage that was pent up in his
heart; and at his words and furious gestures Sancho was so scared and
terrified that he would have been glad if the earth had opened that
instant and swallowed him, and his only thought was to turn round and
make his escape from the angry presence of his master.

But the ready-witted Dorothea, who by this time so well understood Don
Quixote’s humour, said, to mollify his wrath, “Be not irritated at the
absurdities your good squire has uttered, Sir Knight of the Rueful
Countenance, for perhaps he did not utter them without cause, and from
his good sense and Christian conscience it is not likely that he would
bear false witness against anyone. We may therefore believe, without
any hesitation, that since, as you say, sir knight, everything in this
castle goes and is brought about by means of enchantment, Sancho, I
say, may possibly have seen, through this diabolical medium, what he
says he saw so much to the detriment of my modesty.”

“I swear by God Omnipotent,” exclaimed Don Quixote at this, “your
highness has hit the point; and that some vile illusion must have come
before this sinner of a Sancho, that made him see what it would have
been impossible to see by any other means than enchantments; for I know
well enough, from the poor fellow’s goodness and harmlessness, that he
is incapable of bearing false witness against anybody.”

“True, no doubt,” said Don Fernando, “for which reason, Señor Don
Quixote, you ought to forgive him and restore him to the bosom of your
favour, _sicut erat in principio_, before illusions of this sort had
taken away his senses.”

Don Quixote said he was ready to pardon him, and the curate went for
Sancho, who came in very humbly, and falling on his knees begged for
the hand of his master, who having presented it to him and allowed him
to kiss it, gave him his blessing and said, “Now, Sancho my son, thou
wilt be convinced of the truth of what I have many a time told thee,
that everything in this castle is done by means of enchantment.”

“So it is, I believe,” said Sancho, “except the affair of the blanket,
which came to pass in reality by ordinary means.”

“Believe it not,” said Don Quixote, “for had it been so, I would have
avenged thee that instant, or even now; but neither then nor now could
I, nor have I seen anyone upon whom to avenge thy wrong.”

They were all eager to know what the affair of the blanket was, and the
landlord gave them a minute account of Sancho’s flights, at which they
laughed not a little, and at which Sancho would have been no less out
of countenance had not his master once more assured him it was all
enchantment. For all that his simplicity never reached so high a pitch
that he could persuade himself it was not the plain and simple truth,
without any deception whatever about it, that he had been blanketed by
beings of flesh and blood, and not by visionary and imaginary phantoms,
as his master believed and protested.

The illustrious company had now been two days in the inn; and as it
seemed to them time to depart, they devised a plan so that, without
giving Dorothea and Don Fernando the trouble of going back with Don
Quixote to his village under pretence of restoring Queen Micomicona,
the curate and the barber might carry him away with them as they
proposed, and the curate be able to take his madness in hand at home;
and in pursuance of their plan they arranged with the owner of an
oxcart who happened to be passing that way to carry him after this
fashion. They constructed a kind of cage with wooden bars, large enough
to hold Don Quixote comfortably; and then Don Fernando and his
companions, the servants of Don Luis, and the officers of the
Brotherhood, together with the landlord, by the directions and advice
of the curate, covered their faces and disguised themselves, some in
one way, some in another, so as to appear to Don Quixote quite
different from the persons he had seen in the castle. This done, in
profound silence they entered the room where he was asleep, taking his
rest after the past frays, and advancing to where he was sleeping
tranquilly, not dreaming of anything of the kind happening, they seized
him firmly and bound him fast hand and foot, so that, when he awoke
startled, he was unable to move, and could only marvel and wonder at
the strange figures he saw before him; upon which he at once gave way
to the idea which his crazed fancy invariably conjured up before him,
and took it into his head that all these shapes were phantoms of the
enchanted castle, and that he himself was unquestionably enchanted as
he could neither move nor help himself; precisely what the curate, the
concoctor of the scheme, expected would happen. Of all that were there
Sancho was the only one who was at once in his senses and in his own
proper character, and he, though he was within very little of sharing
his master’s infirmity, did not fail to perceive who all these
disguised figures were; but he did not dare to open his lips until he
saw what came of this assault and capture of his master; nor did the
latter utter a word, waiting to the upshot of his mishap; which was
that bringing in the cage, they shut him up in it and nailed the bars
so firmly that they could not be easily burst open.



c46b.jpg (342K)

Full Size




They then took him on their shoulders, and as they passed out of the
room an awful voice—as much so as the barber, not he of the pack-saddle
but the other, was able to make it—was heard to say, “O Knight of the
Rueful Countenance, let not this captivity in which thou art placed
afflict thee, for this must needs be, for the more speedy
accomplishment of the adventure in which thy great heart has engaged
thee; the which shall be accomplished when the raging Manchegan lion
and the white Tobosan dove shall be linked together, having first
humbled their haughty necks to the gentle yoke of matrimony. And from
this marvellous union shall come forth to the light of the world brave
whelps that shall rival the ravening claws of their valiant father; and
this shall come to pass ere the pursuer of the flying nymph shall in
his swift natural course have twice visited the starry signs. And thou,
O most noble and obedient squire that ever bore sword at side, beard on
face, or nose to smell with, be not dismayed or grieved to see the
flower of knight-errantry carried away thus before thy very eyes; for
soon, if it so please the Framer of the universe, thou shalt see
thyself exalted to such a height that thou shalt not know thyself, and
the promises which thy good master has made thee shall not prove false;
and I assure thee, on the authority of the sage Mentironiana, that thy
wages shall be paid thee, as thou shalt see in due season. Follow then
the footsteps of the valiant enchanted knight, for it is expedient that
thou shouldst go to the destination assigned to both of you; and as it
is not permitted to me to say more, God be with thee; for I return to
that place I wot of;” and as he brought the prophecy to a close he
raised his voice to a high pitch, and then lowered it to such a soft
tone, that even those who knew it was all a joke were almost inclined
to take what they heard seriously.

Don Quixote was comforted by the prophecy he heard, for he at once
comprehended its meaning perfectly, and perceived it was promised to
him that he should see himself united in holy and lawful matrimony with
his beloved Dulcinea del Toboso, from whose blessed womb should proceed
the whelps, his sons, to the eternal glory of La Mancha; and being
thoroughly and firmly persuaded of this, he lifted up his voice, and
with a deep sigh exclaimed, “Oh thou, whoever thou art, who hast
foretold me so much good, I implore of thee that on my part thou
entreat that sage enchanter who takes charge of my interests, that he
leave me not to perish in this captivity in which they are now carrying
me away, ere I see fulfilled promises so joyful and incomparable as
those which have been now made me; for, let this but come to pass, and
I shall glory in the pains of my prison, find comfort in these chains
wherewith they bind me, and regard this bed whereon they stretch me,
not as a hard battle-field, but as a soft and happy nuptial couch; and
touching the consolation of Sancho Panza, my squire, I rely upon his
goodness and rectitude that he will not desert me in good or evil
fortune; for if, by his ill luck or mine, it may not happen to be in my
power to give him the island I have promised, or any equivalent for it,
at least his wages shall not be lost; for in my will, which is already
made, I have declared the sum that shall be paid to him, measured, not
by his many faithful services, but by the means at my disposal.”

Sancho bowed his head very respectfully and kissed both his hands, for,
being tied together, he could not kiss one; and then the apparitions
lifted the cage upon their shoulders and fixed it upon the ox-cart.



c46e.jpg (56K)

Full Size



CHAPTER XLVII.
OF THE STRANGE MANNER IN WHICH DON QUIXOTE OF LA MANCHA WAS CARRIED
AWAY ENCHANTED, TOGETHER WITH OTHER REMARKABLE INCIDENTS




c47a.jpg (181K)

Full Size




When Don Quixote saw himself caged and hoisted on the cart in this way,
he said, “Many grave histories of knights-errant have I read; but never
yet have I read, seen, or heard of their carrying off enchanted
knights-errant in this fashion, or at the slow pace that these lazy,
sluggish animals promise; for they always take them away through the
air with marvellous swiftness, enveloped in a dark thick cloud, or on a
chariot of fire, or it may be on some hippogriff or other beast of the
kind; but to carry me off like this on an ox-cart! By God, it puzzles
me! But perhaps the chivalry and enchantments of our day take a
different course from that of those in days gone by; and it may be,
too, that as I am a new knight in the world, and the first to revive
the already forgotten calling of knight-adventurers, they may have
newly invented other kinds of enchantments and other modes of carrying
off the enchanted. What thinkest thou of the matter, Sancho my son?”



c47b.jpg (357K)

Full Size




“I don’t know what to think,” answered Sancho, “not being as well read
as your worship in errant writings; but for all that I venture to say
and swear that these apparitions that are about us are not quite
catholic.”

“Catholic!” said Don Quixote. “Father of me! how can they be Catholic
when they are all devils that have taken fantastic shapes to come and
do this, and bring me to this condition? And if thou wouldst prove it,
touch them, and feel them, and thou wilt find they have only bodies of
air, and no consistency except in appearance.”

“By God, master,” returned Sancho, “I have touched them already; and
that devil, that goes about there so busily, has firm flesh, and
another property very different from what I have heard say devils have,
for by all accounts they all smell of brimstone and other bad smells;
but this one smells of amber half a league off.” Sancho was here
speaking of Don Fernando, who, like a gentleman of his rank, was very
likely perfumed as Sancho said.

“Marvel not at that, Sancho my friend,” said Don Quixote; “for let me
tell thee devils are crafty; and even if they do carry odours about
with them, they themselves have no smell, because they are spirits; or,
if they have any smell, they cannot smell of anything sweet, but of
something foul and fetid; and the reason is that as they carry hell
with them wherever they go, and can get no ease whatever from their
torments, and as a sweet smell is a thing that gives pleasure and
enjoyment, it is impossible that they can smell sweet; if, then, this
devil thou speakest of seems to thee to smell of amber, either thou art
deceiving thyself, or he wants to deceive thee by making thee fancy he
is not a devil.”

Such was the conversation that passed between master and man; and Don
Fernando and Cardenio, apprehensive of Sancho’s making a complete
discovery of their scheme, towards which he had already gone some way,
resolved to hasten their departure, and calling the landlord aside,
they directed him to saddle Rocinante and put the pack-saddle on
Sancho’s ass, which he did with great alacrity. In the meantime the
curate had made an arrangement with the officers that they should bear
them company as far as his village, he paying them so much a day.
Cardenio hung the buckler on one side of the bow of Rocinante’s saddle
and the basin on the other, and by signs commanded Sancho to mount his
ass and take Rocinante’s bridle, and at each side of the cart he placed
two officers with their muskets; but before the cart was put in motion,
out came the landlady and her daughter and Maritornes to bid Don
Quixote farewell, pretending to weep with grief at his misfortune; and
to them Don Quixote said:

“Weep not, good ladies, for all these mishaps are the lot of those who
follow the profession I profess; and if these reverses did not befall
me I should not esteem myself a famous knight-errant; for such things
never happen to knights of little renown and fame, because nobody in
the world thinks about them; to valiant knights they do, for these are
envied for their virtue and valour by many princes and other knights
who compass the destruction of the worthy by base means. Nevertheless,
virtue is of herself so mighty, that, in spite of all the magic that
Zoroaster its first inventor knew, she will come victorious out of
every trial, and shed her light upon the earth as the sun does upon the
heavens. Forgive me, fair ladies, if, through inadvertence, I have in
aught offended you; for intentionally and wittingly I have never done
so to any; and pray to God that he deliver me from this captivity to
which some malevolent enchanter has consigned me; and should I find
myself released therefrom, the favours that ye have bestowed upon me in
this castle shall be held in memory by me, that I may acknowledge,
recognise, and requite them as they deserve.”

While this was passing between the ladies of the castle and Don
Quixote, the curate and the barber bade farewell to Don Fernando and
his companions, to the captain, his brother, and the ladies, now all
made happy, and in particular to Dorothea and Luscinda. They all
embraced one another, and promised to let each other know how things
went with them, and Don Fernando directed the curate where to write to
him, to tell him what became of Don Quixote, assuring him that there
was nothing that could give him more pleasure than to hear of it, and
that he too, on his part, would send him word of everything he thought
he would like to know, about his marriage, Zoraida’s baptism, Don
Luis’s affair, and Luscinda’s return to her home. The curate promised
to comply with his request carefully, and they embraced once more, and
renewed their promises.

The landlord approached the curate and handed him some papers, saying
he had discovered them in the lining of the valise in which the novel
of “The Ill-advised Curiosity” had been found, and that he might take
them all away with him as their owner had not since returned; for, as
he could not read, he did not want them himself. The curate thanked
him, and opening them he saw at the beginning of the manuscript the
words, “Novel of Rinconete and Cortadillo,” by which he perceived that
it was a novel, and as that of “The Ill-advised Curiosity” had been
good he concluded this would be so too, as they were both probably by
the same author; so he kept it, intending to read it when he had an
opportunity. He then mounted and his friend the barber did the same,
both masked, so as not to be recognised by Don Quixote, and set out
following in the rear of the cart. The order of march was this: first
went the cart with the owner leading it; at each side of it marched the
officers of the Brotherhood, as has been said, with their muskets; then
followed Sancho Panza on his ass, leading Rocinante by the bridle; and
behind all came the curate and the barber on their mighty mules, with
faces covered, as aforesaid, and a grave and serious air, measuring
their pace to suit the slow steps of the oxen. Don Quixote was seated
in the cage, with his hands tied and his feet stretched out, leaning
against the bars as silent and as patient as if he were a stone statue
and not a man of flesh. Thus slowly and silently they made, it might
be, two leagues, until they reached a valley which the carter thought a
convenient place for resting and feeding his oxen, and he said so to
the curate, but the barber was of opinion that they ought to push on a
little farther, as at the other side of a hill which appeared close by
he knew there was a valley that had more grass and much better than the
one where they proposed to halt; and his advice was taken and they
continued their journey.

Just at that moment the curate, looking back, saw coming on behind them
six or seven mounted men, well found and equipped, who soon overtook
them, for they were travelling, not at the sluggish, deliberate pace of
oxen, but like men who rode canons’ mules, and in haste to take their
noontide rest as soon as possible at the inn which was in sight not a
league off. The quick travellers came up with the slow, and courteous
salutations were exchanged; and one of the new comers, who was, in
fact, a canon of Toledo and master of the others who accompanied him,
observing the regular order of the procession, the cart, the officers,
Sancho, Rocinante, the curate and the barber, and above all Don Quixote
caged and confined, could not help asking what was the meaning of
carrying the man in that fashion; though, from the badges of the
officers, he already concluded that he must be some desperate
highwayman or other malefactor whose punishment fell within the
jurisdiction of the Holy Brotherhood. One of the officers to whom he
had put the question, replied, “Let the gentleman himself tell you the
meaning of his going this way, señor, for we do not know.”

Don Quixote overheard the conversation and said, “Haply, gentlemen, you
are versed and learned in matters of errant chivalry? Because if you
are I will tell you my misfortunes; if not, there is no good in my
giving myself the trouble of relating them;” but here the curate and
the barber, seeing that the travellers were engaged in conversation
with Don Quixote, came forward, in order to answer in such a way as to
save their stratagem from being discovered.

The canon, replying to Don Quixote, said, “In truth, brother, I know
more about books of chivalry than I do about Villalpando’s elements of
logic; so if that be all, you may safely tell me what you please.”

“In God’s name, then, señor,” replied Don Quixote; “if that be so, I
would have you know that I am held enchanted in this cage by the envy
and fraud of wicked enchanters; for virtue is more persecuted by the
wicked than loved by the good. I am a knight-errant, and not one of
those whose names Fame has never thought of immortalising in her
record, but of those who, in defiance and in spite of envy itself, and
all the magicians that Persia, or Brahmans that India, or Gymnosophists
that Ethiopia ever produced, will place their names in the temple of
immortality, to serve as examples and patterns for ages to come,
whereby knights-errant may see the footsteps in which they must tread
if they would attain the summit and crowning point of honour in arms.”

“What Señor Don Quixote of La Mancha says,” observed the curate, “is
the truth; for he goes enchanted in this cart, not from any fault or
sins of his, but because of the malevolence of those to whom virtue is
odious and valour hateful. This, señor, is the Knight of the Rueful
Countenance, if you have ever heard him named, whose valiant
achievements and mighty deeds shall be written on lasting brass and
imperishable marble, notwithstanding all the efforts of envy to obscure
them and malice to hide them.”

When the canon heard both the prisoner and the man who was at liberty
talk in such a strain he was ready to cross himself in his
astonishment, and could not make out what had befallen him; and all his
attendants were in the same state of amazement.

At this point Sancho Panza, who had drawn near to hear the
conversation, said, in order to make everything plain, “Well, sirs, you
may like or dislike what I am going to say, but the fact of the matter
is, my master, Don Quixote, is just as much enchanted as my mother. He
is in his full senses, he eats and he drinks, and he has his calls like
other men and as he had yesterday, before they caged him. And if that’s
the case, what do they mean by wanting me to believe that he is
enchanted? For I have heard many a one say that enchanted people
neither eat, nor sleep, nor talk; and my master, if you don’t stop him,
will talk more than thirty lawyers.” Then turning to the curate he
exclaimed, “Ah, señor curate, señor curate! do you think I don’t know
you? Do you think I don’t guess and see the drift of these new
enchantments? Well then, I can tell you I know you, for all your face
is covered, and I can tell you I am up to you, however you may hide
your tricks. After all, where envy reigns virtue cannot live, and where
there is niggardliness there can be no liberality. Ill betide the
devil! if it had not been for your worship my master would be married
to the Princess Micomicona this minute, and I should be a count at
least; for no less was to be expected, as well from the goodness of my
master, him of the Rueful Countenance, as from the greatness of my
services. But I see now how true it is what they say in these parts,
that the wheel of fortune turns faster than a mill-wheel, and that
those who were up yesterday are down to-day. I am sorry for my wife and
children, for when they might fairly and reasonably expect to see their
father return to them a governor or viceroy of some island or kingdom,
they will see him come back a horse-boy. I have said all this, señor
curate, only to urge your paternity to lay to your conscience your
ill-treatment of my master; and have a care that God does not call you
to account in another life for making a prisoner of him in this way,
and charge against you all the succours and good deeds that my lord Don
Quixote leaves undone while he is shut up.

“Trim those lamps there!” exclaimed the barber at this; “so you are of
the same fraternity as your master, too, Sancho? By God, I begin to see
that you will have to keep him company in the cage, and be enchanted
like him for having caught some of his humour and chivalry. It was an
evil hour when you let yourself be got with child by his promises, and
that island you long so much for found its way into your head.”

“I am not with child by anyone,” returned Sancho, “nor am I a man to
let myself be got with child, if it was by the King himself. Though I
am poor I am an old Christian, and I owe nothing to nobody, and if I
long for an island, other people long for worse. Each of us is the son
of his own works; and being a man I may come to be pope, not to say
governor of an island, especially as my master may win so many that he
will not know whom to give them to. Mind how you talk, master barber;
for shaving is not everything, and there is some difference between
Peter and Peter. I say this because we all know one another, and it
will not do to throw false dice with me; and as to the enchantment of
my master, God knows the truth; leave it as it is; it only makes it
worse to stir it.”

The barber did not care to answer Sancho lest by his plain speaking he
should disclose what the curate and he himself were trying so hard to
conceal; and under the same apprehension the curate had asked the canon
to ride on a little in advance, so that he might tell him the mystery
of this man in the cage, and other things that would amuse him. The
canon agreed, and going on ahead with his servants, listened with
attention to the account of the character, life, madness, and ways of
Don Quixote, given him by the curate, who described to him briefly the
beginning and origin of his craze, and told him the whole story of his
adventures up to his being confined in the cage, together with the plan
they had of taking him home to try if by any means they could discover
a cure for his madness. The canon and his servants were surprised anew
when they heard Don Quixote’s strange story, and when it was finished
he said, “To tell the truth, señor curate, I for my part consider what
they call books of chivalry to be mischievous to the State; and though,
led by idle and false taste, I have read the beginnings of almost all
that have been printed, I never could manage to read any one of them
from beginning to end; for it seems to me they are all more or less the
same thing; and one has nothing more in it than another; this no more
than that. And in my opinion this sort of writing and composition is of
the same species as the fables they call the Milesian, nonsensical
tales that aim solely at giving amusement and not instruction, exactly
the opposite of the apologue fables which amuse and instruct at the
same time. And though it may be the chief object of such books to
amuse, I do not know how they can succeed, when they are so full of
such monstrous nonsense. For the enjoyment the mind feels must come
from the beauty and harmony which it perceives or contemplates in the
things that the eye or the imagination brings before it; and nothing
that has any ugliness or disproportion about it can give any pleasure.
What beauty, then, or what proportion of the parts to the whole, or of
the whole to the parts, can there be in a book or fable where a lad of
sixteen cuts down a giant as tall as a tower and makes two halves of
him as if he was an almond cake? And when they want to give us a
picture of a battle, after having told us that there are a million of
combatants on the side of the enemy, let the hero of the book be
opposed to them, and we have perforce to believe, whether we like it or
not, that the said knight wins the victory by the single might of his
strong arm. And then, what shall we say of the facility with which a
born queen or empress will give herself over into the arms of some
unknown wandering knight? What mind, that is not wholly barbarous and
uncultured, can find pleasure in reading of how a great tower full of
knights sails away across the sea like a ship with a fair wind, and
will be to-night in Lombardy and to-morrow morning in the land of
Prester John of the Indies, or some other that Ptolemy never described
nor Marco Polo saw? And if, in answer to this, I am told that the
authors of books of the kind write them as fiction, and therefore are
not bound to regard niceties of truth, I would reply that fiction is
all the better the more it looks like truth, and gives the more
pleasure the more probability and possibility there is about it. Plots
in fiction should be wedded to the understanding of the reader, and be
constructed in such a way that, reconciling impossibilities, smoothing
over difficulties, keeping the mind on the alert, they may surprise,
interest, divert, and entertain, so that wonder and delight joined may
keep pace one with the other; all which he will fail to effect who
shuns verisimilitude and truth to nature, wherein lies the perfection
of writing. I have never yet seen any book of chivalry that puts
together a connected plot complete in all its numbers, so that the
middle agrees with the beginning, and the end with the beginning and
middle; on the contrary, they construct them with such a multitude of
members that it seems as though they meant to produce a chimera or
monster rather than a well-proportioned figure. And besides all this
they are harsh in their style, incredible in their achievements,
licentious in their amours, uncouth in their courtly speeches, prolix
in their battles, silly in their arguments, absurd in their travels,
and, in short, wanting in everything like intelligent art; for which
reason they deserve to be banished from the Christian commonwealth as a
worthless breed.”



c47c.jpg (300K)

Full Size




The curate listened to him attentively and felt that he was a man of
sound understanding, and that there was good reason in what he said; so
he told him that, being of the same opinion himself, and bearing a
grudge to books of chivalry, he had burned all Don Quixote’s, which
were many; and gave him an account of the scrutiny he had made of them,
and of those he had condemned to the flames and those he had spared,
with which the canon was not a little amused, adding that though he had
said so much in condemnation of these books, still he found one good
thing in them, and that was the opportunity they afforded to a gifted
intellect for displaying itself; for they presented a wide and spacious
field over which the pen might range freely, describing shipwrecks,
tempests, combats, battles, portraying a valiant captain with all the
qualifications requisite to make one, showing him sagacious in
foreseeing the wiles of the enemy, eloquent in speech to encourage or
restrain his soldiers, ripe in counsel, rapid in resolve, as bold in
biding his time as in pressing the attack; now picturing some sad
tragic incident, now some joyful and unexpected event; here a beauteous
lady, virtuous, wise, and modest; there a Christian knight, brave and
gentle; here a lawless, barbarous braggart; there a courteous prince,
gallant and gracious; setting forth the devotion and loyalty of
vassals, the greatness and generosity of nobles. “Or again,” said he,
“the author may show himself to be an astronomer, or a skilled
cosmographer, or musician, or one versed in affairs of state, and
sometimes he will have a chance of coming forward as a magician if he
likes. He can set forth the craftiness of Ulysses, the piety of Æneas,
the valour of Achilles, the misfortunes of Hector, the treachery of
Sinon, the friendship of Euryalus, the generosity of Alexander, the
boldness of Cæsar, the clemency and truth of Trajan, the fidelity of
Zopyrus, the wisdom of Cato, and in short all the faculties that serve
to make an illustrious man perfect, now uniting them in one individual,
again distributing them among many; and if this be done with charm of
style and ingenious invention, aiming at the truth as much as possible,
he will assuredly weave a web of bright and varied threads that, when
finished, will display such perfection and beauty that it will attain
the worthiest object any writing can seek, which, as I said before, is
to give instruction and pleasure combined; for the unrestricted range
of these books enables the author to show his powers, epic, lyric,
tragic, or comic, and all the moods the sweet and winning arts of poesy
and oratory are capable of; for the epic may be written in prose just
as well as in verse.”



c47e.jpg (67K)

Full Size



CHAPTER XLVIII.
IN WHICH THE CANON PURSUES THE SUBJECT OF THE BOOKS OF CHIVALRY, WITH
OTHER MATTERS WORTHY OF HIS WIT




c48a.jpg (80K)

Full Size




“It is as you say, señor canon,” said the curate; “and for that reason
those who have hitherto written books of the sort deserve all the more
censure for writing without paying any attention to good taste or the
rules of art, by which they might guide themselves and become as famous
in prose as the two princes of Greek and Latin poetry are in verse.”

“I myself, at any rate,” said the canon, “was once tempted to write a
book of chivalry in which all the points I have mentioned were to be
observed; and if I must own the truth I have more than a hundred sheets
written; and to try if it came up to my own opinion of it, I showed
them to persons who were fond of this kind of reading, to learned and
intelligent men as well as to ignorant people who cared for nothing but
the pleasure of listening to nonsense, and from all I obtained
flattering approval; nevertheless I proceeded no farther with it, as
well because it seemed to me an occupation inconsistent with my
profession, as because I perceived that the fools are more numerous
than the wise; and, though it is better to be praised by the wise few
than applauded by the foolish many, I have no mind to submit myself to
the stupid judgment of the silly public, to whom the reading of such
books falls for the most part.

“But what most of all made me hold my hand and even abandon all idea of
finishing it was an argument I put to myself taken from the plays that
are acted now-a-days, which was in this wise: if those that are now in
vogue, as well those that are pure invention as those founded on
history, are, all or most of them, downright nonsense and things that
have neither head nor tail, and yet the public listens to them with
delight, and regards and cries them up as perfection when they are so
far from it; and if the authors who write them, and the players who act
them, say that this is what they must be, for the public wants this and
will have nothing else; and that those that go by rule and work out a
plot according to the laws of art will only find some half-dozen
intelligent people to understand them, while all the rest remain blind
to the merit of their composition; and that for themselves it is better
to get bread from the many than praise from the few; then my book will
fare the same way, after I have burnt off my eyebrows in trying to
observe the principles I have spoken of, and I shall be ‘the tailor of
the corner.’ And though I have sometimes endeavoured to convince actors
that they are mistaken in this notion they have adopted, and that they
would attract more people, and get more credit, by producing plays in
accordance with the rules of art, than by absurd ones, they are so
thoroughly wedded to their own opinion that no argument or evidence can
wean them from it.

“I remember saying one day to one of these obstinate fellows, ‘Tell me,
do you not recollect that a few years ago, there were three tragedies
acted in Spain, written by a famous poet of these kingdoms, which were
such that they filled all who heard them with admiration, delight, and
interest, the ignorant as well as the wise, the masses as well as the
higher orders, and brought in more money to the performers, these three
alone, than thirty of the best that have been since produced?’

“‘No doubt,’ replied the actor in question, ‘you mean the “Isabella,”
the “Phyllis,” and the “Alexandra.”’

“‘Those are the ones I mean,’ said I; ‘and see if they did not observe
the principles of art, and if, by observing them, they failed to show
their superiority and please all the world; so that the fault does not
lie with the public that insists upon nonsense, but with those who
don’t know how to produce something else. “The Ingratitude Revenged”
was not nonsense, nor was there any in “The Numantia,” nor any to be
found in “The Merchant Lover,” nor yet in “The Friendly Fair Foe,” nor
in some others that have been written by certain gifted poets, to their
own fame and renown, and to the profit of those that brought them out;’
some further remarks I added to these, with which, I think, I left him
rather dumbfoundered, but not so satisfied or convinced that I could
disabuse him of his error.”

“You have touched upon a subject, señor canon,” observed the curate
here, “that has awakened an old enmity I have against the plays in
vogue at the present day, quite as strong as that which I bear to the
books of chivalry; for while the drama, according to Tully, should be
the mirror of human life, the model of manners, and the image of the
truth, those which are presented now-a-days are mirrors of nonsense,
models of folly, and images of lewdness. For what greater nonsense can
there be in connection with what we are now discussing than for an
infant to appear in swaddling clothes in the first scene of the first
act, and in the second a grown-up bearded man? Or what greater
absurdity can there be than putting before us an old man as a
swashbuckler, a young man as a poltroon, a lackey using fine language,
a page giving sage advice, a king plying as a porter, a princess who is
a kitchen-maid? And then what shall I say of their attention to the
time in which the action they represent may or can take place, save
that I have seen a play where the first act began in Europe, the second
in Asia, the third finished in Africa, and no doubt, had it been in
four acts, the fourth would have ended in America, and so it would have
been laid in all four quarters of the globe? And if truth to life is
the main thing the drama should keep in view, how is it possible for
any average understanding to be satisfied when the action is supposed
to pass in the time of King Pepin or Charlemagne, and the principal
personage in it they represent to be the Emperor Heraclius who entered
Jerusalem with the cross and won the Holy Sepulchre, like Godfrey of
Bouillon, there being years innumerable between the one and the other?
or, if the play is based on fiction and historical facts are
introduced, or bits of what occurred to different people and at
different times mixed up with it, all, not only without any semblance
of probability, but with obvious errors that from every point of view
are inexcusable? And the worst of it is, there are ignorant people who
say that this is perfection, and that anything beyond this is affected
refinement. And then if we turn to sacred dramas—what miracles they
invent in them! What apocryphal, ill-devised incidents, attributing to
one saint the miracles of another! And even in secular plays they
venture to introduce miracles without any reason or object except that
they think some such miracle, or transformation as they call it, will
come in well to astonish stupid people and draw them to the play. All
this tends to the prejudice of the truth and the corruption of history,
nay more, to the reproach of the wits of Spain; for foreigners who
scrupulously observe the laws of the drama look upon us as barbarous
and ignorant, when they see the absurdity and nonsense of the plays we
produce. Nor will it be a sufficient excuse to say that the chief
object well-ordered governments have in view when they permit plays to
be performed in public is to entertain the people with some harmless
amusement occasionally, and keep it from those evil humours which
idleness is apt to engender; and that, as this may be attained by any
sort of play, good or bad, there is no need to lay down laws, or bind
those who write or act them to make them as they ought to be made,
since, as I say, the object sought for may be secured by any sort. To
this I would reply that the same end would be, beyond all comparison,
better attained by means of good plays than by those that are not so;
for after listening to an artistic and properly constructed play, the
hearer will come away enlivened by the jests, instructed by the serious
parts, full of admiration at the incidents, his wits sharpened by the
arguments, warned by the tricks, all the wiser for the examples,
inflamed against vice, and in love with virtue; for in all these ways a
good play will stimulate the mind of the hearer be he ever so boorish
or dull; and of all impossibilities the greatest is that a play endowed
with all these qualities will not entertain, satisfy, and please much
more than one wanting in them, like the greater number of those which
are commonly acted now-a-days. Nor are the poets who write them to be
blamed for this; for some there are among them who are perfectly well
aware of their faults, and know what they ought to do; but as plays
have become a salable commodity, they say, and with truth, that the
actors will not buy them unless they are after this fashion; and so the
poet tries to adapt himself to the requirements of the actor who is to
pay him for his work. And that this is the truth may be seen by the
countless plays that a most fertile wit of these kingdoms has written,
with so much brilliancy, so much grace and gaiety, such polished
versification, such choice language, such profound reflections, and in
a word, so rich in eloquence and elevation of style, that he has filled
the world with his fame; and yet, in consequence of his desire to suit
the taste of the actors, they have not all, as some of them have, come
as near perfection as they ought. Others write plays with such
heedlessness that, after they have been acted, the actors have to fly
and abscond, afraid of being punished, as they often have been, for
having acted something offensive to some king or other, or insulting to
some noble family. All which evils, and many more that I say nothing
of, would be removed if there were some intelligent and sensible person
at the capital to examine all plays before they were acted, not only
those produced in the capital itself, but all that were intended to be
acted in Spain; without whose approval, seal, and signature, no local
magistracy should allow any play to be acted. In that case actors would
take care to send their plays to the capital, and could act them in
safety, and those who write them would be more careful and take more
pains with their work, standing in awe of having to submit it to the
strict examination of one who understood the matter; and so good plays
would be produced and the objects they aim at happily attained; as well
the amusement of the people, as the credit of the wits of Spain, the
interest and safety of the actors, and the saving of trouble in
inflicting punishment on them. And if the same or some other person
were authorised to examine the newly written books of chivalry, no
doubt some would appear with all the perfections you have described,
enriching our language with the gracious and precious treasure of
eloquence, and driving the old books into obscurity before the light of
the new ones that would come out for the harmless entertainment, not
merely of the idle but of the very busiest; for the bow cannot be
always bent, nor can weak human nature exist without some lawful
amusement.”

The canon and the curate had proceeded thus far with their
conversation, when the barber, coming forward, joined them, and said to
the curate, “This is the spot, señor licentiate, that I said was a good
one for fresh and plentiful pasture for the oxen, while we take our
noontide rest.”

“And so it seems,” returned the curate, and he told the canon what he
proposed to do, on which he too made up his mind to halt with them,
attracted by the aspect of the fair valley that lay before their eyes;
and to enjoy it as well as the conversation of the curate, to whom he
had begun to take a fancy, and also to learn more particulars about the
doings of Don Quixote, he desired some of his servants to go on to the
inn, which was not far distant, and fetch from it what eatables there
might be for the whole party, as he meant to rest for the afternoon
where he was; to which one of his servants replied that the sumpter
mule, which by this time ought to have reached the inn, carried
provisions enough to make it unnecessary to get anything from the inn
except barley.

“In that case,” said the canon, “take all the beasts there, and bring
the sumpter mule back.”

While this was going on, Sancho, perceiving that he could speak to his
master without having the curate and the barber, of whom he had his
suspicions, present all the time, approached the cage in which Don
Quixote was placed, and said, “Señor, to ease my conscience I want to
tell you the state of the case as to your enchantment, and that is that
these two here, with their faces covered, are the curate of our village
and the barber; and I suspect they have hit upon this plan of carrying
you off in this fashion, out of pure envy because your worship
surpasses them in doing famous deeds; and if this be the truth it
follows that you are not enchanted, but hoodwinked and made a fool of.
And to prove this I want to ask you one thing; and if you answer me as
I believe you will answer, you will be able to lay your finger on the
trick, and you will see that you are not enchanted but gone wrong in
your wits.”

“Ask what thou wilt, Sancho my son,” returned Don Quixote, “for I will
satisfy thee and answer all thou requirest. As to what thou sayest,
that these who accompany us yonder are the curate and the barber, our
neighbours and acquaintances, it is very possible that they may seem to
be those same persons; but that they are so in reality and in fact,
believe it not on any account; what thou art to believe and think is
that, if they look like them, as thou sayest, it must be that those who
have enchanted me have taken this shape and likeness; for it is easy
for enchanters to take any form they please, and they may have taken
those of our friends in order to make thee think as thou dost, and lead
thee into a labyrinth of fancies from which thou wilt find no escape
though thou hadst the cord of Theseus; and they may also have done it
to make me uncertain in my mind, and unable to conjecture whence this
evil comes to me; for if on the one hand thou dost tell me that the
barber and curate of our village are here in company with us, and on
the other I find myself shut up in a cage, and know in my heart that no
power on earth that was not supernatural would have been able to shut
me in, what wouldst thou have me say or think, but that my enchantment
is of a sort that transcends all I have ever read of in all the
histories that deal with knights-errant that have been enchanted? So
thou mayest set thy mind at rest as to the idea that they are what thou
sayest, for they are as much so as I am a Turk. But touching thy desire
to ask me something, say on, and I will answer thee, though thou
shouldst ask questions from this till to-morrow morning.”

“May Our Lady be good to me!” said Sancho, lifting up his voice; “and
is it possible that your worship is so thick of skull and so short of
brains that you cannot see that what I say is the simple truth, and
that malice has more to do with your imprisonment and misfortune than
enchantment? But as it is so, I will prove plainly to you that you are
not enchanted. Now tell me, so may God deliver you from this
affliction, and so may you find yourself when you least expect it in
the arms of my lady Dulcinea—”

“Leave off conjuring me,” said Don Quixote, “and ask what thou wouldst
know; I have already told thee I will answer with all possible
precision.”

“That is what I want,” said Sancho; “and what I would know, and have
you tell me, without adding or leaving out anything, but telling the
whole truth as one expects it to be told, and as it is told, by all who
profess arms, as your worship professes them, under the title of
knights-errant—”

“I tell thee I will not lie in any particular,” said Don Quixote;
“finish thy question; for in truth thou weariest me with all these
asseverations, requirements, and precautions, Sancho.”

“Well, I rely on the goodness and truth of my master,” said Sancho;
“and so, because it bears upon what we are talking about, I would ask,
speaking with all reverence, whether since your worship has been shut
up and, as you think, enchanted in this cage, you have felt any desire
or inclination to go anywhere, as the saying is?”

“I do not understand ‘going anywhere,’” said Don Quixote; “explain
thyself more clearly, Sancho, if thou wouldst have me give an answer to
the point.”

“Is it possible,” said Sancho, “that your worship does not understand
‘going anywhere’? Why, the schoolboys know that from the time they were
babes. Well then, you must know I mean have you had any desire to do
what cannot be avoided?”

“Ah! now I understand thee, Sancho,” said Don Quixote; “yes, often, and
even this minute; get me out of this strait, or all will not go right.”



c48e.jpg (32K)



CHAPTER XLIX.
WHICH TREATS OF THE SHREWD CONVERSATION WHICH SANCHO PANZA HELD WITH
HIS MASTER DON QUIXOTE




c49a.jpg (181K)

Full Size




“Aha, I have caught you,” said Sancho; “this is what in my heart and
soul I was longing to know. Come now, señor, can you deny what is
commonly said around us, when a person is out of humour, ‘I don’t know
what ails so-and-so, that he neither eats, nor drinks, nor sleeps, nor
gives a proper answer to any question; one would think he was
enchanted’? From which it is to be gathered that those who do not eat,
or drink, or sleep, or do any of the natural acts I am speaking of—that
such persons are enchanted; but not those that have the desire your
worship has, and drink when drink is given them, and eat when there is
anything to eat, and answer every question that is asked them.”

“What thou sayest is true, Sancho,” replied Don Quixote; “but I have
already told thee there are many sorts of enchantments, and it may be
that in the course of time they have been changed one for another, and
that now it may be the way with enchanted people to do all that I do,
though they did not do so before; so it is vain to argue or draw
inferences against the usage of the time. I know and feel that I am
enchanted, and that is enough to ease my conscience; for it would weigh
heavily on it if I thought that I was not enchanted, and that in a
faint-hearted and cowardly way I allowed myself to lie in this cage,
defrauding multitudes of the succour I might afford to those in need
and distress, who at this very moment may be in sore want of my aid and
protection.”

“Still for all that,” replied Sancho, “I say that, for your greater and
fuller satisfaction, it would be well if your worship were to try to
get out of this prison (and I promise to do all in my power to help,
and even to take you out of it), and see if you could once more mount
your good Rocinante, who seems to be enchanted too, he is so melancholy
and dejected; and then we might try our chance in looking for
adventures again; and if we have no luck there will be time enough to
go back to the cage; in which, on the faith of a good and loyal squire,
I promise to shut myself up along with your worship, if so be you are
so unfortunate, or I so stupid, as not to be able to carry out my
plan.”

“I am content to do as thou sayest, brother Sancho,” said Don Quixote,
“and when thou seest an opportunity for effecting my release I will
obey thee absolutely; but thou wilt see, Sancho, how mistaken thou art
in thy conception of my misfortune.”

The knight-errant and the ill-errant squire kept up their conversation
till they reached the place where the curate, the canon, and the
barber, who had already dismounted, were waiting for them. The carter
at once unyoked the oxen and left them to roam at large about the
pleasant green spot, the freshness of which seemed to invite, not
enchanted people like Don Quixote, but wide-awake, sensible folk like
his squire, who begged the curate to allow his master to leave the cage
for a little; for if they did not let him out, the prison might not be
as clean as the propriety of such a gentleman as his master required.
The curate understood him, and said he would very gladly comply with
his request, only that he feared his master, finding himself at
liberty, would take to his old courses and make off where nobody could
ever find him again.

“I will answer for his not running away,” said Sancho.

“And I also,” said the canon, “especially if he gives me his word as a
knight not to leave us without our consent.”

Don Quixote, who was listening to all this, said, “I give it;—moreover
one who is enchanted as I am cannot do as he likes with himself; for he
who had enchanted him could prevent his moving from one place for three
ages, and if he attempted to escape would bring him back flying.”—And
that being so, they might as well release him, particularly as it would
be to the advantage of all; for, if they did not let him out, he
protested he would be unable to avoid offending their nostrils unless
they kept their distance.

The canon took his hand, tied together as they both were, and on his
word and promise they unbound him, and rejoiced beyond measure he was
to find himself out of the cage. The first thing he did was to stretch
himself all over, and then he went to where Rocinante was standing and
giving him a couple of slaps on the haunches said, “I still trust in
God and in his blessed mother, O flower and mirror of steeds, that we
shall soon see ourselves, both of us, as we wish to be, thou with thy
master on thy back, and I mounted upon thee, following the calling for
which God sent me into the world.” And so saying, accompanied by
Sancho, he withdrew to a retired spot, from which he came back much
relieved and more eager than ever to put his squire’s scheme into
execution.

The canon gazed at him, wondering at the extraordinary nature of his
madness, and that in all his remarks and replies he should show such
excellent sense, and only lose his stirrups, as has been already said,
when the subject of chivalry was broached. And so, moved by compassion,
he said to him, as they all sat on the green grass awaiting the arrival
of the provisions:

“Is it possible, gentle sir, that the nauseous and idle reading of
books of chivalry can have had such an effect on your worship as to
upset your reason so that you fancy yourself enchanted, and the like,
all as far from the truth as falsehood itself is? How can there be any
human understanding that can persuade itself there ever was all that
infinity of Amadises in the world, or all that multitude of famous
knights, all those emperors of Trebizond, all those Felixmartes of
Hircania, all those palfreys, and damsels-errant, and serpents, and
monsters, and giants, and marvellous adventures, and enchantments of
every kind, and battles, and prodigious encounters, splendid costumes,
love-sick princesses, squires made counts, droll dwarfs, love letters,
billings and cooings, swashbuckler women, and, in a word, all that
nonsense the books of chivalry contain? For myself, I can only say that
when I read them, so long as I do not stop to think that they are all
lies and frivolity, they give me a certain amount of pleasure; but when
I come to consider what they are, I fling the very best of them at the
wall, and would fling it into the fire if there were one at hand, as
richly deserving such punishment as cheats and impostors out of the
range of ordinary toleration, and as founders of new sects and modes of
life, and teachers that lead the ignorant public to believe and accept
as truth all the folly they contain. And such is their audacity, they
even dare to unsettle the wits of gentlemen of birth and intelligence,
as is shown plainly by the way they have served your worship, when they
have brought you to such a pass that you have to be shut up in a cage
and carried on an ox-cart as one would carry a lion or a tiger from
place to place to make money by showing it. Come, Señor Don Quixote,
have some compassion for yourself, return to the bosom of common sense,
and make use of the liberal share of it that heaven has been pleased to
bestow upon you, employing your abundant gifts of mind in some other
reading that may serve to benefit your conscience and add to your
honour. And if, still led away by your natural bent, you desire to read
books of achievements and of chivalry, read the Book of Judges in the
Holy Scriptures, for there you will find grand reality, and deeds as
true as they are heroic. Lusitania had a Viriatus, Rome a Cæsar,
Carthage a Hannibal, Greece an Alexander, Castile a Count Fernan
Gonzalez, Valencia a Cid, Andalusia a Gonzalo Fernandez, Estremadura a
Diego García de Paredes, Jerez a Garci Perez de Vargas, Toledo a
Garcilaso, Seville a Don Manuel de Leon, to read of whose valiant deeds
will entertain and instruct the loftiest minds and fill them with
delight and wonder. Here, Señor Don Quixote, will be reading worthy of
your sound understanding; from which you will rise learned in history,
in love with virtue, strengthened in goodness, improved in manners,
brave without rashness, prudent without cowardice; and all to the
honour of God, your own advantage and the glory of La Mancha, whence, I
am informed, your worship derives your birth.”

Don Quixote listened with the greatest attention to the canon’s words,
and when he found he had finished, after regarding him for some time,
he replied to him:

“It appears to me, gentle sir, that your worship’s discourse is
intended to persuade me that there never were any knights-errant in the
world, and that all the books of chivalry are false, lying, mischievous
and useless to the State, and that I have done wrong in reading them,
and worse in believing them, and still worse in imitating them, when I
undertook to follow the arduous calling of knight-errantry which they
set forth; for you deny that there ever were Amadises of Gaul or of
Greece, or any other of the knights of whom the books are full.”

“It is all exactly as you state it,” said the canon; to which Don
Quixote returned, “You also went on to say that books of this kind had
done me much harm, inasmuch as they had upset my senses, and shut me up
in a cage, and that it would be better for me to reform and change my
studies, and read other truer books which would afford more pleasure
and instruction.”

“Just so,” said the canon.

“Well then,” returned Don Quixote, “to my mind it is you who are the
one that is out of his wits and enchanted, as you have ventured to
utter such blasphemies against a thing so universally acknowledged and
accepted as true that whoever denies it, as you do, deserves the same
punishment which you say you inflict on the books that irritate you
when you read them. For to try to persuade anybody that Amadis, and all
the other knights-adventurers with whom the books are filled, never
existed, would be like trying to persuade him that the sun does not
yield light, or ice cold, or earth nourishment. What wit in the world
can persuade another that the story of the Princess Floripes and Guy of
Burgundy is not true, or that of Fierabras and the bridge of Mantible,
which happened in the time of Charlemagne? For by all that is good it
is as true as that it is daylight now; and if it be a lie, it must be a
lie too that there was a Hector, or Achilles, or Trojan war, or Twelve
Peers of France, or Arthur of England, who still lives changed into a
raven, and is unceasingly looked for in his kingdom. One might just as
well try to make out that the history of Guarino Mezquino, or of the
quest of the Holy Grail, is false, or that the loves of Tristram and
the Queen Yseult are apocryphal, as well as those of Guinevere and
Lancelot, when there are persons who can almost remember having seen
the Dame Quintañona, who was the best cupbearer in Great Britain. And
so true is this, that I recollect a grandmother of mine on the father’s
side, whenever she saw any dame in a venerable hood, used to say to me,
‘Grandson, that one is like Dame Quintañona,’ from which I conclude
that she must have known her, or at least had managed to see some
portrait of her. Then who can deny that the story of Pierres and the
fair Magalona is true, when even to this day may be seen in the king’s
armoury the pin with which the valiant Pierres guided the wooden horse
he rode through the air, and it is a trifle bigger than the pole of a
cart? And alongside of the pin is Babieca’s saddle, and at Roncesvalles
there is Roland’s horn, as large as a large beam; whence we may infer
that there were Twelve Peers, and a Pierres, and a Cid, and other
knights like them, of the sort people commonly call adventurers. Or
perhaps I shall be told, too, that there was no such knight-errant as
the valiant Lusitanian Juan de Merlo, who went to Burgundy and in the
city of Arras fought with the famous lord of Charny, Mosen Pierres by
name, and afterwards in the city of Basle with Mosen Enrique de
Remesten, coming out of both encounters covered with fame and honour;
or adventures and challenges achieved and delivered, also in Burgundy,
by the valiant Spaniards Pedro Barba and Gutierre Quixada (of whose
family I come in the direct male line), when they vanquished the sons
of the Count of San Polo. I shall be told, too, that Don Fernando de
Guevara did not go in quest of adventures to Germany, where he engaged
in combat with Micer George, a knight of the house of the Duke of
Austria. I shall be told that the jousts of Suero de Quiñones, him of
the ‘Paso,’ and the emprise of Mosen Luis de Falces against the
Castilian knight, Don Gonzalo de Guzman, were mere mockeries; as well
as many other achievements of Christian knights of these and foreign
realms, which are so authentic and true, that, I repeat, he who denies
them must be totally wanting in reason and good sense.”

The canon was amazed to hear the medley of truth and fiction Don
Quixote uttered, and to see how well acquainted he was with everything
relating or belonging to the achievements of his knight-errantry; so he
said in reply:

“I cannot deny, Señor Don Quixote, that there is some truth in what you
say, especially as regards the Spanish knights-errant; and I am willing
to grant too that the Twelve Peers of France existed, but I am not
disposed to believe that they did all the things that the Archbishop
Turpin relates of them. For the truth of the matter is they were
knights chosen by the kings of France, and called ‘Peers’ because they
were all equal in worth, rank and prowess (at least if they were not
they ought to have been), and it was a kind of religious order like
those of Santiago and Calatrava in the present day, in which it is
assumed that those who take it are valiant knights of distinction and
good birth; and just as we say now a Knight of St. John, or of
Alcántara, they used to say then a Knight of the Twelve Peers, because
twelve equals were chosen for that military order. That there was a
Cid, as well as a Bernardo del Carpio, there can be no doubt; but that
they did the deeds people say they did, I hold to be very doubtful. In
that other matter of the pin of Count Pierres that you speak of, and
say is near Babieca’s saddle in the Armoury, I confess my sin; for I am
either so stupid or so short-sighted, that, though I have seen the
saddle, I have never been able to see the pin, in spite of it being as
big as your worship says it is.”

“For all that it is there, without any manner of doubt,” said Don
Quixote; “and more by token they say it is inclosed in a sheath of
cowhide to keep it from rusting.”

“All that may be,” replied the canon; “but, by the orders I have
received, I do not remember seeing it. However, granting it is there,
that is no reason why I am bound to believe the stories of all those
Amadises and of all that multitude of knights they tell us about, nor
is it reasonable that a man like your worship, so worthy, and with so
many good qualities, and endowed with such a good understanding, should
allow himself to be persuaded that such wild crazy things as are
written in those absurd books of chivalry are really true.”



c49e.jpg (22K)



CHAPTER L.
OF THE SHREWD CONTROVERSY WHICH DON QUIXOTE AND THE CANON HELD,
TOGETHER WITH OTHER INCIDENTS




c50a.jpg (160K)

Full Size




“A good joke, that!” returned Don Quixote. “Books that have been
printed with the king’s licence, and with the approbation of those to
whom they have been submitted, and read with universal delight, and
extolled by great and small, rich and poor, learned and ignorant,
gentle and simple, in a word by people of every sort, of whatever rank
or condition they may be—that these should be lies! And above all when
they carry such an appearance of truth with them; for they tell us the
father, mother, country, kindred, age, place, and the achievements,
step by step, and day by day, performed by such a knight or knights!
Hush, sir; utter not such blasphemy; trust me I am advising you now to
act as a sensible man should; only read them, and you will see the
pleasure you will derive from them. For, come, tell me, can there be
anything more delightful than to see, as it were, here now displayed
before us a vast lake of bubbling pitch with a host of snakes and
serpents and lizards, and ferocious and terrible creatures of all sorts
swimming about in it, while from the middle of the lake there comes a
plaintive voice saying: ‘Knight, whosoever thou art who beholdest this
dread lake, if thou wouldst win the prize that lies hidden beneath
these dusky waves, prove the valour of thy stout heart and cast thyself
into the midst of its dark burning waters, else thou shalt not be
worthy to see the mighty wonders contained in the seven castles of the
seven Fays that lie beneath this black expanse;’ and then the knight,
almost ere the awful voice has ceased, without stopping to consider,
without pausing to reflect upon the danger to which he is exposing
himself, without even relieving himself of the weight of his massive
armour, commending himself to God and to his lady, plunges into the
midst of the boiling lake, and when he little looks for it, or knows
what his fate is to be, he finds himself among flowery meadows, with
which the Elysian fields are not to be compared.



c50b.jpg (344K)

Full Size




“The sky seems more transparent there, and the sun shines with a
strange brilliancy, and a delightful grove of green leafy trees
presents itself to the eyes and charms the sight with its verdure,
while the ear is soothed by the sweet untutored melody of the countless
birds of gay plumage that flit to and fro among the interlacing
branches. Here he sees a brook whose limpid waters, like liquid
crystal, ripple over fine sands and white pebbles that look like sifted
gold and purest pearls. There he perceives a cunningly wrought fountain
of many-coloured jasper and polished marble; here another of rustic
fashion where the little mussel-shells and the spiral white and yellow
mansions of the snail disposed in studious disorder, mingled with
fragments of glittering crystal and mock emeralds, make up a work of
varied aspect, where art, imitating nature, seems to have outdone it.



c50c.jpg (334K)

Full Size




“Suddenly there is presented to his sight a strong castle or gorgeous
palace with walls of massy gold, turrets of diamond and gates of
jacinth; in short, so marvellous is its structure that though the
materials of which it is built are nothing less than diamonds,
carbuncles, rubies, pearls, gold, and emeralds, the workmanship is
still more rare. And after having seen all this, what can be more
charming than to see how a bevy of damsels comes forth from the gate of
the castle in gay and gorgeous attire, such that, were I to set myself
now to depict it as the histories describe it to us, I should never
have done; and then how she who seems to be the first among them all
takes the bold knight who plunged into the boiling lake by the hand,
and without addressing a word to him leads him into the rich palace or
castle, and strips him as naked as when his mother bore him, and bathes
him in lukewarm water, and anoints him all over with sweet-smelling
unguents, and clothes him in a shirt of the softest sendal, all scented
and perfumed, while another damsel comes and throws over his shoulders
a mantle which is said to be worth at the very least a city, and even
more? How charming it is, then, when they tell us how, after all this,
they lead him to another chamber where he finds the tables set out in
such style that he is filled with amazement and wonder; to see how they
pour out water for his hands distilled from amber and sweet-scented
flowers; how they seat him on an ivory chair; to see how the damsels
wait on him all in profound silence; how they bring him such a variety
of dainties so temptingly prepared that the appetite is at a loss which
to select; to hear the music that resounds while he is at table, by
whom or whence produced he knows not. And then when the repast is over
and the tables removed, for the knight to recline in the chair, picking
his teeth perhaps as usual, and a damsel, much lovelier than any of the
others, to enter unexpectedly by the chamber door, and herself by his
side, and begin to tell him what the castle is, and how she is held
enchanted there, and other things that amaze the knight and astonish
the readers who are perusing his history.



c50d.jpg (433K)

Full Size




“But I will not expatiate any further upon this, as it may be gathered
from it that whatever part of whatever history of a knight-errant one
reads, it will fill the reader, whoever he be, with delight and wonder;
and take my advice, sir, and, as I said before, read these books and
you will see how they will banish any melancholy you may feel and raise
your spirits should they be depressed. For myself I can say that since
I have been a knight-errant I have become valiant, polite, generous,
well-bred, magnanimous, courteous, dauntless, gentle, patient, and have
learned to bear hardships, imprisonments, and enchantments; and though
it be such a short time since I have seen myself shut up in a cage like
a madman, I hope by the might of my arm, if heaven aid me and fortune
thwart me not, to see myself king of some kingdom where I may be able
to show the gratitude and generosity that dwell in my heart; for by my
faith, señor, the poor man is incapacitated from showing the virtue of
generosity to anyone, though he may possess it in the highest degree;
and gratitude that consists of disposition only is a dead thing, just
as faith without works is dead. For this reason I should be glad were
fortune soon to offer me some opportunity of making myself an emperor,
so as to show my heart in doing good to my friends, particularly to
this poor Sancho Panza, my squire, who is the best fellow in the world;
and I would gladly give him a county I have promised him this ever so
long, only that I am afraid he has not the capacity to govern his
realm.”

Sancho partly heard these last words of his master, and said to him,
“Strive hard you, Señor Don Quixote, to give me that county so often
promised by you and so long looked for by me, for I promise you there
will be no want of capacity in me to govern it; and even if there is, I
have heard say there are men in the world who farm seigniories, paying
so much a year, and they themselves taking charge of the government,
while the lord, with his legs stretched out, enjoys the revenue they
pay him, without troubling himself about anything else. That’s what
I’ll do, and not stand haggling over trifles, but wash my hands at once
of the whole business, and enjoy my rents like a duke, and let things
go their own way.”

“That, brother Sancho,” said the canon, “only holds good as far as the
enjoyment of the revenue goes; but the lord of the seigniory must
attend to the administration of justice, and here capacity and sound
judgment come in, and above all a firm determination to find out the
truth; for if this be wanting in the beginning, the middle and the end
will always go wrong; and God as commonly aids the honest intentions of
the simple as he frustrates the evil designs of the crafty.”

“I don’t understand those philosophies,” returned Sancho Panza; “all I
know is I would I had the county as soon as I shall know how to govern
it; for I have as much soul as another, and as much body as anyone, and
I shall be as much king of my realm as any other of his; and being so I
should do as I liked, and doing as I liked I should please myself, and
pleasing myself I should be content, and when one is content he has
nothing more to desire, and when one has nothing more to desire there
is an end of it; so let the county come, and God be with you, and let
us see one another, as one blind man said to the other.”

“That is not bad philosophy thou art talking, Sancho,” said the canon;
“but for all that there is a good deal to be said on this matter of
counties.”

To which Don Quixote returned, “I know not what more there is to be
said; I only guide myself by the example set me by the great Amadis of
Gaul, when he made his squire count of the Insula Firme; and so,
without any scruples of conscience, I can make a count of Sancho Panza,
for he is one of the best squires that ever knight-errant had.”

The canon was astonished at the methodical nonsense (if nonsense be
capable of method) that Don Quixote uttered, at the way in which he had
described the adventure of the knight of the lake, at the impression
that the deliberate lies of the books he read had made upon him, and
lastly he marvelled at the simplicity of Sancho, who desired so eagerly
to obtain the county his master had promised him.

By this time the canon’s servants, who had gone to the inn to fetch the
sumpter mule, had returned, and making a carpet and the green grass of
the meadow serve as a table, they seated themselves in the shade of
some trees and made their repast there, that the carter might not be
deprived of the advantage of the spot, as has been already said. As
they were eating they suddenly heard a loud noise and the sound of a
bell that seemed to come from among some brambles and thick bushes that
were close by, and the same instant they observed a beautiful goat,
spotted all over black, white, and brown, spring out of the thicket
with a goatherd after it, calling to it and uttering the usual cries to
make it stop or turn back to the fold. The fugitive goat, scared and
frightened, ran towards the company as if seeking their protection and
then stood still, and the goatherd coming up seized it by the horns and
began to talk to it as if it were possessed of reason and
understanding: “Ah wanderer, wanderer, Spotty, Spotty; how have you
gone limping all this time? What wolves have frightened you, my
daughter? Won’t you tell me what is the matter, my beauty? But what
else can it be except that you are a she, and cannot keep quiet? A
plague on your humours and the humours of those you take after! Come
back, come back, my darling; and if you will not be so happy, at any
rate you will be safe in the fold or with your companions; for if you
who ought to keep and lead them, go wandering astray, what will become
of them?”

The goatherd’s talk amused all who heard it, but especially the canon,
who said to him, “As you live, brother, take it easy, and be not in
such a hurry to drive this goat back to the fold; for, being a female,
as you say, she will follow her natural instinct in spite of all you
can do to prevent it. Take this morsel and drink a sup, and that will
soothe your irritation, and in the meantime the goat will rest
herself,” and so saying, he handed him the loins of a cold rabbit on a
fork.

The goatherd took it with thanks, and drank and calmed himself, and
then said, “I should be sorry if your worships were to take me for a
simpleton for having spoken so seriously as I did to this animal; but
the truth is there is a certain mystery in the words I used. I am a
clown, but not so much of one but that I know how to behave to men and
to beasts.”

“That I can well believe,” said the curate, “for I know already by
experience that the woods breed men of learning, and shepherds’ huts
harbour philosophers.”

“At all events, señor,” returned the goatherd, “they shelter men of
experience; and that you may see the truth of this and grasp it, though
I may seem to put myself forward without being asked, I will, if it
will not tire you, gentlemen, and you will give me your attention for a
little, tell you a true story which will confirm this gentleman’s word
(and he pointed to the curate) as well as my own.”

To this Don Quixote replied, “Seeing that this affair has a certain
colour of chivalry about it, I for my part, brother, will hear you most
gladly, and so will all these gentlemen, from the high intelligence
they possess and their love of curious novelties that interest, charm,
and entertain the mind, as I feel quite sure your story will do. So
begin, friend, for we are all prepared to listen.”

“I draw my stakes,” said Sancho, “and will retreat with this pasty to
the brook there, where I mean to victual myself for three days; for I
have heard my lord, Don Quixote, say that a knight-errant’s squire
should eat until he can hold no more, whenever he has the chance,
because it often happens them to get by accident into a wood so thick
that they cannot find a way out of it for six days; and if the man is
not well filled or his alforjas well stored, there he may stay, as very
often he does, turned into a dried mummy.”

“Thou art in the right of it, Sancho,” said Don Quixote; “go where thou
wilt and eat all thou canst, for I have had enough, and only want to
give my mind its refreshment, as I shall by listening to this good
fellow’s story.”

“It is what we shall all do,” said the canon; and then begged the
goatherd to begin the promised tale.

The goatherd gave the goat which he held by the horns a couple of slaps
on the back, saying, “Lie down here beside me, Spotty, for we have time
enough to return to our fold.” The goat seemed to understand him, for
as her master seated himself, she stretched herself quietly beside him
and looked up in his face to show him she was all attention to what he
was going to say, and then in these words he began his story.



c50e.jpg (27K)



CHAPTER LI.
WHICH DEALS WITH WHAT THE GOATHERD TOLD THOSE WHO WERE CARRYING OFF DON
QUIXOTE




c51a.jpg (115K)

Full Size




Three leagues from this valley there is a village which, though small,
is one of the richest in all this neighbourhood, and in it there lived
a farmer, a very worthy man, and so much respected that, although to be
so is the natural consequence of being rich, he was even more respected
for his virtue than for the wealth he had acquired. But what made him
still more fortunate, as he said himself, was having a daughter of such
exceeding beauty, rare intelligence, gracefulness, and virtue, that
everyone who knew her and beheld her marvelled at the extraordinary
gifts with which heaven and nature had endowed her. As a child she was
beautiful, she continued to grow in beauty, and at the age of sixteen
she was most lovely. The fame of her beauty began to spread abroad
through all the villages around—but why do I say the villages around,
merely, when it spread to distant cities, and even made its way into
the halls of royalty and reached the ears of people of every class, who
came from all sides to see her as if to see something rare and curious,
or some wonder-working image?

Her father watched over her and she watched over herself; for there are
no locks, or guards, or bolts that can protect a young girl better than
her own modesty. The wealth of the father and the beauty of the
daughter led many neighbours as well as strangers to seek her for a
wife; but he, as one might well be who had the disposal of so rich a
jewel, was perplexed and unable to make up his mind to which of her
countless suitors he should entrust her. I was one among the many who
felt a desire so natural, and, as her father knew who I was, and I was
of the same town, of pure blood, in the bloom of life, and very rich in
possessions, I had great hopes of success. There was another of the
same place and qualifications who also sought her, and this made her
father’s choice hang in the balance, for he felt that on either of us
his daughter would be well bestowed; so to escape from this state of
perplexity he resolved to refer the matter to Leandra (for that is the
name of the rich damsel who has reduced me to misery), reflecting that
as we were both equal it would be best to leave it to his dear daughter
to choose according to her inclination—a course that is worthy of
imitation by all fathers who wish to settle their children in life. I
do not mean that they ought to leave them to make a choice of what is
contemptible and bad, but that they should place before them what is
good and then allow them to make a good choice as they please. I do not
know which Leandra chose; I only know her father put us both off with
the tender age of his daughter and vague words that neither bound him
nor dismissed us. My rival is called Anselmo and I myself Eugenio—that
you may know the names of the personages that figure in this tragedy,
the end of which is still in suspense, though it is plain to see it
must be disastrous.

About this time there arrived in our town one Vicente de la Roca, the
son of a poor peasant of the same town, the said Vicente having
returned from service as a soldier in Italy and divers other parts. A
captain who chanced to pass that way with his company had carried him
off from our village when he was a boy of about twelve years, and now
twelve years later the young man came back in a soldier’s uniform,
arrayed in a thousand colours, and all over glass trinkets and fine
steel chains. To-day he would appear in one gay dress, to-morrow in
another; but all flimsy and gaudy, of little substance and less worth.
The peasant folk, who are naturally malicious, and when they have
nothing to do can be malice itself, remarked all this, and took note of
his finery and jewellery, piece by piece, and discovered that he had
three suits of different colours, with garters and stockings to match;
but he made so many arrangements and combinations out of them, that if
they had not counted them, anyone would have sworn that he had made a
display of more than ten suits of clothes and twenty plumes. Do not
look upon all this that I am telling you about the clothes as uncalled
for or spun out, for they have a great deal to do with the story. He
used to seat himself on a bench under the great poplar in our plaza,
and there he would keep us all hanging open-mouthed on the stories he
told us of his exploits. There was no country on the face of the globe
he had not seen, nor battle he had not been engaged in; he had killed
more Moors than there are in Morocco and Tunis, and fought more single
combats, according to his own account, than Garcilaso, Diego García de
Paredes and a thousand others he named, and out of all he had come
victorious without losing a drop of blood. On the other hand he showed
marks of wounds, which, though they could not be made out, he said were
gunshot wounds received in divers encounters and actions. Lastly, with
monstrous impudence he used to say “you” to his equals and even those
who knew what he was, and declare that his arm was his father and his
deeds his pedigree, and that being a soldier he was as good as the king
himself. And to add to these swaggering ways he was a trifle of a
musician, and played the guitar with such a flourish that some said he
made it speak; nor did his accomplishments end here, for he was
something of a poet too, and on every trifle that happened in the town
he made a ballad a league long.



c51b.jpg (372K)

Full Size




This soldier, then, that I have described, this Vicente de la Roca,
this bravo, gallant, musician, poet, was often seen and watched by
Leandra from a window of her house which looked out on the plaza. The
glitter of his showy attire took her fancy, his ballads bewitched her
(for he gave away twenty copies of every one he made), the tales of his
exploits which he told about himself came to her ears; and in short, as
the devil no doubt had arranged it, she fell in love with him before
the presumption of making love to her had suggested itself to him; and
as in love-affairs none are more easily brought to an issue than those
which have the inclination of the lady for an ally, Leandra and Vicente
came to an understanding without any difficulty; and before any of her
numerous suitors had any suspicion of her design, she had already
carried it into effect, having left the house of her dearly beloved
father (for mother she had none), and disappeared from the village with
the soldier, who came more triumphantly out of this enterprise than out
of any of the large number he laid claim to. All the village and all
who heard of it were amazed at the affair; I was aghast, Anselmo
thunderstruck, her father full of grief, her relations indignant, the
authorities all in a ferment, the officers of the Brotherhood in arms.
They scoured the roads, they searched the woods and all quarters, and
at the end of three days they found the flighty Leandra in a mountain
cave, stript to her shift, and robbed of all the money and precious
jewels she had carried away from home with her.



c51c.jpg (275K)

Full Size




They brought her back to her unhappy father, and questioned her as to
her misfortune, and she confessed without pressure that Vicente de la
Roca had deceived her, and under promise of marrying her had induced
her to leave her father’s house, as he meant to take her to the richest
and most delightful city in the whole world, which was Naples; and that
she, ill-advised and deluded, had believed him, and robbed her father,
and handed over all to him the night she disappeared; and that he had
carried her away to a rugged mountain and shut her up in the cave where
they had found her. She said, moreover, that the soldier, without
robbing her of her honour, had taken from her everything she had, and
made off, leaving her in the cave, a thing that still further surprised
everybody. It was not easy for us to credit the young man’s continence,
but she asserted it with such earnestness that it helped to console her
distressed father, who thought nothing of what had been taken since the
jewel that once lost can never be recovered had been left to his
daughter. The same day that Leandra made her appearance her father
removed her from our sight and took her away to shut her up in a
convent in a town near this, in the hope that time may wear away some
of the disgrace she has incurred. Leandra’s youth furnished an excuse
for her fault, at least with those to whom it was of no consequence
whether she was good or bad; but those who knew her shrewdness and
intelligence did not attribute her misdemeanour to ignorance but to
wantonness and the natural disposition of women, which is for the most
part flighty and ill-regulated.

Leandra withdrawn from sight, Anselmo’s eyes grew blind, or at any rate
found nothing to look at that gave them any pleasure, and mine were in
darkness without a ray of light to direct them to anything enjoyable
while Leandra was away. Our melancholy grew greater, our patience grew
less; we cursed the soldier’s finery and railed at the carelessness of
Leandra’s father. At last Anselmo and I agreed to leave the village and
come to this valley; and, he feeding a great flock of sheep of his own,
and I a large herd of goats of mine, we pass our life among the trees,
giving vent to our sorrows, together singing the fair Leandra’s
praises, or upbraiding her, or else sighing alone, and to heaven
pouring forth our complaints in solitude. Following our example, many
more of Leandra’s lovers have come to these rude mountains and adopted
our mode of life, and they are so numerous that one would fancy the
place had been turned into the pastoral Arcadia, so full is it of
shepherds and sheep-folds; nor is there a spot in it where the name of
the fair Leandra is not heard. Here one curses her and calls her
capricious, fickle, and immodest, there another condemns her as frail
and frivolous; this pardons and absolves her, that spurns and reviles
her; one extols her beauty, another assails her character, and in short
all abuse her, and all adore her, and to such a pitch has this general
infatuation gone that there are some who complain of her scorn without
ever having exchanged a word with her, and even some that bewail and
mourn the raging fever of jealousy, for which she never gave anyone
cause, for, as I have already said, her misconduct was known before her
passion. There is no nook among the rocks, no brookside, no shade
beneath the trees that is not haunted by some shepherd telling his woes
to the breezes; wherever there is an echo it repeats the name of
Leandra; the mountains ring with “Leandra,” “Leandra” murmur the
brooks, and Leandra keeps us all bewildered and bewitched, hoping
without hope and fearing without knowing what we fear. Of all this
silly set the one that shows the least and also the most sense is my
rival Anselmo, for having so many other things to complain of, he only
complains of separation, and to the accompaniment of a rebeck, which he
plays admirably, he sings his complaints in verses that show his
ingenuity. I follow another, easier, and to my mind wiser course, and
that is to rail at the frivolity of women, at their inconstancy, their
double dealing, their broken promises, their unkept pledges, and in
short the want of reflection they show in fixing their affections and
inclinations. This, sirs, was the reason of words and expressions I
made use of to this goat when I came up just now; for as she is a
female I have a contempt for her, though she is the best in all my
fold. This is the story I promised to tell you, and if I have been
tedious in telling it, I will not be slow to serve you; my hut is close
by, and I have fresh milk and dainty cheese there, as well as a variety
of toothsome fruit, no less pleasing to the eye than to the palate.



c51e.jpg (14K)



CHAPTER LII.
OF THE QUARREL THAT DON QUIXOTE HAD WITH THE GOATHERD, TOGETHER WITH
THE RARE ADVENTURE OF THE PENITENTS, WHICH WITH AN EXPENDITURE OF SWEAT
HE BROUGHT TO A HAPPY CONCLUSION




c52a.jpg (40K)

Full Size




The goatherd’s tale gave great satisfaction to all the hearers, and the
canon especially enjoyed it, for he had remarked with particular
attention the manner in which it had been told, which was as unlike the
manner of a clownish goatherd as it was like that of a polished city
wit; and he observed that the curate had been quite right in saying
that the woods bred men of learning. They all offered their services to
Eugenio but he who showed himself most liberal in this way was Don
Quixote, who said to him, “Most assuredly, brother goatherd, if I found
myself in a position to attempt any adventure, I would, this very
instant, set out on your behalf, and would rescue Leandra from that
convent (where no doubt she is kept against her will), in spite of the
abbess and all who might try to prevent me, and would place her in your
hands to deal with her according to your will and pleasure, observing,
however, the laws of chivalry which lay down that no violence of any
kind is to be offered to any damsel. But I trust in God our Lord that
the might of one malignant enchanter may not prove so great but that
the power of another better disposed may prove superior to it, and then
I promise you my support and assistance, as I am bound to do by my
profession, which is none other than to give aid to the weak and
needy.”

The goatherd eyed him, and noticing Don Quixote’s sorry appearance and
looks, he was filled with wonder, and asked the barber, who was next
him, “Señor, who is this man who makes such a figure and talks in such
a strain?”

“Who should it be,” said the barber, “but the famous Don Quixote of La
Mancha, the undoer of injustice, the righter of wrongs, the protector
of damsels, the terror of giants, and the winner of battles?”

“That,” said the goatherd, “sounds like what one reads in the books of
the knights-errant, who did all that you say this man does; though it
is my belief that either you are joking, or else this gentleman has
empty lodgings in his head.”

“You are a great scoundrel,” said Don Quixote, “and it is you who are
empty and a fool. I am fuller than ever was the whoreson bitch that
bore you;” and passing from words to deeds, he caught up a loaf that
was near him and sent it full in the goatherd’s face, with such force
that he flattened his nose; but the goatherd, who did not understand
jokes, and found himself roughly handled in such good earnest, paying
no respect to carpet, tablecloth, or diners, sprang upon Don Quixote,
and seizing him by the throat with both hands would no doubt have
throttled him, had not Sancho Panza that instant come to the rescue,
and grasping him by the shoulders flung him down on the table, smashing
plates, breaking glasses, and upsetting and scattering everything on
it. Don Quixote, finding himself free, strove to get on top of the
goatherd, who, with his face covered with blood, and soundly kicked by
Sancho, was on all fours feeling about for one of the table-knives to
take a bloody revenge with. The canon and the curate, however,
prevented him, but the barber so contrived it that he got Don Quixote
under him, and rained down upon him such a shower of fisticuffs that
the poor knight’s face streamed with blood as freely as his own. The
canon and the curate were bursting with laughter, the officers were
capering with delight, and both the one and the other hissed them on as
they do dogs that are worrying one another in a fight. Sancho alone was
frantic, for he could not free himself from the grasp of one of the
canon’s servants, who kept him from going to his master’s assistance.



c52b.jpg (348K)

Full Size




At last, while they were all, with the exception of the two bruisers
who were mauling each other, in high glee and enjoyment, they heard a
trumpet sound a note so doleful that it made them all look in the
direction whence the sound seemed to come. But the one that was most
excited by hearing it was Don Quixote, who though sorely against his
will he was under the goatherd, and something more than pretty well
pummelled, said to him, “Brother devil (for it is impossible but that
thou must be one since thou hast had might and strength enough to
overcome mine), I ask thee to agree to a truce for but one hour for the
solemn note of yonder trumpet that falls on our ears seems to me to
summon me to some new adventure.” The goatherd, who was by this time
tired of pummelling and being pummelled, released him at once, and Don
Quixote rising to his feet and turning his eyes to the quarter where
the sound had been heard, suddenly saw coming down the slope of a hill
several men clad in white like penitents.

The fact was that the clouds had that year withheld their moisture from
the earth, and in all the villages of the district they were organising
processions, rogations, and penances, imploring God to open the hands
of his mercy and send the rain; and to this end the people of a village
that was hard by were going in procession to a holy hermitage there was
on one side of that valley. Don Quixote when he saw the strange garb of
the penitents, without reflecting how often he had seen it before, took
it into his head that this was a case of adventure, and that it fell to
him alone as a knight-errant to engage in it; and he was all the more
confirmed in this notion, by the idea that an image draped in black
they had with them was some illustrious lady that these villains and
discourteous thieves were carrying off by force. As soon as this
occurred to him he ran with all speed to Rocinante who was grazing at
large, and taking the bridle and the buckler from the saddle-bow, he
had him bridled in an instant, and calling to Sancho for his sword he
mounted Rocinante, braced his buckler on his arm, and in a loud voice
exclaimed to those who stood by, “Now, noble company, ye shall see how
important it is that there should be knights in the world professing
the order of knight-errantry; now, I say, ye shall see, by the
deliverance of that worthy lady who is borne captive there, whether
knights-errant deserve to be held in estimation,” and so saying he
brought his legs to bear on Rocinante—for he had no spurs—and at a full
canter (for in all this veracious history we never read of Rocinante
fairly galloping) set off to encounter the penitents, though the
curate, the canon, and the barber ran to prevent him. But it was out of
their power, nor did he even stop for the shouts of Sancho calling
after him, “Where are you going, Señor Don Quixote? What devils have
possessed you to set you on against our Catholic faith? Plague take me!
mind, that is a procession of penitents, and the lady they are carrying
on that stand there is the blessed image of the immaculate Virgin. Take
care what you are doing, señor, for this time it may be safely said you
don’t know what you are about.” Sancho laboured in vain, for his master
was so bent on coming to quarters with these sheeted figures and
releasing the lady in black that he did not hear a word; and even had
he heard, he would not have turned back if the king had ordered him. He
came up with the procession and reined in Rocinante, who was already
anxious enough to slacken speed a little, and in a hoarse, excited
voice he exclaimed, “You who hide your faces, perhaps because you are
not good subjects, pay attention and listen to what I am about to say
to you.” The first to halt were those who were carrying the image, and
one of the four ecclesiastics who were chanting the Litany, struck by
the strange figure of Don Quixote, the leanness of Rocinante, and the
other ludicrous peculiarities he observed, said in reply to him,
“Brother, if you have anything to say to us say it quickly, for these
brethren are whipping themselves, and we cannot stop, nor is it
reasonable we should stop to hear anything, unless indeed it is short
enough to be said in two words.”

“I will say it in one,” replied Don Quixote, “and it is this; that at
once, this very instant, ye release that fair lady whose tears and sad
aspect show plainly that ye are carrying her off against her will, and
that ye have committed some scandalous outrage against her; and I, who
was born into the world to redress all such like wrongs, will not
permit you to advance another step until you have restored to her the
liberty she pines for and deserves.”

From these words all the hearers concluded that he must be a madman,
and began to laugh heartily, and their laughter acted like gunpowder on
Don Quixote’s fury, for drawing his sword without another word he made
a rush at the stand. One of those who supported it, leaving the burden
to his comrades, advanced to meet him, flourishing a forked stick that
he had for propping up the stand when resting, and with this he caught
a mighty cut Don Quixote made at him that severed it in two; but with
the portion that remained in his hand he dealt such a thwack on the
shoulder of Don Quixote’s sword arm (which the buckler could not
protect against the clownish assault) that poor Don Quixote came to the
ground in a sad plight.

Sancho Panza, who was coming on close behind puffing and blowing,
seeing him fall, cried out to his assailant not to strike him again,
for he was a poor enchanted knight, who had never harmed anyone all the
days of his life; but what checked the clown was, not Sancho’s
shouting, but seeing that Don Quixote did not stir hand or foot; and
so, fancying he had killed him, he hastily hitched up his tunic under
his girdle and took to his heels across the country like a deer.

By this time all Don Quixote’s companions had come up to where he lay;
but the processionists seeing them come running, and with them the
officers of the Brotherhood with their crossbows, apprehended mischief,
and clustering round the image, raised their hoods, and grasped their
scourges, as the priests did their tapers, and awaited the attack,
resolved to defend themselves and even to take the offensive against
their assailants if they could. Fortune, however, arranged the matter
better than they expected, for all Sancho did was to fling himself on
his master’s body, raising over him the most doleful and laughable
lamentation that ever was heard, for he believed he was dead. The
curate was known to another curate who walked in the procession, and
their recognition of one another set at rest the apprehensions of both
parties; the first then told the other in two words who Don Quixote
was, and he and the whole troop of penitents went to see if the poor
gentleman was dead, and heard Sancho Panza saying, with tears in his
eyes, “Oh flower of chivalry, that with one blow of a stick hast ended
the course of thy well-spent life! Oh pride of thy race, honour and
glory of all La Mancha, nay, of all the world, that for want of thee
will be full of evil-doers, no longer in fear of punishment for their
misdeeds! Oh thou, generous above all the Alexanders, since for only
eight months of service thou hast given me the best island the sea
girds or surrounds! Humble with the proud, haughty with the humble,
encounterer of dangers, endurer of outrages, enamoured without reason,
imitator of the good, scourge of the wicked, enemy of the mean, in
short, knight-errant, which is all that can be said!”



c52c.jpg (325K)

Full Size




At the cries and moans of Sancho, Don Quixote came to himself, and the
first word he said was, “He who lives separated from you, sweetest
Dulcinea, has greater miseries to endure than these. Aid me, friend
Sancho, to mount the enchanted cart, for I am not in a condition to
press the saddle of Rocinante, as this shoulder is all knocked to
pieces.”

“That I will do with all my heart, señor,” said Sancho; “and let us
return to our village with these gentlemen, who seek your good, and
there we will prepare for making another sally, which may turn out more
profitable and creditable to us.”

“Thou art right, Sancho,” returned Don Quixote; “It will be wise to let
the malign influence of the stars which now prevails pass off.”

The canon, the curate, and the barber told him he would act very wisely
in doing as he said; and so, highly amused at Sancho Panza’s
simplicities, they placed Don Quixote in the cart as before. The
procession once more formed itself in order and proceeded on its road;
the goatherd took his leave of the party; the officers of the
Brotherhood declined to go any farther, and the curate paid them what
was due to them; the canon begged the curate to let him know how Don
Quixote did, whether he was cured of his madness or still suffered from
it, and then begged leave to continue his journey; in short, they all
separated and went their ways, leaving to themselves the curate and the
barber, Don Quixote, Sancho Panza, and the good Rocinante, who regarded
everything with as great resignation as his master. The carter yoked
his oxen and made Don Quixote comfortable on a truss of hay, and at his
usual deliberate pace took the road the curate directed, and at the end
of six days they reached Don Quixote’s village, and entered it about
the middle of the day, which it so happened was a Sunday, and the
people were all in the plaza, through which Don Quixote’s cart passed.
They all flocked to see what was in the cart, and when they recognised
their townsman they were filled with amazement, and a boy ran off to
bring the news to his housekeeper and his niece that their master and
uncle had come back all lean and yellow and stretched on a truss of hay
on an ox-cart. It was piteous to hear the cries the two good ladies
raised, how they beat their breasts and poured out fresh maledictions
on those accursed books of chivalry; all which was renewed when they
saw Don Quixote coming in at the gate.

At the news of Don Quixote’s arrival Sancho Panza’s wife came running,
for she by this time knew that her husband had gone away with him as
his squire, and on seeing Sancho, the first thing she asked him was if
the ass was well. Sancho replied that he was, better than his master
was.

“Thanks be to God,” said she, “for being so good to me; but now tell
me, my friend, what have you made by your squirings? What gown have you
brought me back? What shoes for your children?”

“I bring nothing of that sort, wife,” said Sancho; “though I bring
other things of more consequence and value.”

“I am very glad of that,” returned his wife; “show me these things of
more value and consequence, my friend; for I want to see them to cheer
my heart that has been so sad and heavy all these ages that you have
been away.”

“I will show them to you at home, wife,” said Sancho; “be content for
the present; for if it please God that we should again go on our
travels in search of adventures, you will soon see me a count, or
governor of an island, and that not one of those everyday ones, but the
best that is to be had.”

“Heaven grant it, husband,” said she, “for indeed we have need of it.
But tell me, what’s this about islands, for I don’t understand it?”

“Honey is not for the mouth of the ass,” returned Sancho; “all in good
time thou shalt see, wife—nay, thou wilt be surprised to hear thyself
called ‘your ladyship’ by all thy vassals.”

“What are you talking about, Sancho, with your ladyships, islands, and
vassals?” returned Teresa Panza—for so Sancho’s wife was called, though
they were not relations, for in La Mancha it is customary for wives to
take their husbands’ surnames.

“Don’t be in such a hurry to know all this, Teresa,” said Sancho; “it
is enough that I am telling you the truth, so shut your mouth. But I
may tell you this much by the way, that there is nothing in the world
more delightful than to be a person of consideration, squire to a
knight-errant, and a seeker of adventures. To be sure most of those one
finds do not end as pleasantly as one could wish, for out of a hundred,
ninety-nine will turn out cross and contrary. I know it by experience,
for out of some I came blanketed, and out of others belaboured. Still,
for all that, it is a fine thing to be on the look-out for what may
happen, crossing mountains, searching woods, climbing rocks, visiting
castles, putting up at inns, all at free quarters, and devil take the
maravedi to pay.”

While this conversation passed between Sancho Panza and his wife, Don
Quixote’s housekeeper and niece took him in and undressed him and laid
him in his old bed. He eyed them askance, and could not make out where
he was. The curate charged his niece to be very careful to make her
uncle comfortable and to keep a watch over him lest he should make his
escape from them again, telling her what they had been obliged to do to
bring him home. On this the pair once more lifted up their voices and
renewed their maledictions upon the books of chivalry, and implored
heaven to plunge the authors of such lies and nonsense into the midst
of the bottomless pit. They were, in short, kept in anxiety and dread
lest their uncle and master should give them the slip the moment he
found himself somewhat better, and as they feared so it fell out.

But the author of this history, though he has devoted research and
industry to the discovery of the deeds achieved by Don Quixote in his
third sally, has been unable to obtain any information respecting them,
at any rate derived from authentic documents; tradition has merely
preserved in the memory of La Mancha the fact that Don Quixote, the
third time he sallied forth from his home, betook himself to Saragossa,
where he was present at some famous jousts which came off in that city,
and that he had adventures there worthy of his valour and high
intelligence. Of his end and death he could learn no particulars, nor
would he have ascertained it or known of it, if good fortune had not
produced an old physician for him who had in his possession a leaden
box, which, according to his account, had been discovered among the
crumbling foundations of an ancient hermitage that was being rebuilt;
in which box were found certain parchment manuscripts in Gothic
character, but in Castilian verse, containing many of his achievements,
and setting forth the beauty of Dulcinea, the form of Rocinante, the
fidelity of Sancho Panza, and the burial of Don Quixote himself,
together with sundry epitaphs and eulogies on his life and character;
but all that could be read and deciphered were those which the
trustworthy author of this new and unparalleled history here presents.
And the said author asks of those that shall read it nothing in return
for the vast toil which it has cost him in examining and searching the
Manchegan archives in order to bring it to light, save that they give
him the same credit that people of sense give to the books of chivalry
that pervade the world and are so popular; for with this he will
consider himself amply paid and fully satisfied, and will be encouraged
to seek out and produce other histories, if not as truthful, at least
equal in invention and not less entertaining. The first words written
on the parchment found in the leaden box were these:

THE ACADEMICIANS OF ARGAMASILLA,
A VILLAGE OF LA MANCHA,
ON THE LIFE AND DEATH OF DON QUIXOTE OF LA MANCHA,
HOC SCRIPSERUNT
MONICONGO, ACADEMICIAN OF ARGAMASILLA,
ON THE TOMB OF DON QUIXOTE


EPITAPH

The scatterbrain that gave La Mancha more
Rich spoils than Jason’s; who a point so keen
Had to his wit, and happier far had been
If his wit’s weathercock a blunter bore;
The arm renowned far as Gaeta’s shore,
Cathay, and all the lands that lie between;
The muse discreet and terrible in mien
As ever wrote on brass in days of yore;
He who surpassed the Amadises all,
And who as naught the Galaors accounted,
Supported by his love and gallantry:
Who made the Belianises sing small,
And sought renown on Rocinante mounted;
Here, underneath this cold stone, doth he lie.


PANIAGUADO, ACADEMICIAN OF ARGAMASILLA,
IN LAUDEM DULCINEAE DEL TOBOSO


SONNET

She, whose full features may be here descried,
High-bosomed, with a bearing of disdain,
Is Dulcinea, she for whom in vain
The great Don Quixote of La Mancha sighed.
For her, Toboso’s queen, from side to side
He traversed the grim sierra, the champaign
Of Aranjuez, and Montiel’s famous plain:
On Rocinante oft a weary ride.
Malignant planets, cruel destiny,
Pursued them both, the fair Manchegan dame,
And the unconquered star of chivalry.
Nor youth nor beauty saved her from the claim
Of death; he paid love’s bitter penalty,
And left the marble to preserve his name.


CAPRICHOSO, A MOST ACUTE ACADEMICIAN OF ARGAMASILLA,
IN PRAISE OF ROCINANTE, STEED OF DON QUIXOTE OF LA MANCHA


SONNET

On that proud throne of diamantine sheen,
Which the blood-reeking feet of Mars degrade,
The mad Manchegan’s banner now hath been
By him in all its bravery displayed.
There hath he hung his arms and trenchant blade
Wherewith, achieving deeds till now unseen,
He slays, lays low, cleaves, hews; but art hath made
A novel style for our new paladin.
If Amadis be the proud boast of Gaul,
If by his progeny the fame of Greece
Through all the regions of the earth be spread,
Great Quixote crowned in grim Bellona’s hall
To-day exalts La Mancha over these,
And above Greece or Gaul she holds her head.
Nor ends his glory here, for his good steed
Doth Brillador and Bayard far exceed;
As mettled steeds compared with Rocinante,
The reputation they have won is scanty.


BURLADOR, ACADEMICIAN OF ARGAMASILLA,
ON SANCHO PANZA


SONNET

The worthy Sancho Panza here you see;
A great soul once was in that body small,
Nor was there squire upon this earthly ball
So plain and simple, or of guile so free.
Within an ace of being Count was he,
And would have been but for the spite and gall
Of this vile age, mean and illiberal,
That cannot even let a donkey be.
For mounted on an ass (excuse the word),
By Rocinante’s side this gentle squire
Was wont his wandering master to attend.
Delusive hopes that lure the common herd
With promises of ease, the heart’s desire,
In shadows, dreams, and smoke ye always end.


CACHIDIABLO, ACADEMICIAN OF ARGAMASILLA,
ON THE TOMB OF DON QUIXOTE


EPITAPH

The knight lies here below,
Ill-errant and bruised sore,
Whom Rocinante bore
In his wanderings to and fro.
By the side of the knight is laid
Stolid man Sancho too,
Than whom a squire more true
Was not in the esquire trade.


TIQUITOC, ACADEMICIAN OF ARGAMASILLA,
ON THE TOMB OF DULCINEA DEL TOBOSO


EPITAPH

Here Dulcinea lies.
Plump was she and robust:
Now she is ashes and dust:
The end of all flesh that dies.
A lady of high degree,
With the port of a lofty dame,
And the great Don Quixote’s flame,
And the pride of her village was she.


These were all the verses that could be deciphered; the rest, the
writing being worm-eaten, were handed over to one of the Academicians
to make out their meaning conjecturally. We have been informed that at
the cost of many sleepless nights and much toil he has succeeded, and
that he means to publish them in hopes of Don Quixote’s third sally.

_“Forse altro cantera con miglior plettro.”_




c52e.jpg (54K)



Volume II

p003.jpg (307K)

Full Size



DEDICATION OF VOLUME II.




TO THE COUNT OF LEMOS:



These days past, when sending Your Excellency my plays, that had
appeared in print before being shown on the stage, I said, if I
remember well, that Don Quixote was putting on his spurs to go and
render homage to Your Excellency. Now I say that “with his spurs, he is
on his way.” Should he reach destination methinks I shall have rendered
some service to Your Excellency, as from many parts I am urged to send
him off, so as to dispel the loathing and disgust caused by another Don
Quixote who, under the name of Second Part, has run masquerading
through the whole world. And he who has shown the greatest longing for
him has been the great Emperor of China, who wrote me a letter in
Chinese a month ago and sent it by a special courier. He asked me, or
to be truthful, he begged me to send him Don Quixote, for he intended
to found a college where the Spanish tongue would be taught, and it was
his wish that the book to be read should be the History of Don Quixote.
He also added that I should go and be the rector of this college. I
asked the bearer if His Majesty had afforded a sum in aid of my travel
expenses. He answered, “No, not even in thought.”

“Then, brother,” I replied, “you can return to your China, post haste
or at whatever haste you are bound to go, as I am not fit for so long a
travel and, besides being ill, I am very much without money, while
Emperor for Emperor and Monarch for Monarch, I have at Naples the great
Count of Lemos, who, without so many petty titles of colleges and
rectorships, sustains me, protects me and does me more favour than I
can wish for.”

Thus I gave him his leave and I beg mine from you, offering Your
Excellency the “Trabajos de Persiles y Sigismunda,” a book I shall
finish within four months, Deo volente, and which will be either the
worst or the best that has been composed in our language, I mean of
those intended for entertainment; at which I repent of having called it
the worst, for, in the opinion of friends, it is bound to attain the
summit of possible quality. May Your Excellency return in such health
that is wished you; Persiles will be ready to kiss your hand and I your
feet, being as I am, Your Excellency’s most humble servant.

From Madrid, this last day of October of the year one thousand six
hundred and fifteen.

At the service of Your Excellency:

MIGUEL DE CERVANTES SAAVEDRA



THE AUTHOR’S PREFACE



part2.jpg (130K)

Full Size



God bless me, gentle (or it may be plebeian) reader, how eagerly must
thou be looking forward to this preface, expecting to find there
retaliation, scolding, and abuse against the author of the second Don
Quixote—I mean him who was, they say, begotten at Tordesillas and born
at Tarragona! Well then, the truth is, I am not going to give thee that
satisfaction; for, though injuries stir up anger in humbler breasts, in
mine the rule must admit of an exception. Thou wouldst have me call him
ass, fool, and malapert, but I have no such intention; let his offence
be his punishment, with his bread let him eat it, and there’s an end of
it. What I cannot help taking amiss is that he charges me with being
old and one-handed, as if it had been in my power to keep time from
passing over me, or as if the loss of my hand had been brought about in
some tavern, and not on the grandest occasion the past or present has
seen, or the future can hope to see. If my wounds have no beauty to the
beholder’s eye, they are, at least, honourable in the estimation of
those who know where they were received; for the soldier shows to
greater advantage dead in battle than alive in flight; and so strongly
is this my feeling, that if now it were proposed to perform an
impossibility for me, I would rather have had my share in that mighty
action, than be free from my wounds this minute without having been
present at it. Those the soldier shows on his face and breast are stars
that direct others to the heaven of honour and ambition of merited
praise; and moreover it is to be observed that it is not with grey
hairs that one writes, but with the understanding, and that commonly
improves with years. I take it amiss, too, that he calls me envious,
and explains to me, as if I were ignorant, what envy is; for really and
truly, of the two kinds there are, I only know that which is holy,
noble, and high-minded; and if that be so, as it is, I am not likely to
attack a priest, above all if, in addition, he holds the rank of
familiar of the Holy Office. And if he said what he did on account of
him on whose behalf it seems he spoke, he is entirely mistaken; for I
worship the genius of that person, and admire his works and his
unceasing and strenuous industry. After all, I am grateful to this
gentleman, the author, for saying that my novels are more satirical
than exemplary, but that they are good; for they could not be that
unless there was a little of everything in them.

I suspect thou wilt say that I am taking a very humble line, and
keeping myself too much within the bounds of my moderation, from a
feeling that additional suffering should not be inflicted upon a
sufferer, and that what this gentleman has to endure must doubtless be
very great, as he does not dare to come out into the open field and
broad daylight, but hides his name and disguises his country as if he
had been guilty of some lese majesty. If perchance thou shouldst come
to know him, tell him from me that I do not hold myself aggrieved; for
I know well what the temptations of the devil are, and that one of the
greatest is putting it into a man’s head that he can write and print a
book by which he will get as much fame as money, and as much money as
fame; and to prove it I will beg of you, in your own sprightly,
pleasant way, to tell him this story.

There was a madman in Seville who took to one of the drollest
absurdities and vagaries that ever madman in the world gave way to. It
was this: he made a tube of reed sharp at one end, and catching a dog
in the street, or wherever it might be, he with his foot held one of
its legs fast, and with his hand lifted up the other, and as best he
could fixed the tube where, by blowing, he made the dog as round as a
ball; then holding it in this position, he gave it a couple of slaps on
the belly, and let it go, saying to the bystanders (and there were
always plenty of them): “Do your worships think, now, that it is an
easy thing to blow up a dog?”—Does your worship think now, that it is
an easy thing to write a book?

And if this story does not suit him, you may, dear reader, tell him
this one, which is likewise of a madman and a dog.

In Cordova there was another madman, whose way it was to carry a piece
of marble slab or a stone, not of the lightest, on his head, and when
he came upon any unwary dog he used to draw close to him and let the
weight fall right on top of him; on which the dog in a rage, barking
and howling, would run three streets without stopping. It so happened,
however, that one of the dogs he discharged his load upon was a
cap-maker’s dog, of which his master was very fond. The stone came down
hitting it on the head, the dog raised a yell at the blow, the master
saw the affair and was wroth, and snatching up a measuring-yard rushed
out at the madman and did not leave a sound bone in his body, and at
every stroke he gave him he said, “You dog, you thief! my lurcher!
Don’t you see, you brute, that my dog is a lurcher?” and so, repeating
the word “lurcher” again and again, he sent the madman away beaten to a
jelly. The madman took the lesson to heart, and vanished, and for more
than a month never once showed himself in public; but after that he
came out again with his old trick and a heavier load than ever. He came
up to where there was a dog, and examining it very carefully without
venturing to let the stone fall, he said: “This is a lurcher; ware!” In
short, all the dogs he came across, be they mastiffs or terriers, he
said were lurchers; and he discharged no more stones. Maybe it will be
the same with this historian; that he will not venture another time to
discharge the weight of his wit in books, which, being bad, are harder
than stones. Tell him, too, that I do not care a farthing for the
threat he holds out to me of depriving me of my profit by means of his
book; for, to borrow from the famous interlude of “The Perendenga,” I
say in answer to him, “Long life to my lord the Veintiquatro, and
Christ be with us all.” Long life to the great Conde de Lemos, whose
Christian charity and well-known generosity support me against all the
strokes of my curst fortune; and long life to the supreme benevolence
of His Eminence of Toledo, Don Bernardo de Sandoval y Rojas; and what
matter if there be no printing-presses in the world, or if they print
more books against me than there are letters in the verses of Mingo
Revulgo! These two princes, unsought by any adulation or flattery of
mine, of their own goodness alone, have taken it upon them to show me
kindness and protect me, and in this I consider myself happier and
richer than if Fortune had raised me to her greatest height in the
ordinary way. The poor man may retain honour, but not the vicious;
poverty may cast a cloud over nobility, but cannot hide it altogether;
and as virtue of itself sheds a certain light, even though it be
through the straits and chinks of penury, it wins the esteem of lofty
and noble spirits, and in consequence their protection. Thou needst say
no more to him, nor will I say anything more to thee, save to tell thee
to bear in mind that this Second Part of “Don Quixote” which I offer
thee is cut by the same craftsman and from the same cloth as the First,
and that in it I present thee Don Quixote continued, and at length dead
and buried, so that no one may dare to bring forward any further
evidence against him, for that already produced is sufficient; and
suffice it, too, that some reputable person should have given an
account of all these shrewd lunacies of his without going into the
matter again; for abundance, even of good things, prevents them from
being valued; and scarcity, even in the case of what is bad, confers a
certain value. I was forgetting to tell thee that thou mayest expect
the “Persiles,” which I am now finishing, and also the Second Part of
“Galatea.”



part2e.jpg (37K)



CHAPTER I.
OF THE INTERVIEW THE CURATE AND THE BARBER HAD WITH DON QUIXOTE ABOUT
HIS MALADY




p01a.jpg (156K)

Full Size



Cide Hamete Benengeli, in the Second Part of this history, and third
sally of Don Quixote, says that the curate and the barber remained
nearly a month without seeing him, lest they should recall or bring
back to his recollection what had taken place. They did not, however,
omit to visit his niece and housekeeper, and charge them to be careful
to treat him with attention, and give him comforting things to eat, and
such as were good for the heart and the brain, whence, it was plain to
see, all his misfortune proceeded. The niece and housekeeper replied
that they did so, and meant to do so with all possible care and
assiduity, for they could perceive that their master was now and then
beginning to show signs of being in his right mind. This gave great
satisfaction to the curate and the barber, for they concluded they had
taken the right course in carrying him off enchanted on the ox-cart, as
has been described in the First Part of this great as well as accurate
history, in the last chapter thereof. So they resolved to pay him a
visit and test the improvement in his condition, although they thought
it almost impossible that there could be any; and they agreed not to
touch upon any point connected with knight-errantry so as not to run
the risk of reopening wounds which were still so tender.

They came to see him consequently, and found him sitting up in bed in a
green baize waistcoat and a red Toledo cap, and so withered and dried
up that he looked as if he had been turned into a mummy. They were very
cordially received by him; they asked him after his health, and he
talked to them about himself very naturally and in very well-chosen
language. In the course of their conversation they fell to discussing
what they call State-craft and systems of government, correcting this
abuse and condemning that, reforming one practice and abolishing
another, each of the three setting up for a new legislator, a modern
Lycurgus, or a brand-new Solon; and so completely did they remodel the
State, that they seemed to have thrust it into a furnace and taken out
something quite different from what they had put in; and on all the
subjects they dealt with, Don Quixote spoke with such good sense that
the pair of examiners were fully convinced that he was quite recovered
and in his full senses.

The niece and housekeeper were present at the conversation and could
not find words enough to express their thanks to God at seeing their
master so clear in his mind; the curate, however, changing his original
plan, which was to avoid touching upon matters of chivalry, resolved to
test Don Quixote’s recovery thoroughly, and see whether it were genuine
or not; and so, from one subject to another, he came at last to talk of
the news that had come from the capital, and, among other things, he
said it was considered certain that the Turk was coming down with a
powerful fleet, and that no one knew what his purpose was, or when the
great storm would burst; and that all Christendom was in apprehension
of this, which almost every year calls us to arms, and that his Majesty
had made provision for the security of the coasts of Naples and Sicily
and the island of Malta.

To this Don Quixote replied, “His Majesty has acted like a prudent
warrior in providing for the safety of his realms in time, so that the
enemy may not find him unprepared; but if my advice were taken I would
recommend him to adopt a measure which at present, no doubt, his
Majesty is very far from thinking of.”

The moment the curate heard this he said to himself, “God keep thee in
his hand, poor Don Quixote, for it seems to me thou art precipitating
thyself from the height of thy madness into the profound abyss of thy
simplicity.”

But the barber, who had the same suspicion as the curate, asked Don
Quixote what would be his advice as to the measures that he said ought
to be adopted; for perhaps it might prove to be one that would have to
be added to the list of the many impertinent suggestions that people
were in the habit of offering to princes.

“Mine, master shaver,” said Don Quixote, “will not be impertinent, but,
on the contrary, pertinent.”

“I don’t mean that,” said the barber, “but that experience has shown
that all or most of the expedients which are proposed to his Majesty
are either impossible, or absurd, or injurious to the King and to the
kingdom.”

“Mine, however,” replied Don Quixote, “is neither impossible nor
absurd, but the easiest, the most reasonable, the readiest and most
expeditious that could suggest itself to any projector’s mind.”

“You take a long time to tell it, Señor Don Quixote,” said the curate.

“I don’t choose to tell it here, now,” said Don Quixote, “and have it
reach the ears of the lords of the council to-morrow morning, and some
other carry off the thanks and rewards of my trouble.”

“For my part,” said the barber, “I give my word here and before God
that I will not repeat what your worship says, to King, Rook or earthly
man—an oath I learned from the ballad of the curate, who, in the
prelude, told the king of the thief who had robbed him of the hundred
gold crowns and his pacing mule.”

“I am not versed in stories,” said Don Quixote; “but I know the oath is
a good one, because I know the barber to be an honest fellow.”

“Even if he were not,” said the curate, “I will go bail and answer for
him that in this matter he will be as silent as a dummy, under pain of
paying any penalty that may be pronounced.”

“And who will be security for you, señor curate?” said Don Quixote.

“My profession,” replied the curate, “which is to keep secrets.”

“Ods body!” said Don Quixote at this, “what more has his Majesty to do
but to command, by public proclamation, all the knights-errant that are
scattered over Spain to assemble on a fixed day in the capital, for
even if no more than half a dozen come, there may be one among them who
alone will suffice to destroy the entire might of the Turk. Give me
your attention and follow me. Is it, pray, any new thing for a single
knight-errant to demolish an army of two hundred thousand men, as if
they all had but one throat or were made of sugar paste? Nay, tell me,
how many histories are there filled with these marvels? If only (in an
evil hour for me: I don’t speak for anyone else) the famous Don
Belianis were alive now, or anyone of the innumerable progeny of Amadis
of Gaul! If any these were alive to-day, and were to come face to face
with the Turk, by my faith, I would not give much for the Turk’s
chance. But God will have regard for his people, and will provide
someone, who, if not so valiant as the knights-errant of yore, at least
will not be inferior to them in spirit; but God knows what I mean, and
I say no more.”

“Alas!” exclaimed the niece at this, “may I die if my master does not
want to turn knight-errant again;” to which Don Quixote replied, “A
knight-errant I shall die, and let the Turk come down or go up when he
likes, and in as strong force as he can, once more I say, God knows
what I mean.” But here the barber said, “I ask your worships to give me
leave to tell a short story of something that happened in Seville,
which comes so pat to the purpose just now that I should like greatly
to tell it.” Don Quixote gave him leave, and the rest prepared to
listen, and he began thus:

“In the madhouse at Seville there was a man whom his relations had
placed there as being out of his mind. He was a graduate of Osuna in
canon law; but even if he had been of Salamanca, it was the opinion of
most people that he would have been mad all the same. This graduate,
after some years of confinement, took it into his head that he was sane
and in his full senses, and under this impression wrote to the
Archbishop, entreating him earnestly, and in very correct language, to
have him released from the misery in which he was living; for by God’s
mercy he had now recovered his lost reason, though his relations, in
order to enjoy his property, kept him there, and, in spite of the
truth, would make him out to be mad until his dying day. The
Archbishop, moved by repeated sensible, well-written letters, directed
one of his chaplains to make inquiry of the madhouse as to the truth of
the licentiate’s statements, and to have an interview with the madman
himself, and, if it should appear that he was in his senses, to take
him out and restore him to liberty. The chaplain did so, and the
governor assured him that the man was still mad, and that though he
often spoke like a highly intelligent person, he would in the end break
out into nonsense that in quantity and quality counterbalanced all the
sensible things he had said before, as might be easily tested by
talking to him. The chaplain resolved to try the experiment, and
obtaining access to the madman conversed with him for an hour or more,
during the whole of which time he never uttered a word that was
incoherent or absurd, but, on the contrary, spoke so rationally that
the chaplain was compelled to believe him to be sane. Among other
things, he said the governor was against him, not to lose the presents
his relations made him for reporting him still mad but with lucid
intervals; and that the worst foe he had in his misfortune was his
large property; for in order to enjoy it his enemies disparaged and
threw doubts upon the mercy our Lord had shown him in turning him from
a brute beast into a man. In short, he spoke in such a way that he cast
suspicion on the governor, and made his relations appear covetous and
heartless, and himself so rational that the chaplain determined to take
him away with him that the Archbishop might see him, and ascertain for
himself the truth of the matter. Yielding to this conviction, the
worthy chaplain begged the governor to have the clothes in which the
licentiate had entered the house given to him. The governor again bade
him beware of what he was doing, as the licentiate was beyond a doubt
still mad; but all his cautions and warnings were unavailing to
dissuade the chaplain from taking him away. The governor, seeing that
it was the order of the Archbishop, obeyed, and they dressed the
licentiate in his own clothes, which were new and decent. He, as soon
as he saw himself clothed like one in his senses, and divested of the
appearance of a madman, entreated the chaplain to permit him in charity
to go and take leave of his comrades the madmen. The chaplain said he
would go with him to see what madmen there were in the house; so they
went upstairs, and with them some of those who were present.
Approaching a cage in which there was a furious madman, though just at
that moment calm and quiet, the licentiate said to him, ‘Brother, think
if you have any commands for me, for I am going home, as God has been
pleased, in his infinite goodness and mercy, without any merit of mine,
to restore me my reason. I am now cured and in my senses, for with
God’s power nothing is impossible. Have strong hope and trust in him,
for as he has restored me to my original condition, so likewise he will
restore you if you trust in him. I will take care to send you some good
things to eat; and be sure you eat them; for I would have you know I am
convinced, as one who has gone through it, that all this madness of
ours comes of having the stomach empty and the brains full of wind.
Take courage! take courage! for despondency in misfortune breaks down
health and brings on death.’

“To all these words of the licentiate another madman in a cage opposite
that of the furious one was listening; and raising himself up from an
old mat on which he lay stark naked, he asked in a loud voice who it
was that was going away cured and in his senses. The licentiate
answered, ‘It is I, brother, who am going; I have now no need to remain
here any longer, for which I return infinite thanks to Heaven that has
had so great mercy upon me.’

“‘Mind what you are saying, licentiate; don’t let the devil deceive
you,’ replied the madman. ‘Keep quiet, stay where you are, and you will
save yourself the trouble of coming back.’

“‘I know I am cured,’ returned the licentiate, ‘and that I shall not
have to go stations again.’

“‘You cured!’ said the madman; ‘well, we shall see; God be with you;
but I swear to you by Jupiter, whose majesty I represent on earth, that
for this crime alone, which Seville is committing to-day in releasing
you from this house, and treating you as if you were in your senses, I
shall have to inflict such a punishment on it as will be remembered for
ages and ages, amen. Dost thou not know, thou miserable little
licentiate, that I can do it, being, as I say, Jupiter the Thunderer,
who hold in my hands the fiery bolts with which I am able and am wont
to threaten and lay waste the world? But in one way only will I punish
this ignorant town, and that is by not raining upon it, nor on any part
of its district or territory, for three whole years, to be reckoned
from the day and moment when this threat is pronounced. Thou free, thou
cured, thou in thy senses! and I mad, I disordered, I bound! I will as
soon think of sending rain as of hanging myself.

“Those present stood listening to the words and exclamations of the
madman; but our licentiate, turning to the chaplain and seizing him by
the hands, said to him, ‘Be not uneasy, señor; attach no importance to
what this madman has said; for if he is Jupiter and will not send rain,
I, who am Neptune, the father and god of the waters, will rain as often
as it pleases me and may be needful.’

“The governor and the bystanders laughed, and at their laughter the
chaplain was half ashamed, and he replied, ‘For all that, Señor
Neptune, it will not do to vex Señor Jupiter; remain where you are, and
some other day, when there is a better opportunity and more time, we
will come back for you.’ So they stripped the licentiate, and he was
left where he was; and that’s the end of the story.”

“So that’s the story, master barber,” said Don Quixote, “which came in
so pat to the purpose that you could not help telling it? Master
shaver, master shaver! how blind is he who cannot see through a sieve.
Is it possible that you do not know that comparisons of wit with wit,
valour with valour, beauty with beauty, birth with birth, are always
odious and unwelcome? I, master barber, am not Neptune, the god of the
waters, nor do I try to make anyone take me for an astute man, for I am
not one. My only endeavour is to convince the world of the mistake it
makes in not reviving in itself the happy time when the order of
knight-errantry was in the field. But our depraved age does not deserve
to enjoy such a blessing as those ages enjoyed when knights-errant took
upon their shoulders the defence of kingdoms, the protection of
damsels, the succour of orphans and minors, the chastisement of the
proud, and the recompense of the humble. With the knights of these
days, for the most part, it is the damask, brocade, and rich stuffs
they wear, that rustle as they go, not the chain mail of their armour;
no knight now-a-days sleeps in the open field exposed to the inclemency
of heaven, and in full panoply from head to foot; no one now takes a
nap, as they call it, without drawing his feet out of the stirrups, and
leaning upon his lance, as the knights-errant used to do; no one now,
issuing from the wood, penetrates yonder mountains, and then treads the
barren, lonely shore of the sea—mostly a tempestuous and stormy one—and
finding on the beach a little bark without oars, sail, mast, or
tackling of any kind, in the intrepidity of his heart flings himself
into it and commits himself to the wrathful billows of the deep sea,
that one moment lift him up to heaven and the next plunge him into the
depths; and opposing his breast to the irresistible gale, finds
himself, when he least expects it, three thousand leagues and more away
from the place where he embarked; and leaping ashore in a remote and
unknown land has adventures that deserve to be written, not on
parchment, but on brass. But now sloth triumphs over energy, indolence
over exertion, vice over virtue, arrogance over courage, and theory
over practice in arms, which flourished and shone only in the golden
ages and in knights-errant. For tell me, who was more virtuous and more
valiant than the famous Amadis of Gaul? Who more discreet than Palmerin
of England? Who more gracious and easy than Tirante el Blanco? Who more
courtly than Lisuarte of Greece? Who more slashed or slashing than Don
Belianis? Who more intrepid than Perion of Gaul? Who more ready to face
danger than Felixmarte of Hircania? Who more sincere than Esplandian?
Who more impetuous than Don Cirongilio of Thrace? Who more bold than
Rodamonte? Who more prudent than King Sobrino? Who more daring than
Reinaldos? Who more invincible than Roland? and who more gallant and
courteous than Ruggiero, from whom the dukes of Ferrara of the present
day are descended, according to Turpin in his ‘Cosmography.’ All these
knights, and many more that I could name, señor curate, were
knights-errant, the light and glory of chivalry. These, or such as
these, I would have to carry out my plan, and in that case his Majesty
would find himself well served and would save great expense, and the
Turk would be left tearing his beard. And so I will stay where I am, as
the chaplain does not take me away; and if Jupiter, as the barber has
told us, will not send rain, here am I, and I will rain when I please.
I say this that Master Basin may know that I understand him.”

“Indeed, Señor Don Quixote,” said the barber, “I did not mean it in
that way, and, so help me God, my intention was good, and your worship
ought not to be vexed.”

“As to whether I ought to be vexed or not,” returned Don Quixote, “I
myself am the best judge.”

Hereupon the curate observed, “I have hardly said a word as yet; and I
would gladly be relieved of a doubt, arising from what Don Quixote has
said, that worries and works my conscience.”

“The señor curate has leave for more than that,” returned Don Quixote,
“so he may declare his doubt, for it is not pleasant to have a doubt on
one’s conscience.”

“Well then, with that permission,” said the curate, “I say my doubt is
that, all I can do, I cannot persuade myself that the whole pack of
knights-errant you, Señor Don Quixote, have mentioned, were really and
truly persons of flesh and blood, that ever lived in the world; on the
contrary, I suspect it to be all fiction, fable, and falsehood, and
dreams told by men awakened from sleep, or rather still half asleep.”

“That is another mistake,” replied Don Quixote, “into which many have
fallen who do not believe that there ever were such knights in the
world, and I have often, with divers people and on divers occasions,
tried to expose this almost universal error to the light of truth.
Sometimes I have not been successful in my purpose, sometimes I have,
supporting it upon the shoulders of the truth; which truth is so clear
that I can almost say I have with my own eyes seen Amadis of Gaul, who
was a man of lofty stature, fair complexion, with a handsome though
black beard, of a countenance between gentle and stern in expression,
sparing of words, slow to anger, and quick to put it away from him; and
as I have depicted Amadis, so I could, I think, portray and describe
all the knights-errant that are in all the histories in the world; for
by the perception I have that they were what their histories describe,
and by the deeds they did and the dispositions they displayed, it is
possible, with the aid of sound philosophy, to deduce their features,
complexion, and stature.”

“How big, in your worship’s opinion, may the giant Morgante have been,
Señor Don Quixote?” asked the barber.

“With regard to giants,” replied Don Quixote, “opinions differ as to
whether there ever were any or not in the world; but the Holy
Scripture, which cannot err by a jot from the truth, shows us that
there were, when it gives us the history of that big Philistine,
Goliath, who was seven cubits and a half in height, which is a huge
size. Likewise, in the island of Sicily, there have been found
leg-bones and arm-bones so large that their size makes it plain that
their owners were giants, and as tall as great towers; geometry puts
this fact beyond a doubt. But, for all that, I cannot speak with
certainty as to the size of Morgante, though I suspect he cannot have
been very tall; and I am inclined to be of this opinion because I find
in the history in which his deeds are particularly mentioned, that he
frequently slept under a roof and as he found houses to contain him, it
is clear that his bulk could not have been anything excessive.”

“That is true,” said the curate, and yielding to the enjoyment of
hearing such nonsense, he asked him what was his notion of the features
of Reinaldos of Montalban, and Don Roland and the rest of the Twelve
Peers of France, for they were all knights-errant.

“As for Reinaldos,” replied Don Quixote, “I venture to say that he was
broad-faced, of ruddy complexion, with roguish and somewhat prominent
eyes, excessively punctilious and touchy, and given to the society of
thieves and scapegraces. With regard to Roland, or Rotolando, or
Orlando (for the histories call him by all these names), I am of
opinion, and hold, that he was of middle height, broad-shouldered,
rather bow-legged, swarthy-complexioned, red-bearded, with a hairy body
and a severe expression of countenance, a man of few words, but very
polite and well-bred.”

“If Roland was not a more graceful person than your worship has
described,” said the curate, “it is no wonder that the fair Lady
Angelica rejected him and left him for the gaiety, liveliness, and
grace of that budding-bearded little Moor to whom she surrendered
herself; and she showed her sense in falling in love with the gentle
softness of Medoro rather than the roughness of Roland.”

“That Angelica, señor curate,” returned Don Quixote, “was a giddy
damsel, flighty and somewhat wanton, and she left the world as full of
her vagaries as of the fame of her beauty. She treated with scorn a
thousand gentlemen, men of valour and wisdom, and took up with a
smooth-faced sprig of a page, without fortune or fame, except such
reputation for gratitude as the affection he bore his friend got for
him. The great poet who sang her beauty, the famous Ariosto, not caring
to sing her adventures after her contemptible surrender (which probably
were not over and above creditable), dropped her where he says:

How she received the sceptre of Cathay,
Some bard of defter quill may sing some day;


and this was no doubt a kind of prophecy, for poets are also called
_vates_, that is to say diviners; and its truth was made plain; for
since then a famous Andalusian poet has lamented and sung her tears,
and another famous and rare poet, a Castilian, has sung her beauty.”

“Tell me, Señor Don Quixote,” said the barber here, “among all those
who praised her, has there been no poet to write a satire on this Lady
Angelica?”

“I can well believe,” replied Don Quixote, “that if Sacripante or
Roland had been poets they would have given the damsel a trimming; for
it is naturally the way with poets who have been scorned and rejected
by their ladies, whether fictitious or not, in short by those whom they
select as the ladies of their thoughts, to avenge themselves in satires
and libels—a vengeance, to be sure, unworthy of generous hearts; but up
to the present I have not heard of any defamatory verse against the
Lady Angelica, who turned the world upside down.”

“Strange,” said the curate; but at this moment they heard the
housekeeper and the niece, who had previously withdrawn from the
conversation, exclaiming aloud in the courtyard, and at the noise they
all ran out.



p01e.jpg (15K)



CHAPTER II.
WHICH TREATS OF THE NOTABLE ALTERCATION WHICH SANCHO PANZA HAD WITH DON
QUIXOTE’S NIECE, AND HOUSEKEEPER, TOGETHER WITH OTHER DROLL MATTERS




p02a.jpg (159K)

Full Size



The history relates that the outcry Don Quixote, the curate, and the
barber heard came from the niece and the housekeeper exclaiming to
Sancho, who was striving to force his way in to see Don Quixote while
they held the door against him, “What does the vagabond want in this
house? Be off to your own, brother, for it is you, and no one else,
that delude my master, and lead him astray, and take him tramping about
the country.”

To which Sancho replied, “Devil’s own housekeeper! it is I who am
deluded, and led astray, and taken tramping about the country, and not
thy master! He has carried me all over the world, and you are mightily
mistaken. He enticed me away from home by a trick, promising me an
island, which I am still waiting for.”

“May evil islands choke thee, thou detestable Sancho,” said the niece;
“What are islands? Is it something to eat, glutton and gormandiser that
thou art?”

“It is not something to eat,” replied Sancho, “but something to govern
and rule, and better than four cities or four judgeships at court.”

“For all that,” said the housekeeper, “you don’t enter here, you bag of
mischief and sack of knavery; go govern your house and dig your
seed-patch, and give over looking for islands or shylands.”

The curate and the barber listened with great amusement to the words of
the three; but Don Quixote, uneasy lest Sancho should blab and blurt
out a whole heap of mischievous stupidities, and touch upon points that
might not be altogether to his credit, called to him and made the other
two hold their tongues and let him come in. Sancho entered, and the
curate and the barber took their leave of Don Quixote, of whose
recovery they despaired when they saw how wedded he was to his crazy
ideas, and how saturated with the nonsense of his unlucky chivalry; and
said the curate to the barber, “You will see, gossip, that when we are
least thinking of it, our gentleman will be off once more for another
flight.”

“I have no doubt of it,” returned the barber; “but I do not wonder so
much at the madness of the knight as at the simplicity of the squire,
who has such a firm belief in all that about the island, that I suppose
all the exposures that could be imagined would not get it out of his
head.”

“God help them,” said the curate; “and let us be on the look-out to see
what comes of all these absurdities of the knight and squire, for it
seems as if they had both been cast in the same mould, and the madness
of the master without the simplicity of the man would not be worth a
farthing.”

“That is true,” said the barber, “and I should like very much to know
what the pair are talking about at this moment.”

“I promise you,” said the curate, “the niece or the housekeeper will
tell us by-and-by, for they are not the ones to forget to listen.”

Meanwhile Don Quixote shut himself up in his room with Sancho, and when
they were alone he said to him, “It grieves me greatly, Sancho, that
thou shouldst have said, and sayest, that I took thee out of thy
cottage, when thou knowest I did not remain in my house. We sallied
forth together, we took the road together, we wandered abroad together;
we have had the same fortune and the same luck; if they blanketed thee
once, they belaboured me a hundred times, and that is the only
advantage I have of thee.”

“That was only reasonable,” replied Sancho, “for, by what your worship
says, misfortunes belong more properly to knights-errant than to their
squires.”

“Thou art mistaken, Sancho,” said Don Quixote, “according to the maxim
_quando caput dolet_, etc.”

“I don’t understand any language but my own,” said Sancho.

“I mean to say,” said Don Quixote, “that when the head suffers all the
members suffer; and so, being thy lord and master, I am thy head, and
thou a part of me as thou art my servant; and therefore any evil that
affects or shall affect me should give thee pain, and what affects thee
give pain to me.”

“It should be so,” said Sancho; “but when I was blanketed as a member,
my head was on the other side of the wall, looking on while I was
flying through the air, and did not feel any pain whatever; and if the
members are obliged to feel the suffering of the head, it should be
obliged to feel their sufferings.”

“Dost thou mean to say now, Sancho,” said Don Quixote, “that I did not
feel when they were blanketing thee? If thou dost, thou must not say so
or think so, for I felt more pain then in spirit than thou didst in
body. But let us put that aside for the present, for we shall have
opportunities enough for considering and settling the point; tell me,
Sancho my friend, what do they say about me in the village here? What
do the common people think of me? What do the hidalgos? What do the
caballeros? What do they say of my valour; of my achievements; of my
courtesy? How do they treat the task I have undertaken in reviving and
restoring to the world the now forgotten order of chivalry? In short,
Sancho, I would have thee tell me all that has come to thine ears on
this subject; and thou art to tell me, without adding anything to the
good or taking away anything from the bad; for it is the duty of loyal
vassals to tell the truth to their lords just as it is and in its
proper shape, not allowing flattery to add to it or any idle deference
to lessen it. And I would have thee know, Sancho, that if the naked
truth, undisguised by flattery, came to the ears of princes, times
would be different, and other ages would be reckoned iron ages more
than ours, which I hold to be the golden of these latter days. Profit
by this advice, Sancho, and report to me clearly and faithfully the
truth of what thou knowest touching what I have demanded of thee.”

“That I will do with all my heart, master,” replied Sancho, “provided
your worship will not be vexed at what I say, as you wish me to say it
out in all its nakedness, without putting any more clothes on it than
it came to my knowledge in.”

“I will not be vexed at all,” returned Don Quixote; “thou mayest speak
freely, Sancho, and without any beating about the bush.”

“Well then,” said he, “first of all, I have to tell you that the common
people consider your worship a mighty great madman, and me no less a
fool. The hidalgos say that, not keeping within the bounds of your
quality of gentleman, you have assumed the ‘Don,’ and made a knight of
yourself at a jump, with four vine-stocks and a couple of acres of
land, and never a shirt to your back. The caballeros say they do not
want to have hidalgos setting up in opposition to them, particularly
squire hidalgos who polish their own shoes and darn their black
stockings with green silk.”

“That,” said Don Quixote, “does not apply to me, for I always go well
dressed and never patched; ragged I may be, but ragged more from the
wear and tear of arms than of time.”

“As to your worship’s valour, courtesy, accomplishments, and task,
there is a variety of opinions. Some say, ‘mad but droll;’ others,
‘valiant but unlucky;’ others, ‘courteous but meddling,’ and then they
go into such a number of things that they don’t leave a whole bone
either in your worship or in myself.”

“Recollect, Sancho,” said Don Quixote, “that wherever virtue exists in
an eminent degree it is persecuted. Few or none of the famous men that
have lived escaped being calumniated by malice. Julius Cæsar, the
boldest, wisest, and bravest of captains, was charged with being
ambitious, and not particularly cleanly in his dress, or pure in his
morals. Of Alexander, whose deeds won him the name of Great, they say
that he was somewhat of a drunkard. Of Hercules, him of the many
labours, it is said that he was lewd and luxurious. Of Don Galaor, the
brother of Amadis of Gaul, it was whispered that he was
over-quarrelsome, and of his brother that he was lachrymose. So that, O
Sancho, amongst all these calumnies against good men, mine may be let
pass, since they are no more than thou hast said.”

“That’s just where it is, body of my father!”

“Is there more, then?” asked Don Quixote.

“There’s the tail to be skinned yet,” said Sancho; “all so far is cakes
and fancy bread; but if your worship wants to know all about the
calumnies they bring against you, I will fetch you one this instant who
can tell you the whole of them without missing an atom; for last night
the son of Bartholomew Carrasco, who has been studying at Salamanca,
came home after having been made a bachelor, and when I went to welcome
him, he told me that your worship’s history is already abroad in books,
with the title of THE INGENIOUS GENTLEMAN DON QUIXOTE OF LA MANCHA; and
he says they mention me in it by my own name of Sancho Panza, and the
lady Dulcinea del Toboso too, and divers things that happened to us
when we were alone; so that I crossed myself in my wonder how the
historian who wrote them down could have known them.”

“I promise thee, Sancho,” said Don Quixote, “the author of our history
will be some sage enchanter; for to such nothing that they choose to
write about is hidden.”

“What!” said Sancho, “a sage and an enchanter! Why, the bachelor Samson
Carrasco (that is the name of him I spoke of) says the author of the
history is called Cide Hamete Berengena.”

“That is a Moorish name,” said Don Quixote.

“May be so,” replied Sancho; “for I have heard say that the Moors are
mostly great lovers of berengenas.”

“Thou must have mistaken the surname of this ‘Cide’—which means in
Arabic ‘Lord’—Sancho,” observed Don Quixote.

“Very likely,” replied Sancho, “but if your worship wishes me to fetch
the bachelor I will go for him in a twinkling.”

“Thou wilt do me a great pleasure, my friend,” said Don Quixote, “for
what thou hast told me has amazed me, and I shall not eat a morsel that
will agree with me until I have heard all about it.”

“Then I am off for him,” said Sancho; and leaving his master he went in
quest of the bachelor, with whom he returned in a short time, and, all
three together, they had a very droll colloquy.



p02e.jpg (23K)



CHAPTER III.
OF THE LAUGHABLE CONVERSATION THAT PASSED BETWEEN DON QUIXOTE, SANCHO
PANZA, AND THE BACHELOR SAMSON CARRASCO




p03a.jpg (131K)

Full Size



Don Quixote remained very deep in thought, waiting for the bachelor
Carrasco, from whom he was to hear how he himself had been put into a
book as Sancho said; and he could not persuade himself that any such
history could be in existence, for the blood of the enemies he had
slain was not yet dry on the blade of his sword, and now they wanted to
make out that his mighty achievements were going about in print. For
all that, he fancied some sage, either a friend or an enemy, might, by
the aid of magic, have given them to the press; if a friend, in order
to magnify and exalt them above the most famous ever achieved by any
knight-errant; if an enemy, to bring them to naught and degrade them
below the meanest ever recorded of any low squire, though as he said to
himself, the achievements of squires never were recorded. If, however,
it were the fact that such a history were in existence, it must
necessarily, being the story of a knight-errant, be grandiloquent,
lofty, imposing, grand and true. With this he comforted himself
somewhat, though it made him uncomfortable to think that the author was
a Moor, judging by the title of “Cide;” and that no truth was to be
looked for from Moors, as they are all impostors, cheats, and schemers.
He was afraid he might have dealt with his love affairs in some
indecorous fashion, that might tend to the discredit and prejudice of
the purity of his lady Dulcinea del Toboso; he would have had him set
forth the fidelity and respect he had always observed towards her,
spurning queens, empresses, and damsels of all sorts, and keeping in
check the impetuosity of his natural impulses. Absorbed and wrapped up
in these and divers other cogitations, he was found by Sancho and
Carrasco, whom Don Quixote received with great courtesy.

The bachelor, though he was called Samson, was of no great bodily size,
but he was a very great wag; he was of a sallow complexion, but very
sharp-witted, somewhere about four-and-twenty years of age, with a
round face, a flat nose, and a large mouth, all indications of a
mischievous disposition and a love of fun and jokes; and of this he
gave a sample as soon as he saw Don Quixote, by falling on his knees
before him and saying, “Let me kiss your mightiness’s hand, Señor Don
Quixote of La Mancha, for, by the habit of St. Peter that I wear,
though I have no more than the first four orders, your worship is one
of the most famous knights-errant that have ever been, or will be, all
the world over. A blessing on Cide Hamete Benengeli, who has written
the history of your great deeds, and a double blessing on that
connoisseur who took the trouble of having it translated out of the
Arabic into our Castilian vulgar tongue for the universal entertainment
of the people!”

Don Quixote made him rise, and said, “So, then, it is true that there
is a history of me, and that it was a Moor and a sage who wrote it?”

“So true is it, señor,” said Samson, “that my belief is there are more
than twelve thousand volumes of the said history in print this very
day. Only ask Portugal, Barcelona, and Valencia, where they have been
printed, and moreover there is a report that it is being printed at
Antwerp, and I am persuaded there will not be a country or language in
which there will not be a translation of it.”

“One of the things,” here observed Don Quixote, “that ought to give
most pleasure to a virtuous and eminent man is to find himself in his
lifetime in print and in type, familiar in people’s mouths with a good
name; I say with a good name, for if it be the opposite, then there is
no death to be compared to it.”

“If it goes by good name and fame,” said the bachelor, “your worship
alone bears away the palm from all the knights-errant; for the Moor in
his own language, and the Christian in his, have taken care to set
before us your gallantry, your high courage in encountering dangers,
your fortitude in adversity, your patience under misfortunes as well as
wounds, the purity and continence of the platonic loves of your worship
and my lady Doña Dulcinea del Toboso—”

“I never heard my lady Dulcinea called Doña,” observed Sancho here;
“nothing more than the lady Dulcinea del Toboso; so here already the
history is wrong.”

“That is not an objection of any importance,” replied Carrasco.

“Certainly not,” said Don Quixote; “but tell me, señor bachelor, what
deeds of mine are they that are made most of in this history?”

“On that point,” replied the bachelor, “opinions differ, as tastes do;
some swear by the adventure of the windmills that your worship took to
be Briareuses and giants; others by that of the fulling mills; one
cries up the description of the two armies that afterwards took the
appearance of two droves of sheep; another that of the dead body on its
way to be buried at Segovia; a third says the liberation of the galley
slaves is the best of all, and a fourth that nothing comes up to the
affair with the Benedictine giants, and the battle with the valiant
Biscayan.”

“Tell me, señor bachelor,” said Sancho at this point, “does the
adventure with the Yanguesans come in, when our good Rocinante went
hankering after dainties?”

“The sage has left nothing in the ink-bottle,” replied Samson; “he
tells all and sets down everything, even to the capers that worthy
Sancho cut in the blanket.”

“I cut no capers in the blanket,” returned Sancho; “in the air I did,
and more of them than I liked.”

“There is no human history in the world, I suppose,” said Don Quixote,
“that has not its ups and downs, but more than others such as deal with
chivalry, for they can never be entirely made up of prosperous
adventures.”

“For all that,” replied the bachelor, “there are those who have read
the history who say they would have been glad if the author had left
out some of the countless cudgellings that were inflicted on Señor Don
Quixote in various encounters.”

“That’s where the truth of the history comes in,” said Sancho.

“At the same time they might fairly have passed them over in silence,”
observed Don Quixote; “for there is no need of recording events which
do not change or affect the truth of a history, if they tend to bring
the hero of it into contempt. Æneas was not in truth and earnest so
pious as Virgil represents him, nor Ulysses so wise as Homer describes
him.”

“That is true,” said Samson; “but it is one thing to write as a poet,
another to write as a historian; the poet may describe or sing things,
not as they were, but as they ought to have been; but the historian has
to write them down, not as they ought to have been, but as they were,
without adding anything to the truth or taking anything from it.”

“Well then,” said Sancho, “if this señor Moor goes in for telling the
truth, no doubt among my master’s drubbings mine are to be found; for
they never took the measure of his worship’s shoulders without doing
the same for my whole body; but I have no right to wonder at that, for,
as my master himself says, the members must share the pain of the
head.”

“You are a sly dog, Sancho,” said Don Quixote; “i’ faith, you have no
want of memory when you choose to remember.”

“If I were to try to forget the thwacks they gave me,” said Sancho, “my
weals would not let me, for they are still fresh on my ribs.”

“Hush, Sancho,” said Don Quixote, “and don’t interrupt the bachelor,
whom I entreat to go on and tell all that is said about me in this
history.”

“And about me,” said Sancho, “for they say, too, that I am one of the
principal presonages in it.”

“Personages, not presonages, friend Sancho,” said Samson.

“What! Another word-catcher!” said Sancho; “if that’s to be the way we
shall not make an end in a lifetime.”

“May God shorten mine, Sancho,” returned the bachelor, “if you are not
the second person in the history, and there are even some who would
rather hear you talk than the cleverest in the whole book; though there
are some, too, who say you showed yourself over-credulous in believing
there was any possibility in the government of that island offered you
by Señor Don Quixote.”

“There is still sunshine on the wall,” said Don Quixote; “and when
Sancho is somewhat more advanced in life, with the experience that
years bring, he will be fitter and better qualified for being a
governor than he is at present.”

“By God, master,” said Sancho, “the island that I cannot govern with
the years I have, I’ll not be able to govern with the years of
Methuselah; the difficulty is that the said island keeps its distance
somewhere, I know not where; and not that there is any want of head in
me to govern it.”

“Leave it to God, Sancho,” said Don Quixote, “for all will be and
perhaps better than you think; no leaf on the tree stirs but by God’s
will.”

“That is true,” said Samson; “and if it be God’s will, there will not
be any want of a thousand islands, much less one, for Sancho to
govern.”

“I have seen governors in these parts,” said Sancho, “that are not to
be compared to my shoe-sole; and for all that they are called ‘your
lordship’ and served on silver.”

“Those are not governors of islands,” observed Samson, “but of other
governments of an easier kind: those that govern islands must at least
know grammar.”

“I could manage the gram well enough,” said Sancho; “but for the mar I
have neither leaning nor liking, for I don’t know what it is; but
leaving this matter of the government in God’s hands, to send me
wherever it may be most to his service, I may tell you, señor bachelor
Samson Carrasco, it has pleased me beyond measure that the author of
this history should have spoken of me in such a way that what is said
of me gives no offence; for, on the faith of a true squire, if he had
said anything about me that was at all unbecoming an old Christian,
such as I am, the deaf would have heard of it.”

“That would be working miracles,” said Samson.

“Miracles or no miracles,” said Sancho, “let everyone mind how he
speaks or writes about people, and not set down at random the first
thing that comes into his head.”

“One of the faults they find with this history,” said the bachelor, “is
that its author inserted in it a novel called ‘The Ill-advised
Curiosity;’ not that it is bad or ill-told, but that it is out of place
and has nothing to do with the history of his worship Señor Don
Quixote.”

“I will bet the son of a dog has mixed the cabbages and the baskets,”
said Sancho.

“Then, I say,” said Don Quixote, “the author of my history was no sage,
but some ignorant chatterer, who, in a haphazard and heedless way, set
about writing it, let it turn out as it might, just as Orbaneja, the
painter of Úbeda, used to do, who, when they asked him what he was
painting, answered, ‘What it may turn out.’ Sometimes he would paint a
cock in such a fashion, and so unlike, that he had to write alongside
of it in Gothic letters, ‘This is a cock; and so it will be with my
history, which will require a commentary to make it intelligible.”

“No fear of that,” returned Samson, “for it is so plain that there is
nothing in it to puzzle over; the children turn its leaves, the young
people read it, the grown men understand it, the old folk praise it; in
a word, it is so thumbed, and read, and got by heart by people of all
sorts, that the instant they see any lean hack, they say, ‘There goes
Rocinante.’ And those that are most given to reading it are the pages,
for there is not a lord’s ante-chamber where there is not a ‘Don
Quixote’ to be found; one takes it up if another lays it down; this one
pounces upon it, and that begs for it. In short, the said history is
the most delightful and least injurious entertainment that has been
hitherto seen, for there is not to be found in the whole of it even the
semblance of an immodest word, or a thought that is other than
Catholic.”

“To write in any other way,” said Don Quixote, “would not be to write
truth, but falsehood, and historians who have recourse to falsehood
ought to be burned, like those who coin false money; and I know not
what could have led the author to have recourse to novels and
irrelevant stories, when he had so much to write about in mine; no
doubt he must have gone by the proverb ‘with straw or with hay, etc,’
for by merely setting forth my thoughts, my sighs, my tears, my lofty
purposes, my enterprises, he might have made a volume as large, or
larger than all the works of El Tostado would make up. In fact, the
conclusion I arrive at, señor bachelor, is, that to write histories, or
books of any kind, there is need of great judgment and a ripe
understanding. To give expression to humour, and write in a strain of
graceful pleasantry, is the gift of great geniuses. The cleverest
character in comedy is the clown, for he who would make people take him
for a fool, must not be one. History is in a measure a sacred thing,
for it should be true, and where the truth is, there God is; but
notwithstanding this, there are some who write and fling books
broadcast on the world as if they were fritters.”

“There is no book so bad but it has something good in it,” said the
bachelor.

“No doubt of that,” replied Don Quixote; “but it often happens that
those who have acquired and attained a well-deserved reputation by
their writings, lose it entirely, or damage it in some degree, when
they give them to the press.”

“The reason of that,” said Samson, “is, that as printed works are
examined leisurely, their faults are easily seen; and the greater the
fame of the writer, the more closely are they scrutinised. Men famous
for their genius, great poets, illustrious historians, are always, or
most commonly, envied by those who take a particular delight and
pleasure in criticising the writings of others, without having produced
any of their own.”

“That is no wonder,” said Don Quixote; “for there are many divines who
are no good for the pulpit, but excellent in detecting the defects or
excesses of those who preach.”

“All that is true, Señor Don Quixote,” said Carrasco; “but I wish such
fault-finders were more lenient and less exacting, and did not pay so
much attention to the spots on the bright sun of the work they grumble
at; for if _aliquando bonus dormitat Homerus_, they should remember how
long he remained awake to shed the light of his work with as little
shade as possible; and perhaps it may be that what they find fault with
may be moles, that sometimes heighten the beauty of the face that bears
them; and so I say very great is the risk to which he who prints a book
exposes himself, for of all impossibilities the greatest is to write
one that will satisfy and please all readers.”

“That which treats of me must have pleased few,” said Don Quixote.

“Quite the contrary,” said the bachelor; “for, as _stultorum infinitum
est numerus_, innumerable are those who have relished the said history;
but some have brought a charge against the author’s memory, inasmuch as
he forgot to say who the thief was who stole Sancho’s Dapple; for it is
not stated there, but only to be inferred from what is set down, that
he was stolen, and a little farther on we see Sancho mounted on the
same ass, without any reappearance of it. They say, too, that he forgot
to state what Sancho did with those hundred crowns that he found in the
valise in the Sierra Morena, as he never alludes to them again, and
there are many who would be glad to know what he did with them, or what
he spent them on, for it is one of the serious omissions of the work.”

“Señor Samson, I am not in a humour now for going into accounts or
explanations,” said Sancho; “for there’s a sinking of the stomach come
over me, and unless I doctor it with a couple of sups of the old stuff
it will put me on the thorn of Santa Lucia. I have it at home, and my
old woman is waiting for me; after dinner I’ll come back, and will
answer you and all the world every question you may choose to ask, as
well about the loss of the ass as about the spending of the hundred
crowns;” and without another word or waiting for a reply he made off
home.

Don Quixote begged and entreated the bachelor to stay and do penance
with him. The bachelor accepted the invitation and remained, a couple
of young pigeons were added to the ordinary fare, at dinner they talked
chivalry, Carrasco fell in with his host’s humour, the banquet came to
an end, they took their afternoon sleep, Sancho returned, and their
conversation was resumed.



p03e.jpg (49K)



CHAPTER IV.
IN WHICH SANCHO PANZA GIVES A SATISFACTORY REPLY TO THE DOUBTS AND
QUESTIONS OF THE BACHELOR SAMSON CARRASCO, TOGETHER WITH OTHER MATTERS
WORTH KNOWING AND TELLING




p04a.jpg (143K)

Full Size



Sancho came back to Don Quixote’s house, and returning to the late
subject of conversation, he said, “As to what Señor Samson said, that
he would like to know by whom, or how, or when my ass was stolen, I say
in reply that the same night we went into the Sierra Morena, flying
from the Holy Brotherhood after that unlucky adventure of the galley
slaves, and the other of the corpse that was going to Segovia, my
master and I ensconced ourselves in a thicket, and there, my master
leaning on his lance, and I seated on my Dapple, battered and weary
with the late frays we fell asleep as if it had been on four feather
mattresses; and I in particular slept so sound, that, whoever he was,
he was able to come and prop me up on four stakes, which he put under
the four corners of the pack-saddle in such a way that he left me
mounted on it, and took away Dapple from under me without my feeling
it.”



p04b.jpg (270K)

Full Size



“That is an easy matter,” said Don Quixote, “and it is no new
occurrence, for the same thing happened to Sacripante at the siege of
Albracca; the famous thief, Brunello, by the same contrivance, took his
horse from between his legs.”

“Day came,” continued Sancho, “and the moment I stirred the stakes gave
way and I fell to the ground with a mighty come down; I looked about
for the ass, but could not see him; the tears rushed to my eyes and I
raised such a lamentation that, if the author of our history has not
put it in, he may depend upon it he has left out a good thing. Some
days after, I know not how many, travelling with her ladyship the
Princess Micomicona, I saw my ass, and mounted upon him, in the dress
of a gipsy, was that Gines de Pasamonte, the great rogue and rascal
that my master and I freed from the chain.”

“That is not where the mistake is,” replied Samson; “it is, that before
the ass has turned up, the author speaks of Sancho as being mounted on
it.”

“I don’t know what to say to that,” said Sancho, “unless that the
historian made a mistake, or perhaps it might be a blunder of the
printer’s.”

“No doubt that’s it,” said Samson; “but what became of the hundred
crowns? Did they vanish?”

To which Sancho answered, “I spent them for my own good, and my wife’s,
and my children’s, and it is they that have made my wife bear so
patiently all my wanderings on highways and byways, in the service of
my master, Don Quixote; for if after all this time I had come back to
the house without a rap and without the ass, it would have been a poor
look-out for me; and if anyone wants to know anything more about me,
here I am, ready to answer the king himself in person; and it is no
affair of anyone’s whether I took or did not take, whether I spent or
did not spend; for the whacks that were given me in these journeys were
to be paid for in money, even if they were valued at no more than four
maravedis apiece, another hundred crowns would not pay me for half of
them. Let each look to himself and not try to make out white black, and
black white; for each of us is as God made him, aye, and often worse.”

“I will take care,” said Carrasco, “to impress upon the author of the
history that, if he prints it again, he must not forget what worthy
Sancho has said, for it will raise it a good span higher.”

“Is there anything else to correct in the history, señor bachelor?”
asked Don Quixote.

“No doubt there is,” replied he; “but not anything that will be of the
same importance as those I have mentioned.”

“Does the author promise a second part at all?” said Don Quixote.

“He does promise one,” replied Samson; “but he says he has not found
it, nor does he know who has got it; and we cannot say whether it will
appear or not; and so, on that head, as some say that no second part
has ever been good, and others that enough has been already written
about Don Quixote, it is thought there will be no second part; though
some, who are jovial rather than saturnine, say, ‘Let us have more
Quixotades, let Don Quixote charge and Sancho chatter, and no matter
what it may turn out, we shall be satisfied with that.’”

“And what does the author mean to do?” said Don Quixote.

“What?” replied Samson; “why, as soon as he has found the history which
he is now searching for with extraordinary diligence, he will at once
give it to the press, moved more by the profit that may accrue to him
from doing so than by any thought of praise.”

Whereat Sancho observed, “The author looks for money and profit, does
he? It will be a wonder if he succeeds, for it will be only hurry,
hurry, with him, like the tailor on Easter Eve; and works done in a
hurry are never finished as perfectly as they ought to be. Let master
Moor, or whatever he is, pay attention to what he is doing, and I and
my master will give him as much grouting ready to his hand, in the way
of adventures and accidents of all sorts, as would make up not only one
second part, but a hundred. The good man fancies, no doubt, that we are
fast asleep in the straw here, but let him hold up our feet to be shod
and he will see which foot it is we go lame on. All I say is, that if
my master would take my advice, we would be now afield, redressing
outrages and righting wrongs, as is the use and custom of good
knights-errant.”

Sancho had hardly uttered these words when the neighing of Rocinante
fell upon their ears, which neighing Don Quixote accepted as a happy
omen, and he resolved to make another sally in three or four days from
that time. Announcing his intention to the bachelor, he asked his
advice as to the quarter in which he ought to commence his expedition,
and the bachelor replied that in his opinion he ought to go to the
kingdom of Aragon, and the city of Saragossa, where there were to be
certain solemn joustings at the festival of St. George, at which he
might win renown above all the knights of Aragon, which would be
winning it above all the knights of the world. He commended his very
praiseworthy and gallant resolution, but admonished him to proceed with
greater caution in encountering dangers, because his life did not
belong to him, but to all those who had need of him to protect and aid
them in their misfortunes.

“There’s where it is, what I abominate, Señor Samson,” said Sancho
here; “my master will attack a hundred armed men as a greedy boy would
half a dozen melons. Body of the world, señor bachelor! there is a time
to attack and a time to retreat, and it is not to be always ‘Santiago,
and close Spain!’ Moreover, I have heard it said (and I think by my
master himself, if I remember rightly) that the mean of valour lies
between the extremes of cowardice and rashness; and if that be so, I
don’t want him to fly without having good reason, or to attack when the
odds make it better not. But, above all things, I warn my master that
if he is to take me with him it must be on the condition that he is to
do all the fighting, and that I am not to be called upon to do anything
except what concerns keeping him clean and comfortable; in this I will
dance attendance on him readily; but to expect me to draw sword, even
against rascally churls of the hatchet and hood, is idle. I don’t set
up to be a fighting man, Señor Samson, but only the best and most loyal
squire that ever served knight-errant; and if my master Don Quixote, in
consideration of my many faithful services, is pleased to give me some
island of the many his worship says one may stumble on in these parts,
I will take it as a great favour; and if he does not give it to me, I
was born like everyone else, and a man must not live in dependence on
anyone except God; and what is more, my bread will taste as well, and
perhaps even better, without a government than if I were a governor;
and how do I know but that in these governments the devil may have
prepared some trip for me, to make me lose my footing and fall and
knock my grinders out? Sancho I was born and Sancho I mean to die. But
for all that, if heaven were to make me a fair offer of an island or
something else of the kind, without much trouble and without much risk,
I am not such a fool as to refuse it; for they say, too, ‘when they
offer thee a heifer, run with a halter; and ‘when good luck comes to
thee, take it in.’”

“Brother Sancho,” said Carrasco, “you have spoken like a professor;
but, for all that, put your trust in God and in Señor Don Quixote, for
he will give you a kingdom, not to say an island.”

“It is all the same, be it more or be it less,” replied Sancho; “though
I can tell Señor Carrasco that my master would not throw the kingdom he
might give me into a sack all in holes; for I have felt my own pulse
and I find myself sound enough to rule kingdoms and govern islands; and
I have before now told my master as much.”

“Take care, Sancho,” said Samson; “honours change manners, and perhaps
when you find yourself a governor you won’t know the mother that bore
you.”

“That may hold good of those that are born in the ditches,” said
Sancho, “not of those who have the fat of an old Christian four fingers
deep on their souls, as I have. Nay, only look at my disposition, is
that likely to show ingratitude to anyone?”

“God grant it,” said Don Quixote; “we shall see when the government
comes; and I seem to see it already.”

He then begged the bachelor, if he were a poet, to do him the favour of
composing some verses for him conveying the farewell he meant to take
of his lady Dulcinea del Toboso, and to see that a letter of her name
was placed at the beginning of each line, so that, at the end of the
verses, “Dulcinea del Toboso” might be read by putting together the
first letters. The bachelor replied that although he was not one of the
famous poets of Spain, who were, they said, only three and a half, he
would not fail to compose the required verses; though he saw a great
difficulty in the task, as the letters which made up the name were
seventeen; so, if he made four ballad stanzas of four lines each, there
would be a letter over, and if he made them of five, what they called
decimas or redondillas, there were three letters short; nevertheless he
would try to drop a letter as well as he could, so that the name
“Dulcinea del Toboso” might be got into four ballad stanzas.

“It must be, by some means or other,” said Don Quixote, “for unless the
name stands there plain and manifest, no woman would believe the verses
were made for her.”

They agreed upon this, and that the departure should take place in
three days from that time. Don Quixote charged the bachelor to keep it
a secret, especially from the curate and Master Nicholas, and from his
niece and the housekeeper, lest they should prevent the execution of
his praiseworthy and valiant purpose. Carrasco promised all, and then
took his leave, charging Don Quixote to inform him of his good or evil
fortunes whenever he had an opportunity; and thus they bade each other
farewell, and Sancho went away to make the necessary preparations for
their expedition.



p04e.jpg (55K)



CHAPTER V.
OF THE SHREWD AND DROLL CONVERSATION THAT PASSED BETWEEN SANCHO PANZA
AND HIS WIFE TERESA PANZA, AND OTHER MATTERS WORTHY OF BEING DULY
RECORDED




p05a.jpg (129K)

Full Size



The translator of this history, when he comes to write this fifth
chapter, says that he considers it apocryphal, because in it Sancho
Panza speaks in a style unlike that which might have been expected from
his limited intelligence, and says things so subtle that he does not
think it possible he could have conceived them; however, desirous of
doing what his task imposed upon him, he was unwilling to leave it
untranslated, and therefore he went on to say:

Sancho came home in such glee and spirits that his wife noticed his
happiness a bowshot off, so much so that it made her ask him, “What
have you got, Sancho friend, that you are so glad?”

To which he replied, “Wife, if it were God’s will, I should be very
glad not to be so well pleased as I show myself.”

“I don’t understand you, husband,” said she, “and I don’t know what you
mean by saying you would be glad, if it were God’s will, not to be well
pleased; for, fool as I am, I don’t know how one can find pleasure in
not having it.”

“Hark ye, Teresa,” replied Sancho, “I am glad because I have made up my
mind to go back to the service of my master Don Quixote, who means to
go out a third time to seek for adventures; and I am going with him
again, for my necessities will have it so, and also the hope that
cheers me with the thought that I may find another hundred crowns like
those we have spent; though it makes me sad to have to leave thee and
the children; and if God would be pleased to let me have my daily
bread, dry-shod and at home, without taking me out into the byways and
cross-roads—and he could do it at small cost by merely willing it—it is
clear my happiness would be more solid and lasting, for the happiness I
have is mingled with sorrow at leaving thee; so that I was right in
saying I would be glad, if it were God’s will, not to be well pleased.”

“Look here, Sancho,” said Teresa; “ever since you joined on to a
knight-errant you talk in such a roundabout way that there is no
understanding you.”

“It is enough that God understands me, wife,” replied Sancho; “for he
is the understander of all things; that will do; but mind, sister, you
must look to Dapple carefully for the next three days, so that he may
be fit to take arms; double his feed, and see to the pack-saddle and
other harness, for it is not to a wedding we are bound, but to go round
the world, and play at give and take with giants and dragons and
monsters, and hear hissings and roarings and bellowings and howlings;
and even all this would be lavender, if we had not to reckon with
Yanguesans and enchanted Moors.”

“I know well enough, husband,” said Teresa, “that squires-errant don’t
eat their bread for nothing, and so I will be always praying to our
Lord to deliver you speedily from all that hard fortune.”

“I can tell you, wife,” said Sancho, “if I did not expect to see myself
governor of an island before long, I would drop down dead on the spot.”

“Nay, then, husband,” said Teresa; “let the hen live, though it be with
her pip, live, and let the devil take all the governments in the world;
you came out of your mother’s womb without a government, you have lived
until now without a government, and when it is God’s will you will go,
or be carried, to your grave without a government. How many there are
in the world who live without a government, and continue to live all
the same, and are reckoned in the number of the people. The best sauce
in the world is hunger, and as the poor are never without that, they
always eat with a relish. But mind, Sancho, if by good luck you should
find yourself with some government, don’t forget me and your children.
Remember that Sanchico is now full fifteen, and it is right he should
go to school, if his uncle the abbot has a mind to have him trained for
the Church. Consider, too, that your daughter Mari-Sancha will not die
of grief if we marry her; for I have my suspicions that she is as eager
to get a husband as you to get a government; and, after all, a daughter
looks better ill married than well whored.”

“By my faith,” replied Sancho, “if God brings me to get any sort of a
government, I intend, wife, to make such a high match for Mari-Sancha
that there will be no approaching her without calling her ‘my lady.”

“Nay, Sancho,” returned Teresa; “marry her to her equal, that is the
safest plan; for if you put her out of wooden clogs into high-heeled
shoes, out of her grey flannel petticoat into hoops and silk gowns, out
of the plain ‘Marica’ and ‘thou,’ into ‘Doña So-and-so’ and ‘my lady,’
the girl won’t know where she is, and at every turn she will fall into
a thousand blunders that will show the thread of her coarse homespun
stuff.”

“Tut, you fool,” said Sancho; “it will be only to practise it for two
or three years; and then dignity and decorum will fit her as easily as
a glove; and if not, what matter? Let her be ‘my lady,’ and never mind
what happens.”

“Keep to your own station, Sancho,” replied Teresa; “don’t try to raise
yourself higher, and bear in mind the proverb that says, ‘wipe the nose
of your neigbbour’s son, and take him into your house.’ A fine thing it
would be, indeed, to marry our Maria to some great count or grand
gentleman, who, when the humour took him, would abuse her and call her
clown-bred and clodhopper’s daughter and spinning wench. I have not
been bringing up my daughter for that all this time, I can tell you,
husband. Do you bring home money, Sancho, and leave marrying her to my
care; there is Lope Tocho, Juan Tocho’s son, a stout, sturdy young
fellow that we know, and I can see he does not look sour at the girl;
and with him, one of our own sort, she will be well married, and we
shall have her always under our eyes, and be all one family, parents
and children, grandchildren and sons-in-law, and the peace and blessing
of God will dwell among us; so don’t you go marrying her in those
courts and grand palaces where they won’t know what to make of her, or
she what to make of herself.”

“Why, you idiot and wife for Barabbas,” said Sancho, “what do you mean
by trying, without why or wherefore, to keep me from marrying my
daughter to one who will give me grandchildren that will be called
‘your lordship’? Look ye, Teresa, I have always heard my elders say
that he who does not know how to take advantage of luck when it comes
to him, has no right to complain if it gives him the go-by; and now
that it is knocking at our door, it will not do to shut it out; let us
go with the favouring breeze that blows upon us.”

It is this sort of talk, and what Sancho says lower down, that made the
translator of the history say he considered this chapter apocryphal.

“Don’t you see, you animal,” continued Sancho, “that it will be well
for me to drop into some profitable government that will lift us out of
the mire, and marry Mari-Sancha to whom I like; and you yourself will
find yourself called ‘Doña Teresa Panza,’ and sitting in church on a
fine carpet and cushions and draperies, in spite and in defiance of all
the born ladies of the town? No, stay as you are, growing neither
greater nor less, like a tapestry figure—Let us say no more about it,
for Sanchica shall be a countess, say what you will.”

“Are you sure of all you say, husband?” replied Teresa. “Well, for all
that, I am afraid this rank of countess for my daughter will be her
ruin. You do as you like, make a duchess or a princess of her, but I
can tell you it will not be with my will and consent. I was always a
lover of equality, brother, and I can’t bear to see people give
themselves airs without any right. They called me Teresa at my baptism,
a plain, simple name, without any additions or tags or fringes of Dons
or Doñas; Cascajo was my father’s name, and as I am your wife, I am
called Teresa Panza, though by right I ought to be called Teresa
Cascajo; but ‘kings go where laws like,’ and I am content with this
name without having the ‘Don’ put on top of it to make it so heavy that
I cannot carry it; and I don’t want to make people talk about me when
they see me go dressed like a countess or governor’s wife; for they
will say at once, ‘See what airs the slut gives herself! Only yesterday
she was always spinning flax, and used to go to mass with the tail of
her petticoat over her head instead of a mantle, and there she goes
to-day in a hooped gown with her broaches and airs, as if we didn’t
know her!’ If God keeps me in my seven senses, or five, or whatever
number I have, I am not going to bring myself to such a pass; go you,
brother, and be a government or an island man, and swagger as much as
you like; for by the soul of my mother, neither my daughter nor I are
going to stir a step from our village; a respectable woman should have
a broken leg and keep at home; and to be busy at something is a
virtuous damsel’s holiday; be off to your adventures along with your
Don Quixote, and leave us to our misadventures, for God will mend them
for us according as we deserve it. I don’t know, I’m sure, who fixed
the ‘Don’ to him, what neither his father nor grandfather ever had.”

“I declare thou hast a devil of some sort in thy body!” said Sancho.
“God help thee, what a lot of things thou hast strung together, one
after the other, without head or tail! What have Cascajo, and the
broaches and the proverbs and the airs, to do with what I say? Look
here, fool and dolt (for so I may call you, when you don’t understand
my words, and run away from good fortune), if I had said that my
daughter was to throw herself down from a tower, or go roaming the
world, as the Infanta Doña Urraca wanted to do, you would be right in
not giving way to my will; but if in an instant, in less than the
twinkling of an eye, I put the ‘Don’ and ‘my lady’ on her back, and
take her out of the stubble, and place her under a canopy, on a dais,
and on a couch, with more velvet cushions than all the Almohades of
Morocco ever had in their family, why won’t you consent and fall in
with my wishes?”

“Do you know why, husband?” replied Teresa; “because of the proverb
that says ‘who covers thee, discovers thee.’ At the poor man people
only throw a hasty glance; on the rich man they fix their eyes; and if
the said rich man was once on a time poor, it is then there is the
sneering and the tattle and spite of backbiters; and in the streets
here they swarm as thick as bees.”

“Look here, Teresa,” said Sancho, “and listen to what I am now going to
say to you; maybe you never heard it in all your life; and I do not
give my own notions, for what I am about to say are the opinions of his
reverence the preacher, who preached in this town last Lent, and who
said, if I remember rightly, that all things present that our eyes
behold, bring themselves before us, and remain and fix themselves on
our memory much better and more forcibly than things past.”

These observations which Sancho makes here are the other ones on
account of which the translator says he regards this chapter as
apocryphal, inasmuch as they are beyond Sancho’s capacity.

“Whence it arises,” he continued, “that when we see any person well
dressed and making a figure with rich garments and retinue of servants,
it seems to lead and impel us perforce to respect him, though memory
may at the same moment recall to us some lowly condition in which we
have seen him, but which, whether it may have been poverty or low
birth, being now a thing of the past, has no existence; while the only
thing that has any existence is what we see before us; and if this
person whom fortune has raised from his original lowly state (these
were the very words the padre used) to his present height of
prosperity, be well bred, generous, courteous to all, without seeking
to vie with those whose nobility is of ancient date, depend upon it,
Teresa, no one will remember what he was, and everyone will respect
what he is, except indeed the envious, from whom no fair fortune is
safe.”

“I do not understand you, husband,” replied Teresa; “do as you like,
and don’t break my head with any more speechifying and rethoric; and if
you have revolved to do what you say—”

“Resolved, you should say, woman,” said Sancho, “not revolved.”

“Don’t set yourself to wrangle with me, husband,” said Teresa; “I speak
as God pleases, and don’t deal in out-of-the-way phrases; and I say if
you are bent upon having a government, take your son Sancho with you,
and teach him from this time on how to hold a government; for sons
ought to inherit and learn the trades of their fathers.”

“As soon as I have the government,” said Sancho, “I will send for him
by post, and I will send thee money, of which I shall have no lack, for
there is never any want of people to lend it to governors when they
have not got it; and do thou dress him so as to hide what he is and
make him look what he is to be.”

“You send the money,” said Teresa, “and I’ll dress him up for you as
fine as you please.”

“Then we are agreed that our daughter is to be a countess,” said
Sancho.

“The day that I see her a countess,” replied Teresa, “it will be the
same to me as if I was burying her; but once more I say do as you
please, for we women are born to this burden of being obedient to our
husbands, though they be dogs;” and with this she began to weep in
earnest, as if she already saw Sanchica dead and buried.

Sancho consoled her by saying that though he must make her a countess,
he would put it off as long as possible. Here their conversation came
to an end, and Sancho went back to see Don Quixote, and make
arrangements for their departure.



p05e.jpg (49K)

Full Size



CHAPTER VI.
OF WHAT TOOK PLACE BETWEEN DON QUIXOTE AND HIS NIECE AND HOUSEKEEPER;
ONE OF THE MOST IMPORTANT CHAPTERS IN THE WHOLE HISTORY




p06a.jpg (93K)

Full Size



While Sancho Panza and his wife, Teresa Cascajo, held the above
irrelevant conversation, Don Quixote’s niece and housekeeper were not
idle, for by a thousand signs they began to perceive that their uncle
and master meant to give them the slip the third time, and once more
betake himself to his, for them, ill-errant chivalry. They strove by
all the means in their power to divert him from such an unlucky scheme;
but it was all preaching in the desert and hammering cold iron.
Nevertheless, among many other representations made to him, the
housekeeper said to him, “In truth, master, if you do not keep still
and stay quiet at home, and give over roaming mountains and valleys
like a troubled spirit, looking for what they say are called
adventures, but what I call misfortunes, I shall have to make complaint
to God and the king with loud supplication to send some remedy.”

To which Don Quixote replied, “What answer God will give to your
complaints, housekeeper, I know not, nor what his Majesty will answer
either; I only know that if I were king I should decline to answer the
numberless silly petitions they present every day; for one of the
greatest among the many troubles kings have is being obliged to listen
to all and answer all, and therefore I should be sorry that any affairs
of mine should worry him.”

Whereupon the housekeeper said, “Tell us, señor, at his Majesty’s court
are there no knights?”

“There are,” replied Don Quixote, “and plenty of them; and it is right
there should be, to set off the dignity of the prince, and for the
greater glory of the king’s majesty.”

“Then might not your worship,” said she, “be one of those that, without
stirring a step, serve their king and lord in his court?”

“Recollect, my friend,” said Don Quixote, “all knights cannot be
courtiers, nor can all courtiers be knights-errant, nor need they be.
There must be all sorts in the world; and though we may be all knights,
there is a great difference between one and another; for the courtiers,
without quitting their chambers, or the threshold of the court, range
the world over by looking at a map, without its costing them a
farthing, and without suffering heat or cold, hunger or thirst; but we,
the true knights-errant, measure the whole earth with our own feet,
exposed to the sun, to the cold, to the air, to the inclemencies of
heaven, by day and night, on foot and on horseback; nor do we only know
enemies in pictures, but in their own real shapes; and at all risks and
on all occasions we attack them, without any regard to childish points
or rules of single combat, whether one has or has not a shorter lance
or sword, whether one carries relics or any secret contrivance about
him, whether or not the sun is to be divided and portioned out, and
other niceties of the sort that are observed in set combats of man to
man, that you know nothing about, but I do. And you must know besides,
that the true knight-errant, though he may see ten giants, that not
only touch the clouds with their heads but pierce them, and that go,
each of them, on two tall towers by way of legs, and whose arms are
like the masts of mighty ships, and each eye like a great mill-wheel,
and glowing brighter than a glass furnace, must not on any account be
dismayed by them. On the contrary, he must attack and fall upon them
with a gallant bearing and a fearless heart, and, if possible, vanquish
and destroy them, even though they have for armour the shells of a
certain fish, that they say are harder than diamonds, and in place of
swords wield trenchant blades of Damascus steel, or clubs studded with
spikes also of steel, such as I have more than once seen. All this I
say, housekeeper, that you may see the difference there is between the
one sort of knight and the other; and it would be well if there were no
prince who did not set a higher value on this second, or more properly
speaking first, kind of knights-errant; for, as we read in their
histories, there have been some among them who have been the salvation,
not merely of one kingdom, but of many.”

“Ah, señor,” here exclaimed the niece, “remember that all this you are
saying about knights-errant is fable and fiction; and their histories,
if indeed they were not burned, would deserve, each of them, to have a
sambenito put on it, or some mark by which it might be known as
infamous and a corrupter of good manners.”

“By the God that gives me life,” said Don Quixote, “if thou wert not my
full niece, being daughter of my own sister, I would inflict a
chastisement upon thee for the blasphemy thou hast uttered that all the
world should ring with. What! can it be that a young hussy that hardly
knows how to handle a dozen lace-bobbins dares to wag her tongue and
criticise the histories of knights-errant? What would Señor Amadis say
if he heard of such a thing? He, however, no doubt would forgive thee,
for he was the most humble-minded and courteous knight of his time, and
moreover a great protector of damsels; but some there are that might
have heard thee, and it would not have been well for thee in that case;
for they are not all courteous or mannerly; some are ill-conditioned
scoundrels; nor is it everyone that calls himself a gentleman, that is
so in all respects; some are gold, others pinchbeck, and all look like
gentlemen, but not all can stand the touchstone of truth. There are men
of low rank who strain themselves to bursting to pass for gentlemen,
and high gentlemen who, one would fancy, were dying to pass for men of
low rank; the former raise themselves by their ambition or by their
virtues, the latter debase themselves by their lack of spirit or by
their vices; and one has need of experience and discernment to
distinguish these two kinds of gentlemen, so much alike in name and so
different in conduct.”

“God bless me!” said the niece, “that you should know so much,
uncle—enough, if need be, to get up into a pulpit and go preach in the
streets—and yet that you should fall into a delusion so great and a
folly so manifest as to try to make yourself out vigorous when you are
old, strong when you are sickly, able to put straight what is crooked
when you yourself are bent by age, and, above all, a caballero when you
are not one; for though gentlefolk may be so, poor men are nothing of
the kind!”

“There is a great deal of truth in what you say, niece,” returned Don
Quixote, “and I could tell you somewhat about birth that would astonish
you; but, not to mix up things human and divine, I refrain. Look you,
my dears, all the lineages in the world (attend to what I am saying)
can be reduced to four sorts, which are these: those that had humble
beginnings, and went on spreading and extending themselves until they
attained surpassing greatness; those that had great beginnings and
maintained them, and still maintain and uphold the greatness of their
origin; those, again, that from a great beginning have ended in a point
like a pyramid, having reduced and lessened their original greatness
till it has come to nought, like the point of a pyramid, which,
relatively to its base or foundation, is nothing; and then there are
those—and it is they that are the most numerous—that have had neither
an illustrious beginning nor a remarkable mid-course, and so will have
an end without a name, like an ordinary plebeian line. Of the first,
those that had an humble origin and rose to the greatness they still
preserve, the Ottoman house may serve as an example, which from an
humble and lowly shepherd, its founder, has reached the height at which
we now see it. For examples of the second sort of lineage, that began
with greatness and maintains it still without adding to it, there are
the many princes who have inherited the dignity, and maintain
themselves in their inheritance, without increasing or diminishing it,
keeping peacefully within the limits of their states. Of those that
began great and ended in a point, there are thousands of examples, for
all the Pharaohs and Ptolemies of Egypt, the Cæsars of Rome, and the
whole herd (if I may apply such a word to them) of countless princes,
monarchs, lords, Medes, Assyrians, Persians, Greeks, and barbarians,
all these lineages and lordships have ended in a point and come to
nothing, they themselves as well as their founders, for it would be
impossible now to find one of their descendants, and, even should we
find one, it would be in some lowly and humble condition. Of plebeian
lineages I have nothing to say, save that they merely serve to swell
the number of those that live, without any eminence to entitle them to
any fame or praise beyond this. From all I have said I would have you
gather, my poor innocents, that great is the confusion among lineages,
and that only those are seen to be great and illustrious that show
themselves so by the virtue, wealth, and generosity of their
possessors. I have said virtue, wealth, and generosity, because a great
man who is vicious will be a great example of vice, and a rich man who
is not generous will be merely a miserly beggar; for the possessor of
wealth is not made happy by possessing it, but by spending it, and not
by spending as he pleases, but by knowing how to spend it well. The
poor gentleman has no way of showing that he is a gentleman but by
virtue, by being affable, well-bred, courteous, gentle-mannered, and
kindly, not haughty, arrogant, or censorious, but above all by being
charitable; for by two maravedis given with a cheerful heart to the
poor, he will show himself as generous as he who distributes alms with
bell-ringing, and no one that perceives him to be endowed with the
virtues I have named, even though he know him not, will fail to
recognise and set him down as one of good blood; and it would be
strange were it not so; praise has ever been the reward of virtue, and
those who are virtuous cannot fail to receive commendation. There are
two roads, my daughters, by which men may reach wealth and honours; one
is that of letters, the other that of arms. I have more of arms than of
letters in my composition, and, judging by my inclination to arms, was
born under the influence of the planet Mars. I am, therefore, in a
measure constrained to follow that road, and by it I must travel in
spite of all the world, and it will be labour in vain for you to urge
me to resist what heaven wills, fate ordains, reason requires, and,
above all, my own inclination favours; for knowing as I do the
countless toils that are the accompaniments of knight-errantry, I know,
too, the infinite blessings that are attained by it; I know that the
path of virtue is very narrow, and the road of vice broad and spacious;
I know their ends and goals are different, for the broad and easy road
of vice ends in death, and the narrow and toilsome one of virtue in
life, and not transitory life, but in that which has no end; I know, as
our great Castilian poet says, that-

It is by rugged paths like these they go
That scale the heights of immortality,
Unreached by those that falter here below.”


“Woe is me!” exclaimed the niece, “my lord is a poet, too! He knows
everything, and he can do everything; I will bet, if he chose to turn
mason, he could make a house as easily as a cage.”

“I can tell you, niece,” replied Don Quixote, “if these chivalrous
thoughts did not engage all my faculties, there would be nothing that I
could not do, nor any sort of knickknack that would not come from my
hands, particularly cages and tooth-picks.”

At this moment there came a knocking at the door, and when they asked
who was there, Sancho Panza made answer that it was he. The instant the
housekeeper knew who it was, she ran to hide herself so as not to see
him; in such abhorrence did she hold him. The niece let him in, and his
master Don Quixote came forward to receive him with open arms, and the
pair shut themselves up in his room, where they had another
conversation not inferior to the previous one.



p06e.jpg (19K)



CHAPTER VII.
OF WHAT PASSED BETWEEN DON QUIXOTE AND HIS SQUIRE, TOGETHER WITH OTHER
VERY NOTABLE INCIDENTS




p07a.jpg (140K)

Full Size



The instant the housekeeper saw Sancho Panza shut himself in with her
master, she guessed what they were about; and suspecting that the
result of the consultation would be a resolve to undertake a third
sally, she seized her mantle, and in deep anxiety and distress, ran to
find the bachelor Samson Carrasco, as she thought that, being a
well-spoken man, and a new friend of her master’s, he might be able to
persuade him to give up any such crazy notion. She found him pacing the
patio of his house, and, perspiring and flurried, she fell at his feet
the moment she saw him.

Carrasco, seeing how distressed and overcome she was, said to her,
“What is this, mistress housekeeper? What has happened to you? One
would think you heart-broken.”

“Nothing, Señor Samson,” said she, “only that my master is breaking
out, plainly breaking out.”

“Whereabouts is he breaking out, señora?” asked Samson; “has any part
of his body burst?”

“He is only breaking out at the door of his madness,” she replied; “I
mean, dear señor bachelor, that he is going to break out again (and
this will be the third time) to hunt all over the world for what he
calls ventures, though I can’t make out why he gives them that name.
The first time he was brought back to us slung across the back of an
ass, and belaboured all over; and the second time he came in an
ox-cart, shut up in a cage, in which he persuaded himself he was
enchanted, and the poor creature was in such a state that the mother
that bore him would not have known him; lean, yellow, with his eyes
sunk deep in the cells of his skull; so that to bring him round again,
ever so little, cost me more than six hundred eggs, as God knows, and
all the world, and my hens too, that won’t let me tell a lie.”

“That I can well believe,” replied the bachelor, “for they are so good
and so fat, and so well-bred, that they would not say one thing for
another, though they were to burst for it. In short then, mistress
housekeeper, that is all, and there is nothing the matter, except what
it is feared Don Quixote may do?”

“No, señor,” said she.

“Well then,” returned the bachelor, “don’t be uneasy, but go home in
peace; get me ready something hot for breakfast, and while you are on
the way say the prayer of Santa Apollonia, that is if you know it; for
I will come presently and you will see miracles.”

“Woe is me,” cried the housekeeper, “is it the prayer of Santa
Apollonia you would have me say? That would do if it was the toothache
my master had; but it is in the brains, what he has got.”

“I know what I am saying, mistress housekeeper; go, and don’t set
yourself to argue with me, for you know I am a bachelor of Salamanca,
and one can’t be more of a bachelor than that,” replied Carrasco; and
with this the housekeeper retired, and the bachelor went to look for
the curate, and arrange with him what will be told in its proper place.

While Don Quixote and Sancho were shut up together, they had a
discussion which the history records with great precision and
scrupulous exactness. Sancho said to his master, “Señor, I have educed
my wife to let me go with your worship wherever you choose to take me.”

“Induced, you should say, Sancho,” said Don Quixote; “not educed.”

“Once or twice, as well as I remember,” replied Sancho, “I have begged
of your worship not to mend my words, if so be as you understand what I
mean by them; and if you don’t understand them to say ‘Sancho,’ or
‘devil,’ ‘I don’t understand thee; and if I don’t make my meaning
plain, then you may correct me, for I am so focile—”

“I don’t understand thee, Sancho,” said Don Quixote at once; “for I
know not what ‘I am so focile’ means.”

“‘So focile’ means I am so much that way,” replied Sancho.

“I understand thee still less now,” said Don Quixote.

“Well, if you can’t understand me,” said Sancho, “I don’t know how to
put it; I know no more, God help me.”

“Oh, now I have hit it,” said Don Quixote; “thou wouldst say thou art
so docile, tractable, and gentle that thou wilt take what I say to
thee, and submit to what I teach thee.”

“I would bet,” said Sancho, “that from the very first you understood
me, and knew what I meant, but you wanted to put me out that you might
hear me make another couple of dozen blunders.”

“May be so,” replied Don Quixote; “but to come to the point, what does
Teresa say?”

“Teresa says,” replied Sancho, “that I should make sure with your
worship, and ‘let papers speak and beards be still,’ for ‘he who binds
does not wrangle,’ since one ‘take’ is better than two ‘I’ll give
thee’s;’ and I say a woman’s advice is no great thing, and he who won’t
take it is a fool.”

“And so say I,” said Don Quixote; “continue, Sancho my friend; go on;
you talk pearls to-day.”

“The fact is,” continued Sancho, “that, as your worship knows better
than I do, we are all of us liable to death, and to-day we are, and
to-morrow we are not, and the lamb goes as soon as the sheep, and
nobody can promise himself more hours of life in this world than God
may be pleased to give him; for death is deaf, and when it comes to
knock at our life’s door, it is always urgent, and neither prayers, nor
struggles, nor sceptres, nor mitres, can keep it back, as common talk
and report say, and as they tell us from the pulpits every day.”

“All that is very true,” said Don Quixote; “but I cannot make out what
thou art driving at.”

“What I am driving at,” said Sancho, “is that your worship settle some
fixed wages for me, to be paid monthly while I am in your service, and
that the same be paid me out of your estate; for I don’t care to stand
on rewards which either come late, or ill, or never at all; God help me
with my own. In short, I would like to know what I am to get, be it
much or little; for the hen will lay on one egg, and many littles make
a much, and so long as one gains something there is nothing lost. To be
sure, if it should happen (what I neither believe nor expect) that your
worship were to give me that island you have promised me, I am not so
ungrateful nor so grasping but that I would be willing to have the
revenue of such island valued and stopped out of my wages in due
promotion.”

“Sancho, my friend,” replied Don Quixote, “sometimes proportion may be
as good as promotion.”

“I see,” said Sancho; “I’ll bet I ought to have said proportion, and
not promotion; but it is no matter, as your worship has understood me.”

“And so well understood,” returned Don Quixote, “that I have seen into
the depths of thy thoughts, and know the mark thou art shooting at with
the countless shafts of thy proverbs. Look here, Sancho, I would
readily fix thy wages if I had ever found any instance in the histories
of the knights-errant to show or indicate, by the slightest hint, what
their squires used to get monthly or yearly; but I have read all or the
best part of their histories, and I cannot remember reading of any
knight-errant having assigned fixed wages to his squire; I only know
that they all served on reward, and that when they least expected it,
if good luck attended their masters, they found themselves recompensed
with an island or something equivalent to it, or at the least they were
left with a title and lordship. If with these hopes and additional
inducements you, Sancho, please to return to my service, well and good;
but to suppose that I am going to disturb or unhinge the ancient usage
of knight-errantry, is all nonsense. And so, my Sancho, get you back to
your house and explain my intentions to your Teresa, and if she likes
and you like to be on reward with me, _bene quidem;_ if not, we remain
friends; for if the pigeon-house does not lack food, it will not lack
pigeons; and bear in mind, my son, that a good hope is better than a
bad holding, and a good grievance better than a bad compensation. I
speak in this way, Sancho, to show you that I can shower down proverbs
just as well as yourself; and in short, I mean to say, and I do say,
that if you don’t like to come on reward with me, and run the same
chance that I run, God be with you and make a saint of you; for I shall
find plenty of squires more obedient and painstaking, and not so
thickheaded or talkative as you are.”

When Sancho heard his master’s firm, resolute language, a cloud came
over the sky with him and the wings of his heart drooped, for he had
made sure that his master would not go without him for all the wealth
of the world; and as he stood there dumbfoundered and moody, Samson
Carrasco came in with the housekeeper and niece, who were anxious to
hear by what arguments he was about to dissuade their master from going
to seek adventures. The arch wag Samson came forward, and embracing him
as he had done before, said with a loud voice, “O flower of
knight-errantry! O shining light of arms! O honour and mirror of the
Spanish nation! may God Almighty in his infinite power grant that any
person or persons, who would impede or hinder thy third sally, may find
no way out of the labyrinth of their schemes, nor ever accomplish what
they most desire!” And then, turning to the housekeeper, he said,
“Mistress housekeeper may just as well give over saying the prayer of
Santa Apollonia, for I know it is the positive determination of the
spheres that Señor Don Quixote shall proceed to put into execution his
new and lofty designs; and I should lay a heavy burden on my conscience
did I not urge and persuade this knight not to keep the might of his
strong arm and the virtue of his valiant spirit any longer curbed and
checked, for by his inactivity he is defrauding the world of the
redress of wrongs, of the protection of orphans, of the honour of
virgins, of the aid of widows, and of the support of wives, and other
matters of this kind appertaining, belonging, proper and peculiar to
the order of knight-errantry. On, then, my lord Don Quixote, beautiful
and brave, let your worship and highness set out to-day rather than
to-morrow; and if anything be needed for the execution of your purpose,
here am I ready in person and purse to supply the want; and were it
requisite to attend your magnificence as squire, I should esteem it the
happiest good fortune.”

At this, Don Quixote, turning to Sancho, said, “Did I not tell thee,
Sancho, there would be squires enough and to spare for me? See now who
offers to become one; no less than the illustrious bachelor Samson
Carrasco, the perpetual joy and delight of the courts of the Salamancan
schools, sound in body, discreet, patient under heat or cold, hunger or
thirst, with all the qualifications requisite to make a knight-errant’s
squire! But heaven forbid that, to gratify my own inclination, I should
shake or shatter this pillar of letters and vessel of the sciences, and
cut down this towering palm of the fair and liberal arts. Let this new
Samson remain in his own country, and, bringing honour to it, bring
honour at the same time on the grey heads of his venerable parents; for
I will be content with any squire that comes to hand, as Sancho does
not deign to accompany me.”

“I do deign,” said Sancho, deeply moved and with tears in his eyes; “it
shall not be said of me, master mine,” he continued, “‘the bread eaten
and the company dispersed.’ Nay, I come of no ungrateful stock, for all
the world knows, but particularly my own town, who the Panzas from whom
I am descended were; and, what is more, I know and have learned, by
many good words and deeds, your worship’s desire to show me favour; and
if I have been bargaining more or less about my wages, it was only to
please my wife, who, when she sets herself to press a point, no hammer
drives the hoops of a cask as she drives one to do what she wants; but,
after all, a man must be a man, and a woman a woman; and as I am a man
anyhow, which I can’t deny, I will be one in my own house too, let who
will take it amiss; and so there’s nothing more to do but for your
worship to make your will with its codicil in such a way that it can’t
be provoked, and let us set out at once, to save Señor Samson’s soul
from suffering, as he says his conscience obliges him to persuade your
worship to sally out upon the world a third time; so I offer again to
serve your worship faithfully and loyally, as well and better than all
the squires that served knights-errant in times past or present.”

The bachelor was filled with amazement when he heard Sancho’s
phraseology and style of talk, for though he had read the first part of
his master’s history he never thought that he could be so droll as he
was there described; but now, hearing him talk of a “will and codicil
that could not be provoked,” instead of “will and codicil that could
not be revoked,” he believed all he had read of him, and set him down
as one of the greatest simpletons of modern times; and he said to
himself that two such lunatics as master and man the world had never
seen. In fine, Don Quixote and Sancho embraced one another and made
friends, and by the advice and with the approval of the great Carrasco,
who was now their oracle, it was arranged that their departure should
take place three days thence, by which time they could have all that
was requisite for the journey ready, and procure a closed helmet, which
Don Quixote said he must by all means take. Samson offered him one, as
he knew a friend of his who had it would not refuse it to him, though
it was more dingy with rust and mildew than bright and clean like
burnished steel.

The curses which both housekeeper and niece poured out on the bachelor
were past counting; they tore their hair, they clawed their faces, and
in the style of the hired mourners that were once in fashion, they
raised a lamentation over the departure of their master and uncle, as
if it had been his death. Samson’s intention in persuading him to sally
forth once more was to do what the history relates farther on; all by
the advice of the curate and barber, with whom he had previously
discussed the subject. Finally, then, during those three days, Don
Quixote and Sancho provided themselves with what they considered
necessary, and Sancho having pacified his wife, and Don Quixote his
niece and housekeeper, at nightfall, unseen by anyone except the
bachelor, who thought fit to accompany them half a league out of the
village, they set out for El Toboso, Don Quixote on his good Rocinante
and Sancho on his old Dapple, his alforjas furnished with certain
matters in the way of victuals, and his purse with money that Don
Quixote gave him to meet emergencies. Samson embraced him, and
entreated him to let him hear of his good or evil fortunes, so that he
might rejoice over the former or condole with him over the latter, as
the laws of friendship required. Don Quixote promised him he would do
so, and Samson returned to the village, and the other two took the road
for the great city of El Toboso.



p07e.jpg (24K)



CHAPTER VIII.
WHEREIN IS RELATED WHAT BEFELL DON QUIXOTE ON HIS WAY TO SEE HIS LADY
DULCINEA DEL TOBOSO




p08a.jpg (65K)

Full Size



“Blessed be Allah the all-powerful!” says Hamete Benengeli on beginning
this eighth chapter; “blessed be Allah!” he repeats three times; and he
says he utters these thanksgivings at seeing that he has now got Don
Quixote and Sancho fairly afield, and that the readers of his
delightful history may reckon that the achievements and humours of Don
Quixote and his squire are now about to begin; and he urges them to
forget the former chivalries of the ingenious gentleman and to fix
their eyes on those that are to come, which now begin on the road to El
Toboso, as the others began on the plains of Montiel; nor is it much
that he asks in consideration of all he promises, and so he goes on to
say:

Don Quixote and Sancho were left alone, and the moment Samson took his
departure, Rocinante began to neigh, and Dapple to sigh, which, by both
knight and squire, was accepted as a good sign and a very happy omen;
though, if the truth is to be told, the sighs and brays of Dapple were
louder than the neighings of the hack, from which Sancho inferred that
his good fortune was to exceed and overtop that of his master,
building, perhaps, upon some judicial astrology that he may have known,
though the history says nothing about it; all that can be said is, that
when he stumbled or fell, he was heard to say he wished he had not come
out, for by stumbling or falling there was nothing to be got but a
damaged shoe or a broken rib; and, fool as he was, he was not much
astray in this.

Said Don Quixote, “Sancho, my friend, night is drawing on upon us as we
go, and more darkly than will allow us to reach El Toboso by daylight;
for there I am resolved to go before I engage in another adventure, and
there I shall obtain the blessing and generous permission of the
peerless Dulcinea, with which permission I expect and feel assured that
I shall conclude and bring to a happy termination every perilous
adventure; for nothing in life makes knights-errant more valorous than
finding themselves favoured by their ladies.”



p08b.jpg (283K)

Full Size



“So I believe,” replied Sancho; “but I think it will be difficult for
your worship to speak with her or see her, at any rate where you will
be able to receive her blessing; unless, indeed, she throws it over the
wall of the yard where I saw her the time before, when I took her the
letter that told of the follies and mad things your worship was doing
in the heart of Sierra Morena.”

“Didst thou take that for a yard wall, Sancho,” said Don Quixote,
“where or at which thou sawest that never sufficiently extolled grace
and beauty? It must have been the gallery, corridor, or portico of some
rich and royal palace.”

“It might have been all that,” returned Sancho, “but to me it looked
like a wall, unless I am short of memory.”

“At all events, let us go there, Sancho,” said Don Quixote; “for, so
that I see her, it is the same to me whether it be over a wall, or at a
window, or through the chink of a door, or the grate of a garden; for
any beam of the sun of her beauty that reaches my eyes will give light
to my reason and strength to my heart, so that I shall be unmatched and
unequalled in wisdom and valour.”

“Well, to tell the truth, señor,” said Sancho, “when I saw that sun of
the lady Dulcinea del Toboso, it was not bright enough to throw out
beams at all; it must have been, that as her grace was sifting that
wheat I told you of, the thick dust she raised came before her face
like a cloud and dimmed it.”

“What! dost thou still persist, Sancho,” said Don Quixote, “in saying,
thinking, believing, and maintaining that my lady Dulcinea was sifting
wheat, that being an occupation and task entirely at variance with what
is and should be the employment of persons of distinction, who are
constituted and reserved for other avocations and pursuits that show
their rank a bowshot off? Thou hast forgotten, O Sancho, those lines of
our poet wherein he paints for us how, in their crystal abodes, those
four nymphs employed themselves who rose from their loved Tagus and
seated themselves in a verdant meadow to embroider those tissues which
the ingenious poet there describes to us, how they were worked and
woven with gold and silk and pearls; and something of this sort must
have been the employment of my lady when thou sawest her, only that the
spite which some wicked enchanter seems to have against everything of
mine changes all those things that give me pleasure, and turns them
into shapes unlike their own; and so I fear that in that history of my
achievements which they say is now in print, if haply its author was
some sage who is an enemy of mine, he will have put one thing for
another, mingling a thousand lies with one truth, and amusing himself
by relating transactions which have nothing to do with the sequence of
a true history. O envy, root of all countless evils, and cankerworm of
the virtues! All the vices, Sancho, bring some kind of pleasure with
them; but envy brings nothing but irritation, bitterness, and rage.”

“So I say too,” replied Sancho; “and I suspect in that legend or
history of us that the bachelor Samson Carrasco told us he saw, my
honour goes dragged in the dirt, knocked about, up and down, sweeping
the streets, as they say. And yet, on the faith of an honest man, I
never spoke ill of any enchanter, and I am not so well off that I am to
be envied; to be sure, I am rather sly, and I have a certain spice of
the rogue in me; but all is covered by the great cloak of my
simplicity, always natural and never acted; and if I had no other merit
save that I believe, as I always do, firmly and truly in God, and all
the holy Roman Catholic Church holds and believes, and that I am a
mortal enemy of the Jews, the historians ought to have mercy on me and
treat me well in their writings. But let them say what they like; naked
was I born, naked I find myself, I neither lose nor gain; nay, while I
see myself put into a book and passed on from hand to hand over the
world, I don’t care a fig, let them say what they like of me.”

“That, Sancho,” returned Don Quixote, “reminds me of what happened to a
famous poet of our own day, who, having written a bitter satire against
all the courtesan ladies, did not insert or name in it a certain lady
of whom it was questionable whether she was one or not. She, seeing she
was not in the list of the poet, asked him what he had seen in her that
he did not include her in the number of the others, telling him he must
add to his satire and put her in the new part, or else look out for the
consequences. The poet did as she bade him, and left her without a
shred of reputation, and she was satisfied by getting fame though it
was infamy. In keeping with this is what they relate of that shepherd
who set fire to the famous temple of Diana, by repute one of the seven
wonders of the world, and burned it with the sole object of making his
name live in after ages; and, though it was forbidden to name him, or
mention his name by word of mouth or in writing, lest the object of his
ambition should be attained, nevertheless it became known that he was
called Erostratus. And something of the same sort is what happened in
the case of the great emperor Charles V. and a gentleman in Rome. The
emperor was anxious to see that famous temple of the Rotunda, called in
ancient times the temple ‘of all the gods,’ but now-a-days, by a better
nomenclature, ‘of all the saints,’ which is the best preserved building
of all those of pagan construction in Rome, and the one which best
sustains the reputation of mighty works and magnificence of its
founders. It is in the form of a half orange, of enormous dimensions,
and well lighted, though no light penetrates it save that which is
admitted by a window, or rather round skylight, at the top; and it was
from this that the emperor examined the building. A Roman gentleman
stood by his side and explained to him the skilful construction and
ingenuity of the vast fabric and its wonderful architecture, and when
they had left the skylight he said to the emperor, ‘A thousand times,
your Sacred Majesty, the impulse came upon me to seize your Majesty in
my arms and fling myself down from yonder skylight, so as to leave
behind me in the world a name that would last for ever.’ ‘I am thankful
to you for not carrying such an evil thought into effect,’ said the
emperor, ‘and I shall give you no opportunity in future of again
putting your loyalty to the test; and I therefore forbid you ever to
speak to me or to be where I am; and he followed up these words by
bestowing a liberal bounty upon him. My meaning is, Sancho, that the
desire of acquiring fame is a very powerful motive. What, thinkest
thou, was it that flung Horatius in full armour down from the bridge
into the depths of the Tiber? What burned the hand and arm of Mutius?
What impelled Curtius to plunge into the deep burning gulf that opened
in the midst of Rome? What, in opposition to all the omens that
declared against him, made Julius Cæsar cross the Rubicon? And to come
to more modern examples, what scuttled the ships, and left stranded and
cut off the gallant Spaniards under the command of the most courteous
Cortés in the New World? All these and a variety of other great
exploits are, were and will be, the work of fame that mortals desire as
a reward and a portion of the immortality their famous deeds deserve;
though we Catholic Christians and knights-errant look more to that
future glory that is everlasting in the ethereal regions of heaven than
to the vanity of the fame that is to be acquired in this present
transitory life; a fame that, however long it may last, must after all
end with the world itself, which has its own appointed end. So that, O
Sancho, in what we do we must not overpass the bounds which the
Christian religion we profess has assigned to us. We have to slay pride
in giants, envy by generosity and nobleness of heart, anger by calmness
of demeanour and equanimity, gluttony and sloth by the spareness of our
diet and the length of our vigils, lust and lewdness by the loyalty we
preserve to those whom we have made the mistresses of our thoughts,
indolence by traversing the world in all directions seeking
opportunities of making ourselves, besides Christians, famous knights.
Such, Sancho, are the means by which we reach those extremes of praise
that fair fame carries with it.”

“All that your worship has said so far,” said Sancho, “I have
understood quite well; but still I would be glad if your worship would
dissolve a doubt for me, which has just this minute come into my mind.”

“Solve, thou meanest, Sancho,” said Don Quixote; “say on, in God’s
name, and I will answer as well as I can.”

“Tell me, señor,” Sancho went on to say, “those Julys or Augusts, and
all those venturous knights that you say are now dead—where are they
now?”

“The heathens,” replied Don Quixote, “are, no doubt, in hell; the
Christians, if they were good Christians, are either in purgatory or in
heaven.”

“Very good,” said Sancho; “but now I want to know—the tombs where the
bodies of those great lords are, have they silver lamps before them, or
are the walls of their chapels ornamented with crutches,
winding-sheets, tresses of hair, legs and eyes in wax? Or what are they
ornamented with?”

To which Don Quixote made answer: “The tombs of the heathens were
generally sumptuous temples; the ashes of Julius Cæsar’s body were
placed on the top of a stone pyramid of vast size, which they now call
in Rome Saint Peter’s needle. The emperor Hadrian had for a tomb a
castle as large as a good-sized village, which they called the _Moles
Adriani_, and is now the castle of St. Angelo in Rome. The queen
Artemisia buried her husband Mausolus in a tomb which was reckoned one
of the seven wonders of the world; but none of these tombs, or of the
many others of the heathens, were ornamented with winding-sheets or any
of those other offerings and tokens that show that they who are buried
there are saints.”

“That’s the point I’m coming to,” said Sancho; “and now tell me, which
is the greater work, to bring a dead man to life or to kill a giant?”

“The answer is easy,” replied Don Quixote; “it is a greater work to
bring to life a dead man.”

“Now I have got you,” said Sancho; “in that case the fame of them who
bring the dead to life, who give sight to the blind, cure cripples,
restore health to the sick, and before whose tombs there are lamps
burning, and whose chapels are filled with devout folk on their knees
adoring their relics be a better fame in this life and in the other
than that which all the heathen emperors and knights-errant that have
ever been in the world have left or may leave behind them?”

“That I grant, too,” said Don Quixote.

“Then this fame, these favours, these privileges, or whatever you call
it,” said Sancho, “belong to the bodies and relics of the saints who,
with the approbation and permission of our holy mother Church, have
lamps, tapers, winding-sheets, crutches, pictures, eyes and legs, by
means of which they increase devotion and add to their own Christian
reputation. Kings carry the bodies or relics of saints on their
shoulders, and kiss bits of their bones, and enrich and adorn their
oratories and favourite altars with them.”

“What wouldst thou have me infer from all thou hast said, Sancho?”
asked Don Quixote.

“My meaning is,” said Sancho, “let us set about becoming saints, and we
shall obtain more quickly the fair fame we are striving after; for you
know, señor, yesterday or the day before yesterday (for it is so lately
one may say so) they canonised and beatified two little barefoot
friars, and it is now reckoned the greatest good luck to kiss or touch
the iron chains with which they girt and tortured their bodies, and
they are held in greater veneration, so it is said, than the sword of
Roland in the armoury of our lord the King, whom God preserve. So that,
señor, it is better to be an humble little friar of no matter what
order, than a valiant knight-errant; with God a couple of dozen of
penance lashings are of more avail than two thousand lance-thrusts, be
they given to giants, or monsters, or dragons.”

“All that is true,” returned Don Quixote, “but we cannot all be friars,
and many are the ways by which God takes his own to heaven; chivalry is
a religion, there are sainted knights in glory.”

“Yes,” said Sancho, “but I have heard say that there are more friars in
heaven than knights-errant.”

“That,” said Don Quixote, “is because those in religious orders are
more numerous than knights.”

“The errants are many,” said Sancho.

“Many,” replied Don Quixote, “but few they who deserve the name of
knights.”

With these, and other discussions of the same sort, they passed that
night and the following day, without anything worth mention happening
to them, whereat Don Quixote was not a little dejected; but at length
the next day, at daybreak, they descried the great city of El Toboso,
at the sight of which Don Quixote’s spirits rose and Sancho’s fell, for
he did not know Dulcinea’s house, nor in all his life had he ever seen
her, any more than his master; so that they were both uneasy, the one
to see her, the other at not having seen her, and Sancho was at a loss
to know what he was to do when his master sent him to El Toboso. In the
end, Don Quixote made up his mind to enter the city at nightfall, and
they waited until the time came among some oak trees that were near El
Toboso; and when the moment they had agreed upon arrived, they made
their entrance into the city, where something happened them that may
fairly be called something.



p08e.jpg (49K)

Full Size



CHAPTER IX.
WHEREIN IS RELATED WHAT WILL BE SEEN THERE




p09a.jpg (79K)

Full Size



’Twas at the very midnight hour—more or less—when Don Quixote and
Sancho quitted the wood and entered El Toboso. The town was in deep
silence, for all the inhabitants were asleep, and stretched on the
broad of their backs, as the saying is. The night was darkish, though
Sancho would have been glad had it been quite dark, so as to find in
the darkness an excuse for his blundering. All over the place nothing
was to be heard except the barking of dogs, which deafened the ears of
Don Quixote and troubled the heart of Sancho. Now and then an ass
brayed, pigs grunted, cats mewed, and the various noises they made
seemed louder in the silence of the night; all which the enamoured
knight took to be of evil omen; nevertheless he said to Sancho,
“Sancho, my son, lead on to the palace of Dulcinea, it may be that we
shall find her awake.”

“Body of the sun! what palace am I to lead to,” said Sancho, “when what
I saw her highness in was only a very little house?”

“Most likely she had then withdrawn into some small apartment of her
palace,” said Don Quixote, “to amuse herself with damsels, as great
ladies and princesses are accustomed to do.”

“Señor,” said Sancho, “if your worship will have it in spite of me that
the house of my lady Dulcinea is a palace, is this an hour, think you,
to find the door open; and will it be right for us to go knocking till
they hear us and open the door; making a disturbance and confusion all
through the household? Are we going, do you fancy, to the house of our
wenches, like gallants who come and knock and go in at any hour,
however late it may be?”

“Let us first of all find out the palace for certain,” replied Don
Quixote, “and then I will tell thee, Sancho, what we had best do; but
look, Sancho, for either I see badly, or that dark mass that one sees
from here should be Dulcinea’s palace.”

“Then let your worship lead the way,” said Sancho, “perhaps it may be
so; though I see it with my eyes and touch it with my hands, I’ll
believe it as much as I believe it is daylight now.”

Don Quixote took the lead, and having gone a matter of two hundred
paces he came upon the mass that produced the shade, and found it was a
great tower, and then he perceived that the building in question was no
palace, but the chief church of the town, and said he, “It’s the church
we have lit upon, Sancho.”

“So I see,” said Sancho, “and God grant we may not light upon our
graves; it is no good sign to find oneself wandering in a graveyard at
this time of night; and that, after my telling your worship, if I don’t
mistake, that the house of this lady will be in an alley without an
outlet.”

“The curse of God on thee for a blockhead!” said Don Quixote; “where
hast thou ever heard of castles and royal palaces being built in alleys
without an outlet?”

“Señor,” replied Sancho, “every country has a way of its own; perhaps
here in El Toboso it is the way to build palaces and grand buildings in
alleys; so I entreat your worship to let me search about among these
streets or alleys before me, and perhaps, in some corner or other, I
may stumble on this palace—and I wish I saw the dogs eating it for
leading us such a dance.”

“Speak respectfully of what belongs to my lady, Sancho,” said Don
Quixote; “let us keep the feast in peace, and not throw the rope after
the bucket.”

“I’ll hold my tongue,” said Sancho, “but how am I to take it patiently
when your worship wants me, with only once seeing the house of our
mistress, to know always, and find it in the middle of the night, when
your worship can’t find it, who must have seen it thousands of times?”

“Thou wilt drive me to desperation, Sancho,” said Don Quixote. “Look
here, heretic, have I not told thee a thousand times that I have never
once in my life seen the peerless Dulcinea or crossed the threshold of
her palace, and that I am enamoured solely by hearsay and by the great
reputation she bears for beauty and discretion?”

“I hear it now,” returned Sancho; “and I may tell you that if you have
not seen her, no more have I.”

“That cannot be,” said Don Quixote, “for, at any rate, thou saidst, on
bringing back the answer to the letter I sent by thee, that thou sawest
her sifting wheat.”

“Don’t mind that, señor,” said Sancho; “I must tell you that my seeing
her and the answer I brought you back were by hearsay too, for I can no
more tell who the lady Dulcinea is than I can hit the sky.”

“Sancho, Sancho,” said Don Quixote, “there are times for jests and
times when jests are out of place; if I tell thee that I have neither
seen nor spoken to the lady of my heart, it is no reason why thou
shouldst say thou hast not spoken to her or seen her, when the contrary
is the case, as thou well knowest.”

While the two were engaged in this conversation, they perceived someone
with a pair of mules approaching the spot where they stood, and from
the noise the plough made, as it dragged along the ground, they guessed
him to be some labourer who had got up before daybreak to go to his
work, and so it proved to be. He came along singing the ballad that
says-

Ill did ye fare, ye men of France,
In Roncesvalles chase-


“May I die, Sancho,” said Don Quixote, when he heard him, “if any good
will come to us to-night! Dost thou not hear what that clown is
singing?”

“I do,” said Sancho, “but what has Roncesvalles chase to do with what
we have in hand? He might just as well be singing the ballad of
Calainos, for any good or ill that can come to us in our business.”

By this time the labourer had come up, and Don Quixote asked him, “Can
you tell me, worthy friend, and God speed you, whereabouts here is the
palace of the peerless princess Doña Dulcinea del Toboso?”

“Señor,” replied the lad, “I am a stranger, and I have been only a few
days in the town, doing farm work for a rich farmer. In that house
opposite there live the curate of the village and the sacristan, and
both or either of them will be able to give your worship some account
of this lady princess, for they have a list of all the people of El
Toboso; though it is my belief there is not a princess living in the
whole of it; many ladies there are, of quality, and in her own house
each of them may be a princess.”

“Well, then, she I am inquiring for will be one of these, my friend,”
said Don Quixote.

“May be so,” replied the lad; “God be with you, for here comes the
daylight;” and without waiting for any more of his questions, he
whipped on his mules.

Sancho, seeing his master downcast and somewhat dissatisfied, said to
him, “Señor, daylight will be here before long, and it will not do for
us to let the sun find us in the street; it will be better for us to
quit the city, and for your worship to hide in some forest in the
neighbourhood, and I will come back in the daytime, and I won’t leave a
nook or corner of the whole village that I won’t search for the house,
castle, or palace, of my lady, and it will be hard luck for me if I
don’t find it; and as soon as I have found it I will speak to her
grace, and tell her where and how your worship is waiting for her to
arrange some plan for you to see her without any damage to her honour
and reputation.”

“Sancho,” said Don Quixote, “thou hast delivered a thousand sentences
condensed in the compass of a few words; I thank thee for the advice
thou hast given me, and take it most gladly. Come, my son, let us go
look for some place where I may hide, while thou dost return, as thou
sayest, to seek, and speak with my lady, from whose discretion and
courtesy I look for favours more than miraculous.”

Sancho was in a fever to get his master out of the town, lest he should
discover the falsehood of the reply he had brought to him in the Sierra
Morena on behalf of Dulcinea; so he hastened their departure, which
they took at once, and two miles out of the village they found a forest
or thicket wherein Don Quixote ensconced himself, while Sancho returned
to the city to speak to Dulcinea, in which embassy things befell him
which demand fresh attention and a new chapter.



p09e.jpg (34K)



CHAPTER X.
WHEREIN IS RELATED THE CRAFTY DEVICE SANCHO ADOPTED TO ENCHANT THE LADY
DULCINEA, AND OTHER INCIDENTS AS LUDICROUS AS THEY ARE TRUE




p10a.jpg (142K)

Full Size



When the author of this great history comes to relate what is set down
in this chapter he says he would have preferred to pass it over in
silence, fearing it would not be believed, because here Don Quixote’s
madness reaches the confines of the greatest that can be conceived, and
even goes a couple of bowshots beyond the greatest. But after all,
though still under the same fear and apprehension, he has recorded it
without adding to the story or leaving out a particle of the truth, and
entirely disregarding the charges of falsehood that might be brought
against him; and he was right, for the truth may run fine but will not
break, and always rises above falsehood as oil above water; and so,
going on with his story, he says that as soon as Don Quixote had
ensconced himself in the forest, oak grove, or wood near El Toboso, he
bade Sancho return to the city, and not come into his presence again
without having first spoken on his behalf to his lady, and begged of
her that it might be her good pleasure to permit herself to be seen by
her enslaved knight, and deign to bestow her blessing upon him, so that
he might thereby hope for a happy issue in all his encounters and
difficult enterprises. Sancho undertook to execute the task according
to the instructions, and to bring back an answer as good as the one he
brought back before.

“Go, my son,” said Don Quixote, “and be not dazed when thou findest
thyself exposed to the light of that sun of beauty thou art going to
seek. Happy thou, above all the squires in the world! Bear in mind, and
let it not escape thy memory, how she receives thee; if she changes
colour while thou art giving her my message; if she is agitated and
disturbed at hearing my name; if she cannot rest upon her cushion,
shouldst thou haply find her seated in the sumptuous state chamber
proper to her rank; and should she be standing, observe if she poises
herself now on one foot, now on the other; if she repeats two or three
times the reply she gives thee; if she passes from gentleness to
austerity, from asperity to tenderness; if she raises her hand to
smooth her hair though it be not disarranged. In short, my son, observe
all her actions and motions, for if thou wilt report them to me as they
were, I will gather what she hides in the recesses of her heart as
regards my love; for I would have thee know, Sancho, if thou knowest it
not, that with lovers the outward actions and motions they give way to
when their loves are in question are the faithful messengers that carry
the news of what is going on in the depths of their hearts. Go, my
friend, may better fortune than mine attend thee, and bring thee a
happier issue than that which I await in dread in this dreary
solitude.”

“I will go and return quickly,” said Sancho; “cheer up that little
heart of yours, master mine, for at the present moment you seem to have
got one no bigger than a hazel nut; remember what they say, that a
stout heart breaks bad luck, and that where there are no fletches there
are no pegs; and moreover they say, the hare jumps up where it’s not
looked for. I say this because, if we could not find my lady’s palaces
or castles to-night, now that it is daylight I count upon finding them
when I least expect it, and once found, leave it to me to manage her.”

“Verily, Sancho,” said Don Quixote, “thou dost always bring in thy
proverbs happily, whatever we deal with; may God give me better luck in
what I am anxious about.”

With this, Sancho wheeled about and gave Dapple the stick, and Don
Quixote remained behind, seated on his horse, resting in his stirrups
and leaning on the end of his lance, filled with sad and troubled
forebodings; and there we will leave him, and accompany Sancho, who
went off no less serious and troubled than he left his master; so much
so, that as soon as he had got out of the thicket, and looking round
saw that Don Quixote was not within sight, he dismounted from his ass,
and seating himself at the foot of a tree began to commune with
himself, saying, “Now, brother Sancho, let us know where your worship
is going. Are you going to look for some ass that has been lost? Not at
all. Then what are you going to look for? I am going to look for a
princess, that’s all; and in her for the sun of beauty and the whole
heaven at once. And where do you expect to find all this, Sancho?
Where? Why, in the great city of El Toboso. Well, and for whom are you
going to look for her? For the famous knight Don Quixote of La Mancha,
who rights wrongs, gives food to those who thirst and drink to the
hungry. That’s all very well, but do you know her house, Sancho? My
master says it will be some royal palace or grand castle. And have you
ever seen her by any chance? Neither I nor my master ever saw her. And
does it strike you that it would be just and right if the El Toboso
people, finding out that you were here with the intention of going to
tamper with their princesses and trouble their ladies, were to come and
cudgel your ribs, and not leave a whole bone in you? They would,
indeed, have very good reason, if they did not see that I am under
orders, and that ‘you are a messenger, my friend, no blame belongs to
you.’ Don’t you trust to that, Sancho, for the Manchegan folk are as
hot-tempered as they are honest, and won’t put up with liberties from
anybody. By the Lord, if they get scent of you, it will be worse for
you, I promise you. Be off, you scoundrel! Let the bolt fall. Why
should I go looking for three feet on a cat, to please another man; and
what is more, when looking for Dulcinea will be looking for Marica in
Ravena, or the bachelor in Salamanca? The devil, the devil and nobody
else, has mixed me up in this business!”

Such was the soliloquy Sancho held with himself, and all the conclusion
he could come to was to say to himself again, “Well, there’s remedy for
everything except death, under whose yoke we have all to pass, whether
we like it or not, when life’s finished. I have seen by a thousand
signs that this master of mine is a madman fit to be tied, and for that
matter, I too, am not behind him; for I’m a greater fool than he is
when I follow him and serve him, if there’s any truth in the proverb
that says, ‘Tell me what company thou keepest, and I’ll tell thee what
thou art,’ or in that other, ‘Not with whom thou art bred, but with
whom thou art fed.’ Well then, if he be mad, as he is, and with a
madness that mostly takes one thing for another, and white for black,
and black for white, as was seen when he said the windmills were
giants, and the monks’ mules dromedaries, flocks of sheep armies of
enemies, and much more to the same tune, it will not be very hard to
make him believe that some country girl, the first I come across here,
is the lady Dulcinea; and if he does not believe it, I’ll swear it; and
if he should swear, I’ll swear again; and if he persists I’ll persist
still more, so as, come what may, to have my quoit always over the peg.
Maybe, by holding out in this way, I may put a stop to his sending me
on messages of this kind another time; or maybe he will think, as I
suspect he will, that one of those wicked enchanters, who he says have
a spite against him, has changed her form for the sake of doing him an
ill turn and injuring him.”

With this reflection Sancho made his mind easy, counting the business
as good as settled, and stayed there till the afternoon so as to make
Don Quixote think he had time enough to go to El Toboso and return; and
things turned out so luckily for him that as he got up to mount Dapple,
he spied, coming from El Toboso towards the spot where he stood, three
peasant girls on three colts, or fillies—for the author does not make
the point clear, though it is more likely they were she-asses, the
usual mount with village girls; but as it is of no great consequence,
we need not stop to prove it.

To be brief, the instant Sancho saw the peasant girls, he returned full
speed to seek his master, and found him sighing and uttering a thousand
passionate lamentations. When Don Quixote saw him he exclaimed, “What
news, Sancho, my friend? Am I to mark this day with a white stone or a
black?”

“Your worship,” replied Sancho, “had better mark it with ruddle, like
the inscriptions on the walls of class rooms, that those who see it may
see it plain.”

“Then thou bringest good news,” said Don Quixote.

“So good,” replied Sancho, “that your worship has only to spur
Rocinante and get out into the open field to see the lady Dulcinea del
Toboso, who, with two others, damsels of hers, is coming to see your
worship.”

“Holy God! what art thou saying, Sancho, my friend?” exclaimed Don
Quixote. “Take care thou art not deceiving me, or seeking by false joy
to cheer my real sadness.”

“What could I get by deceiving your worship,” returned Sancho,
“especially when it will so soon be shown whether I tell the truth or
not? Come, señor, push on, and you will see the princess our mistress
coming, robed and adorned—in fact, like what she is. Her damsels and
she are all one glow of gold, all bunches of pearls, all diamonds, all
rubies, all cloth of brocade of more than ten borders; with their hair
loose on their shoulders like so many sunbeams playing with the wind;
and moreover, they come mounted on three piebald cackneys, the finest
sight ever you saw.”

“Hackneys, you mean, Sancho,” said Don Quixote.

“There is not much difference between cackneys and hackneys,” said
Sancho; “but no matter what they come on, there they are, the finest
ladies one could wish for, especially my lady the princess Dulcinea,
who staggers one’s senses.”

“Let us go, Sancho, my son,” said Don Quixote, “and in guerdon of this
news, as unexpected as it is good, I bestow upon thee the best spoil I
shall win in the first adventure I may have; or if that does not
satisfy thee, I promise thee the foals I shall have this year from my
three mares that thou knowest are in foal on our village common.”

“I’ll take the foals,” said Sancho; “for it is not quite certain that
the spoils of the first adventure will be good ones.”

By this time they had cleared the wood, and saw the three village
lasses close at hand. Don Quixote looked all along the road to El
Toboso, and as he could see nobody except the three peasant girls, he
was completely puzzled, and asked Sancho if it was outside the city he
had left them.

“How outside the city?” returned Sancho. “Are your worship’s eyes in
the back of your head, that you can’t see that they are these who are
coming here, shining like the very sun at noonday?”

“I see nothing, Sancho,” said Don Quixote, “but three country girls on
three jackasses.”

“Now, may God deliver me from the devil!” said Sancho, “and can it be
that your worship takes three hackneys—or whatever they’re called—as
white as the driven snow, for jackasses? By the Lord, I could tear my
beard if that was the case!”

“Well, I can only say, Sancho, my friend,” said Don Quixote, “that it
is as plain they are jackasses—or jennyasses—as that I am Don Quixote,
and thou Sancho Panza: at any rate, they seem to me to be so.”

“Hush, señor,” said Sancho, “don’t talk that way, but open your eyes,
and come and pay your respects to the lady of your thoughts, who is
close upon us now;” and with these words he advanced to receive the
three village lasses, and dismounting from Dapple, caught hold of one
of the asses of the three country girls by the halter, and dropping on
both knees on the ground, he said, “Queen and princess and duchess of
beauty, may it please your haughtiness and greatness to receive into
your favour and good-will your captive knight who stands there turned
into marble stone, and quite stupefied and benumbed at finding himself
in your magnificent presence. I am Sancho Panza, his squire, and he the
vagabond knight Don Quixote of La Mancha, otherwise called ‘The Knight
of the Rueful Countenance.’”

Don Quixote had by this time placed himself on his knees beside Sancho,
and, with eyes starting out of his head and a puzzled gaze, was
regarding her whom Sancho called queen and lady; and as he could see
nothing in her except a village lass, and not a very well-favoured one,
for she was platter-faced and snub-nosed, he was perplexed and
bewildered, and did not venture to open his lips. The country girls, at
the same time, were astonished to see these two men, so different in
appearance, on their knees, preventing their companion from going on.
She, however, who had been stopped, breaking silence, said angrily and
testily, “Get out of the way, bad luck to you, and let us pass, for we
are in a hurry.”



p10b.jpg (319K)

Full Size



To which Sancho returned, “Oh, princess and universal lady of El
Toboso, is not your magnanimous heart softened by seeing the pillar and
prop of knight-errantry on his knees before your sublimated presence?”

On hearing this, one of the others exclaimed, “Woa then! why, I’m
rubbing thee down, she-ass of my father-in-law! See how the lordlings
come to make game of the village girls now, as if we here could not
chaff as well as themselves. Go your own way, and let us go ours, and
it will be better for you.”

“Get up, Sancho,” said Don Quixote at this; “I see that fortune, ‘with
evil done to me unsated still,’ has taken possession of all the roads
by which any comfort may reach ‘this wretched soul’ that I carry in my
flesh. And thou, highest perfection of excellence that can be desired,
utmost limit of grace in human shape, sole relief of this afflicted
heart that adores thee, though the malign enchanter that persecutes me
has brought clouds and cataracts on my eyes, and to them, and them
only, transformed thy unparagoned beauty and changed thy features into
those of a poor peasant girl, if so be he has not at the same time
changed mine into those of some monster to render them loathsome in thy
sight, refuse not to look upon me with tenderness and love; seeing in
this submission that I make on my knees to thy transformed beauty the
humility with which my soul adores thee.”

“Hey-day! My grandfather!” cried the girl, “much I care for your
love-making! Get out of the way and let us pass, and we’ll thank you.”

Sancho stood aside and let her go, very well pleased to have got so
well out of the hobble he was in. The instant the village lass who had
done duty for Dulcinea found herself free, prodding her “cackney” with
a spike she had at the end of a stick, she set off at full speed across
the field. The she-ass, however, feeling the point more acutely than
usual, began cutting such capers, that it flung the lady Dulcinea to
the ground; seeing which, Don Quixote ran to raise her up, and Sancho
to fix and girth the pack-saddle, which also had slipped under the
ass’s belly. The pack-saddle being secured, as Don Quixote was about to
lift up his enchanted mistress in his arms and put her upon her beast,
the lady, getting up from the ground, saved him the trouble, for, going
back a little, she took a short run, and putting both hands on the
croup of the ass she dropped into the saddle more lightly than a
falcon, and sat astride like a man, whereat Sancho said, “Rogue! but
our lady is lighter than a lanner, and might teach the cleverest
Cordovan or Mexican how to mount; she cleared the back of the saddle in
one jump, and without spurs she is making the hackney go like a zebra;
and her damsels are no way behind her, for they all fly like the wind;”
which was the truth, for as soon as they saw Dulcinea mounted, they
pushed on after her, and sped away without looking back, for more than
half a league.

Don Quixote followed them with his eyes, and when they were no longer
in sight, he turned to Sancho and said, “How now, Sancho? thou seest
how I am hated by enchanters! And see to what a length the malice and
spite they bear me go, when they seek to deprive me of the happiness it
would give me to see my lady in her own proper form. The fact is I was
born to be an example of misfortune, and the target and mark at which
the arrows of adversity are aimed and directed. Observe too, Sancho,
that these traitors were not content with changing and transforming my
Dulcinea, but they transformed and changed her into a shape as mean and
ill-favoured as that of the village girl yonder; and at the same time
they robbed her of that which is such a peculiar property of ladies of
distinction, that is to say, the sweet fragrance that comes of being
always among perfumes and flowers. For I must tell thee, Sancho, that
when I approached to put Dulcinea upon her hackney (as thou sayest it
was, though to me it appeared a she-ass), she gave me a whiff of raw
garlic that made my head reel, and poisoned my very heart.”

“O scum of the earth!” cried Sancho at this, “O miserable, spiteful
enchanters! O that I could see you all strung by the gills, like
sardines on a twig! Ye know a great deal, ye can do a great deal, and
ye do a great deal more. It ought to have been enough for you, ye
scoundrels, to have changed the pearls of my lady’s eyes into oak
galls, and her hair of purest gold into the bristles of a red ox’s
tail, and in short, all her features from fair to foul, without
meddling with her smell; for by that we might somehow have found out
what was hidden underneath that ugly rind; though, to tell the truth, I
never perceived her ugliness, but only her beauty, which was raised to
the highest pitch of perfection by a mole she had on her right lip,
like a moustache, with seven or eight red hairs like threads of gold,
and more than a palm long.”

“From the correspondence which exists between those of the face and
those of the body,” said Don Quixote, “Dulcinea must have another mole
resembling that on the thick of the thigh on that side on which she has
the one on her face; but hairs of the length thou hast mentioned are
very long for moles.”

“Well, all I can say is there they were as plain as could be,” replied
Sancho.

“I believe it, my friend,” returned Don Quixote; “for nature bestowed
nothing on Dulcinea that was not perfect and well-finished; and so, if
she had a hundred moles like the one thou hast described, in her they
would not be moles, but moons and shining stars. But tell me, Sancho,
that which seemed to me to be a pack-saddle as thou wert fixing it, was
it a flat-saddle or a side-saddle?”

“It was neither,” replied Sancho, “but a jineta saddle, with a field
covering worth half a kingdom, so rich is it.”

“And that I could not see all this, Sancho!” said Don Quixote; “once
more I say, and will say a thousand times, I am the most unfortunate of
men.”

Sancho, the rogue, had enough to do to hide his laughter, at hearing
the simplicity of the master he had so nicely befooled. At length,
after a good deal more conversation had passed between them, they
remounted their beasts, and followed the road to Saragossa, which they
expected to reach in time to take part in a certain grand festival
which is held every year in that illustrious city; but before they got
there things happened to them, so many, so important, and so strange,
that they deserve to be recorded and read, as will be seen farther on.



p10e.jpg (56K)

Full Size



CHAPTER XI.
OF THE STRANGE ADVENTURE WHICH THE VALIANT DON QUIXOTE HAD WITH THE CAR
OR CART OF “THE CORTES OF DEATH”




p11a.jpg (172K)

Full Size



Dejected beyond measure did Don Quixote pursue his journey, turning
over in his mind the cruel trick the enchanters had played him in
changing his lady Dulcinea into the vile shape of the village lass, nor
could he think of any way of restoring her to her original form; and
these reflections so absorbed him, that without being aware of it he
let go Rocinante’s bridle, and he, perceiving the liberty that was
granted him, stopped at every step to crop the fresh grass with which
the plain abounded.

Sancho recalled him from his reverie. “Melancholy, señor,” said he,
“was made, not for beasts, but for men; but if men give way to it
overmuch they turn to beasts; control yourself, your worship; be
yourself again; gather up Rocinante’s reins; cheer up, rouse yourself
and show that gallant spirit that knights-errant ought to have. What
the devil is this? What weakness is this? Are we here or in France? The
devil fly away with all the Dulcineas in the world; for the well-being
of a single knight-errant is of more consequence than all the
enchantments and transformations on earth.”

“Hush, Sancho,” said Don Quixote in a weak and faint voice, “hush and
utter no blasphemies against that enchanted lady; for I alone am to
blame for her misfortune and hard fate; her calamity has come of the
hatred the wicked bear me.”

“So say I,” returned Sancho; “his heart rend in twain, I trow, who saw
her once, to see her now.”

“Thou mayest well say that, Sancho,” replied Don Quixote, “as thou
sawest her in the full perfection of her beauty; for the enchantment
does not go so far as to pervert thy vision or hide her loveliness from
thee; against me alone and against my eyes is the strength of its venom
directed. Nevertheless, there is one thing which has occurred to me,
and that is that thou didst ill describe her beauty to me, for, as well
as I recollect, thou saidst that her eyes were pearls; but eyes that
are like pearls are rather the eyes of a sea-bream than of a lady, and
I am persuaded that Dulcinea’s must be green emeralds, full and soft,
with two rainbows for eyebrows; take away those pearls from her eyes
and transfer them to her teeth; for beyond a doubt, Sancho, thou hast
taken the one for the other, the eyes for the teeth.”

“Very likely,” said Sancho; “for her beauty bewildered me as much as
her ugliness did your worship; but let us leave it all to God, who
alone knows what is to happen in this vale of tears, in this evil world
of ours, where there is hardly a thing to be found without some mixture
of wickedness, roguery, and rascality. But one thing, señor, troubles
me more than all the rest, and that is thinking what is to be done when
your worship conquers some giant, or some other knight, and orders him
to go and present himself before the beauty of the lady Dulcinea. Where
is this poor giant, or this poor wretch of a vanquished knight, to find
her? I think I can see them wandering all over El Toboso, looking like
noddies, and asking for my lady Dulcinea; and even if they meet her in
the middle of the street they won’t know her any more than they would
my father.”

“Perhaps, Sancho,” returned Don Quixote, “the enchantment does not go
so far as to deprive conquered and presented giants and knights of the
power of recognising Dulcinea; we will try by experiment with one or
two of the first I vanquish and send to her, whether they see her or
not, by commanding them to return and give me an account of what
happened to them in this respect.”

“I declare, I think what your worship has proposed is excellent,” said
Sancho; “and that by this plan we shall find out what we want to know;
and if it be that it is only from your worship she is hidden, the
misfortune will be more yours than hers; but so long as the lady
Dulcinea is well and happy, we on our part will make the best of it,
and get on as well as we can, seeking our adventures, and leaving Time
to take his own course; for he is the best physician for these and
greater ailments.”

Don Quixote was about to reply to Sancho Panza, but he was prevented by
a cart crossing the road full of the most diverse and strange
personages and figures that could be imagined. He who led the mules and
acted as carter was a hideous demon; the cart was open to the sky,
without a tilt or cane roof, and the first figure that presented itself
to Don Quixote’s eyes was that of Death itself with a human face; next
to it was an angel with large painted wings, and at one side an
emperor, with a crown, to all appearance of gold, on his head. At the
feet of Death was the god called Cupid, without his bandage, but with
his bow, quiver, and arrows; there was also a knight in full armour,
except that he had no morion or helmet, but only a hat decked with
plumes of divers colours; and along with these there were others with a
variety of costumes and faces. All this, unexpectedly encountered, took
Don Quixote somewhat aback, and struck terror into the heart of Sancho;
but the next instant Don Quixote was glad of it, believing that some
new perilous adventure was presenting itself to him, and under this
impression, and with a spirit prepared to face any danger, he planted
himself in front of the cart, and in a loud and menacing tone,
exclaimed, “Carter, or coachman, or devil, or whatever thou art, tell
me at once who thou art, whither thou art going, and who these folk are
thou carriest in thy wagon, which looks more like Charon’s boat than an
ordinary cart.”

To which the devil, stopping the cart, answered quietly, “Señor, we are
players of Angulo el Malo’s company; we have been acting the play of
‘The Cortés of Death’ this morning, which is the octave of Corpus
Christi, in a village behind that hill, and we have to act it this
afternoon in that village which you can see from this; and as it is so
near, and to save the trouble of undressing and dressing again, we go
in the costumes in which we perform. That lad there appears as Death,
that other as an angel, that woman, the manager’s wife, plays the
queen, this one the soldier, that the emperor, and I the devil; and I
am one of the principal characters of the play, for in this company I
take the leading parts. If you want to know anything more about us, ask
me and I will answer with the utmost exactitude, for as I am a devil I
am up to everything.”

“By the faith of a knight-errant,” replied Don Quixote, “when I saw
this cart I fancied some great adventure was presenting itself to me;
but I declare one must touch with the hand what appears to the eye, if
illusions are to be avoided. God speed you, good people; keep your
festival, and remember, if you demand of me ought wherein I can render
you a service, I will do it gladly and willingly, for from a child I
was fond of the play, and in my youth a keen lover of the actor’s art.”

While they were talking, fate so willed it that one of the company in a
mummers’ dress with a great number of bells, and armed with three blown
ox-bladders at the end of a stick, joined them, and this merry-andrew
approaching Don Quixote, began flourishing his stick and banging the
ground with the bladders and cutting capers with great jingling of the
bells, which untoward apparition so startled Rocinante that, in spite
of Don Quixote’s efforts to hold him in, taking the bit between his
teeth he set off across the plain with greater speed than the bones of
his anatomy ever gave any promise of.



p11b.jpg (327K)

Full Size



Sancho, who thought his master was in danger of being thrown, jumped
off Dapple, and ran in all haste to help him; but by the time he
reached him he was already on the ground, and beside him was Rocinante,
who had come down with his master, the usual end and upshot of
Rocinante’s vivacity and high spirits. But the moment Sancho quitted
his beast to go and help Don Quixote, the dancing devil with the
bladders jumped up on Dapple, and beating him with them, more by the
fright and the noise than by the pain of the blows, made him fly across
the fields towards the village where they were going to hold their
festival. Sancho witnessed Dapple’s career and his master’s fall, and
did not know which of the two cases of need he should attend to first;
but in the end, like a good squire and good servant, he let his love
for his master prevail over his affection for his ass; though every
time he saw the bladders rise in the air and come down on the hind
quarters of his Dapple he felt the pains and terrors of death, and he
would have rather had the blows fall on the apples of his own eyes than
on the least hair of his ass’s tail. In this trouble and perplexity he
came to where Don Quixote lay in a far sorrier plight than he liked,
and having helped him to mount Rocinante, he said to him, “Señor, the
devil has carried off my Dapple.”

“What devil?” asked Don Quixote.

“The one with the bladders,” said Sancho.

“Then I will recover him,” said Don Quixote, “even if he be shut up
with him in the deepest and darkest dungeons of hell. Follow me,
Sancho, for the cart goes slowly, and with the mules of it I will make
good the loss of Dapple.”

“You need not take the trouble, señor,” said Sancho; “keep cool, for as
I now see, the devil has let Dapple go and he is coming back to his old
quarters;” and so it turned out, for, having come down with Dapple, in
imitation of Don Quixote and Rocinante, the devil made off on foot to
the town, and the ass came back to his master.

“For all that,” said Don Quixote, “it will be well to visit the
discourtesy of that devil upon some of those in the cart, even if it
were the emperor himself.”

“Don’t think of it, your worship,” returned Sancho; “take my advice and
never meddle with actors, for they are a favoured class; I myself have
known an actor taken up for two murders, and yet come off scot-free;
remember that, as they are merry folk who give pleasure, everyone
favours and protects them, and helps and makes much of them, above all
when they are those of the royal companies and under patent, all or
most of whom in dress and appearance look like princes.”

“Still, for all that,” said Don Quixote, “the player devil must not go
off boasting, even if the whole human race favours him.”

So saying, he made for the cart, which was now very near the town,
shouting out as he went, “Stay! halt! ye merry, jovial crew! I want to
teach you how to treat asses and animals that serve the squires of
knights-errant for steeds.”

So loud were the shouts of Don Quixote, that those in the cart heard
and understood them, and, guessing by the words what the speaker’s
intention was, Death in an instant jumped out of the cart, and the
emperor, the devil carter and the angel after him, nor did the queen or
the god Cupid stay behind; and all armed themselves with stones and
formed in line, prepared to receive Don Quixote on the points of their
pebbles. Don Quixote, when he saw them drawn up in such a gallant array
with uplifted arms ready for a mighty discharge of stones, checked
Rocinante and began to consider in what way he could attack them with
the least danger to himself. As he halted Sancho came up, and seeing
him disposed to attack this well-ordered squadron, said to him, “It
would be the height of madness to attempt such an enterprise; remember,
señor, that against sops from the brook, and plenty of them, there is
no defensive armour in the world, except to stow oneself away under a
brass bell; and besides, one should remember that it is rashness, and
not valour, for a single man to attack an army that has Death in it,
and where emperors fight in person, with angels, good and bad, to help
them; and if this reflection will not make you keep quiet, perhaps it
will to know for certain that among all these, though they look like
kings, princes, and emperors, there is not a single knight-errant.”

“Now indeed thou hast hit the point, Sancho,” said Don Quixote, “which
may and should turn me from the resolution I had already formed. I
cannot and must not draw sword, as I have many a time before told thee,
against anyone who is not a dubbed knight; it is for thee, Sancho, if
thou wilt, to take vengeance for the wrong done to thy Dapple; and I
will help thee from here by shouts and salutary counsels.”

“There is no occasion to take vengeance on anyone, señor,” replied
Sancho; “for it is not the part of good Christians to revenge wrongs;
and besides, I will arrange it with my ass to leave his grievance to my
good-will and pleasure, and that is to live in peace as long as heaven
grants me life.”

“Well,” said Don Quixote, “if that be thy determination, good Sancho,
sensible Sancho, Christian Sancho, honest Sancho, let us leave these
phantoms alone and turn to the pursuit of better and worthier
adventures; for, from what I see of this country, we cannot fail to
find plenty of marvellous ones in it.”

He at once wheeled about, Sancho ran to take possession of his Dapple,
Death and his flying squadron returned to their cart and pursued their
journey, and thus the dread adventure of the cart of Death ended
happily, thanks to the advice Sancho gave his master; who had, the
following day, a fresh adventure, of no less thrilling interest than
the last, with an enamoured knight-errant.



p11e.jpg (20K)



CHAPTER XII.
OF THE STRANGE ADVENTURE WHICH BEFELL THE VALIANT DON QUIXOTE WITH THE
BOLD KNIGHT OF THE MIRRORS




p12a.jpg (98K)

Full Size



The night succeeding the day of the encounter with Death, Don Quixote
and his squire passed under some tall shady trees, and Don Quixote at
Sancho’s persuasion ate a little from the store carried by Dapple, and
over their supper Sancho said to his master, “Señor, what a fool I
should have looked if I had chosen for my reward the spoils of the
first adventure your worship achieved, instead of the foals of the
three mares. After all, ‘a sparrow in the hand is better than a vulture
on the wing.’”

“At the same time, Sancho,” replied Don Quixote, “if thou hadst let me
attack them as I wanted, at the very least the emperor’s gold crown and
Cupid’s painted wings would have fallen to thee as spoils, for I should
have taken them by force and given them into thy hands.”

“The sceptres and crowns of those play-actor emperors,” said Sancho,
“were never yet pure gold, but only brass foil or tin.”

“That is true,” said Don Quixote, “for it would not be right that the
accessories of the drama should be real, instead of being mere fictions
and semblances, like the drama itself; towards which, Sancho—and, as a
necessary consequence, towards those who represent and produce it—I
would that thou wert favourably disposed, for they are all instruments
of great good to the State, placing before us at every step a mirror in
which we may see vividly displayed what goes on in human life; nor is
there any similitude that shows us more faithfully what we are and
ought to be than the play and the players. Come, tell me, hast thou not
seen a play acted in which kings, emperors, pontiffs, knights, ladies,
and divers other personages were introduced? One plays the villain,
another the knave, this one the merchant, that the soldier, one the
sharp-witted fool, another the foolish lover; and when the play is
over, and they have put off the dresses they wore in it, all the actors
become equal.”

“Yes, I have seen that,” said Sancho.

“Well then,” said Don Quixote, “the same thing happens in the comedy
and life of this world, where some play emperors, others popes, and, in
short, all the characters that can be brought into a play; but when it
is over, that is to say when life ends, death strips them all of the
garments that distinguish one from the other, and all are equal in the
grave.”

“A fine comparison!” said Sancho; “though not so new but that I have
heard it many and many a time, as well as that other one of the game of
chess; how, so long as the game lasts, each piece has its own
particular office, and when the game is finished they are all mixed,
jumbled up and shaken together, and stowed away in the bag, which is
much like ending life in the grave.”

“Thou art growing less doltish and more shrewd every day, Sancho,” said
Don Quixote.

“Ay,” said Sancho; “it must be that some of your worship’s shrewdness
sticks to me; land that, of itself, is barren and dry, will come to
yield good fruit if you dung it and till it; what I mean is that your
worship’s conversation has been the dung that has fallen on the barren
soil of my dry wit, and the time I have been in your service and
society has been the tillage; and with the help of this I hope to yield
fruit in abundance that will not fall away or slide from those paths of
good breeding that your worship has made in my parched understanding.”

Don Quixote laughed at Sancho’s affected phraseology, and perceived
that what he said about his improvement was true, for now and then he
spoke in a way that surprised him; though always, or mostly, when
Sancho tried to talk fine and attempted polite language, he wound up by
toppling over from the summit of his simplicity into the abyss of his
ignorance; and where he showed his culture and his memory to the
greatest advantage was in dragging in proverbs, no matter whether they
had any bearing or not upon the subject in hand, as may have been seen
already and will be noticed in the course of this history.



p12b.jpg (298K)

Full Size



In conversation of this kind they passed a good part of the night, but
Sancho felt a desire to let down the curtains of his eyes, as he used
to say when he wanted to go to sleep; and stripping Dapple he left him
at liberty to graze his fill. He did not remove Rocinante’s saddle, as
his master’s express orders were, that so long as they were in the
field or not sleeping under a roof Rocinante was not to be stripped—the
ancient usage established and observed by knights-errant being to take
off the bridle and hang it on the saddle-bow, but to remove the saddle
from the horse—never! Sancho acted accordingly, and gave him the same
liberty he had given Dapple, between whom and Rocinante there was a
friendship so unequalled and so strong, that it is handed down by
tradition from father to son, that the author of this veracious history
devoted some special chapters to it, which, in order to preserve the
propriety and decorum due to a history so heroic, he did not insert
therein; although at times he forgets this resolution of his and
describes how eagerly the two beasts would scratch one another when
they were together and how, when they were tired or full, Rocinante
would lay his neck across Dapple’s, stretching half a yard or more on
the other side, and the pair would stand thus, gazing thoughtfully on
the ground, for three days, or at least so long as they were left
alone, or hunger did not drive them to go and look for food. I may add
that they say the author left it on record that he likened their
friendship to that of Nisus and Euryalus, and Pylades and Orestes; and
if that be so, it may be perceived, to the admiration of mankind, how
firm the friendship must have been between these two peaceful animals,
shaming men, who preserve friendships with one another so badly. This
was why it was said-

For friend no longer is there friend;
The reeds turn lances now.


And someone else has sung—

Friend to friend the bug, etc.


and let no one fancy that the author was at all astray when he compared
the friendship of these animals to that of men; for men have received
many lessons from beasts, and learned many important things, as, for
example, the clyster from the stork, vomit and gratitude from the dog,
watchfulness from the crane, foresight from the ant, modesty from the
elephant, and loyalty from the horse.

Sancho at last fell asleep at the foot of a cork tree, while Don
Quixote dozed at that of a sturdy oak; but a short time only had
elapsed when a noise he heard behind him awoke him, and rising up
startled, he listened and looked in the direction the noise came from,
and perceived two men on horseback, one of whom, letting himself drop
from the saddle, said to the other, “Dismount, my friend, and take the
bridles off the horses, for, so far as I can see, this place will
furnish grass for them, and the solitude and silence my love-sick
thoughts need of.” As he said this he stretched himself upon the
ground, and as he flung himself down, the armour in which he was clad
rattled, whereby Don Quixote perceived that he must be a knight-errant;
and going over to Sancho, who was asleep, he shook him by the arm and
with no small difficulty brought him back to his senses, and said in a
low voice to him, “Brother Sancho, we have got an adventure.”

“God send us a good one,” said Sancho; “and where may her ladyship the
adventure be?”

“Where, Sancho?” replied Don Quixote; “turn thine eyes and look, and
thou wilt see stretched there a knight-errant, who, it strikes me, is
not over and above happy, for I saw him fling himself off his horse and
throw himself on the ground with a certain air of dejection, and his
armour rattled as he fell.”

“Well,” said Sancho, “how does your worship make out that to be an
adventure?”

“I do not mean to say,” returned Don Quixote, “that it is a complete
adventure, but that it is the beginning of one, for it is in this way
adventures begin. But listen, for it seems he is tuning a lute or
guitar, and from the way he is spitting and clearing his chest he must
be getting ready to sing something.”

“Faith, you are right,” said Sancho, “and no doubt he is some enamoured
knight.”

“There is no knight-errant that is not,” said Don Quixote; “but let us
listen to him, for, if he sings, by that thread we shall extract the
ball of his thoughts; because out of the abundance of the heart the
mouth speaketh.”

Sancho was about to reply to his master, but the Knight of the Grove’s
voice, which was neither very bad nor very good, stopped him, and
listening attentively the pair heard him sing this

SONNET

Your pleasure, prithee, lady mine, unfold;
Declare the terms that I am to obey;
My will to yours submissively I mould,
And from your law my feet shall never stray.
Would you I die, to silent grief a prey?
Then count me even now as dead and cold;
Would you I tell my woes in some new way?
Then shall my tale by Love itself be told.
The unison of opposites to prove,
Of the soft wax and diamond hard am I;
But still, obedient to the laws of love,
Here, hard or soft, I offer you my breast,
Whate’er you grave or stamp thereon shall rest
Indelible for all eternity.


With an “Ah me!” that seemed to be drawn from the inmost recesses of
his heart, the Knight of the Grove brought his lay to an end, and
shortly afterwards exclaimed in a melancholy and piteous voice, “O
fairest and most ungrateful woman on earth! What! can it be, most
serene Casildea de Vandalia, that thou wilt suffer this thy captive
knight to waste away and perish in ceaseless wanderings and rude and
arduous toils? It is not enough that I have compelled all the knights
of Navarre, all the Leonese, all the Tartesians, all the Castilians,
and finally all the knights of La Mancha, to confess thee the most
beautiful in the world?”

“Not so,” said Don Quixote at this, “for I am of La Mancha, and I have
never confessed anything of the sort, nor could I nor should I confess
a thing so much to the prejudice of my lady’s beauty; thou seest how
this knight is raving, Sancho. But let us listen, perhaps he will tell
us more about himself.”

“That he will,” returned Sancho, “for he seems in a mood to bewail
himself for a month at a stretch.”

But this was not the case, for the Knight of the Grove, hearing voices
near him, instead of continuing his lamentation, stood up and exclaimed
in a distinct but courteous tone, “Who goes there? What are you? Do you
belong to the number of the happy or of the miserable?”

“Of the miserable,” answered Don Quixote.

“Then come to me,” said he of the Grove, “and rest assured that it is
to woe itself and affliction itself you come.”

Don Quixote, finding himself answered in such a soft and courteous
manner, went over to him, and so did Sancho.

The doleful knight took Don Quixote by the arm, saying, “Sit down here,
sir knight; for, that you are one, and of those that profess
knight-errantry, it is to me a sufficient proof to have found you in
this place, where solitude and night, the natural couch and proper
retreat of knights-errant, keep you company.” To which Don made answer,
“A knight I am of the profession you mention, and though sorrows,
misfortunes, and calamities have made my heart their abode, the
compassion I feel for the misfortunes of others has not been thereby
banished from it. From what you have just now sung I gather that yours
spring from love, I mean from the love you bear that fair ingrate you
named in your lament.”

In the meantime, they had seated themselves together on the hard ground
peaceably and sociably, just as if, as soon as day broke, they were not
going to break one another’s heads.

“Are you, sir knight, in love perchance?” asked he of the Grove of Don
Quixote.

“By mischance I am,” replied Don Quixote; “though the ills arising from
well-bestowed affections should be esteemed favours rather than
misfortunes.”

“That is true,” returned he of the Grove, “if scorn did not unsettle
our reason and understanding, for if it be excessive it looks like
revenge.”

“I was never scorned by my lady,” said Don Quixote.

“Certainly not,” said Sancho, who stood close by, “for my lady is as a
lamb, and softer than a roll of butter.”

“Is this your squire?” asked he of the Grove.

“He is,” said Don Quixote.

“I never yet saw a squire,” said he of the Grove, “who ventured to
speak when his master was speaking; at least, there is mine, who is as
big as his father, and it cannot be proved that he has ever opened his
lips when I am speaking.”

“By my faith then,” said Sancho, “I have spoken, and am fit to speak,
in the presence of one as much, or even—but never mind—it only makes it
worse to stir it.”

The squire of the Grove took Sancho by the arm, saying to him, “Let us
two go where we can talk in squire style as much as we please, and
leave these gentlemen our masters to fight it out over the story of
their loves; and, depend upon it, daybreak will find them at it without
having made an end of it.”

“So be it by all means,” said Sancho; “and I will tell your worship who
I am, that you may see whether I am to be reckoned among the number of
the most talkative squires.”

With this the two squires withdrew to one side, and between them there
passed a conversation as droll as that which passed between their
masters was serious.



p12e.jpg (15K)



CHAPTER XIII.
IN WHICH IS CONTINUED THE ADVENTURE OF THE KNIGHT OF THE GROVE,
TOGETHER WITH THE SENSIBLE, ORIGINAL, AND TRANQUIL COLLOQUY THAT PASSED
BETWEEN THE TWO SQUIRES




p13a.jpg (126K)

Full Size



The knights and the squires made two parties, these telling the story
of their lives, the others the story of their loves; but the history
relates first of all the conversation of the servants, and afterwards
takes up that of the masters; and it says that, withdrawing a little
from the others, he of the Grove said to Sancho, “A hard life it is we
lead and live, señor, we that are squires to knights-errant; verily, we
eat our bread in the sweat of our faces, which is one of the curses God
laid on our first parents.”

“It may be said, too,” added Sancho, “that we eat it in the chill of
our bodies; for who gets more heat and cold than the miserable squires
of knight-errantry? Even so it would not be so bad if we had something
to eat, for woes are lighter if there’s bread; but sometimes we go a
day or two without breaking our fast, except with the wind that blows.”

“All that,” said he of the Grove, “may be endured and put up with when
we have hopes of reward; for, unless the knight-errant he serves is
excessively unlucky, after a few turns the squire will at least find
himself rewarded with a fine government of some island or some fair
county.”

“I,” said Sancho, “have already told my master that I shall be content
with the government of some island, and he is so noble and generous
that he has promised it to me ever so many times.”

“I,” said he of the Grove, “shall be satisfied with a canonry for my
services, and my master has already assigned me one.”

“Your master,” said Sancho, “no doubt is a knight in the Church line,
and can bestow rewards of that sort on his good squire; but mine is
only a layman; though I remember some clever, but, to my mind,
designing people, strove to persuade him to try and become an
archbishop. He, however, would not be anything but an emperor; but I
was trembling all the time lest he should take a fancy to go into the
Church, not finding myself fit to hold office in it; for I may tell
you, though I seem a man, I am no better than a beast for the Church.”

“Well, then, you are wrong there,” said he of the Grove; “for those
island governments are not all satisfactory; some are awkward, some are
poor, some are dull, and, in short, the highest and choicest brings
with it a heavy burden of cares and troubles which the unhappy wight to
whose lot it has fallen bears upon his shoulders. Far better would it
be for us who have adopted this accursed service to go back to our own
houses, and there employ ourselves in pleasanter occupations—in hunting
or fishing, for instance; for what squire in the world is there so poor
as not to have a hack and a couple of greyhounds and a fishingrod to
amuse himself with in his own village?”

“I am not in want of any of those things,” said Sancho; “to be sure I
have no hack, but I have an ass that is worth my master’s horse twice
over; God send me a bad Easter, and that the next one I am to see, if I
would swap, even if I got four bushels of barley to boot. You will
laugh at the value I put on my Dapple—for dapple is the colour of my
beast. As to greyhounds, I can’t want for them, for there are enough
and to spare in my town; and, moreover, there is more pleasure in sport
when it is at other people’s expense.”

“In truth and earnest, sir squire,” said he of the Grove, “I have made
up my mind and determined to have done with these drunken vagaries of
these knights, and go back to my village, and bring up my children; for
I have three, like three Oriental pearls.”

“I have two,” said Sancho, “that might be presented before the Pope
himself, especially a girl whom I am breeding up for a countess, please
God, though in spite of her mother.”

“And how old is this lady that is being bred up for a countess?” asked
he of the Grove.

“Fifteen, a couple of years more or less,” answered Sancho; “but she is
as tall as a lance, and as fresh as an April morning, and as strong as
a porter.”

“Those are gifts to fit her to be not only a countess but a nymph of
the greenwood,” said he of the Grove; “whoreson strumpet! what pith the
rogue must have!”

To which Sancho made answer, somewhat sulkily, “She’s no strumpet, nor
was her mother, nor will either of them be, please God, while I live;
speak more civilly; for one bred up among knights-errant, who are
courtesy itself, your words don’t seem to me to be very becoming.”

“O how little you know about compliments, sir squire,” returned he of
the Grove. “What! don’t you know that when a horseman delivers a good
lance thrust at the bull in the plaza, or when anyone does anything
very well, the people are wont to say, ‘Ha, whoreson rip! how well he
has done it!’ and that what seems to be abuse in the expression is high
praise? Disown sons and daughters, señor, who don’t do what deserves
that compliments of this sort should be paid to their parents.”

“I do disown them,” replied Sancho, “and in this way, and by the same
reasoning, you might call me and my children and my wife all the
strumpets in the world, for all they do and say is of a kind that in
the highest degree deserves the same praise; and to see them again I
pray God to deliver me from mortal sin, or, what comes to the same
thing, to deliver me from this perilous calling of squire into which I
have fallen a second time, decayed and beguiled by a purse with a
hundred ducats that I found one day in the heart of the Sierra Morena;
and the devil is always putting a bag full of doubloons before my eyes,
here, there, everywhere, until I fancy at every stop I am putting my
hand on it, and hugging it, and carrying it home with me, and making
investments, and getting interest, and living like a prince; and so
long as I think of this I make light of all the hardships I endure with
this simpleton of a master of mine, who, I well know, is more of a
madman than a knight.”

“There’s why they say that ‘covetousness bursts the bag,’” said he of
the Grove; “but if you come to talk of that sort, there is not a
greater one in the world than my master, for he is one of those of whom
they say, ‘the cares of others kill the ass;’ for, in order that
another knight may recover the senses he has lost, he makes a madman of
himself and goes looking for what, when found, may, for all I know, fly
in his own face.” “And is he in love perchance?” asked Sancho.

“He is,” said of the Grove, “with one Casildea de Vandalia, the rawest
and best roasted lady the whole world could produce; but that rawness
is not the only foot he limps on, for he has greater schemes rumbling
in his bowels, as will be seen before many hours are over.”

“There’s no road so smooth but it has some hole or hindrance in it,”
said Sancho; “in other houses they cook beans, but in mine it’s by the
potful; madness will have more followers and hangers-on than sound
sense; but if there be any truth in the common saying, that to have
companions in trouble gives some relief, I may take consolation from
you, inasmuch as you serve a master as crazy as my own.”

“Crazy but valiant,” replied he of the Grove, “and more roguish than
crazy or valiant.”

“Mine is not that,” said Sancho; “I mean he has nothing of the rogue in
him; on the contrary, he has the soul of a pitcher; he has no thought
of doing harm to anyone, only good to all, nor has he any malice
whatever in him; a child might persuade him that it is night at
noonday; and for this simplicity I love him as the core of my heart,
and I can’t bring myself to leave him, let him do ever such foolish
things.”

“For all that, brother and señor,” said he of the Grove, “if the blind
lead the blind, both are in danger of falling into the pit. It is
better for us to beat a quiet retreat and get back to our own quarters;
for those who seek adventures don’t always find good ones.”

Sancho kept spitting from time to time, and his spittle seemed somewhat
ropy and dry, observing which the compassionate squire of the Grove
said, “It seems to me that with all this talk of ours our tongues are
sticking to the roofs of our mouths; but I have a pretty good loosener
hanging from the saddle-bow of my horse,” and getting up he came back
the next minute with a large bota of wine and a pasty half a yard
across; and this is no exaggeration, for it was made of a house rabbit
so big that Sancho, as he handled it, took it to be made of a goat, not
to say a kid, and looking at it he said, “And do you carry this with
you, señor?”

“Why, what are you thinking about?” said the other; “do you take me for
some paltry squire? I carry a better larder on my horse’s croup than a
general takes with him when he goes on a march.”

Sancho ate without requiring to be pressed, and in the dark bolted
mouthfuls like the knots on a tether, and said he, “You are a proper
trusty squire, one of the right sort, sumptuous and grand, as this
banquet shows, which, if it has not come here by magic art, at any rate
has the look of it; not like me, unlucky beggar, that have nothing more
in my alforjas than a scrap of cheese, so hard that one might brain a
giant with it, and, to keep it company, a few dozen carobs and as many
more filberts and walnuts; thanks to the austerity of my master, and
the idea he has and the rule he follows, that knights-errant must not
live or sustain themselves on anything except dried fruits and the
herbs of the field.”

“By my faith, brother,” said he of the Grove, “my stomach is not made
for thistles, or wild pears, or roots of the woods; let our masters do
as they like, with their chivalry notions and laws, and eat what those
enjoin; I carry my prog-basket and this bota hanging to the saddle-bow,
whatever they may say; and it is such an object of worship with me, and
I love it so, that there is hardly a moment but I am kissing and
embracing it over and over again;” and so saying he thrust it into
Sancho’s hands, who raising it aloft pointed to his mouth, gazed at the
stars for a quarter of an hour; and when he had done drinking let his
head fall on one side, and giving a deep sigh, exclaimed, “Ah, whoreson
rogue, how catholic it is!”

“There, you see,” said he of the Grove, hearing Sancho’s exclamation,
“how you have called this wine whoreson by way of praise.”

“Well,” said Sancho, “I own it, and I grant it is no dishonour to call
anyone whoreson when it is to be understood as praise. But tell me,
señor, by what you love best, is this Ciudad Real wine?”

“O rare wine-taster!” said he of the Grove; “nowhere else indeed does
it come from, and it has some years’ age too.”

“Leave me alone for that,” said Sancho; “never fear but I’ll hit upon
the place it came from somehow. What would you say, sir squire, to my
having such a great natural instinct in judging wines that you have
only to let me smell one and I can tell positively its country, its
kind, its flavour and soundness, the changes it will undergo, and
everything that appertains to a wine? But it is no wonder, for I have
had in my family, on my father’s side, the two best wine-tasters that
have been known in La Mancha for many a long year, and to prove it I’ll
tell you now a thing that happened them. They gave the two of them some
wine out of a cask, to try, asking their opinion as to the condition,
quality, goodness or badness of the wine. One of them tried it with the
tip of his tongue, the other did no more than bring it to his nose. The
first said the wine had a flavour of iron, the second said it had a
stronger flavour of cordovan. The owner said the cask was clean, and
that nothing had been added to the wine from which it could have got a
flavour of either iron or leather. Nevertheless, these two great
wine-tasters held to what they had said. Time went by, the wine was
sold, and when they came to clean out the cask, they found in it a
small key hanging to a thong of cordovan; see now if one who comes of
the same stock has not a right to give his opinion in such like cases.”

“Therefore, I say,” said he of the Grove, “let us give up going in
quest of adventures, and as we have loaves let us not go looking for
cakes, but return to our cribs, for God will find us there if it be his
will.”

“Until my master reaches Saragossa,” said Sancho, “I’ll remain in his
service; after that we’ll see.”

The end of it was that the two squires talked so much and drank so much
that sleep had to tie their tongues and moderate their thirst, for to
quench it was impossible; and so the pair of them fell asleep clinging
to the now nearly empty bota and with half-chewed morsels in their
mouths; and there we will leave them for the present, to relate what
passed between the Knight of the Grove and him of the Rueful
Countenance.



p13e.jpg (43K)



CHAPTER XIV.
WHEREIN IS CONTINUED THE ADVENTURE OF THE KNIGHT OF THE GROVE




p14a.jpg (120K)

Full Size



Among the things that passed between Don Quixote and the Knight of the
Wood, the history tells us he of the Grove said to Don Quixote, “In
fine, sir knight, I would have you know that my destiny, or, more
properly speaking, my choice led me to fall in love with the peerless
Casildea de Vandalia. I call her peerless because she has no peer,
whether it be in bodily stature or in the supremacy of rank and beauty.
This same Casildea, then, that I speak of, requited my honourable
passion and gentle aspirations by compelling me, as his stepmother did
Hercules, to engage in many perils of various sorts, at the end of each
promising me that, with the end of the next, the object of my hopes
should be attained; but my labours have gone on increasing link by link
until they are past counting, nor do I know what will be the last one
that is to be the beginning of the accomplishment of my chaste desires.
On one occasion she bade me go and challenge the famous giantess of
Seville, La Giralda by name, who is as mighty and strong as if made of
brass, and though never stirring from one spot, is the most restless
and changeable woman in the world. I came, I saw, I conquered, and I
made her stay quiet and behave herself, for nothing but north winds
blew for more than a week. Another time I was ordered to lift those
ancient stones, the mighty bulls of Guisando, an enterprise that might
more fitly be entrusted to porters than to knights. Again, she bade me
fling myself into the cavern of Cabra—an unparalleled and awful
peril—and bring her a minute account of all that is concealed in those
gloomy depths. I stopped the motion of the Giralda, I lifted the bulls
of Guisando, I flung myself into the cavern and brought to light the
secrets of its abyss; and my hopes are as dead as dead can be, and her
scorn and her commands as lively as ever. To be brief, last of all she
has commanded me to go through all the provinces of Spain and compel
all the knights-errant wandering therein to confess that she surpasses
all women alive to-day in beauty, and that I am the most valiant and
the most deeply enamoured knight on earth; in support of which claim I
have already travelled over the greater part of Spain, and have there
vanquished several knights who have dared to contradict me; but what I
most plume and pride myself upon is having vanquished in single combat
that so famous knight Don Quixote of La Mancha, and made him confess
that my Casildea is more beautiful than his Dulcinea; and in this one
victory I hold myself to have conquered all the knights in the world;
for this Don Quixote that I speak of has vanquished them all, and I
having vanquished him, his glory, his fame, and his honour have passed
and are transferred to my person; for

The more the vanquished hath of fair renown,
The greater glory gilds the victor’s crown.


Thus the innumerable achievements of the said Don Quixote are now set
down to my account and have become mine.”

Don Quixote was amazed when he heard the Knight of the Grove, and was a
thousand times on the point of telling him he lied, and had the lie
direct already on the tip of his tongue; but he restrained himself as
well as he could, in order to force him to confess the lie with his own
lips; so he said to him quietly, “As to what you say, sir knight, about
having vanquished most of the knights of Spain, or even of the whole
world, I say nothing; but that you have vanquished Don Quixote of La
Mancha I consider doubtful; it may have been some other that resembled
him, although there are few like him.”

“How! not vanquished?” said he of the Grove; “by the heaven that is
above us I fought Don Quixote and overcame him and made him yield; and
he is a man of tall stature, gaunt features, long, lank limbs, with
hair turning grey, an aquiline nose rather hooked, and large black
drooping moustaches; he does battle under the name of ‘The
Countenance,’ and he has for squire a peasant called Sancho Panza; he
presses the loins and rules the reins of a famous steed called
Rocinante; and lastly, he has for the mistress of his will a certain
Dulcinea del Toboso, once upon a time called Aldonza Lorenzo, just as I
call mine Casildea de Vandalia because her name is Casilda and she is
of Andalusia. If all these tokens are not enough to vindicate the truth
of what I say, here is my sword, that will compel incredulity itself to
give credence to it.”

“Calm yourself, sir knight,” said Don Quixote, “and give ear to what I
am about to say to you. I would have you know that this Don Quixote you
speak of is the greatest friend I have in the world; so much so that I
may say I regard him in the same light as my own person; and from the
precise and clear indications you have given I cannot but think that he
must be the very one you have vanquished. On the other hand, I see with
my eyes and feel with my hands that it is impossible it can have been
the same; unless indeed it be that, as he has many enemies who are
enchanters, and one in particular who is always persecuting him,
someone of these may have taken his shape in order to allow himself to
be vanquished, so as to defraud him of the fame that his exalted
achievements as a knight have earned and acquired for him throughout
the known world. And in confirmation of this, I must tell you, too,
that it is but ten hours since these said enchanters his enemies
transformed the shape and person of the fair Dulcinea del Toboso into a
foul and mean village lass, and in the same way they must have
transformed Don Quixote; and if all this does not suffice to convince
you of the truth of what I say, here is Don Quixote himself, who will
maintain it by arms, on foot or on horseback or in any way you please.”

And so saying he stood up and laid his hand on his sword, waiting to
see what the Knight of the Grove would do, who in an equally calm voice
said in reply, “Pledges don’t distress a good payer; he who has
succeeded in vanquishing you once when transformed, Sir Don Quixote,
may fairly hope to subdue you in your own proper shape; but as it is
not becoming for knights to perform their feats of arms in the dark,
like highwaymen and bullies, let us wait till daylight, that the sun
may behold our deeds; and the conditions of our combat shall be that
the vanquished shall be at the victor’s disposal, to do all that he may
enjoin, provided the injunction be such as shall be becoming a knight.”

“I am more than satisfied with these conditions and terms,” replied Don
Quixote; and so saying, they betook themselves to where their squires
lay, and found them snoring, and in the same posture they were in when
sleep fell upon them. They roused them up, and bade them get the horses
ready, as at sunrise they were to engage in a bloody and arduous single
combat; at which intelligence Sancho was aghast and thunderstruck,
trembling for the safety of his master because of the mighty deeds he
had heard the squire of the Grove ascribe to his; but without a word
the two squires went in quest of their cattle; for by this time the
three horses and the ass had smelt one another out, and were all
together.

On the way, he of the Grove said to Sancho, “You must know, brother,
that it is the custom with the fighting men of Andalusia, when they are
godfathers in any quarrel, not to stand idle with folded arms while
their godsons fight; I say so to remind you that while our masters are
fighting, we, too, have to fight, and knock one another to shivers.”

“That custom, sir squire,” replied Sancho, “may hold good among those
bullies and fighting men you talk of, but certainly not among the
squires of knights-errant; at least, I have never heard my master speak
of any custom of the sort, and he knows all the laws of knight-errantry
by heart; but granting it true that there is an express law that
squires are to fight while their masters are fighting, I don’t mean to
obey it, but to pay the penalty that may be laid on peacefully minded
squires like myself; for I am sure it cannot be more than two pounds of
wax, and I would rather pay that, for I know it will cost me less than
the lint I shall be at the expense of to mend my head, which I look
upon as broken and split already; there’s another thing that makes it
impossible for me to fight, that I have no sword, for I never carried
one in my life.”

“I know a good remedy for that,” said he of the Grove; “I have here two
linen bags of the same size; you shall take one, and I the other, and
we will fight at bag blows with equal arms.”

“If that’s the way, so be it with all my heart,” said Sancho, “for that
sort of battle will serve to knock the dust out of us instead of
hurting us.”

“That will not do,” said the other, “for we must put into the bags, to
keep the wind from blowing them away, half a dozen nice smooth pebbles,
all of the same weight; and in this way we shall be able to baste one
another without doing ourselves any harm or mischief.”

“Body of my father!” said Sancho, “see what marten and sable, and pads
of carded cotton he is putting into the bags, that our heads may not be
broken and our bones beaten to jelly! But even if they are filled with
toss silk, I can tell you, señor, I am not going to fight; let our
masters fight, that’s their lookout, and let us drink and live; for
time will take care to ease us of our lives, without our going to look
for fillips so that they may be finished off before their proper time
comes and they drop from ripeness.”

“Still,” returned he of the Grove, “we must fight, if it be only for
half an hour.”

“By no means,” said Sancho; “I am not going to be so discourteous or so
ungrateful as to have any quarrel, be it ever so small, with one I have
eaten and drunk with; besides, who the devil could bring himself to
fight in cold blood, without anger or provocation?”

“I can remedy that entirely,” said he of the Grove, “and in this way:
before we begin the battle, I will come up to your worship fair and
softly, and give you three or four buffets, with which I shall stretch
you at my feet and rouse your anger, though it were sleeping sounder
than a dormouse.”

“To match that plan,” said Sancho, “I have another that is not a whit
behind it; I will take a cudgel, and before your worship comes near
enough to waken my anger I will send yours so sound to sleep with
whacks, that it won’t waken unless it be in the other world, where it
is known that I am not a man to let my face be handled by anyone; let
each look out for the arrow—though the surer way would be to let
everyone’s anger sleep, for nobody knows the heart of anyone, and a man
may come for wool and go back shorn; God gave his blessing to peace and
his curse to quarrels; if a hunted cat, surrounded and hard pressed,
turns into a lion, God knows what I, who am a man, may turn into; and
so from this time forth I warn you, sir squire, that all the harm and
mischief that may come of our quarrel will be put down to your
account.”

“Very good,” said he of the Grove; “God will send the dawn and we shall
be all right.”

And now gay-plumaged birds of all sorts began to warble in the trees,
and with their varied and gladsome notes seemed to welcome and salute
the fresh morn that was beginning to show the beauty of her countenance
at the gates and balconies of the east, shaking from her locks a
profusion of liquid pearls; in which dulcet moisture bathed, the
plants, too, seemed to shed and shower down a pearly spray, the willows
distilled sweet manna, the fountains laughed, the brooks babbled, the
woods rejoiced, and the meadows arrayed themselves in all their glory
at her coming. But hardly had the light of day made it possible to see
and distinguish things, when the first object that presented itself to
the eyes of Sancho Panza was the squire of the Grove’s nose, which was
so big that it almost overshadowed his whole body. It is, in fact,
stated, that it was of enormous size, hooked in the middle, covered
with warts, and of a mulberry colour like an egg-plant; it hung down
two fingers’ length below his mouth, and the size, the colour, the
warts, and the bend of it, made his face so hideous, that Sancho, as he
looked at him, began to tremble hand and foot like a child in
convulsions, and he vowed in his heart to let himself be given two
hundred buffets, sooner than be provoked to fight that monster. Don
Quixote examined his adversary, and found that he already had his
helmet on and visor lowered, so that he could not see his face; he
observed, however, that he was a sturdily built man, but not very tall
in stature. Over his armour he wore a surcoat or cassock of what seemed
to be the finest cloth of gold, all bespangled with glittering mirrors
like little moons, which gave him an extremely gallant and splendid
appearance; above his helmet fluttered a great quantity of plumes,
green, yellow, and white, and his lance, which was leaning against a
tree, was very long and stout, and had a steel point more than a palm
in length.

Don Quixote observed all, and took note of all, and from what he saw
and observed he concluded that the said knight must be a man of great
strength, but he did not for all that give way to fear, like Sancho
Panza; on the contrary, with a composed and dauntless air, he said to
the Knight of the Mirrors, “If, sir knight, your great eagerness to
fight has not banished your courtesy, by it I would entreat you to
raise your visor a little, in order that I may see if the comeliness of
your countenance corresponds with that of your equipment.”

“Whether you come victorious or vanquished out of this emprise, sir
knight,” replied he of the Mirrors, “you will have more than enough
time and leisure to see me; and if now I do not comply with your
request, it is because it seems to me I should do a serious wrong to
the fair Casildea de Vandalia in wasting time while I stopped to raise
my visor before compelling you to confess what you are already aware I
maintain.”

“Well then,” said Don Quixote, “while we are mounting you can at least
tell me if I am that Don Quixote whom you said you vanquished.”

“To that we answer you,” said he of the Mirrors, “that you are as like
the very knight I vanquished as one egg is like another, but as you say
enchanters persecute you, I will not venture to say positively whether
you are the said person or not.”

“That,” said Don Quixote, “is enough to convince me that you are under
a deception; however, entirely to relieve you of it, let our horses be
brought, and in less time than it would take you to raise your visor,
if God, my lady, and my arm stand me in good stead, I shall see your
face, and you shall see that I am not the vanquished Don Quixote you
take me to be.”

With this, cutting short the colloquy, they mounted, and Don Quixote
wheeled Rocinante round in order to take a proper distance to charge
back upon his adversary, and he of the Mirrors did the same; but Don
Quixote had not moved away twenty paces when he heard himself called by
the other, and, each returning half-way, he of the Mirrors said to him,
“Remember, sir knight, that the terms of our combat are, that the
vanquished, as I said before, shall be at the victor’s disposal.”

“I am aware of it already,” said Don Quixote; “provided what is
commanded and imposed upon the vanquished be things that do not
transgress the limits of chivalry.”

“That is understood,” replied he of the Mirrors.

At this moment the extraordinary nose of the squire presented itself to
Don Quixote’s view, and he was no less amazed than Sancho at the sight;
insomuch that he set him down as a monster of some kind, or a human
being of some new species or unearthly breed. Sancho, seeing his master
retiring to run his course, did not like to be left alone with the nosy
man, fearing that with one flap of that nose on his own the battle
would be all over for him and he would be left stretched on the ground,
either by the blow or with fright; so he ran after his master, holding
on to Rocinante’s stirrup-leather, and when it seemed to him time to
turn about, he said, “I implore of your worship, señor, before you turn
to charge, to help me up into this cork tree, from which I will be able
to witness the gallant encounter your worship is going to have with
this knight, more to my taste and better than from the ground.”

“It seems to me rather, Sancho,” said Don Quixote, “that thou wouldst
mount a scaffold in order to see the bulls without danger.”

“To tell the truth,” returned Sancho, “the monstrous nose of that
squire has filled me with fear and terror, and I dare not stay near
him.”

“It is,” said Don Quixote, “such a one that were I not what I am it
would terrify me too; so, come, I will help thee up where thou wilt.”

While Don Quixote waited for Sancho to mount into the cork tree he of
the Mirrors took as much ground as he considered requisite, and,
supposing Don Quixote to have done the same, without waiting for any
sound of trumpet or other signal to direct them, he wheeled his horse,
which was not more agile or better-looking than Rocinante, and at his
top speed, which was an easy trot, he proceeded to charge his enemy;
seeing him, however, engaged in putting Sancho up, he drew rein, and
halted in mid career, for which his horse was very grateful, as he was
already unable to go. Don Quixote, fancying that his foe was coming
down upon him flying, drove his spurs vigorously into Rocinante’s lean
flanks and made him scud along in such style that the history tells us
that on this occasion only was he known to make something like running,
for on all others it was a simple trot with him; and with this
unparalleled fury he bore down where he of the Mirrors stood digging
his spurs into his horse up to buttons, without being able to make him
stir a finger’s length from the spot where he had come to a standstill
in his course. At this lucky moment and crisis, Don Quixote came upon
his adversary, in trouble with his horse, and embarrassed with his
lance, which he either could not manage, or had no time to lay in rest.
Don Quixote, however, paid no attention to these difficulties, and in
perfect safety to himself and without any risk encountered him of the
Mirrors with such force that he brought him to the ground in spite of
himself over the haunches of his horse, and with so heavy a fall that
he lay to all appearance dead, not stirring hand or foot. The instant
Sancho saw him fall he slid down from the cork tree, and made all haste
to where his master was, who, dismounting from Rocinante, went and
stood over him of the Mirrors, and unlacing his helmet to see if he was
dead, and to give him air if he should happen to be alive, he saw—who
can say what he saw, without filling all who hear it with astonishment,
wonder, and awe? He saw, the history says, the very countenance, the
very face, the very look, the very physiognomy, the very effigy, the
very image of the bachelor Samson Carrasco! As soon as he saw it he
called out in a loud voice, “Make haste here, Sancho, and behold what
thou art to see but not to believe; quick, my son, and learn what magic
can do, and wizards and enchanters are capable of.”

Sancho came up, and when he saw the countenance of the bachelor
Carrasco, he fell to crossing himself a thousand times, and blessing
himself as many more. All this time the prostrate knight showed no
signs of life, and Sancho said to Don Quixote, “It is my opinion,
señor, that in any case your worship should take and thrust your sword
into the mouth of this one here that looks like the bachelor Samson
Carrasco; perhaps in him you will kill one of your enemies, the
enchanters.”

“Thy advice is not bad,” said Don Quixote, “for of enemies the fewer
the better;” and he was drawing his sword to carry into effect Sancho’s
counsel and suggestion, when the squire of the Mirrors came up, now
without the nose which had made him so hideous, and cried out in a loud
voice, “Mind what you are about, Señor Don Quixote; that is your
friend, the bachelor Samson Carrasco, you have at your feet, and I am
his squire.”

“And the nose?” said Sancho, seeing him without the hideous feature he
had before; to which he replied, “I have it here in my pocket,” and
putting his hand into his right pocket, he pulled out a masquerade nose
of varnished pasteboard of the make already described; and Sancho,
examining him more and more closely, exclaimed aloud in a voice of
amazement, “Holy Mary be good to me! Isn’t it Tom Cecial, my neighbour
and gossip?”

“Why, to be sure I am!” returned the now unnosed squire; “Tom Cecial I
am, gossip and friend Sancho Panza; and I’ll tell you presently the
means and tricks and falsehoods by which I have been brought here; but
in the meantime, beg and entreat of your master not to touch, maltreat,
wound, or slay the Knight of the Mirrors whom he has at his feet;
because, beyond all dispute, it is the rash and ill-advised bachelor
Samson Carrasco, our fellow townsman.”

At this moment he of the Mirrors came to himself, and Don Quixote
perceiving it, held the naked point of his sword over his face, and
said to him, “You are a dead man, knight, unless you confess that the
peerless Dulcinea del Toboso excels your Casildea de Vandalia in
beauty; and in addition to this you must promise, if you should survive
this encounter and fall, to go to the city of El Toboso and present
yourself before her on my behalf, that she deal with you according to
her good pleasure; and if she leaves you free to do yours, you are in
like manner to return and seek me out (for the trail of my mighty deeds
will serve you as a guide to lead you to where I may be), and tell me
what may have passed between you and her—conditions which, in
accordance with what we stipulated before our combat, do not transgress
the just limits of knight-errantry.”

“I confess,” said the fallen knight, “that the dirty tattered shoe of
the lady Dulcinea del Toboso is better than the ill-combed though clean
beard of Casildea; and I promise to go and to return from her presence
to yours, and to give you a full and particular account of all you
demand of me.”

“You must also confess and believe,” added Don Quixote, “that the
knight you vanquished was not and could not be Don Quixote of La
Mancha, but someone else in his likeness, just as I confess and believe
that you, though you seem to be the bachelor Samson Carrasco, are not
so, but some other resembling him, whom my enemies have here put before
me in his shape, in order that I may restrain and moderate the
vehemence of my wrath, and make a gentle use of the glory of my
victory.”

“I confess, hold, and think everything to be as you believe, hold, and
think it,” the crippled knight; “let me rise, I entreat you; if,
indeed, the shock of my fall will allow me, for it has left me in a
sorry plight enough.”

Don Quixote helped him to rise, with the assistance of his squire Tom
Cecial; from whom Sancho never took his eyes, and to whom he put
questions, the replies to which furnished clear proof that he was
really and truly the Tom Cecial he said; but the impression made on
Sancho’s mind by what his master said about the enchanters having
changed the face of the Knight of the Mirrors into that of the bachelor
Samson Carrasco, would not permit him to believe what he saw with his
eyes. In fine, both master and man remained under the delusion; and,
down in the mouth, and out of luck, he of the Mirrors and his squire
parted from Don Quixote and Sancho, he meaning to go look for some
village where he could plaster and strap his ribs. Don Quixote and
Sancho resumed their journey to Saragossa, and on it the history leaves
them in order that it may tell who the Knight of the Mirrors and his
long-nosed squire were.



p14e.jpg (56K)



CHAPTER XV.
WHEREIN IT IS TOLD AND KNOWN WHO THE KNIGHT OF THE MIRRORS AND HIS
SQUIRE WERE




p15a.jpg (122K)

Full Size



Don Quixote went off satisfied, elated, and vain-glorious in the
highest degree at having won a victory over such a valiant knight as he
fancied him of the Mirrors to be, and one from whose knightly word he
expected to learn whether the enchantment of his lady still continued;
inasmuch as the said vanquished knight was bound, under the penalty of
ceasing to be one, to return and render him an account of what took
place between him and her. But Don Quixote was of one mind, he of the
Mirrors of another, for he just then had no thought of anything but
finding some village where he could plaster himself, as has been said
already. The history goes on to say, then, that when the bachelor
Samson Carrasco recommended Don Quixote to resume his knight-errantry
which he had laid aside, it was in consequence of having been
previously in conclave with the curate and the barber on the means to
be adopted to induce Don Quixote to stay at home in peace and quiet
without worrying himself with his ill-starred adventures; at which
consultation it was decided by the unanimous vote of all, and on the
special advice of Carrasco, that Don Quixote should be allowed to go,
as it seemed impossible to restrain him, and that Samson should sally
forth to meet him as a knight-errant, and do battle with him, for there
would be no difficulty about a cause, and vanquish him, that being
looked upon as an easy matter; and that it should be agreed and settled
that the vanquished was to be at the mercy of the victor. Then, Don
Quixote being vanquished, the bachelor knight was to command him to
return to his village and his house, and not quit it for two years, or
until he received further orders from him; all which it was clear Don
Quixote would unhesitatingly obey, rather than contravene or fail to
observe the laws of chivalry; and during the period of his seclusion he
might perhaps forget his folly, or there might be an opportunity of
discovering some ready remedy for his madness. Carrasco undertook the
task, and Tom Cecial, a gossip and neighbour of Sancho Panza’s, a
lively, feather-headed fellow, offered himself as his squire. Carrasco
armed himself in the fashion described, and Tom Cecial, that he might
not be known by his gossip when they met, fitted on over his own
natural nose the false masquerade one that has been mentioned; and so
they followed the same route Don Quixote took, and almost came up with
him in time to be present at the adventure of the cart of Death and
finally encountered them in the grove, where all that the sagacious
reader has been reading about took place; and had it not been for the
extraordinary fancies of Don Quixote, and his conviction that the
bachelor was not the bachelor, señor bachelor would have been
incapacitated for ever from taking his degree of licentiate, all
through not finding nests where he thought to find birds.

Tom Cecial, seeing how ill they had succeeded, and what a sorry end
their expedition had come to, said to the bachelor, “Sure enough, Señor
Samson Carrasco, we are served right; it is easy enough to plan and set
about an enterprise, but it is often a difficult matter to come well
out of it. Don Quixote a madman, and we sane; he goes off laughing,
safe, and sound, and you are left sore and sorry! I’d like to know now
which is the madder, he who is so because he cannot help it, or he who
is so of his own choice?”

To which Samson replied, “The difference between the two sorts of
madmen is, that he who is so will he nil he, will be one always, while
he who is so of his own accord can leave off being one whenever he
likes.”

“In that case,” said Tom Cecial, “I was a madman of my own accord when
I volunteered to become your squire, and, of my own accord, I’ll leave
off being one and go home.”

“That’s your affair,” returned Samson, “but to suppose that I am going
home until I have given Don Quixote a thrashing is absurd; and it is
not any wish that he may recover his senses that will make me hunt him
out now, but a wish for the sore pain I am in with my ribs won’t let me
entertain more charitable thoughts.”

Thus discoursing, the pair proceeded until they reached a town where it
was their good luck to find a bone-setter, with whose help the
unfortunate Samson was cured. Tom Cecial left him and went home, while
he stayed behind meditating vengeance; and the history will return to
him again at the proper time, so as not to omit making merry with Don
Quixote now.



p15e.jpg (17K)



CHAPTER XVI.
OF WHAT BEFELL DON QUIXOTE WITH A DISCREET GENTLEMAN OF LA MANCHA




p16a.jpg (85K)

Full Size



Don Quixote pursued his journey in the high spirits, satisfaction, and
self-complacency already described, fancying himself the most valorous
knight-errant of the age in the world because of his late victory. All
the adventures that could befall him from that time forth he regarded
as already done and brought to a happy issue; he made light of
enchantments and enchanters; he thought no more of the countless
drubbings that had been administered to him in the course of his
knight-errantry, nor of the volley of stones that had levelled half his
teeth, nor of the ingratitude of the galley slaves, nor of the audacity
of the Yanguesans and the shower of stakes that fell upon him; in
short, he said to himself that could he discover any means, mode, or
way of disenchanting his lady Dulcinea, he would not envy the highest
fortune that the most fortunate knight-errant of yore ever reached or
could reach.

He was going along entirely absorbed in these fancies, when Sancho said
to him, “Isn’t it odd, señor, that I have still before my eyes that
monstrous enormous nose of my gossip, Tom Cecial?”

“And dost thou, then, believe, Sancho,” said Don Quixote, “that the
Knight of the Mirrors was the bachelor Carrasco, and his squire Tom
Cecial thy gossip?”

“I don’t know what to say to that,” replied Sancho; “all I know is that
the tokens he gave me about my own house, wife and children, nobody
else but himself could have given me; and the face, once the nose was
off, was the very face of Tom Cecial, as I have seen it many a time in
my town and next door to my own house; and the sound of the voice was
just the same.”

“Let us reason the matter, Sancho,” said Don Quixote. “Come now, by
what process of thinking can it be supposed that the bachelor Samson
Carrasco would come as a knight-errant, in arms offensive and
defensive, to fight with me? Have I ever been by any chance his enemy?
Have I ever given him any occasion to owe me a grudge? Am I his rival,
or does he profess arms, that he should envy the fame I have acquired
in them?”

“Well, but what are we to say, señor,” returned Sancho, “about that
knight, whoever he is, being so like the bachelor Carrasco, and his
squire so like my gossip, Tom Cecial? And if that be enchantment, as
your worship says, was there no other pair in the world for them to
take the likeness of?”

“It is all,” said Don Quixote, “a scheme and plot of the malignant
magicians that persecute me, who, foreseeing that I was to be
victorious in the conflict, arranged that the vanquished knight should
display the countenance of my friend the bachelor, in order that the
friendship I bear him should interpose to stay the edge of my sword and
might of my arm, and temper the just wrath of my heart; so that he who
sought to take my life by fraud and falsehood should save his own. And
to prove it, thou knowest already, Sancho, by experience which cannot
lie or deceive, how easy it is for enchanters to change one countenance
into another, turning fair into foul, and foul into fair; for it is not
two days since thou sawest with thine own eyes the beauty and elegance
of the peerless Dulcinea in all its perfection and natural harmony,
while I saw her in the repulsive and mean form of a coarse country
wench, with cataracts in her eyes and a foul smell in her mouth; and
when the perverse enchanter ventured to effect so wicked a
transformation, it is no wonder if he effected that of Samson Carrasco
and thy gossip in order to snatch the glory of victory out of my grasp.
For all that, however, I console myself, because, after all, in
whatever shape he may have been, I have been victorious over my enemy.”

“God knows what’s the truth of it all,” said Sancho; and knowing as he
did that the transformation of Dulcinea had been a device and
imposition of his own, his master’s illusions were not satisfactory to
him; but he did not like to reply lest he should say something that
might disclose his trickery.

As they were engaged in this conversation they were overtaken by a man
who was following the same road behind them, mounted on a very handsome
flea-bitten mare, and dressed in a gaban of fine green cloth, with
tawny velvet facings, and a montera of the same velvet. The trappings
of the mare were of the field and jineta fashion, and of mulberry
colour and green. He carried a Moorish cutlass hanging from a broad
green and gold baldric; the buskins were of the same make as the
baldric; the spurs were not gilt, but lacquered green, and so brightly
polished that, matching as they did the rest of his apparel, they
looked better than if they had been of pure gold.

When the traveller came up with them he saluted them courteously, and
spurring his mare was passing them without stopping, but Don Quixote
called out to him, “Gallant sir, if so be your worship is going our
road, and has no occasion for speed, it would be a pleasure to me if we
were to join company.”

“In truth,” replied he on the mare, “I would not pass you so hastily
but for fear that horse might turn restive in the company of my mare.”

“You may safely hold in your mare, señor,” said Sancho in reply to
this, “for our horse is the most virtuous and well-behaved horse in the
world; he never does anything wrong on such occasions, and the only
time he misbehaved, my master and I suffered for it sevenfold; I say
again your worship may pull up if you like; for if she was offered to
him between two plates the horse would not hanker after her.”

The traveller drew rein, amazed at the trim and features of Don
Quixote, who rode without his helmet, which Sancho carried like a
valise in front of Dapple’s pack-saddle; and if the man in green
examined Don Quixote closely, still more closely did Don Quixote
examine the man in green, who struck him as being a man of
intelligence. In appearance he was about fifty years of age, with but
few grey hairs, an aquiline cast of features, and an expression between
grave and gay; and his dress and accoutrements showed him to be a man
of good condition. What he in green thought of Don Quixote of La Mancha
was that a man of that sort and shape he had never yet seen; he
marvelled at the length of his hair, his lofty stature, the lankness
and sallowness of his countenance, his armour, his bearing and his
gravity—a figure and picture such as had not been seen in those regions
for many a long day.

Don Quixote saw very plainly the attention with which the traveller was
regarding him, and read his curiosity in his astonishment; and
courteous as he was and ready to please everybody, before the other
could ask him any question he anticipated him by saying, “The
appearance I present to your worship being so strange and so out of the
common, I should not be surprised if it filled you with wonder; but you
will cease to wonder when I tell you, as I do, that I am one of those
knights who, as people say, go seeking adventures. I have left my home,
I have mortgaged my estate, I have given up my comforts, and committed
myself to the arms of Fortune, to bear me whithersoever she may please.
My desire was to bring to life again knight-errantry, now dead, and for
some time past, stumbling here, falling there, now coming down
headlong, now raising myself up again, I have carried out a great
portion of my design, succouring widows, protecting maidens, and giving
aid to wives, orphans, and minors, the proper and natural duty of
knights-errant; and, therefore, because of my many valiant and
Christian achievements, I have been already found worthy to make my way
in print to well-nigh all, or most, of the nations of the earth. Thirty
thousand volumes of my history have been printed, and it is on the
high-road to be printed thirty thousand thousands of times, if heaven
does not put a stop to it. In short, to sum up all in a few words, or
in a single one, I may tell you I am Don Quixote of La Mancha,
otherwise called ‘The Knight of the Rueful Countenance;’ for though
self-praise is degrading, I must perforce sound my own sometimes, that
is to say, when there is no one at hand to do it for me. So that,
gentle sir, neither this horse, nor this lance, nor this shield, nor
this squire, nor all these arms put together, nor the sallowness of my
countenance, nor my gaunt leanness, will henceforth astonish you, now
that you know who I am and what profession I follow.”

With these words Don Quixote held his peace, and, from the time he took
to answer, the man in green seemed to be at a loss for a reply; after a
long pause, however, he said to him, “You were right when you saw
curiosity in my amazement, sir knight; but you have not succeeded in
removing the astonishment I feel at seeing you; for although you say,
señor, that knowing who you are ought to remove it, it has not done so;
on the contrary, now that I know, I am left more amazed and astonished
than before. What! is it possible that there are knights-errant in the
world in these days, and histories of real chivalry printed? I cannot
realise the fact that there can be anyone on earth now-a-days who aids
widows, or protects maidens, or defends wives, or succours orphans; nor
should I believe it had I not seen it in your worship with my own eyes.
Blessed be heaven! for by means of this history of your noble and
genuine chivalrous deeds, which you say has been printed, the countless
stories of fictitious knights-errant with which the world is filled, so
much to the injury of morality and the prejudice and discredit of good
histories, will have been driven into oblivion.”

“There is a good deal to be said on that point,” said Don Quixote, “as
to whether the histories of the knights-errant are fiction or not.”

“Why, is there anyone who doubts that those histories are false?” said
the man in green.

“I doubt it,” said Don Quixote, “but never mind that just now; if our
journey lasts long enough, I trust in God I shall show your worship
that you do wrong in going with the stream of those who regard it as a
matter of certainty that they are not true.”

From this last observation of Don Quixote’s, the traveller began to
have a suspicion that he was some crazy being, and was waiting for him
to confirm it by something further; but before they could turn to any
new subject Don Quixote begged him to tell him who he was, since he
himself had rendered account of his station and life. To this, he in
the green gaban replied “I, Sir Knight of the Rueful Countenance, am a
gentleman by birth, native of the village where, please God, we are
going to dine to-day; I am more than fairly well off, and my name is
Don Diego de Miranda. I pass my life with my wife, children, and
friends; my pursuits are hunting and fishing, but I keep neither hawks
nor greyhounds, nothing but a tame partridge or a bold ferret or two; I
have six dozen or so of books, some in our mother tongue, some Latin,
some of them history, others devotional; those of chivalry have not as
yet crossed the threshold of my door; I am more given to turning over
the profane than the devotional, so long as they are books of honest
entertainment that charm by their style and attract and interest by the
invention they display, though of these there are very few in Spain.
Sometimes I dine with my neighbours and friends, and often invite them;
my entertainments are neat and well served without stint of anything. I
have no taste for tattle, nor do I allow tattling in my presence; I pry
not into my neighbours’ lives, nor have I lynx-eyes for what others do.
I hear mass every day; I share my substance with the poor, making no
display of good works, lest I let hypocrisy and vainglory, those
enemies that subtly take possession of the most watchful heart, find an
entrance into mine. I strive to make peace between those whom I know to
be at variance; I am the devoted servant of Our Lady, and my trust is
ever in the infinite mercy of God our Lord.”

Sancho listened with the greatest attention to the account of the
gentleman’s life and occupation; and thinking it a good and a holy
life, and that he who led it ought to work miracles, he threw himself
off Dapple, and running in haste seized his right stirrup and kissed
his foot again and again with a devout heart and almost with tears.

Seeing this the gentleman asked him, “What are you about, brother? What
are these kisses for?”

“Let me kiss,” said Sancho, “for I think your worship is the first
saint in the saddle I ever saw all the days of my life.”

“I am no saint,” replied the gentleman, “but a great sinner; but you
are, brother, for you must be a good fellow, as your simplicity shows.”

Sancho went back and regained his pack-saddle, having extracted a laugh
from his master’s profound melancholy, and excited fresh amazement in
Don Diego. Don Quixote then asked him how many children he had, and
observed that one of the things wherein the ancient philosophers, who
were without the true knowledge of God, placed the _summum bonum_ was
in the gifts of nature, in those of fortune, in having many friends,
and many and good children.

“I, Señor Don Quixote,” answered the gentleman, “have one son, without
whom, perhaps, I should count myself happier than I am, not because he
is a bad son, but because he is not so good as I could wish. He is
eighteen years of age; he has been for six at Salamanca studying Latin
and Greek, and when I wished him to turn to the study of other sciences
I found him so wrapped up in that of poetry (if that can be called a
science) that there is no getting him to take kindly to the law, which
I wished him to study, or to theology, the queen of them all. I would
like him to be an honour to his family, as we live in days when our
kings liberally reward learning that is virtuous and worthy; for
learning without virtue is a pearl on a dunghill. He spends the whole
day in settling whether Homer expressed himself correctly or not in
such and such a line of the Iliad, whether Martial was indecent or not
in such and such an epigram, whether such and such lines of Virgil are
to be understood in this way or in that; in short, all his talk is of
the works of these poets, and those of Horace, Perseus, Juvenal, and
Tibullus; for of the moderns in our own language he makes no great
account; but with all his seeming indifference to Spanish poetry, just
now his thoughts are absorbed in making a gloss on four lines that have
been sent him from Salamanca, which I suspect are for some poetical
tournament.”

To all this Don Quixote said in reply, “Children, señor, are portions
of their parents’ bowels, and therefore, be they good or bad, are to be
loved as we love the souls that give us life; it is for the parents to
guide them from infancy in the ways of virtue, propriety, and worthy
Christian conduct, so that when grown up they may be the staff of their
parents’ old age, and the glory of their posterity; and to force them
to study this or that science I do not think wise, though it may be no
harm to persuade them; and when there is no need to study for the sake
of _pane lucrando_, and it is the student’s good fortune that heaven
has given him parents who provide him with it, it would be my advice to
them to let him pursue whatever science they may see him most inclined
to; and though that of poetry is less useful than pleasurable, it is
not one of those that bring discredit upon the possessor. Poetry,
gentle sir, is, as I take it, like a tender young maiden of supreme
beauty, to array, bedeck, and adorn whom is the task of several other
maidens, who are all the rest of the sciences; and she must avail
herself of the help of all, and all derive their lustre from her. But
this maiden will not bear to be handled, nor dragged through the
streets, nor exposed either at the corners of the market-places, or in
the closets of palaces. She is the product of an Alchemy of such virtue
that he who is able to practise it, will turn her into pure gold of
inestimable worth. He that possesses her must keep her within bounds,
not permitting her to break out in ribald satires or soulless sonnets.
She must on no account be offered for sale, unless, indeed, it be in
heroic poems, moving tragedies, or sprightly and ingenious comedies.
She must not be touched by the buffoons, nor by the ignorant vulgar,
incapable of comprehending or appreciating her hidden treasures. And do
not suppose, señor, that I apply the term vulgar here merely to
plebeians and the lower orders; for everyone who is ignorant, be he
lord or prince, may and should be included among the vulgar. He, then,
who shall embrace and cultivate poetry under the conditions I have
named, shall become famous, and his name honoured throughout all the
civilised nations of the earth. And with regard to what you say, señor,
of your son having no great opinion of Spanish poetry, I am inclined to
think that he is not quite right there, and for this reason: the great
poet Homer did not write in Latin, because he was a Greek, nor did
Virgil write in Greek, because he was a Latin; in short, all the
ancient poets wrote in the language they imbibed with their mother’s
milk, and never went in quest of foreign ones to express their sublime
conceptions; and that being so, the usage should in justice extend to
all nations, and the German poet should not be undervalued because he
writes in his own language, nor the Castilian, nor even the Biscayan,
for writing in his. But your son, señor, I suspect, is not prejudiced
against Spanish poetry, but against those poets who are mere Spanish
verse writers, without any knowledge of other languages or sciences to
adorn and give life and vigour to their natural inspiration; and yet
even in this he may be wrong; for, according to a true belief, a poet
is born one; that is to say, the poet by nature comes forth a poet from
his mother’s womb; and following the bent that heaven has bestowed upon
him, without the aid of study or art, he produces things that show how
truly he spoke who said, ‘_Est Deus in nobis_,’ etc. At the same time,
I say that the poet by nature who calls in art to his aid will be a far
better poet, and will surpass him who tries to be one relying upon his
knowledge of art alone. The reason is, that art does not surpass
nature, but only brings it to perfection; and thus, nature combined
with art, and art with nature, will produce a perfect poet. To bring my
argument to a close, I would say then, gentle sir, let your son go on
as his star leads him, for being so studious as he seems to be, and
having already successfully surmounted the first step of the sciences,
which is that of the languages, with their help he will by his own
exertions reach the summit of polite literature, which so well becomes
an independent gentleman, and adorns, honours, and distinguishes him,
as much as the mitre does the bishop, or the gown the learned
counsellor. If your son write satires reflecting on the honour of
others, chide and correct him, and tear them up; but if he compose
discourses in which he rebukes vice in general, in the style of Horace,
and with elegance like his, commend him; for it is legitimate for a
poet to write against envy and lash the envious in his verse, and the
other vices too, provided he does not single out individuals; there
are, however, poets who, for the sake of saying something spiteful,
would run the risk of being banished to the coast of Pontus. If the
poet be pure in his morals, he will be pure in his verses too; the pen
is the tongue of the mind, and as the thought engendered there, so will
be the things that it writes down. And when kings and princes observe
this marvellous science of poetry in wise, virtuous, and thoughtful
subjects, they honour, value, exalt them, and even crown them with the
leaves of that tree which the thunderbolt strikes not, as if to show
that they whose brows are honoured and adorned with such a crown are
not to be assailed by anyone.”

He of the green gaban was filled with astonishment at Don Quixote’s
argument, so much so that he began to abandon the notion he had taken
up about his being crazy. But in the middle of the discourse, it being
not very much to his taste, Sancho had turned aside out of the road to
beg a little milk from some shepherds, who were milking their ewes hard
by; and just as the gentleman, highly pleased, was about to renew the
conversation, Don Quixote, raising his head, perceived a cart covered
with royal flags coming along the road they were travelling; and
persuaded that this must be some new adventure, he called aloud to
Sancho to come and bring him his helmet. Sancho, hearing himself
called, quitted the shepherds, and, prodding Dapple vigorously, came up
to his master, to whom there fell a terrific and desperate adventure.



p16e.jpg (49K)



CHAPTER XVII.
WHEREIN IS SHOWN THE FURTHEST AND HIGHEST POINT WHICH THE UNEXAMPLED
COURAGE OF DON QUIXOTE REACHED OR COULD REACH; TOGETHER WITH THE
HAPPILY ACHIEVED ADVENTURE OF THE LIONS




p17a.jpg (137K)

Full Size



The history tells that when Don Quixote called out to Sancho to bring
him his helmet, Sancho was buying some curds the shepherds agreed to
sell him, and flurried by the great haste his master was in did not
know what to do with them or what to carry them in; so, not to lose
them, for he had already paid for them, he thought it best to throw
them into his master’s helmet, and acting on this bright idea he went
to see what his master wanted with him. He, as he approached, exclaimed
to him:

“Give me that helmet, my friend, for either I know little of
adventures, or what I observe yonder is one that will, and does, call
upon me to arm myself.”

He of the green gaban, on hearing this, looked in all directions, but
could perceive nothing, except a cart coming towards them with two or
three small flags, which led him to conclude it must be carrying
treasure of the King’s, and he said so to Don Quixote. He, however,
would not believe him, being always persuaded and convinced that all
that happened to him must be adventures and still more adventures; so
he replied to the gentleman, “He who is prepared has his battle half
fought; nothing is lost by my preparing myself, for I know by
experience that I have enemies, visible and invisible, and I know not
when, or where, or at what moment, or in what shapes they will attack
me;” and turning to Sancho, he called for his helmet; and Sancho, as he
had no time to take out the curds, had to give it just as it was. Don
Quixote took it, and without perceiving what was in it thrust it down
in hot haste upon his head; but as the curds were pressed and squeezed
the whey began to run all over his face and beard, whereat he was so
startled that he cried out to Sancho:

“Sancho, what’s this? I think my head is softening, or my brains are
melting, or I am sweating from head to foot! If I am sweating it is not
indeed from fear. I am convinced beyond a doubt that the adventure
which is about to befall me is a terrible one. Give me something to
wipe myself with, if thou hast it, for this profuse sweat is blinding
me.”

Sancho held his tongue, and gave him a cloth, and gave thanks to God at
the same time that his master had not found out what was the matter.
Don Quixote then wiped himself, and took off his helmet to see what it
was that made his head feel so cool, and seeing all that white mash
inside his helmet he put it to his nose, and as soon as he had smelt it
he exclaimed:

“By the life of my lady Dulcinea del Toboso, but it is curds thou hast
put here, thou treacherous, impudent, ill-mannered squire!”

To which, with great composure and pretended innocence, Sancho replied,
“If they are curds let me have them, your worship, and I’ll eat them;
but let the devil eat them, for it must have been he who put them
there. I dare to dirty your helmet! You have guessed the offender
finely! Faith, sir, by the light God gives me, it seems I must have
enchanters too, that persecute me as a creature and limb of your
worship, and they must have put that nastiness there in order to
provoke your patience to anger, and make you baste my ribs as you are
wont to do. Well, this time, indeed, they have missed their aim, for I
trust to my master’s good sense to see that I have got no curds or
milk, or anything of the sort; and that if I had it is in my stomach I
would put it and not in the helmet.”

“May be so,” said Don Quixote. All this the gentleman was observing,
and with astonishment, more especially when, after having wiped himself
clean, his head, face, beard, and helmet, Don Quixote put it on, and
settling himself firmly in his stirrups, easing his sword in the
scabbard, and grasping his lance, he cried, “Now, come who will, here
am I, ready to try conclusions with Satan himself in person!”

By this time the cart with the flags had come up, unattended by anyone
except the carter on a mule, and a man sitting in front. Don Quixote
planted himself before it and said, “Whither are you going, brothers?
What cart is this? What have you got in it? What flags are those?”

To this the carter replied, “The cart is mine; what is in it is a pair
of wild caged lions, which the governor of Oran is sending to court as
a present to his Majesty; and the flags are our lord the King’s, to
show that what is here is his property.”

“And are the lions large?” asked Don Quixote.

“So large,” replied the man who sat at the door of the cart, “that
larger, or as large, have never crossed from Africa to Spain; I am the
keeper, and I have brought over others, but never any like these. They
are male and female; the male is in that first cage and the female in
the one behind, and they are hungry now, for they have eaten nothing
to-day, so let your worship stand aside, for we must make haste to the
place where we are to feed them.”

Hereupon, smiling slightly, Don Quixote exclaimed, “Lion-whelps to me!
to me whelps of lions, and at such a time! Then, by God! those
gentlemen who send them here shall see if I am a man to be frightened
by lions. Get down, my good fellow, and as you are the keeper open the
cages, and turn me out those beasts, and in the midst of this plain I
will let them know who Don Quixote of La Mancha is, in spite and in the
teeth of the enchanters who send them to me.”

“So, so,” said the gentleman to himself at this; “our worthy knight has
shown of what sort he is; the curds, no doubt, have softened his skull
and brought his brains to a head.”

At this instant Sancho came up to him, saying, “Señor, for God’s sake
do something to keep my master, Don Quixote, from tackling these lions;
for if he does they’ll tear us all to pieces here.”

“Is your master then so mad,” asked the gentleman, “that you believe
and are afraid he will engage such fierce animals?”

“He is not mad,” said Sancho, “but he is venturesome.”

“I will prevent it,” said the gentleman; and going over to Don Quixote,
who was insisting upon the keeper’s opening the cages, he said to him,
“Sir knight, knights-errant should attempt adventures which encourage
the hope of a successful issue, not those which entirely withhold it;
for valour that trenches upon temerity savours rather of madness than
of courage; moreover, these lions do not come to oppose you, nor do
they dream of such a thing; they are going as presents to his Majesty,
and it will not be right to stop them or delay their journey.”

“Gentle sir,” replied Don Quixote, “you go and mind your tame partridge
and your bold ferret, and leave everyone to manage his own business;
this is mine, and I know whether these gentlemen the lions come to me
or not;” and then turning to the keeper he exclaimed, “By all that’s
good, sir scoundrel, if you don’t open the cages this very instant,
I’ll pin you to the cart with this lance.”

The carter, seeing the determination of this apparition in armour, said
to him, “Please your worship, for charity’s sake, señor, let me unyoke
the mules and place myself in safety along with them before the lions
are turned out; for if they kill them on me I am ruined for life, for
all I possess is this cart and mules.”

“O man of little faith,” replied Don Quixote, “get down and unyoke; you
will soon see that you are exerting yourself for nothing, and that you
might have spared yourself the trouble.”

The carter got down and with all speed unyoked the mules, and the
keeper called out at the top of his voice, “I call all here to witness
that against my will and under compulsion I open the cages and let the
lions loose, and that I warn this gentleman that he will be accountable
for all the harm and mischief which these beasts may do, and for my
salary and dues as well. You, gentlemen, place yourselves in safety
before I open, for I know they will do me no harm.”

Once more the gentleman strove to persuade Don Quixote not to do such a
mad thing, as it was tempting God to engage in such a piece of folly.
To this, Don Quixote replied that he knew what he was about. The
gentleman in return entreated him to reflect, for he knew he was under
a delusion.

“Well, señor,” answered Don Quixote, “if you do not like to be a
spectator of this tragedy, as in your opinion it will be, spur your
flea-bitten mare, and place yourself in safety.”

Hearing this, Sancho with tears in his eyes entreated him to give up an
enterprise compared with which the one of the windmills, and the awful
one of the fulling mills, and, in fact, all the feats he had attempted
in the whole course of his life, were cakes and fancy bread. “Look ye,
señor,” said Sancho, “there’s no enchantment here, nor anything of the
sort, for between the bars and chinks of the cage I have seen the paw
of a real lion, and judging by that I reckon the lion such a paw could
belong to must be bigger than a mountain.”

“Fear at any rate,” replied Don Quixote, “will make him look bigger to
thee than half the world. Retire, Sancho, and leave me; and if I die
here thou knowest our old compact; thou wilt repair to Dulcinea—I say
no more.” To these he added some further words that banished all hope
of his giving up his insane project. He of the green gaban would have
offered resistance, but he found himself ill-matched as to arms, and
did not think it prudent to come to blows with a madman, for such Don
Quixote now showed himself to be in every respect; and the latter,
renewing his commands to the keeper and repeating his threats, gave
warning to the gentleman to spur his mare, Sancho his Dapple, and the
carter his mules, all striving to get away from the cart as far as they
could before the lions broke loose. Sancho was weeping over his
master’s death, for this time he firmly believed it was in store for
him from the claws of the lions; and he cursed his fate and called it
an unlucky hour when he thought of taking service with him again; but
with all his tears and lamentations he did not forget to thrash Dapple
so as to put a good space between himself and the cart. The keeper,
seeing that the fugitives were now some distance off, once more
entreated and warned him as before; but he replied that he heard him,
and that he need not trouble himself with any further warnings or
entreaties, as they would be fruitless, and bade him make haste.

During the delay that occurred while the keeper was opening the first
cage, Don Quixote was considering whether it would not be well to do
battle on foot, instead of on horseback, and finally resolved to fight
on foot, fearing that Rocinante might take fright at the sight of the
lions; he therefore sprang off his horse, flung his lance aside, braced
his buckler on his arm, and drawing his sword, advanced slowly with
marvellous intrepidity and resolute courage, to plant himself in front
of the cart, commending himself with all his heart to God and to his
lady Dulcinea.

It is to be observed, that on coming to this passage, the author of
this veracious history breaks out into exclamations. “O doughty Don
Quixote! high-mettled past extolling! Mirror, wherein all the heroes of
the world may see themselves! Second modern Don Manuel de Leon, once
the glory and honour of Spanish knighthood! In what words shall I
describe this dread exploit, by what language shall I make it credible
to ages to come, what eulogies are there unmeet for thee, though they
be hyperboles piled on hyperboles! On foot, alone, undaunted,
high-souled, with but a simple sword, and that no trenchant blade of
the Perrillo brand, a shield, but no bright polished steel one, there
stoodst thou, biding and awaiting the two fiercest lions that Africa’s
forests ever bred! Thy own deeds be thy praise, valiant Manchegan, and
here I leave them as they stand, wanting the words wherewith to glorify
them!”



p17b.jpg (352K)

Full Size



Here the author’s outburst came to an end, and he proceeded to take up
the thread of his story, saying that the keeper, seeing that Don
Quixote had taken up his position, and that it was impossible for him
to avoid letting out the male without incurring the enmity of the fiery
and daring knight, flung open the doors of the first cage, containing,
as has been said, the lion, which was now seen to be of enormous size,
and grim and hideous mien. The first thing he did was to turn round in
the cage in which he lay, and protrude his claws, and stretch himself
thoroughly; he next opened his mouth, and yawned very leisurely, and
with near two palms’ length of tongue that he had thrust forth, he
licked the dust out of his eyes and washed his face; having done this,
he put his head out of the cage and looked all round with eyes like
glowing coals, a spectacle and demeanour to strike terror into temerity
itself. Don Quixote merely observed him steadily, longing for him to
leap from the cart and come to close quarters with him, when he hoped
to hew him in pieces.

So far did his unparalleled madness go; but the noble lion, more
courteous than arrogant, not troubling himself about silly bravado,
after having looked all round, as has been said, turned about and
presented his hind-quarters to Don Quixote, and very coolly and
tranquilly lay down again in the cage. Seeing this, Don Quixote ordered
the keeper to take a stick to him and provoke him to make him come out.

“That I won’t,” said the keeper; “for if I anger him, the first he’ll
tear in pieces will be myself. Be satisfied, sir knight, with what you
have done, which leaves nothing more to be said on the score of
courage, and do not seek to tempt fortune a second time. The lion has
the door open; he is free to come out or not to come out; but as he has
not come out so far, he will not come out to-day. Your worship’s great
courage has been fully manifested already; no brave champion, so it
strikes me, is bound to do more than challenge his enemy and wait for
him on the field; if his adversary does not come, on him lies the
disgrace, and he who waits for him carries off the crown of victory.”

“That is true,” said Don Quixote; “close the door, my friend, and let
me have, in the best form thou canst, what thou hast seen me do, by way
of certificate; to wit, that thou didst open for the lion, that I
waited for him, that he did not come out, that I still waited for him,
and that still he did not come out, and lay down again. I am not bound
to do more; enchantments avaunt, and God uphold the right, the truth,
and true chivalry! Close the door as I bade thee, while I make signals
to the fugitives that have left us, that they may learn this exploit
from thy lips.”

The keeper obeyed, and Don Quixote, fixing on the point of his lance
the cloth he had wiped his face with after the deluge of curds,
proceeded to recall the others, who still continued to fly, looking
back at every step, all in a body, the gentleman bringing up the rear.
Sancho, however, happening to observe the signal of the white cloth,
exclaimed, “May I die, if my master has not overcome the wild beasts,
for he is calling to us.”

They all stopped, and perceived that it was Don Quixote who was making
signals, and shaking off their fears to some extent, they approached
slowly until they were near enough to hear distinctly Don Quixote’s
voice calling to them. They returned at length to the cart, and as they
came up, Don Quixote said to the carter, “Put your mules to once more,
brother, and continue your journey; and do thou, Sancho, give him two
gold crowns for himself and the keeper, to compensate for the delay
they have incurred through me.”

“That will I give with all my heart,” said Sancho; “but what has become
of the lions? Are they dead or alive?”

The keeper, then, in full detail, and bit by bit, described the end of
the contest, exalting to the best of his power and ability the valour
of Don Quixote, at the sight of whom the lion quailed, and would not
and dared not come out of the cage, although he had held the door open
ever so long; and showing how, in consequence of his having represented
to the knight that it was tempting God to provoke the lion in order to
force him out, which he wished to have done, he very reluctantly, and
altogether against his will, had allowed the door to be closed.

“What dost thou think of this, Sancho?” said Don Quixote. “Are there
any enchantments that can prevail against true valour? The enchanters
may be able to rob me of good fortune, but of fortitude and courage
they cannot.”

Sancho paid the crowns, the carter put to, the keeper kissed Don
Quixote’s hands for the bounty bestowed upon him, and promised to give
an account of the valiant exploit to the King himself, as soon as he
saw him at court.

“Then,” said Don Quixote, “if his Majesty should happen to ask who
performed it, you must say THE KNIGHT OF THE LIONS; for it is my desire
that into this the name I have hitherto borne of Knight of the Rueful
Countenance be from this time forward changed, altered, transformed,
and turned; and in this I follow the ancient usage of knights-errant,
who changed their names when they pleased, or when it suited their
purpose.”

The cart went its way, and Don Quixote, Sancho, and he of the green
gaban went theirs. All this time, Don Diego de Miranda had not spoken a
word, being entirely taken up with observing and noting all that Don
Quixote did and said, and the opinion he formed was that he was a man
of brains gone mad, and a madman on the verge of rationality. The first
part of his history had not yet reached him, for, had he read it, the
amazement with which his words and deeds filled him would have
vanished, as he would then have understood the nature of his madness;
but knowing nothing of it, he took him to be rational one moment, and
crazy the next, for what he said was sensible, elegant, and well
expressed, and what he did, absurd, rash, and foolish; and said he to
himself, “What could be madder than putting on a helmet full of curds,
and then persuading oneself that enchanters are softening one’s skull;
or what could be greater rashness and folly than wanting to fight lions
tooth and nail?”

Don Quixote roused him from these reflections and this soliloquy by
saying, “No doubt, Señor Don Diego de Miranda, you set me down in your
mind as a fool and a madman, and it would be no wonder if you did, for
my deeds do not argue anything else. But for all that, I would have you
take notice that I am neither so mad nor so foolish as I must have
seemed to you. A gallant knight shows to advantage bringing his lance
to bear adroitly upon a fierce bull under the eyes of his sovereign, in
the midst of a spacious plaza; a knight shows to advantage arrayed in
glittering armour, pacing the lists before the ladies in some joyous
tournament, and all those knights show to advantage that entertain,
divert, and, if we may say so, honour the courts of their princes by
warlike exercises, or what resemble them; but to greater advantage than
all these does a knight-errant show when he traverses deserts,
solitudes, cross-roads, forests, and mountains, in quest of perilous
adventures, bent on bringing them to a happy and successful issue, all
to win a glorious and lasting renown. To greater advantage, I maintain,
does the knight-errant show bringing aid to some widow in some lonely
waste, than the court knight dallying with some city damsel. All
knights have their own special parts to play; let the courtier devote
himself to the ladies, let him add lustre to his sovereign’s court by
his liveries, let him entertain poor gentlemen with the sumptuous fare
of his table, let him arrange joustings, marshal tournaments, and prove
himself noble, generous, and magnificent, and above all a good
Christian, and so doing he will fulfil the duties that are especially
his; but let the knight-errant explore the corners of the earth and
penetrate the most intricate labyrinths, at each step let him attempt
impossibilities, on desolate heaths let him endure the burning rays of
the midsummer sun, and the bitter inclemency of the winter winds and
frosts; let no lions daunt him, no monsters terrify him, no dragons
make him quail; for to seek these, to attack those, and to vanquish
all, are in truth his main duties. I, then, as it has fallen to my lot
to be a member of knight-errantry, cannot avoid attempting all that to
me seems to come within the sphere of my duties; thus it was my bounden
duty to attack those lions that I just now attacked, although I knew it
to be the height of rashness; for I know well what valour is, that it
is a virtue that occupies a place between two vicious extremes,
cowardice and temerity; but it will be a lesser evil for him who is
valiant to rise till he reaches the point of rashness, than to sink
until he reaches the point of cowardice; for, as it is easier for the
prodigal than for the miser to become generous, so it is easier for a
rash man to prove truly valiant than for a coward to rise to true
valour; and believe me, Señor Don Diego, in attempting adventures it is
better to lose by a card too many than by a card too few; for to hear
it said, ‘such a knight is rash and daring,’ sounds better than ‘such a
knight is timid and cowardly.’”

“I protest, Señor Don Quixote,” said Don Diego, “everything you have
said and done is proved correct by the test of reason itself; and I
believe, if the laws and ordinances of knight-errantry should be lost,
they might be found in your worship’s breast as in their own proper
depository and muniment-house; but let us make haste, and reach my
village, where you shall take rest after your late exertions; for if
they have not been of the body they have been of the spirit, and these
sometimes tend to produce bodily fatigue.”

“I take the invitation as a great favour and honour, Señor Don Diego,”
replied Don Quixote; and pressing forward at a better pace than before,
at about two in the afternoon they reached the village and house of Don
Diego, or, as Don Quixote called him, “The Knight of the Green Gaban.”



p17e.jpg (76K)



CHAPTER XVIII.
OF WHAT HAPPENED DON QUIXOTE IN THE CASTLE OR HOUSE OF THE KNIGHT OF
THE GREEN GABAN, TOGETHER WITH OTHER MATTERS OUT OF THE COMMON




p18a.jpg (133K)

Full Size



Don Quixote found Don Diego de Miranda’s house built in village style,
with his arms in rough stone over the street door; in the patio was the
store-room, and at the entrance the cellar, with plenty of wine-jars
standing round, which, coming from El Toboso, brought back to his
memory his enchanted and transformed Dulcinea; and with a sigh, and not
thinking of what he was saying, or in whose presence he was, he
exclaimed-

“O ye sweet treasures, to my sorrow found!
Once sweet and welcome when ’twas heaven’s good-will.

“O ye Tobosan jars, how ye bring back to my memory the
sweet object of my bitter regrets!”



p18b.jpg (300K)

Full Size



The student poet, Don Diego’s son, who had come out with his mother to
receive him, heard this exclamation, and both mother and son were
filled with amazement at the extraordinary figure he presented; he,
however, dismounting from Rocinante, advanced with great politeness to
ask permission to kiss the lady’s hand, while Don Diego said, “Señora,
pray receive with your wonted kindness Señor Don Quixote of La Mancha,
whom you see before you, a knight-errant, and the bravest and wisest in
the world.”

The lady, whose name was Doña Christina, received him with every sign
of good-will and great courtesy, and Don Quixote placed himself at her
service with an abundance of well-chosen and polished phrases. Almost
the same civilities were exchanged between him and the student, who
listening to Don Quixote, took him to be a sensible, clear-headed
person.

Here the author describes minutely everything belonging to Don Diego’s
mansion, putting before us in his picture the whole contents of a rich
gentleman-farmer’s house; but the translator of the history thought it
best to pass over these and other details of the same sort in silence,
as they are not in harmony with the main purpose of the story, the
strong point of which is truth rather than dull digressions.

They led Don Quixote into a room, and Sancho removed his armour,
leaving him in loose Walloon breeches and chamois-leather doublet, all
stained with the rust of his armour; his collar was a falling one of
scholastic cut, without starch or lace, his buskins buff-coloured, and
his shoes polished. He wore his good sword, which hung in a baldric of
sea-wolf’s skin, for he had suffered for many years, they say, from an
ailment of the kidneys; and over all he threw a long cloak of good grey
cloth. But first of all, with five or six buckets of water (for as
regard the number of buckets there is some dispute), he washed his head
and face, and still the water remained whey-coloured, thanks to
Sancho’s greediness and purchase of those unlucky curds that turned his
master so white. Thus arrayed, and with an easy, sprightly, and gallant
air, Don Quixote passed out into another room, where the student was
waiting to entertain him while the table was being laid; for on the
arrival of so distinguished a guest, Doña Christina was anxious to show
that she knew how and was able to give a becoming reception to those
who came to her house.

While Don Quixote was taking off his armour, Don Lorenzo (for so Don
Diego’s son was called) took the opportunity to say to his father,
“What are we to make of this gentleman you have brought home to us,
sir? For his name, his appearance, and your describing him as a
knight-errant have completely puzzled my mother and me.”

“I don’t know what to say, my son,” replied. Don Diego; “all I can tell
thee is that I have seen him act the acts of the greatest madman in the
world, and heard him make observations so sensible that they efface and
undo all he does; do thou talk to him and feel the pulse of his wits,
and as thou art shrewd, form the most reasonable conclusion thou canst
as to his wisdom or folly; though, to tell the truth, I am more
inclined to take him to be mad than sane.”

With this Don Lorenzo went away to entertain Don Quixote as has been
said, and in the course of the conversation that passed between them
Don Quixote said to Don Lorenzo, “Your father, Señor Don Diego de
Miranda, has told me of the rare abilities and subtle intellect you
possess, and, above all, that you are a great poet.”

“A poet, it may be,” replied Don Lorenzo, “but a great one, by no
means. It is true that I am somewhat given to poetry and to reading
good poets, but not so much so as to justify the title of ‘great’ which
my father gives me.”

“I do not dislike that modesty,” said Don Quixote; “for there is no
poet who is not conceited and does not think he is the best poet in the
world.”

“There is no rule without an exception,” said Don Lorenzo; “there may
be some who are poets and yet do not think they are.”

“Very few,” said Don Quixote; “but tell me, what verses are those which
you have now in hand, and which your father tells me keep you somewhat
restless and absorbed? If it be some gloss, I know something about
glosses, and I should like to hear them; and if they are for a poetical
tournament, contrive to carry off the second prize; for the first
always goes by favour or personal standing, the second by simple
justice; and so the third comes to be the second, and the first,
reckoning in this way, will be third, in the same way as licentiate
degrees are conferred at the universities; but, for all that, the title
of first is a great distinction.”

“So far,” said Don Lorenzo to himself, “I should not take you to be a
madman; but let us go on.” So he said to him, “Your worship has
apparently attended the schools; what sciences have you studied?”

“That of knight-errantry,” said Don Quixote, “which is as good as that
of poetry, and even a finger or two above it.”

“I do not know what science that is,” said Don Lorenzo, “and until now
I have never heard of it.”

“It is a science,” said Don Quixote, “that comprehends in itself all or
most of the sciences in the world, for he who professes it must be a
jurist, and must know the rules of justice, distributive and equitable,
so as to give to each one what belongs to him and is due to him. He
must be a theologian, so as to be able to give a clear and distinctive
reason for the Christian faith he professes, wherever it may be asked
of him. He must be a physician, and above all a herbalist, so as in
wastes and solitudes to know the herbs that have the property of
healing wounds, for a knight-errant must not go looking for someone to
cure him at every step. He must be an astronomer, so as to know by the
stars how many hours of the night have passed, and what clime and
quarter of the world he is in. He must know mathematics, for at every
turn some occasion for them will present itself to him; and, putting it
aside that he must be adorned with all the virtues, cardinal and
theological, to come down to minor particulars, he must, I say, be able
to swim as well as Nicholas or Nicolao the Fish could, as the story
goes; he must know how to shoe a horse, and repair his saddle and
bridle; and, to return to higher matters, he must be faithful to God
and to his lady; he must be pure in thought, decorous in words,
generous in works, valiant in deeds, patient in suffering,
compassionate towards the needy, and, lastly, an upholder of the truth
though its defence should cost him his life. Of all these qualities,
great and small, is a true knight-errant made up; judge then, Señor Don
Lorenzo, whether it be a contemptible science which the knight who
studies and professes it has to learn, and whether it may not compare
with the very loftiest that are taught in the schools.”

“If that be so,” replied Don Lorenzo, “this science, I protest,
surpasses all.”

“How, if that be so?” said Don Quixote.

“What I mean to say,” said Don Lorenzo, “is, that I doubt whether there
are now, or ever were, any knights-errant, and adorned with such
virtues.”

“Many a time,” replied Don Quixote, “have I said what I now say once
more, that the majority of the world are of opinion that there never
were any knights-errant in it; and as it is my opinion that, unless
heaven by some miracle brings home to them the truth that there were
and are, all the pains one takes will be in vain (as experience has
often proved to me), I will not now stop to disabuse you of the error
you share with the multitude. All I shall do is to pray to heaven to
deliver you from it, and show you how beneficial and necessary
knights-errant were in days of yore, and how useful they would be in
these days were they but in vogue; but now, for the sins of the people,
sloth and indolence, gluttony and luxury are triumphant.”

“Our guest has broken out on our hands,” said Don Lorenzo to himself at
this point; “but, for all that, he is a glorious madman, and I should
be a dull blockhead to doubt it.”

Here, being summoned to dinner, they brought their colloquy to a close.
Don Diego asked his son what he had been able to make out as to the
wits of their guest. To which he replied, “All the doctors and clever
scribes in the world will not make sense of the scrawl of his madness;
he is a madman full of streaks, full of lucid intervals.”

They went in to dinner, and the repast was such as Don Diego said on
the road he was in the habit of giving to his guests, neat, plentiful,
and tasty; but what pleased Don Quixote most was the marvellous silence
that reigned throughout the house, for it was like a Carthusian
monastery.

When the cloth had been removed, grace said and their hands washed, Don
Quixote earnestly pressed Don Lorenzo to repeat to him his verses for
the poetical tournament, to which he replied, “Not to be like those
poets who, when they are asked to recite their verses, refuse, and when
they are not asked for them vomit them up, I will repeat my gloss, for
which I do not expect any prize, having composed it merely as an
exercise of ingenuity.”

“A discerning friend of mine,” said Don Quixote, “was of opinion that
no one ought to waste labour in glossing verses; and the reason he gave
was that the gloss can never come up to the text, and that often or
most frequently it wanders away from the meaning and purpose aimed at
in the glossed lines; and besides, that the laws of the gloss were too
strict, as they did not allow interrogations, nor ‘said he,’ nor ‘I
say,’ nor turning verbs into nouns, or altering the construction, not
to speak of other restrictions and limitations that fetter
gloss-writers, as you no doubt know.”

“Verily, Señor Don Quixote,” said Don Lorenzo, “I wish I could catch
your worship tripping at a stretch, but I cannot, for you slip through
my fingers like an eel.”

“I don’t understand what you say, or mean by slipping,” said Don
Quixote.

“I will explain myself another time,” said Don Lorenzo; “for the
present pray attend to the glossed verses and the gloss, which run
thus:

Could ‘was’ become an ‘is’ for me,
Then would I ask no more than this;
Or could, for me, the time that is
Become the time that is to be!—



GLOSS

Dame Fortune once upon a day
To me was bountiful and kind;
But all things change; she changed her mind,
And what she gave she took away.
O Fortune, long I’ve sued to thee;
The gifts thou gavest me restore,
For, trust me, I would ask no more,
Could ‘was’ become an ‘is’ for me.

No other prize I seek to gain,
No triumph, glory, or success,
Only the long-lost happiness,
The memory whereof is pain.
One taste, methinks, of bygone bliss
The heart-consuming fire might stay;
And, so it come without delay,
Then would I ask no more than this.

I ask what cannot be, alas!
That time should ever be, and then
Come back to us, and be again,
No power on earth can bring to pass;
For fleet of foot is he, I wis,
And idly, therefore, do we pray
That what for aye hath left us may
Become for us the time that is.

Perplexed, uncertain, to remain
’Twixt hope and fear, is death, not life;
’Twere better, sure, to end the strife,
And dying, seek release from pain.
And yet, thought were the best for me.
Anon the thought aside I fling,
And to the present fondly cling,
And dread the time that is to be.”


When Don Lorenzo had finished reciting his gloss, Don Quixote stood up,
and in a loud voice, almost a shout, exclaimed as he grasped Don
Lorenzo’s right hand in his, “By the highest heavens, noble youth, but
you are the best poet on earth, and deserve to be crowned with laurel,
not by Cyprus or by Gaeta—as a certain poet, God forgive him, said—but
by the Academies of Athens, if they still flourished, and by those that
flourish now, Paris, Bologna, Salamanca. Heaven grant that the judges
who rob you of the first prize—that Phœbus may pierce them with his
arrows, and the Muses never cross the thresholds of their doors. Repeat
me some of your long-measure verses, señor, if you will be so good, for
I want thoroughly to feel the pulse of your rare genius.”

Is there any need to say that Don Lorenzo enjoyed hearing himself
praised by Don Quixote, albeit he looked upon him as a madman? power of
flattery, how far-reaching art thou, and how wide are the bounds of thy
pleasant jurisdiction! Don Lorenzo gave a proof of it, for he complied
with Don Quixote’s request and entreaty, and repeated to him this
sonnet on the fable or story of Pyramus and Thisbe.

SONNET

The lovely maid, she pierces now the wall;
Heart-pierced by her young Pyramus doth lie;
And Love spreads wing from Cyprus isle to fly,
A chink to view so wondrous great and small.
There silence speaketh, for no voice at all
Can pass so strait a strait; but love will ply
Where to all other power ’twere vain to try;
For love will find a way whate’er befall.
Impatient of delay, with reckless pace
The rash maid wins the fatal spot where she
Sinks not in lover’s arms but death’s embrace.
So runs the strange tale, how the lovers twain
One sword, one sepulchre, one memory,
Slays, and entombs, and brings to life again.


“Blessed be God,” said Don Quixote when he had heard Don Lorenzo’s
sonnet, “that among the hosts there are of irritable poets I have found
one consummate one, which, señor, the art of this sonnet proves to me
that you are!”

For four days was Don Quixote most sumptuously entertained in Don
Diego’s house, at the end of which time he asked his permission to
depart, telling him he thanked him for the kindness and hospitality he
had received in his house, but that, as it did not become
knights-errant to give themselves up for long to idleness and luxury,
he was anxious to fulfill the duties of his calling in seeking
adventures, of which he was informed there was an abundance in that
neighbourhood, where he hoped to employ his time until the day came
round for the jousts at Saragossa, for that was his proper destination;
and that, first of all, he meant to enter the cave of Montesinos, of
which so many marvellous things were reported all through the country,
and at the same time to investigate and explore the origin and true
source of the seven lakes commonly called the lakes of Ruidera.

Don Diego and his son commended his laudable resolution, and bade him
furnish himself with all he wanted from their house and belongings, as
they would most gladly be of service to him; which, indeed, his
personal worth and his honourable profession made incumbent upon them.

The day of his departure came at length, as welcome to Don Quixote as
it was sad and sorrowful to Sancho Panza, who was very well satisfied
with the abundance of Don Diego’s house, and objected to return to the
starvation of the woods and wilds and the short-commons of his
ill-stocked alforjas; these, however, he filled and packed with what he
considered needful. On taking leave, Don Quixote said to Don Lorenzo,
“I know not whether I have told you already, but if I have I tell you
once more, that if you wish to spare yourself fatigue and toil in
reaching the inaccessible summit of the temple of fame, you have
nothing to do but to turn aside out of the somewhat narrow path of
poetry and take the still narrower one of knight-errantry, wide enough,
however, to make you an emperor in the twinkling of an eye.”

In this speech Don Quixote wound up the evidence of his madness, but
still better in what he added when he said, “God knows, I would gladly
take Don Lorenzo with me to teach him how to spare the humble, and
trample the proud under foot, virtues that are part and parcel of the
profession I belong to; but since his tender age does not allow of it,
nor his praiseworthy pursuits permit it, I will simply content myself
with impressing it upon your worship that you will become famous as a
poet if you are guided by the opinion of others rather than by your
own; because no fathers or mothers ever think their own children
ill-favoured, and this sort of deception prevails still more strongly
in the case of the children of the brain.”

Both father and son were amazed afresh at the strange medley Don
Quixote talked, at one moment sense, at another nonsense, and at the
pertinacity and persistence he displayed in going through thick and
thin in quest of his unlucky adventures, which he made the end and aim
of his desires. There was a renewal of offers of service and
civilities, and then, with the gracious permission of the lady of the
castle, they took their departure, Don Quixote on Rocinante, and Sancho
on Dapple.



p18e.jpg (18K)



CHAPTER XIX.
IN WHICH IS RELATED THE ADVENTURE OF THE ENAMOURED SHEPHERD, TOGETHER
WITH OTHER TRULY DROLL INCIDENTS

p19a.jpg (131K)

Full Size



Don Quixote had gone but a short distance beyond Don Diego’s village,
when he fell in with a couple of either priests or students, and a
couple of peasants, mounted on four beasts of the ass kind. One of the
students carried, wrapped up in a piece of green buckram by way of a
portmanteau, what seemed to be a little linen and a couple of pairs of
ribbed stockings; the other carried nothing but a pair of new
fencing-foils with buttons. The peasants carried divers articles that
showed they were on their way from some large town where they had
bought them, and were taking them home to their village; and both
students and peasants were struck with the same amazement that
everybody felt who saw Don Quixote for the first time, and were dying
to know who this man, so different from ordinary men, could be. Don
Quixote saluted them, and after ascertaining that their road was the
same as his, made them an offer of his company, and begged them to
slacken their pace, as their young asses travelled faster than his
horse; and then, to gratify them, he told them in a few words who he
was and the calling and profession he followed, which was that of a
knight-errant seeking adventures in all parts of the world. He informed
them that his own name was Don Quixote of La Mancha, and that he was
called, by way of surname, the Knight of the Lions.

All this was Greek or gibberish to the peasants, but not so to the
students, who very soon perceived the crack in Don Quixote’s pate; for
all that, however, they regarded him with admiration and respect, and
one of them said to him, “If you, sir knight, have no fixed road, as it
is the way with those who seek adventures not to have any, let your
worship come with us; you will see one of the finest and richest
weddings that up to this day have ever been celebrated in La Mancha, or
for many a league round.”

Don Quixote asked him if it was some prince’s, that he spoke of it in
this way. “Not at all,” said the student; “it is the wedding of a
farmer and a farmer’s daughter, he the richest in all this country, and
she the fairest mortal ever set eyes on. The display with which it is
to be attended will be something rare and out of the common, for it
will be celebrated in a meadow adjoining the town of the bride, who is
called, _par excellence_, Quiteria the fair, as the bridegroom is
called Camacho the rich. She is eighteen, and he twenty-two, and they
are fairly matched, though some knowing ones, who have all the
pedigrees in the world by heart, will have it that the family of the
fair Quiteria is better than Camacho’s; but no one minds that
now-a-days, for wealth can solder a great many flaws. At any rate,
Camacho is free-handed, and it is his fancy to screen the whole meadow
with boughs and cover it in overhead, so that the sun will have hard
work if he tries to get in to reach the grass that covers the soil. He
has provided dancers too, not only sword but also bell-dancers, for in
his own town there are those who ring the changes and jingle the bells
to perfection; of shoe-dancers I say nothing, for of them he has
engaged a host. But none of these things, nor of the many others I have
omitted to mention, will do more to make this a memorable wedding than
the part which I suspect the despairing Basilio will play in it. This
Basilio is a youth of the same village as Quiteria, and he lived in the
house next door to that of her parents, of which circumstance Love took
advantage to reproduce to the word the long-forgotten loves of Pyramus
and Thisbe; for Basilio loved Quiteria from his earliest years, and she
responded to his passion with countless modest proofs of affection, so
that the loves of the two children, Basilio and Quiteria, were the talk
and the amusement of the town. As they grew up, the father of Quiteria
made up his mind to refuse Basilio his wonted freedom of access to the
house, and to relieve himself of constant doubts and suspicions, he
arranged a match for his daughter with the rich Camacho, as he did not
approve of marrying her to Basilio, who had not so large a share of the
gifts of fortune as of nature; for if the truth be told ungrudgingly,
he is the most agile youth we know, a mighty thrower of the bar, a
first-rate wrestler, and a great ball-player; he runs like a deer, and
leaps better than a goat, bowls over the nine-pins as if by magic,
sings like a lark, plays the guitar so as to make it speak, and, above
all, handles a sword as well as the best.”

“For that excellence alone,” said Don Quixote at this, “the youth
deserves to marry, not merely the fair Quiteria, but Queen Guinevere
herself, were she alive now, in spite of Launcelot and all who would
try to prevent it.”

“Say that to my wife,” said Sancho, who had until now listened in
silence, “for she won’t hear of anything but each one marrying his
equal, holding with the proverb ‘each ewe to her like.’ What I would
like is that this good Basilio (for I am beginning to take a fancy to
him already) should marry this lady Quiteria; and a blessing and good
luck—I meant to say the opposite—on people who would prevent those who
love one another from marrying.”

“If all those who love one another were to marry,” said Don Quixote,
“it would deprive parents of the right to choose, and marry their
children to the proper person and at the proper time; and if it was
left to daughters to choose husbands as they pleased, one would be for
choosing her father’s servant, and another, someone she has seen
passing in the street and fancies gallant and dashing, though he may be
a drunken bully; for love and fancy easily blind the eyes of the
judgment, so much wanted in choosing one’s way of life; and the
matrimonial choice is very liable to error, and it needs great caution
and the special favour of heaven to make it a good one. He who has to
make a long journey, will, if he is wise, look out for some trusty and
pleasant companion to accompany him before he sets out. Why, then,
should not he do the same who has to make the whole journey of life
down to the final halting-place of death, more especially when the
companion has to be his companion in bed, at board, and everywhere, as
the wife is to her husband? The companionship of one’s wife is no
article of merchandise, that, after it has been bought, may be
returned, or bartered, or changed; for it is an inseparable accident
that lasts as long as life lasts; it is a noose that, once you put it
round your neck, turns into a Gordian knot, which, if the scythe of
Death does not cut it, there is no untying. I could say a great deal
more on this subject, were I not prevented by the anxiety I feel to
know if the señor licentiate has anything more to tell about the story
of Basilio.”

To this the student, bachelor, or, as Don Quixote called him,
licentiate, replied, “I have nothing whatever to say further, but that
from the moment Basilio learned that the fair Quiteria was to be
married to Camacho the rich, he has never been seen to smile, or heard
to utter rational word, and he always goes about moody and dejected,
talking to himself in a way that shows plainly he is out of his senses.
He eats little and sleeps little, and all he eats is fruit, and when he
sleeps, if he sleeps at all, it is in the field on the hard earth like
a brute beast. Sometimes he gazes at the sky, at other times he fixes
his eyes on the earth in such an abstracted way that he might be taken
for a clothed statue, with its drapery stirred by the wind. In short,
he shows such signs of a heart crushed by suffering, that all we who
know him believe that when to-morrow the fair Quiteria says ‘yes,’ it
will be his sentence of death.”

“God will guide it better,” said Sancho, “for God who gives the wound
gives the salve; nobody knows what will happen; there are a good many
hours between this and to-morrow, and any one of them, or any moment,
the house may fall; I have seen the rain coming down and the sun
shining all at one time; many a one goes to bed in good health who
can’t stir the next day. And tell me, is there anyone who can boast of
having driven a nail into the wheel of fortune? No, faith; and between
a woman’s ‘yes’ and ‘no’ I wouldn’t venture to put the point of a pin,
for there would not be room for it; if you tell me Quiteria loves
Basilio heart and soul, then I’ll give him a bag of good luck; for
love, I have heard say, looks through spectacles that make copper seem
gold, poverty wealth, and bleary eyes pearls.”

“What art thou driving at, Sancho? curses on thee!” said Don Quixote;
“for when thou takest to stringing proverbs and sayings together, no
one can understand thee but Judas himself, and I wish he had thee. Tell
me, thou animal, what dost thou know about nails or wheels, or anything
else?”

“Oh, if you don’t understand me,” replied Sancho, “it is no wonder my
words are taken for nonsense; but no matter; I understand myself, and I
know I have not said anything very foolish in what I have said; only
your worship, señor, is always gravelling at everything I say, nay,
everything I do.”

“Cavilling, not gravelling,” said Don Quixote, “thou prevaricator of
honest language, God confound thee!”

“Don’t find fault with me, your worship,” returned Sancho, “for you
know I have not been bred up at court or trained at Salamanca, to know
whether I am adding or dropping a letter or so in my words. Why! God
bless me, it’s not fair to force a Sayago-man to speak like a Toledan;
maybe there are Toledans who do not hit it off when it comes to
polished talk.”

“That is true,” said the licentiate, “for those who have been bred up
in the Tanneries and the Zocodover cannot talk like those who are
almost all day pacing the cathedral cloisters, and yet they are all
Toledans. Pure, correct, elegant and lucid language will be met with in
men of courtly breeding and discrimination, though they may have been
born in Majalahonda; I say of discrimination, because there are many
who are not so, and discrimination is the grammar of good language, if
it be accompanied by practice. I, sirs, for my sins have studied canon
law at Salamanca, and I rather pique myself on expressing my meaning in
clear, plain, and intelligible language.”

“If you did not pique yourself more on your dexterity with those foils
you carry than on dexterity of tongue,” said the other student, “you
would have been head of the degrees, where you are now tail.”

“Look here, bachelor Corchuelo,” returned the licentiate, “you have the
most mistaken idea in the world about skill with the sword, if you
think it useless.”

“It is no idea on my part, but an established truth,” replied
Corchuelo; “and if you wish me to prove it to you by experiment, you
have swords there, and it is a good opportunity; I have a steady hand
and a strong arm, and these joined with my resolution, which is not
small, will make you confess that I am not mistaken. Dismount and put
in practice your positions and circles and angles and science, for I
hope to make you see stars at noonday with my rude raw swordsmanship,
in which, next to God, I place my trust that the man is yet to be born
who will make me turn my back, and that there is not one in the world I
will not compel to give ground.”

“As to whether you turn your back or not, I do not concern myself,”
replied the master of fence; “though it might be that your grave would
be dug on the spot where you planted your foot the first time; I mean
that you would be stretched dead there for despising skill with the
sword.”

“We shall soon see,” replied Corchuelo, and getting off his ass
briskly, he drew out furiously one of the swords the licentiate carried
on his beast.

“It must not be that way,” said Don Quixote at this point; “I will be
the director of this fencing match, and judge of this often disputed
question;” and dismounting from Rocinante and grasping his lance, he
planted himself in the middle of the road, just as the licentiate, with
an easy, graceful bearing and step, advanced towards Corchuelo, who
came on against him, darting fire from his eyes, as the saying is. The
other two of the company, the peasants, without dismounting from their
asses, served as spectators of the mortal tragedy. The cuts, thrusts,
down strokes, back strokes and doubles, that Corchuelo delivered were
past counting, and came thicker than hops or hail. He attacked like an
angry lion, but he was met by a tap on the mouth from the button of the
licentiate’s sword that checked him in the midst of his furious onset,
and made him kiss it as if it were a relic, though not as devoutly as
relics are and ought to be kissed. The end of it was that the
licentiate reckoned up for him by thrusts every one of the buttons of
the short cassock he wore, tore the skirts into strips, like the tails
of a cuttlefish, knocked off his hat twice, and so completely tired him
out, that in vexation, anger, and rage, he took the sword by the hilt
and flung it away with such force, that one of the peasants that were
there, who was a notary, and who went for it, made an affidavit
afterwards that he sent it nearly three-quarters of a league, which
testimony will serve, and has served, to show and establish with all
certainty that strength is overcome by skill.

Corchuelo sat down wearied, and Sancho approaching him said, “By my
faith, señor bachelor, if your worship takes my advice, you will never
challenge anyone to fence again, only to wrestle and throw the bar, for
you have the youth and strength for that; but as for these fencers as
they call them, I have heard say they can put the point of a sword
through the eye of a needle.”

“I am satisfied with having tumbled off my donkey,” said Corchuelo,
“and with having had the truth I was so ignorant of proved to me by
experience;” and getting up he embraced the licentiate, and they were
better friends than ever; and not caring to wait for the notary who had
gone for the sword, as they saw he would be a long time about it, they
resolved to push on so as to reach the village of Quiteria, to which
they all belonged, in good time.

During the remainder of the journey the licentiate held forth to them
on the excellences of the sword, with such conclusive arguments, and
such figures and mathematical proofs, that all were convinced of the
value of the science, and Corchuelo cured of his dogmatism.

It grew dark; but before they reached the town it seemed to them all as
if there was a heaven full of countless glittering stars in front of
it. They heard, too, the pleasant mingled notes of a variety of
instruments, flutes, drums, psalteries, pipes, tabors, and timbrels,
and as they drew near they perceived that the trees of a leafy arcade
that had been constructed at the entrance of the town were filled with
lights unaffected by the wind, for the breeze at the time was so gentle
that it had not power to stir the leaves on the trees. The musicians
were the life of the wedding, wandering through the pleasant grounds in
separate bands, some dancing, others singing, others playing the
various instruments already mentioned. In short, it seemed as though
mirth and gaiety were frisking and gambolling all over the meadow.
Several other persons were engaged in erecting raised benches from
which people might conveniently see the plays and dances that were to
be performed the next day on the spot dedicated to the celebration of
the marriage of Camacho the rich and the obsequies of Basilio. Don
Quixote would not enter the village, although the peasant as well as
the bachelor pressed him; he excused himself, however, on the grounds,
amply sufficient in his opinion, that it was the custom of
knights-errant to sleep in the fields and woods in preference to towns,
even were it under gilded ceilings; and so turned aside a little out of
the road, very much against Sancho’s will, as the good quarters he had
enjoyed in the castle or house of Don Diego came back to his mind.



p19e.jpg (29K)



CHAPTER XX.
WHEREIN AN ACCOUNT IS GIVEN OF THE WEDDING OF CAMACHO THE RICH,
TOGETHER WITH THE INCIDENT OF BASILIO THE POOR




p20a.jpg (125K)

Full Size



Scarce had the fair Aurora given bright Phœbus time to dry the liquid
pearls upon her golden locks with the heat of his fervent rays, when
Don Quixote, shaking off sloth from his limbs, sprang to his feet and
called to his squire Sancho, who was still snoring; seeing which Don
Quixote ere he roused him thus addressed him: “Happy thou, above all
the dwellers on the face of the earth, that, without envying or being
envied, sleepest with tranquil mind, and that neither enchanters
persecute nor enchantments affright. Sleep, I say, and will say a
hundred times, without any jealous thoughts of thy mistress to make
thee keep ceaseless vigils, or any cares as to how thou art to pay the
debts thou owest, or find to-morrow’s food for thyself and thy needy
little family, to interfere with thy repose. Ambition breaks not thy
rest, nor doth this world’s empty pomp disturb thee, for the utmost
reach of thy anxiety is to provide for thy ass, since upon my shoulders
thou hast laid the support of thyself, the counterpoise and burden that
nature and custom have imposed upon masters. The servant sleeps and the
master lies awake thinking how he is to feed him, advance him, and
reward him. The distress of seeing the sky turn brazen, and withhold
its needful moisture from the earth, is not felt by the servant but by
the master, who in time of scarcity and famine must support him who has
served him in times of plenty and abundance.”



p20b.jpg (365K)

Full Size



To all this Sancho made no reply because he was asleep, nor would he
have wakened up so soon as he did had not Don Quixote brought him to
his senses with the butt of his lance. He awoke at last, drowsy and
lazy, and casting his eyes about in every direction, observed, “There
comes, if I don’t mistake, from the quarter of that arcade a steam and
a smell a great deal more like fried rashers than galingale or thyme; a
wedding that begins with smells like that, by my faith, ought to be
plentiful and unstinting.”

“Have done, thou glutton,” said Don Quixote; “come, let us go and
witness this bridal, and see what the rejected Basilio does.”

“Let him do what he likes,” returned Sancho; “be he not poor, he would
marry Quiteria. To make a grand match for himself, and he without a
farthing; is there nothing else? Faith, señor, it’s my opinion the poor
man should be content with what he can get, and not go looking for
dainties in the bottom of the sea. I will bet my arm that Camacho could
bury Basilio in reals; and if that be so, as no doubt it is, what a
fool Quiteria would be to refuse the fine dresses and jewels Camacho
must have given her and will give her, and take Basilio’s bar-throwing
and sword-play. They won’t give a pint of wine at the tavern for a good
cast of the bar or a neat thrust of the sword. Talents and
accomplishments that can’t be turned into money, let Count Dirlos have
them; but when such gifts fall to one that has hard cash, I wish my
condition of life was as becoming as they are. On a good foundation you
can raise a good building, and the best foundation in the world is
money.”

“For God’s sake, Sancho,” said Don Quixote here, “stop that harangue;
it is my belief, if thou wert allowed to continue all thou beginnest
every instant, thou wouldst have no time left for eating or sleeping;
for thou wouldst spend it all in talking.”

“If your worship had a good memory,” replied Sancho, “you would
remember the articles of our agreement before we started from home this
last time; one of them was that I was to be let say all I liked, so
long as it was not against my neighbour or your worship’s authority;
and so far, it seems to me, I have not broken the said article.”

“I remember no such article, Sancho,” said Don Quixote; “and even if it
were so, I desire you to hold your tongue and come along; for the
instruments we heard last night are already beginning to enliven the
valleys again, and no doubt the marriage will take place in the cool of
the morning, and not in the heat of the afternoon.”

Sancho did as his master bade him, and putting the saddle on Rocinante
and the pack-saddle on Dapple, they both mounted and at a leisurely
pace entered the arcade. The first thing that presented itself to
Sancho’s eyes was a whole ox spitted on a whole elm tree, and in the
fire at which it was to be roasted there was burning a middling-sized
mountain of faggots, and six stewpots that stood round the blaze had
not been made in the ordinary mould of common pots, for they were six
half wine-jars, each fit to hold the contents of a slaughter-house;
they swallowed up whole sheep and hid them away in their insides
without showing any more sign of them than if they were pigeons.
Countless were the hares ready skinned and the plucked fowls that hung
on the trees for burial in the pots, numberless the wildfowl and game
of various sorts suspended from the branches that the air might keep
them cool. Sancho counted more than sixty wine skins of over six
gallons each, and all filled, as it proved afterwards, with generous
wines. There were, besides, piles of the whitest bread, like the heaps
of corn one sees on the threshing-floors. There was a wall made of
cheeses arranged like open brick-work, and two cauldrons full of oil,
bigger than those of a dyer’s shop, served for cooking fritters, which
when fried were taken out with two mighty shovels, and plunged into
another cauldron of prepared honey that stood close by. Of cooks and
cook-maids there were over fifty, all clean, brisk, and blithe. In the
capacious belly of the ox were a dozen soft little sucking-pigs, which,
sewn up there, served to give it tenderness and flavour. The spices of
different kinds did not seem to have been bought by the pound but by
the quarter, and all lay open to view in a great chest. In short, all
the preparations made for the wedding were in rustic style, but
abundant enough to feed an army.



p20c.jpg (415K)

Full Size



Sancho observed all, contemplated all, and everything won his heart.
The first to captivate and take his fancy were the pots, out of which
he would have very gladly helped himself to a moderate pipkinful; then
the wine skins secured his affections; and lastly, the produce of the
frying-pans, if, indeed, such imposing cauldrons may be called
frying-pans; and unable to control himself or bear it any longer, he
approached one of the busy cooks and civilly but hungrily begged
permission to soak a scrap of bread in one of the pots; to which the
cook made answer, “Brother, this is not a day on which hunger is to
have any sway, thanks to the rich Camacho; get down and look about for
a ladle and skim off a hen or two, and much good may they do you.”

“I don’t see one,” said Sancho.

“Wait a bit,” said the cook; “sinner that I am! how particular and
bashful you are!” and so saying, he seized a bucket and plunging it
into one of the half jars took up three hens and a couple of geese, and
said to Sancho, “Fall to, friend, and take the edge off your appetite
with these skimmings until dinner-time comes.”



p20d.jpg (351K)

Full Size



“I have nothing to put them in,” said Sancho.

“Well then,” said the cook, “take spoon and all; for Camacho’s wealth
and happiness furnish everything.”

While Sancho fared thus, Don Quixote was watching the entrance, at one
end of the arcade, of some twelve peasants, all in holiday and gala
dress, mounted on twelve beautiful mares with rich handsome field
trappings and a number of little bells attached to their petrals, who,
marshalled in regular order, ran not one but several courses over the
meadow, with jubilant shouts and cries of “Long live Camacho and
Quiteria! he as rich as she is fair; and she the fairest on earth!”

Hearing this, Don Quixote said to himself, “It is easy to see these
folk have never seen my Dulcinea del Toboso; for if they had they would
be more moderate in their praises of this Quiteria of theirs.”

Shortly after this, several bands of dancers of various sorts began to
enter the arcade at different points, and among them one of
sword-dancers composed of some four-and-twenty lads of gallant and
high-spirited mien, clad in the finest and whitest of linen, and with
handkerchiefs embroidered in various colours with fine silk; and one of
those on the mares asked an active youth who led them if any of the
dancers had been wounded. “As yet, thank God, no one has been wounded,”
said he, “we are all safe and sound;” and he at once began to execute
complicated figures with the rest of his comrades, with so many turns
and so great dexterity, that although Don Quixote was well used to see
dances of the same kind, he thought he had never seen any so good as
this. He also admired another that came in composed of fair young
maidens, none of whom seemed to be under fourteen or over eighteen
years of age, all clad in green stuff, with their locks partly braided,
partly flowing loose, but all of such bright gold as to vie with the
sunbeams, and over them they wore garlands of jessamine, roses,
amaranth, and honeysuckle. At their head were a venerable old man and
an ancient dame, more brisk and active, however, than might have been
expected from their years. The notes of a Zamora bagpipe accompanied
them, and with modesty in their countenances and in their eyes, and
lightness in their feet, they looked the best dancers in the world.



p20e.jpg (361K)

Full Size



Following these there came an artistic dance of the sort they call
“speaking dances.” It was composed of eight nymphs in two files, with
the god Cupid leading one and Interest the other, the former furnished
with wings, bow, quiver and arrows, the latter in a rich dress of gold
and silk of divers colours. The nymphs that followed Love bore their
names written on white parchment in large letters on their backs.
“Poetry” was the name of the first, “Wit” of the second, “Birth” of the
third, and “Valour” of the fourth. Those that followed Interest were
distinguished in the same way; the badge of the first announced
“Liberality,” that of the second “Largess,” the third “Treasure,” and
the fourth “Peaceful Possession.” In front of them all came a wooden
castle drawn by four wild men, all clad in ivy and hemp stained green,
and looking so natural that they nearly terrified Sancho. On the front
of the castle and on each of the four sides of its frame it bore the
inscription “Castle of Caution.” Four skillful tabor and flute players
accompanied them, and the dance having been opened, Cupid, after
executing two figures, raised his eyes and bent his bow against a
damsel who stood between the turrets of the castle, and thus addressed
her:

I am the mighty God whose sway
Is potent over land and sea.
The heavens above us own me; nay,
The shades below acknowledge me.
I know not fear, I have my will,
Whate’er my whim or fancy be;
For me there’s no impossible,
I order, bind, forbid, set free.


Having concluded the stanza he discharged an arrow at the top of the
castle, and went back to his place. Interest then came forward and went
through two more figures, and as soon as the tabors ceased, he said:

But mightier than Love am I,
Though Love it be that leads me on,
Than mine no lineage is more high,
Or older, underneath the sun.
To use me rightly few know how,
To act without me fewer still,
For I am Interest, and I vow
For evermore to do thy will.


Interest retired, and Poetry came forward, and when she had gone
through her figures like the others, fixing her eyes on the damsel of
the castle, she said:

With many a fanciful conceit,
Fair Lady, winsome Poesy
Her soul, an offering at thy feet,
Presents in sonnets unto thee.
If thou my homage wilt not scorn,
Thy fortune, watched by envious eyes,
On wings of poesy upborne
Shall be exalted to the skies.


Poetry withdrew, and on the side of Interest Liberality advanced, and
after having gone through her figures, said:

To give, while shunning each extreme,
The sparing hand, the over-free,
Therein consists, so wise men deem,
The virtue Liberality.
But thee, fair lady, to enrich,
Myself a prodigal I’ll prove,
A vice not wholly shameful, which
May find its fair excuse in love.


In the same manner all the characters of the two bands advanced and
retired, and each executed its figures, and delivered its verses, some
of them graceful, some burlesque, but Don Quixote’s memory (though he
had an excellent one) only carried away those that have been just
quoted. All then mingled together, forming chains and breaking off
again with graceful, unconstrained gaiety; and whenever Love passed in
front of the castle he shot his arrows up at it, while Interest broke
gilded pellets against it. At length, after they had danced a good
while, Interest drew out a great purse, made of the skin of a large
brindled cat and to all appearance full of money, and flung it at the
castle, and with the force of the blow the boards fell asunder and
tumbled down, leaving the damsel exposed and unprotected. Interest and
the characters of his band advanced, and throwing a great chain of gold
over her neck pretended to take her and lead her away captive, on
seeing which, Love and his supporters made as though they would release
her, the whole action being to the accompaniment of the tabors and in
the form of a regular dance. The wild men made peace between them, and
with great dexterity readjusted and fixed the boards of the castle, and
the damsel once more ensconced herself within; and with this the dance
wound up, to the great enjoyment of the beholders.

Don Quixote asked one of the nymphs who it was that had composed and
arranged it. She replied that it was a beneficiary of the town who had
a nice taste in devising things of the sort. “I will lay a wager,” said
Don Quixote, “that the same bachelor or beneficiary is a greater friend
of Camacho’s than of Basilio’s, and that he is better at satire than at
vespers; he has introduced the accomplishments of Basilio and the
riches of Camacho very neatly into the dance.” Sancho Panza, who was
listening to all this, exclaimed, “The king is my cock; I stick to
Camacho.” “It is easy to see thou art a clown, Sancho,” said Don
Quixote, “and one of that sort that cry ‘Long life to the conqueror.’”

“I don’t know of what sort I am,” returned Sancho, “but I know very
well I’ll never get such elegant skimmings off Basilio’s pots as these
I have got off Camacho’s;” and he showed him the bucketful of geese and
hens, and seizing one began to eat with great gaiety and appetite,
saying, “A fig for the accomplishments of Basilio! As much as thou hast
so much art thou worth, and as much as thou art worth so much hast
thou. As a grandmother of mine used to say, there are only two families
in the world, the Haves and the Haven’ts; and she stuck to the Haves;
and to this day, Señor Don Quixote, people would sooner feel the pulse
of ‘Have,’ than of ‘Know;’ an ass covered with gold looks better than a
horse with a pack-saddle. So once more I say I stick to Camacho, the
bountiful skimmings of whose pots are geese and hens, hares and
rabbits; but of Basilio’s, if any ever come to hand, or even to foot,
they’ll be only rinsings.”

“Hast thou finished thy harangue, Sancho?” said Don Quixote. “Of course
I have finished it,” replied Sancho, “because I see your worship takes
offence at it; but if it was not for that, there was work enough cut
out for three days.”

“God grant I may see thee dumb before I die, Sancho,” said Don Quixote.

“At the rate we are going,” said Sancho, “I’ll be chewing clay before
your worship dies; and then, maybe, I’ll be so dumb that I’ll not say a
word until the end of the world, or, at least, till the day of
judgment.”

“Even should that happen, O Sancho,” said Don Quixote, “thy silence
will never come up to all thou hast talked, art talking, and wilt talk
all thy life; moreover, it naturally stands to reason, that my death
will come before thine; so I never expect to see thee dumb, not even
when thou art drinking or sleeping, and that is the utmost I can say.”

“In good faith, señor,” replied Sancho, “there’s no trusting that
fleshless one, I mean Death, who devours the lamb as soon as the sheep,
and, as I have heard our curate say, treads with equal foot upon the
lofty towers of kings and the lowly huts of the poor. That lady is more
mighty than dainty, she is in no way squeamish, she devours all and is
ready for all, and fills her alforjas with people of all sorts, ages,
and ranks. She is no reaper that sleeps out the noontide; at all times
she is reaping and cutting down, as well the dry grass as the green;
she never seems to chew, but bolts and swallows all that is put before
her, for she has a canine appetite that is never satisfied; and though
she has no belly, she shows she has a dropsy and is athirst to drink
the lives of all that live, as one would drink a jug of cold water.”

“Say no more, Sancho,” said Don Quixote at this; “don’t try to better
it, and risk a fall; for in truth what thou hast said about death in
thy rustic phrase is what a good preacher might have said. I tell thee,
Sancho, if thou hadst discretion equal to thy mother wit, thou mightst
take a pulpit in hand, and go about the world preaching fine sermons.”
“He preaches well who lives well,” said Sancho, “and I know no more
theology than that.”

“Nor needst thou,” said Don Quixote, “but I cannot conceive or make out
how it is that, the fear of God being the beginning of wisdom, thou,
who art more afraid of a lizard than of him, knowest so much.”

“Pass judgment on your chivalries, señor,” returned Sancho, “and don’t
set yourself up to judge of other men’s fears or braveries, for I am as
good a fearer of God as my neighbours; but leave me to despatch these
skimmings, for all the rest is only idle talk that we shall be called
to account for in the other world;” and so saying, he began a fresh
attack on the bucket, with such a hearty appetite that he aroused Don
Quixote’s, who no doubt would have helped him had he not been prevented
by what must be told farther on.



p20f.jpg (41K)



CHAPTER XXI.
IN WHICH CAMACHO’S WEDDING IS CONTINUED, WITH OTHER DELIGHTFUL
INCIDENTS




p21a.jpg (118K)

Full Size



While Don Quixote and Sancho were engaged in the discussion set forth
the last chapter, they heard loud shouts and a great noise, which were
uttered and made by the men on the mares as they went at full gallop,
shouting, to receive the bride and bridegroom, who were approaching
with musical instruments and pageantry of all sorts around them, and
accompanied by the priest and the relatives of both, and all the most
distinguished people of the surrounding villages. When Sancho saw the
bride, he exclaimed, “By my faith, she is not dressed like a country
girl, but like some fine court lady; egad, as well as I can make out,
the patena she wears rich coral, and her green Cuenca stuff is
thirty-pile velvet; and then the white linen trimming—by my oath, but
it’s satin! Look at her hands—jet rings on them! May I never have luck
if they’re not gold rings, and real gold, and set with pearls as white
as a curdled milk, and every one of them worth an eye of one’s head!
Whoreson baggage, what hair she has! if it’s not a wig, I never saw
longer or fairer all the days of my life. See how bravely she bears
herself—and her shape! Wouldn’t you say she was like a walking palm
tree loaded with clusters of dates? for the trinkets she has hanging
from her hair and neck look just like them. I swear in my heart she is
a brave lass, and fit ‘to pass over the banks of Flanders.’”

Don Quixote laughed at Sancho’s boorish eulogies and thought that,
saving his lady Dulcinea del Toboso, he had never seen a more beautiful
woman. The fair Quiteria appeared somewhat pale, which was, no doubt,
because of the bad night brides always pass dressing themselves out for
their wedding on the morrow. They advanced towards a theatre that stood
on one side of the meadow decked with carpets and boughs, where they
were to plight their troth, and from which they were to behold the
dances and plays; but at the moment of their arrival at the spot they
heard a loud outcry behind them, and a voice exclaiming, “Wait a
little, ye, as inconsiderate as ye are hasty!” At these words all
turned round, and perceived that the speaker was a man clad in what
seemed to be a loose black coat garnished with crimson patches like
flames. He was crowned (as was presently seen) with a crown of gloomy
cypress, and in his hand he held a long staff. As he approached he was
recognised by everyone as the gay Basilio, and all waited anxiously to
see what would come of his words, in dread of some catastrophe in
consequence of his appearance at such a moment. He came up at last
weary and breathless, and planting himself in front of the bridal pair,
drove his staff, which had a steel spike at the end, into the ground,
and, with a pale face and eyes fixed on Quiteria, he thus addressed her
in a hoarse, trembling voice:

“Well dost thou know, ungrateful Quiteria, that according to the holy
law we acknowledge, so long as live thou canst take no husband; nor art
thou ignorant either that, in my hopes that time and my own exertions
would improve my fortunes, I have never failed to observe the respect
due to thy honour; but thou, casting behind thee all thou owest to my
true love, wouldst surrender what is mine to another whose wealth
serves to bring him not only good fortune but supreme happiness; and
now to complete it (not that I think he deserves it, but inasmuch as
heaven is pleased to bestow it upon him), I will, with my own hands, do
away with the obstacle that may interfere with it, and remove myself
from between you. Long live the rich Camacho! many a happy year may he
live with the ungrateful Quiteria! and let the poor Basilio die,
Basilio whose poverty clipped the wings of his happiness, and brought
him to the grave!”

And so saying, he seized the staff he had driven into the ground, and
leaving one half of it fixed there, showed it to be a sheath that
concealed a tolerably long rapier; and, what may be called its hilt
being planted in the ground, he swiftly, coolly, and deliberately threw
himself upon it, and in an instant the bloody point and half the steel
blade appeared at his back, the unhappy man falling to the earth bathed
in his blood, and transfixed by his own weapon.

His friends at once ran to his aid, filled with grief at his misery and
sad fate, and Don Quixote, dismounting from Rocinante, hastened to
support him, and took him in his arms, and found he had not yet ceased
to breathe. They were about to draw out the rapier, but the priest who
was standing by objected to its being withdrawn before he had confessed
him, as the instant of its withdrawal would be that of this death.
Basilio, however, reviving slightly, said in a weak voice, as though in
pain, “If thou wouldst consent, cruel Quiteria, to give me thy hand as
my bride in this last fatal moment, I might still hope that my rashness
would find pardon, as by its means I attained the bliss of being
thine.”

Hearing this the priest bade him think of the welfare of his soul
rather than of the cravings of the body, and in all earnestness implore
God’s pardon for his sins and for his rash resolve; to which Basilio
replied that he was determined not to confess unless Quiteria first
gave him her hand in marriage, for that happiness would compose his
mind and give him courage to make his confession.

Don Quixote hearing the wounded man’s entreaty, exclaimed aloud that
what Basilio asked was just and reasonable, and moreover a request that
might be easily complied with; and that it would be as much to Señor
Camacho’s honour to receive the lady Quiteria as the widow of the brave
Basilio as if he received her direct from her father.

“In this case,” said he, “it will be only to say ‘yes,’ and no
consequences can follow the utterance of the word, for the nuptial
couch of this marriage must be the grave.”

Camacho was listening to all this, perplexed and bewildered and not
knowing what to say or do; but so urgent were the entreaties of
Basilio’s friends, imploring him to allow Quiteria to give him her
hand, so that his soul, quitting this life in despair, should not be
lost, that they moved, nay, forced him, to say that if Quiteria were
willing to give it he was satisfied, as it was only putting off the
fulfillment of his wishes for a moment. At once all assailed Quiteria
and pressed her, some with prayers, and others with tears, and others
with persuasive arguments, to give her hand to poor Basilio; but she,
harder than marble and more unmoved than any statue, seemed unable or
unwilling to utter a word, nor would she have given any reply had not
the priest bade her decide quickly what she meant to do, as Basilio now
had his soul at his teeth, and there was no time for hesitation.



p21b.jpg (374K)

Full Size



On this the fair Quiteria, to all appearance distressed, grieved, and
repentant, advanced without a word to where Basilio lay, his eyes
already turned in his head, his breathing short and painful, murmuring
the name of Quiteria between his teeth, and apparently about to die
like a heathen and not like a Christian. Quiteria approached him, and
kneeling, demanded his hand by signs without speaking. Basilio opened
his eyes and gazing fixedly at her, said, “O Quiteria, why hast thou
turned compassionate at a moment when thy compassion will serve as a
dagger to rob me of life, for I have not now the strength left either
to bear the happiness thou givest me in accepting me as thine, or to
suppress the pain that is rapidly drawing the dread shadow of death
over my eyes? What I entreat of thee, O thou fatal star to me, is that
the hand thou demandest of me and wouldst give me, be not given out of
complaisance or to deceive me afresh, but that thou confess and declare
that without any constraint upon thy will thou givest it to me as to
thy lawful husband; for it is not meet that thou shouldst trifle with
me at such a moment as this, or have recourse to falsehoods with one
who has dealt so truly by thee.”

While uttering these words he showed such weakness that the bystanders
expected each return of faintness would take his life with it. Then
Quiteria, overcome with modesty and shame, holding in her right hand
the hand of Basilio, said, “No force would bend my will; as freely,
therefore, as it is possible for me to do so, I give thee the hand of a
lawful wife, and take thine if thou givest it to me of thine own free
will, untroubled and unaffected by the calamity thy hasty act has
brought upon thee.”

“Yes, I give it,” said Basilio, “not agitated or distracted, but with
unclouded reason that heaven is pleased to grant me, thus do I give
myself to be thy husband.”

“And I give myself to be thy wife,” said Quiteria, “whether thou livest
many years, or they carry thee from my arms to the grave.”

“For one so badly wounded,” observed Sancho at this point, “this young
man has a great deal to say; they should make him leave off billing and
cooing, and attend to his soul; for to my thinking he has it more on
his tongue than at his teeth.”

Basilio and Quiteria having thus joined hands, the priest, deeply moved
and with tears in his eyes, pronounced the blessing upon them, and
implored heaven to grant an easy passage to the soul of the newly
wedded man, who, the instant he received the blessing, started nimbly
to his feet and with unparalleled effrontery pulled out the rapier that
had been sheathed in his body. All the bystanders were astounded, and
some, more simple than inquiring, began shouting, “A miracle, a
miracle!” But Basilio replied, “No miracle, no miracle; only a trick, a
trick!” The priest, perplexed and amazed, made haste to examine the
wound with both hands, and found that the blade had passed, not through
Basilio’s flesh and ribs, but through a hollow iron tube full of blood,
which he had adroitly fixed at the place, the blood, as was afterwards
ascertained, having been so prepared as not to congeal. In short, the
priest and Camacho and most of those present saw they were tricked and
made fools of. The bride showed no signs of displeasure at the
deception; on the contrary, hearing them say that the marriage, being
fraudulent, would not be valid, she said that she confirmed it afresh,
whence they all concluded that the affair had been planned by agreement
and understanding between the pair, whereat Camacho and his supporters
were so mortified that they proceeded to revenge themselves by
violence, and a great number of them drawing their swords attacked
Basilio, in whose protection as many more swords were in an instant
unsheathed, while Don Quixote taking the lead on horseback, with his
lance over his arm and well covered with his shield, made all give way
before him. Sancho, who never found any pleasure or enjoyment in such
doings, retreated to the wine-jars from which he had taken his
delectable skimmings, considering that, as a holy place, that spot
would be respected.

“Hold, sirs, hold!” cried Don Quixote in a loud voice; “we have no
right to take vengeance for wrongs that love may do to us: remember
love and war are the same thing, and as in war it is allowable and
common to make use of wiles and stratagems to overcome the enemy, so in
the contests and rivalries of love the tricks and devices employed to
attain the desired end are justifiable, provided they be not to the
discredit or dishonour of the loved object. Quiteria belonged to
Basilio and Basilio to Quiteria by the just and beneficent disposal of
heaven. Camacho is rich, and can purchase his pleasure when, where, and
as it pleases him. Basilio has but this ewe-lamb, and no one, however
powerful he may be, shall take her from him; these two whom God hath
joined man cannot separate; and he who attempts it must first pass the
point of this lance;” and so saying he brandished it so stoutly and
dexterously that he overawed all who did not know him.

But so deep an impression had the rejection of Quiteria made on
Camacho’s mind that it banished her at once from his thoughts; and so
the counsels of the priest, who was a wise and kindly disposed man,
prevailed with him, and by their means he and his partisans were
pacified and tranquillised, and to prove it put up their swords again,
inveighing against the pliancy of Quiteria rather than the craftiness
of Basilio; Camacho maintaining that, if Quiteria as a maiden had such
a love for Basilio, she would have loved him too as a married woman,
and that he ought to thank heaven more for having taken her than for
having given her.

Camacho and those of his following, therefore, being consoled and
pacified, those on Basilio’s side were appeased; and the rich Camacho,
to show that he felt no resentment for the trick, and did not care
about it, desired the festival to go on just as if he were married in
reality. Neither Basilio, however, nor his bride, nor their followers
would take any part in it, and they withdrew to Basilio’s village; for
the poor, if they are persons of virtue and good sense, have those who
follow, honour, and uphold them, just as the rich have those who
flatter and dance attendance on them. With them they carried Don
Quixote, regarding him as a man of worth and a stout one. Sancho alone
had a cloud on his soul, for he found himself debarred from waiting for
Camacho’s splendid feast and festival, which lasted until night; and
thus dragged away, he moodily followed his master, who accompanied
Basilio’s party, and left behind him the flesh-pots of Egypt; though in
his heart he took them with him, and their now nearly finished
skimmings that he carried in the bucket conjured up visions before his
eyes of the glory and abundance of the good cheer he was losing. And
so, vexed and dejected though not hungry, without dismounting from
Dapple he followed in the footsteps of Rocinante.



p21c.jpg (417K)

Full Size



p21e.jpg (49K)



CHAPTER XXII.
WHEREIN IS RELATED THE GRAND ADVENTURE OF THE CAVE OF MONTESINOS IN THE
HEART OF LA MANCHA, WHICH THE VALIANT DON QUIXOTE BROUGHT TO A HAPPY
TERMINATION




p22a.jpg (112K)

Full Size



Many and great were the attentions shown to Don Quixote by the newly
married couple, who felt themselves under an obligation to him for
coming forward in defence of their cause; and they exalted his wisdom
to the same level with his courage, rating him as a Cid in arms, and a
Cicero in eloquence. Worthy Sancho enjoyed himself for three days at
the expense of the pair, from whom they learned that the sham wound was
not a scheme arranged with the fair Quiteria, but a device of
Basilio’s, who counted on exactly the result they had seen; he
confessed, it is true, that he had confided his idea to some of his
friends, so that at the proper time they might aid him in his purpose
and insure the success of the deception.



p22b.jpg (344K)

Full Size



“That,” said Don Quixote, “is not and ought not to be called deception
which aims at virtuous ends;” and the marriage of lovers he maintained
to be a most excellent end, reminding them, however, that love has no
greater enemy than hunger and constant want; for love is all gaiety,
enjoyment, and happiness, especially when the lover is in the
possession of the object of his love, and poverty and want are the
declared enemies of all these; which he said to urge Señor Basilio to
abandon the practice of those accomplishments he was skilled in, for
though they brought him fame, they brought him no money, and apply
himself to the acquisition of wealth by legitimate industry, which will
never fail those who are prudent and persevering. The poor man who is a
man of honour (if indeed a poor man can be a man of honour) has a jewel
when he has a fair wife, and if she is taken from him, his honour is
taken from him and slain. The fair woman who is a woman of honour, and
whose husband is poor, deserves to be crowned with the laurels and
crowns of victory and triumph. Beauty by itself attracts the desires of
all who behold it, and the royal eagles and birds of towering flight
stoop on it as on a dainty lure; but if beauty be accompanied by want
and penury, then the ravens and the kites and other birds of prey
assail it, and she who stands firm against such attacks well deserves
to be called the crown of her husband. “Remember, O prudent Basilio,”
added Don Quixote, “it was the opinion of a certain sage, I know not
whom, that there was not more than one good woman in the whole world;
and his advice was that each one should think and believe that this one
good woman was his own wife, and in this way he would live happy. I
myself am not married, nor, so far, has it ever entered my thoughts to
be so; nevertheless I would venture to give advice to anyone who might
ask it, as to the mode in which he should seek a wife such as he would
be content to marry. The first thing I would recommend him, would be to
look to good name rather than to wealth, for a good woman does not win
a good name merely by being good, but by letting it be seen that she is
so, and open looseness and freedom do much more damage to a woman’s
honour than secret depravity. If you take a good woman into your house
it will be an easy matter to keep her good, and even to make her still
better; but if you take a bad one you will find it hard work to mend
her, for it is no very easy matter to pass from one extreme to another.
I do not say it is impossible, but I look upon it as difficult.”

Sancho, listening to all this, said to himself, “This master of mine,
when I say anything that has weight and substance, says I might take a
pulpit in hand, and go about the world preaching fine sermons; but I
say of him that, when he begins stringing maxims together and giving
advice not only might he take a pulpit in hand, but two on each finger,
and go into the market-places to his heart’s content. Devil take you
for a knight-errant, what a lot of things you know! I used to think in
my heart that the only thing he knew was what belonged to his chivalry;
but there is nothing he won’t have a finger in.”

Sancho muttered this somewhat aloud, and his master overheard him, and
asked, “What art thou muttering there, Sancho?”

“I’m not saying anything or muttering anything,” said Sancho; “I was
only saying to myself that I wish I had heard what your worship has
said just now before I married; perhaps I’d say now, ‘The ox that’s
loose licks himself well.’”

“Is thy Teresa so bad then, Sancho?”

“She is not very bad,” replied Sancho; “but she is not very good; at
least she is not as good as I could wish.”

“Thou dost wrong, Sancho,” said Don Quixote, “to speak ill of thy wife;
for after all she is the mother of thy children.” “We are quits,”
returned Sancho; “for she speaks ill of me whenever she takes it into
her head, especially when she is jealous; and Satan himself could not
put up with her then.”

In fine, they remained three days with the newly married couple, by
whom they were entertained and treated like kings. Don Quixote begged
the fencing licentiate to find him a guide to show him the way to the
cave of Montesinos, as he had a great desire to enter it and see with
his own eyes if the wonderful tales that were told of it all over the
country were true. The licentiate said he would get him a cousin of his
own, a famous scholar, and one very much given to reading books of
chivalry, who would have great pleasure in conducting him to the mouth
of the very cave, and would show him the lakes of Ruidera, which were
likewise famous all over La Mancha, and even all over Spain; and he
assured him he would find him entertaining, for he was a youth who
could write books good enough to be printed and dedicated to princes.
The cousin arrived at last, leading an ass in foal, with a pack-saddle
covered with a parti-coloured carpet or sackcloth; Sancho saddled
Rocinante, got Dapple ready, and stocked his alforjas, along with which
went those of the cousin, likewise well filled; and so, commending
themselves to God and bidding farewell to all, they set out, taking the
road for the famous cave of Montesinos.

On the way Don Quixote asked the cousin of what sort and character his
pursuits, avocations, and studies were, to which he replied that he was
by profession a humanist, and that his pursuits and studies were making
books for the press, all of great utility and no less entertainment to
the nation. One was called “The Book of Liveries,” in which he
described seven hundred and three liveries, with their colours,
mottoes, and ciphers, from which gentlemen of the court might pick and
choose any they fancied for festivals and revels, without having to go
a-begging for them from anyone, or puzzling their brains, as the saying
is, to have them appropriate to their objects and purposes; “for,” said
he, “I give the jealous, the rejected, the forgotten, the absent, what
will suit them, and fit them without fail. I have another book, too,
which I shall call ‘Metamorphoses, or the Spanish Ovid,’ one of rare
and original invention, for imitating Ovid in burlesque style, I show
in it who the Giralda of Seville and the Angel of the Magdalena were,
what the sewer of Vecinguerra at Cordova was, what the bulls of
Guisando, the Sierra Morena, the Leganitos and Lavapies fountains at
Madrid, not forgetting those of the Piojo, of the Cano Dorado, and of
the Priora; and all with their allegories, metaphors, and changes, so
that they are amusing, interesting, and instructive, all at once.
Another book I have which I call ‘The Supplement to Polydore Vergil,’
which treats of the invention of things, and is a work of great
erudition and research, for I establish and elucidate elegantly some
things of great importance which Polydore omitted to mention. He forgot
to tell us who was the first man in the world that had a cold in his
head, and who was the first to try salivation for the French disease,
but I give it accurately set forth, and quote more than five-and-twenty
authors in proof of it, so you may perceive I have laboured to good
purpose and that the book will be of service to the whole world.”

Sancho, who had been very attentive to the cousin’s words, said to him,
“Tell me, señor—and God give you luck in printing your books—can you
tell me (for of course you know, as you know everything) who was the
first man that scratched his head? For to my thinking it must have been
our father Adam.”

“So it must,” replied the cousin; “for there is no doubt but Adam had a
head and hair; and being the first man in the world he would have
scratched himself sometimes.”

“So I think,” said Sancho; “but now tell me, who was the first tumbler
in the world?”

“Really, brother,” answered the cousin, “I could not at this moment say
positively without having investigated it; I will look it up when I go
back to where I have my books, and will satisfy you the next time we
meet, for this will not be the last time.”

“Look here, señor,” said Sancho, “don’t give yourself any trouble about
it, for I have just this minute hit upon what I asked you. The first
tumbler in the world, you must know, was Lucifer, when they cast or
pitched him out of heaven; for he came tumbling into the bottomless
pit.”

“You are right, friend,” said the cousin; and said Don Quixote,
“Sancho, that question and answer are not thine own; thou hast heard
them from someone else.”

“Hold your peace, señor,” said Sancho; “faith, if I take to asking
questions and answering, I’ll go on from this till to-morrow morning.
Nay! to ask foolish things and answer nonsense I needn’t go looking for
help from my neighbours.”

“Thou hast said more than thou art aware of, Sancho,” said Don Quixote;
“for there are some who weary themselves out in learning and proving
things that, after they are known and proved, are not worth a farthing
to the understanding or memory.”

In this and other pleasant conversation the day went by, and that night
they put up at a small hamlet whence it was not more than two leagues
to the cave of Montesinos, so the cousin told Don Quixote, adding, that
if he was bent upon entering it, it would be requisite for him to
provide himself with ropes, so that he might be tied and lowered into
its depths. Don Quixote said that even if it reached to the bottomless
pit he meant to see where it went to; so they bought about a hundred
fathoms of rope, and next day at two in the afternoon they arrived at
the cave, the mouth of which is spacious and wide, but full of thorn
and wild-fig bushes and brambles and briars, so thick and matted that
they completely close it up and cover it over.

On coming within sight of it the cousin, Sancho, and Don Quixote
dismounted, and the first two immediately tied the latter very firmly
with the ropes, and as they were girding and swathing him Sancho said
to him, “Mind what you are about, master mine; don’t go burying
yourself alive, or putting yourself where you’ll be like a bottle put
to cool in a well; it’s no affair or business of your worship’s to
become the explorer of this, which must be worse than a Moorish
dungeon.”

“Tie me and hold thy peace,” said Don Quixote, “for an emprise like
this, friend Sancho, was reserved for me;” and said the guide, “I beg
of you, Señor Don Quixote, to observe carefully and examine with a
hundred eyes everything that is within there; perhaps there may be some
things for me to put into my book of ‘Transformations.’”

“The drum is in hands that will know how to beat it well enough,” said
Sancho Panza.

When he had said this and finished the tying (which was not over the
armour but only over the doublet) Don Quixote observed, “It was
careless of us not to have provided ourselves with a small cattle-bell
to be tied on the rope close to me, the sound of which would show that
I was still descending and alive; but as that is out of the question
now, in God’s hand be it to guide me;” and forthwith he fell on his
knees and in a low voice offered up a prayer to heaven, imploring God
to aid him and grant him success in this to all appearance perilous and
untried adventure, and then exclaimed aloud, “O mistress of my actions
and movements, illustrious and peerless Dulcinea del Toboso, if so be
the prayers and supplications of this fortunate lover can reach thy
ears, by thy incomparable beauty I entreat thee to listen to them, for
they but ask thee not to refuse me thy favour and protection now that I
stand in such need of them. I am about to precipitate, to sink, to
plunge myself into the abyss that is here before me, only to let the
world know that while thou dost favour me there is no impossibility I
will not attempt and accomplish.” With these words he approached the
cavern, and perceived that it was impossible to let himself down or
effect an entrance except by sheer force or cleaving a passage; so
drawing his sword he began to demolish and cut away the brambles at the
mouth of the cave, at the noise of which a vast multitude of crows and
choughs flew out of it so thick and so fast that they knocked Don
Quixote down; and if he had been as much of a believer in augury as he
was a Catholic Christian he would have taken it as a bad omen and
declined to bury himself in such a place. He got up, however, and as
there came no more crows, or night-birds like the bats that flew out at
the same time with the crows, the cousin and Sancho giving him rope, he
lowered himself into the depths of the dread cavern; and as he entered
it Sancho sent his blessing after him, making a thousand crosses over
him and saying, “God, and the Peña de Francia, and the Trinity of Gaeta
guide thee, flower and cream of knights-errant. There thou goest, thou
dare-devil of the earth, heart of steel, arm of brass; once more, God
guide thee and send thee back safe, sound, and unhurt to the light of
this world thou art leaving to bury thyself in the darkness thou art
seeking there;” and the cousin offered up almost the same prayers and
supplications.



p22c.jpg (365K)

Full Size



Don Quixote kept calling to them to give him rope and more rope, and
they gave it out little by little, and by the time the calls, which
came out of the cave as out of a pipe, ceased to be heard they had let
down the hundred fathoms of rope. They were inclined to pull Don
Quixote up again, as they could give him no more rope; however, they
waited about half an hour, at the end of which time they began to
gather in the rope again with great ease and without feeling any
weight, which made them fancy Don Quixote was remaining below; and
persuaded that it was so, Sancho wept bitterly, and hauled away in
great haste in order to settle the question. When, however, they had
come to, as it seemed, rather more than eighty fathoms they felt a
weight, at which they were greatly delighted; and at last, at ten
fathoms more, they saw Don Quixote distinctly, and Sancho called out to
him, saying, “Welcome back, señor, for we had begun to think you were
going to stop there to found a family.” But Don Quixote answered not a
word, and drawing him out entirely they perceived he had his eyes shut
and every appearance of being fast asleep.

They stretched him on the ground and untied him, but still he did not
awake; however, they rolled him back and forwards and shook and pulled
him about, so that after some time he came to himself, stretching
himself just as if he were waking up from a deep and sound sleep, and
looking about him he said, “God forgive you, friends; ye have taken me
away from the sweetest and most delightful existence and spectacle that
ever human being enjoyed or beheld. Now indeed do I know that all the
pleasures of this life pass away like a shadow and a dream, or fade
like the flower of the field. O ill-fated Montesinos! O sore-wounded
Durandarte! O unhappy Belerma! O tearful Guadiana, and ye O hapless
daughters of Ruidera who show in your waves the tears that flowed from
your beauteous eyes!”



p22d.jpg (318K)

Full Size



The cousin and Sancho Panza listened with deep attention to the words
of Don Quixote, who uttered them as though with immense pain he drew
them up from his very bowels. They begged of him to explain himself,
and tell them what he had seen in that hell down there.

“Hell do you call it?” said Don Quixote; “call it by no such name, for
it does not deserve it, as ye shall soon see.”

He then begged them to give him something to eat, as he was very
hungry. They spread the cousin’s sackcloth on the grass, and put the
stores of the alforjas into requisition, and all three sitting down
lovingly and sociably, they made a luncheon and a supper of it all in
one; and when the sackcloth was removed, Don Quixote of La Mancha said,
“Let no one rise, and attend to me, my sons, both of you.”



p22e.jpg (48K)



CHAPTER XXIII.
OF THE WONDERFUL THINGS THE INCOMPARABLE DON QUIXOTE SAID HE SAW IN THE
PROFOUND CAVE OF MONTESINOS, THE IMPOSSIBILITY AND MAGNITUDE OF WHICH
CAUSE THIS ADVENTURE TO BE DEEMED APOCRYPHAL




p23a.jpg (148K)

Full Size



It was about four in the afternoon when the sun, veiled in clouds, with
subdued light and tempered beams, enabled Don Quixote to relate,
without heat or inconvenience, what he had seen in the cave of
Montesinos to his two illustrious hearers, and he began as follows:

“A matter of some twelve or fourteen times a man’s height down in this
pit, on the right-hand side, there is a recess or space, roomy enough
to contain a large cart with its mules. A little light reaches it
through some chinks or crevices, communicating with it and open to the
surface of the earth. This recess or space I perceived when I was
already growing weary and disgusted at finding myself hanging suspended
by the rope, travelling downwards into that dark region without any
certainty or knowledge of where I was going, so I resolved to enter it
and rest myself for a while. I called out, telling you not to let out
more rope until I bade you, but you cannot have heard me. I then
gathered in the rope you were sending me, and making a coil or pile of
it I seated myself upon it, ruminating and considering what I was to do
to lower myself to the bottom, having no one to hold me up; and as I
was thus deep in thought and perplexity, suddenly and without
provocation a profound sleep fell upon me, and when I least expected
it, I know not how, I awoke and found myself in the midst of the most
beautiful, delightful meadow that nature could produce or the most
lively human imagination conceive. I opened my eyes, I rubbed them, and
found I was not asleep but thoroughly awake. Nevertheless, I felt my
head and breast to satisfy myself whether it was I myself who was there
or some empty delusive phantom; but touch, feeling, the collected
thoughts that passed through my mind, all convinced me that I was the
same then and there that I am this moment. Next there presented itself
to my sight a stately royal palace or castle, with walls that seemed
built of clear transparent crystal; and through two great doors that
opened wide therein, I saw coming forth and advancing towards me a
venerable old man, clad in a long gown of mulberry-coloured serge that
trailed upon the ground. On his shoulders and breast he had a green
satin collegiate hood, and covering his head a black Milanese bonnet,
and his snow-white beard fell below his girdle. He carried no arms
whatever, nothing but a rosary of beads bigger than fair-sized
filberts, each tenth bead being like a moderate ostrich egg; his
bearing, his gait, his dignity and imposing presence held me spellbound
and wondering. He approached me, and the first thing he did was to
embrace me closely, and then he said to me, ‘For a long time now, O
valiant knight Don Quixote of La Mancha, we who are here enchanted in
these solitudes have been hoping to see thee, that thou mayest make
known to the world what is shut up and concealed in this deep cave,
called the cave of Montesinos, which thou hast entered, an achievement
reserved for thy invincible heart and stupendous courage alone to
attempt. Come with me, illustrious sir, and I will show thee the
marvels hidden within this transparent castle, whereof I am the alcaide
and perpetual warden; for I am Montesinos himself, from whom the cave
takes its name.’

“The instant he told me he was Montesinos, I asked him if the story
they told in the world above here was true, that he had taken out the
heart of his great friend Durandarte from his breast with a little
dagger, and carried it to the lady Belerma, as his friend when at the
point of death had commanded him. He said in reply that they spoke the
truth in every respect except as to the dagger, for it was not a
dagger, nor little, but a burnished poniard sharper than an awl.”

“That poniard must have been made by Ramon de Hoces the Sevillian,”
said Sancho.

“I do not know,” said Don Quixote; “it could not have been by that
poniard maker, however, because Ramon de Hoces was a man of yesterday,
and the affair of Roncesvalles, where this mishap occurred, was long
ago; but the question is of no great importance, nor does it affect or
make any alteration in the truth or substance of the story.”

“That is true,” said the cousin; “continue, Señor Don Quixote, for I am
listening to you with the greatest pleasure in the world.”

“And with no less do I tell the tale,” said Don Quixote; “and so, to
proceed—the venerable Montesinos led me into the palace of crystal,
where, in a lower chamber, strangely cool and entirely of alabaster,
was an elaborately wrought marble tomb, upon which I beheld, stretched
at full length, a knight, not of bronze, or marble, or jasper, as are
seen on other tombs, but of actual flesh and bone. His right hand
(which seemed to me somewhat hairy and sinewy, a sign of great strength
in its owner) lay on the side of his heart; but before I could put any
question to Montesinos, he, seeing me gazing at the tomb in amazement,
said to me, ‘This is my friend Durandarte, flower and mirror of the
true lovers and valiant knights of his time. He is held enchanted here,
as I myself and many others are, by that French enchanter Merlin, who,
they say, was the devil’s son; but my belief is, not that he was the
devil’s son, but that he knew, as the saying is, a point more than the
devil. How or why he enchanted us, no one knows, but time will tell,
and I suspect that time is not far off. What I marvel at is, that I
know it to be as sure as that it is now day, that Durandarte ended his
life in my arms, and that, after his death, I took out his heart with
my own hands; and indeed it must have weighed more than two pounds,
for, according to naturalists, he who has a large heart is more largely
endowed with valour than he who has a small one. Then, as this is the
case, and as the knight did really die, how comes it that he now moans
and sighs from time to time, as if he were still alive?’



p23b.jpg (243K)

Full Size



“As he said this, the wretched Durandarte cried out in a loud voice:

O cousin Montesinos!
’Twas my last request of thee,
When my soul hath left the body,
And that lying dead I be,
With thy poniard or thy dagger
Cut the heart from out my breast,
And bear it to Belerma.
This was my last request.”


“On hearing which, the venerable Montesinos fell on his knees before
the unhappy knight, and with tearful eyes exclaimed, ‘Long since, Señor
Durandarte, my beloved cousin, long since have I done what you bade me
on that sad day when I lost you; I took out your heart as well as I
could, not leaving an atom of it in your breast, I wiped it with a lace
handkerchief, and I took the road to France with it, having first laid
you in the bosom of the earth with tears enough to wash and cleanse my
hands of the blood that covered them after wandering among your bowels;
and more by token, O cousin of my soul, at the first village I came to
after leaving Roncesvalles, I sprinkled a little salt upon your heart
to keep it sweet, and bring it, if not fresh, at least pickled, into
the presence of the lady Belerma, whom, together with you, myself,
Guadiana your squire, the duenna Ruidera and her seven daughters and
two nieces, and many more of your friends and acquaintances, the sage
Merlin has been keeping enchanted here these many years; and although
more than five hundred have gone by, not one of us has died; Ruidera
and her daughters and nieces alone are missing, and these, because of
the tears they shed, Merlin, out of the compassion he seems to have
felt for them, changed into so many lakes, which to this day in the
world of the living, and in the province of La Mancha, are called the
Lakes of Ruidera. The seven daughters belong to the kings of Spain and
the two nieces to the knights of a very holy order called the Order of
St. John. Guadiana your squire, likewise bewailing your fate, was
changed into a river of his own name, but when he came to the surface
and beheld the sun of another heaven, so great was his grief at finding
he was leaving you, that he plunged into the bowels of the earth;
however, as he cannot help following his natural course, he from time
to time comes forth and shows himself to the sun and the world. The
lakes aforesaid send him their waters, and with these, and others that
come to him, he makes a grand and imposing entrance into Portugal; but
for all that, go where he may, he shows his melancholy and sadness, and
takes no pride in breeding dainty choice fish, only coarse and
tasteless sorts, very different from those of the golden Tagus. All
this that I tell you now, O cousin mine, I have told you many times
before, and as you make no answer, I fear that either you believe me
not, or do not hear me, whereat I feel God knows what grief. I have now
news to give you, which, if it serves not to alleviate your sufferings,
will not in any wise increase them. Know that you have here before you
(open your eyes and you will see) that great knight of whom the sage
Merlin has prophesied such great things; that Don Quixote of La Mancha
I mean, who has again, and to better purpose than in past times,
revived in these days knight-errantry, long since forgotten, and by
whose intervention and aid it may be we shall be disenchanted; for
great deeds are reserved for great men.’

“‘And if that may not be,’ said the wretched Durandarte in a low and
feeble voice, ‘if that may not be, then, my cousin, I say “patience and
shuffle;”’ and turning over on his side, he relapsed into his former
silence without uttering another word.



p23c.jpg (331K)

Full Size



“And now there was heard a great outcry and lamentation, accompanied by
deep sighs and bitter sobs. I looked round, and through the crystal
wall I saw passing through another chamber a procession of two lines of
fair damsels all clad in mourning, and with white turbans of Turkish
fashion on their heads. Behind, in the rear of these, there came a
lady, for so from her dignity she seemed to be, also clad in black,
with a white veil so long and ample that it swept the ground. Her
turban was twice as large as the largest of any of the others; her
eyebrows met, her nose was rather flat, her mouth was large but with
ruddy lips, and her teeth, of which at times she allowed a glimpse,
were seen to be sparse and ill-set, though as white as peeled almonds.
She carried in her hands a fine cloth, and in it, as well as I could
make out, a heart that had been mummied, so parched and dried was it.
Montesinos told me that all those forming the procession were the
attendants of Durandarte and Belerma, who were enchanted there with
their master and mistress, and that the last, she who carried the heart
in the cloth, was the lady Belerma, who, with her damsels, four days in
the week went in procession singing, or rather weeping, dirges over the
body and miserable heart of his cousin; and that if she appeared to me
somewhat ill-favoured or not so beautiful as fame reported her, it was
because of the bad nights and worse days that she passed in that
enchantment, as I could see by the great dark circles round her eyes,
and her sickly complexion; ‘her sallowness, and the rings round her
eyes,’ said he, ‘are not caused by the periodical ailment usual with
women, for it is many months and even years since she has had any, but
by the grief her own heart suffers because of that which she holds in
her hand perpetually, and which recalls and brings back to her memory
the sad fate of her lost lover; were it not for this, hardly would the
great Dulcinea del Toboso, so celebrated in all these parts, and even
in the world, come up to her for beauty, grace, and gaiety.’

“‘Hold hard!’ said I at this, ‘tell your story as you ought, Señor Don
Montesinos, for you know very well that all comparisons are odious, and
there is no occasion to compare one person with another; the peerless
Dulcinea del Toboso is what she is, and the lady Doña Belerma is what
_she_ is and has been, and that’s enough.’ To which he made answer,
‘Forgive me, Señor Don Quixote; I own I was wrong and spoke unadvisedly
in saying that the lady Dulcinea could scarcely come up to the lady
Belerma; for it were enough for me to have learned, by what means I
know not, that you are her knight, to make me bite my tongue out before
I compared her to anything save heaven itself.’ After this apology
which the great Montesinos made me, my heart recovered itself from the
shock I had received in hearing my lady compared with Belerma.”

“Still I wonder,” said Sancho, “that your worship did not get upon the
old fellow and bruise every bone of him with kicks, and pluck his beard
until you didn’t leave a hair in it.”

“Nay, Sancho, my friend,” said Don Quixote, “it would not have been
right in me to do that, for we are all bound to pay respect to the
aged, even though they be not knights, but especially to those who are,
and who are enchanted; I only know I gave him as good as he brought in
the many other questions and answers we exchanged.”

“I cannot understand, Señor Don Quixote,” remarked the cousin here,
“how it is that your worship, in such a short space of time as you have
been below there, could have seen so many things, and said and answered
so much.”

“How long is it since I went down?” asked Don Quixote.

“Little better than an hour,” replied Sancho.

“That cannot be,” returned Don Quixote, “because night overtook me
while I was there, and day came, and it was night again and day again
three times; so that, by my reckoning, I have been three days in those
remote regions beyond our ken.”

“My master must be right,” replied Sancho; “for as everything that has
happened to him is by enchantment, maybe what seems to us an hour would
seem three days and nights there.”

“That’s it,” said Don Quixote.

“And did your worship eat anything all that time, señor?” asked the
cousin.

“I never touched a morsel,” answered Don Quixote, “nor did I feel
hunger, or think of it.”

“And do the enchanted eat?” said the cousin.

“They neither eat,” said Don Quixote; “nor are they subject to the
greater excrements, though it is thought that their nails, beards, and
hair grow.”

“And do the enchanted sleep, now, señor?” asked Sancho.

“Certainly not,” replied Don Quixote; “at least, during those three
days I was with them not one of them closed an eye, nor did I either.”

“The proverb, ‘Tell me what company thou keepest and I’ll tell thee
what thou art,’ is to the point here,” said Sancho; “your worship keeps
company with enchanted people that are always fasting and watching;
what wonder is it, then, that you neither eat nor sleep while you are
with them? But forgive me, señor, if I say that of all this you have
told us now, may God take me—I was just going to say the devil—if I
believe a single particle.”

“What!” said the cousin, “has Señor Don Quixote, then, been lying? Why,
even if he wished it he has not had time to imagine and put together
such a host of lies.”

“I don’t believe my master lies,” said Sancho.

“If not, what dost thou believe?” asked Don Quixote.

“I believe,” replied Sancho, “that this Merlin, or those enchanters who
enchanted the whole crew your worship says you saw and discoursed with
down there, stuffed your imagination or your mind with all this
rigmarole you have been treating us to, and all that is still to come.”

“All that might be, Sancho,” replied Don Quixote; “but it is not so,
for everything that I have told you I saw with my own eyes, and touched
with my own hands. But what will you say when I tell you now how, among
the countless other marvellous things Montesinos showed me (of which at
leisure and at the proper time I will give thee an account in the
course of our journey, for they would not be all in place here), he
showed me three country girls who went skipping and capering like goats
over the pleasant fields there, and the instant I beheld them I knew
one to be the peerless Dulcinea del Toboso, and the other two those
same country girls that were with her and that we spoke to on the road
from El Toboso! I asked Montesinos if he knew them, and he told me he
did not, but he thought they must be some enchanted ladies of
distinction, for it was only a few days before that they had made their
appearance in those meadows; but I was not to be surprised at that,
because there were a great many other ladies there of times past and
present, enchanted in various strange shapes, and among them he had
recognised Queen Guinevere and her dame Quintañona, she who poured out
the wine for Lancelot when he came from Britain.”

When Sancho Panza heard his master say this he was ready to take leave
of his senses, or die with laughter; for, as he knew the real truth
about the pretended enchantment of Dulcinea, in which he himself had
been the enchanter and concocter of all the evidence, he made up his
mind at last that, beyond all doubt, his master was out of his wits and
stark mad, so he said to him, “It was an evil hour, a worse season, and
a sorrowful day, when your worship, dear master mine, went down to the
other world, and an unlucky moment when you met with Señor Montesinos,
who has sent you back to us like this. You were well enough here above
in your full senses, such as God had given you, delivering maxims and
giving advice at every turn, and not as you are now, talking the
greatest nonsense that can be imagined.”

“As I know thee, Sancho,” said Don Quixote, “I heed not thy words.”

“Nor I your worship’s,” said Sancho, “whether you beat me or kill me
for those I have spoken, and will speak if you don’t correct and mend
your own. But tell me, while we are still at peace, how or by what did
you recognise the lady our mistress; and if you spoke to her, what did
you say, and what did she answer?”

“I recognised her,” said Don Quixote, “by her wearing the same garments
she wore when thou didst point her out to me. I spoke to her, but she
did not utter a word in reply; on the contrary, she turned her back on
me and took to flight, at such a pace that crossbow bolt could not have
overtaken her. I wished to follow her, and would have done so had not
Montesinos recommended me not to take the trouble as it would be
useless, particularly as the time was drawing near when it would be
necessary for me to quit the cavern. He told me, moreover, that in
course of time he would let me know how he and Belerma, and Durandarte,
and all who were there, were to be disenchanted. But of all I saw and
observed down there, what gave me most pain was, that while Montesinos
was speaking to me, one of the two companions of the hapless Dulcinea
approached me on one without my having seen her coming, and with tears
in her eyes said to me, in a low, agitated voice, ‘My lady Dulcinea del
Toboso kisses your worship’s hands, and entreats you to do her the
favour of letting her know how you are; and, being in great need, she
also entreats your worship as earnestly as she can to be so good as to
lend her half a dozen reals, or as much as you may have about you, on
this new dimity petticoat that I have here; and she promises to repay
them very speedily.’ I was amazed and taken aback by such a message,
and turning to Señor Montesinos I asked him, ‘Is it possible, Señor
Montesinos, that persons of distinction under enchantment can be in
need?’ To which he replied, ‘Believe me, Señor Don Quixote, that which
is called need is to be met with everywhere, and penetrates all
quarters and reaches everyone, and does not spare even the enchanted;
and as the lady Dulcinea del Toboso sends to beg those six reals, and
the pledge is to all appearance a good one, there is nothing for it but
to give them to her, for no doubt she must be in some great strait.’ ‘I
will take no pledge of her,’ I replied, ‘nor yet can I give her what
she asks, for all I have is four reals; which I gave (they were those
which thou, Sancho, gavest me the other day to bestow in alms upon the
poor I met along the road), and I said, ‘Tell your mistress, my dear,
that I am grieved to the heart because of her distresses, and wish I
was a Fucar to remedy them, and that I would have her know that I
cannot be, and ought not be, in health while deprived of the happiness
of seeing her and enjoying her discreet conversation, and that I
implore her as earnestly as I can, to allow herself to be seen and
addressed by this her captive servant and forlorn knight. Tell her,
too, that when she least expects it she will hear it announced that I
have made an oath and vow after the fashion of that which the Marquis
of Mantua made to avenge his nephew Baldwin, when he found him at the
point of death in the heart of the mountains, which was, not to eat
bread off a tablecloth, and other trifling matters which he added,
until he had avenged him; and I will make the same to take no rest, and
to roam the seven regions of the earth more thoroughly than the Infante
Don Pedro of Portugal ever roamed them, until I have disenchanted her.’
‘All that and more, you owe my lady,’ the damsel’s answer to me, and
taking the four reals, instead of making me a curtsey she cut a caper,
springing two full yards into the air.”

“O blessed God!” exclaimed Sancho aloud at this, “is it possible that
such things can be in the world, and that enchanters and enchantments
can have such power in it as to have changed my master’s right senses
into a craze so full of absurdity! O señor, señor, for God’s sake,
consider yourself, have a care for your honour, and give no credit to
this silly stuff that has left you scant and short of wits.”

“Thou talkest in this way because thou lovest me, Sancho,” said Don
Quixote; “and not being experienced in the things of the world,
everything that has some difficulty about it seems to thee impossible;
but time will pass, as I said before, and I will tell thee some of the
things I saw down there which will make thee believe what I have
related now, the truth of which admits of neither reply nor question.”



p23e.jpg (54K)



CHAPTER XXIV.
WHEREIN ARE RELATED A THOUSAND TRIFLING MATTERS, AS TRIVIAL AS THEY ARE
NECESSARY TO THE RIGHT UNDERSTANDING OF THIS GREAT HISTORY




p24a.jpg (137K)

Full Size



He who translated this great history from the original written by its
first author, Cide Hamete Benengeli, says that on coming to the chapter
giving the adventures of the cave of Montesinos he found written on the
margin of it, in Hamete’s own hand, these exact words:

“I cannot convince or persuade myself that everything that is written
in the preceding chapter could have precisely happened to the valiant
Don Quixote; and for this reason, that all the adventures that have
occurred up to the present have been possible and probable; but as for
this one of the cave, I see no way of accepting it as true, as it
passes all reasonable bounds. For me to believe that Don Quixote could
lie, he being the most truthful gentleman and the noblest knight of his
time, is impossible; he would not have told a lie though he were shot
to death with arrows. On the other hand, I reflect that he related and
told the story with all the circumstances detailed, and that he could
not in so short a space have fabricated such a vast complication of
absurdities; if, then, this adventure seems apocryphal, it is no fault
of mine; and so, without affirming its falsehood or its truth, I write
it down. Decide for thyself in thy wisdom, reader; for I am not bound,
nor is it in my power, to do more; though certain it is they say that
at the time of his death he retracted, and said he had invented it,
thinking it matched and tallied with the adventures he had read of in
his histories.” And then he goes on to say:

The cousin was amazed as well at Sancho’s boldness as at the patience
of his master, and concluded that the good temper the latter displayed
arose from the happiness he felt at having seen his lady Dulcinea, even
enchanted as she was; because otherwise the words and language Sancho
had addressed to him deserved a thrashing; for indeed he seemed to him
to have been rather impudent to his master, to whom he now observed,
“I, Señor Don Quixote of La Mancha, look upon the time I have spent in
travelling with your worship as very well employed, for I have gained
four things in the course of it; the first is that I have made your
acquaintance, which I consider great good fortune; the second, that I
have learned what the cave of Montesinos contains, together with the
transformations of Guadiana and of the lakes of Ruidera; which will be
of use to me for the Spanish Ovid that I have in hand; the third, to
have discovered the antiquity of cards, that they were in use at least
in the time of Charlemagne, as may be inferred from the words you say
Durandarte uttered when, at the end of that long spell while Montesinos
was talking to him, he woke up and said, ‘Patience and shuffle.’ This
phrase and expression he could not have learned while he was enchanted,
but only before he had become so, in France, and in the time of the
aforesaid emperor Charlemagne. And this demonstration is just the thing
for me for that other book I am writing, the ‘Supplement to Polydore
Vergil on the Invention of Antiquities;’ for I believe he never thought
of inserting that of cards in his book, as I mean to do in mine, and it
will be a matter of great importance, particularly when I can cite so
grave and veracious an authority as Señor Durandarte. And the fourth
thing is, that I have ascertained the source of the river Guadiana,
heretofore unknown to mankind.”

“You are right,” said Don Quixote; “but I should like to know, if by
God’s favour they grant you a licence to print those books of
yours—which I doubt—to whom do you mean to dedicate them?”

“There are lords and grandees in Spain to whom they can be dedicated,”
said the cousin.

“Not many,” said Don Quixote; “not that they are unworthy of it, but
because they do not care to accept books and incur the obligation of
making the return that seems due to the author’s labour and courtesy.
One prince I know who makes up for all the rest, and more—how much
more, if I ventured to say, perhaps I should stir up envy in many a
noble breast; but let this stand over for some more convenient time,
and let us go and look for some place to shelter ourselves in
to-night.”

“Not far from this,” said the cousin, “there is a hermitage, where
there lives a hermit, who they say was a soldier, and who has the
reputation of being a good Christian and a very intelligent and
charitable man. Close to the hermitage he has a small house which he
built at his own cost, but though small it is large enough for the
reception of guests.”

“Has this hermit any hens, do you think?” asked Sancho.

“Few hermits are without them,” said Don Quixote; “for those we see
now-a-days are not like the hermits of the Egyptian deserts who were
clad in palm-leaves, and lived on the roots of the earth. But do not
think that by praising these I am disparaging the others; all I mean to
say is that the penances of those of the present day do not come up to
the asceticism and austerity of former times; but it does not follow
from this that they are not all worthy; at least I think them so; and
at the worst the hypocrite who pretends to be good does less harm than
the open sinner.”

At this point they saw approaching the spot where they stood a man on
foot, proceeding at a rapid pace, and beating a mule loaded with lances
and halberds. When he came up to them, he saluted them and passed on
without stopping. Don Quixote called to him, “Stay, good fellow; you
seem to be making more haste than suits that mule.”

“I cannot stop, señor,” answered the man; “for the arms you see I carry
here are to be used to-morrow, so I must not delay; God be with you.
But if you want to know what I am carrying them for, I mean to lodge
to-night at the inn that is beyond the hermitage, and if you be going
the same road you will find me there, and I will tell you some curious
things; once more God be with you;” and he urged on his mule at such a
pace that Don Quixote had no time to ask him what these curious things
were that he meant to tell them; and as he was somewhat inquisitive,
and always tortured by his anxiety to learn something new, he decided
to set out at once, and go and pass the night at the inn instead of
stopping at the hermitage, where the cousin would have had them halt.
Accordingly they mounted and all three took the direct road for the
inn, which they reached a little before nightfall. On the road the
cousin proposed they should go up to the hermitage to drink a sup. The
instant Sancho heard this he steered his Dapple towards it, and Don
Quixote and the cousin did the same; but it seems Sancho’s bad luck so
ordered it that the hermit was not at home, for so a sub-hermit they
found in the hermitage told them. They called for some of the best. She
replied that her master had none, but that if they liked cheap water
she would give it with great pleasure.

“If I found any in water,” said Sancho, “there are wells along the road
where I could have had enough of it. Ah, Camacho’s wedding, and
plentiful house of Don Diego, how often do I miss you!”

Leaving the hermitage, they pushed on towards the inn, and a little
farther they came upon a youth who was pacing along in front of them at
no great speed, so that they overtook him. He carried a sword over his
shoulder, and slung on it a budget or bundle of his clothes apparently,
probably his breeches or pantaloons, and his cloak and a shirt or two;
for he had on a short jacket of velvet with a gloss like satin on it in
places, and had his shirt out; his stockings were of silk, and his
shoes square-toed as they wear them at court. His age might have been
eighteen or nineteen; he was of a merry countenance, and to all
appearance of an active habit, and he went along singing seguidillas to
beguile the wearisomeness of the road. As they came up with him he was
just finishing one, which the cousin got by heart and they say ran
thus—

I’m off to the wars
For the want of pence,
Oh, had I but money
I’d show more sense.


The first to address him was Don Quixote, who said, “You travel very
airily, sir gallant; whither bound, may we ask, if it is your pleasure
to tell us?”

To which the youth replied, “The heat and my poverty are the reason of
my travelling so airily, and it is to the wars that I am bound.”

“How poverty?” asked Don Quixote; “the heat one can understand.”

“Señor,” replied the youth, “in this bundle I carry velvet pantaloons
to match this jacket; if I wear them out on the road, I shall not be
able to make a decent appearance in them in the city, and I have not
the wherewithal to buy others; and so for this reason, as well as to
keep myself cool, I am making my way in this fashion to overtake some
companies of infantry that are not twelve leagues off, in which I shall
enlist, and there will be no want of baggage trains to travel with
after that to the place of embarkation, which they say will be
Carthagena; I would rather have the King for a master, and serve him in
the wars, than serve a court pauper.”

“And did you get any bounty, now?” asked the cousin.

“If I had been in the service of some grandee of Spain or personage of
distinction,” replied the youth, “I should have been safe to get it;
for that is the advantage of serving good masters, that out of the
servants’ hall men come to be ancients or captains, or get a good
pension. But I, to my misfortune, always served place-hunters and
adventurers, whose keep and wages were so miserable and scanty that
half went in paying for the starching of one’s collars; it would be a
miracle indeed if a page volunteer ever got anything like a reasonable
bounty.”

“And tell me, for heaven’s sake,” asked Don Quixote, “is it possible,
my friend, that all the time you served you never got any livery?”

“They gave me two,” replied the page; “but just as when one quits a
religious community before making profession, they strip him of the
dress of the order and give him back his own clothes, so did my masters
return me mine; for as soon as the business on which they came to court
was finished, they went home and took back the liveries they had given
merely for show.”

“What spilorceria!—as an Italian would say,” said Don Quixote; “but for
all that, consider yourself happy in having left court with as worthy
an object as you have, for there is nothing on earth more honourable or
profitable than serving, first of all God, and then one’s king and
natural lord, particularly in the profession of arms, by which, if not
more wealth, at least more honour is to be won than by letters, as I
have said many a time; for though letters may have founded more great
houses than arms, still those founded by arms have I know not what
superiority over those founded by letters, and a certain splendour
belonging to them that distinguishes them above all. And bear in mind
what I am now about to say to you, for it will be of great use and
comfort to you in time of trouble; it is, not to let your mind dwell on
the adverse chances that may befall you; for the worst of all is death,
and if it be a good death, the best of all is to die. They asked Julius
Cæsar, the valiant Roman emperor, what was the best death. He answered,
that which is unexpected, which comes suddenly and unforeseen; and
though he answered like a pagan, and one without the knowledge of the
true God, yet, as far as sparing our feelings is concerned, he was
right; for suppose you are killed in the first engagement or skirmish,
whether by a cannon ball or blown up by mine, what matters it? It is
only dying, and all is over; and according to Terence, a soldier shows
better dead in battle, than alive and safe in flight; and the good
soldier wins fame in proportion as he is obedient to his captains and
those in command over him. And remember, my son, that it is better for
the soldier to smell of gunpowder than of civet, and that if old age
should come upon you in this honourable calling, though you may be
covered with wounds and crippled and lame, it will not come upon you
without honour, and that such as poverty cannot lessen; especially now
that provisions are being made for supporting and relieving old and
disabled soldiers; for it is not right to deal with them after the
fashion of those who set free and get rid of their black slaves when
they are old and useless, and, turning them out of their houses under
the pretence of making them free, make them slaves to hunger, from
which they cannot expect to be released except by death. But for the
present I won’t say more than get ye up behind me on my horse as far as
the inn, and sup with me there, and to-morrow you shall pursue your
journey, and God give you as good speed as your intentions deserve.”

The page did not accept the invitation to mount, though he did that to
supper at the inn; and here they say Sancho said to himself, “God be
with you for a master; is it possible that a man who can say things so
many and so good as he has said just now, can say that he saw the
impossible absurdities he reports about the cave of Montesinos? Well,
well, we shall see.”

And now, just as night was falling, they reached the inn, and it was
not without satisfaction that Sancho perceived his master took it for a
real inn, and not for a castle as usual. The instant they entered Don
Quixote asked the landlord after the man with the lances and halberds,
and was told that he was in the stable seeing to his mule; which was
what Sancho and the cousin proceeded to do for their beasts, giving the
best manger and the best place in the stable to Rocinante.



p24e.jpg (61K)



CHAPTER XXV.
WHEREIN IS SET DOWN THE BRAYING ADVENTURE, AND THE DROLL ONE OF THE
PUPPET-SHOWMAN, TOGETHER WITH THE MEMORABLE DIVINATIONS OF THE DIVINING
APE




p25a.jpg (154K)

Full Size



Don Quixote’s bread would not bake, as the common saying is, until he
had heard and learned the curious things promised by the man who
carried the arms. He went to seek him where the innkeeper said he was
and having found him, bade him say now at any rate what he had to say
in answer to the question he had asked him on the road. “The tale of my
wonders must be taken more leisurely and not standing,” said the man;
“let me finish foddering my beast, good sir; and then I’ll tell you
things that will astonish you.”

“Don’t wait for that,” said Don Quixote; “I’ll help you in everything,”
and so he did, sifting the barley for him and cleaning out the manger;
a degree of humility which made the other feel bound to tell him with a
good grace what he had asked; so seating himself on a bench, with Don
Quixote beside him, and the cousin, the page, Sancho Panza, and the
landlord, for a senate and an audience, he began his story in this way:

“You must know that in a village four leagues and a half from this inn,
it so happened that one of the regidors, by the tricks and roguery of a
servant girl of his (it’s too long a tale to tell), lost an ass; and
though he did all he possibly could to find it, it was all to no
purpose. A fortnight might have gone by, so the story goes, since the
ass had been missing, when, as the regidor who had lost it was standing
in the plaza, another regidor of the same town said to him, ‘Pay me for
good news, gossip; your ass has turned up.’ ‘That I will, and well,
gossip,’ said the other; ‘but tell us, where has he turned up?’ ‘In the
forest,’ said the finder; ‘I saw him this morning without pack-saddle
or harness of any sort, and so lean that it went to one’s heart to see
him. I tried to drive him before me and bring him to you, but he is
already so wild and shy that when I went near him he made off into the
thickest part of the forest. If you have a mind that we two should go
back and look for him, let me put up this she-ass at my house and I’ll
be back at once.’ ‘You will be doing me a great kindness,’ said the
owner of the ass, ‘and I’ll try to pay it back in the same coin.’ It is
with all these circumstances, and in the very same way I am telling it
now, that those who know all about the matter tell the story. Well
then, the two regidors set off on foot, arm in arm, for the forest, and
coming to the place where they hoped to find the ass they could not
find him, nor was he to be seen anywhere about, search as they might.
Seeing, then, that there was no sign of him, the regidor who had seen
him said to the other, ‘Look here, gossip; a plan has occurred to me,
by which, beyond a doubt, we shall manage to discover the animal, even
if he is stowed away in the bowels of the earth, not to say the forest.
Here it is. I can bray to perfection, and if you can ever so little,
the thing’s as good as done.’ ‘Ever so little did you say, gossip?’
said the other; ‘by God, I’ll not give in to anybody, not even to the
asses themselves.’ ‘We’ll soon see,’ said the second regidor, ‘for my
plan is that you should go one side of the forest, and I the other, so
as to go all round about it; and every now and then you will bray and I
will bray; and it cannot be but that the ass will hear us, and answer
us if he is in the forest.’ To which the owner of the ass replied,
‘It’s an excellent plan, I declare, gossip, and worthy of your great
genius;’ and the two separating as agreed, it so fell out that they
brayed almost at the same moment, and each, deceived by the braying of
the other, ran to look, fancying the ass had turned up at last. When
they came in sight of one another, said the loser, ‘Is it possible,
gossip, that it was not my ass that brayed?’ ‘No, it was I,’ said the
other. ‘Well then, I can tell you, gossip,’ said the ass’s owner, ‘that
between you and an ass there is not an atom of difference as far as
braying goes, for I never in all my life saw or heard anything more
natural.’ ‘Those praises and compliments belong to you more justly than
to me, gossip,’ said the inventor of the plan; ‘for, by the God that
made me, you might give a couple of brays odds to the best and most
finished brayer in the world; the tone you have got is deep, your voice
is well kept up as to time and pitch, and your finishing notes come
thick and fast; in fact, I own myself beaten, and yield the palm to
you, and give in to you in this rare accomplishment.’ ‘Well then,’ said
the owner, ‘I’ll set a higher value on myself for the future, and
consider that I know something, as I have an excellence of some sort;
for though I always thought I brayed well, I never supposed I came up
to the pitch of perfection you say.’ ‘And I say too,’ said the second,
‘that there are rare gifts going to loss in the world, and that they
are ill bestowed upon those who don’t know how to make use of them.’
‘Ours,’ said the owner of the ass, ‘unless it is in cases like this we
have now in hand, cannot be of any service to us, and even in this God
grant they may be of some use.’ So saying they separated, and took to
their braying once more, but every instant they were deceiving one
another, and coming to meet one another again, until they arranged by
way of countersign, so as to know that it was they and not the ass, to
give two brays, one after the other. In this way, doubling the brays at
every step, they made the complete circuit of the forest, but the lost
ass never gave them an answer or even the sign of one. How could the
poor ill-starred brute have answered, when, in the thickest part of the
forest, they found him devoured by wolves? As soon as he saw him his
owner said, ‘I was wondering he did not answer, for if he wasn’t dead
he’d have brayed when he heard us, or he’d have been no ass; but for
the sake of having heard you bray to such perfection, gossip, I count
the trouble I have taken to look for him well bestowed, even though I
have found him dead.’ ‘It’s in a good hand, gossip,’ said the other;
‘if the abbot sings well, the acolyte is not much behind him.’ So they
returned disconsolate and hoarse to their village, where they told
their friends, neighbours, and acquaintances what had befallen them in
their search for the ass, each crying up the other’s perfection in
braying. The whole story came to be known and spread abroad through the
villages of the neighbourhood; and the devil, who never sleeps, with
his love for sowing dissensions and scattering discord everywhere,
blowing mischief about and making quarrels out of nothing, contrived to
make the people of the other towns fall to braying whenever they saw
anyone from our village, as if to throw the braying of our regidors in
our teeth. Then the boys took to it, which was the same thing for it as
getting into the hands and mouths of all the devils of hell; and
braying spread from one town to another in such a way that the men of
the braying town are as easy to be known as blacks are to be known from
whites, and the unlucky joke has gone so far that several times the
scoffed have come out in arms and in a body to do battle with the
scoffers, and neither king nor rook, fear nor shame, can mend matters.
To-morrow or the day after, I believe, the men of my town, that is, of
the braying town, are going to take the field against another village
two leagues away from ours, one of those that persecute us most; and
that we may turn out well prepared I have bought these lances and
halberds you have seen. These are the curious things I told you I had
to tell, and if you don’t think them so, I have got no others;” and
with this the worthy fellow brought his story to a close.

Just at this moment there came in at the gate of the inn a man entirely
clad in chamois leather, hose, breeches, and doublet, who said in a
loud voice, “Señor host, have you room? Here’s the divining ape and the
show of the Release of Melisendra just coming.”

“Ods body!” said the landlord, “why, it’s Master Pedro! We’re in for a
grand night!” I forgot to mention that the said Master Pedro had his
left eye and nearly half his cheek covered with a patch of green
taffety, showing that something ailed all that side. “Your worship is
welcome, Master Pedro,” continued the landlord; “but where are the ape
and the show, for I don’t see them?” “They are close at hand,” said he
in the chamois leather, “but I came on first to know if there was any
room.” “I’d make the Duke of Alva himself clear out to make room for
Master Pedro,” said the landlord; “bring in the ape and the show;
there’s company in the inn to-night that will pay to see that and the
cleverness of the ape.” “So be it by all means,” said the man with the
patch; “I’ll lower the price, and be well satisfied if I only pay my
expenses; and now I’ll go back and hurry on the cart with the ape and
the show;” and with this he went out of the inn.

Don Quixote at once asked the landlord what this Master Pedro was, and
what was the show and what was the ape he had with him; which the
landlord replied, “This is a famous puppet-showman, who for some time
past has been going about this Mancha de Aragon, exhibiting a show of
the release of Melisendra by the famous Don Gaiferos, one of the best
and best-represented stories that have been seen in this part of the
kingdom for many a year; he has also with him an ape with the most
extraordinary gift ever seen in an ape or imagined in a human being;
for if you ask him anything, he listens attentively to the question,
and then jumps on his master’s shoulder, and pressing close to his ear
tells him the answer which Master Pedro then delivers. He says a great
deal more about things past than about things to come; and though he
does not always hit the truth in every case, most times he is not far
wrong, so that he makes us fancy he has got the devil in him. He gets
two reals for every question if the ape answers; I mean if his master
answers for him after he has whispered into his ear; and so it is
believed that this same Master Pedro is very rich. He is a ‘gallant
man’ as they say in Italy, and good company, and leads the finest life
in the world; talks more than six, drinks more than a dozen, and all by
his tongue, and his ape, and his show.”

Master Pedro now came back, and in a cart followed the show and the
ape—a big one, without a tail and with buttocks as bare as felt, but
not vicious-looking. As soon as Don Quixote saw him, he asked him, “Can
you tell me, sir fortune-teller, what fish do we catch, and how will it
be with us? See, here are my two reals,” and he bade Sancho give them
to Master Pedro; but he answered for the ape and said, “Señor, this
animal does not give any answer or information touching things that are
to come; of things past he knows something, and more or less of things
present.”

“Gad,” said Sancho, “I would not give a farthing to be told what’s past
with me, for who knows that better than I do myself? And to pay for
being told what I know would be mighty foolish. But as you know things
present, here are my two reals, and tell me, most excellent sir ape,
what is my wife Teresa Panza doing now, and what is she diverting
herself with?”

Master Pedro refused to take the money, saying, “I will not receive
payment in advance or until the service has been first rendered;” and
then with his right hand he gave a couple of slaps on his left
shoulder, and with one spring the ape perched himself upon it, and
putting his mouth to his master’s ear began chattering his teeth
rapidly; and having kept this up as long as one would be saying a
credo, with another spring he brought himself to the ground, and the
same instant Master Pedro ran in great haste and fell upon his knees
before Don Quixote, and embracing his legs exclaimed, “These legs do I
embrace as I would embrace the two pillars of Hercules, O illustrious
reviver of knight-errantry, so long consigned to oblivion! O never yet
duly extolled knight, Don Quixote of La Mancha, courage of the
faint-hearted, prop of the tottering, arm of the fallen, staff and
counsel of all who are unfortunate!”



p25b.jpg (373K)

Full Size



Don Quixote was thunderstruck, Sancho astounded, the cousin staggered,
the page astonished, the man from the braying town agape, the landlord
in perplexity, and, in short, everyone amazed at the words of the
puppet-showman, who went on to say, “And thou, worthy Sancho Panza, the
best squire and squire to the best knight in the world! Be of good
cheer, for thy good wife Teresa is well, and she is at this moment
hackling a pound of flax; and more by token she has at her left hand a
jug with a broken spout that holds a good drop of wine, with which she
solaces herself at her work.”

“That I can well believe,” said Sancho. “She is a lucky one, and if it
was not for her jealousy I would not change her for the giantess
Andandona, who by my master’s account was a very clever and worthy
woman; my Teresa is one of those that won’t let themselves want for
anything, though their heirs may have to pay for it.”

“Now I declare,” said Don Quixote, “he who reads much and travels much
sees and knows a great deal. I say so because what amount of persuasion
could have persuaded me that there are apes in the world that can
divine as I have seen now with my own eyes? For I am that very Don
Quixote of La Mancha this worthy animal refers to, though he has gone
rather too far in my praise; but whatever I may be, I thank heaven that
it has endowed me with a tender and compassionate heart, always
disposed to do good to all and harm to none.”

“If I had money,” said the page, “I would ask señor ape what will
happen to me in the peregrination I am making.”

To this Master Pedro, who had by this time risen from Don Quixote’s
feet, replied, “I have already said that this little beast gives no
answer as to the future; but if he did, not having money would be of no
consequence, for to oblige Señor Don Quixote, here present, I would
give up all the profits in the world. And now, because I have promised
it, and to afford him pleasure, I will set up my show and offer
entertainment to all who are in the inn, without any charge whatever.”
As soon as he heard this, the landlord, delighted beyond measure,
pointed out a place where the show might be fixed, which was done at
once.

Don Quixote was not very well satisfied with the divinations of the
ape, as he did not think it proper that an ape should divine anything,
either past or future; so while Master Pedro was arranging the show, he
retired with Sancho into a corner of the stable, where, without being
overheard by anyone, he said to him, “Look here, Sancho, I have been
seriously thinking over this ape’s extraordinary gift, and have come to
the conclusion that beyond doubt this Master Pedro, his master, has a
pact, tacit or express, with the devil.”

“If the packet is express from the devil,” said Sancho, “it must be a
very dirty packet no doubt; but what good can it do Master Pedro to
have such packets?”

“Thou dost not understand me, Sancho,” said Don Quixote; “I only mean
he must have made some compact with the devil to infuse this power into
the ape, that he may get his living, and after he has grown rich he
will give him his soul, which is what the enemy of mankind wants; this
I am led to believe by observing that the ape only answers about things
past or present, and the devil’s knowledge extends no further; for the
future he knows only by guesswork, and that not always; for it is
reserved for God alone to know the times and the seasons, and for him
there is neither past nor future; all is present. This being as it is,
it is clear that this ape speaks by the spirit of the devil; and I am
astonished they have not denounced him to the Holy Office, and put him
to the question, and forced it out of him by whose virtue it is that he
divines; because it is certain this ape is not an astrologer; neither
his master nor he sets up, or knows how to set up, those figures they
call judiciary, which are now so common in Spain that there is not a
jade, or page, or old cobbler, that will not undertake to set up a
figure as readily as pick up a knave of cards from the ground, bringing
to nought the marvellous truth of the science by their lies and
ignorance. I know of a lady who asked one of these figure schemers
whether her little lap-dog would be in pup and would breed, and how
many and of what colour the little pups would be. To which señor
astrologer, after having set up his figure, made answer that the bitch
would be in pup, and would drop three pups, one green, another bright
red, and the third parti-coloured, provided she conceived between
eleven and twelve either of the day or night, and on a Monday or
Saturday; but as things turned out, two days after this the bitch died
of a surfeit, and señor planet-ruler had the credit all over the place
of being a most profound astrologer, as most of these planet-rulers
have.”

“Still,” said Sancho, “I would be glad if your worship would make
Master Pedro ask his ape whether what happened your worship in the cave
of Montesinos is true; for, begging your worship’s pardon, I, for my
part, take it to have been all flam and lies, or at any rate something
you dreamt.”

“That may be,” replied Don Quixote; “however, I will do what you
suggest; though I have my own scruples about it.”

At this point Master Pedro came up in quest of Don Quixote, to tell him
the show was now ready and to come and see it, for it was worth seeing.
Don Quixote explained his wish, and begged him to ask his ape at once
to tell him whether certain things which had happened to him in the
cave of Montesinos were dreams or realities, for to him they appeared
to partake of both. Upon this Master Pedro, without answering, went
back to fetch the ape, and, having placed it in front of Don Quixote
and Sancho, said: “See here, señor ape, this gentleman wishes to know
whether certain things which happened to him in the cave called the
cave of Montesinos were false or true.” On his making the usual sign
the ape mounted on his left shoulder and seemed to whisper in his ear,
and Master Pedro said at once, “The ape says that the things you saw or
that happened to you in that cave are, part of them false, part true;
and that he only knows this and no more as regards this question; but
if your worship wishes to know more, on Friday next he will answer all
that may be asked him, for his virtue is at present exhausted, and will
not return to him till Friday, as he has said.”

“Did I not say, señor,” said Sancho, “that I could not bring myself to
believe that all your worship said about the adventures in the cave was
true, or even the half of it?”

“The course of events will tell, Sancho,” replied Don Quixote; “time,
that discloses all things, leaves nothing that it does not drag into
the light of day, though it be buried in the bosom of the earth. But
enough of that for the present; let us go and see Master Pedro’s show,
for I am sure there must be something novel in it.”

“Something!” said Master Pedro; “this show of mine has sixty thousand
novel things in it; let me tell you, Señor Don Quixote, it is one of
the best-worth-seeing things in the world this day; but _operibus
credite et non verbis_, and now let’s get to work, for it is growing
late, and we have a great deal to do and to say and show.”

Don Quixote and Sancho obeyed him and went to where the show was
already put up and uncovered, set all around with lighted wax tapers
which made it look splendid and bright. When they came to it Master
Pedro ensconced himself inside it, for it was he who had to work the
puppets, and a boy, a servant of his, posted himself outside to act as
showman and explain the mysteries of the exhibition, having a wand in
his hand to point to the figures as they came out. And so, all who were
in the inn being arranged in front of the show, some of them standing,
and Don Quixote, Sancho, the page, and cousin, accommodated with the
best places, the interpreter began to say what he will hear or see who
reads or hears the next chapter.



p25e.jpg (28K)



CHAPTER XXVI.
WHEREIN IS CONTINUED THE DROLL ADVENTURE OF THE PUPPET-SHOWMAN,
TOGETHER WITH OTHER THINGS IN TRUTH RIGHT GOOD




p26a.jpg (157K)

Full Size



All were silent, Tyrians and Trojans; I mean all who were watching the
show were hanging on the lips of the interpreter of its wonders, when
drums and trumpets were heard to sound inside it and cannon to go off.
The noise was soon over, and then the boy lifted up his voice and said,
“This true story which is here represented to your worships is taken
word for word from the French chronicles and from the Spanish ballads
that are in everybody’s mouth, and in the mouth of the boys about the
streets. Its subject is the release by Señor Don Gaiferos of his wife
Melisendra, when a captive in Spain at the hands of the Moors in the
city of Sansueña, for so they called then what is now called Saragossa;
and there you may see how Don Gaiferos is playing at the tables, just
as they sing it-

At tables playing Don Gaiferos sits,
For Melisendra is forgotten now.


And that personage who appears there with a crown on his head and a
sceptre in his hand is the Emperor Charlemagne, the supposed father of
Melisendra, who, angered to see his son-in-law’s inaction and
unconcern, comes in to chide him; and observe with what vehemence and
energy he chides him, so that you would fancy he was going to give him
half a dozen raps with his sceptre; and indeed there are authors who
say he did give them, and sound ones too; and after having said a great
deal to him about imperilling his honour by not effecting the release
of his wife, he said, so the tale runs,

Enough I’ve said, see to it now.


Observe, too, how the emperor turns away, and leaves Don Gaiferos
fuming; and you see now how in a burst of anger, he flings the table
and the board far from him and calls in haste for his armour, and asks
his cousin Don Roland for the loan of his sword, Durindana, and how Don
Roland refuses to lend it, offering him his company in the difficult
enterprise he is undertaking; but he, in his valour and anger, will not
accept it, and says that he alone will suffice to rescue his wife, even
though she were imprisoned deep in the centre of the earth, and with
this he retires to arm himself and set out on his journey at once. Now
let your worships turn your eyes to that tower that appears there,
which is supposed to be one of the towers of the alcazar of Saragossa,
now called the Aljaferia; that lady who appears on that balcony dressed
in Moorish fashion is the peerless Melisendra, for many a time she used
to gaze from thence upon the road to France, and seek consolation in
her captivity by thinking of Paris and her husband. Observe, too, a new
incident which now occurs, such as, perhaps, never was seen. Do you not
see that Moor, who silently and stealthily, with his finger on his lip,
approaches Melisendra from behind? Observe now how he prints a kiss
upon her lips, and what a hurry she is in to spit, and wipe them with
the white sleeve of her smock, and how she bewails herself, and tears
her fair hair as though it were to blame for the wrong. Observe, too,
that the stately Moor who is in that corridor is King Marsilio of
Sansueña, who, having seen the Moor’s insolence, at once orders him
(though his kinsman and a great favourite of his) to be seized and
given two hundred lashes, while carried through the streets of the city
according to custom, with criers going before him and officers of
justice behind; and here you see them come out to execute the sentence,
although the offence has been scarcely committed; for among the Moors
there are no indictments nor remands as with us.”

Here Don Quixote called out, “Child, child, go straight on with your
story, and don’t run into curves and slants, for to establish a fact
clearly there is need of a great deal of proof and confirmation;” and
said Master Pedro from within, “Boy, stick to your text and do as the
gentleman bids you; it’s the best plan; keep to your plain song, and
don’t attempt harmonies, for they are apt to break down from being over
fine.”

“I will,” said the boy, and he went on to say, “This figure that you
see here on horseback, covered with a Gascon cloak, is Don Gaiferos
himself, whom his wife, now avenged of the insult of the amorous Moor,
and taking her stand on the balcony of the tower with a calmer and more
tranquil countenance, has perceived without recognising him; and she
addresses her husband, supposing him to be some traveller, and holds
with him all that conversation and colloquy in the ballad that runs—

If you, sir knight, to France are bound,
Oh! for Gaiferos ask—


which I do not repeat here because prolixity begets disgust; suffice it
to observe how Don Gaiferos discovers himself, and that by her joyful
gestures Melisendra shows us she has recognised him; and what is more,
we now see she lowers herself from the balcony to place herself on the
haunches of her good husband’s horse. But ah! unhappy lady, the edge of
her petticoat has caught on one of the bars of the balcony and she is
left hanging in the air, unable to reach the ground. But you see how
compassionate heaven sends aid in our sorest need; Don Gaiferos
advances, and without minding whether the rich petticoat is torn or
not, he seizes her and by force brings her to the ground, and then with
one jerk places her on the haunches of his horse, astraddle like a man,
and bids her hold on tight and clasp her arms round his neck, crossing
them on his breast so as not to fall, for the lady Melisendra was not
used to that style of riding. You see, too, how the neighing of the
horse shows his satisfaction with the gallant and beautiful burden he
bears in his lord and lady. You see how they wheel round and quit the
city, and in joy and gladness take the road to Paris. Go in peace, O
peerless pair of true lovers! May you reach your longed-for fatherland
in safety, and may fortune interpose no impediment to your prosperous
journey; may the eyes of your friends and kinsmen behold you enjoying
in peace and tranquillity the remaining days of your life—and that they
may be as many as those of Nestor!”

Here Master Pedro called out again and said, “Simplicity, boy! None of
your high flights; all affectation is bad.”

The interpreter made no answer, but went on to say, “There was no want
of idle eyes, that see everything, to see Melisendra come down and
mount, and word was brought to King Marsilio, who at once gave orders
to sound the alarm; and see what a stir there is, and how the city is
drowned with the sound of the bells pealing in the towers of all the
mosques.”

“Nay, nay,” said Don Quixote at this; “on that point of the bells
Master Pedro is very inaccurate, for bells are not in use among the
Moors; only kettledrums, and a kind of small trumpet somewhat like our
clarion; to ring bells this way in Sansueña is unquestionably a great
absurdity.”

On hearing this, Master Pedro stopped ringing, and said, “Don’t look
into trifles, Señor Don Quixote, or want to have things up to a pitch
of perfection that is out of reach. Are there not almost every day a
thousand comedies represented all round us full of thousands of
inaccuracies and absurdities, and, for all that, they have a successful
run, and are listened to not only with applause, but with admiration
and all the rest of it? Go on, boy, and don’t mind; for so long as I
fill my pouch, no matter if I show as many inaccuracies as there are
motes in a sunbeam.”

“True enough,” said Don Quixote; and the boy went on: “See what a
numerous and glittering crowd of horsemen issues from the city in
pursuit of the two faithful lovers, what a blowing of trumpets there
is, what sounding of horns, what beating of drums and tabors; I fear me
they will overtake them and bring them back tied to the tail of their
own horse, which would be a dreadful sight.”



p26b.jpg (342K)

Full Size



Don Quixote, however, seeing such a swarm of Moors and hearing such a
din, thought it would be right to aid the fugitives, and standing up he
exclaimed in a loud voice, “Never, while I live, will I permit foul
play to be practised in my presence on such a famous knight and
fearless lover as Don Gaiferos. Halt! ill-born rabble, follow him not
nor pursue him, or ye will have to reckon with me in battle!” and
suiting the action to the word, he drew his sword, and with one bound
placed himself close to the show, and with unexampled rapidity and fury
began to shower down blows on the puppet troop of Moors, knocking over
some, decapitating others, maiming this one and demolishing that; and
among many more he delivered one down stroke which, if Master Pedro had
not ducked, made himself small, and got out of the way, would have
sliced off his head as easily as if it had been made of almond-paste.
Master Pedro kept shouting, “Hold hard! Señor Don Quixote! can’t you
see they’re not real Moors you’re knocking down and killing and
destroying, but only little pasteboard figures! Look—sinner that I
am!—how you’re wrecking and ruining all that I’m worth!” But in spite
of this, Don Quixote did not leave off discharging a continuous rain of
cuts, slashes, downstrokes, and backstrokes, and at length, in less
than the space of two credos, he brought the whole show to the ground,
with all its fittings and figures shivered and knocked to pieces, King
Marsilio badly wounded, and the Emperor Charlemagne with his crown and
head split in two. The whole audience was thrown into confusion, the
ape fled to the roof of the inn, the cousin was frightened, and even
Sancho Panza himself was in mighty fear, for, as he swore after the
storm was over, he had never seen his master in such a furious passion.

The complete destruction of the show being thus accomplished, Don
Quixote became a little calmer, said, “I wish I had here before me now
all those who do not or will not believe how useful knights-errant are
in the world; just think, if I had not been here present, what would
have become of the brave Don Gaiferos and the fair Melisendra! Depend
upon it, by this time those dogs would have overtaken them and
inflicted some outrage upon them. So, then, long live knight-errantry
beyond everything living on earth this day!”

“Let it live, and welcome,” said Master Pedro at this in a feeble
voice, “and let me die, for I am so unfortunate that I can say with
King Don Rodrigo—

Yesterday was I lord of Spain
To-day I’ve not a turret left
That I may call mine own.


Not half an hour, nay, barely a minute ago, I saw myself lord of kings
and emperors, with my stables filled with countless horses, and my
trunks and bags with gay dresses unnumbered; and now I find myself
ruined and laid low, destitute and a beggar, and above all without my
ape, for, by my faith, my teeth will have to sweat for it before I have
him caught; and all through the reckless fury of sir knight here, who,
they say, protects the fatherless, and rights wrongs, and does other
charitable deeds; but whose generous intentions have been found wanting
in my case only, blessed and praised be the highest heavens! Verily,
knight of the rueful figure he must be to have disfigured mine.”

Sancho Panza was touched by Master Pedro’s words, and said to him,
“Don’t weep and lament, Master Pedro; you break my heart; let me tell
you my master, Don Quixote, is so catholic and scrupulous a Christian
that, if he can make out that he has done you any wrong, he will own
it, and be willing to pay for it and make it good, and something over
and above.”

“Only let Señor Don Quixote pay me for some part of the work he has
destroyed,” said Master Pedro, “and I would be content, and his worship
would ease his conscience, for he cannot be saved who keeps what is
another’s against the owner’s will, and makes no restitution.”

“That is true,” said Don Quixote; “but at present I am not aware that I
have got anything of yours, Master Pedro.”

“What!” returned Master Pedro; “and these relics lying here on the bare
hard ground—what scattered and shattered them but the invincible
strength of that mighty arm? And whose were the bodies they belonged to
but mine? And what did I get my living by but by them?”

“Now am I fully convinced,” said Don Quixote, “of what I had many a
time before believed; that the enchanters who persecute me do nothing
more than put figures like these before my eyes, and then change and
turn them into what they please. In truth and earnest, I assure you
gentlemen who now hear me, that to me everything that has taken place
here seemed to take place literally, that Melisendra was Melisendra,
Don Gaiferos Don Gaiferos, Marsilio Marsilio, and Charlemagne
Charlemagne. That was why my anger was roused; and to be faithful to my
calling as a knight-errant I sought to give aid and protection to those
who fled, and with this good intention I did what you have seen. If the
result has been the opposite of what I intended, it is no fault of
mine, but of those wicked beings that persecute me; but, for all that,
I am willing to condemn myself in costs for this error of mine, though
it did not proceed from malice; let Master Pedro see what he wants for
the spoiled figures, for I agree to pay it at once in good and current
money of Castile.”

Master Pedro made him a bow, saying, “I expected no less of the rare
Christianity of the valiant Don Quixote of La Mancha, true helper and
protector of all destitute and needy vagabonds; master landlord here
and the great Sancho Panza shall be the arbitrators and appraisers
between your worship and me of what these dilapidated figures are worth
or may be worth.”

The landlord and Sancho consented, and then Master Pedro picked up from
the ground King Marsilio of Saragossa with his head off, and said,
“Here you see how impossible it is to restore this king to his former
state, so I think, saving your better judgments, that for his death,
decease, and demise, four reals and a half may be given me.”

“Proceed,” said Don Quixote.

“Well then, for this cleavage from top to bottom,” continued Master
Pedro, taking up the split Emperor Charlemagne, “it would not be much
if I were to ask five reals and a quarter.”

“It’s not little,” said Sancho.

“Nor is it much,” said the landlord; “make it even, and say five
reals.”

“Let him have the whole five and a quarter,” said Don Quixote; “for the
sum total of this notable disaster does not stand on a quarter more or
less; and make an end of it quickly, Master Pedro, for it’s getting on
to supper-time, and I have some hints of hunger.”

“For this figure,” said Master Pedro, “that is without a nose, and
wants an eye, and is the fair Melisendra, I ask, and I am reasonable in
my charge, two reals and twelve maravedis.”

“The very devil must be in it,” said Don Quixote, “if Melisendra and
her husband are not by this time at least on the French border, for the
horse they rode on seemed to me to fly rather than gallop; so you
needn’t try to sell me the cat for the hare, showing me here a noseless
Melisendra when she is now, may be, enjoying herself at her ease with
her husband in France. God help every one to his own, Master Pedro, and
let us all proceed fairly and honestly; and now go on.”

Master Pedro, perceiving that Don Quixote was beginning to wander, and
return to his original fancy, was not disposed to let him escape, so he
said to him, “This cannot be Melisendra, but must be one of the damsels
that waited on her; so if I’m given sixty maravedis for her, I’ll be
content and sufficiently paid.”

And so he went on, putting values on ever so many more smashed figures,
which, after the two arbitrators had adjusted them to the satisfaction
of both parties, came to forty reals and three-quarters; and over and
above this sum, which Sancho at once disbursed, Master Pedro asked for
two reals for his trouble in catching the ape.

“Let him have them, Sancho,” said Don Quixote; “not to catch the ape,
but to get drunk; and two hundred would I give this minute for the good
news, to anyone who could tell me positively, that the lady Doña
Melisandra and Señor Don Gaiferos were now in France and with their own
people.”

“No one could tell us that better than my ape,” said Master Pedro; “but
there’s no devil that could catch him now; I suspect, however, that
affection and hunger will drive him to come looking for me to-night;
but to-morrow will soon be here and we shall see.”

In short, the puppet-show storm passed off, and all supped in peace and
good fellowship at Don Quixote’s expense, for he was the height of
generosity. Before it was daylight the man with the lances and halberds
took his departure, and soon after daybreak the cousin and the page
came to bid Don Quixote farewell, the former returning home, the latter
resuming his journey, towards which, to help him, Don Quixote gave him
twelve reals. Master Pedro did not care to engage in any more palaver
with Don Quixote, whom he knew right well; so he rose before the sun,
and having got together the remains of his show and caught his ape, he
too went off to seek his adventures. The landlord, who did not know Don
Quixote, was as much astonished at his mad freaks as at his generosity.
To conclude, Sancho, by his master’s orders, paid him very liberally,
and taking leave of him they quitted the inn at about eight in the
morning and took to the road, where we will leave them to pursue their
journey, for this is necessary in order to allow certain other matters
to be set forth, which are required to clear up this famous history.



p26e.jpg (34K)



CHAPTER XXVII.
WHEREIN IT IS SHOWN WHO MASTER PEDRO AND HIS APE WERE, TOGETHER WITH
THE MISHAP DON QUIXOTE HAD IN THE BRAYING ADVENTURE, WHICH HE DID NOT
CONCLUDE AS HE WOULD HAVE LIKED OR AS HE HAD EXPECTED




p27a.jpg (135K)

Full Size



Cide Hamete, the chronicler of this great history, begins this chapter
with these words, “I swear as a Catholic Christian;” with regard to
which his translator says that Cide Hamete’s swearing as a Catholic
Christian, he being—as no doubt he was—a Moor, only meant that, just as
a Catholic Christian taking an oath swears, or ought to swear, what is
true, and tell the truth in what he avers, so he was telling the truth,
as much as if he swore as a Catholic Christian, in all he chose to
write about Quixote, especially in declaring who Master Pedro was and
what was the divining ape that astonished all the villages with his
divinations. He says, then, that he who has read the First Part of this
history will remember well enough the Gines de Pasamonte whom, with
other galley slaves, Don Quixote set free in the Sierra Morena: a
kindness for which he afterwards got poor thanks and worse payment from
that evil-minded, ill-conditioned set. This Gines de Pasamonte—Don
Ginesillo de Parapilla, Don Quixote called him—it was that stole Dapple
from Sancho Panza; which, because by the fault of the printers neither
the how nor the when was stated in the First Part, has been a puzzle to
a good many people, who attribute to the bad memory of the author what
was the error of the press. In fact, however, Gines stole him while
Sancho Panza was asleep on his back, adopting the plan and device that
Brunello had recourse to when he stole Sacripante’s horse from between
his legs at the siege of Albracca; and, as has been told, Sancho
afterwards recovered him. This Gines, then, afraid of being caught by
the officers of justice, who were looking for him to punish him for his
numberless rascalities and offences (which were so many and so great
that he himself wrote a big book giving an account of them), resolved
to shift his quarters into the kingdom of Aragon, and cover up his left
eye, and take up the trade of a puppet-showman; for this, as well as
juggling, he knew how to practise to perfection. From some released
Christians returning from Barbary, it so happened, he bought the ape,
which he taught to mount upon his shoulder on his making a certain
sign, and to whisper, or seem to do so, in his ear. Thus prepared,
before entering any village whither he was bound with his show and his
ape, he used to inform himself at the nearest village, or from the most
likely person he could find, as to what particular things had happened
there, and to whom; and bearing them well in mind, the first thing he
did was to exhibit his show, sometimes one story, sometimes another,
but all lively, amusing, and familiar. As soon as the exhibition was
over he brought forward the accomplishments of his ape, assuring the
public that he divined all the past and the present, but as to the
future he had no skill. For each question answered he asked two reals,
and for some he made a reduction, just as he happened to feel the pulse
of the questioners; and when now and then he came to houses where
things that he knew of had happened to the people living there, even if
they did not ask him a question, not caring to pay for it, he would
make the sign to the ape and then declare that it had said so and so,
which fitted the case exactly. In this way he acquired a prodigious
name and all ran after him; on other occasions, being very crafty, he
would answer in such a way that the answers suited the questions; and
as no one cross-questioned him or pressed him to tell how his ape
divined, he made fools of them all and filled his pouch. The instant he
entered the inn he knew Don Quixote and Sancho, and with that knowledge
it was easy for him to astonish them and all who were there; but it
would have cost him dear had Don Quixote brought down his hand a little
lower when he cut off King Marsilio’s head and destroyed all his
horsemen, as related in the preceeding chapter.

So much for Master Pedro and his ape; and now to return to Don Quixote
of La Mancha. After he had left the inn he determined to visit, first
of all, the banks of the Ebro and that neighbourhood, before entering
the city of Saragossa, for the ample time there was still to spare
before the jousts left him enough for all. With this object in view he
followed the road and travelled along it for two days, without meeting
any adventure worth committing to writing until on the third day, as he
was ascending a hill, he heard a great noise of drums, trumpets, and
musket-shots. At first he imagined some regiment of soldiers was
passing that way, and to see them he spurred Rocinante and mounted the
hill. On reaching the top he saw at the foot of it over two hundred
men, as it seemed to him, armed with weapons of various sorts, lances,
crossbows, partisans, halberds, and pikes, and a few muskets and a
great many bucklers. He descended the slope and approached the band
near enough to see distinctly the flags, make out the colours and
distinguish the devices they bore, especially one on a standard or
ensign of white satin, on which there was painted in a very life-like
style an ass like a little sard, with its head up, its mouth open and
its tongue out, as if it were in the act and attitude of braying; and
round it were inscribed in large characters these two lines—

They did not bray in vain,
Our alcaldes twain.


From this device Don Quixote concluded that these people must be from
the braying town, and he said so to Sancho, explaining to him what was
written on the standard. At the same time be observed that the man who
had told them about the matter was wrong in saying that the two who
brayed were regidors, for according to the lines of the standard they
were alcaldes. To which Sancho replied, “Señor, there’s nothing to
stick at in that, for maybe the regidors who brayed then came to be
alcaldes of their town afterwards, and so they may go by both titles;
moreover, it has nothing to do with the truth of the story whether the
brayers were alcaldes or regidors, provided at any rate they did bray;
for an alcalde is just as likely to bray as a regidor.” They perceived,
in short, clearly that the town which had been twitted had turned out
to do battle with some other that had jeered it more than was fair or
neighbourly.

Don Quixote proceeded to join them, not a little to Sancho’s
uneasiness, for he never relished mixing himself up in expeditions of
that sort. The members of the troop received him into the midst of
them, taking him to be someone who was on their side. Don Quixote,
putting up his visor, advanced with an easy bearing and demeanour to
the standard with the ass, and all the chief men of the army gathered
round him to look at him, staring at him with the usual amazement that
everybody felt on seeing him for the first time. Don Quixote, seeing
them examining him so attentively, and that none of them spoke to him
or put any question to him, determined to take advantage of their
silence; so, breaking his own, he lifted up his voice and said, “Worthy
sirs, I entreat you as earnestly as I can not to interrupt an argument
I wish to address to you, until you find it displeases or wearies you;
and if that come to pass, on the slightest hint you give me I will put
a seal upon my lips and a gag upon my tongue.”

They all bade him say what he liked, for they would listen to him
willingly.



p27b.jpg (330K)

Full Size



With this permission Don Quixote went on to say, “I, sirs, am a
knight-errant whose calling is that of arms, and whose profession is to
protect those who require protection, and give help to such as stand in
need of it. Some days ago I became acquainted with your misfortune and
the cause which impels you to take up arms again and again to revenge
yourselves upon your enemies; and having many times thought over your
business in my mind, I find that, according to the laws of combat, you
are mistaken in holding yourselves insulted; for a private individual
cannot insult an entire community; unless it be by defying it
collectively as a traitor, because he cannot tell who in particular is
guilty of the treason for which he defies it. Of this we have an
example in Don Diego Ordoñez de Lara, who defied the whole town of
Zamora, because he did not know that Vellido Dolfos alone had committed
the treachery of slaying his king; and therefore he defied them all,
and the vengeance and the reply concerned all; though, to be sure,
Señor Don Diego went rather too far, indeed very much beyond the limits
of a defiance; for he had no occasion to defy the dead, or the waters,
or the fishes, or those yet unborn, and all the rest of it as set
forth; but let that pass, for when anger breaks out there’s no father,
governor, or bridle to check the tongue. The case being, then, that no
one person can insult a kingdom, province, city, state, or entire
community, it is clear there is no reason for going out to avenge the
defiance of such an insult, inasmuch as it is not one. A fine thing it
would be if the people of the clock town were to be at loggerheads
every moment with everyone who called them by that name,—or the
Cazoleros, Berengeneros, Ballenatos, Jaboneros, or the bearers of all
the other names and titles that are always in the mouth of the boys and
common people! It would be a nice business indeed if all these
illustrious cities were to take huff and revenge themselves and go
about perpetually making trombones of their swords in every petty
quarrel! No, no; God forbid! There are four things for which sensible
men and well-ordered States ought to take up arms, draw their swords,
and risk their persons, lives, and properties. The first is to defend
the Catholic faith; the second, to defend one’s life, which is in
accordance with natural and divine law; the third, in defence of one’s
honour, family, and property; the fourth, in the service of one’s king
in a just war; and if to these we choose to add a fifth (which may be
included in the second), in defence of one’s country. To these five, as
it were capital causes, there may be added some others that may be just
and reasonable, and make it a duty to take up arms; but to take them up
for trifles and things to laugh at and be amused by rather than
offended, looks as though he who did so was altogether wanting in
common sense. Moreover, to take an unjust revenge (and there cannot be
any just one) is directly opposed to the sacred law that we
acknowledge, wherein we are commanded to do good to our enemies and to
love them that hate us; a command which, though it seems somewhat
difficult to obey, is only so to those who have in them less of God
than of the world, and more of the flesh than of the spirit; for Jesus
Christ, God and true man, who never lied, and could not and cannot lie,
said, as our law-giver, that his yoke was easy and his burden light; he
would not, therefore, have laid any command upon us that it was
impossible to obey. Thus, sirs, you are bound to keep quiet by human
and divine law.”

“The devil take me,” said Sancho to himself at this, “but this master
of mine is a theologian; or, if not, faith, he’s as like one as one egg
is like another.”

Don Quixote stopped to take breath, and, observing that silence was
still preserved, had a mind to continue his discourse, and would have
done so had not Sancho interposed with his smartness; for he, seeing
his master pause, took the lead, saying, “My lord Don Quixote of La
Mancha, who once was called the Knight of the Rueful Countenance, but
now is called the Knight of the Lions, is a gentleman of great
discretion who knows Latin and his mother tongue like a bachelor, and
in everything that he deals with or advises proceeds like a good
soldier, and has all the laws and ordinances of what they call combat
at his fingers’ ends; so you have nothing to do but to let yourselves
be guided by what he says, and on my head be it if it is wrong. Besides
which, you have been told that it is folly to take offence at merely
hearing a bray. I remember when I was a boy I brayed as often as I had
a fancy, without anyone hindering me, and so elegantly and naturally
that when I brayed all the asses in the town would bray; but I was none
the less for that the son of my parents who were greatly respected; and
though I was envied because of the gift by more than one of the high
and mighty ones of the town, I did not care two farthings for it; and
that you may see I am telling the truth, wait a bit and listen, for
this art, like swimming, once learnt is never forgotten;” and then,
taking hold of his nose, he began to bray so vigorously that all the
valleys around rang again.

One of those, however, that stood near him, fancying he was mocking
them, lifted up a long staff he had in his hand and smote him such a
blow with it that Sancho dropped helpless to the ground. Don Quixote,
seeing him so roughly handled, attacked the man who had struck him
lance in hand, but so many thrust themselves between them that he could
not avenge him. Far from it, finding a shower of stones rained upon
him, and crossbows and muskets unnumbered levelled at him, he wheeled
Rocinante round and, as fast as his best gallop could take him, fled
from the midst of them, commending himself to God with all his heart to
deliver him out of this peril, in dread every step of some ball coming
in at his back and coming out at his breast, and every minute drawing
his breath to see whether it had gone from him. The members of the
band, however, were satisfied with seeing him take to flight, and did
not fire on him. They put up Sancho, scarcely restored to his senses,
on his ass, and let him go after his master; not that he was
sufficiently in his wits to guide the beast, but Dapple followed the
footsteps of Rocinante, from whom he could not remain a moment
separated. Don Quixote having got some way off looked back, and seeing
Sancho coming, waited for him, as he perceived that no one followed
him. The men of the troop stood their ground till night, and as the
enemy did not come out to battle, they returned to their town exulting;
and had they been aware of the ancient custom of the Greeks, they would
have erected a trophy on the spot.



p27e.jpg (47K)

Full Size



CHAPTER XXVIII.
OF MATTERS THAT BENENGELI SAYS HE WHO READS THEM WILL KNOW, IF HE READS
THEM WITH ATTENTION




p28a.jpg (111K)

Full Size



When the brave man flees, treachery is manifest and it is for wise men
to reserve themselves for better occasions. This proved to be the case
with Don Quixote, who, giving way before the fury of the townsfolk and
the hostile intentions of the angry troop, took to flight and, without
a thought of Sancho or the danger in which he was leaving him,
retreated to such a distance as he thought made him safe. Sancho, lying
across his ass, followed him, as has been said, and at length came up,
having by this time recovered his senses, and on joining him let
himself drop off Dapple at Rocinante’s feet, sore, bruised, and
belaboured. Don Quixote dismounted to examine his wounds, but finding
him whole from head to foot, he said to him, angrily enough, “In an
evil hour didst thou take to braying, Sancho! Where hast thou learned
that it is well done to mention the rope in the house of the man that
has been hanged? To the music of brays what harmonies couldst thou
expect to get but cudgels? Give thanks to God, Sancho, that they signed
the cross on thee just now with a stick, and did not mark thee _per
signum crucis_ with a cutlass.”

“I’m not equal to answering,” said Sancho, “for I feel as if I was
speaking through my shoulders; let us mount and get away from this;
I’ll keep from braying, but not from saying that knights-errant fly and
leave their good squires to be pounded like privet, or made meal of at
the hands of their enemies.”

“He does not fly who retires,” returned Don Quixote; “for I would have
thee know, Sancho, that the valour which is not based upon a foundation
of prudence is called rashness, and the exploits of the rash man are to
be attributed rather to good fortune than to courage; and so I own that
I retired, but not that I fled; and therein I have followed the example
of many valiant men who have reserved themselves for better times; the
histories are full of instances of this, but as it would not be any
good to thee or pleasure to me, I will not recount them to thee now.”

Sancho was by this time mounted with the help of Don Quixote, who then
himself mounted Rocinante, and at a leisurely pace they proceeded to
take shelter in a grove which was in sight about a quarter of a league
off. Every now and then Sancho gave vent to deep sighs and dismal
groans, and on Don Quixote asking him what caused such acute suffering,
he replied that, from the end of his back-bone up to the nape of his
neck, he was so sore that it nearly drove him out of his senses.

“The cause of that soreness,” said Don Quixote, “will be, no doubt,
that the staff wherewith they smote thee being a very long one, it
caught thee all down the back, where all the parts that are sore are
situated, and had it reached any further thou wouldst be sorer still.”

“By God,” said Sancho, “your worship has relieved me of a great doubt,
and cleared up the point for me in elegant style! Body o’ me! is the
cause of my soreness such a mystery that there’s any need to tell me I
am sore everywhere the staff hit me? If it was my ankles that pained me
there might be something in going divining why they did, but it is not
much to divine that I’m sore where they thrashed me. By my faith,
master mine, the ills of others hang by a hair; every day I am
discovering more and more how little I have to hope for from keeping
company with your worship; for if this time you have allowed me to be
drubbed, the next time, or a hundred times more, we’ll have the
blanketings of the other day over again, and all the other pranks
which, if they have fallen on my shoulders now, will be thrown in my
teeth by-and-by. I would do a great deal better (if I was not an
ignorant brute that will never do any good all my life), I would do a
great deal better, I say, to go home to my wife and children and
support them and bring them up on what God may please to give me,
instead of following your worship along roads that lead nowhere and
paths that are none at all, with little to drink and less to eat. And
then when it comes to sleeping! Measure out seven feet on the earth,
brother squire, and if that’s not enough for you, take as many more,
for you may have it all your own way and stretch yourself to your
heart’s content. Oh that I could see burnt and turned to ashes the
first man that meddled with knight-errantry or at any rate the first
who chose to be squire to such fools as all the knights-errant of past
times must have been! Of those of the present day I say nothing,
because, as your worship is one of them, I respect them, and because I
know your worship knows a point more than the devil in all you say and
think.”

“I would lay a good wager with you, Sancho,” said Don Quixote, “that
now that you are talking on without anyone to stop you, you don’t feel
a pain in your whole body. Talk away, my son, say whatever comes into
your head or mouth, for so long as you feel no pain, the irritation
your impertinences give me will be a pleasure to me; and if you are so
anxious to go home to your wife and children, God forbid that I should
prevent you; you have money of mine; see how long it is since we left
our village this third time, and how much you can and ought to earn
every month, and pay yourself out of your own hand.”

“When I worked for Tom Carrasco, the father of the bachelor Samson
Carrasco that your worship knows,” replied Sancho, “I used to earn two
ducats a month besides my food; I can’t tell what I can earn with your
worship, though I know a knight-errant’s squire has harder times of it
than he who works for a farmer; for after all, we who work for farmers,
however much we toil all day, at the worst, at night, we have our olla
supper and sleep in a bed, which I have not slept in since I have been
in your worship’s service, if it wasn’t the short time we were in Don
Diego de Miranda’s house, and the feast I had with the skimmings I took
off Camacho’s pots, and what I ate, drank, and slept in Basilio’s
house; all the rest of the time I have been sleeping on the hard ground
under the open sky, exposed to what they call the inclemencies of
heaven, keeping life in me with scraps of cheese and crusts of bread,
and drinking water either from the brooks or from the springs we come
to on these by-paths we travel.”

“I own, Sancho,” said Don Quixote, “that all thou sayest is true; how
much, thinkest thou, ought I to give thee over and above what Tom
Carrasco gave thee?”

“I think,” said Sancho, “that if your worship was to add on two reals a
month I’d consider myself well paid; that is, as far as the wages of my
labour go; but to make up to me for your worship’s pledge and promise
to me to give me the government of an island, it would be fair to add
six reals more, making thirty in all.”

“Very good,” said Don Quixote; “it is twenty-five days since we left
our village, so reckon up, Sancho, according to the wages you have made
out for yourself, and see how much I owe you in proportion, and pay
yourself, as I said before, out of your own hand.”

“O body o’ me!” said Sancho, “but your worship is very much out in that
reckoning; for when it comes to the promise of the island we must count
from the day your worship promised it to me to this present hour we are
at now.”

“Well, how long is it, Sancho, since I promised it to you?” said Don
Quixote.

“If I remember rightly,” said Sancho, “it must be over twenty years,
three days more or less.”

Don Quixote gave himself a great slap on the forehead and began to
laugh heartily, and said he, “Why, I have not been wandering, either in
the Sierra Morena or in the whole course of our sallies, but barely two
months, and thou sayest, Sancho, that it is twenty years since I
promised thee the island. I believe now thou wouldst have all the money
thou hast of mine go in thy wages. If so, and if that be thy pleasure,
I give it to thee now, once and for all, and much good may it do thee,
for so long as I see myself rid of such a good-for-nothing squire I’ll
be glad to be left a pauper without a rap. But tell me, thou perverter
of the squirely rules of knight-errantry, where hast thou ever seen or
read that any knight-errant’s squire made terms with his lord, ‘you
must give me so much a month for serving you’? Plunge, scoundrel,
rogue, monster—for such I take thee to be—plunge, I say, into the _mare
magnum_ of their histories; and if thou shalt find that any squire ever
said or thought what thou hast said now, I will let thee nail it on my
forehead, and give me, over and above, four sound slaps in the face.
Turn the rein, or the halter, of thy Dapple, and begone home; for one
single step further thou shalt not make in my company. O bread
thanklessly received! O promises ill-bestowed! O man more beast than
human being! Now, when I was about to raise thee to such a position,
that, in spite of thy wife, they would call thee ‘my lord,’ thou art
leaving me? Thou art going now when I had a firm and fixed intention of
making thee lord of the best island in the world? Well, as thou thyself
hast said before now, honey is not for the mouth of the ass. Ass thou
art, ass thou wilt be, and ass thou wilt end when the course of thy
life is run; for I know it will come to its close before thou dost
perceive or discern that thou art a beast.”

Sancho regarded Don Quixote earnestly while he was giving him this
rating, and was so touched by remorse that the tears came to his eyes,
and in a piteous and broken voice he said to him, “Master mine, I
confess that, to be a complete ass, all I want is a tail; if your
worship will only fix one on to me, I’ll look on it as rightly placed,
and I’ll serve you as an ass all the remaining days of my life. Forgive
me and have pity on my folly, and remember I know but little, and, if I
talk much, it’s more from infirmity than malice; but he who sins and
mends commends himself to God.”

“I should have been surprised, Sancho,” said Don Quixote, “if thou
hadst not introduced some bit of a proverb into thy speech. Well, well,
I forgive thee, provided thou dost mend and not show thyself in future
so fond of thine own interest, but try to be of good cheer and take
heart, and encourage thyself to look forward to the fulfillment of my
promises, which, by being delayed, does not become impossible.”

Sancho said he would do so, and keep up his heart as best he could.
They then entered the grove, and Don Quixote settled himself at the
foot of an elm, and Sancho at that of a beech, for trees of this kind
and others like them always have feet but no hands. Sancho passed the
night in pain, for with the evening dews the blow of the staff made
itself felt all the more. Don Quixote passed it in his never-failing
meditations; but, for all that, they had some winks of sleep, and with
the appearance of daylight they pursued their journey in quest of the
banks of the famous Ebro, where that befell them which will be told in
the following chapter.



p28e.jpg (36K)



CHAPTER XXIX.
OF THE FAMOUS ADVENTURE OF THE ENCHANTED BARK




p29a.jpg (127K)

Full Size



By stages as already described or left undescribed, two days after
quitting the grove Don Quixote and Sancho reached the river Ebro, and
the sight of it was a great delight to Don Quixote as he contemplated
and gazed upon the charms of its banks, the clearness of its stream,
the gentleness of its current and the abundance of its crystal waters;
and the pleasant view revived a thousand tender thoughts in his mind.
Above all, he dwelt upon what he had seen in the cave of Montesinos;
for though Master Pedro’s ape had told him that of those things part
was true, part false, he clung more to their truth than to their
falsehood, the very reverse of Sancho, who held them all to be
downright lies.

As they were thus proceeding, then, they discovered a small boat,
without oars or any other gear, that lay at the water’s edge tied to
the stem of a tree growing on the bank. Don Quixote looked all round,
and seeing nobody, at once, without more ado, dismounted from Rocinante
and bade Sancho get down from Dapple and tie both beasts securely to
the trunk of a poplar or willow that stood there. Sancho asked him the
reason of this sudden dismounting and tying. Don Quixote made answer,
“Thou must know, Sancho, that this bark is plainly, and without the
possibility of any alternative, calling and inviting me to enter it,
and in it go to give aid to some knight or other person of distinction
in need of it, who is no doubt in some sore strait; for this is the way
of the books of chivalry and of the enchanters who figure and speak in
them. When a knight is involved in some difficulty from which he cannot
be delivered save by the hand of another knight, though they may be at
a distance of two or three thousand leagues or more one from the other,
they either take him up on a cloud, or they provide a bark for him to
get into, and in less than the twinkling of an eye they carry him where
they will and where his help is required; and so, Sancho, this bark is
placed here for the same purpose; this is as true as that it is now
day, and ere this one passes tie Dapple and Rocinante together, and
then in God’s hand be it to guide us; for I would not hold back from
embarking, though barefooted friars were to beg me.”

“As that’s the case,” said Sancho, “and your worship chooses to give in
to these—I don’t know if I may call them absurdities—at every turn,
there’s nothing for it but to obey and bow the head, bearing in mind
the proverb, ‘Do as thy master bids thee, and sit down to table with
him;’ but for all that, for the sake of easing my conscience, I warn
your worship that it is my opinion this bark is no enchanted one, but
belongs to some of the fishermen of the river, for they catch the best
shad in the world here.”

As Sancho said this, he tied the beasts, leaving them to the care and
protection of the enchanters with sorrow enough in his heart. Don
Quixote bade him not be uneasy about deserting the animals, “for he who
would carry themselves over such longinquous roads and regions would
take care to feed them.”

“I don’t understand that logiquous,” said Sancho, “nor have I ever
heard the word all the days of my life.”

“Longinquous,” replied Don Quixote, “means far off; but it is no wonder
thou dost not understand it, for thou art not bound to know Latin, like
some who pretend to know it and don’t.”

“Now they are tied,” said Sancho; “what are we to do next?”

“What?” said Don Quixote, “cross ourselves and weigh anchor; I mean,
embark and cut the moorings by which the bark is held;” and the bark
began to drift away slowly from the bank. But when Sancho saw himself
somewhere about two yards out in the river, he began to tremble and
give himself up for lost; but nothing distressed him more than hearing
Dapple bray and seeing Rocinante struggling to get loose, and said he
to his master, “Dapple is braying in grief at our leaving him, and
Rocinante is trying to escape and plunge in after us. O dear friends,
peace be with you, and may this madness that is taking us away from
you, turned into sober sense, bring us back to you.” And with this he
fell weeping so bitterly, that Don Quixote said to him, sharply and
angrily, “What art thou afraid of, cowardly creature? What art thou
weeping at, heart of butter-paste? Who pursues or molests thee, thou
soul of a tame mouse? What dost thou want, unsatisfied in the very
heart of abundance? Art thou, perchance, tramping barefoot over the
Riphaean mountains, instead of being seated on a bench like an archduke
on the tranquil stream of this pleasant river, from which in a short
space we shall come out upon the broad sea? But we must have already
emerged and gone seven hundred or eight hundred leagues; and if I had
here an astrolabe to take the altitude of the pole, I could tell thee
how many we have travelled, though either I know little, or we have
already crossed or shall shortly cross the equinoctial line which parts
the two opposite poles midway.”

“And when we come to that line your worship speaks of,” said Sancho,
“how far shall we have gone?”

“Very far,” said Don Quixote, “for of the three hundred and sixty
degrees that this terraqueous globe contains, as computed by Ptolemy,
the greatest cosmographer known, we shall have travelled one-half when
we come to the line I spoke of.”

“By God,” said Sancho, “your worship gives me a nice authority for what
you say, putrid Dolly something transmogrified, or whatever it is.”

Don Quixote laughed at the interpretation Sancho put upon “computed,”
and the name of the cosmographer Ptolemy, and said he, “Thou must know,
Sancho, that with the Spaniards and those who embark at Cadiz for the
East Indies, one of the signs they have to show them when they have
passed the equinoctial line I told thee of, is, that the lice die upon
everybody on board the ship, and not a single one is left, or to be
found in the whole vessel if they gave its weight in gold for it; so,
Sancho, thou mayest as well pass thy hand down thy thigh, and if thou
comest upon anything alive we shall be no longer in doubt; if not, then
we have crossed.”

“I don’t believe a bit of it,” said Sancho; “still, I’ll do as your
worship bids me; though I don’t know what need there is for trying
these experiments, for I can see with my own eyes that we have not
moved five yards away from the bank, or shifted two yards from where
the animals stand, for there are Rocinante and Dapple in the very same
place where we left them; and watching a point, as I do now, I swear by
all that’s good, we are not stirring or moving at the pace of an ant.”

“Try the test I told thee of, Sancho,” said Don Quixote, “and don’t
mind any other, for thou knowest nothing about colures, lines,
parallels, zodiacs, ecliptics, poles, solstices, equinoxes, planets,
signs, bearings, the measures of which the celestial and terrestrial
spheres are composed; if thou wert acquainted with all these things, or
any portion of them, thou wouldst see clearly how many parallels we
have cut, what signs we have seen, and what constellations we have left
behind and are now leaving behind. But again I tell thee, feel and
hunt, for I am certain thou art cleaner than a sheet of smooth white
paper.”

Sancho felt, and passing his hand gently and carefully down to the
hollow of his left knee, he looked up at his master and said, “Either
the test is a false one, or we have not come to where your worship
says, nor within many leagues of it.”

“Why, how so?” asked Don Quixote; “hast thou come upon aught?”

“Ay, and aughts,” replied Sancho; and shaking his fingers he washed his
whole hand in the river along which the boat was quietly gliding in
midstream, not moved by any occult intelligence or invisible enchanter,
but simply by the current, just there smooth and gentle.

They now came in sight of some large water mills that stood in the
middle of the river, and the instant Don Quixote saw them he cried out,
“Seest thou there, my friend? there stands the castle or fortress,
where there is, no doubt, some knight in durance, or ill-used queen, or
infanta, or princess, in whose aid I am brought hither.”

“What the devil city, fortress, or castle is your worship talking
about, señor?” said Sancho; “don’t you see that those are mills that
stand in the river to grind corn?”

“Hold thy peace, Sancho,” said Don Quixote; “though they look like
mills they are not so; I have already told thee that enchantments
transform things and change their proper shapes; I do not mean to say
they really change them from one form into another, but that it seems
as though they did, as experience proved in the transformation of
Dulcinea, sole refuge of my hopes.”

By this time, the boat, having reached the middle of the stream, began
to move less slowly than hitherto. The millers belonging to the mills,
when they saw the boat coming down the river, and on the point of being
sucked in by the draught of the wheels, ran out in haste, several of
them, with long poles to stop it, and being all mealy, with faces and
garments covered with flour, they presented a sinister appearance. They
raised loud shouts, crying, “Devils of men, where are you going to? Are
you mad? Do you want to drown yourselves, or dash yourselves to pieces
among these wheels?”

“Did I not tell thee, Sancho,” said Don Quixote at this, “that we had
reached the place where I am to show what the might of my arm can do?
See what ruffians and villains come out against me; see what monsters
oppose me; see what hideous countenances come to frighten us! You shall
soon see, scoundrels!” And then standing up in the boat he began in a
loud voice to hurl threats at the millers, exclaiming, “Ill-conditioned
and worse-counselled rabble, restore to liberty and freedom the person
ye hold in durance in this your fortress or prison, high or low or of
whatever rank or quality he be, for I am Don Quixote of La Mancha,
otherwise called the Knight of the Lions, for whom, by the disposition
of heaven above, it is reserved to give a happy issue to this
adventure;” and so saying he drew his sword and began making passes in
the air at the millers, who, hearing but not understanding all this
nonsense, strove to stop the boat, which was now getting into the
rushing channel of the wheels. Sancho fell upon his knees devoutly
appealing to heaven to deliver him from such imminent peril; which it
did by the activity and quickness of the millers, who, pushing against
the boat with their poles, stopped it, not, however, without upsetting
and throwing Don Quixote and Sancho into the water; and lucky it was
for Don Quixote that he could swim like a goose, though the weight of
his armour carried him twice to the bottom; and had it not been for the
millers, who plunged in and hoisted them both out, it would have been
Troy town with the pair of them. As soon as, more drenched than
thirsty, they were landed, Sancho went down on his knees and with
clasped hands and eyes raised to heaven, prayed a long and fervent
prayer to God to deliver him evermore from the rash projects and
attempts of his master. The fishermen, the owners of the boat, which
the mill-wheels had knocked to pieces, now came up, and seeing it
smashed they proceeded to strip Sancho and to demand payment for it
from Don Quixote; but he with great calmness, just as if nothing had
happened him, told the millers and fishermen that he would pay for the
bark most cheerfully, on condition that they delivered up to him, free
and unhurt, the person or persons that were in durance in that castle
of theirs.



p29b.jpg (314K)

Full Size



“What persons or what castle art thou talking of, madman? Art thou for
carrying off the people who come to grind corn in these mills?”

“That’s enough,” said Don Quixote to himself, “it would be preaching in
the desert to attempt by entreaties to induce this rabble to do any
virtuous action. In this adventure two mighty enchanters must have
encountered one another, and one frustrates what the other attempts;
one provided the bark for me, and the other upset me; God help us, this
world is all machinations and schemes at cross purposes one with the
other. I can do no more.” And then turning towards the mills he said
aloud, “Friends, whoe’er ye be that are immured in that prison, forgive
me that, to my misfortune and yours, I cannot deliver you from your
misery; this adventure is doubtless reserved and destined for some
other knight.”

So saying he settled with the fishermen, and paid fifty reals for the
boat, which Sancho handed to them very much against the grain, saying,
“With a couple more bark businesses like this we shall have sunk our
whole capital.”

The fishermen and the millers stood staring in amazement at the two
figures, so very different to all appearance from ordinary men, and
were wholly unable to make out the drift of the observations and
questions Don Quixote addressed to them; and coming to the conclusion
that they were madmen, they left them and betook themselves, the
millers to their mills, and the fishermen to their huts. Don Quixote
and Sancho returned to their beasts, and to their life of beasts, and
so ended the adventure of the enchanted bark.



p29e.jpg (54K)



CHAPTER XXX.
OF DON QUIXOTE’S ADVENTURE WITH A FAIR HUNTRESS




p30a.jpg (134K)

Full Size



They reached their beasts in low spirits and bad humour enough, knight
and squire, Sancho particularly, for with him what touched the stock of
money touched his heart, and when any was taken from him he felt as if
he was robbed of the apples of his eyes. In fine, without exchanging a
word, they mounted and quitted the famous river, Don Quixote absorbed
in thoughts of his love, Sancho in thinking of his advancement, which
just then, it seemed to him, he was very far from securing; for, fool
as he was, he saw clearly enough that his master’s acts were all or
most of them utterly senseless; and he began to cast about for an
opportunity of retiring from his service and going home some day,
without entering into any explanations or taking any farewell of him.
Fortune, however, ordered matters after a fashion very much the
opposite of what he contemplated.

It so happened that the next day towards sunset, on coming out of a
wood, Don Quixote cast his eyes over a green meadow, and at the far end
of it observed some people, and as he drew nearer saw that it was a
hawking party. Coming closer, he distinguished among them a lady of
graceful mien, on a pure white palfrey or hackney caparisoned with
green trappings and a silver-mounted side-saddle. The lady was also in
green, and so richly and splendidly dressed that splendour itself
seemed personified in her. On her left hand she bore a hawk, a proof to
Don Quixote’s mind that she must be some great lady and the mistress of
the whole hunting party, which was the fact; so he said to Sancho, “Run
Sancho, my son, and say to that lady on the palfrey with the hawk that
I, the Knight of the Lions, kiss the hands of her exalted beauty, and
if her excellence will grant me leave I will go and kiss them in person
and place myself at her service for aught that may be in my power and
her highness may command; and mind, Sancho, how thou speakest, and take
care not to thrust in any of thy proverbs into thy message.”



p30b.jpg (334K)

Full Size



“You’ve got a likely one here to thrust any in!” said Sancho; “leave me
alone for that! Why, this is not the first time in my life I have
carried messages to high and exalted ladies.”

“Except that thou didst carry to the lady Dulcinea,” said Don Quixote,
“I know not that thou hast carried any other, at least in my service.”

“That is true,” replied Sancho; “but pledges don’t distress a good
payer, and in a house where there’s plenty supper is soon cooked; I
mean there’s no need of telling or warning me about anything; for I’m
ready for everything and know a little of everything.”

“That I believe, Sancho,” said Don Quixote; “go and good luck to thee,
and God speed thee.”

Sancho went off at top speed, forcing Dapple out of his regular pace,
and came to where the fair huntress was standing, and dismounting knelt
before her and said, “Fair lady, that knight that you see there, the
Knight of the Lions by name, is my master, and I am a squire of his,
and at home they call me Sancho Panza. This same Knight of the Lions,
who was called not long since the Knight of the Rueful Countenance,
sends by me to say may it please your highness to give him leave that,
with your permission, approbation, and consent, he may come and carry
out his wishes, which are, as he says and I believe, to serve your
exalted loftiness and beauty; and if you give it, your ladyship will do
a thing which will redound to your honour, and he will receive a most
distinguished favour and happiness.”

“You have indeed, squire,” said the lady, “delivered your message with
all the formalities such messages require; rise up, for it is not right
that the squire of a knight so great as he of the Rueful Countenance,
of whom we have heard a great deal here, should remain on his knees;
rise, my friend, and bid your master welcome to the services of myself
and the duke my husband, in a country house we have here.”

Sancho got up, charmed as much by the beauty of the good lady as by her
high-bred air and her courtesy, but, above all, by what she had said
about having heard of his master, the Knight of the Rueful Countenance;
for if she did not call him Knight of the Lions it was no doubt because
he had so lately taken the name. “Tell me, brother squire,” asked the
duchess (whose title, however, is not known), “this master of yours, is
he not one of whom there is a history extant in print, called ‘The
Ingenious Gentleman, Don Quixote of La Mancha,’ who has for the lady of
his heart a certain Dulcinea del Toboso?”

“He is the same, señora,” replied Sancho; “and that squire of his who
figures, or ought to figure, in the said history under the name of
Sancho Panza, is myself, unless they have changed me in the cradle, I
mean in the press.”

“I am rejoiced at all this,” said the duchess; “go, brother Panza, and
tell your master that he is welcome to my estate, and that nothing
could happen to me that could give me greater pleasure.”

Sancho returned to his master mightily pleased with this gratifying
answer, and told him all the great lady had said to him, lauding to the
skies, in his rustic phrase, her rare beauty, her graceful gaiety, and
her courtesy. Don Quixote drew himself up briskly in his saddle, fixed
himself in his stirrups, settled his visor, gave Rocinante the spur,
and with an easy bearing advanced to kiss the hands of the duchess,
who, having sent to summon the duke her husband, told him while Don
Quixote was approaching all about the message; and as both of them had
read the First Part of this history, and from it were aware of Don
Quixote’s crazy turn, they awaited him with the greatest delight and
anxiety to make his acquaintance, meaning to fall in with his humour
and agree with everything he said, and, so long as he stayed with them,
to treat him as a knight-errant, with all the ceremonies usual in the
books of chivalry they had read, for they themselves were very fond of
them.

Don Quixote now came up with his visor raised, and as he seemed about
to dismount Sancho made haste to go and hold his stirrup for him; but
in getting down off Dapple he was so unlucky as to hitch his foot in
one of the ropes of the pack-saddle in such a way that he was unable to
free it, and was left hanging by it with his face and breast on the
ground. Don Quixote, who was not used to dismount without having the
stirrup held, fancying that Sancho had by this time come to hold it for
him, threw himself off with a lurch and brought Rocinante’s saddle
after him, which was no doubt badly girthed, and saddle and he both
came to the ground; not without discomfiture to him and abundant curses
muttered between his teeth against the unlucky Sancho, who had his foot
still in the shackles. The duke ordered his huntsmen to go to the help
of knight and squire, and they raised Don Quixote, sorely shaken by his
fall; and he, limping, advanced as best he could to kneel before the
noble pair. This, however, the duke would by no means permit; on the
contrary, dismounting from his horse, he went and embraced Don Quixote,
saying, “I am grieved, Sir Knight of the Rueful Countenance, that your
first experience on my ground should have been such an unfortunate one
as we have seen; but the carelessness of squires is often the cause of
worse accidents.”

“That which has happened me in meeting you, mighty prince,” replied Don
Quixote, “cannot be unfortunate, even if my fall had not stopped short
of the depths of the bottomless pit, for the glory of having seen you
would have lifted me up and delivered me from it. My squire, God’s
curse upon him, is better at unloosing his tongue in talking
impertinence than in tightening the girths of a saddle to keep it
steady; but however I may be, fallen or raised up, on foot or on
horseback, I shall always be at your service and that of my lady the
duchess, your worthy consort, worthy queen of beauty and paramount
princess of courtesy.”

“Gently, Señor Don Quixote of La Mancha,” said the duke; “where my lady
Doña Dulcinea del Toboso is, it is not right that other beauties should
be praised.”

Sancho, by this time released from his entanglement, was standing by,
and before his master could answer he said, “There is no denying, and
it must be maintained, that my lady Dulcinea del Toboso is very
beautiful; but the hare jumps up where one least expects it; and I have
heard say that what we call nature is like a potter that makes vessels
of clay, and he who makes one fair vessel can as well make two, or
three, or a hundred; I say so because, by my faith, my lady the duchess
is in no way behind my mistress the lady Dulcinea del Toboso.”

Don Quixote turned to the duchess and said, “Your highness may conceive
that never had knight-errant in this world a more talkative or a
droller squire than I have, and he will prove the truth of what I say,
if your highness is pleased to accept of my services for a few days.”

To which the duchess made answer, “that worthy Sancho is droll I
consider a very good thing, because it is a sign that he is shrewd; for
drollery and sprightliness, Señor Don Quixote, as you very well know,
do not take up their abode with dull wits; and as good Sancho is droll
and sprightly I here set him down as shrewd.”

“And talkative,” added Don Quixote.

“So much the better,” said the duke, “for many droll things cannot be
said in few words; but not to lose time in talking, come, great Knight
of the Rueful Countenance—”

“Of the Lions, your highness must say,” said Sancho, “for there is no
Rueful Countenance nor any such character now.”

“He of the Lions be it,” continued the duke; “I say, let Sir Knight of
the Lions come to a castle of mine close by, where he shall be given
that reception which is due to so exalted a personage, and which the
duchess and I are wont to give to all knights-errant who come there.”

By this time Sancho had fixed and girthed Rocinante’s saddle, and Don
Quixote having got on his back and the duke mounted a fine horse, they
placed the duchess in the middle and set out for the castle. The
duchess desired Sancho to come to her side, for she found infinite
enjoyment in listening to his shrewd remarks. Sancho required no
pressing, but pushed himself in between them and the duke, who thought
it rare good fortune to receive such a knight-errant and such a homely
squire in their castle.



p30e.jpg (54K)



CHAPTER XXXI.br/> WHICH TREATS OF MANY AND GREAT MATTERS




p31a.jpg (155K)

Full Size



Supreme was the satisfaction that Sancho felt at seeing himself, as it
seemed, an established favourite with the duchess, for he looked
forward to finding in her castle what he had found in Don Diego’s house
and in Basilio’s; he was always fond of good living, and always seized
by the forelock any opportunity of feasting himself whenever it
presented itself. The history informs us, then, that before they
reached the country house or castle, the duke went on in advance and
instructed all his servants how they were to treat Don Quixote; and so
the instant he came up to the castle gates with the duchess, two
lackeys or equerries, clad in what they call morning gowns of fine
crimson satin reaching to their feet, hastened out, and catching Don
Quixote in their arms before he saw or heard them, said to him, “Your
highness should go and take my lady the duchess off her horse.”



p31b.jpg (334K)

Full Size



Don Quixote obeyed, and great bandying of compliments followed between
the two over the matter; but in the end the duchess’s determination
carried the day, and she refused to get down or dismount from her
palfrey except in the arms of the duke, saying she did not consider
herself worthy to impose so unnecessary a burden on so great a knight.
At length the duke came out to take her down, and as they entered a
spacious court two fair damsels came forward and threw over Don
Quixote’s shoulders a large mantle of the finest scarlet cloth, and at
the same instant all the galleries of the court were lined with the
men-servants and women-servants of the household, crying, “Welcome,
flower and cream of knight-errantry!” while all or most of them flung
pellets filled with scented water over Don Quixote and the duke and
duchess; at all which Don Quixote was greatly astonished, and this was
the first time that he thoroughly felt and believed himself to be a
knight-errant in reality and not merely in fancy, now that he saw
himself treated in the same way as he had read of such knights being
treated in days of yore.

Sancho, deserting Dapple, hung on to the duchess and entered the
castle, but feeling some twinges of conscience at having left the ass
alone, he approached a respectable duenna who had come out with the
rest to receive the duchess, and in a low voice he said to her, “Señora
Gonzalez, or however your grace may be called—”

“I am called Doña Rodriguez de Grijalba,” replied the duenna; “what is
your will, brother?” To which Sancho made answer, “I should be glad if
your worship would do me the favour to go out to the castle gate, where
you will find a grey ass of mine; make them, if you please, put him in
the stable, or put him there yourself, for the poor little beast is
rather easily frightened, and cannot bear being alone at all.”

“If the master is as wise as the man,” said the duenna, “we have got a
fine bargain. Be off with you, brother, and bad luck to you and him who
brought you here; go, look after your ass, for we, the duennas of this
house, are not used to work of that sort.”

“Well then, in troth,” returned Sancho, “I have heard my master, who is
the very treasure-finder of stories, telling the story of Lancelot when
he came from Britain, say that ladies waited upon him and duennas upon
his hack; and, if it comes to my ass, I wouldn’t change him for Señor
Lancelot’s hack.”

“If you are a jester, brother,” said the duenna, “keep your drolleries
for some place where they’ll pass muster and be paid for; for you’ll
get nothing from me but a fig.”

“At any rate, it will be a very ripe one,” said Sancho, “for you won’t
lose the trick in years by a point too little.”

“Son of a bitch,” said the duenna, all aglow with anger, “whether I’m
old or not, it’s with God I have to reckon, not with you, you
garlic-stuffed scoundrel!” and she said it so loud, that the duchess
heard it, and turning round and seeing the duenna in such a state of
excitement, and her eyes flaming so, asked whom she was wrangling with.

“With this good fellow here,” said the duenna, “who has particularly
requested me to go and put an ass of his that is at the castle gate
into the stable, holding it up to me as an example that they did the
same I don’t know where—that some ladies waited on one Lancelot, and
duennas on his hack; and what is more, to wind up with, he called me
old.”

“That,” said the duchess, “I should have considered the greatest
affront that could be offered me;” and addressing Sancho, she said to
him, “You must know, friend Sancho, that Doña Rodriguez is very
youthful, and that she wears that hood more for authority and custom’s
sake than because of her years.”

“May all the rest of mine be unlucky,” said Sancho, “if I meant it that
way; I only spoke because the affection I have for my ass is so great,
and I thought I could not commend him to a more kind-hearted person
than the lady Doña Rodriguez.”

Don Quixote, who was listening, said to him, “Is this proper
conversation for the place, Sancho?”

“Señor,” replied Sancho, “every one must mention what he wants wherever
he may be; I thought of Dapple here, and I spoke of him here; if I had
thought of him in the stable I would have spoken there.”

On which the duke observed, “Sancho is quite right, and there is no
reason at all to find fault with him; Dapple shall be fed to his
heart’s content, and Sancho may rest easy, for he shall be treated like
himself.”

While this conversation, amusing to all except Don Quixote, was
proceeding, they ascended the staircase and ushered Don Quixote into a
chamber hung with rich cloth of gold and brocade; six damsels relieved
him of his armour and waited on him like pages, all of them prepared
and instructed by the duke and duchess as to what they were to do, and
how they were to treat Don Quixote, so that he might see and believe
they were treating him like a knight-errant. When his armour was
removed, there stood Don Quixote in his tight-fitting breeches and
chamois doublet, lean, lanky, and long, with cheeks that seemed to be
kissing each other inside; such a figure, that if the damsels waiting
on him had not taken care to check their merriment (which was one of
the particular directions their master and mistress had given them),
they would have burst with laughter. They asked him to let himself be
stripped that they might put a shirt on him, but he would not on any
account, saying that modesty became knights-errant just as much as
valour. However, he said they might give the shirt to Sancho; and
shutting himself in with him in a room where there was a sumptuous bed,
he undressed and put on the shirt; and then, finding himself alone with
Sancho, he said to him, “Tell me, thou new-fledged buffoon and old
booby, dost thou think it right to offend and insult a duenna so
deserving of reverence and respect as that one just now? Was that a
time to bethink thee of thy Dapple, or are these noble personages
likely to let the beasts fare badly when they treat their owners in
such elegant style? For God’s sake, Sancho, restrain thyself, and don’t
show the thread so as to let them see what a coarse, boorish texture
thou art of. Remember, sinner that thou art, the master is the more
esteemed the more respectable and well-bred his servants are; and that
one of the greatest advantages that princes have over other men is that
they have servants as good as themselves to wait on them. Dost thou not
see—shortsighted being that thou art, and unlucky mortal that I
am!—that if they perceive thee to be a coarse clown or a dull
blockhead, they will suspect me to be some impostor or swindler? Nay,
nay, Sancho friend, keep clear, oh, keep clear of these
stumbling-blocks; for he who falls into the way of being a chatterbox
and droll, drops into a wretched buffoon the first time he trips;
bridle thy tongue, consider and weigh thy words before they escape thy
mouth, and bear in mind we are now in quarters whence, by God’s help,
and the strength of my arm, we shall come forth mightily advanced in
fame and fortune.”

Sancho promised him with much earnestness to keep his mouth shut, and
to bite off his tongue before he uttered a word that was not altogether
to the purpose and well considered, and told him he might make his mind
easy on that point, for it should never be discovered through him what
they were.

Don Quixote dressed himself, put on his baldric with his sword, threw
the scarlet mantle over his shoulders, placed on his head a montera of
green satin that the damsels had given him, and thus arrayed passed out
into the large room, where he found the damsels drawn up in double
file, the same number on each side, all with the appliances for washing
the hands, which they presented to him with profuse obeisances and
ceremonies. Then came twelve pages, together with the seneschal, to
lead him to dinner, as his hosts were already waiting for him. They
placed him in the midst of them, and with much pomp and stateliness
they conducted him into another room, where there was a sumptuous table
laid with but four covers. The duchess and the duke came out to the
door of the room to receive him, and with them a grave ecclesiastic,
one of those who rule noblemen’s houses; one of those who, not being
born magnates themselves, never know how to teach those who are how to
behave as such; one of those who would have the greatness of great folk
measured by their own narrowness of mind; one of those who, when they
try to introduce economy into the household they rule, lead it into
meanness. One of this sort, I say, must have been the grave churchman
who came out with the duke and duchess to receive Don Quixote.

A vast number of polite speeches were exchanged, and at length, taking
Don Quixote between them, they proceeded to sit down to table. The duke
pressed Don Quixote to take the head of the table, and, though he
refused, the entreaties of the duke were so urgent that he had to
accept it.

The ecclesiastic took his seat opposite to him, and the duke and
duchess those at the sides. All this time Sancho stood by, gaping with
amazement at the honour he saw shown to his master by these illustrious
persons; and observing all the ceremonious pressing that had passed
between the duke and Don Quixote to induce him to take his seat at the
head of the table, he said, “If your worship will give me leave I will
tell you a story of what happened in my village about this matter of
seats.”

The moment Sancho said this Don Quixote trembled, making sure that he
was about to say something foolish. Sancho glanced at him, and guessing
his thoughts, said, “Don’t be afraid of my going astray, señor, or
saying anything that won’t be pat to the purpose; I haven’t forgotten
the advice your worship gave me just now about talking much or little,
well or ill.”

“I have no recollection of anything, Sancho,” said Don Quixote; “say
what thou wilt, only say it quickly.”

“Well then,” said Sancho, “what I am going to say is so true that my
master Don Quixote, who is here present, will keep me from lying.”

“Lie as much as thou wilt for all I care, Sancho,” said Don Quixote,
“for I am not going to stop thee, but consider what thou art going to
say.”

“I have so considered and reconsidered,” said Sancho, “that the
bell-ringer’s in a safe berth; as will be seen by what follows.”

“It would be well,” said Don Quixote, “if your highnesses would order
them to turn out this idiot, for he will talk a heap of nonsense.”

“By the life of the duke, Sancho shall not be taken away from me for a
moment,” said the duchess; “I am very fond of him, for I know he is
very discreet.”

“Discreet be the days of your holiness,” said Sancho, “for the good
opinion you have of my wit, though there’s none in me; but the story I
want to tell is this. There was an invitation given by a gentleman of
my town, a very rich one, and one of quality, for he was one of the
Alamos of Medina del Campo, and married to Doña Mencia de Quiñones, the
daughter of Don Alonso de Marañon, Knight of the Order of Santiago,
that was drowned at the Herradura—him there was that quarrel about
years ago in our village, that my master Don Quixote was mixed up in,
to the best of my belief, that Tomasillo the scapegrace, the son of
Balbastro the smith, was wounded in.—Isn’t all this true, master mine?
As you live, say so, that these gentlefolk may not take me for some
lying chatterer.”

“So far,” said the ecclesiastic, “I take you to be more a chatterer
than a liar; but I don’t know what I shall take you for by-and-by.”

“Thou citest so many witnesses and proofs, Sancho,” said Don Quixote,
“that I have no choice but to say thou must be telling the truth; go
on, and cut the story short, for thou art taking the way not to make an
end for two days to come.”

“He is not to cut it short,” said the duchess; “on the contrary, for my
gratification, he is to tell it as he knows it, though he should not
finish it these six days; and if he took so many they would be to me
the pleasantest I ever spent.”

“Well then, sirs, I say,” continued Sancho, “that this same gentleman,
whom I know as well as I do my own hands, for it’s not a bowshot from
my house to his, invited a poor but respectable labourer—”

“Get on, brother,” said the churchman; “at the rate you are going you
will not stop with your story short of the next world.”

“I’ll stop less than half-way, please God,” said Sancho; “and so I say
this labourer, coming to the house of the gentleman I spoke of that
invited him—rest his soul, he is now dead; and more by token he died
the death of an angel, so they say; for I was not there, for just at
that time I had gone to reap at Tembleque—”

“As you live, my son,” said the churchman, “make haste back from
Tembleque, and finish your story without burying the gentleman, unless
you want to make more funerals.”

“Well then, it so happened,” said Sancho, “that as the pair of them
were going to sit down to table—and I think I can see them now plainer
than ever—”

Great was the enjoyment the duke and duchess derived from the
irritation the worthy churchman showed at the long-winded, halting way
Sancho had of telling his story, while Don Quixote was chafing with
rage and vexation.

“So, as I was saying,” continued Sancho, “as the pair of them were
going to sit down to table, as I said, the labourer insisted upon the
gentleman’s taking the head of the table, and the gentleman insisted
upon the labourer’s taking it, as his orders should be obeyed in his
house; but the labourer, who plumed himself on his politeness and good
breeding, would not on any account, until the gentleman, out of
patience, putting his hands on his shoulders, compelled him by force to
sit down, saying, ‘Sit down, you stupid lout, for wherever I sit will
be the head to you; and that’s the story, and, troth, I think it hasn’t
been brought in amiss here.”

Don Quixote turned all colours, which, on his sunburnt face, mottled it
till it looked like jasper. The duke and duchess suppressed their
laughter so as not altogether to mortify Don Quixote, for they saw
through Sancho’s impertinence; and to change the conversation, and keep
Sancho from uttering more absurdities, the duchess asked Don Quixote
what news he had of the lady Dulcinea, and if he had sent her any
presents of giants or miscreants lately, for he could not but have
vanquished a good many.

To which Don Quixote replied, “Señora, my misfortunes, though they had
a beginning, will never have an end. I have vanquished giants and I
have sent her caitiffs and miscreants; but where are they to find her
if she is enchanted and turned into the most ill-favoured peasant wench
that can be imagined?”

“I don’t know,” said Sancho Panza; “to me she seems the fairest
creature in the world; at any rate, in nimbleness and jumping she won’t
give in to a tumbler; by my faith, señora duchess, she leaps from the
ground on to the back of an ass like a cat.”

“Have you seen her enchanted, Sancho?” asked the duke.

“What, seen her!” said Sancho; “why, who the devil was it but myself
that first thought of the enchantment business? She is as much
enchanted as my father.”

The ecclesiastic, when he heard them talking of giants and caitiffs and
enchantments, began to suspect that this must be Don Quixote of La
Mancha, whose story the duke was always reading; and he had himself
often reproved him for it, telling him it was foolish to read such
fooleries; and becoming convinced that his suspicion was correct,
addressing the duke, he said very angrily to him, “Señor, your
excellence will have to give account to God for what this good man
does. This Don Quixote, or Don Simpleton, or whatever his name is,
cannot, I imagine, be such a blockhead as your excellence would have
him, holding out encouragement to him to go on with his vagaries and
follies.” Then turning to address Don Quixote he said, “And you,
num-skull, who put it into your head that you are a knight-errant, and
vanquish giants and capture miscreants? Go your ways in a good hour,
and in a good hour be it said to you. Go home and bring up your
children if you have any, and attend to your business, and give over
going wandering about the world, gaping and making a laughing-stock of
yourself to all who know you and all who don’t. Where, in heaven’s
name, have you discovered that there are or ever were knights-errant?
Where are there giants in Spain or miscreants in La Mancha, or
enchanted Dulcineas, or all the rest of the silly things they tell
about you?”

Don Quixote listened attentively to the reverend gentleman’s words, and
as soon as he perceived he had done speaking, regardless of the
presence of the duke and duchess, he sprang to his feet with angry
looks and an agitated countenance, and said—But the reply deserves a
chapter to itself.



p31e.jpg (46K)



CHAPTER XXXII.
OF THE REPLY DON QUIXOTE GAVE HIS CENSURER, WITH OTHER INCIDENTS, GRAVE
AND DROLL




p32a.jpg (152K)

Full Size



Don Quixote, then, having risen to his feet, trembling from head to
foot like a man dosed with mercury, said in a hurried, agitated voice,
“The place I am in, the presence in which I stand, and the respect I
have and always have had for the profession to which your worship
belongs, hold and bind the hands of my just indignation; and as well
for these reasons as because I know, as everyone knows, that a
gownsman’s weapon is the same as a woman’s, the tongue, I will with
mine engage in equal combat with your worship, from whom one might have
expected good advice instead of foul abuse. Pious, well-meant reproof
requires a different demeanour and arguments of another sort; at any
rate, to have reproved me in public, and so roughly, exceeds the bounds
of proper reproof, for that comes better with gentleness than with
rudeness; and it is not seemly to call the sinner roundly blockhead and
booby, without knowing anything of the sin that is reproved. Come, tell
me, for which of the stupidities you have observed in me do you condemn
and abuse me, and bid me go home and look after my house and wife and
children, without knowing whether I have any? Is nothing more needed
than to get a footing, by hook or by crook, in other people’s houses to
rule over the masters (and that, perhaps, after having been brought up
in all the straitness of some seminary, and without having ever seen
more of the world than may lie within twenty or thirty leagues round),
to fit one to lay down the law rashly for chivalry, and pass judgment
on knights-errant? Is it, haply, an idle occupation, or is the time
ill-spent that is spent in roaming the world in quest, not of its
enjoyments, but of those arduous toils whereby the good mount upwards
to the abodes of everlasting life? If gentlemen, great lords, nobles,
men of high birth, were to rate me as a fool I should take it as an
irreparable insult; but I care not a farthing if clerks who have never
entered upon or trod the paths of chivalry should think me foolish.
Knight I am, and knight I will die, if such be the pleasure of the Most
High. Some take the broad road of overweening ambition; others that of
mean and servile flattery; others that of deceitful hypocrisy, and some
that of true religion; but I, led by my star, follow the narrow path of
knight-errantry, and in pursuit of that calling I despise wealth, but
not honour. I have redressed injuries, righted wrongs, punished
insolences, vanquished giants, and crushed monsters; I am in love, for
no other reason than that it is incumbent on knights-errant to be so;
but though I am, I am no carnal-minded lover, but one of the chaste,
platonic sort. My intentions are always directed to worthy ends, to do
good to all and evil to none; and if he who means this, does this, and
makes this his practice deserves to be called a fool, it is for your
highnesses to say, O most excellent duke and duchess.”

“Good, by God!” cried Sancho; “say no more in your own defence, master
mine, for there’s nothing more in the world to be said, thought, or
insisted on; and besides, when this gentleman denies, as he has, that
there are or ever have been any knights-errant in the world, is it any
wonder if he knows nothing of what he has been talking about?”

“Perhaps, brother,” said the ecclesiastic, “you are that Sancho Panza
that is mentioned, to whom your master has promised an island?”

“Yes, I am,” said Sancho, “and what’s more, I am one who deserves it as
much as anyone; I am one of the sort—‘Attach thyself to the good, and
thou wilt be one of them,’ and of those, ‘Not with whom thou art bred,
but with whom thou art fed,’ and of those, ‘Who leans against a good
tree, a good shade covers him;’ I have leant upon a good master, and I
have been for months going about with him, and please God I shall be
just such another; long life to him and long life to me, for neither
will he be in any want of empires to rule, or I of islands to govern.”

“No, Sancho my friend, certainly not,” said the duke, “for in the name
of Señor Don Quixote I confer upon you the government of one of no
small importance that I have at my disposal.”

“Go down on thy knees, Sancho,” said Don Quixote, “and kiss the feet of
his excellence for the favour he has bestowed upon thee.”

Sancho obeyed, and on seeing this the ecclesiastic stood up from table
completely out of temper, exclaiming, “By the gown I wear, I am almost
inclined to say that your excellence is as great a fool as these
sinners. No wonder they are mad, when people who are in their senses
sanction their madness! I leave your excellence with them, for so long
as they are in the house, I will remain in my own, and spare myself the
trouble of reproving what I cannot remedy;” and without uttering
another word, or eating another morsel, he went off, the entreaties of
the duke and duchess being entirely unavailing to stop him; not that
the duke said much to him, for he could not, because of the laughter
his uncalled-for anger provoked.

When he had done laughing, he said to Don Quixote, “You have replied on
your own behalf so stoutly, Sir Knight of the Lions, that there is no
occasion to seek further satisfaction for this, which, though it may
look like an offence, is not so at all, for, as women can give no
offence, no more can ecclesiastics, as you very well know.”

“That is true,” said Don Quixote, “and the reason is, that he who is
not liable to offence cannot give offence to anyone. Women, children,
and ecclesiastics, as they cannot defend themselves, though they may
receive offence cannot be insulted, because between the offence and the
insult there is, as your excellence very well knows, this difference:
the insult comes from one who is capable of offering it, and does so,
and maintains it; the offence may come from any quarter without
carrying insult. To take an example: a man is standing unsuspectingly
in the street and ten others come up armed and beat him; he draws his
sword and quits himself like a man, but the number of his antagonists
makes it impossible for him to effect his purpose and avenge himself;
this man suffers an offence but not an insult. Another example will
make the same thing plain: a man is standing with his back turned,
another comes up and strikes him, and after striking him takes to
flight, without waiting an instant, and the other pursues him but does
not overtake him; he who received the blow received an offence, but not
an insult, because an insult must be maintained. If he who struck him,
though he did so sneakingly and treacherously, had drawn his sword and
stood and faced him, then he who had been struck would have received
offence and insult at the same time; offence because he was struck
treacherously, insult because he who struck him maintained what he had
done, standing his ground without taking to flight. And so, according
to the laws of the accursed duel, I may have received offence, but not
insult, for neither women nor children can maintain it, nor can they
wound, nor have they any way of standing their ground, and it is just
the same with those connected with religion; for these three sorts of
persons are without arms offensive or defensive, and so, though
naturally they are bound to defend themselves, they have no right to
offend anybody; and though I said just now I might have received
offence, I say now certainly not, for he who cannot receive an insult
can still less give one; for which reasons I ought not to feel, nor do
I feel, aggrieved at what that good man said to me; I only wish he had
stayed a little longer, that I might have shown him the mistake he
makes in supposing and maintaining that there are not and never have
been any knights-errant in the world; had Amadis or any of his
countless descendants heard him say as much, I am sure it would not
have gone well with his worship.”

“I will take my oath of that,” said Sancho; “they would have given him
a slash that would have slit him down from top to toe like a
pomegranate or a ripe melon; they were likely fellows to put up with
jokes of that sort! By my faith, I’m certain if Reinaldos of Montalvan
had heard the little man’s words he would have given him such a spank
on the mouth that he wouldn’t have spoken for the next three years; ay,
let him tackle them, and he’ll see how he’ll get out of their hands!”

The duchess, as she listened to Sancho, was ready to die with laughter,
and in her own mind she set him down as droller and madder than his
master; and there were a good many just then who were of the same
opinion.

Don Quixote finally grew calm, and dinner came to an end, and as the
cloth was removed four damsels came in, one of them with a silver
basin, another with a jug also of silver, a third with two fine white
towels on her shoulder, and the fourth with her arms bared to the
elbows, and in her white hands (for white they certainly were) a round
ball of Naples soap. The one with the basin approached, and with arch
composure and impudence, thrust it under Don Quixote’s chin, who,
wondering at such a ceremony, said never a word, supposing it to be the
custom of that country to wash beards instead of hands; he therefore
stretched his out as far as he could, and at the same instant the jug
began to pour and the damsel with the soap rubbed his beard briskly,
raising snow-flakes, for the soap lather was no less white, not only
over the beard, but all over the face, and over the eyes of the
submissive knight, so that they were perforce obliged to keep shut. The
duke and duchess, who had not known anything about this, waited to see
what came of this strange washing. The barber damsel, when she had him
a hand’s breadth deep in lather, pretended that there was no more
water, and bade the one with the jug go and fetch some, while Señor Don
Quixote waited. She did so, and Don Quixote was left the strangest and
most ludicrous figure that could be imagined. All those present, and
there were a good many, were watching him, and as they saw him there
with half a yard of neck, and that uncommonly brown, his eyes shut, and
his beard full of soap, it was a great wonder, and only by great
discretion, that they were able to restrain their laughter. The
damsels, the concocters of the joke, kept their eyes down, not daring
to look at their master and mistress; and as for them, laughter and
anger struggled within them, and they knew not what to do, whether to
punish the audacity of the girls, or to reward them for the amusement
they had received from seeing Don Quixote in such a plight.

At length the damsel with the jug returned and they made an end of
washing Don Quixote, and the one who carried the towels very
deliberately wiped him and dried him; and all four together making him
a profound obeisance and curtsey, they were about to go, when the duke,
lest Don Quixote should see through the joke, called out to the one
with the basin saying, “Come and wash me, and take care that there is
water enough.” The girl, sharp-witted and prompt, came and placed the
basin for the duke as she had done for Don Quixote, and they soon had
him well soaped and washed, and having wiped him dry they made their
obeisance and retired. It appeared afterwards that the duke had sworn
that if they had not washed him as they had Don Quixote he would have
punished them for their impudence, which they adroitly atoned for by
soaping him as well.

Sancho observed the ceremony of the washing very attentively, and said
to himself, “God bless me, if it were only the custom in this country
to wash squires’ beards too as well as knights’. For by God and upon my
soul I want it badly; and if they gave me a scrape of the razor besides
I’d take it as a still greater kindness.”

“What are you saying to yourself, Sancho?” asked the duchess.

“I was saying, señora,” he replied, “that in the courts of other
princes, when the cloth is taken away, I have always heard say they
give water for the hands, but not lye for the beard; and that shows it
is good to live long that you may see much; to be sure, they say too
that he who lives a long life must undergo much evil, though to undergo
a washing of that sort is pleasure rather than pain.”

“Don’t be uneasy, friend Sancho,” said the duchess; “I will take care
that my damsels wash you, and even put you in the tub if necessary.”

“I’ll be content with the beard,” said Sancho, “at any rate for the
present; and as for the future, God has decreed what is to be.”

“Attend to worthy Sancho’s request, seneschal,” said the duchess, “and
do exactly what he wishes.”

The seneschal replied that Señor Sancho should be obeyed in everything;
and with that he went away to dinner and took Sancho along with him,
while the duke and duchess and Don Quixote remained at table discussing
a great variety of things, but all bearing on the calling of arms and
knight-errantry.

The duchess begged Don Quixote, as he seemed to have a retentive
memory, to describe and portray to her the beauty and features of the
lady Dulcinea del Toboso, for, judging by what fame trumpeted abroad of
her beauty, she felt sure she must be the fairest creature in the
world, nay, in all La Mancha.

Don Quixote sighed on hearing the duchess’s request, and said, “If I
could pluck out my heart, and lay it on a plate on this table here
before your highness’s eyes, it would spare my tongue the pain of
telling what can hardly be thought of, for in it your excellence would
see her portrayed in full. But why should I attempt to depict and
describe in detail, and feature by feature, the beauty of the peerless
Dulcinea, the burden being one worthy of other shoulders than mine, an
enterprise wherein the pencils of Parrhasius, Timantes, and Apelles,
and the graver of Lysippus ought to be employed, to paint it in
pictures and carve it in marble and bronze, and Ciceronian and
Demosthenian eloquence to sound its praises?”

“What does Demosthenian mean, Señor Don Quixote?” said the duchess; “it
is a word I never heard in all my life.”

“Demosthenian eloquence,” said Don Quixote, “means the eloquence of
Demosthenes, as Ciceronian means that of Cicero, who were the two most
eloquent orators in the world.”

“True,” said the duke; “you must have lost your wits to ask such a
question. Nevertheless, Señor Don Quixote would greatly gratify us if
he would depict her to us; for never fear, even in an outline or sketch
she will be something to make the fairest envious.”

“I would do so certainly,” said Don Quixote, “had she not been blurred
to my mind’s eye by the misfortune that fell upon her a short time
since, one of such a nature that I am more ready to weep over it than
to describe it. For your highnesses must know that, going a few days
back to kiss her hands and receive her benediction, approbation, and
permission for this third sally, I found her altogether a different
being from the one I sought; I found her enchanted and changed from a
princess into a peasant, from fair to foul, from an angel into a devil,
from fragrant to pestiferous, from refined to clownish, from a
dignified lady into a jumping tomboy, and, in a word, from Dulcinea del
Toboso into a coarse Sayago wench.”

“God bless me!” said the duke aloud at this, “who can have done the
world such an injury? Who can have robbed it of the beauty that
gladdened it, of the grace and gaiety that charmed it, of the modesty
that shed a lustre upon it?”

“Who?” replied Don Quixote; “who could it be but some malignant
enchanter of the many that persecute me out of envy—that accursed race
born into the world to obscure and bring to naught the achievements of
the good, and glorify and exalt the deeds of the wicked? Enchanters
have persecuted me, enchanters persecute me still, and enchanters will
continue to persecute me until they have sunk me and my lofty chivalry
in the deep abyss of oblivion; and they injure and wound me where they
know I feel it most. For to deprive a knight-errant of his lady is to
deprive him of the eyes he sees with, of the sun that gives him light,
of the food whereby he lives. Many a time before have I said it, and I
say it now once more, a knight-errant without a lady is like a tree
without leaves, a building without a foundation, or a shadow without
the body that causes it.”

“There is no denying it,” said the duchess; “but still, if we are to
believe the history of Don Quixote that has come out here lately with
general applause, it is to be inferred from it, if I mistake not, that
you never saw the lady Dulcinea, and that the said lady is nothing in
the world but an imaginary lady, one that you yourself begot and gave
birth to in your brain, and adorned with whatever charms and
perfections you chose.”

“There is a good deal to be said on that point,” said Don Quixote; “God
knows whether there be any Dulcinea or not in the world, or whether she
is imaginary or not imaginary; these are things the proof of which must
not be pushed to extreme lengths. I have not begotten nor given birth
to my lady, though I behold her as she needs must be, a lady who
contains in herself all the qualities to make her famous throughout the
world, beautiful without blemish, dignified without haughtiness, tender
and yet modest, gracious from courtesy and courteous from good
breeding, and lastly, of exalted lineage, because beauty shines forth
and excels with a higher degree of perfection upon good blood than in
the fair of lowly birth.”

“That is true,” said the duke; “but Señor Don Quixote will give me
leave to say what I am constrained to say by the story of his exploits
that I have read, from which it is to be inferred that, granting there
is a Dulcinea in El Toboso, or out of it, and that she is in the
highest degree beautiful as you have described her to us, as regards
the loftiness of her lineage she is not on a par with the Orianas,
Alastrajareas, Madasimas, or others of that sort, with whom, as you
well know, the histories abound.”

“To that I may reply,” said Don Quixote, “that Dulcinea is the daughter
of her own works, and that virtues rectify blood, and that lowly virtue
is more to be regarded and esteemed than exalted vice. Dulcinea,
besides, has that within her that may raise her to be a crowned and
sceptred queen; for the merit of a fair and virtuous woman is capable
of performing greater miracles; and virtually, though not formally, she
has in herself higher fortunes.”

“I protest, Señor Don Quixote,” said the duchess, “that in all you say,
you go most cautiously and lead in hand, as the saying is; henceforth I
will believe myself, and I will take care that everyone in my house
believes, even my lord the duke if needs be, that there is a Dulcinea
in El Toboso, and that she is living to-day, and that she is beautiful
and nobly born and deserves to have such a knight as Señor Don Quixote
in her service, and that is the highest praise that it is in my power
to give her or that I can think of. But I cannot help entertaining a
doubt, and having a certain grudge against Sancho Panza; the doubt is
this, that the aforesaid history declares that the said Sancho Panza,
when he carried a letter on your worship’s behalf to the said lady
Dulcinea, found her sifting a sack of wheat; and more by token it says
it was red wheat; a thing which makes me doubt the loftiness of her
lineage.”

To this Don Quixote made answer, “Señora, your highness must know that
everything or almost everything that happens me transcends the ordinary
limits of what happens to other knights-errant; whether it be that it
is directed by the inscrutable will of destiny, or by the malice of
some jealous enchanter. Now it is an established fact that all or most
famous knights-errant have some special gift, one that of being proof
against enchantment, another that of being made of such invulnerable
flesh that he cannot be wounded, as was the famous Roland, one of the
twelve peers of France, of whom it is related that he could not be
wounded except in the sole of his left foot, and that it must be with
the point of a stout pin and not with any other sort of weapon
whatever; and so, when Bernardo del Carpio slew him at Roncesvalles,
finding that he could not wound him with steel, he lifted him up from
the ground in his arms and strangled him, calling to mind seasonably
the death which Hercules inflicted on Antæus, the fierce giant that
they say was the son of Terra. I would infer from what I have mentioned
that perhaps I may have some gift of this kind, not that of being
invulnerable, because experience has many times proved to me that I am
of tender flesh and not at all impenetrable; nor that of being proof
against enchantment, for I have already seen myself thrust into a cage,
in which all the world would not have been able to confine me except by
force of enchantments. But as I delivered myself from that one, I am
inclined to believe that there is no other that can hurt me; and so,
these enchanters, seeing that they cannot exert their vile craft
against my person, revenge themselves on what I love most, and seek to
rob me of life by maltreating that of Dulcinea in whom I live; and
therefore I am convinced that when my squire carried my message to her,
they changed her into a common peasant girl, engaged in such a mean
occupation as sifting wheat; I have already said, however, that that
wheat was not red wheat, nor wheat at all, but grains of orient pearl.
And as a proof of all this, I must tell your highnesses that, coming to
El Toboso a short time back, I was altogether unable to discover the
palace of Dulcinea; and that the next day, though Sancho, my squire,
saw her in her own proper shape, which is the fairest in the world, to
me she appeared to be a coarse, ill-favoured farm-wench, and by no
means a well-spoken one, she who is propriety itself. And so, as I am
not and, so far as one can judge, cannot be enchanted, she it is that
is enchanted, that is smitten, that is altered, changed, and
transformed; in her have my enemies revenged themselves upon me, and
for her shall I live in ceaseless tears, until I see her in her
pristine state. I have mentioned this lest anybody should mind what
Sancho said about Dulcinea’s winnowing or sifting; for, as they changed
her to me, it is no wonder if they changed her to him. Dulcinea is
illustrious and well-born, and of one of the gentle families of El
Toboso, which are many, ancient, and good. Therein, most assuredly, not
small is the share of the peerless Dulcinea, through whom her town will
be famous and celebrated in ages to come, as Troy was through Helen,
and Spain through La Cava, though with a better title and tradition.
For another thing; I would have your graces understand that Sancho
Panza is one of the drollest squires that ever served knight-errant;
sometimes there is a simplicity about him so acute that it is an
amusement to try and make out whether he is simple or sharp; he has
mischievous tricks that stamp him rogue, and blundering ways that prove
him a booby; he doubts everything and believes everything; when I fancy
he is on the point of coming down headlong from sheer stupidity, he
comes out with something shrewd that sends him up to the skies. After
all, I would not exchange him for another squire, though I were given a
city to boot, and therefore I am in doubt whether it will be well to
send him to the government your highness has bestowed upon him; though
I perceive in him a certain aptitude for the work of governing, so
that, with a little trimming of his understanding, he would manage any
government as easily as the king does his taxes; and moreover, we know
already ample experience that it does not require much cleverness or
much learning to be a governor, for there are a hundred round about us
that scarcely know how to read, and govern like gerfalcons. The main
point is that they should have good intentions and be desirous of doing
right in all things, for they will never be at a loss for persons to
advise and direct them in what they have to do, like those
knight-governors who, being no lawyers, pronounce sentences with the
aid of an assessor. My advice to him will be to take no bribe and
surrender no right, and I have some other little matters in reserve,
that shall be produced in due season for Sancho’s benefit and the
advantage of the island he is to govern.”

The duke, duchess, and Don Quixote had reached this point in their
conversation, when they heard voices and a great hubbub in the palace,
and Sancho burst abruptly into the room all glowing with anger, with a
straining-cloth by way of a bib, and followed by several servants, or,
more properly speaking, kitchen-boys and other underlings, one of whom
carried a small trough full of water, that from its colour and impurity
was plainly dishwater. The one with the trough pursued him and followed
him everywhere he went, endeavouring with the utmost persistence to
thrust it under his chin, while another kitchen-boy seemed anxious to
wash his beard.

“What is all this, brothers?” asked the duchess. “What is it? What do
you want to do to this good man? Do you forget he is a governor-elect?”

To which the barber kitchen-boy replied, “The gentleman will not let
himself be washed as is customary, and as my lord and the señor his
master have been.”

“Yes, I will,” said Sancho, in a great rage; “but I’d like it to be
with cleaner towels, clearer lye, and not such dirty hands; for there’s
not so much difference between me and my master that he should be
washed with angels’ water and I with devil’s lye. The customs of
countries and princes’ palaces are only good so long as they give no
annoyance; but the way of washing they have here is worse than doing
penance. I have a clean beard, and I don’t require to be refreshed in
that fashion, and whoever comes to wash me or touch a hair of my head,
I mean to say my beard, with all due respect be it said, I’ll give him
a punch that will leave my fist sunk in his skull; for cirimonies and
soapings of this sort are more like jokes than the polite attentions of
one’s host.”

The duchess was ready to die with laughter when she saw Sancho’s rage
and heard his words; but it was no pleasure to Don Quixote to see him
in such a sorry trim, with the dingy towel about him, and the
hangers-on of the kitchen all round him; so making a low bow to the
duke and duchess, as if to ask their permission to speak, he addressed
the rout in a dignified tone: “Holloa, gentlemen! you let that youth
alone, and go back to where you came from, or anywhere else if you
like; my squire is as clean as any other person, and those troughs are
as bad as narrow thin-necked jars to him; take my advice and leave him
alone, for neither he nor I understand joking.”

Sancho took the word out of his mouth and went on, “Nay, let them come
and try their jokes on the country bumpkin, for it’s about as likely
I’ll stand them as that it’s now midnight! Let them bring me a comb
here, or what they please, and curry this beard of mine, and if they
get anything out of it that offends against cleanliness, let them clip
me to the skin.”

Upon this, the duchess, laughing all the while, said, “Sancho Panza is
right, and always will be in all he says; he is clean, and, as he says
himself, he does not require to be washed; and if our ways do not
please him, he is free to choose. Besides, you promoters of cleanliness
have been excessively careless and thoughtless, I don’t know if I ought
not to say audacious, to bring troughs and wooden utensils and kitchen
dishclouts, instead of basins and jugs of pure gold and towels of
holland, to such a person and such a beard; but, after all, you are
ill-conditioned and ill-bred, and spiteful as you are, you cannot help
showing the grudge you have against the squires of knights-errant.”

The impudent servitors, and even the seneschal who came with them, took
the duchess to be speaking in earnest, so they removed the
straining-cloth from Sancho’s neck, and with something like shame and
confusion of face went off all of them and left him; whereupon he,
seeing himself safe out of that extreme danger, as it seemed to him,
ran and fell on his knees before the duchess, saying, “From great
ladies great favours may be looked for; this which your grace has done
me to-day cannot be requited with less than wishing I was dubbed a
knight-errant, to devote myself all the days of my life to the service
of so exalted a lady. I am a labouring man, my name is Sancho Panza, I
am married, I have children, and I am serving as a squire; if in any
one of these ways I can serve your highness, I will not be longer in
obeying than your grace in commanding.”

“It is easy to see, Sancho,” replied the duchess, “that you have
learned to be polite in the school of politeness itself; I mean to say
it is easy to see that you have been nursed in the bosom of Señor Don
Quixote, who is, of course, the cream of good breeding and flower of
ceremony—or cirimony, as you would say yourself. Fair be the fortunes
of such a master and such a servant, the one the cynosure of
knight-errantry, the other the star of squirely fidelity! Rise, Sancho,
my friend; I will repay your courtesy by taking care that my lord the
duke makes good to you the promised gift of the government as soon as
possible.”

With this, the conversation came to an end, and Don Quixote retired to
take his midday sleep; but the duchess begged Sancho, unless he had a
very great desire to go to sleep, to come and spend the afternoon with
her and her damsels in a very cool chamber. Sancho replied that, though
he certainly had the habit of sleeping four or five hours in the heat
of the day in summer, to serve her excellence he would try with all his
might not to sleep even one that day, and that he would come in
obedience to her command, and with that he went off. The duke gave
fresh orders with respect to treating Don Quixote as a knight-errant,
without departing even in smallest particular from the style in which,
as the stories tell us, they used to treat the knights of old.



p32e.jpg (16K)



CHAPTER XXXIII.
OF THE DELECTABLE DISCOURSE WHICH THE DUCHESS AND HER DAMSELS HELD WITH
SANCHO PANZA, WELL WORTH READING AND NOTING




p33a.jpg (138K)

Full Size



The history records that Sancho did not sleep that afternoon, but in
order to keep his word came, before he had well done dinner, to visit
the duchess, who, finding enjoyment in listening to him, made him sit
down beside her on a low seat, though Sancho, out of pure good
breeding, wanted not to sit down; the duchess, however, told him he was
to sit down as governor and talk as squire, as in both respects he was
worthy of even the chair of the Cid Ruy Diaz the Campeador. Sancho
shrugged his shoulders, obeyed, and sat down, and all the duchess’s
damsels and duennas gathered round him, waiting in profound silence to
hear what he would say. It was the duchess, however, who spoke first,
saying:

“Now that we are alone, and that there is nobody here to overhear us, I
should be glad if the señor governor would relieve me of certain doubts
I have, rising out of the history of the great Don Quixote that is now
in print. One is: inasmuch as worthy Sancho never saw Dulcinea, I mean
the lady Dulcinea del Toboso, nor took Don Quixote’s letter to her, for
it was left in the memorandum book in the Sierra Morena, how did he
dare to invent the answer and all that about finding her sifting wheat,
the whole story being a deception and falsehood, and so much to the
prejudice of the peerless Dulcinea’s good name, a thing that is not at
all becoming the character and fidelity of a good squire?”



p33b.jpg (326K)

Full Size



At these words, Sancho, without uttering one in reply, got up from his
chair, and with noiseless steps, with his body bent and his finger on
his lips, went all round the room lifting up the hangings; and this
done, he came back to his seat and said, “Now, señora, that I have seen
that there is no one except the bystanders listening to us on the sly,
I will answer what you have asked me, and all you may ask me, without
fear or dread. And the first thing I have got to say is, that for my
own part I hold my master Don Quixote to be stark mad, though sometimes
he says things that, to my mind, and indeed everybody’s that listens to
him, are so wise, and run in such a straight furrow, that Satan himself
could not have said them better; but for all that, really, and beyond
all question, it’s my firm belief he is cracked. Well, then, as this is
clear to my mind, I can venture to make him believe things that have
neither head nor tail, like that affair of the answer to the letter,
and that other of six or eight days ago, which is not yet in history,
that is to say, the affair of the enchantment of my lady Dulcinea; for
I made him believe she is enchanted, though there’s no more truth in it
than over the hills of Úbeda.”

The duchess begged him to tell her about the enchantment or deception,
so Sancho told the whole story exactly as it had happened, and his
hearers were not a little amused by it; and then resuming, the duchess
said, “In consequence of what worthy Sancho has told me, a doubt starts
up in my mind, and there comes a kind of whisper to my ear that says,
‘If Don Quixote be mad, crazy, and cracked, and Sancho Panza his squire
knows it, and, notwithstanding, serves and follows him, and goes
trusting to his empty promises, there can be no doubt he must be still
madder and sillier than his master; and that being so, it will be cast
in your teeth, señora duchess, if you give the said Sancho an island to
govern; for how will he who does not know how to govern himself know
how to govern others?’”

“By God, señora,” said Sancho, “but that doubt comes timely; but your
grace may say it out, and speak plainly, or as you like; for I know
what you say is true, and if I were wise I should have left my master
long ago; but this was my fate, this was my bad luck; I can’t help it,
I must follow him; we’re from the same village, I’ve eaten his bread,
I’m fond of him, I’m grateful, he gave me his ass-colts, and above all
I’m faithful; so it’s quite impossible for anything to separate us,
except the pickaxe and shovel. And if your highness does not like to
give me the government you promised, God made me without it, and maybe
your not giving it to me will be all the better for my conscience, for
fool as I am I know the proverb ‘to her hurt the ant got wings,’ and it
may be that Sancho the squire will get to heaven sooner than Sancho the
governor. ‘They make as good bread here as in France,’ and ‘by night
all cats are grey,’ and ‘a hard case enough his, who hasn’t broken his
fast at two in the afternoon,’ and ‘there’s no stomach a hand’s breadth
bigger than another,’ and the same can be filled ‘with straw or hay,’
as the saying is, and ‘the little birds of the field have God for their
purveyor and caterer,’ and ‘four yards of Cuenca frieze keep one warmer
than four of Segovia broad-cloth,’ and ‘when we quit this world and are
put underground the prince travels by as narrow a path as the
journeyman,’ and ‘the Pope’s body does not take up more feet of earth
than the sacristan’s,’ for all that the one is higher than the other;
for when we go to our graves we all pack ourselves up and make
ourselves small, or rather they pack us up and make us small in spite
of us, and then—good night to us. And I say once more, if your ladyship
does not like to give me the island because I’m a fool, like a wise man
I will take care to give myself no trouble about it; I have heard say
that ‘behind the cross there’s the devil,’ and that ‘all that glitters
is not gold,’ and that from among the oxen, and the ploughs, and the
yokes, Wamba the husbandman was taken to be made King of Spain, and
from among brocades, and pleasures, and riches, Roderick was taken to
be devoured by adders, if the verses of the old ballads don’t lie.”

“To be sure they don’t lie!” exclaimed Doña Rodriguez, the duenna, who
was one of the listeners. “Why, there’s a ballad that says they put
King Rodrigo alive into a tomb full of toads, and adders, and lizards,
and that two days afterwards the king, in a plaintive, feeble voice,
cried out from within the tomb-

They gnaw me now, they gnaw me now,
There where I most did sin.


And according to that the gentleman has good reason to say he would
rather be a labouring man than a king, if vermin are to eat him.”

The duchess could not help laughing at the simplicity of her duenna, or
wondering at the language and proverbs of Sancho, to whom she said,
“Worthy Sancho knows very well that when once a knight has made a
promise he strives to keep it, though it should cost him his life. My
lord and husband the duke, though not one of the errant sort, is none
the less a knight for that reason, and will keep his word about the
promised island, in spite of the envy and malice of the world. Let
Sancho be of good cheer; for when he least expects it he will find
himself seated on the throne of his island and seat of dignity, and
will take possession of his government that he may discard it for
another of three-bordered brocade. The charge I give him is to be
careful how he governs his vassals, bearing in mind that they are all
loyal and well-born.”

“As to governing them well,” said Sancho, “there’s no need of charging
me to do that, for I’m kind-hearted by nature, and full of compassion
for the poor; there’s no stealing the loaf from him who kneads and
bakes;’ and by my faith it won’t do to throw false dice with me; I am
an old dog, and I know all about ‘tus, tus;’ I can be wide-awake if
need be, and I don’t let clouds come before my eyes, for I know where
the shoe pinches me; I say so, because with me the good will have
support and protection, and the bad neither footing nor access. And it
seems to me that, in governments, to make a beginning is everything;
and maybe, after having been governor a fortnight, I’ll take kindly to
the work and know more about it than the field labour I have been
brought up to.”

“You are right, Sancho,” said the duchess, “for no one is born ready
taught, and the bishops are made out of men and not out of stones. But
to return to the subject we were discussing just now, the enchantment
of the lady Dulcinea, I look upon it as certain, and something more
than evident, that Sancho’s idea of practising a deception upon his
master, making him believe that the peasant girl was Dulcinea and that
if he did not recognise her it must be because she was enchanted, was
all a device of one of the enchanters that persecute Don Quixote. For
in truth and earnest, I know from good authority that the coarse
country wench who jumped up on the ass was and is Dulcinea del Toboso,
and that worthy Sancho, though he fancies himself the deceiver, is the
one that is deceived; and that there is no more reason to doubt the
truth of this, than of anything else we never saw. Señor Sancho Panza
must know that we too have enchanters here that are well disposed to
us, and tell us what goes on in the world, plainly and distinctly,
without subterfuge or deception; and believe me, Sancho, that agile
country lass was and is Dulcinea del Toboso, who is as much enchanted
as the mother that bore her; and when we least expect it, we shall see
her in her own proper form, and then Sancho will be disabused of the
error he is under at present.”

“All that’s very possible,” said Sancho Panza; “and now I’m willing to
believe what my master says about what he saw in the cave of
Montesinos, where he says he saw the lady Dulcinea del Toboso in the
very same dress and apparel that I said I had seen her in when I
enchanted her all to please myself. It must be all exactly the other
way, as your ladyship says; because it is impossible to suppose that
out of my poor wit such a cunning trick could be concocted in a moment,
nor do I think my master is so mad that by my weak and feeble
persuasion he could be made to believe a thing so out of all reason.
But, señora, your excellence must not therefore think me ill-disposed,
for a dolt like me is not bound to see into the thoughts and plots of
those vile enchanters. I invented all that to escape my master’s
scolding, and not with any intention of hurting him; and if it has
turned out differently, there is a God in heaven who judges our
hearts.”

“That is true,” said the duchess; “but tell me, Sancho, what is this
you say about the cave of Montesinos, for I should like to know.”

Sancho upon this related to her, word for word, what has been said
already touching that adventure, and having heard it the duchess said,
“From this occurrence it may be inferred that, as the great Don Quixote
says he saw there the same country wench Sancho saw on the way from El
Toboso, it is, no doubt, Dulcinea, and that there are some very active
and exceedingly busy enchanters about.”

“So I say,” said Sancho, “and if my lady Dulcinea is enchanted, so much
the worse for her, and I’m not going to pick a quarrel with my master’s
enemies, who seem to be many and spiteful. The truth is that the one I
saw was a country wench, and I set her down to be a country wench; and
if that was Dulcinea it must not be laid at my door, nor should I be
called to answer for it or take the consequences. But they must go
nagging at me at every step—‘Sancho said it, Sancho did it, Sancho
here, Sancho there,’ as if Sancho was nobody at all, and not that same
Sancho Panza that’s now going all over the world in books, so Samson
Carrasco told me, and he’s at any rate one that’s a bachelor of
Salamanca; and people of that sort can’t lie, except when the whim
seizes them or they have some very good reason for it. So there’s no
occasion for anybody to quarrel with me; and then I have a good
character, and, as I have heard my master say, ‘a good name is better
than great riches;’ let them only stick me into this government and
they’ll see wonders, for one who has been a good squire will be a good
governor.”

“All worthy Sancho’s observations,” said the duchess, “are Catonian
sentences, or at any rate out of the very heart of Michael Verino
himself, who _florentibus occidit annis_. In fact, to speak in his own
style, ‘under a bad cloak there’s often a good drinker.’”

“Indeed, señora,” said Sancho, “I never yet drank out of wickedness;
from thirst I have very likely, for I have nothing of the hypocrite in
me; I drink when I’m inclined, or, if I’m not inclined, when they offer
it to me, so as not to look either strait-laced or ill-bred; for when a
friend drinks one’s health what heart can be so hard as not to return
it? But if I put on my shoes I don’t dirty them; besides, squires to
knights-errant mostly drink water, for they are always wandering among
woods, forests and meadows, mountains and crags, without a drop of wine
to be had if they gave their eyes for it.”

“So I believe,” said the duchess; “and now let Sancho go and take his
sleep, and we will talk by-and-by at greater length, and settle how he
may soon go and stick himself into the government, as he says.”

Sancho once more kissed the duchess’s hand, and entreated her to let
good care be taken of his Dapple, for he was the light of his eyes.

“What is Dapple?” said the duchess.

“My ass,” said Sancho, “which, not to mention him by that name, I’m
accustomed to call Dapple; I begged this lady duenna here to take care
of him when I came into the castle, and she got as angry as if I had
said she was ugly or old, though it ought to be more natural and proper
for duennas to feed asses than to ornament chambers. God bless me! what
a spite a gentleman of my village had against these ladies!”

“He must have been some clown,” said Doña Rodriguez the duenna; “for if
he had been a gentleman and well-born he would have exalted them higher
than the horns of the moon.”

“That will do,” said the duchess; “no more of this; hush, Doña
Rodriguez, and let Señor Panza rest easy and leave the treatment of
Dapple in my charge, for as he is a treasure of Sancho’s, I’ll put him
on the apple of my eye.”

“It will be enough for him to be in the stable,” said Sancho, “for
neither he nor I are worthy to rest a moment in the apple of your
highness’s eye, and I’d as soon stab myself as consent to it; for
though my master says that in civilities it is better to lose by a card
too many than a card too few, when it comes to civilities to asses we
must mind what we are about and keep within due bounds.”

“Take him to your government, Sancho,” said the duchess, “and there you
will be able to make as much of him as you like, and even release him
from work and pension him off.”

“Don’t think, señora duchess, that you have said anything absurd,” said
Sancho; “I have seen more than two asses go to governments, and for me
to take mine with me would be nothing new.”

Sancho’s words made the duchess laugh again and gave her fresh
amusement, and dismissing him to sleep she went away to tell the duke
the conversation she had had with him, and between them they plotted
and arranged to play a joke upon Don Quixote that was to be a rare one
and entirely in knight-errantry style, and in that same style they
practised several upon him, so much in keeping and so clever that they
form the best adventures this great history contains.



p33e.jpg (34K)



CHAPTER XXXIV.
WHICH RELATES HOW THEY LEARNED THE WAY IN WHICH THEY WERE TO DISENCHANT
THE PEERLESS DULCINEA DEL TOBOSO, WHICH IS ONE OF THE RAREST ADVENTURES
IN THIS BOOK




p34a.jpg (141K)

Full Size



Great was the pleasure the duke and duchess took in the conversation of
Don Quixote and Sancho Panza; and, more bent than ever upon the plan
they had of practising some jokes upon them that should have the look
and appearance of adventures, they took as their basis of action what
Don Quixote had already told them about the cave of Montesinos, in
order to play him a famous one. But what the duchess marvelled at above
all was that Sancho’s simplicity could be so great as to make him
believe as absolute truth that Dulcinea had been enchanted, when it was
he himself who had been the enchanter and trickster in the business.
Having, therefore, instructed their servants in everything they were to
do, six days afterwards they took him out to hunt, with as great a
retinue of huntsmen and beaters as a crowned king.

They presented Don Quixote with a hunting suit, and Sancho with another
of the finest green cloth; but Don Quixote declined to put his on,
saying that he must soon return to the hard pursuit of arms, and could
not carry wardrobes or stores with him. Sancho, however, took what they
gave him, meaning to sell it at the first opportunity.

The appointed day having arrived, Don Quixote armed himself, and Sancho
arrayed himself, and mounted on his Dapple (for he would not give him
up though they offered him a horse), he placed himself in the midst of
the troop of huntsmen. The duchess came out splendidly attired, and Don
Quixote, in pure courtesy and politeness, held the rein of her palfrey,
though the duke wanted not to allow him; and at last they reached a
wood that lay between two high mountains, where, after occupying
various posts, ambushes, and paths, and distributing the party in
different positions, the hunt began with great noise, shouting, and
hallooing, so that, between the baying of the hounds and the blowing of
the horns, they could not hear one another. The duchess dismounted, and
with a sharp boar-spear in her hand posted herself where she knew the
wild boars were in the habit of passing. The duke and Don Quixote
likewise dismounted and placed themselves one at each side of her.
Sancho took up a position in the rear of all without dismounting from
Dapple, whom he dared not desert lest some mischief should befall him.
Scarcely had they taken their stand in a line with several of their
servants, when they saw a huge boar, closely pressed by the hounds and
followed by the huntsmen, making towards them, grinding his teeth and
tusks, and scattering foam from his mouth. As soon as he saw him Don
Quixote, bracing his shield on his arm, and drawing his sword, advanced
to meet him; the duke with boar-spear did the same; but the duchess
would have gone in front of them all had not the duke prevented her.
Sancho alone, deserting Dapple at the sight of the mighty beast, took
to his heels as hard as he could and strove in vain to mount a tall
oak. As he was clinging to a branch, however, half-way up in his
struggle to reach the top, the bough, such was his ill-luck and hard
fate, gave way, and caught in his fall by a broken limb of the oak, he
hung suspended in the air unable to reach the ground. Finding himself
in this position, and that the green coat was beginning to tear, and
reflecting that if the fierce animal came that way he might be able to
get at him, he began to utter such cries, and call for help so
earnestly, that all who heard him and did not see him felt sure he must
be in the teeth of some wild beast. In the end the tusked boar fell
pierced by the blades of the many spears they held in front of him; and
Don Quixote, turning round at the cries of Sancho, for he knew by them
that it was he, saw him hanging from the oak head downwards, with
Dapple, who did not forsake him in his distress, close beside him; and
Cide Hamete observes that he seldom saw Sancho Panza without seeing
Dapple, or Dapple without seeing Sancho Panza; such was their
attachment and loyalty one to the other. Don Quixote went over and
unhooked Sancho, who, as soon as he found himself on the ground, looked
at the rent in his huntingcoat and was grieved to the heart, for he
thought he had got a patrimonial estate in that suit.

Meanwhile they had slung the mighty boar across the back of a mule, and
having covered it with sprigs of rosemary and branches of myrtle, they
bore it away as the spoils of victory to some large field-tents which
had been pitched in the middle of the wood, where they found the tables
laid and dinner served, in such grand and sumptuous style that it was
easy to see the rank and magnificence of those who had provided it.
Sancho, as he showed the rents in his torn suit to the duchess,
observed, “If we had been hunting hares, or after small birds, my coat
would have been safe from being in the plight it’s in; I don’t know
what pleasure one can find in lying in wait for an animal that may take
your life with his tusk if he gets at you. I recollect having heard an
old ballad sung that says,

By bears be thou devoured, as erst
Was famous Favila.”


“That,” said Don Quixote, “was a Gothic king, who, going a-hunting, was
devoured by a bear.”

“Just so,” said Sancho; “and I would not have kings and princes expose
themselves to such dangers for the sake of a pleasure which, to my
mind, ought not to be one, as it consists in killing an animal that has
done no harm whatever.”

“Quite the contrary, Sancho; you are wrong there,” said the duke; “for
hunting is more suitable and requisite for kings and princes than for
anybody else. The chase is the emblem of war; it has stratagems, wiles,
and crafty devices for overcoming the enemy in safety; in it extreme
cold and intolerable heat have to be borne, indolence and sleep are
despised, the bodily powers are invigorated, the limbs of him who
engages in it are made supple, and, in a word, it is a pursuit which
may be followed without injury to anyone and with enjoyment to many;
and the best of it is, it is not for everybody, as field-sports of
other sorts are, except hawking, which also is only for kings and great
lords. Reconsider your opinion therefore, Sancho, and when you are
governor take to hunting, and you will find the good of it.”

“Nay,” said Sancho, “the good governor should have a broken leg and
keep at home;” it would be a nice thing if, after people had been at
the trouble of coming to look for him on business, the governor were to
be away in the forest enjoying himself; the government would go on
badly in that fashion. By my faith, señor, hunting and amusements are
more fit for idlers than for governors; what I intend to amuse myself
with is playing all fours at Eastertime, and bowls on Sundays and
holidays; for these huntings don’t suit my condition or agree with my
conscience.”

“God grant it may turn out so,” said the duke; “because it’s a long
step from saying to doing.”

“Be that as it may,” said Sancho, “‘pledges don’t distress a good
payer,’ and ‘he whom God helps does better than he who gets up early,’
and ‘it’s the tripes that carry the feet and not the feet the tripes;’
I mean to say that if God gives me help and I do my duty honestly, no
doubt I’ll govern better than a gerfalcon. Nay, let them only put a
finger in my mouth, and they’ll see whether I can bite or not.”

“The curse of God and all his saints upon thee, thou accursed Sancho!”
exclaimed Don Quixote; “when will the day come—as I have often said to
thee—when I shall hear thee make one single coherent, rational remark
without proverbs? Pray, your highnesses, leave this fool alone, for he
will grind your souls between, not to say two, but two thousand
proverbs, dragged in as much in season, and as much to the purpose
as—may God grant as much health to him, or to me if I want to listen to
them!”

“Sancho Panza’s proverbs,” said the duchess, “though more in number
than the Greek Commander’s, are not therefore less to be esteemed for
the conciseness of the maxims. For my own part, I can say they give me
more pleasure than others that may be better brought in and more
seasonably introduced.”

In pleasant conversation of this sort they passed out of the tent into
the wood, and the day was spent in visiting some of the posts and
hiding-places, and then night closed in, not, however, as brilliantly
or tranquilly as might have been expected at the season, for it was
then midsummer; but bringing with it a kind of haze that greatly aided
the project of the duke and duchess; and thus, as night began to fall,
and a little after twilight set in, suddenly the whole wood on all four
sides seemed to be on fire, and shortly after, here, there, on all
sides, a vast number of trumpets and other military instruments were
heard, as if several troops of cavalry were passing through the wood.
The blaze of the fire and the noise of the warlike instruments almost
blinded the eyes and deafened the ears of those that stood by, and
indeed of all who were in the wood. Then there were heard repeated
lelilies after the fashion of the Moors when they rush to battle;
trumpets and clarions brayed, drums beat, fifes played, so unceasingly
and so fast that he could not have had any senses who did not lose them
with the confused din of so many instruments. The duke was astounded,
the duchess amazed, Don Quixote wondering, Sancho Panza trembling, and
indeed, even they who were aware of the cause were frightened. In their
fear, silence fell upon them, and a postillion, in the guise of a
demon, passed in front of them, blowing, in lieu of a bugle, a huge
hollow horn that gave out a horrible hoarse note.

“Ho there! brother courier,” cried the duke, “who are you? Where are
you going? What troops are these that seem to be passing through the
wood?”

To which the courier replied in a harsh, discordant voice, “I am the
devil; I am in search of Don Quixote of La Mancha; those who are coming
this way are six troops of enchanters, who are bringing on a triumphal
car the peerless Dulcinea del Toboso; she comes under enchantment,
together with the gallant Frenchman Montesinos, to give instructions to
Don Quixote as to how, she the said lady, may be disenchanted.”

“If you were the devil, as you say and as your appearance indicates,”
said the duke, “you would have known the said knight Don Quixote of La
Mancha, for you have him here before you.”

“By God and upon my conscience,” said the devil, “I never observed it,
for my mind is occupied with so many different things that I was
forgetting the main thing I came about.”

“This demon must be an honest fellow and a good Christian,” said
Sancho; “for if he wasn’t he wouldn’t swear by God and his conscience;
I feel sure now there must be good souls even in hell itself.”

Without dismounting, the demon then turned to Don Quixote and said,
“The unfortunate but valiant knight Montesinos sends me to thee, the
Knight of the Lions (would that I saw thee in their claws), bidding me
tell thee to wait for him wherever I may find thee, as he brings with
him her whom they call Dulcinea del Toboso, that he may show thee what
is needful in order to disenchant her; and as I came for no more I need
stay no longer; demons of my sort be with thee, and good angels with
these gentles;” and so saying he blew his huge horn, turned about and
went off without waiting for a reply from anyone.

They all felt fresh wonder, but particularly Sancho and Don Quixote;
Sancho to see how, in defiance of the truth, they would have it that
Dulcinea was enchanted; Don Quixote because he could not feel sure
whether what had happened to him in the cave of Montesinos was true or
not; and as he was deep in these cogitations the duke said to him, “Do
you mean to wait, Señor Don Quixote?”

“Why not?” replied he; “here will I wait, fearless and firm, though all
hell should come to attack me.”

“Well then, if I see another devil or hear another horn like the last,
I’ll wait here as much as in Flanders,” said Sancho.

Night now closed in more completely, and many lights began to flit
through the wood, just as those fiery exhalations from the earth, that
look like shooting-stars to our eyes, flit through the heavens; a
frightful noise, too, was heard, like that made by the solid wheels the
ox-carts usually have, by the harsh, ceaseless creaking of which, they
say, the bears and wolves are put to flight, if there happen to be any
where they are passing. In addition to all this commotion, there came a
further disturbance to increase the tumult, for now it seemed as if in
truth, on all four sides of the wood, four encounters or battles were
going on at the same time; in one quarter resounded the dull noise of a
terrible cannonade, in another numberless muskets were being
discharged, the shouts of the combatants sounded almost close at hand,
and farther away the Moorish lelilies were raised again and again. In a
word, the bugles, the horns, the clarions, the trumpets, the drums, the
cannon, the musketry, and above all the tremendous noise of the carts,
all made up together a din so confused and terrific that Don Quixote
had need to summon up all his courage to brave it; but Sancho’s gave
way, and he fell fainting on the skirt of the duchess’s robe, who let
him lie there and promptly bade them throw water in his face. This was
done, and he came to himself by the time that one of the carts with the
creaking wheels reached the spot. It was drawn by four plodding oxen
all covered with black housings; on each horn they had fixed a large
lighted wax taper, and on the top of the cart was constructed a raised
seat, on which sat a venerable old man with a beard whiter than the
very snow, and so long that it fell below his waist; he was dressed in
a long robe of black buckram; for as the cart was thickly set with a
multitude of candles it was easy to make out everything that was on it.
Leading it were two hideous demons, also clad in buckram, with
countenances so frightful that Sancho, having once seen them, shut his
eyes so as not to see them again. As soon as the cart came opposite the
spot the old man rose from his lofty seat, and standing up said in a
loud voice, “I am the sage Lirgandeo,” and without another word the
cart then passed on. Behind it came another of the same form, with
another aged man enthroned, who, stopping the cart, said in a voice no
less solemn than that of the first, “I am the sage Alquife, the great
friend of Urganda the Unknown,” and passed on. Then another cart came
by at the same pace, but the occupant of the throne was not old like
the others, but a man stalwart and robust, and of a forbidding
countenance, who as he came up said in a voice far hoarser and more
devilish, “I am the enchanter Archelaus, the mortal enemy of Amadis of
Gaul and all his kindred,” and then passed on. Having gone a short
distance the three carts halted and the monotonous noise of their
wheels ceased, and soon after they heard another, not noise, but sound
of sweet, harmonious music, of which Sancho was very glad, taking it to
be a good sign; and said he to the duchess, from whom he did not stir a
step, or for a single instant, “Señora, where there’s music there can’t
be mischief.”

“Nor where there are lights and it is bright,” said the duchess; to
which Sancho replied, “Fire gives light, and it’s bright where there
are bonfires, as we see by those that are all round us and perhaps may
burn us; but music is a sign of mirth and merrymaking.”

“That remains to be seen,” said Don Quixote, who was listening to all
that passed; and he was right, as is shown in the following chapter.



p34e.jpg (47K)



CHAPTER XXXV.
WHEREIN IS CONTINUED THE INSTRUCTION GIVEN TO DON QUIXOTE TOUCHING THE
DISENCHANTMENT OF DULCINEA, TOGETHER WITH OTHER MARVELLOUS INCIDENTS




p35a.jpg (108K)

Full Size



They saw advancing towards them, to the sound of this pleasing music,
what they call a triumphal car, drawn by six grey mules with white
linen housings, on each of which was mounted a penitent, robed also in
white, with a large lighted wax taper in his hand. The car was twice
or, perhaps, three times as large as the former ones, and in front and
on the sides stood twelve more penitents, all as white as snow and all
with lighted tapers, a spectacle to excite fear as well as wonder; and
on a raised throne was seated a nymph draped in a multitude of
silver-tissue veils with an embroidery of countless gold spangles
glittering all over them, that made her appear, if not richly, at least
brilliantly, apparelled. She had her face covered with thin transparent
sendal, the texture of which did not prevent the fair features of a
maiden from being distinguished, while the numerous lights made it
possible to judge of her beauty and of her years, which seemed to be
not less than seventeen but not to have yet reached twenty. Beside her
was a figure in a robe of state, as they call it, reaching to the feet,
while the head was covered with a black veil. But the instant the car
was opposite the duke and duchess and Don Quixote the music of the
clarions ceased, and then that of the lutes and harps on the car, and
the figure in the robe rose up, and flinging it apart and removing the
veil from its face, disclosed to their eyes the shape of Death itself,
fleshless and hideous, at which sight Don Quixote felt uneasy, Sancho
frightened, and the duke and duchess displayed a certain trepidation.
Having risen to its feet, this living death, in a sleepy voice and with
a tongue hardly awake, held forth as follows:



p35b.jpg (232K)

Full Size



I am that Merlin who the legends say
The devil had for father, and the lie
Hath gathered credence with the lapse of time.
Of magic prince, of Zoroastric lore
Monarch and treasurer, with jealous eye
I view the efforts of the age to hide
The gallant deeds of doughty errant knights,
Who are, and ever have been, dear to me.
Enchanters and magicians and their kind

Are mostly hard of heart; not so am I;
For mine is tender, soft, compassionate,
And its delight is doing good to all.
In the dim caverns of the gloomy Dis,
Where, tracing mystic lines and characters,
My soul abideth now, there came to me
The sorrow-laden plaint of her, the fair,
The peerless Dulcinea del Toboso.
I knew of her enchantment and her fate,
From high-born dame to peasant wench transformed
And touched with pity, first I turned the leaves
Of countless volumes of my devilish craft,
And then, in this grim grisly skeleton
Myself encasing, hither have I come
To show where lies the fitting remedy
To give relief in such a piteous case.
O thou, the pride and pink of all that I wear

The adamantine steel! O shining light,
O beacon, polestar, path and guide of all
Who, scorning slumber and the lazy down,
Adopt the toilsome life of bloodstained arms!
To thee, great hero who all praise transcends,
La Mancha’s lustre and Iberia’s star,
Don Quixote, wise as brave, to thee I say—
For peerless Dulcinea del Toboso
Her pristine form and beauty to regain,
’Tis needful that thy esquire Sancho shall,
On his own sturdy buttocks bared to heaven,
Three thousand and three hundred lashes lay,
And that they smart and sting and hurt him well.
Thus have the authors of her woe resolved.
And this is, gentles, wherefore I have come.


“By all that’s good,” exclaimed Sancho at this, “I’ll just as soon give
myself three stabs with a dagger as three, not to say three thousand,
lashes. The devil take such a way of disenchanting! I don’t see what my
backside has got to do with enchantments. By God, if Señor Merlin has
not found out some other way of disenchanting the lady Dulcinea del
Toboso, she may go to her grave enchanted.”

“But I’ll take you, Don Clown stuffed with garlic,” said Don Quixote,
“and tie you to a tree as naked as when your mother brought you forth,
and give you, not to say three thousand three hundred, but six thousand
six hundred lashes, and so well laid on that they won’t be got rid of
if you try three thousand three hundred times; don’t answer me a word
or I’ll tear your soul out.”

On hearing this Merlin said, “That will not do, for the lashes worthy
Sancho has to receive must be given of his own free will and not by
force, and at whatever time he pleases, for there is no fixed limit
assigned to him; but it is permitted him, if he likes to commute by
half the pain of this whipping, to let them be given by the hand of
another, though it may be somewhat weighty.”

“Not a hand, my own or anybody else’s, weighty or weighable, shall
touch me,” said Sancho. “Was it I that gave birth to the lady Dulcinea
del Toboso, that my backside is to pay for the sins of her eyes? My
master, indeed, that’s a part of her—for, he’s always calling her ‘my
life’ and ‘my soul,’ and his stay and prop—may and ought to whip
himself for her and take all the trouble required for her
disenchantment. But for me to whip myself! Abernuncio!”

As soon as Sancho had done speaking the nymph in silver that was at the
side of Merlin’s ghost stood up, and removing the thin veil from her
face disclosed one that seemed to all something more than exceedingly
beautiful; and with a masculine freedom from embarrassment and in a
voice not very like a lady’s, addressing Sancho directly, said, “Thou
wretched squire, soul of a pitcher, heart of a cork tree, with bowels
of flint and pebbles; if, thou impudent thief, they bade thee throw
thyself down from some lofty tower; if, enemy of mankind, they asked
thee to swallow a dozen of toads, two of lizards, and three of adders;
if they wanted thee to slay thy wife and children with a sharp
murderous scimitar, it would be no wonder for thee to show thyself
stubborn and squeamish. But to make a piece of work about three
thousand three hundred lashes, what every poor little charity-boy gets
every month—it is enough to amaze, astonish, astound the compassionate
bowels of all who hear it, nay, all who come to hear it in the course
of time. Turn, O miserable, hard-hearted animal, turn, I say, those
timorous owl’s eyes upon these of mine that are compared to radiant
stars, and thou wilt see them weeping trickling streams and rills, and
tracing furrows, tracks, and paths over the fair fields of my cheeks.
Let it move thee, crafty, ill-conditioned monster, to see my blooming
youth—still in its teens, for I am not yet twenty—wasting and withering
away beneath the husk of a rude peasant wench; and if I do not appear
in that shape now, it is a special favour Señor Merlin here has granted
me, to the sole end that my beauty may soften thee; for the tears of
beauty in distress turn rocks into cotton and tigers into ewes. Lay on
to that hide of thine, thou great untamed brute, rouse up thy lusty
vigour that only urges thee to eat and eat, and set free the softness
of my flesh, the gentleness of my nature, and the fairness of my face.
And if thou wilt not relent or come to reason for me, do so for the
sake of that poor knight thou hast beside thee; thy master I mean,
whose soul I can this moment see, how he has it stuck in his throat not
ten fingers from his lips, and only waiting for thy inflexible or
yielding reply to make its escape by his mouth or go back again into
his stomach.”

Don Quixote on hearing this felt his throat, and turning to the duke he
said, “By God, señor, Dulcinea says true, I have my soul stuck here in
my throat like the nut of a crossbow.”

“What say you to this, Sancho?” said the duchess.

“I say, señora,” returned Sancho, “what I said before; as for the
lashes, abernuncio!”

“Abrenuncio, you should say, Sancho, and not as you do,” said the duke.

“Let me alone, your highness,” said Sancho. “I’m not in a humour now to
look into niceties or a letter more or less, for these lashes that are
to be given me, or I’m to give myself, have so upset me, that I don’t
know what I’m saying or doing. But I’d like to know of this lady, my
lady Dulcinea del Toboso, where she learned this way she has of asking
favours. She comes to ask me to score my flesh with lashes, and she
calls me soul of a pitcher, and great untamed brute, and a string of
foul names that the devil is welcome to. Is my flesh brass? or is it
anything to me whether she is enchanted or not? Does she bring with her
a basket of fair linen, shirts, kerchiefs, socks—not that I wear any—to
coax me? No, nothing but one piece of abuse after another, though she
knows the proverb they have here that ‘an ass loaded with gold goes
lightly up a mountain,’ and that ‘gifts break rocks,’ and ‘praying to
God and plying the hammer,’ and that ‘one “take” is better than two
“I’ll give thee’s.”’ Then there’s my master, who ought to stroke me
down and pet me to make me turn wool and carded cotton; he says if he
gets hold of me he’ll tie me naked to a tree and double the tale of
lashes on me. These tender-hearted gentry should consider that it’s not
merely a squire, but a governor they are asking to whip himself; just
as if it was ‘drink with cherries.’ Let them learn, plague take them,
the right way to ask, and beg, and behave themselves; for all times are
not alike, nor are people always in good humour. I’m now ready to burst
with grief at seeing my green coat torn, and they come to ask me to
whip myself of my own free will, I having as little fancy for it as for
turning cacique.”

“Well then, the fact is, friend Sancho,” said the duke, “that unless
you become softer than a ripe fig, you shall not get hold of the
government. It would be a nice thing for me to send my islanders a
cruel governor with flinty bowels, who won’t yield to the tears of
afflicted damsels or to the prayers of wise, magisterial, ancient
enchanters and sages. In short, Sancho, either you must be whipped by
yourself, or they must whip you, or you shan’t be governor.”

“Señor,” said Sancho, “won’t two days’ grace be given me in which to
consider what is best for me?”

“No, certainly not,” said Merlin; “here, this minute, and on the spot,
the matter must be settled; either Dulcinea will return to the cave of
Montesinos and to her former condition of peasant wench, or else in her
present form shall be carried to the Elysian fields, where she will
remain waiting until the number of stripes is completed.”

“Now then, Sancho!” said the duchess, “show courage, and gratitude for
your master Don Quixote’s bread that you have eaten; we are all bound
to oblige and please him for his benevolent disposition and lofty
chivalry. Consent to this whipping, my son; to the devil with the
devil, and leave fear to milksops, for ‘a stout heart breaks bad luck,’
as you very well know.”

To this Sancho replied with an irrelevant remark, which, addressing
Merlin, he made to him, “Will your worship tell me, Señor Merlin—when
that courier devil came up he gave my master a message from Señor
Montesinos, charging him to wait for him here, as he was coming to
arrange how the lady Doña Dulcinea del Toboso was to be disenchanted;
but up to the present we have not seen Montesinos, nor anything like
him.”

To which Merlin made answer, “The devil, Sancho, is a blockhead and a
great scoundrel; I sent him to look for your master, but not with a
message from Montesinos but from myself; for Montesinos is in his cave
expecting, or more properly speaking, waiting for his disenchantment;
for there’s the tail to be skinned yet for him; if he owes you
anything, or you have any business to transact with him, I’ll bring him
to you and put him where you choose; but for the present make up your
mind to consent to this penance, and believe me it will be very good
for you, for soul as well for body—for your soul because of the charity
with which you perform it, for your body because I know that you are of
a sanguine habit and it will do you no harm to draw a little blood.”

“There are a great many doctors in the world; even the enchanters are
doctors,” said Sancho; “however, as everybody tells me the same
thing—though I can’t see it myself—I say I am willing to give myself
the three thousand three hundred lashes, provided I am to lay them on
whenever I like, without any fixing of days or times; and I’ll try and
get out of debt as quickly as I can, that the world may enjoy the
beauty of the lady Dulcinea del Toboso; as it seems, contrary to what I
thought, that she is beautiful after all. It must be a condition, too,
that I am not to be bound to draw blood with the scourge, and that if
any of the lashes happen to be fly-flappers they are to count. Item,
that, in case I should make any mistake in the reckoning, Señor Merlin,
as he knows everything, is to keep count, and let me know how many are
still wanting or over the number.”

“There will be no need to let you know of any over,” said Merlin,
“because, when you reach the full number, the lady Dulcinea will at
once, and that very instant, be disenchanted, and will come in her
gratitude to seek out the worthy Sancho, and thank him, and even reward
him for the good work. So you have no cause to be uneasy about stripes
too many or too few; heaven forbid I should cheat anyone of even a hair
of his head.”

“Well then, in God’s hands be it,” said Sancho; “in the hard case I’m
in I give in; I say I accept the penance on the conditions laid down.”

The instant Sancho uttered these last words the music of the clarions
struck up once more, and again a host of muskets were discharged, and
Don Quixote hung on Sancho’s neck kissing him again and again on the
forehead and cheeks. The duchess and the duke expressed the greatest
satisfaction, the car began to move on, and as it passed the fair
Dulcinea bowed to the duke and duchess and made a low curtsey to
Sancho.



p35c.jpg (284K)

Full Size



And now bright smiling dawn came on apace; the flowers of the field,
revived, raised up their heads, and the crystal waters of the brooks,
murmuring over the grey and white pebbles, hastened to pay their
tribute to the expectant rivers; the glad earth, the unclouded sky, the
fresh breeze, the clear light, each and all showed that the day that
came treading on the skirts of morning would be calm and bright. The
duke and duchess, pleased with their hunt and at having carried out
their plans so cleverly and successfully, returned to their castle
resolved to follow up their joke; for to them there was no reality that
could afford them more amusement.



p35e.jpg (10K)



CHAPTER XXXVI.
WHEREIN IS RELATED THE STRANGE AND UNDREAMT-OF ADVENTURE OF THE
DISTRESSED DUENNA, ALIAS THE COUNTESS TRIFALDI, TOGETHER WITH A LETTER
WHICH SANCHO PANZA WROTE TO HIS WIFE, TERESA PANZA




p36a.jpg (150K)

Full Size



The duke had a majordomo of a very facetious and sportive turn, and he
it was that played the part of Merlin, made all the arrangements for
the late adventure, composed the verses, and got a page to represent
Dulcinea; and now, with the assistance of his master and mistress, he
got up another of the drollest and strangest contrivances that can be
imagined.

The duchess asked Sancho the next day if he had made a beginning with
his penance task which he had to perform for the disenchantment of
Dulcinea. He said he had, and had given himself five lashes overnight.

The duchess asked him what he had given them with.

He said with his hand.

“That,” said the duchess, “is more like giving oneself slaps than
lashes; I am sure the sage Merlin will not be satisfied with such
tenderness; worthy Sancho must make a scourge with claws, or a
cat-o’-nine tails, that will make itself felt; for it’s with blood that
letters enter, and the release of so great a lady as Dulcinea will not
be granted so cheaply, or at such a paltry price; and remember, Sancho,
that works of charity done in a lukewarm and half-hearted way are
without merit and of no avail.”

To which Sancho replied, “If your ladyship will give me a proper
scourge or cord, I’ll lay on with it, provided it does not hurt too
much; for you must know, boor as I am, my flesh is more cotton than
hemp, and it won’t do for me to destroy myself for the good of anybody
else.”

“So be it by all means,” said the duchess; “to-morrow I’ll give you a
scourge that will be just the thing for you, and will accommodate
itself to the tenderness of your flesh, as if it was its own sister.”

Then said Sancho, “Your highness must know, dear lady of my soul, that
I have a letter written to my wife, Teresa Panza, giving her an account
of all that has happened me since I left her; I have it here in my
bosom, and there’s nothing wanting but to put the address to it; I’d be
glad if your discretion would read it, for I think it runs in the
governor style; I mean the way governors ought to write.”

“And who dictated it?” asked the duchess.

“Who should have dictated but myself, sinner as I am?” said Sancho.

“And did you write it yourself?” said the duchess.

“That I didn’t,” said Sancho; “for I can neither read nor write, though
I can sign my name.”

“Let us see it,” said the duchess, “for never fear but you display in
it the quality and quantity of your wit.”

Sancho drew out an open letter from his bosom, and the duchess, taking
it, found it ran in this fashion:

SANCHO PANZA’S LETTER TO HIS WIFE, TERESA PANZA


If I was well whipped I went mounted like a gentleman; if I have got a
good government it is at the cost of a good whipping. Thou wilt not
understand this just now, my Teresa; by-and-by thou wilt know what it
means. I may tell thee, Teresa, I mean thee to go in a coach, for that
is a matter of importance, because every other way of going is going on
all-fours. Thou art a governor’s wife; take care that nobody speaks
evil of thee behind thy back. I send thee here a green hunting suit
that my lady the duchess gave me; alter it so as to make a petticoat
and bodice for our daughter. Don Quixote, my master, if I am to believe
what I hear in these parts, is a madman of some sense, and a droll
blockhead, and I am in no way behind him. We have been in the cave of
Montesinos, and the sage Merlin has laid hold of me for the
disenchantment of Dulcinea del Toboso, her that is called Aldonza
Lorenzo over there. With three thousand three hundred lashes, less
five, that I’m to give myself, she will be left as entirely
disenchanted as the mother that bore her. Say nothing of this to
anyone; for, make thy affairs public, and some will say they are white
and others will say they are black. I shall leave this in a few days
for my government, to which I am going with a mighty great desire to
make money, for they tell me all new governors set out with the same
desire; I will feel the pulse of it and will let thee know if thou art
to come and live with me or not. Dapple is well and sends many
remembrances to thee; I am not going to leave him behind though they
took me away to be Grand Turk. My lady the duchess kisses thy hands a
thousand times; do thou make a return with two thousand, for as my
master says, nothing costs less or is cheaper than civility. God has
not been pleased to provide another valise for me with another hundred
crowns, like the one the other day; but never mind, my Teresa, the
bell-ringer is in safe quarters, and all will come out in the scouring
of the government; only it troubles me greatly what they tell me—that
once I have tasted it I will eat my hands off after it; and if that is
so it will not come very cheap to me; though to be sure the maimed have
a benefice of their own in the alms they beg for; so that one way or
another thou wilt be rich and in luck. God give it to thee as he can,
and keep me to serve thee. From this castle, the 20th of July, 1614.


Thy husband, the governor,
SANCHO PANZA


When she had done reading the letter the duchess said to Sancho, “On
two points the worthy governor goes rather astray; one is in saying or
hinting that this government has been bestowed upon him for the lashes
that he is to give himself, when he knows (and he cannot deny it) that
when my lord the duke promised it to him nobody ever dreamt of such a
thing as lashes; the other is that he shows himself here to be very
covetous; and I would not have him a money-seeker, for ‘covetousness
bursts the bag,’ and the covetous governor does ungoverned justice.”

“I don’t mean it that way, señora,” said Sancho; “and if you think the
letter doesn’t run as it ought to do, it’s only to tear it up and make
another; and maybe it will be a worse one if it is left to my
gumption.”

“No, no,” said the duchess, “this one will do, and I wish the duke to
see it.”

With this they betook themselves to a garden where they were to dine,
and the duchess showed Sancho’s letter to the duke, who was highly
delighted with it. They dined, and after the cloth had been removed and
they had amused themselves for a while with Sancho’s rich conversation,
the melancholy sound of a fife and harsh discordant drum made itself
heard. All seemed somewhat put out by this dull, confused, martial
harmony, especially Don Quixote, who could not keep his seat from pure
disquietude; as to Sancho, it is needless to say that fear drove him to
his usual refuge, the side or the skirts of the duchess; and indeed and
in truth the sound they heard was a most doleful and melancholy one.
While they were still in uncertainty they saw advancing towards them
through the garden two men clad in mourning robes so long and flowing
that they trailed upon the ground. As they marched they beat two great
drums which were likewise draped in black, and beside them came the
fife player, black and sombre like the others. Following these came a
personage of gigantic stature enveloped rather than clad in a gown of
the deepest black, the skirt of which was of prodigious dimensions.
Over the gown, girdling or crossing his figure, he had a broad baldric
which was also black, and from which hung a huge scimitar with a black
scabbard and furniture. He had his face covered with a transparent
black veil, through which might be descried a very long beard as white
as snow. He came on keeping step to the sound of the drums with great
gravity and dignity; and, in short, his stature, his gait, the
sombreness of his appearance and his following might well have struck
with astonishment, as they did, all who beheld him without knowing who
he was. With this measured pace and in this guise he advanced to kneel
before the duke, who, with the others, awaited him standing. The duke,
however, would not on any account allow him to speak until he had
risen. The prodigious scarecrow obeyed, and standing up, removed the
veil from his face and disclosed the most enormous, the longest, the
whitest and the thickest beard that human eyes had ever beheld until
that moment, and then fetching up a grave, sonorous voice from the
depths of his broad, capacious chest, and fixing his eyes on the duke,
he said:

“Most high and mighty señor, my name is Trifaldin of the White Beard; I
am squire to the Countess Trifaldi, otherwise called the Distressed
Duenna, on whose behalf I bear a message to your highness, which is
that your magnificence will be pleased to grant her leave and
permission to come and tell you her trouble, which is one of the
strangest and most wonderful that the mind most familiar with trouble
in the world could have imagined; but first she desires to know if the
valiant and never vanquished knight, Don Quixote of La Mancha, is in
this your castle, for she has come in quest of him on foot and without
breaking her fast from the kingdom of Kandy to your realms here; a
thing which may and ought to be regarded as a miracle or set down to
enchantment; she is even now at the gate of this fortress or plaisance,
and only waits for your permission to enter. I have spoken.” And with
that he coughed, and stroked down his beard with both his hands, and
stood very tranquilly waiting for the response of the duke, which was
to this effect: “Many days ago, worthy squire Trifaldin of the White
Beard, we heard of the misfortune of my lady the Countess Trifaldi,
whom the enchanters have caused to be called the Distressed Duenna. Bid
her enter, O stupendous squire, and tell her that the valiant knight
Don Quixote of La Mancha is here, and from his generous disposition she
may safely promise herself every protection and assistance; and you may
tell her, too, that if my aid be necessary it will not be withheld, for
I am bound to give it to her by my quality of knight, which involves
the protection of women of all sorts, especially widowed, wronged, and
distressed dames, such as her ladyship seems to be.”

On hearing this Trifaldin bent the knee to the ground, and making a
sign to the fifer and drummers to strike up, he turned and marched out
of the garden to the same notes and at the same pace as when he
entered, leaving them all amazed at his bearing and solemnity. Turning
to Don Quixote, the duke said, “After all, renowned knight, the mists
of malice and ignorance are unable to hide or obscure the light of
valour and virtue. I say so, because your excellence has been barely
six days in this castle, and already the unhappy and the afflicted come
in quest of you from lands far distant and remote, and not in coaches
or on dromedaries, but on foot and fasting, confident that in that
mighty arm they will find a cure for their sorrows and troubles; thanks
to your great achievements, which are circulated all over the known
earth.”

“I wish, señor duke,” replied Don Quixote, “that blessed ecclesiastic,
who at table the other day showed such ill-will and bitter spite
against knights-errant, were here now to see with his own eyes whether
knights of the sort are needed in the world; he would at any rate learn
by experience that those suffering any extraordinary affliction or
sorrow, in extreme cases and unusual misfortunes do not go to look for
a remedy to the houses of jurists or village sacristans, or to the
knight who has never attempted to pass the bounds of his own town, or
to the indolent courtier who only seeks for news to repeat and talk of,
instead of striving to do deeds and exploits for others to relate and
record. Relief in distress, help in need, protection for damsels,
consolation for widows, are to be found in no sort of persons better
than in knights-errant; and I give unceasing thanks to heaven that I am
one, and regard any misfortune or suffering that may befall me in the
pursuit of so honourable a calling as endured to good purpose. Let this
duenna come and ask what she will, for I will effect her relief by the
might of my arm and the dauntless resolution of my bold heart.”



p36e.jpg (22K)



CHAPTER XXXVII.
WHEREIN IS CONTINUED THE NOTABLE ADVENTURE OF THE DISTRESSED DUENNA




p37a.jpg (94K)

Full Size



The duke and duchess were extremely glad to see how readily Don Quixote
fell in with their scheme; but at this moment Sancho observed, “I hope
this señora duenna won’t be putting any difficulties in the way of the
promise of my government; for I have heard a Toledo apothecary, who
talked like a goldfinch, say that where duennas were mixed up nothing
good could happen. God bless me, how he hated them, that same
apothecary! And so what I’m thinking is, if all duennas, of whatever
sort or condition they may be, are plagues and busybodies, what must
they be that are distressed, like this Countess Three-skirts or
Three-tails!—for in my country skirts or tails, tails or skirts, it’s
all one.”

“Hush, friend Sancho,” said Don Quixote; “since this lady duenna comes
in quest of me from such a distant land she cannot be one of those the
apothecary meant; moreover this is a countess, and when countesses
serve as duennas it is in the service of queens and empresses, for in
their own houses they are mistresses paramount and have other duennas
to wait on them.”

To this Doña Rodriguez, who was present, made answer, “My lady the
duchess has duennas in her service that might be countesses if it was
the will of fortune; ‘but laws go as kings like;’ let nobody speak ill
of duennas, above all of ancient maiden ones; for though I am not one
myself, I know and am aware of the advantage a maiden duenna has over
one that is a widow; but ‘he who clipped us has kept the scissors.’”

“For all that,” said Sancho, “there’s so much to be clipped about
duennas, so my barber said, that ‘it will be better not to stir the
rice even though it sticks.’”

“These squires,” returned Doña Rodriguez, “are always our enemies; and
as they are the haunting spirits of the antechambers and watch us at
every step, whenever they are not saying their prayers (and that’s
often enough) they spend their time in tattling about us, digging up
our bones and burying our good name. But I can tell these walking
blocks that we will live in spite of them, and in great houses too,
though we die of hunger and cover our flesh, be it delicate or not,
with widow’s weeds, as one covers or hides a dunghill on a procession
day. By my faith, if it were permitted me and time allowed, I could
prove, not only to those here present, but to all the world, that there
is no virtue that is not to be found in a duenna.”

“I have no doubt,” said the duchess, “that my good Doña Rodriguez is
right, and very much so; but she had better bide her time for fighting
her own battle and that of the rest of the duennas, so as to crush the
calumny of that vile apothecary, and root out the prejudice in the
great Sancho Panza’s mind.”

To which Sancho replied, “Ever since I have sniffed the governorship I
have got rid of the humours of a squire, and I don’t care a wild fig
for all the duennas in the world.”

They would have carried on this duenna dispute further had they not
heard the notes of the fife and drums once more, from which they
concluded that the Distressed Duenna was making her entrance. The
duchess asked the duke if it would be proper to go out to receive her,
as she was a countess and a person of rank.

“In respect of her being a countess,” said Sancho, before the duke
could reply, “I am for your highnesses going out to receive her; but in
respect of her being a duenna, it is my opinion you should not stir a
step.”

“Who bade thee meddle in this, Sancho?” said Don Quixote.

“Who, señor?” said Sancho; “I meddle for I have a right to meddle, as a
squire who has learned the rules of courtesy in the school of your
worship, the most courteous and best-bred knight in the whole world of
courtliness; and in these things, as I have heard your worship say, as
much is lost by a card too many as by a card too few, and to one who
has his ears open, few words.”

“Sancho is right,” said the duke; “we’ll see what the countess is like,
and by that measure the courtesy that is due to her.”

And now the drums and fife made their entrance as before; and here the
author brought this short chapter to an end and began the next,
following up the same adventure, which is one of the most notable in
the history.



p37e.jpg (21K)



CHAPTER XXXVIII.
WHEREIN IS TOLD THE DISTRESSED DUENNA’S TALE OF HER MISFORTUNES




p38a.jpg (54K)

Full Size



Following the melancholy musicians there filed into the garden as many
as twelve duennas, in two lines, all dressed in ample mourning robes
apparently of milled serge, with hoods of fine white gauze so long that
they allowed only the border of the robe to be seen. Behind them came
the Countess Trifaldi, the squire Trifaldin of the White Beard leading
her by the hand, clad in the finest unnapped black baize, such that,
had it a nap, every tuft would have shown as big as a Martos chickpea;
the tail, or skirt, or whatever it might be called, ended in three
points which were borne up by the hands of three pages, likewise
dressed in mourning, forming an elegant geometrical figure with the
three acute angles made by the three points, from which all who saw the
peaked skirt concluded that it must be because of it the countess was
called Trifaldi, as though it were Countess of the Three Skirts; and
Benengeli says it was so, and that by her right name she was called the
Countess Lobuna, because wolves bred in great numbers in her country;
and if, instead of wolves, they had been foxes, she would have been
called the Countess Zorruna, as it was the custom in those parts for
lords to take distinctive titles from the thing or things most abundant
in their dominions; this countess, however, in honour of the new
fashion of her skirt, dropped Lobuna and took up Trifaldi.

The twelve duennas and the lady came on at procession pace, their faces
being covered with black veils, not transparent ones like Trifaldin’s,
but so close that they allowed nothing to be seen through them. As soon
as the band of duennas was fully in sight, the duke, the duchess, and
Don Quixote stood up, as well as all who were watching the slow-moving
procession. The twelve duennas halted and formed a lane, along which
the Distressed One advanced, Trifaldin still holding her hand. On
seeing this the duke, the duchess, and Don Quixote went some twelve
paces forward to meet her. She then, kneeling on the ground, said in a
voice hoarse and rough, rather than fine and delicate, “May it please
your highnesses not to offer such courtesies to this your servant, I
should say to this your handmaid, for I am in such distress that I
shall never be able to make a proper return, because my strange and
unparalleled misfortune has carried off my wits, and I know not
whither; but it must be a long way off, for the more I look for them
the less I find them.”

“He would be wanting in wits, señora countess,” said the duke, “who did
not perceive your worth by your person, for at a glance it may be seen
it deserves all the cream of courtesy and flower of polite usage;” and
raising her up by the hand he led her to a seat beside the duchess, who
likewise received her with great urbanity. Don Quixote remained silent,
while Sancho was dying to see the features of Trifaldi and one or two
of her many duennas; but there was no possibility of it until they
themselves displayed them of their own accord and free will.

All kept still, waiting to see who would break silence, which the
Distressed Duenna did in these words: “I am confident, most mighty
lord, most fair lady, and most discreet company, that my most miserable
misery will be accorded a reception no less dispassionate than generous
and condolent in your most valiant bosoms, for it is one that is enough
to melt marble, soften diamonds, and mollify the steel of the most
hardened hearts in the world; but ere it is proclaimed to your hearing,
not to say your ears, I would fain be enlightened whether there be
present in this society, circle, or company, that knight
immaculatissimus, Don Quixote de la Manchissima, and his squirissimus
Panza.”

“The Panza is here,” said Sancho, before anyone could reply, “and Don
Quixotissimus too; and so, most distressedest Duenissima, you may say
what you willissimus, for we are all readissimus to do you any
servissimus.”

On this Don Quixote rose, and addressing the Distressed Duenna, said,
“If your sorrows, afflicted lady, can indulge in any hope of relief
from the valour or might of any knight-errant, here are mine, which,
feeble and limited though they be, shall be entirely devoted to your
service. I am Don Quixote of La Mancha, whose calling it is to give aid
to the needy of all sorts; and that being so, it is not necessary for
you, señora, to make any appeal to benevolence, or deal in preambles,
only to tell your woes plainly and straightforwardly: for you have
hearers that will know how, if not to remedy them, to sympathise with
them.”

On hearing this, the Distressed Duenna made as though she would throw
herself at Don Quixote’s feet, and actually did fall before them and
said, as she strove to embrace them, “Before these feet and legs I cast
myself, O unconquered knight, as before, what they are, the foundations
and pillars of knight-errantry; these feet I desire to kiss, for upon
their steps hangs and depends the sole remedy for my misfortune, O
valorous errant, whose veritable achievements leave behind and eclipse
the fabulous ones of the Amadises, Esplandians, and Belianises!” Then
turning from Don Quixote to Sancho Panza, and grasping his hands, she
said, “O thou, most loyal squire that ever served knight-errant in this
present age or ages past, whose goodness is more extensive than the
beard of Trifaldin my companion here of present, well mayest thou boast
thyself that, in serving the great Don Quixote, thou art serving,
summed up in one, the whole host of knights that have ever borne arms
in the world. I conjure thee, by what thou owest to thy most loyal
goodness, that thou wilt become my kind intercessor with thy master,
that he speedily give aid to this most humble and most unfortunate
countess.”

To this Sancho made answer, “As to my goodness, señora, being as long
and as great as your squire’s beard, it matters very little to me; may
I have my soul well bearded and moustached when it comes to quit this
life, that’s the point; about beards here below I care little or
nothing; but without all these blandishments and prayers, I will beg my
master (for I know he loves me, and, besides, he has need of me just
now for a certain business) to help and aid your worship as far as he
can; unpack your woes and lay them before us, and leave us to deal with
them, for we’ll be all of one mind.”

The duke and duchess, as it was they who had made the experiment of
this adventure, were ready to burst with laughter at all this, and
between themselves they commended the clever acting of the Trifaldi,
who, returning to her seat, said, “Queen Doña Maguncia reigned over the
famous kingdom of Kandy, which lies between the great Trapobana and the
Southern Sea, two leagues beyond Cape Comorin. She was the widow of
King Archipiela, her lord and husband, and of their marriage they had
issue the Princess Antonomasia, heiress of the kingdom; which Princess
Antonomasia was reared and brought up under my care and direction, I
being the oldest and highest in rank of her mother’s duennas. Time
passed, and the young Antonomasia reached the age of fourteen, and such
a perfection of beauty, that nature could not raise it higher. Then, it
must not be supposed her intelligence was childish; she was as
intelligent as she was fair, and she was fairer than all the world; and
is so still, unless the envious fates and hard-hearted sisters three
have cut for her the thread of life. But that they have not, for Heaven
will not suffer so great a wrong to Earth, as it would be to pluck
unripe the grapes of the fairest vineyard on its surface. Of this
beauty, to which my poor feeble tongue has failed to do justice,
countless princes, not only of that country, but of others, were
enamoured, and among them a private gentleman, who was at the court,
dared to raise his thoughts to the heaven of so great beauty, trusting
to his youth, his gallant bearing, his numerous accomplishments and
graces, and his quickness and readiness of wit; for I may tell your
highnesses, if I am not wearying you, that he played the guitar so as
to make it speak, and he was, besides, a poet and a great dancer, and
he could make birdcages so well, that by making them alone he might
have gained a livelihood, had he found himself reduced to utter
poverty; and gifts and graces of this kind are enough to bring down a
mountain, not to say a tender young girl. But all his gallantry, wit,
and gaiety, all his graces and accomplishments, would have been of
little or no avail towards gaining the fortress of my pupil, had not
the impudent thief taken the precaution of gaining me over first.
First, the villain and heartless vagabond sought to win my good-will
and purchase my compliance, so as to get me, like a treacherous warder,
to deliver up to him the keys of the fortress I had in charge. In a
word, he gained an influence over my mind, and overcame my resolutions
with I know not what trinkets and jewels he gave me; but it was some
verses I heard him singing one night from a grating that opened on the
street where he lived, that, more than anything else, made me give way
and led to my fall; and if I remember rightly they ran thus:

From that sweet enemy of mine
My bleeding heart hath had its wound;
And to increase the pain I’m bound
To suffer and to make no sign.


The lines seemed pearls to me and his voice sweet as syrup; and
afterwards, I may say ever since then, looking at the misfortune into
which I have fallen, I have thought that poets, as Plato advised, ought
to be banished from all well-ordered States; at least the amatory ones,
for they write verses, not like those of ‘The Marquis of Mantua,’ that
delight and draw tears from the women and children, but sharp-pointed
conceits that pierce the heart like soft thorns, and like the lightning
strike it, leaving the raiment uninjured. Another time he sang:

Come Death, so subtly veiled that I
Thy coming know not, how or when,
Lest it should give me life again
To find how sweet it is to die.


—and other verses and burdens of the same sort, such as enchant when
sung and fascinate when written. And then, when they condescend to
compose a sort of verse that was at that time in vogue in Kandy, which
they call seguidillas! Then it is that hearts leap and laughter breaks
forth, and the body grows restless and all the senses turn quicksilver.
And so I say, sirs, that these troubadours richly deserve to be
banished to the isles of the lizards. Though it is not they that are in
fault, but the simpletons that extol them, and the fools that believe
in them; and had I been the faithful duenna I should have been, his
stale conceits would have never moved me, nor should I have been taken
in by such phrases as ‘in death I live,’ ‘in ice I burn,’ ‘in flames I
shiver,’ ‘hopeless I hope,’ ‘I go and stay,’ and paradoxes of that sort
which their writings are full of. And then when they promise the Phœnix
of Arabia, the crown of Ariadne, the horses of the Sun, the pearls of
the South, the gold of Tibar, and the balsam of Panchaia! Then it is
they give a loose to their pens, for it costs them little to make
promises they have no intention or power of fulfilling. But where am I
wandering to? Woe is me, unfortunate being! What madness or folly leads
me to speak of the faults of others, when there is so much to be said
about my own? Again, woe is me, hapless that I am! it was not verses
that conquered me, but my own simplicity; it was not music made me
yield, but my own imprudence; my own great ignorance and little caution
opened the way and cleared the path for Don Clavijo’s advances, for
that was the name of the gentleman I have referred to; and so, with my
help as go-between, he found his way many a time into the chamber of
the deceived Antonomasia (deceived not by him but by me) under the
title of a lawful husband; for, sinner though I was, would not have
allowed him to approach the edge of her shoe-sole without being her
husband. No, no, not that; marriage must come first in any business of
this sort that I take in hand. But there was one hitch in this case,
which was that of inequality of rank, Don Clavijo being a private
gentleman, and the Princess Antonomasia, as I said, heiress to the
kingdom. The entanglement remained for some time a secret, kept hidden
by my cunning precautions, until I perceived that a certain expansion
of waist in Antonomasia must before long disclose it, the dread of
which made us all there take counsel together, and it was agreed that
before the mischief came to light, Don Clavijo should demand
Antonomasia as his wife before the Vicar, in virtue of an agreement to
marry him made by the princess, and drafted by my wit in such binding
terms that the might of Samson could not have broken it. The necessary
steps were taken; the Vicar saw the agreement, and took the lady’s
confession; she confessed everything in full, and he ordered her into
the custody of a very worthy alguacil of the court.”

“Are there alguacils of the court in Kandy, too,” said Sancho at this,
“and poets, and seguidillas? I swear I think the world is the same all
over! But make haste, Señora Trifaldi; for it is late, and I am dying
to know the end of this long story.”

“I will,” replied the countess.



p38e.jpg (22K)



CHAPTER XXXIX.
IN WHICH THE TRIFALDI CONTINUES HER MARVELLOUS AND MEMORABLE STORY




p39a.jpg (96K)

Full Size



By every word that Sancho uttered, the duchess was as much delighted as
Don Quixote was driven to desperation. He bade him hold his tongue, and
the Distressed One went on to say: “At length, after much questioning
and answering, as the princess held to her story, without changing or
varying her previous declaration, the Vicar gave his decision in favour
of Don Clavijo, and she was delivered over to him as his lawful wife;
which the Queen Doña Maguncia, the Princess Antonomasia’s mother, so
took to heart, that within the space of three days we buried her.”

“She died, no doubt,” said Sancho.

“Of course,” said Trifaldin; “they don’t bury living people in Kandy,
only the dead.”

“Señor Squire,” said Sancho, “a man in a swoon has been known to be
buried before now, in the belief that he was dead; and it struck me
that Queen Maguncia ought to have swooned rather than died; because
with life a great many things come right, and the princess’s folly was
not so great that she need feel it so keenly. If the lady had married
some page of hers, or some other servant of the house, as many another
has done, so I have heard say, then the mischief would have been past
curing. But to marry such an elegant accomplished gentleman as has been
just now described to us—indeed, indeed, though it was a folly, it was
not such a great one as you think; for according to the rules of my
master here—and he won’t allow me to lie—as of men of letters bishops
are made, so of gentlemen knights, specially if they be errant, kings
and emperors may be made.”

“Thou art right, Sancho,” said Don Quixote, “for with a knight-errant,
if he has but two fingers’ breadth of good fortune, it is on the cards
to become the mightiest lord on earth. But let señora the Distressed
One proceed; for I suspect she has got yet to tell us the bitter part
of this so far sweet story.”

“The bitter is indeed to come,” said the countess; “and such bitter
that colocynth is sweet and oleander toothsome in comparison. The
queen, then, being dead, and not in a swoon, we buried her; and hardly
had we covered her with earth, hardly had we said our last farewells,
when, _quis talia fando temperet a lachrymis?_ over the queen’s grave
there appeared, mounted upon a wooden horse, the giant Malambruno,
Maguncia’s first cousin, who besides being cruel is an enchanter; and
he, to revenge the death of his cousin, punish the audacity of Don
Clavijo, and in wrath at the contumacy of Antonomasia, left them both
enchanted by his art on the grave itself; she being changed into an ape
of brass, and he into a horrible crocodile of some unknown metal; while
between the two there stands a pillar, also of metal, with certain
characters in the Syriac language inscribed upon it, which, being
translated into Kandian, and now into Castilian, contain the following
sentence: ‘These two rash lovers shall not recover their former shape
until the valiant Manchegan comes to do battle with me in single
combat; for the Fates reserve this unexampled adventure for his mighty
valour alone.’ This done, he drew from its sheath a huge broad
scimitar, and seizing me by the hair he made as though he meant to cut
my throat and shear my head clean off. I was terror-stricken, my voice
stuck in my throat, and I was in the deepest distress; nevertheless I
summoned up my strength as well as I could, and in a trembling and
piteous voice I addressed such words to him as induced him to stay the
infliction of a punishment so severe. He then caused all the duennas of
the palace, those that are here present, to be brought before him; and
after having dwelt upon the enormity of our offence, and denounced
duennas, their characters, their evil ways and worse intrigues, laying
to the charge of all what I alone was guilty of, he said he would not
visit us with capital punishment, but with others of a slow nature
which would be in effect civil death for ever; and the very instant he
ceased speaking we all felt the pores of our faces opening, and
pricking us, as if with the points of needles. We at once put our hands
up to our faces and found ourselves in the state you now see.”

Here the Distressed One and the other duennas raised the veils with
which they were covered, and disclosed countenances all bristling with
beards, some red, some black, some white, and some grizzled, at which
spectacle the duke and duchess made a show of being filled with wonder.
Don Quixote and Sancho were overwhelmed with amazement, and the
bystanders lost in astonishment, while the Trifaldi went on to say:
“Thus did that malevolent villain Malambruno punish us, covering the
tenderness and softness of our faces with these rough bristles! Would
to heaven that he had swept off our heads with his enormous scimitar
instead of obscuring the light of our countenances with these
wool-combings that cover us! For if we look into the matter, sirs (and
what I am now going to say I would say with eyes flowing like
fountains, only that the thought of our misfortune and the oceans they
have already wept, keep them as dry as barley spears, and so I say it
without tears), where, I ask, can a duenna with a beard go to? What
father or mother will feel pity for her? Who will help her? For, if
even when she has a smooth skin, and a face tortured by a thousand
kinds of washes and cosmetics, she can hardly get anybody to love her,
what will she do when she shows a countenance turned into a thicket? Oh
duennas, companions mine! it was an unlucky moment when we were born
and an ill-starred hour when our fathers begot us!” And as she said
this she showed signs of being about to faint.



p39e.jpg (27K)



CHAPTER XL.
OF MATTERS RELATING AND BELONGING TO THIS ADVENTURE AND TO THIS
MEMORABLE HISTORY




p40a.jpg (129K)

Full Size



Verily and truly all those who find pleasure in histories like this
ought show their gratitude to Cide Hamete, its original author, for the
scrupulous care he has taken to set before us all its minute
particulars, not leaving anything, however trifling it may be, that he
does not make clear and plain. He portrays the thoughts, he reveals the
fancies, he answers implied questions, clears up doubts, sets
objections at rest, and, in a word, makes plain the smallest points the
most inquisitive can desire to know. O renowned author! O happy Don
Quixote! O famous famous droll Sancho! All and each, may ye live
countless ages for the delight and amusement of the dwellers on earth!

The history goes on to say that when Sancho saw the Distressed One
faint he exclaimed: “I swear by the faith of an honest man and the
shades of all my ancestors the Panzas, that never I did see or hear of,
nor has my master related or conceived in his mind, such an adventure
as this. A thousand devils—not to curse thee—take thee, Malambruno, for
an enchanter and a giant! Couldst thou find no other sort of punishment
for these sinners but bearding them? Would it not have been better—it
would have been better for them—to have taken off half their noses from
the middle upwards, even though they’d have snuffled when they spoke,
than to have put beards on them? I’ll bet they have not the means of
paying anybody to shave them.”

“That is the truth, señor,” said one of the twelve; “we have not the
money to get ourselves shaved, and so we have, some of us, taken to
using sticking-plasters by way of an economical remedy, for by applying
them to our faces and plucking them off with a jerk we are left as bare
and smooth as the bottom of a stone mortar. There are, to be sure,
women in Kandy that go about from house to house to remove down, and
trim eyebrows, and make cosmetics for the use of the women, but we, the
duennas of my lady, would never let them in, for most of them have a
flavour of agents that have ceased to be principals; and if we are not
relieved by Señor Don Quixote we shall be carried to our graves with
beards.”

“I will pluck out my own in the land of the Moors,” said Don Quixote,
“if I don’t cure yours.”

At this instant the Trifaldi recovered from her swoon and said, “The
chink of that promise, valiant knight, reached my ears in the midst of
my swoon, and has been the means of reviving me and bringing back my
senses; and so once more I implore you, illustrious errant, indomitable
sir, to let your gracious promises be turned into deeds.”

“There shall be no delay on my part,” said Don Quixote. “Bethink you,
señora, of what I must do, for my heart is most eager to serve you.”

“The fact is,” replied the Distressed One, “it is five thousand
leagues, a couple more or less, from this to the kingdom of Kandy, if
you go by land; but if you go through the air and in a straight line,
it is three thousand two hundred and twenty-seven. You must know, too,
that Malambruno told me that, whenever fate provided the knight our
deliverer, he himself would send him a steed far better and with less
tricks than a post-horse; for he will be that same wooden horse on
which the valiant Pierres carried off the fair Magalona; which said
horse is guided by a peg he has in his forehead that serves for a
bridle, and flies through the air with such rapidity that you would
fancy the very devils were carrying him. This horse, according to
ancient tradition, was made by Merlin. He lent him to Pierres, who was
a friend of his, and who made long journeys with him, and, as has been
said, carried off the fair Magalona, bearing her through the air on its
haunches and making all who beheld them from the earth gape with
astonishment; and he never lent him save to those whom he loved or
those who paid him well; and since the great Pierres we know of no one
having mounted him until now. From him Malambruno stole him by his
magic art, and he has him now in his possession, and makes use of him
in his journeys which he constantly makes through different parts of
the world; he is here to-day, to-morrow in France, and the next day in
Potosi; and the best of it is the said horse neither eats nor sleeps
nor wears out shoes, and goes at an ambling pace through the air
without wings, so that he whom he has mounted upon him can carry a cup
full of water in his hand without spilling a drop, so smoothly and
easily does he go, for which reason the fair Magalona enjoyed riding
him greatly.”

“For going smoothly and easily,” said Sancho at this, “give me my
Dapple, though he can’t go through the air; but on the ground I’ll back
him against all the amblers in the world.”

They all laughed, and the Distressed One continued: “And this same
horse, if so be that Malambruno is disposed to put an end to our
sufferings, will be here before us ere the night shall have advanced
half an hour; for he announced to me that the sign he would give me
whereby I might know that I had found the knight I was in quest of,
would be to send me the horse wherever he might be, speedily and
promptly.”

“And how many is there room for on this horse?” asked Sancho.

“Two,” said the Distressed One, “one in the saddle, and the other on
the croup; and generally these two are knight and squire, when there is
no damsel that’s being carried off.”

“I’d like to know, Señora Distressed One,” said Sancho, “what is the
name of this horse?”

“His name,” said the Distressed One, “is not the same as Bellerophon’s
horse that was called Pegasus, or Alexander the Great’s, called
Bucephalus, or Orlando Furioso’s, the name of which was Brigliador, nor
yet Bayard, the horse of Reinaldos of Montalvan, nor Frontino like
Ruggiero’s, nor Bootes or Peritoa, as they say the horses of the sun
were called, nor is he called Orelia, like the horse on which the
unfortunate Rodrigo, the last king of the Goths, rode to the battle
where he lost his life and his kingdom.”

“I’ll bet,” said Sancho, “that as they have given him none of these
famous names of well-known horses, no more have they given him the name
of my master’s Rocinante, which for being apt surpasses all that have
been mentioned.”

“That is true,” said the bearded countess, “still it fits him very
well, for he is called Clavileño the Swift, which name is in accordance
with his being made of wood, with the peg he has in his forehead, and
with the swift pace at which he travels; and so, as far as name goes,
he may compare with the famous Rocinante.”

“I have nothing to say against his name,” said Sancho; “but with what
sort of bridle or halter is he managed?”

“I have said already,” said the Trifaldi, “that it is with a peg, by
turning which to one side or the other the knight who rides him makes
him go as he pleases, either through the upper air, or skimming and
almost sweeping the earth, or else in that middle course that is sought
and followed in all well-regulated proceedings.”

“I’d like to see him,” said Sancho; “but to fancy I’m going to mount
him, either in the saddle or on the croup, is to ask pears of the elm
tree. A good joke indeed! I can hardly keep my seat upon Dapple, and on
a pack-saddle softer than silk itself, and here they’d have me hold on
upon haunches of plank without pad or cushion of any sort! Gad, I have
no notion of bruising myself to get rid of anyone’s beard; let each one
shave himself as best he can; I’m not going to accompany my master on
any such long journey; besides, I can’t give any help to the shaving of
these beards as I can to the disenchantment of my lady Dulcinea.”

“Yes, you can, my friend,” replied the Trifaldi; “and so much, that
without you, so I understand, we shall be able to do nothing.”

“In the king’s name!” exclaimed Sancho, “what have squires got to do
with the adventures of their masters? Are they to have the fame of such
as they go through, and we the labour? Body o’ me! if the historians
would only say, ‘Such and such a knight finished such and such an
adventure, but with the help of so and so, his squire, without which it
would have been impossible for him to accomplish it;’ but they write
curtly, “Don Paralipomenon of the Three Stars accomplished the
adventure of the six monsters;’ without mentioning such a person as his
squire, who was there all the time, just as if there was no such being.
Once more, sirs, I say my master may go alone, and much good may it do
him; and I’ll stay here in the company of my lady the duchess; and
maybe when he comes back, he will find the lady Dulcinea’s affair ever
so much advanced; for I mean in leisure hours, and at idle moments, to
give myself a spell of whipping without so much as a hair to cover me.”

“For all that you must go if it be necessary, my good Sancho,” said the
duchess, “for they are worthy folk who ask you; and the faces of these
ladies must not remain overgrown in this way because of your idle
fears; that would be a hard case indeed.”

“In the king’s name, once more!” said Sancho; “If this charitable work
were to be done for the sake of damsels in confinement or
charity-girls, a man might expose himself to some hardships; but to
bear it for the sake of stripping beards off duennas! Devil take it!
I’d sooner see them all bearded, from the highest to the lowest, and
from the most prudish to the most affected.”

“You are very hard on duennas, Sancho my friend,” said the duchess;
“you incline very much to the opinion of the Toledo apothecary. But
indeed you are wrong; there are duennas in my house that may serve as
patterns of duennas; and here is my Doña Rodriguez, who will not allow
me to say otherwise.”

“Your excellence may say it if you like,” said the Rodriguez; “for God
knows the truth of everything; and whether we duennas are good or bad,
bearded or smooth, we are our mothers’ daughters like other women; and
as God sent us into the world, he knows why he did, and on his mercy I
rely, and not on anybody’s beard.”

“Well, Señora Rodriguez, Señora Trifaldi, and present company,” said
Don Quixote, “I trust in Heaven that it will look with kindly eyes upon
your troubles, for Sancho will do as I bid him. Only let Clavileño come
and let me find myself face to face with Malambruno, and I am certain
no razor will shave you more easily than my sword shall shave
Malambruno’s head off his shoulders; for ‘God bears with the wicked,
but not for ever.”

“Ah!” exclaimed the Distressed One at this, “may all the stars of the
celestial regions look down upon your greatness with benign eyes,
valiant knight, and shed every prosperity and valour upon your heart,
that it may be the shield and safeguard of the abused and downtrodden
race of duennas, detested by apothecaries, sneered at by squires, and
made game of by pages. Ill betide the jade that in the flower of her
youth would not sooner become a nun than a duenna! Unfortunate beings
that we are, we duennas! Though we may be descended in the direct male
line from Hector of Troy himself, our mistresses never fail to address
us as ‘you’ if they think it makes queens of them. O giant Malambruno,
though thou art an enchanter, thou art true to thy promises. Send us
now the peerless Clavileño, that our misfortune may be brought to an
end; for if the hot weather sets in and these beards of ours are still
there, alas for our lot!”

The Trifaldi said this in such a pathetic way that she drew tears from
the eyes of all and even Sancho’s filled up; and he resolved in his
heart to accompany his master to the uttermost ends of the earth, if so
be the removal of the wool from those venerable countenances depended
upon it.



p40e.jpg (13K)



CHAPTER XLI.
OF THE ARRIVAL OF CLAVILEÑO AND THE END OF THIS PROTRACTED ADVENTURE




p41a.jpg (138K)

Full Size



And now night came, and with it the appointed time for the arrival of
the famous horse Clavileño, the non-appearance of which was already
beginning to make Don Quixote uneasy, for it struck him that, as
Malambruno was so long about sending it, either he himself was not the
knight for whom the adventure was reserved, or else Malambruno did not
dare to meet him in single combat. But lo! suddenly there came into the
garden four wild-men all clad in green ivy bearing on their shoulders a
great wooden horse. They placed it on its feet on the ground, and one
of the wild-men said, “Let the knight who has heart for it mount this
machine.”

Here Sancho exclaimed, “I don’t mount, for neither have I the heart nor
am I a knight.”

“And let the squire, if he has one,” continued the wild-man, “take his
seat on the croup, and let him trust the valiant Malambruno; for by no
sword save his, nor by the malice of any other, shall he be assailed.
It is but to turn this peg the horse has in his neck, and he will bear
them through the air to where Malambruno awaits them; but lest the vast
elevation of their course should make them giddy, their eyes must be
covered until the horse neighs, which will be the sign of their having
completed their journey.”

With these words, leaving Clavileño behind them, they retired with easy
dignity the way they came. As soon as the Distressed One saw the horse,
almost in tears she exclaimed to Don Quixote, “Valiant knight, the
promise of Malambruno has proved trustworthy; the horse has come, our
beards are growing, and by every hair in them all of us implore thee to
shave and shear us, as it is only mounting him with thy squire and
making a happy beginning with your new journey.”

“That I will, Señora Countess Trifaldi,” said Don Quixote, “most gladly
and with right goodwill, without stopping to take a cushion or put on
my spurs, so as not to lose time, such is my desire to see you and all
these duennas shaved clean.”

“That I won’t,” said Sancho, “with good-will or bad-will, or any way at
all; and if this shaving can’t be done without my mounting on the
croup, my master had better look out for another squire to go with him,
and these ladies for some other way of making their faces smooth; I’m
no witch to have a taste for travelling through the air. What would my
islanders say when they heard their governor was going, strolling about
on the winds? And another thing, as it is three thousand and odd
leagues from this to Kandy, if the horse tires, or the giant takes
huff, we’ll be half a dozen years getting back, and there won’t be isle
or island in the world that will know me: and so, as it is a common
saying ‘in delay there’s danger,’ and ‘when they offer thee a heifer
run with a halter,’ these ladies’ beards must excuse me; ‘Saint Peter
is very well in Rome;’ I mean I am very well in this house where so
much is made of me, and I hope for such a good thing from the master as
to see myself a governor.”

“Friend Sancho,” said the duke at this, “the island that I have
promised you is not a moving one, or one that will run away; it has
roots so deeply buried in the bowels of the earth that it will be no
easy matter to pluck it up or shift it from where it is; you know as
well as I do that there is no sort of office of any importance that is
not obtained by a bribe of some kind, great or small; well then, that
which I look to receive for this government is that you go with your
master Don Quixote, and bring this memorable adventure to a conclusion;
and whether you return on Clavileño as quickly as his speed seems to
promise, or adverse fortune brings you back on foot travelling as a
pilgrim from hostel to hostel and from inn to inn, you will always find
your island on your return where you left it, and your islanders with
the same eagerness they have always had to receive you as their
governor, and my good-will will remain the same; doubt not the truth of
this, Señor Sancho, for that would be grievously wronging my
disposition to serve you.”

“Say no more, señor,” said Sancho; “I am a poor squire and not equal to
carrying so much courtesy; let my master mount; bandage my eyes and
commit me to God’s care, and tell me if I may commend myself to our
Lord or call upon the angels to protect me when we go towering up
there.”

To this the Trifaldi made answer, “Sancho, you may freely commend
yourself to God or whom you will; for Malambruno though an enchanter is
a Christian, and works his enchantments with great circumspection,
taking very good care not to fall out with anyone.”

“Well then,” said Sancho, “God and the most holy Trinity of Gaeta give
me help!”

“Since the memorable adventure of the fulling mills,” said Don Quixote,
“I have never seen Sancho in such a fright as now; were I as
superstitious as others his abject fear would cause me some little
trepidation of spirit. But come here, Sancho, for with the leave of
these gentles I would say a word or two to thee in private;” and
drawing Sancho aside among the trees of the garden and seizing both his
hands he said, “Thou seest, brother Sancho, the long journey we have
before us, and God knows when we shall return, or what leisure or
opportunities this business will allow us; I wish thee therefore to
retire now to thy chamber, as though thou wert going to fetch something
required for the road, and in a trice give thyself if it be only five
hundred lashes on account of the three thousand three hundred to which
thou art bound; it will be all to the good, and to make a beginning
with a thing is to have it half finished.”

“By God,” said Sancho, “but your worship must be out of your senses!
This is like the common saying, ‘You see me with child, and you want me
a virgin.’ Just as I’m about to go sitting on a bare board, your
worship would have me score my backside! Indeed, your worship is not
reasonable. Let us be off to shave these duennas; and on our return I
promise on my word to make such haste to wipe off all that’s due as
will satisfy your worship; I can’t say more.”

“Well, I will comfort myself with that promise, my good Sancho,”
replied Don Quixote, “and I believe thou wilt keep it; for indeed
though stupid thou art veracious.”

“I’m not voracious,” said Sancho, “only peckish; but even if I was a
little, still I’d keep my word.”

With this they went back to mount Clavileño, and as they were about to
do so Don Quixote said, “Cover thine eyes, Sancho, and mount; for one
who sends for us from lands so far distant cannot mean to deceive us
for the sake of the paltry glory to be derived from deceiving persons
who trust in him; though all should turn out the contrary of what I
hope, no malice will be able to dim the glory of having undertaken this
exploit.”

“Let us be off, señor,” said Sancho, “for I have taken the beards and
tears of these ladies deeply to heart, and I shan’t eat a bit to relish
it until I have seen them restored to their former smoothness. Mount,
your worship, and blindfold yourself, for if I am to go on the croup,
it is plain the rider in the saddle must mount first.”

“That is true,” said Don Quixote, and, taking a handkerchief out of his
pocket, he begged the Distressed One to bandage his eyes very
carefully; but after having them bandaged he uncovered them again,
saying, “If my memory does not deceive me, I have read in Virgil of the
Palladium of Troy, a wooden horse the Greeks offered to the goddess
Pallas, which was big with armed knights, who were afterwards the
destruction of Troy; so it would be as well to see, first of all, what
Clavileño has in his stomach.”

“There is no occasion,” said the Distressed One; “I will be bail for
him, and I know that Malambruno has nothing tricky or treacherous about
him; you may mount without any fear, Señor Don Quixote; on my head be
it if any harm befalls you.”

Don Quixote thought that to say anything further with regard to his
safety would be putting his courage in an unfavourable light; and so,
without more words, he mounted Clavileño, and tried the peg, which
turned easily; and as he had no stirrups and his legs hung down, he
looked like nothing so much as a figure in some Roman triumph painted
or embroidered on a Flemish tapestry.

Much against the grain, and very slowly, Sancho proceeded to mount,
and, after settling himself as well as he could on the croup, found it
rather hard, and not at all soft, and asked the duke if it would be
possible to oblige him with a pad of some kind, or a cushion; even if
it were off the couch of his lady the duchess, or the bed of one of the
pages; as the haunches of that horse were more like marble than wood.
On this the Trifaldi observed that Clavileño would not bear any kind of
harness or trappings, and that his best plan would be to sit sideways
like a woman, as in that way he would not feel the hardness so much.

Sancho did so, and, bidding them farewell, allowed his eyes to be
bandaged, but immediately afterwards uncovered them again, and looking
tenderly and tearfully on those in the garden, bade them help him in
his present strait with plenty of Paternosters and Ave Marias, that God
might provide someone to say as many for them, whenever they found
themselves in a similar emergency.

At this Don Quixote exclaimed, “Art thou on the gallows, thief, or at
thy last moment, to use pitiful entreaties of that sort? Cowardly,
spiritless creature, art thou not in the very place the fair Magalona
occupied, and from which she descended, not into the grave, but to
become Queen of France; unless the histories lie? And I who am here
beside thee, may I not put myself on a par with the valiant Pierres,
who pressed this very spot that I now press? Cover thine eyes, cover
thine eyes, abject animal, and let not thy fear escape thy lips, at
least in my presence.”

“Blindfold me,” said Sancho; “as you won’t let me commend myself or be
commended to God, is it any wonder if I am afraid there is a region of
devils about here that will carry us off to Peralvillo?”

They were then blindfolded, and Don Quixote, finding himself settled to
his satisfaction, felt for the peg, and the instant he placed his
fingers on it, all the duennas and all who stood by lifted up their
voices exclaiming, “God guide thee, valiant knight! God be with thee,
intrepid squire! Now, now ye go cleaving the air more swiftly than an
arrow! Now ye begin to amaze and astonish all who are gazing at you
from the earth! Take care not to wobble about, valiant Sancho! Mind
thou fall not, for thy fall will be worse than that rash youth’s who
tried to steer the chariot of his father the Sun!”

As Sancho heard the voices, clinging tightly to his master and winding
his arms round him, he said, “Señor, how do they make out we are going
up so high, if their voices reach us here and they seem to be speaking
quite close to us?”

“Don’t mind that, Sancho,” said Don Quixote; “for as affairs of this
sort, and flights like this are out of the common course of things, you
can see and hear as much as you like a thousand leagues off; but don’t
squeeze me so tight or thou wilt upset me; and really I know not what
thou hast to be uneasy or frightened at, for I can safely swear I never
mounted a smoother-going steed all the days of my life; one would fancy
we never stirred from one place. Banish fear, my friend, for indeed
everything is going as it ought, and we have the wind astern.”

“That’s true,” said Sancho, “for such a strong wind comes against me on
this side, that it seems as if people were blowing on me with a
thousand pair of bellows;” which was the case; they were puffing at him
with a great pair of bellows; for the whole adventure was so well
planned by the duke, the duchess, and their majordomo, that nothing was
omitted to make it perfectly successful.

Don Quixote now, feeling the blast, said, “Beyond a doubt, Sancho, we
must have already reached the second region of the air, where the hail
and snow are generated; the thunder, the lightning, and the
thunderbolts are engendered in the third region, and if we go on
ascending at this rate, we shall shortly plunge into the region of
fire, and I know not how to regulate this peg, so as not to mount up
where we shall be burned.”

And now they began to warm their faces, from a distance, with tow that
could be easily set on fire and extinguished again, fixed on the end of
a cane. On feeling the heat Sancho said, “May I die if we are not
already in that fire place, or very near it, for a good part of my
beard has been singed, and I have a mind, señor, to uncover and see
whereabouts we are.”

“Do nothing of the kind,” said Don Quixote; “remember the true story of
the licentiate Torralva that the devils carried flying through the air
riding on a stick with his eyes shut; who in twelve hours reached Rome
and dismounted at Torre di Nona, which is a street of the city, and saw
the whole sack and storming and the death of Bourbon, and was back in
Madrid the next morning, where he gave an account of all he had seen;
and he said moreover that as he was going through the air, the devil
bade him open his eyes, and he did so, and saw himself so near the body
of the moon, so it seemed to him, that he could have laid hold of it
with his hand, and that he did not dare to look at the earth lest he
should be seized with giddiness. So that, Sancho, it will not do for us
to uncover ourselves, for he who has us in charge will be responsible
for us; and perhaps we are gaining an altitude and mounting up to
enable us to descend at one swoop on the kingdom of Kandy, as the saker
or falcon does on the heron, so as to seize it however high it may
soar; and though it seems to us not half an hour since we left the
garden, believe me we must have travelled a great distance.”

“I don’t know how that may be,” said Sancho; “all I know is that if the
Señora Magallanes or Magalona was satisfied with this croup, she could
not have been very tender of flesh.”

The duke, the duchess, and all in the garden were listening to the
conversation of the two heroes, and were beyond measure amused by it;
and now, desirous of putting a finishing touch to this rare and
well-contrived adventure, they applied a light to Clavileño’s tail with
some tow, and the horse, being full of squibs and crackers, immediately
blew up with a prodigious noise, and brought Don Quixote and Sancho
Panza to the ground half singed. By this time the bearded band of
duennas, the Trifaldi and all, had vanished from the garden, and those
that remained lay stretched on the ground as if in a swoon. Don Quixote
and Sancho got up rather shaken, and, looking about them, were filled
with amazement at finding themselves in the same garden from which they
had started, and seeing such a number of people stretched on the
ground; and their astonishment was increased when at one side of the
garden they perceived a tall lance planted in the ground, and hanging
from it by two cords of green silk a smooth white parchment on which
there was the following inscription in large gold letters: “The
illustrious knight Don Quixote of La Mancha has, by merely attempting
it, finished and concluded the adventure of the Countess Trifaldi,
otherwise called the Distressed Duenna; Malambruno is now satisfied on
every point, the chins of the duennas are now smooth and clean, and
King Don Clavijo and Queen Antonomasia in their original form; and when
the squirely flagellation shall have been completed, the white dove
shall find herself delivered from the pestiferous gerfalcons that
persecute her, and in the arms of her beloved mate; for such is the
decree of the sage Merlin, arch-enchanter of enchanters.”

As soon as Don Quixote had read the inscription on the parchment he
perceived clearly that it referred to the disenchantment of Dulcinea,
and returning hearty thanks to heaven that he had with so little danger
achieved so grand an exploit as to restore to their former complexion
the countenances of those venerable duennas, he advanced towards the
duke and duchess, who had not yet come to themselves, and taking the
duke by the hand he said, “Be of good cheer, worthy sir, be of good
cheer; it’s nothing at all; the adventure is now over and without any
harm done, as the inscription fixed on this post shows plainly.”

The duke came to himself slowly and like one recovering consciousness
after a heavy sleep, and the duchess and all who had fallen prostrate
about the garden did the same, with such demonstrations of wonder and
amazement that they would have almost persuaded one that what they
pretended so adroitly in jest had happened to them in reality. The duke
read the placard with half-shut eyes, and then ran to embrace Don
Quixote with open arms, declaring him to be the best knight that had
ever been seen in any age. Sancho kept looking about for the Distressed
One, to see what her face was like without the beard, and if she was as
fair as her elegant person promised; but they told him that, the
instant Clavileño descended flaming through the air and came to the
ground, the whole band of duennas with the Trifaldi vanished, and that
they were already shaved and without a stump left.

The duchess asked Sancho how he had fared on that long journey, to
which Sancho replied, “I felt, señora, that we were flying through the
region of fire, as my master told me, and I wanted to uncover my eyes
for a bit; but my master, when I asked leave to uncover myself, would
not let me; but as I have a little bit of curiosity about me, and a
desire to know what is forbidden and kept from me, quietly and without
anyone seeing me I drew aside the handkerchief covering my eyes ever so
little, close to my nose, and from underneath looked towards the earth,
and it seemed to me that it was altogether no bigger than a grain of
mustard seed, and that the men walking on it were little bigger than
hazel nuts; so you may see how high we must have got to then.”

To this the duchess said, “Sancho, my friend, mind what you are saying;
it seems you could not have seen the earth, but only the men walking on
it; for if the earth looked to you like a grain of mustard seed, and
each man like a hazel nut, one man alone would have covered the whole
earth.”

“That is true,” said Sancho, “but for all that I got a glimpse of a bit
of one side of it, and saw it all.”

“Take care, Sancho,” said the duchess, “with a bit of one side one does
not see the whole of what one looks at.”

“I don’t understand that way of looking at things,” said Sancho; “I
only know that your ladyship will do well to bear in mind that as we
were flying by enchantment so I might have seen the whole earth and all
the men by enchantment whatever way I looked; and if you won’t believe
this, no more will you believe that, uncovering myself nearly to the
eyebrows, I saw myself so close to the sky that there was not a palm
and a half between me and it; and by everything that I can swear by,
señora, it is mighty great! And it so happened we came by where the
seven goats are, and by God and upon my soul, as in my youth I was a
goatherd in my own country, as soon as I saw them I felt a longing to
be among them for a little, and if I had not given way to it I think
I’d have burst. So I come and take, and what do I do? without saying
anything to anybody, not even to my master, softly and quietly I got
down from Clavileño and amused myself with the goats—which are like
violets, like flowers—for nigh three-quarters of an hour; and Clavileño
never stirred or moved from one spot.”

“And while the good Sancho was amusing himself with the goats,” said
the duke, “how did Señor Don Quixote amuse himself?”

To which Don Quixote replied, “As all these things and such like
occurrences are out of the ordinary course of nature, it is no wonder
that Sancho says what he does; for my own part I can only say that I
did not uncover my eyes either above or below, nor did I see sky or
earth or sea or shore. It is true I felt that I was passing through the
region of the air, and even that I touched that of fire; but that we
passed farther I cannot believe; for the region of fire being between
the heaven of the moon and the last region of the air, we could not
have reached that heaven where the seven goats Sancho speaks of are
without being burned; and as we were not burned, either Sancho is lying
or Sancho is dreaming.”

“I am neither lying nor dreaming,” said Sancho; “only ask me the tokens
of those same goats, and you’ll see by that whether I’m telling the
truth or not.”

“Tell us them then, Sancho,” said the duchess.

“Two of them,” said Sancho, “are green, two blood-red, two blue, and
one a mixture of all colours.”

“An odd sort of goat, that,” said the duke; “in this earthly region of
ours we have no such colours; I mean goats of such colours.”

“That’s very plain,” said Sancho; “of course there must be a difference
between the goats of heaven and the goats of the earth.”

“Tell me, Sancho,” said the duke, “did you see any he-goat among those
goats?”

“No, señor,” said Sancho; “but I have heard say that none ever passed
the horns of the moon.”

They did not care to ask him anything more about his journey, for they
saw he was in the vein to go rambling all over the heavens giving an
account of everything that went on there, without having ever stirred
from the garden. Such, in short, was the end of the adventure of the
Distressed Duenna, which gave the duke and duchess laughing matter not
only for the time being, but for all their lives, and Sancho something
to talk about for ages, if he lived so long; but Don Quixote, coming
close to his ear, said to him, “Sancho, as you would have us believe
what you saw in heaven, I require you to believe me as to what I saw in
the cave of Montesinos; I say no more.”



p41e.jpg (38K)



CHAPTER XLII.
OF THE COUNSELS WHICH DON QUIXOTE GAVE SANCHO PANZA BEFORE HE SET OUT
TO GOVERN THE ISLAND, TOGETHER WITH OTHER WELL-CONSIDERED MATTERS




p42a.jpg (120K)

Full Size



The duke and duchess were so well pleased with the successful and droll
result of the adventure of the Distressed One, that they resolved to
carry on the joke, seeing what a fit subject they had to deal with for
making it all pass for reality. So having laid their plans and given
instructions to their servants and vassals how to behave to Sancho in
his government of the promised island, the next day, that following
Clavileño’s flight, the duke told Sancho to prepare and get ready to go
and be governor, for his islanders were already looking out for him as
for the showers of May.

Sancho made him an obeisance, and said, “Ever since I came down from
heaven, and from the top of it beheld the earth, and saw how little it
is, the great desire I had to be a governor has been partly cooled in
me; for what is there grand in being ruler on a grain of mustard seed,
or what dignity or authority in governing half a dozen men about as big
as hazel nuts; for, so far as I could see, there were no more on the
whole earth? If your lordship would be so good as to give me ever so
small a bit of heaven, were it no more than half a league, I’d rather
have it than the best island in the world.”

“Recollect, Sancho,” said the duke, “I cannot give a bit of heaven, no
not so much as the breadth of my nail, to anyone; rewards and favours
of that sort are reserved for God alone. What I can give I give you,
and that is a real, genuine island, compact, well proportioned, and
uncommonly fertile and fruitful, where, if you know how to use your
opportunities, you may, with the help of the world’s riches, gain those
of heaven.”

“Well then,” said Sancho, “let the island come; and I’ll try and be
such a governor, that in spite of scoundrels I’ll go to heaven; and
it’s not from any craving to quit my own humble condition or better
myself, but from the desire I have to try what it tastes like to be a
governor.”

“If you once make trial of it, Sancho,” said the duke, “you’ll eat your
fingers off after the government, so sweet a thing is it to command and
be obeyed. Depend upon it when your master comes to be emperor (as he
will beyond a doubt from the course his affairs are taking), it will be
no easy matter to wrest the dignity from him, and he will be sore and
sorry at heart to have been so long without becoming one.”

“Señor,” said Sancho, “it is my belief it’s a good thing to be in
command, if it’s only over a drove of cattle.”

“May I be buried with you, Sancho,” said the duke, “but you know
everything; I hope you will make as good a governor as your sagacity
promises; and that is all I have to say; and now remember to-morrow is
the day you must set out for the government of the island, and this
evening they will provide you with the proper attire for you to wear,
and all things requisite for your departure.”

“Let them dress me as they like,” said Sancho; “however I’m dressed
I’ll be Sancho Panza.”

“That’s true,” said the duke; “but one’s dress must be suited to the
office or rank one holds; for it would not do for a jurist to dress
like a soldier, or a soldier like a priest. You, Sancho, shall go
partly as a lawyer, partly as a captain, for, in the island I am giving
you, arms are needed as much as letters, and letters as much as arms.”

“Of letters I know but little,” said Sancho, “for I don’t even know the
A B C; but it is enough for me to have the Christus in my memory to be
a good governor. As for arms, I’ll handle those they give me till I
drop, and then, God be my help!”

“With so good a memory,” said the duke, “Sancho cannot go wrong in
anything.”

Here Don Quixote joined them; and learning what passed, and how soon
Sancho was to go to his government, he with the duke’s permission took
him by the hand, and retired to his room with him for the purpose of
giving him advice as to how he was to demean himself in his office. As
soon as they had entered the chamber he closed the door after him, and
almost by force made Sancho sit down beside him, and in a quiet tone
thus addressed him: “I give infinite thanks to heaven, friend Sancho,
that, before I have met with any good luck, fortune has come forward to
meet thee. I who counted upon my good fortune to discharge the
recompense of thy services, find myself still waiting for advancement,
while thou, before the time, and contrary to all reasonable
expectation, seest thyself blessed in the fulfillment of thy desires.
Some will bribe, beg, solicit, rise early, entreat, persist, without
attaining the object of their suit; while another comes, and without
knowing why or wherefore, finds himself invested with the place or
office so many have sued for; and here it is that the common saying,
‘There is good luck as well as bad luck in suits,’ applies. Thou, who,
to my thinking, art beyond all doubt a dullard, without early rising or
night watching or taking any trouble, with the mere breath of
knight-errantry that has breathed upon thee, seest thyself without more
ado governor of an island, as though it were a mere matter of course.
This I say, Sancho, that thou attribute not the favour thou hast
received to thine own merits, but give thanks to heaven that disposes
matters beneficently, and secondly thanks to the great power the
profession of knight-errantry contains in itself. With a heart, then,
inclined to believe what I have said to thee, attend, my son, to thy
Cato here who would counsel thee and be thy polestar and guide to
direct and pilot thee to a safe haven out of this stormy sea wherein
thou art about to ingulf thyself; for offices and great trusts are
nothing else but a mighty gulf of troubles.

“First of all, my son, thou must fear God, for in the fear of him is
wisdom, and being wise thou canst not err in aught.

“Secondly, thou must keep in view what thou art, striving to know
thyself, the most difficult thing to know that the mind can imagine. If
thou knowest thyself, it will follow thou wilt not puff thyself up like
the frog that strove to make himself as large as the ox; if thou dost,
the recollection of having kept pigs in thine own country will serve as
the ugly feet for the wheel of thy folly.”

“That’s the truth,” said Sancho; “but that was when I was a boy;
afterwards when I was something more of a man it was geese I kept, not
pigs. But to my thinking that has nothing to do with it; for all who
are governors don’t come of a kingly stock.”

“True,” said Don Quixote, “and for that reason those who are not of
noble origin should take care that the dignity of the office they hold
be accompanied by a gentle suavity, which wisely managed will save them
from the sneers of malice that no station escapes.

“Glory in thy humble birth, Sancho, and be not ashamed of saying thou
art peasant-born; for when it is seen thou art not ashamed no one will
set himself to put thee to the blush; and pride thyself rather upon
being one of lowly virtue than a lofty sinner. Countless are they who,
born of mean parentage, have risen to the highest dignities, pontifical
and imperial, and of the truth of this I could give thee instances
enough to weary thee.

“Remember, Sancho, if thou make virtue thy aim, and take a pride in
doing virtuous actions, thou wilt have no cause to envy those who have
princely and lordly ones, for blood is an inheritance, but virtue an
acquisition, and virtue has in itself alone a worth that blood does not
possess.

“This being so, if perchance anyone of thy kinsfolk should come to see
thee when thou art in thine island, thou art not to repel or slight
him, but on the contrary to welcome him, entertain him, and make much
of him; for in so doing thou wilt be approved of heaven (which is not
pleased that any should despise what it hath made), and wilt comply
with the laws of well-ordered nature.

“If thou carriest thy wife with thee (and it is not well for those that
administer governments to be long without their wives), teach and
instruct her, and strive to smooth down her natural roughness; for all
that may be gained by a wise governor may be lost and wasted by a
boorish stupid wife.

“If perchance thou art left a widower—a thing which may happen—and in
virtue of thy office seekest a consort of higher degree, choose not one
to serve thee for a hook, or for a fishing-rod, or for the hood of thy
‘won’t have it;’ for verily, I tell thee, for all the judge’s wife
receives, the husband will be held accountable at the general calling
to account; where he will have repay in death fourfold, items that in
life he regarded as naught.

“Never go by arbitrary law, which is so much favoured by ignorant men
who plume themselves on cleverness.

“Let the tears of the poor man find with thee more compassion, but not
more justice, than the pleadings of the rich.

“Strive to lay bare the truth, as well amid the promises and presents
of the rich man, as amid the sobs and entreaties of the poor.

“When equity may and should be brought into play, press not the utmost
rigour of the law against the guilty; for the reputation of the stern
judge stands not higher than that of the compassionate.

“If perchance thou permittest the staff of justice to swerve, let it be
not by the weight of a gift, but by that of mercy.

“If it should happen to thee to give judgment in the cause of one who
is thine enemy, turn thy thoughts away from thy injury and fix them on
the justice of the case.

“Let not thine own passion blind thee in another man’s cause; for the
errors thou wilt thus commit will be most frequently irremediable; or
if not, only to be remedied at the expense of thy good name and even of
thy fortune.

“If any handsome woman come to seek justice of thee, turn away thine
eyes from her tears and thine ears from her lamentations, and consider
deliberately the merits of her demand, if thou wouldst not have thy
reason swept away by her weeping, and thy rectitude by her sighs.

“Abuse not by word him whom thou hast to punish in deed, for the pain
of punishment is enough for the unfortunate without the addition of
thine objurgations.

“Bear in mind that the culprit who comes under thy jurisdiction is but
a miserable man subject to all the propensities of our depraved nature,
and so far as may be in thy power show thyself lenient and forbearing;
for though the attributes of God are all equal, to our eyes that of
mercy is brighter and loftier than that of justice.

“If thou followest these precepts and rules, Sancho, thy days will be
long, thy fame eternal, thy reward abundant, thy felicity unutterable;
thou wilt marry thy children as thou wouldst; they and thy
grandchildren will bear titles; thou wilt live in peace and concord
with all men; and, when life draws to a close, death will come to thee
in calm and ripe old age, and the light and loving hands of thy
great-grandchildren will close thine eyes.

“What I have thus far addressed to thee are instructions for the
adornment of thy mind; listen now to those which tend to that of the
body.”



p42e.jpg (17K)



CHAPTER XLIII.
OF THE SECOND SET OF COUNSELS DON QUIXOTE GAVE SANCHO PANZA




p43a.jpg (129K)

Full Size



Who, hearing the foregoing discourse of Don Quixote, would not have set
him down for a person of great good sense and greater rectitude of
purpose? But, as has been frequently observed in the course of this
great history, he only talked nonsense when he touched on chivalry, and
in discussing all other subjects showed that he had a clear and
unbiassed understanding; so that at every turn his acts gave the lie to
his intellect, and his intellect to his acts; but in the case of these
second counsels that he gave Sancho, he showed himself to have a lively
turn of humour, and displayed conspicuously his wisdom, and also his
folly.

Sancho listened to him with the deepest attention, and endeavoured to
fix his counsels in his memory, like one who meant to follow them and
by their means bring the full promise of his government to a happy
issue. Don Quixote, then, went on to say:

“With regard to the mode in which thou shouldst govern thy person and
thy house, Sancho, the first charge I have to give thee is to be clean,
and to cut thy nails, not letting them grow as some do, whose ignorance
makes them fancy that long nails are an ornament to their hands, as if
those excrescences they neglect to cut were nails, and not the talons
of a lizard-catching kestrel—a filthy and unnatural abuse.

“Go not ungirt and loose, Sancho; for disordered attire is a sign of an
unstable mind, unless indeed the slovenliness and slackness is to be
set down to craft, as was the common opinion in the case of Julius
Cæsar.

“Ascertain cautiously what thy office may be worth; and if it will
allow thee to give liveries to thy servants, give them respectable and
serviceable, rather than showy and gay ones, and divide them between
thy servants and the poor; that is to say, if thou canst clothe six
pages, clothe three and three poor men, and thus thou wilt have pages
for heaven and pages for earth; the vainglorious never think of this
new mode of giving liveries.

“Eat not garlic nor onions, lest they find out thy boorish origin by
the smell; walk slowly and speak deliberately, but not in such a way as
to make it seem thou art listening to thyself, for all affectation is
bad.

“Dine sparingly and sup more sparingly still; for the health of the
whole body is forged in the workshop of the stomach.

“Be temperate in drinking, bearing in mind that wine in excess keeps
neither secrets nor promises.

“Take care, Sancho, not to chew on both sides, and not to eruct in
anybody’s presence.”

“Eruct!” said Sancho; “I don’t know what that means.”

“To eruct, Sancho,” said Don Quixote, “means to belch, and that is one
of the filthiest words in the Spanish language, though a very
expressive one; and therefore nice folk have had recourse to the Latin,
and instead of belch say eruct, and instead of belches say eructations;
and if some do not understand these terms it matters little, for custom
will bring them into use in the course of time, so that they will be
readily understood; this is the way a language is enriched; custom and
the public are all-powerful there.”

“In truth, señor,” said Sancho, “one of the counsels and cautions I
mean to bear in mind shall be this, not to belch, for I’m constantly
doing it.”

“Eruct, Sancho, not belch,” said Don Quixote.

“Eruct, I shall say henceforth, and I swear not to forget it,” said
Sancho.

“Likewise, Sancho,” said Don Quixote, “thou must not mingle such a
quantity of proverbs in thy discourse as thou dost; for though proverbs
are short maxims, thou dost drag them in so often by the head and
shoulders that they savour more of nonsense than of maxims.”

“God alone can cure that,” said Sancho; “for I have more proverbs in me
than a book, and when I speak they come so thick together into my mouth
that they fall to fighting among themselves to get out; that’s why my
tongue lets fly the first that come, though they may not be pat to the
purpose. But I’ll take care henceforward to use such as befit the
dignity of my office; for ‘in a house where there’s plenty, supper is
soon cooked,’ and ‘he who binds does not wrangle,’ and ‘the
bell-ringer’s in a safe berth,’ and ‘giving and keeping require
brains.’”

“That’s it, Sancho!” said Don Quixote; “pack, tack, string proverbs
together; nobody is hindering thee! ‘My mother beats me, and I go on
with my tricks.’ I am bidding thee avoid proverbs, and here in a second
thou hast shot out a whole litany of them, which have as much to do
with what we are talking about as ‘over the hills of Úbeda.’ Mind,
Sancho, I do not say that a proverb aptly brought in is objectionable;
but to pile up and string together proverbs at random makes
conversation dull and vulgar.

“When thou ridest on horseback, do not go lolling with thy body on the
back of the saddle, nor carry thy legs stiff or sticking out from the
horse’s belly, nor yet sit so loosely that one would suppose thou wert
on Dapple; for the seat on a horse makes gentlemen of some and grooms
of others.

“Be moderate in thy sleep; for he who does not rise early does not get
the benefit of the day; and remember, Sancho, diligence is the mother
of good fortune, and indolence, its opposite, never yet attained the
object of an honest ambition.

“The last counsel I will give thee now, though it does not tend to
bodily improvement, I would have thee carry carefully in thy memory,
for I believe it will be no less useful to thee than those I have given
thee already, and it is this—never engage in a dispute about families,
at least in the way of comparing them one with another; for necessarily
one of those compared will be better than the other, and thou wilt be
hated by the one thou hast disparaged, and get nothing in any shape
from the one thou hast exalted.

“Thy attire shall be hose of full length, a long jerkin, and a cloak a
trifle longer; loose breeches by no means, for they are becoming
neither for gentlemen nor for governors.

“For the present, Sancho, this is all that has occurred to me to advise
thee; as time goes by and occasions arise my instructions shall follow,
if thou take care to let me know how thou art circumstanced.”

“Señor,” said Sancho, “I see well enough that all these things your
worship has said to me are good, holy, and profitable; but what use
will they be to me if I don’t remember one of them? To be sure that
about not letting my nails grow, and marrying again if I have the
chance, will not slip out of my head; but all that other hash, muddle,
and jumble—I don’t and can’t recollect any more of it than of last
year’s clouds; so it must be given me in writing; for though I can’t
either read or write, I’ll give it to my confessor, to drive it into me
and remind me of it whenever it is necessary.”

“Ah, sinner that I am!” said Don Quixote, “how bad it looks in
governors not to know how to read or write; for let me tell thee,
Sancho, when a man knows not how to read, or is left-handed, it argues
one of two things; either that he was the son of exceedingly mean and
lowly parents, or that he himself was so incorrigible and
ill-conditioned that neither good company nor good teaching could make
any impression on him. It is a great defect that thou labourest under,
and therefore I would have thee learn at any rate to sign thy name.” “I
can sign my name well enough,” said Sancho, “for when I was steward of
the brotherhood in my village I learned to make certain letters, like
the marks on bales of goods, which they told me made out my name.
Besides I can pretend my right hand is disabled and make someone else
sign for me, for ‘there’s a remedy for everything except death;’ and as
I shall be in command and hold the staff, I can do as I like; moreover,
‘he who has the alcalde for his father-,’ and I’ll be governor, and
that’s higher than alcalde. Only come and see! Let them make light of
me and abuse me; ‘they’ll come for wool and go back shorn;’ ‘whom God
loves, his house is known to Him;’ ‘the silly sayings of the rich pass
for saws in the world;’ and as I’ll be rich, being a governor, and at
the same time generous, as I mean to be, no fault will be seen in me.
‘Only make yourself honey and the flies will suck you;’ ‘as much as
thou hast so much art thou worth,’ as my grandmother used to say; and
‘thou canst have no revenge of a man of substance.’”

“Oh, God’s curse upon thee, Sancho!” here exclaimed Don Quixote; “sixty
thousand devils fly away with thee and thy proverbs! For the last hour
thou hast been stringing them together and inflicting the pangs of
torture on me with every one of them. Those proverbs will bring thee to
the gallows one day, I promise thee; thy subjects will take the
government from thee, or there will be revolts among them. Tell me,
where dost thou pick them up, thou booby? How dost thou apply them,
thou blockhead? For with me, to utter one and make it apply properly, I
have to sweat and labour as if I were digging.”

“By God, master mine,” said Sancho, “your worship is making a fuss
about very little. Why the devil should you be vexed if I make use of
what is my own? And I have got nothing else, nor any other stock in
trade except proverbs and more proverbs; and here are three just this
instant come into my head, pat to the purpose and like pears in a
basket; but I won’t repeat them, for ‘sage silence is called Sancho.’”

“That, Sancho, thou art not,” said Don Quixote; “for not only art thou
not sage silence, but thou art pestilent prate and perversity; still I
would like to know what three proverbs have just now come into thy
memory, for I have been turning over mine own—and it is a good one—and
none occurs to me.”

“What can be better,” said Sancho, “than ‘never put thy thumbs between
two back teeth;’ and ‘to “_get out of my house_” and “_what do you want
with my wife?_” there is no answer;’ and ‘whether the pitcher hits the
stove, or the stove the pitcher, it’s a bad business for the pitcher;’
all which fit to a hair? For no one should quarrel with his governor,
or him in authority over him, because he will come off the worst, as he
does who puts his finger between two back and if they are not back
teeth it makes no difference, so long as they are teeth; and to
whatever the governor may say there’s no answer, any more than to ‘get
out of my house’ and ‘what do you want with my wife?’ and then, as for
that about the stone and the pitcher, a blind man could see that. So
that he ‘who sees the mote in another’s eye had need to see the beam in
his own,’ that it be not said of himself, ‘the dead woman was
frightened at the one with her throat cut;’ and your worship knows well
that ‘the fool knows more in his own house than the wise man in
another’s.’”

“Nay, Sancho,” said Don Quixote, “the fool knows nothing, either in his
own house or in anybody else’s, for no wise structure of any sort can
stand on a foundation of folly; but let us say no more about it,
Sancho, for if thou governest badly, thine will be the fault and mine
the shame; but I comfort myself with having done my duty in advising
thee as earnestly and as wisely as I could; and thus I am released from
my obligations and my promise. God guide thee, Sancho, and govern thee
in thy government, and deliver me from the misgiving I have that thou
wilt turn the whole island upside down, a thing I might easily prevent
by explaining to the duke what thou art and telling him that all that
fat little person of thine is nothing else but a sack full of proverbs
and sauciness.”

“Señor,” said Sancho, “if your worship thinks I’m not fit for this
government, I give it up on the spot; for the mere black of the nail of
my soul is dearer to me than my whole body; and I can live just as
well, simple Sancho, on bread and onions, as governor, on partridges
and capons; and what’s more, while we’re asleep we’re all equal, great
and small, rich and poor. But if your worship looks into it, you will
see it was your worship alone that put me on to this business of
governing; for I know no more about the government of islands than a
buzzard; and if there’s any reason to think that because of my being a
governor the devil will get hold of me, I’d rather go Sancho to heaven
than governor to hell.”

“By God, Sancho,” said Don Quixote, “for those last words thou hast
uttered alone, I consider thou deservest to be governor of a thousand
islands. Thou hast good natural instincts, without which no knowledge
is worth anything; commend thyself to God, and try not to swerve in the
pursuit of thy main object; I mean, always make it thy aim and fixed
purpose to do right in all matters that come before thee, for heaven
always helps good intentions; and now let us go to dinner, for I think
my lord and lady are waiting for us.”



p43e.jpg (41K)



CHAPTER XLIV.
HOW SANCHO PANZA WAS CONDUCTED TO HIS GOVERNMENT, AND OF THE STRANGE
ADVENTURE THAT BEFELL DON QUIXOTE IN THE CASTLE




p44a.jpg (140K)

Full Size



It is stated, they say, in the true original of this history, that when
Cide Hamete came to write this chapter, his interpreter did not
translate it as he wrote it—that is, as a kind of complaint the Moor
made against himself for having taken in hand a story so dry and of so
little variety as this of Don Quixote, for he found himself forced to
speak perpetually of him and Sancho, without venturing to indulge in
digressions and episodes more serious and more interesting. He said,
too, that to go on, mind, hand, pen always restricted to writing upon
one single subject, and speaking through the mouths of a few
characters, was intolerable drudgery, the result of which was never
equal to the author’s labour, and that to avoid this he had in the
First Part availed himself of the device of novels, like “The
Ill-advised Curiosity,” and “The Captive Captain,” which stand, as it
were, apart from the story; the others are given there being incidents
which occurred to Don Quixote himself and could not be omitted. He also
thought, he says, that many, engrossed by the interest attaching to the
exploits of Don Quixote, would take none in the novels, and pass them
over hastily or impatiently without noticing the elegance and art of
their composition, which would be very manifest were they published by
themselves and not as mere adjuncts to the crazes of Don Quixote or the
simplicities of Sancho. Therefore in this Second Part he thought it
best not to insert novels, either separate or interwoven, but only
episodes, something like them, arising out of the circumstances the
facts present; and even these sparingly, and with no more words than
suffice to make them plain; and as he confines and restricts himself to
the narrow limits of the narrative, though he has ability; capacity,
and brains enough to deal with the whole universe, he requests that his
labours may not be despised, and that credit be given him, not alone
for what he writes, but for what he has refrained from writing.

And so he goes on with his story, saying that the day Don Quixote gave
the counsels to Sancho, the same afternoon after dinner he handed them
to him in writing so that he might get someone to read them to him.
They had scarcely, however, been given to him when he let them drop,
and they fell into the hands of the duke, who showed them to the
duchess and they were both amazed afresh at the madness and wit of Don
Quixote. To carry on the joke, then, the same evening they despatched
Sancho with a large following to the village that was to serve him for
an island. It happened that the person who had him in charge was a
majordomo of the duke’s, a man of great discretion and humour—and there
can be no humour without discretion—and the same who played the part of
the Countess Trifaldi in the comical way that has been already
described; and thus qualified, and instructed by his master and
mistress as to how to deal with Sancho, he carried out their scheme
admirably. Now it came to pass that as soon as Sancho saw this
majordomo he seemed in his features to recognise those of the Trifaldi,
and turning to his master, he said to him, “Señor, either the devil
will carry me off, here on this spot, righteous and believing, or your
worship will own to me that the face of this majordomo of the duke’s
here is the very face of the Distressed One.”

Don Quixote regarded the majordomo attentively, and having done so,
said to Sancho, “There is no reason why the devil should carry thee
off, Sancho, either righteous or believing—and what thou meanest by
that I know not; the face of the Distressed One is that of the
majordomo, but for all that the majordomo is not the Distressed One;
for his being so would involve a mighty contradiction; but this is not
the time for going into questions of the sort, which would be involving
ourselves in an inextricable labyrinth. Believe me, my friend, we must
pray earnestly to our Lord that he deliver us both from wicked wizards
and enchanters.”

“It is no joke, señor,” said Sancho, “for before this I heard him
speak, and it seemed exactly as if the voice of the Trifaldi was
sounding in my ears. Well, I’ll hold my peace; but I’ll take care to be
on the look-out henceforth for any sign that may be seen to confirm or
do away with this suspicion.”

“Thou wilt do well, Sancho,” said Don Quixote, “and thou wilt let me
know all thou discoverest, and all that befalls thee in thy
government.”

Sancho at last set out attended by a great number of people. He was
dressed in the garb of a lawyer, with a gaban of tawny watered camlet
over all and a montera cap of the same material, and mounted a la
gineta upon a mule. Behind him, in accordance with the duke’s orders,
followed Dapple with brand new ass-trappings and ornaments of silk, and
from time to time Sancho turned round to look at his ass, so well
pleased to have him with him that he would not have changed places with
the emperor of Germany. On taking leave he kissed the hands of the duke
and duchess and got his master’s blessing, which Don Quixote gave him
with tears, and he received blubbering.



p44b.jpg (341K)

Full Size



Let worthy Sancho go in peace, and good luck to him, Gentle Reader; and
look out for two bushels of laughter, which the account of how he
behaved himself in office will give thee. In the meantime turn thy
attention to what happened his master the same night, and if thou dost
not laugh thereat, at any rate thou wilt stretch thy mouth with a grin;
for Don Quixote’s adventures must be honoured either with wonder or
with laughter.

It is recorded, then, that as soon as Sancho had gone, Don Quixote felt
his loneliness, and had it been possible for him to revoke the mandate
and take away the government from him he would have done so. The
duchess observed his dejection and asked him why he was melancholy;
because, she said, if it was for the loss of Sancho, there were
squires, duennas, and damsels in her house who would wait upon him to
his full satisfaction.

“The truth is, señora,” replied Don Quixote, “that I do feel the loss
of Sancho; but that is not the main cause of my looking sad; and of all
the offers your excellence makes me, I accept only the good-will with
which they are made, and as to the remainder I entreat of your
excellence to permit and allow me alone to wait upon myself in my
chamber.”

“Indeed, Señor Don Quixote,” said the duchess, “that must not be; four
of my damsels, as beautiful as flowers, shall wait upon you.”

“To me,” said Don Quixote, “they will not be flowers, but thorns to
pierce my heart. They, or anything like them, shall as soon enter my
chamber as fly. If your highness wishes to gratify me still further,
though I deserve it not, permit me to please myself, and wait upon
myself in my own room; for I place a barrier between my inclinations
and my virtue, and I do not wish to break this rule through the
generosity your highness is disposed to display towards me; and, in
short, I will sleep in my clothes, sooner than allow anyone to undress
me.”

“Say no more, Señor Don Quixote, say no more,” said the duchess; “I
assure you I will give orders that not even a fly, not to say a damsel,
shall enter your room. I am not the one to undermine the propriety of
Señor Don Quixote, for it strikes me that among his many virtues the
one that is pre-eminent is that of modesty. Your worship may undress
and dress in private and in your own way, as you please and when you
please, for there will be no one to hinder you; and in your chamber you
will find all the utensils requisite to supply the wants of one who
sleeps with his door locked, to the end that no natural needs compel
you to open it. May the great Dulcinea del Toboso live a thousand
years, and may her fame extend all over the surface of the globe, for
she deserves to be loved by a knight so valiant and so virtuous; and
may kind heaven infuse zeal into the heart of our governor Sancho Panza
to finish off his discipline speedily, so that the world may once more
enjoy the beauty of so grand a lady.”

To which Don Quixote replied, “Your highness has spoken like what you
are; from the mouth of a noble lady nothing bad can come; and Dulcinea
will be more fortunate, and better known to the world by the praise of
your highness than by all the eulogies the greatest orators on earth
could bestow upon her.”

“Well, well, Señor Don Quixote,” said the duchess, it is nearly
supper-time, and the duke is probably waiting; come let us go to
supper, and retire to rest early, for the journey you made yesterday
from Kandy was not such a short one but that it must have caused you
some fatigue.”

“I feel none, señora,” said Don Quixote, “for I would go so far as to
swear to your excellence that in all my life I never mounted a quieter
beast, or a pleasanter paced one, than Clavileño; and I don’t know what
could have induced Malambruno to discard a steed so swift and so
gentle, and burn it so recklessly as he did.”

“Probably,” said the duchess, “repenting of the evil he had done to the
Trifaldi and company, and others, and the crimes he must have committed
as a wizard and enchanter, he resolved to make away with all the
instruments of his craft; and so burned Clavileño as the chief one, and
that which mainly kept him restless, wandering from land to land; and
by its ashes and the trophy of the placard the valour of the great Don
Quixote of La Mancha is established for ever.”

Don Quixote renewed his thanks to the duchess; and having supped,
retired to his chamber alone, refusing to allow anyone to enter with
him to wait on him, such was his fear of encountering temptations that
might lead or drive him to forget his chaste fidelity to his lady
Dulcinea; for he had always present to his mind the virtue of Amadis,
that flower and mirror of knights-errant. He locked the door behind
him, and by the light of two wax candles undressed himself, but as he
was taking off his stockings—O disaster unworthy of such a
personage!—there came a burst, not of sighs, or anything belying his
delicacy or good breeding, but of some two dozen stitches in one of his
stockings, that made it look like a window-lattice. The worthy
gentleman was beyond measure distressed, and at that moment he would
have given an ounce of silver to have had half a drachm of green silk
there; I say green silk, because the stockings were green.

Here Cide Hamete exclaimed as he was writing, “O poverty, poverty! I
know not what could have possessed the great Cordovan poet to call thee
‘holy gift ungratefully received.’ Although a Moor, I know well enough
from the intercourse I have had with Christians that holiness consists
in charity, humility, faith, obedience, and poverty; but for all that,
I say he must have a great deal of godliness who can find any
satisfaction in being poor; unless, indeed, it be the kind of poverty
one of their greatest saints refers to, saying, ‘possess all things as
though ye possessed them not;’ which is what they call poverty in
spirit. But thou, that other poverty—for it is of thee I am speaking
now—why dost thou love to fall out with gentlemen and men of good birth
more than with other people? Why dost thou compel them to smear the
cracks in their shoes, and to have the buttons of their coats, one
silk, another hair, and another glass? Why must their ruffs be always
crinkled like endive leaves, and not crimped with a crimping iron?”
(From this we may perceive the antiquity of starch and crimped ruffs.)
Then he goes on: “Poor gentleman of good family! always cockering up
his honour, dining miserably and in secret, and making a hypocrite of
the toothpick with which he sallies out into the street after eating
nothing to oblige him to use it! Poor fellow, I say, with his nervous
honour, fancying they perceive a league off the patch on his shoe, the
sweat-stains on his hat, the shabbiness of his cloak, and the hunger of
his stomach!”

All this was brought home to Don Quixote by the bursting of his
stitches; however, he comforted himself on perceiving that Sancho had
left behind a pair of travelling boots, which he resolved to wear the
next day. At last he went to bed, out of spirits and heavy at heart, as
much because he missed Sancho as because of the irreparable disaster to
his stockings, the stitches of which he would have even taken up with
silk of another colour, which is one of the greatest signs of poverty a
gentleman can show in the course of his never-failing embarrassments.
He put out the candles; but the night was warm and he could not sleep;
he rose from his bed and opened slightly a grated window that looked
out on a beautiful garden, and as he did so he perceived and heard
people walking and talking in the garden. He set himself to listen
attentively, and those below raised their voices so that he could hear
these words:

“Urge me not to sing, Emerencia, for thou knowest that ever since this
stranger entered the castle and my eyes beheld him, I cannot sing but
only weep; besides my lady is a light rather than a heavy sleeper, and
I would not for all the wealth of the world that she found us here; and
even if she were asleep and did not waken, my singing would be in vain,
if this strange Æneas, who has come into my neighbourhood to flout me,
sleeps on and wakens not to hear it.”

“Heed not that, dear Altisidora,” replied a voice; “the duchess is no
doubt asleep, and everybody in the house save the lord of thy heart and
disturber of thy soul; for just now I perceived him open the grated
window of his chamber, so he must be awake; sing, my poor sufferer, in
a low sweet tone to the accompaniment of thy harp; and even if the
duchess hears us we can lay the blame on the heat of the night.”

“That is not the point, Emerencia,” replied Altisidora, “it is that I
would not that my singing should lay bare my heart, and that I should
be thought a light and wanton maiden by those who know not the mighty
power of love; but come what may; better a blush on the cheeks than a
sore in the heart;” and here a harp softly touched made itself heard.
As he listened to all this Don Quixote was in a state of breathless
amazement, for immediately the countless adventures like this, with
windows, gratings, gardens, serenades, lovemakings, and languishings,
that he had read of in his trashy books of chivalry, came to his mind.
He at once concluded that some damsel of the duchess’s was in love with
him, and that her modesty forced her to keep her passion secret. He
trembled lest he should fall, and made an inward resolution not to
yield; and commending himself with all his might and soul to his lady
Dulcinea he made up his mind to listen to the music; and to let them
know he was there he gave a pretended sneeze, at which the damsels were
not a little delighted, for all they wanted was that Don Quixote should
hear them. So having tuned the harp, Altisidora, running her hand
across the strings, began this ballad:

O thou that art above in bed,
Between the holland sheets,
A-lying there from night till morn,
With outstretched legs asleep;

O thou, most valiant knight of all
The famed Manchegan breed,
Of purity and virtue more
Than gold of Araby;

Give ear unto a suffering maid,
Well-grown but evil-starr’d,
For those two suns of thine have lit
A fire within her heart.

Adventures seeking thou dost rove,
To others bringing woe;
Thou scatterest wounds, but, ah, the balm
To heal them dost withhold!

Say, valiant youth, and so may God
Thy enterprises speed,
Didst thou the light mid Libya’s sands
Or Jaca’s rocks first see?

Did scaly serpents give thee suck?
Who nursed thee when a babe?
Wert cradled in the forest rude,
Or gloomy mountain cave?

O Dulcinea may be proud,
That plump and lusty maid;
For she alone hath had the power
A tiger fierce to tame.

And she for this shall famous be
From Tagus to Jarama,
From Manzanares to Genil,
From Duero to Arlanza.

Fain would I change with her, and give
A petticoat to boot,
The best and bravest that I have,
All trimmed with gold galloon.

O for to be the happy fair
Thy mighty arms enfold,
Or even sit beside thy bed
And scratch thy dusty poll!

I rave,—to favours such as these
Unworthy to aspire;
Thy feet to tickle were enough
For one so mean as I.

What caps, what slippers silver-laced,
Would I on thee bestow!
What damask breeches make for thee;
What fine long holland cloaks!

And I would give thee pearls that should
As big as oak-galls show;
So matchless big that each might well
Be called the great “Alone.”

Manchegan Nero, look not down
From thy Tarpeian Rock
Upon this burning heart, nor add
The fuel of thy wrath.

A virgin soft and young am I,
Not yet fifteen years old;
(I’m only three months past fourteen,
I swear upon my soul).
I hobble not nor do I limp,
All blemish I’m without,
And as I walk my lily locks
Are trailing on the ground.

And though my nose be rather flat,
And though my mouth be wide,
My teeth like topazes exalt
My beauty to the sky.

Thou knowest that my voice is sweet,
That is if thou dost hear;
And I am moulded in a form
Somewhat below the mean.

These charms, and many more, are thine,
Spoils to thy spear and bow all;
A damsel of this house am I,
By name Altisidora.




p44c.jpg (266K)

Full Size



Here the lay of the heart-stricken Altisidora came to an end, while the
warmly wooed Don Quixote began to feel alarm; and with a deep sigh he
said to himself, “O that I should be such an unlucky knight that no
damsel can set eyes on me but falls in love with me! O that the
peerless Dulcinea should be so unfortunate that they cannot let her
enjoy my incomparable constancy in peace! What would ye with her, ye
queens? Why do ye persecute her, ye empresses? Why ye pursue her, ye
virgins of from fourteen to fifteen? Leave the unhappy being to
triumph, rejoice and glory in the lot love has been pleased to bestow
upon her in surrendering my heart and yielding up my soul to her. Ye
love-smitten host, know that to Dulcinea only I am dough and
sugar-paste, flint to all others; for her I am honey, for you aloes.
For me Dulcinea alone is beautiful, wise, virtuous, graceful, and
high-bred, and all others are ill-favoured, foolish, light, and
low-born. Nature sent me into the world to be hers and no other’s;
Altisidora may weep or sing, the lady for whose sake they belaboured me
in the castle of the enchanted Moor may give way to despair, but I must
be Dulcinea’s, boiled or roast, pure, courteous, and chaste, in spite
of all the magic-working powers on earth.” And with that he shut the
window with a bang, and, as much out of temper and out of sorts as if
some great misfortune had befallen him, stretched himself on his bed,
where we will leave him for the present, as the great Sancho Panza, who
is about to set up his famous government, now demands our attention.



p44e.jpg (145K)

Full Size



CHAPTER XLV.
OF HOW THE GREAT SANCHO PANZA TOOK POSSESSION OF HIS ISLAND, AND OF HOW
HE MADE A BEGINNING IN GOVERNING




p45a.jpg (141K)

Full Size



O perpetual discoverer of the antipodes, torch of the world, eye of
heaven, sweet stimulator of the water-coolers! Thimbraeus here, Phœbus
there, now archer, now physician, father of poetry, inventor of music;
thou that always risest and, notwithstanding appearances, never
settest! To thee, O Sun, by whose aid man begetteth man, to thee I
appeal to help me and lighten the darkness of my wit that I may be able
to proceed with scrupulous exactitude in giving an account of the great
Sancho Panza’s government; for without thee I feel myself weak, feeble,
and uncertain.

To come to the point, then—Sancho with all his attendants arrived at a
village of some thousand inhabitants, and one of the largest the duke
possessed. They informed him that it was called the island of
Barataria, either because the name of the village was Baratario, or
because of the joke by way of which the government had been conferred
upon him. On reaching the gates of the town, which was a walled one,
the municipality came forth to meet him, the bells rang out a peal, and
the inhabitants showed every sign of general satisfaction; and with
great pomp they conducted him to the principal church to give thanks to
God, and then with burlesque ceremonies they presented him with the
keys of the town, and acknowledged him as perpetual governor of the
island of Barataria. The costume, the beard, and the fat squat figure
of the new governor astonished all those who were not in on the secret,
and even all who were, and they were not a few. Finally, leading him
out of the church they carried him to the judgment seat and seated him
on it, and the duke’s majordomo said to him, “It is an ancient custom
in this island, señor governor, that he who comes to take possession of
this famous island is bound to answer a question which shall be put to
him, and which must be a somewhat knotty and difficult one; and by his
answer the people take the measure of their new governor’s wit, and
hail with joy or deplore his arrival accordingly.”

While the majordomo was making this speech Sancho was gazing at several
large letters inscribed on the wall opposite his seat, and as he could
not read he asked what that was that was painted on the wall. The
answer was, “Señor, there is written and recorded the day on which your
lordship took possession of this island, and the inscription says,
‘This day, the so-and-so of such-and-such a month and year, Señor Don
Sancho Panza took possession of this island; many years may he enjoy
it.’”

“And whom do they call Don Sancho Panza?” asked Sancho.

“Your lordship,” replied the majordomo; “for no other Panza but the one
who is now seated in that chair has ever entered this island.”

“Well then, let me tell you, brother,” said Sancho, “I haven’t got the
‘Don,’ nor has anyone of my family ever had it; my name is plain Sancho
Panza, and Sancho was my father’s name, and Sancho was my grandfather’s
and they were all Panzas, without any Dons or Doñas tacked on; I
suspect that in this island there are more Dons than stones; but never
mind; God knows what I mean, and maybe if my government lasts four days
I’ll weed out these Dons that no doubt are as great a nuisance as the
midges, they’re so plenty. Let the majordomo go on with his question,
and I’ll give the best answer I can, whether the people deplore or
not.”

At this instant there came into court two old men, one carrying a cane
by way of a walking-stick, and the one who had no stick said, “Señor,
some time ago I lent this good man ten gold-crowns in gold to gratify
him and do him a service, on the condition that he was to return them
to me whenever I should ask for them. A long time passed before I asked
for them, for I would not put him to any greater straits to return them
than he was in when I lent them to him; but thinking he was growing
careless about payment I asked for them once and several times; and not
only will he not give them back, but he denies that he owes them, and
says I never lent him any such crowns; or if I did, that he repaid
them; and I have no witnesses either of the loan, or the payment, for
he never paid me; I want your worship to put him to his oath, and if he
swears he returned them to me I forgive him the debt here and before
God.”



p45b.jpg (400K)

Full Size



“What say you to this, good old man, you with the stick?” said Sancho.

To which the old man replied, “I admit, señor, that he lent them to me;
but let your worship lower your staff, and as he leaves it to my oath,
I’ll swear that I gave them back, and paid him really and truly.”

The governor lowered the staff, and as he did so the old man who had
the stick handed it to the other old man to hold for him while he
swore, as if he found it in his way; and then laid his hand on the
cross of the staff, saying that it was true the ten crowns that were
demanded of him had been lent him; but that he had with his own hand
given them back into the hand of the other, and that he, not
recollecting it, was always asking for them.

Seeing this the great governor asked the creditor what answer he had to
make to what his opponent said. He said that no doubt his debtor had
told the truth, for he believed him to be an honest man and a good
Christian, and he himself must have forgotten when and how he had given
him back the crowns; and that from that time forth he would make no
further demand upon him.

The debtor took his stick again, and bowing his head left the court.
Observing this, and how, without another word, he made off, and
observing too the resignation of the plaintiff, Sancho buried his head
in his bosom and remained for a short space in deep thought, with the
forefinger of his right hand on his brow and nose; then he raised his
head and bade them call back the old man with the stick, for he had
already taken his departure. They brought him back, and as soon as
Sancho saw him he said, “Honest man, give me that stick, for I want
it.”

“Willingly,” said the old man; “here it is señor,” and he put it into
his hand.

Sancho took it and, handing it to the other old man, said to him, “Go,
and God be with you; for now you are paid.”

“I, señor!” returned the old man; “why, is this cane worth ten
gold-crowns?”

“Yes,” said the governor, “or if not I am the greatest dolt in the
world; now you will see whether I have got the headpiece to govern a
whole kingdom;” and he ordered the cane to be broken in two, there, in
the presence of all. It was done, and in the middle of it they found
ten gold-crowns. All were filled with amazement, and looked upon their
governor as another Solomon. They asked him how he had come to the
conclusion that the ten crowns were in the cane; he replied, that
observing how the old man who swore gave the stick to his opponent
while he was taking the oath, and swore that he had really and truly
given him the crowns, and how as soon as he had done swearing he asked
for the stick again, it came into his head that the sum demanded must
be inside it; and from this he said it might be seen that God sometimes
guides those who govern in their judgments, even though they may be
fools; besides he had himself heard the curate of his village mention
just such another case, and he had so good a memory, that if it was not
that he forgot everything he wished to remember, there would not be
such a memory in all the island. To conclude, the old men went off, one
crestfallen, and the other in high contentment, all who were present
were astonished, and he who was recording the words, deeds, and
movements of Sancho could not make up his mind whether he was to look
upon him and set him down as a fool or as a man of sense.

As soon as this case was disposed of, there came into court a woman
holding on with a tight grip to a man dressed like a well-to-do cattle
dealer, and she came forward making a great outcry and exclaiming,
“Justice, señor governor, justice! and if I don’t get it on earth I’ll
go look for it in heaven. Señor governor of my soul, this wicked man
caught me in the middle of the fields here and used my body as if it
was an ill-washed rag, and, woe is me! got from me what I had kept
these three-and-twenty years and more, defending it against Moors and
Christians, natives and strangers; and I always as hard as an oak, and
keeping myself as pure as a salamander in the fire, or wool among the
brambles, for this good fellow to come now with clean hands to handle
me!”

“It remains to be proved whether this gallant has clean hands or not,”
said Sancho; and turning to the man he asked him what he had to say in
answer to the woman’s charge.

He all in confusion made answer, “Sirs, I am a poor pig dealer, and
this morning I left the village to sell (saving your presence) four
pigs, and between dues and cribbings they got out of me little less
than the worth of them. As I was returning to my village I fell in on
the road with this good dame, and the devil who makes a coil and a mess
out of everything, yoked us together. I paid her fairly, but she not
contented laid hold of me and never let go until she brought me here;
she says I forced her, but she lies by the oath I swear or am ready to
swear; and this is the whole truth and every particle of it.”

The governor on this asked him if he had any money in silver about him;
he said he had about twenty ducats in a leather purse in his bosom. The
governor bade him take it out and hand it to the complainant; he obeyed
trembling; the woman took it, and making a thousand salaams to all and
praying to God for the long life and health of the señor governor who
had such regard for distressed orphans and virgins, she hurried out of
court with the purse grasped in both her hands, first looking, however,
to see if the money it contained was silver.

As soon as she was gone Sancho said to the cattle dealer, whose tears
were already starting and whose eyes and heart were following his
purse, “Good fellow, go after that woman and take the purse from her,
by force even, and come back with it here;” and he did not say it to
one who was a fool or deaf, for the man was off like a flash of
lightning, and ran to do as he was bid.

All the bystanders waited anxiously to see the end of the case, and
presently both man and woman came back at even closer grips than
before, she with her petticoat up and the purse in the lap of it, and
he struggling hard to take it from her, but all to no purpose, so stout
was the woman’s defence, she all the while crying out, “Justice from
God and the world! see here, señor governor, the shamelessness and
boldness of this villain, who in the middle of the town, in the middle
of the street, wanted to take from me the purse your worship bade him
give me.”

“And did he take it?” asked the governor.

“Take it!” said the woman; “I’d let my life be taken from me sooner
than the purse. A pretty child I’d be! It’s another sort of cat they
must throw in my face, and not that poor scurvy knave. Pincers and
hammers, mallets and chisels would not get it out of my grip; no, nor
lions’ claws; the soul from out of my body first!”

“She is right,” said the man; “I own myself beaten and powerless; I
confess I haven’t the strength to take it from her;” and he let go his
hold of her.

Upon this the governor said to the woman, “Let me see that purse, my
worthy and sturdy friend.” She handed it to him at once, and the
governor returned it to the man, and said to the unforced mistress of
force, “Sister, if you had shown as much, or only half as much, spirit
and vigour in defending your body as you have shown in defending that
purse, the strength of Hercules could not have forced you. Be off, and
God speed you, and bad luck to you, and don’t show your face in all
this island, or within six leagues of it on any side, under pain of two
hundred lashes; be off at once, I say, you shameless, cheating shrew.”

The woman was cowed and went off disconsolately, hanging her head; and
the governor said to the man, “Honest man, go home with your money, and
God speed you; and for the future, if you don’t want to lose it, see
that you don’t take it into your head to yoke with anybody.” The man
thanked him as clumsily as he could and went his way, and the
bystanders were again filled with admiration at their new governor’s
judgments and sentences.

Next, two men, one apparently a farm labourer, and the other a tailor,
for he had a pair of shears in his hand, presented themselves before
him, and the tailor said, “Señor governor, this labourer and I come
before your worship by reason of this honest man coming to my shop
yesterday (for saving everybody’s presence I’m a passed tailor, God be
thanked), and putting a piece of cloth into my hands and asking me,
‘Señor, will there be enough in this cloth to make me a cap?’ Measuring
the cloth I said there would. He probably suspected—as I supposed, and
I supposed right—that I wanted to steal some of the cloth, led to think
so by his own roguery and the bad opinion people have of tailors; and
he told me to see if there would be enough for two. I guessed what he
would be at, and I said ‘yes.’ He, still following up his original
unworthy notion, went on adding cap after cap, and I ‘yes’ after ‘yes,’
until we got as far as five. He has just this moment come for them; I
gave them to him, but he won’t pay me for the making; on the contrary,
he calls upon me to pay him, or else return his cloth.”

“Is all this true, brother?” said Sancho.

“Yes,” replied the man; “but will your worship make him show the five
caps he has made me?”

“With all my heart,” said the tailor; and drawing his hand from under
his cloak he showed five caps stuck upon the five fingers of it, and
said, “there are the caps this good man asks for; and by God and upon
my conscience I haven’t a scrap of cloth left, and I’ll let the work be
examined by the inspectors of the trade.”

All present laughed at the number of caps and the novelty of the suit;
Sancho set himself to think for a moment, and then said, “It seems to
me that in this case it is not necessary to deliver long-winded
arguments, but only to give off-hand the judgment of an honest man; and
so my decision is that the tailor lose the making and the labourer the
cloth, and that the caps go to the prisoners in the gaol, and let there
be no more about it.”

If the previous decision about the cattle dealer’s purse excited the
admiration of the bystanders, this provoked their laughter; however,
the governor’s orders were after all executed. All this, having been
taken down by his chronicler, was at once despatched to the duke, who
was looking out for it with great eagerness; and here let us leave the
good Sancho; for his master, sorely troubled in mind by Altisidora’s
music, has pressing claims upon us now.



p45e.jpg (11K)



CHAPTER XLVI.
OF THE TERRIBLE BELL AND CAT FRIGHT THAT DON QUIXOTE GOT IN THE COURSE
OF THE ENAMOURED ALTISIDORA’S WOOING




p46a.jpg (58K)

Full Size



We left Don Quixote wrapped up in the reflections which the music of
the enamourned maid Altisidora had given rise to. He went to bed with
them, and just like fleas they would not let him sleep or get a
moment’s rest, and the broken stitches of his stockings helped them.
But as Time is fleet and no obstacle can stay his course, he came
riding on the hours, and morning very soon arrived. Seeing which Don
Quixote quitted the soft down, and, nowise slothful, dressed himself in
his chamois suit and put on his travelling boots to hide the disaster
to his stockings. He threw over him his scarlet mantle, put on his head
a montera of green velvet trimmed with silver edging, flung across his
shoulder the baldric with his good trenchant sword, took up a large
rosary that he always carried with him, and with great solemnity and
precision of gait proceeded to the antechamber where the duke and
duchess were already dressed and waiting for him. But as he passed
through a gallery, Altisidora and the other damsel, her friend, were
lying in wait for him, and the instant Altisidora saw him she pretended
to faint, while her friend caught her in her lap, and began hastily
unlacing the bosom of her dress.

Don Quixote observed it, and approaching them said, “I know very well
what this seizure arises from.”

“I know not from what,” replied the friend, “for Altisidora is the
healthiest damsel in all this house, and I have never heard her
complain all the time I have known her. A plague on all the
knights-errant in the world, if they be all ungrateful! Go away, Señor
Don Quixote; for this poor child will not come to herself again so long
as you are here.”



p46b.jpg (320K)

Full Size



To which Don Quixote returned, “Do me the favour, señora, to let a lute
be placed in my chamber to-night; and I will comfort this poor maiden
to the best of my power; for in the early stages of love a prompt
disillusion is an approved remedy;” and with this he retired, so as not
to be remarked by any who might see him there.

He had scarcely withdrawn when Altisidora, recovering from her swoon,
said to her companion, “The lute must be left, for no doubt Don Quixote
intends to give us some music; and being his it will not be bad.”

They went at once to inform the duchess of what was going on, and of
the lute Don Quixote asked for, and she, delighted beyond measure,
plotted with the duke and her two damsels to play him a trick that
should be amusing but harmless; and in high glee they waited for night,
which came quickly as the day had come; and as for the day, the duke
and duchess spent it in charming conversation with Don Quixote.

When eleven o’clock came, Don Quixote found a guitar in his chamber; he
tried it, opened the window, and perceived that some persons were
walking in the garden; and having passed his fingers over the frets of
the guitar and tuned it as well as he could, he spat and cleared his
chest, and then with a voice a little hoarse but full-toned, he sang
the following ballad, which he had himself that day composed:

Mighty Love the hearts of maidens
Doth unsettle and perplex,
And the instrument he uses
Most of all is idleness.

Sewing, stitching, any labour,
Having always work to do,
To the poison Love instilleth
Is the antidote most sure.

And to proper-minded maidens
Who desire the matron’s name
Modesty’s a marriage portion,
Modesty their highest praise.

Men of prudence and discretion,
Courtiers gay and gallant knights,
With the wanton damsels dally,
But the modest take to wife.
There are passions, transient, fleeting,
Loves in hostelries declar’d,
Sunrise loves, with sunset ended,
When the guest hath gone his way.

Love that springs up swift and sudden,
Here to-day, to-morrow flown,
Passes, leaves no trace behind it,
Leaves no image on the soul.

Painting that is laid on painting
Maketh no display or show;
Where one beauty’s in possession
There no other can take hold.

Dulcinea del Toboso
Painted on my heart I wear;
Never from its tablets, never,
Can her image be eras’d.

The quality of all in lovers
Most esteemed is constancy;
’Tis by this that love works wonders,
This exalts them to the skies.


Don Quixote had got so far with his song, to which the duke, the
duchess, Altisidora, and nearly the whole household of the castle were
listening, when all of a sudden from a gallery above that was exactly
over his window they let down a cord with more than a hundred bells
attached to it, and immediately after that discharged a great sack full
of cats, which also had bells of smaller size tied to their tails. Such
was the din of the bells and the squalling of the cats, that though the
duke and duchess were the contrivers of the joke they were startled by
it, while Don Quixote stood paralysed with fear; and as luck would have
it, two or three of the cats made their way in through the grating of
his chamber, and flying from one side to the other, made it seem as if
there was a legion of devils at large in it. They extinguished the
candles that were burning in the room, and rushed about seeking some
way of escape; the cord with the large bells never ceased rising and
falling; and most of the people of the castle, not knowing what was
really the matter, were at their wits’ end with astonishment. Don
Quixote sprang to his feet, and drawing his sword, began making passes
at the grating, shouting out, “Avaunt, malignant enchanters! avaunt, ye
witchcraft-working rabble! I am Don Quixote of La Mancha, against whom
your evil machinations avail not nor have any power.” And turning upon
the cats that were running about the room, he made several cuts at
them. They dashed at the grating and escaped by it, save one that,
finding itself hard pressed by the slashes of Don Quixote’s sword, flew
at his face and held on to his nose tooth and nail, with the pain of
which he began to shout his loudest. The duke and duchess hearing this,
and guessing what it was, ran with all haste to his room, and as the
poor gentleman was striving with all his might to detach the cat from
his face, they opened the door with a master-key and went in with
lights and witnessed the unequal combat. The duke ran forward to part
the combatants, but Don Quixote cried out aloud, “Let no one take him
from me; leave me hand to hand with this demon, this wizard, this
enchanter; I will teach him, I myself, who Don Quixote of La Mancha
is.” The cat, however, never minding these threats, snarled and held
on; but at last the duke pulled it off and flung it out of the window.
Don Quixote was left with a face as full of holes as a sieve and a nose
not in very good condition, and greatly vexed that they did not let him
finish the battle he had been so stoutly fighting with that villain of
an enchanter. They sent for some oil of John’s wort, and Altisidora
herself with her own fair hands bandaged all the wounded parts; and as
she did so she said to him in a low voice. “All these mishaps have
befallen thee, hardhearted knight, for the sin of thy insensibility and
obstinacy; and God grant thy squire Sancho may forget to whip himself,
so that that dearly beloved Dulcinea of thine may never be released
from her enchantment, that thou mayest never come to her bed, at least
while I who adore thee am alive.”

To all this Don Quixote made no answer except to heave deep sighs, and
then stretched himself on his bed, thanking the duke and duchess for
their kindness, not because he stood in any fear of that bell-ringing
rabble of enchanters in cat shape, but because he recognised their good
intentions in coming to his rescue. The duke and duchess left him to
repose and withdrew greatly grieved at the unfortunate result of the
joke; as they never thought the adventure would have fallen so heavy on
Don Quixote or cost him so dear, for it cost him five days of
confinement to his bed, during which he had another adventure,
pleasanter than the late one, which his chronicler will not relate just
now in order that he may turn his attention to Sancho Panza, who was
proceeding with great diligence and drollery in his government.



p46e.jpg (65K)



CHAPTER XLVII.
WHEREIN IS CONTINUED THE ACCOUNT OF HOW SANCHO PANZA CONDUCTED HIMSELF
IN HIS GOVERNMENT




p47a.jpg (139K)

Full Size



The history says that from the justice court they carried Sancho to a
sumptuous palace, where in a spacious chamber there was a table laid
out with royal magnificence. The clarions sounded as Sancho entered the
room, and four pages came forward to present him with water for his
hands, which Sancho received with great dignity. The music ceased, and
Sancho seated himself at the head of the table, for there was only that
seat placed, and no more than one cover laid. A personage, who it
appeared afterwards was a physician, placed himself standing by his
side with a whalebone wand in his hand. They then lifted up a fine
white cloth covering fruit and a great variety of dishes of different
sorts; one who looked like a student said grace, and a page put a laced
bib on Sancho, while another who played the part of head carver placed
a dish of fruit before him. But hardly had he tasted a morsel when the
man with the wand touched the plate with it, and they took it away from
before him with the utmost celerity. The carver, however, brought him
another dish, and Sancho proceeded to try it; but before he could get
at it, not to say taste it, already the wand had touched it and a page
had carried it off with the same promptitude as the fruit. Sancho
seeing this was puzzled, and looking from one to another asked if this
dinner was to be eaten after the fashion of a jugglery trick.

To this he with the wand replied, “It is not to be eaten, señor
governor, except as is usual and customary in other islands where there
are governors. I, señor, am a physician, and I am paid a salary in this
island to serve its governors as such, and I have a much greater regard
for their health than for my own, studying day and night and making
myself acquainted with the governor’s constitution, in order to be able
to cure him when he falls sick. The chief thing I have to do is to
attend at his dinners and suppers and allow him to eat what appears to
me to be fit for him, and keep from him what I think will do him harm
and be injurious to his stomach; and therefore I ordered that plate of
fruit to be removed as being too moist, and that other dish I ordered
to be removed as being too hot and containing many spices that
stimulate thirst; for he who drinks much kills and consumes the radical
moisture wherein life consists.”

“Well then,” said Sancho, “that dish of roast partridges there that
seems so savoury will not do me any harm.”

To this the physician replied, “Of those my lord the governor shall not
eat so long as I live.”

“Why so?” said Sancho.

“Because,” replied the doctor, “our master Hippocrates, the polestar
and beacon of medicine, says in one of his aphorisms _omnis saturatio
mala, perdicis autem pessima_, which means ‘all repletion is bad, but
that of partridge is the worst of all.”

“In that case,” said Sancho, “let señor doctor see among the dishes
that are on the table what will do me most good and least harm, and let
me eat it, without tapping it with his stick; for by the life of the
governor, and so may God suffer me to enjoy it, but I’m dying of
hunger; and in spite of the doctor and all he may say, to deny me food
is the way to take my life instead of prolonging it.”

“Your worship is right, señor governor,” said the physician; “and
therefore your worship, I consider, should not eat of those stewed
rabbits there, because it is a furry kind of food; if that veal were
not roasted and served with pickles, you might try it; but it is out of
the question.”

“That big dish that is smoking farther off,” said Sancho, “seems to me
to be an olla podrida, and out of the diversity of things in such
ollas, I can’t fail to light upon something tasty and good for me.”



p47b.jpg (372K)

Full Size



“_Absit_,” said the doctor; “far from us be any such base thought!
There is nothing in the world less nourishing than an olla podrida; to
canons, or rectors of colleges, or peasants’ weddings with your ollas
podridas, but let us have none of them on the tables of governors,
where everything that is present should be delicate and refined; and
the reason is, that always, everywhere and by everybody, simple
medicines are more esteemed than compound ones, for we cannot go wrong
in those that are simple, while in the compound we may, by merely
altering the quantity of the things composing them. But what I am of
opinion the governor should eat now in order to preserve and fortify
his health is a hundred or so of wafer cakes and a few thin slices of
conserve of quinces, which will settle his stomach and help his
digestion.”

Sancho on hearing this threw himself back in his chair and surveyed the
doctor steadily, and in a solemn tone asked him what his name was and
where he had studied.

He replied, “My name, señor governor, is Doctor Pedro Recio de Aguero I
am a native of a place called Tirteafuera which lies between Caracuel
and Almodóvar del Campo, on the right-hand side, and I have the degree
of doctor from the university of Osuna.”

To which Sancho, glowing all over with rage, returned, “Then let Doctor
Pedro Recio de Malaguero, native of Tirteafuera, a place that’s on the
right-hand side as we go from Caracuel to Almodóvar del Campo, graduate
of Osuna, get out of my presence at once; or I swear by the sun I’ll
take a cudgel, and by dint of blows, beginning with him, I’ll not leave
a doctor in the whole island; at least of those I know to be ignorant;
for as to learned, wise, sensible physicians, them I will reverence and
honour as divine persons. Once more I say let Pedro Recio get out of
this or I’ll take this chair I am sitting on and break it over his
head. And if they call me to account for it, I’ll clear myself by
saying I served God in killing a bad doctor—a general executioner. And
now give me something to eat, or else take your government; for a trade
that does not feed its master is not worth two beans.”

The doctor was dismayed when he saw the governor in such a passion, and
he would have made a Tirteafuera out of the room but that the same
instant a post-horn sounded in the street; and the carver putting his
head out of the window turned round and said, “It’s a courier from my
lord the duke, no doubt with some despatch of importance.”

The courier came in all sweating and flurried, and taking a paper from
his bosom, placed it in the governor’s hands. Sancho handed it to the
majordomo and bade him read the superscription, which ran thus:

_To Don Sancho Panza, Governor of the Island of Barataria, into his own
hands or those of his secretary._

Sancho when he heard this said, “Which of you is my secretary?” “I am,
señor,” said one of those present, “for I can read and write, and am a
Biscayan.” “With that addition,” said Sancho, “you might be secretary
to the emperor himself; open this paper and see what it says.” The
new-born secretary obeyed, and having read the contents said the matter
was one to be discussed in private. Sancho ordered the chamber to be
cleared, the majordomo and the carver only remaining; so the doctor and
the others withdrew, and then the secretary read the letter, which was
as follows:

It has come to my knowledge, Señor Don Sancho Panza, that certain
enemies of mine and of the island are about to make a furious attack
upon it some night, I know not when. It behoves you to be on the alert
and keep watch, that they surprise you not. I also know by trustworthy
spies that four persons have entered the town in disguise in order to
take your life, because they stand in dread of your great capacity;
keep your eyes open and take heed who approaches you to address you,
and eat nothing that is presented to you. I will take care to send you
aid if you find yourself in difficulty, but in all things you will act
as may be expected of your judgment. From this place, the Sixteenth of
August, at four in the morning.


Your friend,
THE DUKE


Sancho was astonished, and those who stood by made believe to be so
too, and turning to the majordomo he said to him, “What we have got to
do first, and it must be done at once, is to put Doctor Recio in the
lock-up; for if anyone wants to kill me it is he, and by a slow death
and the worst of all, which is hunger.”

“Likewise,” said the carver, “it is my opinion your worship should not
eat anything that is on this table, for the whole was a present from
some nuns; and as they say, ‘behind the cross there’s the devil.’”

“I don’t deny it,” said Sancho; “so for the present give me a piece of
bread and four pounds or so of grapes; no poison can come in them; for
the fact is I can’t go on without eating; and if we are to be prepared
for these battles that are threatening us we must be well provisioned;
for it is the tripes that carry the heart and not the heart the tripes.
And you, secretary, answer my lord the duke and tell him that all his
commands shall be obeyed to the letter, as he directs; and say from me
to my lady the duchess that I kiss her hands, and that I beg of her not
to forget to send my letter and bundle to my wife Teresa Panza by a
messenger; and I will take it as a great favour and will not fail to
serve her in all that may lie within my power; and as you are about it
you may enclose a kiss of the hand to my master Don Quixote that he may
see I am grateful bread; and as a good secretary and a good Biscayan
you may add whatever you like and whatever will come in best; and now
take away this cloth and give me something to eat, and I’ll be ready to
meet all the spies and assassins and enchanters that may come against
me or my island.”

At this instant a page entered saying, “Here is a farmer on business,
who wants to speak to your lordship on a matter of great importance, he
says.”

“It’s very odd,” said Sancho, “the ways of these men on business; is it
possible they can be such fools as not to see that an hour like this is
no hour for coming on business? We who govern and we who are judges—are
we not men of flesh and blood, and are we not to be allowed the time
required for taking rest, unless they’d have us made of marble? By God
and on my conscience, if the government remains in my hands (which I
have a notion it won’t), I’ll bring more than one man on business to
order. However, tell this good man to come in; but take care first of
all that he is not some spy or one of my assassins.”

“No, my lord,” said the page, “for he looks like a simple fellow, and
either I know very little or he is as good as good bread.”

“There is nothing to be afraid of,” said the majordomo, “for we are all
here.”

“Would it be possible, carver,” said Sancho, “now that Doctor Pedro
Recio is not here, to let me eat something solid and substantial, if it
were even a piece of bread and an onion?”

“To-night at supper,” said the carver, “the shortcomings of the dinner
shall be made good, and your lordship shall be fully contented.”

“God grant it,” said Sancho.

The farmer now came in, a well-favoured man that one might see a
thousand leagues off was an honest fellow and a good soul. The first
thing he said was, “Which is the lord governor here?”

“Which should it be,” said the secretary, “but he who is seated in the
chair?”

“Then I humble myself before him,” said the farmer; and going on his
knees he asked for his hand, to kiss it. Sancho refused it, and bade
him stand up and say what he wanted. The farmer obeyed, and then said,
“I am a farmer, señor, a native of Miguelturra, a village two leagues
from Ciudad Real.”

“Another Tirteafuera!” said Sancho; “say on, brother; I know
Miguelturra very well I can tell you, for it’s not very far from my own
town.”

“The case is this, señor,” continued the farmer, “that by God’s mercy I
am married with the leave and licence of the holy Roman Catholic
Church; I have two sons, students, and the younger is studying to
become bachelor, and the elder to be licentiate; I am a widower, for my
wife died, or more properly speaking, a bad doctor killed her on my
hands, giving her a purge when she was with child; and if it had
pleased God that the child had been born, and was a boy, I would have
put him to study for doctor, that he might not envy his brothers the
bachelor and the licentiate.”

“So that if your wife had not died, or had not been killed, you would
not now be a widower,” said Sancho.

“No, señor, certainly not,” said the farmer.

“We’ve got that much settled,” said Sancho; “get on, brother, for it’s
more bed-time than business-time.”

“Well then,” said the farmer, “this son of mine who is going to be a
bachelor, fell in love in the said town with a damsel called Clara
Perlerina, daughter of Andres Perlerino, a very rich farmer; and this
name of Perlerines does not come to them by ancestry or descent, but
because all the family are paralytics, and for a better name they call
them Perlerines; though to tell the truth the damsel is as fair as an
Oriental pearl, and like a flower of the field, if you look at her on
the right side; on the left not so much, for on that side she wants an
eye that she lost by small-pox; and though her face is thickly and
deeply pitted, those who love her say they are not pits that are there,
but the graves where the hearts of her lovers are buried. She is so
cleanly that not to soil her face she carries her nose turned up, as
they say, so that one would fancy it was running away from her mouth;
and with all this she looks extremely well, for she has a wide mouth;
and but for wanting ten or a dozen teeth and grinders she might compare
and compete with the comeliest. Of her lips I say nothing, for they are
so fine and thin that, if lips might be reeled, one might make a skein
of them; but being of a different colour from ordinary lips they are
wonderful, for they are mottled, blue, green, and purple—let my lord
the governor pardon me for painting so minutely the charms of her who
some time or other will be my daughter; for I love her, and I don’t
find her amiss.”

“Paint what you will,” said Sancho; “I enjoy your painting, and if I
had dined there could be no dessert more to my taste than your
portrait.”

“That I have still to furnish,” said the farmer; “but a time will come
when we may be able if we are not now; and I can tell you, señor, if I
could paint her gracefulness and her tall figure, it would astonish
you; but that is impossible because she is bent double with her knees
up to her mouth; but for all that it is easy to see that if she could
stand up she’d knock her head against the ceiling; and she would have
given her hand to my bachelor ere this, only that she can’t stretch it
out, for it’s contracted; but still one can see its elegance and fine
make by its long furrowed nails.”

“That will do, brother,” said Sancho; “consider you have painted her
from head to foot; what is it you want now? Come to the point without
all this beating about the bush, and all these scraps and additions.”

“I want your worship, señor,” said the farmer, “to do me the favour of
giving me a letter of recommendation to the girl’s father, begging him
to be so good as to let this marriage take place, as we are not
ill-matched either in the gifts of fortune or of nature; for to tell
the truth, señor governor, my son is possessed of a devil, and there is
not a day but the evil spirits torment him three or four times; and
from having once fallen into the fire, he has his face puckered up like
a piece of parchment, and his eyes watery and always running; but he
has the disposition of an angel, and if it was not for belabouring and
pummelling himself he’d be a saint.”

“Is there anything else you want, good man?” said Sancho.

“There’s another thing I’d like,” said the farmer, “but I’m afraid to
mention it; however, out it must; for after all I can’t let it be
rotting in my breast, come what may. I mean, señor, that I’d like your
worship to give me three hundred or six hundred ducats as a help to my
bachelor’s portion, to help him in setting up house; for they must, in
short, live by themselves, without being subject to the interferences
of their fathers-in-law.”

“Just see if there’s anything else you’d like,” said Sancho, “and don’t
hold back from mentioning it out of bashfulness or modesty.”

“No, indeed there is not,” said the farmer.

The moment he said this the governor started to his feet, and seizing
the chair he had been sitting on exclaimed, “By all that’s good, you
ill-bred, boorish Don Bumpkin, if you don’t get out of this at once and
hide yourself from my sight, I’ll lay your head open with this chair.
You whoreson rascal, you devil’s own painter, and is it at this hour
you come to ask me for six hundred ducats! How should I have them, you
stinking brute? And why should I give them to you if I had them, you
knave and blockhead? What have I to do with Miguelturra or the whole
family of the Perlerines? Get out I say, or by the life of my lord the
duke I’ll do as I said. You’re not from Miguelturra, but some knave
sent here from hell to tempt me. Why, you villain, I have not yet had
the government half a day, and you want me to have six hundred ducats
already!”

The carver made signs to the farmer to leave the room, which he did
with his head down, and to all appearance in terror lest the governor
should carry his threats into effect, for the rogue knew very well how
to play his part.

But let us leave Sancho in his wrath, and peace be with them all; and
let us return to Don Quixote, whom we left with his face bandaged and
doctored after the cat wounds, of which he was not cured for eight
days; and on one of these there befell him what Cide Hamete promises to
relate with that exactitude and truth with which he is wont to set
forth everything connected with this great history, however minute it
may be.



p47e.jpg (12K)



CHAPTER XLVIII.
OF WHAT BEFELL DON QUIXOTE WITH DOÑA RODRIGUEZ, THE DUCHESS’S DUENNA,
TOGETHER WITH OTHER OCCURRENCES WORTHY OF RECORD AND ETERNAL
REMEMBRANCE




p48a.jpg (131K)

Full Size



Exceedingly moody and dejected was the sorely wounded Don Quixote, with
his face bandaged and marked, not by the hand of God, but by the claws
of a cat, mishaps incidental to knight-errantry.



p48b.jpg (316K)

Full Size



Six days he remained without appearing in public, and one night as he
lay awake thinking of his misfortunes and of Altisidora’s pursuit of
him, he perceived that someone was opening the door of his room with a
key, and he at once made up his mind that the enamoured damsel was
coming to make an assault upon his chastity and put him in danger of
failing in the fidelity he owed to his lady Dulcinea del Toboso. “No,”
said he, firmly persuaded of the truth of his idea (and he said it loud
enough to be heard), “the greatest beauty upon earth shall not avail to
make me renounce my adoration of her whom I bear stamped and graved in
the core of my heart and the secret depths of my bowels; be thou, lady
mine, transformed into a clumsy country wench, or into a nymph of
golden Tagus weaving a web of silk and gold, let Merlin or Montesinos
hold thee captive where they will; where’er thou art, thou art mine,
and where’er I am, must be thine.” The very instant he had uttered
these words, the door opened. He stood up on the bed wrapped from head
to foot in a yellow satin coverlet, with a cap on his head, and his
face and his moustaches tied up, his face because of the scratches, and
his moustaches to keep them from drooping and falling down, in which
trim he looked the most extraordinary scarecrow that could be
conceived. He kept his eyes fixed on the door, and just as he was
expecting to see the love-smitten and unhappy Altisidora make her
appearance, he saw coming in a most venerable duenna, in a long
white-bordered veil that covered and enveloped her from head to foot.
Between the fingers of her left hand she held a short lighted candle,
while with her right she shaded it to keep the light from her eyes,
which were covered by spectacles of great size, and she advanced with
noiseless steps, treading very softly.

Don Quixote kept an eye upon her from his watchtower, and observing her
costume and noting her silence, he concluded that it must be some witch
or sorceress that was coming in such a guise to work him some mischief,
and he began crossing himself at a great rate. The spectre still
advanced, and on reaching the middle of the room, looked up and saw the
energy with which Don Quixote was crossing himself; and if he was
scared by seeing such a figure as hers, she was terrified at the sight
of his; for the moment she saw his tall yellow form with the coverlet
and the bandages that disfigured him, she gave a loud scream, and
exclaiming, “Jesus! what’s this I see?” let fall the candle in her
fright, and then finding herself in the dark, turned about to make off,
but stumbling on her skirts in her consternation, she measured her
length with a mighty fall.



p48c.jpg (249K)

Full Size



Don Quixote in his trepidation began saying, “I conjure thee, phantom,
or whatever thou art, tell me what thou art and what thou wouldst with
me. If thou art a soul in torment, say so, and all that my powers can
do I will do for thee; for I am a Catholic Christian and love to do
good to all the world, and to this end I have embraced the order of
knight-errantry to which I belong, the province of which extends to
doing good even to souls in purgatory.”

The unfortunate duenna hearing herself thus conjured, by her own fear
guessed Don Quixote’s and in a low plaintive voice answered, “Señor Don
Quixote—if so be you are indeed Don Quixote—I am no phantom or spectre
or soul in purgatory, as you seem to think, but Doña Rodriguez, duenna
of honour to my lady the duchess, and I come to you with one of those
grievances your worship is wont to redress.”

“Tell me, Señora Doña Rodriguez,” said Don Quixote, “do you perchance
come to transact any go-between business? Because I must tell you I am
not available for anybody’s purpose, thanks to the peerless beauty of
my lady Dulcinea del Toboso. In short, Señora Doña Rodriguez, if you
will leave out and put aside all love messages, you may go and light
your candle and come back, and we will discuss all the commands you
have for me and whatever you wish, saving only, as I said, all
seductive communications.”

“I carry nobody’s messages, señor,” said the duenna; “little you know
me. Nay, I’m not far enough advanced in years to take to any such
childish tricks. God be praised I have a soul in my body still, and all
my teeth and grinders in my mouth, except one or two that the colds, so
common in this Aragon country, have robbed me of. But wait a little,
while I go and light my candle, and I will return immediately and lay
my sorrows before you as before one who relieves those of all the
world;” and without staying for an answer she quitted the room and left
Don Quixote tranquilly meditating while he waited for her. A thousand
thoughts at once suggested themselves to him on the subject of this new
adventure, and it struck him as being ill done and worse advised in him
to expose himself to the danger of breaking his plighted faith to his
lady; and said he to himself, “Who knows but that the devil, being wily
and cunning, may be trying now to entrap me with a duenna, having
failed with empresses, queens, duchesses, marchionesses, and
countesses? Many a time have I heard it said by many a man of sense
that he will sooner offer you a flat-nosed wench than a roman-nosed
one; and who knows but this privacy, this opportunity, this silence,
may awaken my sleeping desires, and lead me in these my latter years to
fall where I have never tripped? In cases of this sort it is better to
flee than to await the battle. But I must be out of my senses to think
and utter such nonsense; for it is impossible that a long, white-hooded
spectacled duenna could stir up or excite a wanton thought in the most
graceless bosom in the world. Is there a duenna on earth that has fair
flesh? Is there a duenna in the world that escapes being ill-tempered,
wrinkled, and prudish? Avaunt, then, ye duenna crew, undelightful to
all mankind. Oh, but that lady did well who, they say, had at the end
of her reception room a couple of figures of duennas with spectacles
and lace-cushions, as if at work, and those statues served quite as
well to give an air of propriety to the room as if they had been real
duennas.”

So saying he leaped off the bed, intending to close the door and not
allow Señora Rodriguez to enter; but as he went to shut it Señora
Rodriguez returned with a wax candle lighted, and having a closer view
of Don Quixote, with the coverlet round him, and his bandages and
night-cap, she was alarmed afresh, and retreating a couple of paces,
exclaimed, “Am I safe, sir knight? for I don’t look upon it as a sign
of very great virtue that your worship should have got up out of bed.”

“I may well ask the same, señora,” said Don Quixote; “and I do ask
whether I shall be safe from being assailed and forced?”

“Of whom and against whom do you demand that security, sir knight?”
said the duenna.

“Of you and against you I ask it,” said Don Quixote; “for I am not
marble, nor are you brass, nor is it now ten o’clock in the morning,
but midnight, or a trifle past it I fancy, and we are in a room more
secluded and retired than the cave could have been where the
treacherous and daring Æneas enjoyed the fair soft-hearted Dido. But
give me your hand, señora; I require no better protection than my own
continence, and my own sense of propriety; as well as that which is
inspired by that venerable head-dress;” and so saying he kissed her
right hand and took it in his own, she yielding it to him with equal
ceremoniousness. And here Cide Hamete inserts a parenthesis in which he
says that to have seen the pair marching from the door to the bed,
linked hand in hand in this way, he would have given the best of the
two tunics he had.

Don Quixote finally got into bed, and Doña Rodriguez took her seat on a
chair at some little distance from his couch, without taking off her
spectacles or putting aside the candle. Don Quixote wrapped the
bedclothes round him and covered himself up completely, leaving nothing
but his face visible, and as soon as they had both regained their
composure he broke silence, saying, “Now, Señora Doña Rodriguez, you
may unbosom yourself and out with everything you have in your sorrowful
heart and afflicted bowels; and by me you shall be listened to with
chaste ears, and aided by compassionate exertions.”

“I believe it,” replied the duenna; “from your worship’s gentle and
winning presence only such a Christian answer could be expected. The
fact is, then, Señor Don Quixote, that though you see me seated in this
chair, here in the middle of the kingdom of Aragon, and in the attire
of a despised outcast duenna, I am from the Asturias of Oviedo, and of
a family with which many of the best of the province are connected by
blood; but my untoward fate and the improvidence of my parents, who, I
know not how, were unseasonably reduced to poverty, brought me to the
court of Madrid, where as a provision and to avoid greater misfortunes,
my parents placed me as seamstress in the service of a lady of quality,
and I would have you know that for hemming and sewing I have never been
surpassed by any all my life. My parents left me in service and
returned to their own country, and a few years later went, no doubt, to
heaven, for they were excellent good Catholic Christians. I was left an
orphan with nothing but the miserable wages and trifling presents that
are given to servants of my sort in palaces; but about this time,
without any encouragement on my part, one of the esquires of the
household fell in love with me, a man somewhat advanced in years,
full-bearded and personable, and above all as good a gentleman as the
king himself, for he came of a mountain stock. We did not carry on our
loves with such secrecy but that they came to the knowledge of my lady,
and she, not to have any fuss about it, had us married with the full
sanction of the holy mother Roman Catholic Church, of which marriage a
daughter was born to put an end to my good fortune, if I had any; not
that I died in childbirth, for I passed through it safely and in due
season, but because shortly afterwards my husband died of a certain
shock he received, and had I time to tell you of it I know your worship
would be surprised;” and here she began to weep bitterly and said,
“Pardon me, Señor Don Quixote, if I am unable to control myself, for
every time I think of my unfortunate husband my eyes fill up with
tears. God bless me, with what an air of dignity he used to carry my
lady behind him on a stout mule as black as jet! for in those days they
did not use coaches or chairs, as they say they do now, and ladies rode
behind their squires. This much at least I cannot help telling you,
that you may observe the good breeding and punctiliousness of my worthy
husband. As he was turning into the Calle de Santiago in Madrid, which
is rather narrow, one of the alcaldes of the Court, with two alguacils
before him, was coming out of it, and as soon as my good squire saw him
he wheeled his mule about and made as if he would turn and accompany
him. My lady, who was riding behind him, said to him in a low voice,
‘What are you about, you sneak, don’t you see that I am here?’ The
alcalde like a polite man pulled up his horse and said to him,
‘Proceed, señor, for it is I, rather, who ought to accompany my lady
Doña Casilda’—for that was my mistress’s name. Still my husband, cap in
hand, persisted in trying to accompany the alcalde, and seeing this my
lady, filled with rage and vexation, pulled out a big pin, or, I rather
think, a bodkin, out of her needle-case and drove it into his back with
such force that my husband gave a loud yell, and writhing fell to the
ground with his lady. Her two lacqueys ran to rise her up, and the
alcalde and the alguacils did the same; the Guadalajara gate was all in
commotion—I mean the idlers congregated there; my mistress came back on
foot, and my husband hurried away to a barber’s shop protesting that he
was run right through the guts. The courtesy of my husband was noised
abroad to such an extent, that the boys gave him no peace in the
street; and on this account, and because he was somewhat shortsighted,
my lady dismissed him; and it was chagrin at this I am convinced beyond
a doubt that brought on his death. I was left a helpless widow, with a
daughter on my hands growing up in beauty like the sea-foam; at length,
however, as I had the character of being an excellent needlewoman, my
lady the duchess, then lately married to my lord the duke, offered to
take me with her to this kingdom of Aragon, and my daughter also, and
here as time went by my daughter grew up and with her all the graces in
the world; she sings like a lark, dances quick as thought, foots it
like a gipsy, reads and writes like a schoolmaster, and does sums like
a miser; of her neatness I say nothing, for the running water is not
purer, and her age is now, if my memory serves me, sixteen years five
months and three days, one more or less. To come to the point, the son
of a very rich farmer, living in a village of my lord the duke’s not
very far from here, fell in love with this girl of mine; and in short,
how I know not, they came together, and under the promise of marrying
her he made a fool of my daughter, and will not keep his word. And
though my lord the duke is aware of it (for I have complained to him,
not once but many and many a time, and entreated him to order the
farmer to marry my daughter), he turns a deaf ear and will scarcely
listen to me; the reason being that as the deceiver’s father is so
rich, and lends him money, and is constantly going security for his
debts, he does not like to offend or annoy him in any way. Now, señor,
I want your worship to take it upon yourself to redress this wrong
either by entreaty or by arms; for by what all the world says you came
into it to redress grievances and right wrongs and help the
unfortunate. Let your worship put before you the unprotected condition
of my daughter, her youth, and all the perfections I have said she
possesses; and before God and on my conscience, out of all the damsels
my lady has, there is not one that comes up to the sole of her shoe,
and the one they call Altisidora, and look upon as the boldest and
gayest of them, put in comparison with my daughter, does not come
within two leagues of her. For I would have you know, señor, all is not
gold that glitters, and that same little Altisidora has more
forwardness than good looks, and more impudence than modesty; besides
being not very sound, for she has such a disagreeable breath that one
cannot bear to be near her for a moment; and even my lady the
duchess—but I’ll hold my tongue, for they say that walls have ears.”

“For heaven’s sake, Doña Rodriguez, what ails my lady the duchess?”
asked Don Quixote.

“Adjured in that way,” replied the duenna, “I cannot help answering the
question and telling the whole truth. Señor Don Quixote, have you
observed the comeliness of my lady the duchess, that smooth complexion
of hers like a burnished polished sword, those two cheeks of milk and
carmine, that gay lively step with which she treads or rather seems to
spurn the earth, so that one would fancy she went radiating health
wherever she passed? Well then, let me tell you she may thank, first of
all God, for this, and next, two issues that she has, one in each leg,
by which all the evil humours, of which the doctors say she is full,
are discharged.”

“Blessed Virgin!” exclaimed Don Quixote; “and is it possible that my
lady the duchess has drains of that sort? I would not have believed it
if the barefoot friars had told it me; but as the lady Doña Rodriguez
says so, it must be so. But surely such issues, and in such places, do
not discharge humours, but liquid amber. Verily, I do believe now that
this practice of opening issues is a very important matter for the
health.”

Don Quixote had hardly said this, when the chamber door flew open with
a loud bang, and with the start the noise gave her Doña Rodriguez let
the candle fall from her hand, and the room was left as dark as a
wolf’s mouth, as the saying is. Suddenly the poor duenna felt two hands
seize her by the throat, so tightly that she could not croak, while
someone else, without uttering a word, very briskly hoisted up her
petticoats, and with what seemed to be a slipper began to lay on so
heartily that anyone would have felt pity for her; but although Don
Quixote felt it he never stirred from his bed, but lay quiet and
silent, nay apprehensive that his turn for a drubbing might be coming.
Nor was the apprehension an idle one; for leaving the duenna (who did
not dare to cry out) well basted, the silent executioners fell upon Don
Quixote, and stripping him of the sheet and the coverlet, they pinched
him so fast and so hard that he was driven to defend himself with his
fists, and all this in marvellous silence. The battle lasted nearly
half an hour, and then the phantoms fled; Doña Rodriguez gathered up
her skirts, and bemoaning her fate went out without saying a word to
Don Quixote, and he, sorely pinched, puzzled, and dejected, remained
alone, and there we will leave him, wondering who could have been the
perverse enchanter who had reduced him to such a state; but that shall
be told in due season, for Sancho claims our attention, and the
methodical arrangement of the story demands it.



p48e.jpg (28K)



CHAPTER XLIX.
OF WHAT HAPPENED SANCHO IN MAKING THE ROUND OF HIS ISLAND




p49a.jpg (170K)

Full Size



We left the great governor angered and irritated by that
portrait-painting rogue of a farmer who, instructed the majordomo, as
the majordomo was by the duke, tried to practise upon him; he however,
fool, boor, and clown as he was, held his own against them all, saying
to those round him and to Doctor Pedro Recio, who as soon as the
private business of the duke’s letter was disposed of had returned to
the room, “Now I see plainly enough that judges and governors ought to
be and must be made of brass not to feel the importunities of the
applicants that at all times and all seasons insist on being heard, and
having their business despatched, and their own affairs and no others
attended to, come what may; and if the poor judge does not hear them
and settle the matter—either because he cannot or because that is not
the time set apart for hearing them—forthwith they abuse him, and run
him down, and gnaw at his bones, and even pick holes in his pedigree.
You silly, stupid applicant, don’t be in a hurry; wait for the proper
time and season for doing business; don’t come at dinner-hour, or at
bed-time; for judges are only flesh and blood, and must give to Nature
what she naturally demands of them; all except myself, for in my case I
give her nothing to eat, thanks to Señor Doctor Pedro Recio Tirteafuera
here, who would have me die of hunger, and declares that death to be
life; and the same sort of life may God give him and all his kind—I
mean the bad doctors; for the good ones deserve palms and laurels.”

All who knew Sancho Panza were astonished to hear him speak so
elegantly, and did not know what to attribute it to unless it were that
office and grave responsibility either smarten or stupefy men’s wits.
At last Doctor Pedro Recio Agilers of Tirteafuera promised to let him
have supper that night though it might be in contravention of all the
aphorisms of Hippocrates. With this the governor was satisfied and
looked forward to the approach of night and supper-time with great
anxiety; and though time, to his mind, stood still and made no
progress, nevertheless the hour he so longed for came, and they gave
him a beef salad with onions and some boiled calves’ feet rather far
gone. At this he fell to with greater relish than if they had given him
francolins from Milan, pheasants from Rome, veal from Sorrento,
partridges from Moron, or geese from Lavajos, and turning to the doctor
at supper he said to him, “Look here, señor doctor, for the future
don’t trouble yourself about giving me dainty things or choice dishes
to eat, for it will be only taking my stomach off its hinges; it is
accustomed to goat, cow, bacon, hung beef, turnips and onions; and if
by any chance it is given these palace dishes, it receives them
squeamishly, and sometimes with loathing. What the head-carver had best
do is to serve me with what they call ollas podridas (and the rottener
they are the better they smell); and he can put whatever he likes into
them, so long as it is good to eat, and I’ll be obliged to him, and
will requite him some day. But let nobody play pranks on me, for either
we are or we are not; let us live and eat in peace and good-fellowship,
for when God sends the dawn, he sends it for all. I mean to govern this
island without giving up a right or taking a bribe; let everyone keep
his eye open, and look out for the arrow; for I can tell them ‘the
devil’s in Cantillana,’ and if they drive me to it they’ll see
something that will astonish them. Nay! make yourself honey and the
flies eat you.”

“Of a truth, señor governor,” said the carver, “your worship is in the
right of it in everything you have said; and I promise you in the name
of all the inhabitants of this island that they will serve your worship
with all zeal, affection, and good-will, for the mild kind of
government you have given a sample of to begin with, leaves them no
ground for doing or thinking anything to your worship’s disadvantage.”

“That I believe,” said Sancho; “and they would be great fools if they
did or thought otherwise; once more I say, see to my feeding and my
Dapple’s for that is the great point and what is most to the purpose;
and when the hour comes let us go the rounds, for it is my intention to
purge this island of all manner of uncleanness and of all idle
good-for-nothing vagabonds; for I would have you know that lazy idlers
are the same thing in a State as the drones in a hive, that eat up the
honey the industrious bees make. I mean to protect the husbandman, to
preserve to the gentleman his privileges, to reward the virtuous, and
above all to respect religion and honour its ministers. What say you to
that, my friends? Is there anything in what I say, or am I talking to
no purpose?”

“There is so much in what your worship says, señor governor,” said the
majordomo, “that I am filled with wonder when I see a man like your
worship, entirely without learning (for I believe you have none at
all), say such things, and so full of sound maxims and sage remarks,
very different from what was expected of your worship’s intelligence by
those who sent us or by us who came here. Every day we see something
new in this world; jokes become realities, and the jokers find the
tables turned upon them.”

Night came, and with the permission of Doctor Pedro Recio, the governor
had supper. They then got ready to go the rounds, and he started with
the majordomo, the secretary, the head-carver, the chronicler charged
with recording his deeds, and alguacils and notaries enough to form a
fair-sized squadron. In the midst marched Sancho with his staff, as
fine a sight as one could wish to see, and but a few streets of the
town had been traversed when they heard a noise as of a clashing of
swords. They hastened to the spot, and found that the combatants were
but two, who seeing the authorities approaching stood still, and one of
them exclaimed, “Help, in the name of God and the king! Are men to be
allowed to rob in the middle of this town, and rush out and attack
people in the very streets?”

“Be calm, my good man,” said Sancho, “and tell me what the cause of
this quarrel is; for I am the governor.”

Said the other combatant, “Señor governor, I will tell you in a very
few words. Your worship must know that this gentleman has just now won
more than a thousand reals in that gambling house opposite, and God
knows how. I was there, and gave more than one doubtful point in his
favour, very much against what my conscience told me. He made off with
his winnings, and when I made sure he was going to give me a crown or
so at least by way of a present, as it is usual and customary to give
men of quality of my sort who stand by to see fair or foul play, and
back up swindles, and prevent quarrels, he pocketed his money and left
the house. Indignant at this I followed him, and speaking to him fairly
and civilly asked him to give me if it were only eight reals, for he
knows I am an honest man and that I have neither profession nor
property, for my parents never brought me up to any or left me any; but
the rogue, who is a greater thief than Cacus and a greater sharper than
Andradilla, would not give me more than four reals; so your worship may
see how little shame and conscience he has. But by my faith if you had
not come up I’d have made him disgorge his winnings, and he’d have
learned what the range of the steel-yard was.”

“What say you to this?” asked Sancho. The other replied that all his
antagonist said was true, and that he did not choose to give him more
than four reals because he very often gave him money; and that those
who expected presents ought to be civil and take what is given them
with a cheerful countenance, and not make any claim against winners
unless they know them for certain to be sharpers and their winnings to
be unfairly won; and that there could be no better proof that he
himself was an honest man than his having refused to give anything; for
sharpers always pay tribute to lookers-on who know them.

“That is true,” said the majordomo; “let your worship consider what is
to be done with these men.”

“What is to be done,” said Sancho, “is this; you, the winner, be you
good, bad, or indifferent, give this assailant of yours a hundred reals
at once, and you must disburse thirty more for the poor prisoners; and
you who have neither profession nor property, and hang about the island
in idleness, take these hundred reals now, and some time of the day
to-morrow quit the island under sentence of banishment for ten years,
and under pain of completing it in another life if you violate the
sentence, for I’ll hang you on a gibbet, or at least the hangman will
by my orders; not a word from either of you, or I’ll make him feel my
hand.”

The one paid down the money and the other took it, and the latter
quitted the island, while the other went home; and then the governor
said, “Either I am not good for much, or I’ll get rid of these gambling
houses, for it strikes me they are very mischievous.”

“This one at least,” said one of the notaries, “your worship will not
be able to get rid of, for a great man owns it, and what he loses every
year is beyond all comparison more than what he makes by the cards. On
the minor gambling houses your worship may exercise your power, and it
is they that do most harm and shelter the most barefaced practices; for
in the houses of lords and gentlemen of quality the notorious sharpers
dare not attempt to play their tricks; and as the vice of gambling has
become common, it is better that men should play in houses of repute
than in some tradesman’s, where they catch an unlucky fellow in the
small hours of the morning and skin him alive.”

“I know already, notary, that there is a good deal to be said on that
point,” said Sancho.

And now a tipstaff came up with a young man in his grasp, and said,
“Señor governor, this youth was coming towards us, and as soon as he
saw the officers of justice he turned about and ran like a deer, a sure
proof that he must be some evil-doer; I ran after him, and had it not
been that he stumbled and fell, I should never have caught him.”

“What did you run for, fellow?” said Sancho.

To which the young man replied, “Señor, it was to avoid answering all
the questions officers of justice put.”

“What are you by trade?”

“A weaver.”

“And what do you weave?”

“Lance heads, with your worship’s good leave.”

“You’re facetious with me! You plume yourself on being a wag? Very
good; and where were you going just now?”

“To take the air, señor.”

“And where does one take the air in this island?”

“Where it blows.”

“Good! your answers are very much to the point; you are a smart youth;
but take notice that I am the air, and that I blow upon you a-stern,
and send you to gaol. Ho there! lay hold of him and take him off; I’ll
make him sleep there to-night without air.”

“By God,” said the young man, “your worship will make me sleep in gaol
just as soon as make me king.”

“Why shan’t I make thee sleep in gaol?” said Sancho. “Have I not the
power to arrest thee and release thee whenever I like?”

“All the power your worship has,” said the young man, “won’t be able to
make me sleep in gaol.”

“How? not able!” said Sancho; “take him away at once where he’ll see
his mistake with his own eyes, even if the gaoler is willing to exert
his interested generosity on his behalf; for I’ll lay a penalty of two
thousand ducats on him if he allows him to stir a step from the
prison.”

“That’s ridiculous,” said the young man; “the fact is, all the men on
earth will not make me sleep in prison.”

“Tell me, you devil,” said Sancho, “have you got any angel that will
deliver you, and take off the irons I am going to order them to put
upon you?”

“Now, señor governor,” said the young man in a sprightly manner, “let
us be reasonable and come to the point. Granted your worship may order
me to be taken to prison, and to have irons and chains put on me, and
to be shut up in a cell, and may lay heavy penalties on the gaoler if
he lets me out, and that he obeys your orders; still, if I don’t choose
to sleep, and choose to remain awake all night without closing an eye,
will your worship with all your power be able to make me sleep if I
don’t choose?”

“No, truly,” said the secretary, “and the fellow has made his point.”

“So then,” said Sancho, “it would be entirely of your own choice you
would keep from sleeping; not in opposition to my will?”

“No, señor,” said the youth, “certainly not.”

“Well then, go, and God be with you,” said Sancho; “be off home to
sleep, and God give you sound sleep, for I don’t want to rob you of it;
but for the future, let me advise you don’t joke with the authorities,
because you may come across someone who will bring down the joke on
your own skull.”

The young man went his way, and the governor continued his round, and
shortly afterwards two tipstaffs came up with a man in custody, and
said, “Señor governor, this person, who seems to be a man, is not so,
but a woman, and not an ill-favoured one, in man’s clothes.” They
raised two or three lanterns to her face, and by their light they
distinguished the features of a woman to all appearance of the age of
sixteen or a little more, with her hair gathered into a gold and green
silk net, and fair as a thousand pearls. They scanned her from head to
foot, and observed that she had on red silk stockings with garters of
white taffety bordered with gold and pearl; her breeches were of green
and gold stuff, and under an open jacket or jerkin of the same she wore
a doublet of the finest white and gold cloth; her shoes were white and
such as men wear; she carried no sword at her belt, but only a richly
ornamented dagger, and on her fingers she had several handsome rings.
In short, the girl seemed fair to look at in the eyes of all, and none
of those who beheld her knew her, the people of the town said they
could not imagine who she was, and those who were in on the secret of
the jokes that were to be practised upon Sancho were the ones who were
most surprised, for this incident or discovery had not been arranged by
them; and they watched anxiously to see how the affair would end.

Sancho was fascinated by the girl’s beauty, and he asked her who she
was, where she was going, and what had induced her to dress herself in
that garb. She with her eyes fixed on the ground answered in modest
confusion, “I cannot tell you, señor, before so many people what it is
of such consequence to me to have kept secret; one thing I wish to be
known, that I am no thief or evildoer, but only an unhappy maiden whom
the power of jealousy has led to break through the respect that is due
to modesty.”

Hearing this the majordomo said to Sancho, “Make the people stand back,
señor governor, that this lady may say what she wishes with less
embarrassment.”

Sancho gave the order, and all except the majordomo, the head-carver,
and the secretary fell back. Finding herself then in the presence of no
more, the damsel went on to say, “I am the daughter, sirs, of Pedro
Perez Mazorca, the wool-farmer of this town, who is in the habit of
coming very often to my father’s house.”

“That won’t do, señora,” said the majordomo; “for I know Pedro Perez
very well, and I know he has no child at all, either son or daughter;
and besides, though you say he is your father, you add then that he
comes very often to your father’s house.”

“I had already noticed that,” said Sancho.

“I am confused just now, sirs,” said the damsel, “and I don’t know what
I am saying; but the truth is that I am the daughter of Diego de la
Llana, whom you must all know.”

“Ay, that will do,” said the majordomo; “for I know Diego de la Llana,
and know that he is a gentleman of position and a rich man, and that he
has a son and a daughter, and that since he was left a widower nobody
in all this town can speak of having seen his daughter’s face; for he
keeps her so closely shut up that he does not give even the sun a
chance of seeing her; and for all that report says she is extremely
beautiful.”

“It is true,” said the damsel, “and I am that daughter; whether report
lies or not as to my beauty, you, sirs, will have decided by this time,
as you have seen me;” and with this she began to weep bitterly.

On seeing this the secretary leant over to the head-carver’s ear, and
said to him in a low voice, “Something serious has no doubt happened
this poor maiden, that she goes wandering from home in such a dress and
at such an hour, and one of her rank too.” “There can be no doubt about
it,” returned the carver, “and moreover her tears confirm your
suspicion.” Sancho gave her the best comfort he could, and entreated
her to tell them without any fear what had happened her, as they would
all earnestly and by every means in their power endeavour to relieve
her.

“The fact is, sirs,” said she, “that my father has kept me shut up
these ten years, for so long is it since the earth received my mother.
Mass is said at home in a sumptuous chapel, and all this time I have
seen but the sun in the heaven by day, and the moon and the stars by
night; nor do I know what streets are like, or plazas, or churches, or
even men, except my father and a brother I have, and Pedro Perez the
wool-farmer; whom, because he came frequently to our house, I took it
into my head to call my father, to avoid naming my own. This seclusion
and the restrictions laid upon my going out, were it only to church,
have been keeping me unhappy for many a day and month past; I longed to
see the world, or at least the town where I was born, and it did not
seem to me that this wish was inconsistent with the respect maidens of
good quality should have for themselves. When I heard them talking of
bull-fights taking place, and of javelin games, and of acting plays, I
asked my brother, who is a year younger than myself, to tell me what
sort of things these were, and many more that I had never seen; he
explained them to me as well as he could, but the only effect was to
kindle in me a still stronger desire to see them. At last, to cut short
the story of my ruin, I begged and entreated my brother—O that I had
never made such an entreaty—” And once more she gave way to a burst of
weeping.

“Proceed, señora,” said the majordomo, “and finish your story of what
has happened to you, for your words and tears are keeping us all in
suspense.”

“I have but little more to say, though many a tear to shed,” said the
damsel; “for ill-placed desires can only be paid for in some such way.”

The maiden’s beauty had made a deep impression on the head-carver’s
heart, and he again raised his lantern for another look at her, and
thought they were not tears she was shedding, but seed-pearl or dew of
the meadow, nay, he exalted them still higher, and made Oriental pearls
of them, and fervently hoped her misfortune might not be so great a one
as her tears and sobs seemed to indicate. The governor was losing
patience at the length of time the girl was taking to tell her story,
and told her not to keep them waiting any longer; for it was late, and
there still remained a good deal of the town to be gone over.

She, with broken sobs and half-suppressed sighs, went on to say, “My
misfortune, my misadventure, is simply this, that I entreated my
brother to dress me up as a man in a suit of his clothes, and take me
some night, when our father was asleep, to see the whole town; he,
overcome by my entreaties, consented, and dressing me in this suit and
himself in clothes of mine that fitted him as if made for him (for he
has not a hair on his chin, and might pass for a very beautiful young
girl), to-night, about an hour ago, more or less, we left the house,
and guided by our youthful and foolish impulse we made the circuit of
the whole town, and then, as we were about to return home, we saw a
great troop of people coming, and my brother said to me, ‘Sister, this
must be the round, stir your feet and put wings to them, and follow me
as fast as you can, lest they recognise us, for that would be a bad
business for us;’ and so saying he turned about and began, I cannot say
to run but to fly; in less than six paces I fell from fright, and then
the officer of justice came up and carried me before your worships,
where I find myself put to shame before all these people as whimsical
and vicious.”

“So then, señora,” said Sancho, “no other mishap has befallen you, nor
was it jealousy that made you leave home, as you said at the beginning
of your story?”

“Nothing has happened me,” said she, “nor was it jealousy that brought
me out, but merely a longing to see the world, which did not go beyond
seeing the streets of this town.”

The appearance of the tipstaffs with her brother in custody, whom one
of them had overtaken as he ran away from his sister, now fully
confirmed the truth of what the damsel said. He had nothing on but a
rich petticoat and a short blue damask cloak with fine gold lace, and
his head was uncovered and adorned only with its own hair, which looked
like rings of gold, so bright and curly was it. The governor, the
majordomo, and the carver went aside with him, and, unheard by his
sister, asked him how he came to be in that dress, and he with no less
shame and embarrassment told exactly the same story as his sister, to
the great delight of the enamoured carver; the governor, however, said
to them, “In truth, young lady and gentleman, this has been a very
childish affair, and to explain your folly and rashness there was no
necessity for all this delay and all these tears and sighs; for if you
had said we are so-and-so, and we escaped from our father’s house in
this way in order to ramble about, out of mere curiosity and with no
other object, there would have been an end of the matter, and none of
these little sobs and tears and all the rest of it.”

“That is true,” said the damsel, “but you see the confusion I was in
was so great it did not let me behave as I ought.”

“No harm has been done,” said Sancho; “come, we will leave you at your
father’s house; perhaps they will not have missed you; and another time
don’t be so childish or eager to see the world; for a respectable
damsel should have a broken leg and keep at home; and the woman and the
hen by gadding about are soon lost; and she who is eager to see is also
eager to be seen; I say no more.”

The youth thanked the governor for his kind offer to take them home,
and they directed their steps towards the house, which was not far off.
On reaching it the youth threw a pebble up at a grating, and
immediately a woman-servant who was waiting for them came down and
opened the door to them, and they went in, leaving the party marvelling
as much at their grace and beauty as at the fancy they had for seeing
the world by night and without quitting the village; which, however,
they set down to their youth.

The head-carver was left with a heart pierced through and through, and
he made up his mind on the spot to demand the damsel in marriage of her
father on the morrow, making sure she would not be refused him as he
was a servant of the duke’s; and even to Sancho ideas and schemes of
marrying the youth to his daughter Sanchica suggested themselves, and
he resolved to open the negotiation at the proper season, persuading
himself that no husband could be refused to a governor’s daughter. And
so the night’s round came to an end, and a couple of days later the
government, whereby all his plans were overthrown and swept away, as
will be seen farther on.



p49e.jpg (55K)



CHAPTER L.
WHEREIN IS SET FORTH WHO THE ENCHANTERS AND EXECUTIONERS WERE WHO
FLOGGED THE DUENNA AND PINCHED DON QUIXOTE, AND ALSO WHAT BEFELL THE
PAGE WHO CARRIED THE LETTER TO TERESA PANZA, SANCHO PANZA’S WIFE




p50a.jpg (104K)

Full Size



Cide Hamete, the painstaking investigator of the minute points of this
veracious history, says that when Doña Rodriguez left her own room to
go to Don Quixote’s, another duenna who slept with her observed her,
and as all duennas are fond of prying, listening, and sniffing, she
followed her so silently that the good Rodriguez never perceived it;
and as soon as the duenna saw her enter Don Quixote’s room, not to fail
in a duenna’s invariable practice of tattling, she hurried off that
instant to report to the duchess how Doña Rodriguez was closeted with
Don Quixote. The duchess told the duke, and asked him to let her and
Altisidora go and see what the said duenna wanted with Don Quixote. The
duke gave them leave, and the pair cautiously and quietly crept to the
door of the room and posted themselves so close to it that they could
hear all that was said inside. But when the duchess heard how the
Rodriguez had made public the Aranjuez of her issues she could not
restrain herself, nor Altisidora either; and so, filled with rage and
thirsting for vengeance, they burst into the room and tormented Don
Quixote and flogged the duenna in the manner already described; for
indignities offered to their charms and self-esteem mightily provoke
the anger of women and make them eager for revenge. The duchess told
the duke what had happened, and he was much amused by it; and she, in
pursuance of her design of making merry and diverting herself with Don
Quixote, despatched the page who had played the part of Dulcinea in the
negotiations for her disenchantment (which Sancho Panza in the cares of
government had forgotten all about) to Teresa Panza his wife with her
husband’s letter and another from herself, and also a great string of
fine coral beads as a present.

Now the history says this page was very sharp and quick-witted; and
eager to serve his lord and lady he set off very willingly for Sancho’s
village. Before he entered it he observed a number of women washing in
a brook, and asked them if they could tell him whether there lived
there a woman of the name of Teresa Panza, wife of one Sancho Panza,
squire to a knight called Don Quixote of La Mancha. At the question a
young girl who was washing stood up and said, “Teresa Panza is my
mother, and that Sancho is my father, and that knight is our master.”

“Well then, miss,” said the page, “come and show me where your mother
is, for I bring her a letter and a present from your father.”

“That I will with all my heart, señor,” said the girl, who seemed to be
about fourteen, more or less; and leaving the clothes she was washing
to one of her companions, and without putting anything on her head or
feet, for she was bare-legged and had her hair hanging about her, away
she skipped in front of the page’s horse, saying, “Come, your worship,
our house is at the entrance of the town, and my mother is there,
sorrowful enough at not having had any news of my father this ever so
long.”

“Well,” said the page, “I am bringing her such good news that she will
have reason to thank God.”

And then, skipping, running, and capering, the girl reached the town,
but before going into the house she called out at the door, “Come out,
mother Teresa, come out, come out; here’s a gentleman with letters and
other things from my good father.” At these words her mother Teresa
Panza came out spinning a bundle of flax, in a grey petticoat (so short
was it one would have fancied “they to her shame had cut it short”), a
grey bodice of the same stuff, and a smock. She was not very old,
though plainly past forty, strong, healthy, vigorous, and sun-dried;
and seeing her daughter and the page on horseback, she exclaimed,
“What’s this, child? What gentleman is this?”

“A servant of my lady, Doña Teresa Panza,” replied the page; and
suiting the action to the word he flung himself off his horse, and with
great humility advanced to kneel before the lady Teresa, saying, “Let
me kiss your hand, Señora Doña Teresa, as the lawful and only wife of
Señor Don Sancho Panza, rightful governor of the island of Barataria.”

“Ah, señor, get up, do that,” said Teresa; “for I’m not a bit of a
court lady, but only a poor country woman, the daughter of a
clodcrusher, and the wife of a squire-errant and not of any governor at
all.”

“You are,” said the page, “the most worthy wife of a most arch-worthy
governor; and as a proof of what I say accept this letter and this
present;” and at the same time he took out of his pocket a string of
coral beads with gold clasps, and placed it on her neck, and said,
“This letter is from his lordship the governor, and the other as well
as these coral beads from my lady the duchess, who sends me to your
worship.”

Teresa stood lost in astonishment, and her daughter just as much, and
the girl said, “May I die but our master Don Quixote’s at the bottom of
this; he must have given father the government or county he so often
promised him.”

“That is the truth,” said the page; “for it is through Señor Don
Quixote that Señor Sancho is now governor of the island of Barataria,
as will be seen by this letter.”

“Will your worship read it to me, noble sir?” said Teresa; “for though
I can spin I can’t read, not a scrap.”

“Nor I either,” said Sanchica; “but wait a bit, and I’ll go and fetch
someone who can read it, either the curate himself or the bachelor
Samson Carrasco, and they’ll come gladly to hear any news of my
father.”

“There is no need to fetch anybody,” said the page; “for though I can’t
spin I can read, and I’ll read it;” and so he read it through, but as
it has been already given it is not inserted here; and then he took out
the other one from the duchess, which ran as follows:

Friend Teresa,—Your husband Sancho’s good qualities, of heart as well
as of head, induced and compelled me to request my husband the duke to
give him the government of one of his many islands. I am told he
governs like a gerfalcon, of which I am very glad, and my lord the
duke, of course, also; and I am very thankful to heaven that I have not
made a mistake in choosing him for that same government; for I would
have Señora Teresa know that a good governor is hard to find in this
world and may God make me as good as Sancho’s way of governing.
Herewith I send you, my dear, a string of coral beads with gold clasps;
I wish they were Oriental pearls; but “he who gives thee a bone does
not wish to see thee dead;” a time will come when we shall become
acquainted and meet one another, but God knows the future. Commend me
to your daughter Sanchica, and tell her from me to hold herself in
readiness, for I mean to make a high match for her when she least
expects it. They tell me there are big acorns in your village; send me
a couple of dozen or so, and I shall value them greatly as coming from
your hand; and write to me at length to assure me of your health and
well-being; and if there be anything you stand in need of, it is but to
open your mouth, and that shall be the measure; and so God keep you.


From this place.
Your loving friend,
THE DUCHESS.


“Ah, what a good, plain, lowly lady!” said Teresa when she heard the
letter; “that I may be buried with ladies of that sort, and not the
gentlewomen we have in this town, that fancy because they are
gentlewomen the wind must not touch them, and go to church with as much
airs as if they were queens, no less, and seem to think they are
disgraced if they look at a farmer’s wife! And see here how this good
lady, for all she’s a duchess, calls me ‘friend,’ and treats me as if I
was her equal—and equal may I see her with the tallest church-tower in
La Mancha! And as for the acorns, señor, I’ll send her ladyship a peck
and such big ones that one might come to see them as a show and a
wonder. And now, Sanchica, see that the gentleman is comfortable; put
up his horse, and get some eggs out of the stable, and cut plenty of
bacon, and let’s give him his dinner like a prince; for the good news
he has brought, and his own bonny face deserve it all; and meanwhile
I’ll run out and give the neighbours the news of our good luck, and
father curate, and Master Nicholas the barber, who are and always have
been such friends of thy father’s.”

“That I will, mother,” said Sanchica; “but mind, you must give me half
of that string; for I don’t think my lady the duchess could have been
so stupid as to send it all to you.”

“It is all for thee, my child,” said Teresa; “but let me wear it round
my neck for a few days; for verily it seems to make my heart glad.”

“You will be glad too,” said the page, “when you see the bundle there
is in this portmanteau, for it is a suit of the finest cloth, that the
governor only wore one day out hunting and now sends, all for Señora
Sanchica.”

“May he live a thousand years,” said Sanchica, “and the bearer as many,
nay two thousand, if needful.”

With this Teresa hurried out of the house with the letters, and with
the string of beads round her neck, and went along thrumming the
letters as if they were a tambourine, and by chance coming across the
curate and Samson Carrasco she began capering and saying, “None of us
poor now, faith! We’ve got a little government! Ay, let the finest fine
lady tackle me, and I’ll give her a setting down!”

“What’s all this, Teresa Panza,” said they; “what madness is this, and
what papers are those?”

“The madness is only this,” said she, “that these are the letters of
duchesses and governors, and these I have on my neck are fine coral
beads, with ave-marias and paternosters of beaten gold, and I am a
governess.”

“God help us,” said the curate, “we don’t understand you, Teresa, or
know what you are talking about.”

“There, you may see it yourselves,” said Teresa, and she handed them
the letters.

The curate read them out for Samson Carrasco to hear, and Samson and he
regarded one another with looks of astonishment at what they had read,
and the bachelor asked who had brought the letters. Teresa in reply
bade them come with her to her house and they would see the messenger,
a most elegant youth, who had brought another present which was worth
as much more. The curate took the coral beads from her neck and
examined them again and again, and having satisfied himself as to their
fineness he fell to wondering afresh, and said, “By the gown I wear I
don’t know what to say or think of these letters and presents; on the
one hand I can see and feel the fineness of these coral beads, and on
the other I read how a duchess sends to beg for a couple of dozen of
acorns.”

“Square that if you can,” said Carrasco; “well, let’s go and see the
messenger, and from him we’ll learn something about this mystery that
has turned up.”

They did so, and Teresa returned with them. They found the page sifting
a little barley for his horse, and Sanchica cutting a rasher of bacon
to be paved with eggs for his dinner. His looks and his handsome
apparel pleased them both greatly; and after they had saluted him
courteously, and he them, Samson begged him to give them his news, as
well of Don Quixote as of Sancho Panza, for, he said, though they had
read the letters from Sancho and her ladyship the duchess, they were
still puzzled and could not make out what was meant by Sancho’s
government, and above all of an island, when all or most of those in
the Mediterranean belonged to his Majesty.

To this the page replied, “As to Señor Sancho Panza’s being a governor
there is no doubt whatever; but whether it is an island or not that he
governs, with that I have nothing to do; suffice it that it is a town
of more than a thousand inhabitants; with regard to the acorns I may
tell you my lady the duchess is so unpretending and unassuming that,
not to speak of sending to beg for acorns from a peasant woman, she has
been known to send to ask for the loan of a comb from one of her
neighbours; for I would have your worships know that the ladies of
Aragon, though they are just as illustrious, are not so punctilious and
haughty as the Castilian ladies; they treat people with greater
familiarity.”

In the middle of this conversation Sanchica came in with her skirt full
of eggs, and said she to the page, “Tell me, señor, does my father wear
trunk-hose since he has been governor?”

“I have not noticed,” said the page; “but no doubt he wears them.”

“Ah! my God!” said Sanchica, “what a sight it must be to see my father
in tights! Isn’t it odd that ever since I was born I have had a longing
to see my father in trunk-hose?”

“As things go you will see that if you live,” said the page; “by God he
is in the way to take the road with a sunshade if the government only
lasts him two months more.”

The curate and the bachelor could see plainly enough that the page
spoke in a waggish vein; but the fineness of the coral beads, and the
hunting suit that Sancho sent (for Teresa had already shown it to them)
did away with the impression; and they could not help laughing at
Sanchica’s wish, and still more when Teresa said, “Señor curate, look
about if there’s anybody here going to Madrid or Toledo, to buy me a
hooped petticoat, a proper fashionable one of the best quality; for
indeed and indeed I must do honour to my husband’s government as well
as I can; nay, if I am put to it and have to, I’ll go to Court and set
a coach like all the world; for she who has a governor for her husband
may very well have one and keep one.”

“And why not, mother!” said Sanchica; “would to God it were to-day
instead of to-morrow, even though they were to say when they saw me
seated in the coach with my mother, ‘See that rubbish, that
garlic-stuffed fellow’s daughter, how she goes stretched at her ease in
a coach as if she was a she-pope!’ But let them tramp through the mud,
and let me go in my coach with my feet off the ground. Bad luck to
backbiters all over the world; ‘let me go warm and the people may
laugh.’ Do I say right, mother?”

“To be sure you do, my child,” said Teresa; “and all this good luck,
and even more, my good Sancho foretold me; and thou wilt see, my
daughter, he won’t stop till he has made me a countess; for to make a
beginning is everything in luck; and as I have heard thy good father
say many a time (for besides being thy father he’s the father of
proverbs too), ‘When they offer thee a heifer, run with a halter; when
they offer thee a government, take it; when they would give thee a
county, seize it; when they say, “Here, here!” to thee with something
good, swallow it.’ Oh no! go to sleep, and don’t answer the strokes of
good fortune and the lucky chances that are knocking at the door of
your house!”

“And what do I care,” added Sanchica, “whether anybody says when he
sees me holding my head up, ‘The dog saw himself in hempen breeches,’
and the rest of it?”

Hearing this the curate said, “I do believe that all this family of the
Panzas are born with a sackful of proverbs in their insides, every one
of them; I never saw one of them that does not pour them out at all
times and on all occasions.”

“That is true,” said the page, “for Señor Governor Sancho utters them
at every turn; and though a great many of them are not to the purpose,
still they amuse one, and my lady the duchess and the duke praise them
highly.”

“Then you still maintain that all this about Sancho’s government is
true, señor,” said the bachelor, “and that there actually is a duchess
who sends him presents and writes to him? Because we, although we have
handled the present and read the letters, don’t believe it and suspect
it to be something in the line of our fellow-townsman Don Quixote, who
fancies that everything is done by enchantment; and for this reason I
am almost ready to say that I’d like to touch and feel your worship to
see whether you are a mere ambassador of the imagination or a man of
flesh and blood.”

“All I know, sirs,” replied the page, “is that I am a real ambassador,
and that Señor Sancho Panza is governor as a matter of fact, and that
my lord and lady the duke and duchess can give, and have given him this
same government, and that I have heard it said Sancho Panza bears
himself very stoutly therein; whether there be any enchantment in all
this or not, it is for your worships to settle between you; for that’s
all I know by the oath I swear, and that is by the life of my parents
whom I have still alive, and love dearly.”

“It may be so,” said the bachelor; “but _dubitat Augustinus_.”

“Doubt who will,” said the page; “what I have told you is the truth,
and that will always rise above falsehood as oil above water; if not
_operibus credite, et non verbis_. Let one of you come with me, and he
will see with his eyes what he does not believe with his ears.”

“It’s for me to make that trip,” said Sanchica; “take me with you,
señor, behind you on your horse; for I’ll go with all my heart to see
my father.”

“Governors’ daughters,” said the page, “must not travel along the roads
alone, but accompanied by coaches and litters and a great number of
attendants.”

“By God,” said Sanchica, “I can go just as well mounted on a she-ass as
in a coach; what a dainty lass you must take me for!”

“Hush, girl,” said Teresa; “you don’t know what you’re talking about;
the gentleman is quite right, for ‘as the time so the behaviour;’ when
it was Sancho it was ‘Sancha;’ when it is governor it’s ‘señora;’ I
don’t know if I’m right.”

“Señora Teresa says more than she is aware of,” said the page; “and now
give me something to eat and let me go at once, for I mean to return
this evening.”

“Come and do penance with me,” said the curate at this; “for Señora
Teresa has more will than means to serve so worthy a guest.”

The page refused, but had to consent at last for his own sake; and the
curate took him home with him very gladly, in order to have an
opportunity of questioning him at leisure about Don Quixote and his
doings. The bachelor offered to write the letters in reply for Teresa;
but she did not care to let him mix himself up in her affairs, for she
thought him somewhat given to joking; and so she gave a cake and a
couple of eggs to a young acolyte who was a penman, and he wrote for
her two letters, one for her husband and the other for the duchess,
dictated out of her own head, which are not the worst inserted in this
great history, as will be seen farther on.



p50e.jpg (19K)



CHAPTER LI.
OF THE PROGRESS OF SANCHO’S GOVERNMENT, AND OTHER SUCH ENTERTAINING
MATTERS




p51a.jpg (188K)

Full Size



Day came after the night of the governor’s round; a night which the
head-carver passed without sleeping, so were his thoughts of the face
and air and beauty of the disguised damsel, while the majordomo spent
what was left of it in writing an account to his lord and lady of all
Sancho said and did, being as much amazed at his sayings as at his
doings, for there was a mixture of shrewdness and simplicity in all his
words and deeds. The señor governor got up, and by Doctor Pedro Recio’s
directions they made him break his fast on a little conserve and four
sups of cold water, which Sancho would have readily exchanged for a
piece of bread and a bunch of grapes; but seeing there was no help for
it, he submitted with no little sorrow of heart and discomfort of
stomach; Pedro Recio having persuaded him that light and delicate diet
enlivened the wits, and that was what was most essential for persons
placed in command and in responsible situations, where they have to
employ not only the bodily powers but those of the mind also.

By means of this sophistry Sancho was made to endure hunger, and hunger
so keen that in his heart he cursed the government, and even him who
had given it to him; however, with his hunger and his conserve he
undertook to deliver judgments that day, and the first thing that came
before him was a question that was submitted to him by a stranger, in
the presence of the majordomo and the other attendants, and it was in
these words: “Señor, a large river separated two districts of one and
the same lordship—will your worship please to pay attention, for the
case is an important and a rather knotty one? Well then, on this river
there was a bridge, and at one end of it a gallows, and a sort of
tribunal, where four judges commonly sat to administer the law which
the lord of river, bridge and the lordship had enacted, and which was
to this effect, ‘If anyone crosses by this bridge from one side to the
other he shall declare on oath where he is going to and with what
object; and if he swears truly, he shall be allowed to pass, but if
falsely, he shall be put to death for it by hanging on the gallows
erected there, without any remission.’ Though the law and its severe
penalty were known, many persons crossed, but in their declarations it
was easy to see at once they were telling the truth, and the judges let
them pass free. It happened, however, that one man, when they came to
take his declaration, swore and said that by the oath he took he was
going to die upon that gallows that stood there, and nothing else. The
judges held a consultation over the oath, and they said, ‘If we let
this man pass free he has sworn falsely, and by the law he ought to
die; but if we hang him, as he swore he was going to die on that
gallows, and therefore swore the truth, by the same law he ought to go
free.’ It is asked of your worship, señor governor, what are the judges
to do with this man? For they are still in doubt and perplexity; and
having heard of your worship’s acute and exalted intellect, they have
sent me to entreat your worship on their behalf to give your opinion on
this very intricate and puzzling case.”

To this Sancho made answer, “Indeed those gentlemen the judges that
send you to me might have spared themselves the trouble, for I have
more of the obtuse than the acute in me; but repeat the case over
again, so that I may understand it, and then perhaps I may be able to
hit the point.”

The querist repeated again and again what he had said before, and then
Sancho said, “It seems to me I can set the matter right in a moment,
and in this way; the man swears that he is going to die upon the
gallows; but if he dies upon it, he has sworn the truth, and by the law
enacted deserves to go free and pass over the bridge; but if they don’t
hang him, then he has sworn falsely, and by the same law deserves to be
hanged.”

“It is as the señor governor says,” said the messenger; “and as regards
a complete comprehension of the case, there is nothing left to desire
or hesitate about.”

“Well then I say,” said Sancho, “that of this man they should let pass
the part that has sworn truly, and hang the part that has lied; and in
this way the conditions of the passage will be fully complied with.”

“But then, señor governor,” replied the querist, “the man will have to
be divided into two parts; and if he is divided of course he will die;
and so none of the requirements of the law will be carried out, and it
is absolutely necessary to comply with it.”

“Look here, my good sir,” said Sancho; “either I’m a numskull or else
there is the same reason for this passenger dying as for his living and
passing over the bridge; for if the truth saves him the falsehood
equally condemns him; and that being the case it is my opinion you
should say to the gentlemen who sent you to me that as the arguments
for condemning him and for absolving him are exactly balanced, they
should let him pass freely, as it is always more praiseworthy to do
good than to do evil; this I would give signed with my name if I knew
how to sign; and what I have said in this case is not out of my own
head, but one of the many precepts my master Don Quixote gave me the
night before I left to become governor of this island, that came into
my mind, and it was this, that when there was any doubt about the
justice of a case I should lean to mercy; and it is God’s will that I
should recollect it now, for it fits this case as if it was made for
it.”

“That is true,” said the majordomo; “and I maintain that Lycurgus
himself, who gave laws to the Lacedemonians, could not have pronounced
a better decision than the great Panza has given; let the morning’s
audience close with this, and I will see that the señor governor has
dinner entirely to his liking.”

“That’s all I ask for—fair play,” said Sancho; “give me my dinner, and
then let it rain cases and questions on me, and I’ll despatch them in a
twinkling.”

The majordomo kept his word, for he felt it against his conscience to
kill so wise a governor by hunger; particularly as he intended to have
done with him that same night, playing off the last joke he was
commissioned to practise upon him.

It came to pass, then, that after he had dined that day, in opposition
to the rules and aphorisms of Doctor Tirteafuera, as they were taking
away the cloth there came a courier with a letter from Don Quixote for
the governor. Sancho ordered the secretary to read it to himself, and
if there was nothing in it that demanded secrecy to read it aloud. The
secretary did so, and after he had skimmed the contents he said, “It
may well be read aloud, for what Señor Don Quixote writes to your
worship deserves to be printed or written in letters of gold, and it is
as follows.”

DON QUIXOTE OF LA MANCHA’S LETTER TO SANCHO PANZA, GOVERNOR OF THE
ISLAND OF BARATARIA.


When I was expecting to hear of thy stupidities and blunders, friend
Sancho, I have received intelligence of thy displays of good sense, for
which I give special thanks to heaven that can raise the poor from the
dunghill and of fools to make wise men. They tell me thou dost govern
as if thou wert a man, and art a man as if thou wert a beast, so great
is the humility wherewith thou dost comport thyself. But I would have
thee bear in mind, Sancho, that very often it is fitting and necessary
for the authority of office to resist the humility of the heart; for
the seemly array of one who is invested with grave duties should be
such as they require and not measured by what his own humble tastes may
lead him to prefer. Dress well; a stick dressed up does not look like a
stick; I do not say thou shouldst wear trinkets or fine raiment, or
that being a judge thou shouldst dress like a soldier, but that thou
shouldst array thyself in the apparel thy office requires, and that at
the same time it be neat and handsome. To win the good-will of the
people thou governest there are two things, among others, that thou
must do; one is to be civil to all (this, however, I told thee before),
and the other to take care that food be abundant, for there is nothing
that vexes the heart of the poor more than hunger and high prices. Make
not many proclamations; but those thou makest take care that they be
good ones, and above all that they be observed and carried out; for
proclamations that are not observed are the same as if they did not
exist; nay, they encourage the idea that the prince who had the wisdom
and authority to make them had not the power to enforce them; and laws
that threaten and are not enforced come to be like the log, the king of
the frogs, that frightened them at first, but that in time they
despised and mounted upon. Be a father to virtue and a stepfather to
vice. Be not always strict, nor yet always lenient, but observe a mean
between these two extremes, for in that is the aim of wisdom. Visit the
gaols, the slaughter-houses, and the market-places; for the presence of
the governor is of great importance in such places; it comforts the
prisoners who are in hopes of a speedy release, it is the bugbear of
the butchers who have then to give just weight, and it is the terror of
the market-women for the same reason. Let it not be seen that thou art
(even if perchance thou art, which I do not believe) covetous, a
follower of women, or a glutton; for when the people and those that
have dealings with thee become aware of thy special weakness they will
bring their batteries to bear upon thee in that quarter, till they have
brought thee down to the depths of perdition. Consider and reconsider,
con and con over again the advices and the instructions I gave thee
before thy departure hence to thy government, and thou wilt see that in
them, if thou dost follow them, thou hast a help at hand that will
lighten for thee the troubles and difficulties that beset governors at
every step. Write to thy lord and lady and show thyself grateful to
them, for ingratitude is the daughter of pride, and one of the greatest
sins we know of; and he who is grateful to those who have been good to
him shows that he will be so to God also who has bestowed and still
bestows so many blessings upon him.
    My lady the duchess sent off a messenger with thy suit and another
    present to thy wife Teresa Panza; we expect the answer every
    moment. I have been a little indisposed through a certain
    scratching I came in for, not very much to the benefit of my nose;
    but it was nothing; for if there are enchanters who maltreat me,
    there are also some who defend me. Let me know if the majordomo who
    is with thee had any share in the Trifaldi performance, as thou
    didst suspect; and keep me informed of everything that happens
    thee, as the distance is so short; all the more as I am thinking of
    giving over very shortly this idle life I am now leading, for I was
    not born for it. A thing has occurred to me which I am inclined to
    think will put me out of favour with the duke and duchess; but
    though I am sorry for it I do not care, for after all I must obey
    my calling rather than their pleasure, in accordance with the
    common saying, _amicus Plato, sed magis amica veritas_. I quote
    this Latin to thee because I conclude that since thou hast been a
    governor thou wilt have learned it. Adieu; God keep thee from being
    an object of pity to anyone.


Thy friend,
DON QUIXOTE OF LA MANCHA.


Sancho listened to the letter with great attention, and it was praised
and considered wise by all who heard it; he then rose up from table,
and calling his secretary shut himself in with him in his own room, and
without putting it off any longer set about answering his master Don
Quixote at once; and he bade the secretary write down what he told him
without adding or suppressing anything, which he did, and the answer
was to the following effect.

SANCHO PANZA’S LETTER TO DON QUIXOTE OF LA MANCHA.


The pressure of business is so great upon me that I have no time to
scratch my head or even to cut my nails; and I have them so long—God
send a remedy for it. I say this, master of my soul, that you may not
be surprised if I have not until now sent you word of how I fare, well
or ill, in this government, in which I am suffering more hunger than
when we two were wandering through the woods and wastes.
    My lord the duke wrote to me the other day to warn me that certain
    spies had got into this island to kill me; but up to the present I
    have not found out any except a certain doctor who receives a
    salary in this town for killing all the governors that come here;
    he is called Doctor Pedro Recio, and is from Tirteafuera; so you
    see what a name he has to make me dread dying under his hands. This
    doctor says of himself that he does not cure diseases when there
    are any, but prevents them coming, and the medicines he uses are
    diet and more diet until he brings one down to bare bones; as if
    leanness was not worse than fever.
    In short he is killing me with hunger, and I am dying myself of
    vexation; for when I thought I was coming to this government to get
    my meat hot and my drink cool, and take my ease between holland
    sheets on feather beds, I find I have come to do penance as if I
    was a hermit; and as I don’t do it willingly I suspect that in the
    end the devil will carry me off.
    So far I have not handled any dues or taken any bribes, and I don’t
    know what to think of it; for here they tell me that the governors
    that come to this island, before entering it have plenty of money
    either given to them or lent to them by the people of the town, and
    that this is the usual custom not only here but with all who enter
    upon governments.
    Last night going the rounds I came upon a fair damsel in man’s
    clothes, and a brother of hers dressed as a woman; my head-carver
    has fallen in love with the girl, and has in his own mind chosen
    her for a wife, so he says, and I have chosen the youth for a
    son-in-law; to-day we are going to explain our intentions to the
    father of the pair, who is one Diego de la Llana, a gentleman and
    an old Christian as much as you please.
    I have visited the market-places, as your worship advises me, and
    yesterday I found a stall-keeper selling new hazel nuts and proved
    her to have mixed a bushel of old empty rotten nuts with a bushel
    of new; I confiscated the whole for the children of the
    charity-school, who will know how to distinguish them well enough,
    and I sentenced her not to come into the market-place for a
    fortnight; they told me I did bravely. I can tell your worship it
    is commonly said in this town that there are no people worse than
    the market-women, for they are all barefaced, unconscionable, and
    impudent, and I can well believe it from what I have seen of them
    in other towns.
    I am very glad my lady the duchess has written to my wife Teresa
    Panza and sent her the present your worship speaks of; and I will
    strive to show myself grateful when the time comes; kiss her hands
    for me, and tell her I say she has not thrown it into a sack with a
    hole in it, as she will see in the end. I should not like your
    worship to have any difference with my lord and lady; for if you
    fall out with them it is plain it must do me harm; and as you give
    me advice to be grateful it will not do for your worship not to be
    so yourself to those who have shown you such kindness, and by whom
    you have been treated so hospitably in their castle.
    That about the scratching I don’t understand; but I suppose it must
    be one of the ill-turns the wicked enchanters are always doing your
    worship; when we meet I shall know all about it. I wish I could
    send your worship something; but I don’t know what to send, unless
    it be some very curious clyster pipes, to work with bladders, that
    they make in this island; but if the office remains with me I’ll
    find out something to send, one way or another. If my wife Teresa
    Panza writes to me, pay the postage and send me the letter, for I
    have a very great desire to hear how my house and wife and children
    are going on. And so, may God deliver your worship from evil-minded
    enchanters, and bring me well and peacefully out of this
    government, which I doubt, for I expect to take leave of it and my
    life together, from the way Doctor Pedro Recio treats me.


Your worship’s servant
SANCHO PANZA THE GOVERNOR.


The secretary sealed the letter, and immediately dismissed the courier;
and those who were carrying on the joke against Sancho putting their
heads together arranged how he was to be dismissed from the government.
Sancho spent the afternoon in drawing up certain ordinances relating to
the good government of what he fancied the island; and he ordained that
there were to be no provision hucksters in the State, and that men
might import wine into it from any place they pleased, provided they
declared the quarter it came from, so that a price might be put upon it
according to its quality, reputation, and the estimation it was held
in; and he that watered his wine, or changed the name, was to forfeit
his life for it. He reduced the prices of all manner of shoes, boots,
and stockings, but of shoes in particular, as they seemed to him to run
extravagantly high. He established a fixed rate for servants’ wages,
which were becoming recklessly exorbitant. He laid extremely heavy
penalties upon those who sang lewd or loose songs either by day or
night. He decreed that no blind man should sing of any miracle in
verse, unless he could produce authentic evidence that it was true, for
it was his opinion that most of those the blind men sing are trumped
up, to the detriment of the true ones. He established and created an
alguacil of the poor, not to harass them, but to examine them and see
whether they really were so; for many a sturdy thief or drunkard goes
about under cover of a make-believe crippled limb or a sham sore. In a
word, he made so many good rules that to this day they are preserved
there, and are called _The constitutions of the great governor Sancho
Panza_.



p51e.jpg (32K)



CHAPTER LII.
WHEREIN IS RELATED THE ADVENTURE OF THE SECOND DISTRESSED OR AFFLICTED
DUENNA, OTHERWISE CALLED DOÑA RODRIGUEZ




p52a.jpg (131K)

Full Size



Cide Hamete relates that Don Quixote being now cured of his scratches
felt that the life he was leading in the castle was entirely
inconsistent with the order of chivalry he professed, so he determined
to ask the duke and duchess to permit him to take his departure for
Saragossa, as the time of the festival was now drawing near, and he
hoped to win there the suit of armour which is the prize at festivals
of the sort. But one day at table with the duke and duchess, just as he
was about to carry his resolution into effect and ask for their
permission, lo and behold suddenly there came in through the door of
the great hall two women, as they afterwards proved to be, draped in
mourning from head to foot, one of whom approaching Don Quixote flung
herself at full length at his feet, pressing her lips to them, and
uttering moans so sad, so deep, and so doleful that she put all who
heard and saw her into a state of perplexity; and though the duke and
duchess supposed it must be some joke their servants were playing off
upon Don Quixote, still the earnest way the woman sighed and moaned and
wept puzzled them and made them feel uncertain, until Don Quixote,
touched with compassion, raised her up and made her unveil herself and
remove the mantle from her tearful face. She complied and disclosed
what no one could have ever anticipated, for she disclosed the
countenance of Doña Rodriguez, the duenna of the house; the other
female in mourning being her daughter, who had been made a fool of by
the rich farmer’s son. All who knew her were filled with astonishment,
and the duke and duchess more than any; for though they thought her a
simpleton and a weak creature, they did not think her capable of crazy
pranks. Doña Rodriguez, at length, turning to her master and mistress
said to them, “Will your excellences be pleased to permit me to speak
to this gentleman for a moment, for it is requisite I should do so in
order to get successfully out of the business in which the boldness of
an evil-minded clown has involved me?”

The duke said that for his part he gave her leave, and that she might
speak with Señor Don Quixote as much as she liked.

She then, turning to Don Quixote and addressing herself to him said,
“Some days since, valiant knight, I gave you an account of the
injustice and treachery of a wicked farmer to my dearly beloved
daughter, the unhappy damsel here before you, and you promised me to
take her part and right the wrong that has been done her; but now it
has come to my hearing that you are about to depart from this castle in
quest of such fair adventures as God may vouchsafe to you; therefore,
before you take the road, I would that you challenge this froward
rustic, and compel him to marry my daughter in fulfillment of the
promise he gave her to become her husband before he seduced her; for to
expect that my lord the duke will do me justice is to ask pears from
the elm tree, for the reason I stated privately to your worship; and so
may our Lord grant you good health and forsake us not.”

To these words Don Quixote replied very gravely and solemnly, “Worthy
duenna, check your tears, or rather dry them, and spare your sighs, for
I take it upon myself to obtain redress for your daughter, for whom it
would have been better not to have been so ready to believe lovers’
promises, which are for the most part quickly made and very slowly
performed; and so, with my lord the duke’s leave, I will at once go in
quest of this inhuman youth, and will find him out and challenge him
and slay him, if so be he refuses to keep his promised word; for the
chief object of my profession is to spare the humble and chastise the
proud; I mean, to help the distressed and destroy the oppressors.”

“There is no necessity,” said the duke, “for your worship to take the
trouble of seeking out the rustic of whom this worthy duenna complains,
nor is there any necessity, either, for asking my leave to challenge
him; for I admit him duly challenged, and will take care that he is
informed of the challenge, and accepts it, and comes to answer it in
person to this castle of mine, where I shall afford to both a fair
field, observing all the conditions which are usually and properly
observed in such trials, and observing too justice to both sides, as
all princes who offer a free field to combatants within the limits of
their lordships are bound to do.”

“Then with that assurance and your highness’s good leave,” said Don
Quixote, “I hereby for this once waive my privilege of gentle blood,
and come down and put myself on a level with the lowly birth of the
wrong-doer, making myself equal with him and enabling him to enter into
combat with me; and so, I challenge and defy him, though absent, on the
plea of his malfeasance in breaking faith with this poor damsel, who
was a maiden and now by his misdeed is none; and say that he shall
fulfill the promise he gave her to become her lawful husband, or else
stake his life upon the question.”

And then plucking off a glove he threw it down in the middle of the
hall, and the duke picked it up, saying, as he had said before, that he
accepted the challenge in the name of his vassal, and fixed six days
thence as the time, the courtyard of the castle as the place, and for
arms the customary ones of knights, lance and shield and full armour,
with all the other accessories, without trickery, guile, or charms of
any sort, and examined and passed by the judges of the field. “But
first of all,” he said, “it is requisite that this worthy duenna and
unworthy damsel should place their claim for justice in the hands of
Don Quixote; for otherwise nothing can be done, nor can the said
challenge be brought to a lawful issue.”

“I do so place it,” replied the duenna.

“And I too,” added her daughter, all in tears and covered with shame
and confusion.

This declaration having been made, and the duke having settled in his
own mind what he would do in the matter, the ladies in black withdrew,
and the duchess gave orders that for the future they were not to be
treated as servants of hers, but as lady adventurers who came to her
house to demand justice; so they gave them a room to themselves and
waited on them as they would on strangers, to the consternation of the
other women-servants, who did not know where the folly and imprudence
of Doña Rodriguez and her unlucky daughter would stop.

And now, to complete the enjoyment of the feast and bring the dinner to
a satisfactory end, lo and behold the page who had carried the letters
and presents to Teresa Panza, the wife of the governor Sancho, entered
the hall; and the duke and duchess were very well pleased to see him,
being anxious to know the result of his journey; but when they asked
him the page said in reply that he could not give it before so many
people or in a few words, and begged their excellences to be pleased to
let it wait for a private opportunity, and in the meantime amuse
themselves with these letters; and taking out the letters he placed
them in the duchess’s hand. One bore by way of address, _Letter for my
lady the Duchess So-and-so, of I don’t know where; and the other To my
husband Sancho Panza, governor of the island of Barataria, whom God
prosper longer than me_. The duchess’s bread would not bake, as the
saying is, until she had read her letter; and having looked over it
herself and seen that it might be read aloud for the duke and all
present to hear, she read out as follows.

TERESA PANZA’S LETTER TO THE DUCHESS.


The letter your highness wrote me, my lady, gave me great pleasure, for
indeed I found it very welcome. The string of coral beads is very fine,
and my husband’s hunting suit does not fall short of it. All this
village is very much pleased that your ladyship has made a governor of
my good man Sancho; though nobody will believe it, particularly the
curate, and Master Nicholas the barber, and the bachelor Samson
Carrasco; but I don’t care for that, for so long as it is true, as it
is, they may all say what they like; though, to tell the truth, if the
coral beads and the suit had not come I would not have believed it
either; for in this village everybody thinks my husband a numskull, and
except for governing a flock of goats, they cannot fancy what sort of
government he can be fit for. God grant it, and direct him according as
he sees his children stand in need of it. I am resolved with your
worship’s leave, lady of my soul, to make the most of this fair day,
and go to Court to stretch myself at ease in a coach, and make all
those I have envying me already burst their eyes out; so I beg your
excellence to order my husband to send me a small trifle of money, and
to let it be something to speak of, because one’s expenses are heavy at
the Court; for a loaf costs a real, and meat thirty maravedis a pound,
which is beyond everything; and if he does not want me to go let him
tell me in time, for my feet are on the fidgets to be off; and my
friends and neighbours tell me that if my daughter and I make a figure
and a brave show at Court, my husband will come to be known far more by
me than I by him, for of course plenty of people will ask, “Who are
those ladies in that coach?” and some servant of mine will answer, “The
wife and daughter of Sancho Panza, governor of the island of
Barataria;” and in this way Sancho will become known, and I’ll be
thought well of, and “to Rome for everything.” I am as vexed as vexed
can be that they have gathered no acorns this year in our village; for
all that I send your highness about half a peck that I went to the wood
to gather and pick out one by one myself, and I could find no bigger
ones; I wish they were as big as ostrich eggs.
    Let not your high mightiness forget to write to me; and I will take
    care to answer, and let you know how I am, and whatever news there
    may be in this place, where I remain, praying our Lord to have your
    highness in his keeping and not to forget me.
    Sancha my daughter, and my son, kiss your worship’s hands.
    She who would rather see your ladyship than write to you,


Your servant,
TERESA PANZA.


All were greatly amused by Teresa Panza’s letter, but particularly the
duke and duchess; and the duchess asked Don Quixote’s opinion whether
they might open the letter that had come for the governor, which she
suspected must be very good. Don Quixote said that to gratify them he
would open it, and did so, and found that it ran as follows.

TERESA PANZA’S LETTER TO HER HUSBAND SANCHO PANZA.


I got thy letter, Sancho of my soul, and I promise thee and swear as a
Catholic Christian that I was within two fingers’ breadth of going mad
I was so happy. I can tell thee, brother, when I came to hear that thou
wert a governor I thought I should have dropped dead with pure joy; and
thou knowest they say sudden joy kills as well as great sorrow; and as
for Sanchica thy daughter, she leaked from sheer happiness. I had
before me the suit thou didst send me, and the coral beads my lady the
duchess sent me round my neck, and the letters in my hands, and there
was the bearer of them standing by, and in spite of all this I verily
believed and thought that what I saw and handled was all a dream; for
who could have thought that a goatherd would come to be a governor of
islands? Thou knowest, my friend, what my mother used to say, that one
must live long to see much; I say it because I expect to see more if I
live longer; for I don’t expect to stop until I see thee a farmer of
taxes or a collector of revenue, which are offices where, though the
devil carries off those who make a bad use of them, still they make and
handle money. My lady the duchess will tell thee the desire I have to
go to the Court; consider the matter and let me know thy pleasure; I
will try to do honour to thee by going in a coach.
    Neither the curate, nor the barber, nor the bachelor, nor even the
    sacristan, can believe that thou art a governor, and they say the
    whole thing is a delusion or an enchantment affair, like everything
    belonging to thy master Don Quixote; and Samson says he must go in
    search of thee and drive the government out of thy head and the
    madness out of Don Quixote’s skull; I only laugh, and look at my
    string of beads, and plan out the dress I am going to make for our
    daughter out of thy suit. I sent some acorns to my lady the
    duchess; I wish they had been gold. Send me some strings of pearls
    if they are in fashion in that island. Here is the news of the
    village; La Berrueca has married her daughter to a good-for-nothing
    painter, who came here to paint anything that might turn up. The
    council gave him an order to paint his Majesty’s arms over the door
    of the town-hall; he asked two ducats, which they paid him in
    advance; he worked for eight days, and at the end of them had
    nothing painted, and then said he had no turn for painting such
    trifling things; he returned the money, and for all that has
    married on the pretence of being a good workman; to be sure he has
    now laid aside his paint-brush and taken a spade in hand, and goes
    to the field like a gentleman. Pedro Lobo’s son has received the
    first orders and tonsure, with the intention of becoming a priest.
    Minguilla, Mingo Silvato’s granddaughter, found it out, and has
    gone to law with him on the score of having given her promise of
    marriage. Evil tongues say she is with child by him, but he denies
    it stoutly. There are no olives this year, and there is not a drop
    of vinegar to be had in the whole village. A company of soldiers
    passed through here; when they left they took away with them three
    of the girls of the village; I will not tell thee who they are;
    perhaps they will come back, and they will be sure to find those
    who will take them for wives with all their blemishes, good or bad.
    Sanchica is making bonelace; she earns eight maravedis a day clear,
    which she puts into a moneybox as a help towards house furnishing;
    but now that she is a governor’s daughter thou wilt give her a
    portion without her working for it. The fountain in the plaza has
    run dry. A flash of lightning struck the gibbet, and I wish they
    all lit there. I look for an answer to this, and to know thy mind
    about my going to the Court; and so, God keep thee longer than me,
    or as long, for I would not leave thee in this world without me.


Thy wife,
TERESA PANZA.


The letters were applauded, laughed over, relished, and admired; and
then, as if to put the seal to the business, the courier arrived,
bringing the one Sancho sent to Don Quixote, and this, too, was read
out, and it raised some doubts as to the governor’s simplicity. The
duchess withdrew to hear from the page about his adventures in Sancho’s
village, which he narrated at full length without leaving a single
circumstance unmentioned. He gave her the acorns, and also a cheese
which Teresa had given him as being particularly good and superior to
those of Tronchon. The duchess received it with greatest delight, in
which we will leave her, to describe the end of the government of the
great Sancho Panza, flower and mirror of all governors of islands.



p52e.jpg (13K)



CHAPTER LIII.
OF THE TROUBLOUS END AND TERMINATION SANCHO PANZA’S GOVERNMENT CAME TO




p53a.jpg (109K)

Full Size



To fancy that in this life anything belonging to it will remain for
ever in the same state is an idle fancy; on the contrary, in it
everything seems to go in a circle, I mean round and round. The spring
succeeds the summer, the summer the fall, the fall the autumn, the
autumn the winter, and the winter the spring, and so time rolls with
never-ceasing wheel. Man’s life alone, swifter than time, speeds onward
to its end without any hope of renewal, save it be in that other life
which is endless and boundless. Thus saith Cide Hamete the Mahometan
philosopher; for there are many that by the light of nature alone,
without the light of faith, have a comprehension of the fleeting nature
and instability of this present life and the endless duration of that
eternal life we hope for; but our author is here speaking of the
rapidity with which Sancho’s government came to an end, melted away,
disappeared, vanished as it were in smoke and shadow. For as he lay in
bed on the night of the seventh day of his government, sated, not with
bread and wine, but with delivering judgments and giving opinions and
making laws and proclamations, just as sleep, in spite of hunger, was
beginning to close his eyelids, he heard such a noise of bell-ringing
and shouting that one would have fancied the whole island was going to
the bottom. He sat up in bed and remained listening intently to try if
he could make out what could be the cause of so great an uproar; not
only, however, was he unable to discover what it was, but as countless
drums and trumpets now helped to swell the din of the bells and shouts,
he was more puzzled than ever, and filled with fear and terror; and
getting up he put on a pair of slippers because of the dampness of the
floor, and without throwing a dressing gown or anything of the kind
over him he rushed out of the door of his room, just in time to see
approaching along a corridor a band of more than twenty persons with
lighted torches and naked swords in their hands, all shouting out, “To
arms, to arms, señor governor, to arms! The enemy is in the island in
countless numbers, and we are lost unless your skill and valour come to
our support.”

Keeping up this noise, tumult, and uproar, they came to where Sancho
stood dazed and bewildered by what he saw and heard, and as they
approached one of them called out to him, “Arm at once, your lordship,
if you would not have yourself destroyed and the whole island lost.”

“What have I to do with arming?” said Sancho. “What do I know about
arms or supports? Better leave all that to my master Don Quixote, who
will settle it and make all safe in a trice; for I, sinner that I am,
God help me, don’t understand these scuffles.”

“Ah, señor governor,” said another, “what slackness of mettle this is!
Arm yourself; here are arms for you, offensive and defensive; come out
to the plaza and be our leader and captain; it falls upon you by right,
for you are our governor.”

“Arm me then, in God’s name,” said Sancho, and they at once produced
two large shields they had come provided with, and placed them upon him
over his shirt, without letting him put on anything else, one shield in
front and the other behind, and passing his arms through openings they
had made, they bound him tight with ropes, so that there he was walled
and boarded up as straight as a spindle and unable to bend his knees or
stir a single step. In his hand they placed a lance, on which he leant
to keep himself from falling, and as soon as they had him thus fixed
they bade him march forward and lead them on and give them all courage;
for with him for their guide and lamp and morning star, they were sure
to bring their business to a successful issue.



p53b.jpg (332K)

Full Size



“How am I to march, unlucky being that I am?” said Sancho, “when I
can’t stir my knee-caps, for these boards I have bound so tight to my
body won’t let me. What you must do is carry me in your arms, and lay
me across or set me upright in some postern, and I’ll hold it either
with this lance or with my body.”

“On, señor governor!” cried another, “it is fear more than the boards
that keeps you from moving; make haste, stir yourself, for there is no
time to lose; the enemy is increasing in numbers, the shouts grow
louder, and the danger is pressing.”

Urged by these exhortations and reproaches the poor governor made an
attempt to advance, but fell to the ground with such a crash that he
fancied he had broken himself all to pieces. There he lay like a
tortoise enclosed in its shell, or a side of bacon between two
kneading-troughs, or a boat bottom up on the beach; nor did the gang of
jokers feel any compassion for him when they saw him down; so far from
that, extinguishing their torches they began to shout afresh and to
renew the calls to arms with such energy, trampling on poor Sancho, and
slashing at him over the shield with their swords in such a way that,
if he had not gathered himself together and made himself small and
drawn in his head between the shields, it would have fared badly with
the poor governor, as, squeezed into that narrow compass, he lay,
sweating and sweating again, and commending himself with all his heart
to God to deliver him from his present peril. Some stumbled over him,
others fell upon him, and one there was who took up a position on top
of him for some time, and from thence as if from a watchtower issued
orders to the troops, shouting out, “Here, our side! Here the enemy is
thickest! Hold the breach there! Shut that gate! Barricade those
ladders! Here with your stink-pots of pitch and resin, and kettles of
boiling oil! Block the streets with feather beds!” In short, in his
ardour he mentioned every little thing, and every implement and engine
of war by means of which an assault upon a city is warded off, while
the bruised and battered Sancho, who heard and suffered all, was saying
to himself, “O if it would only please the Lord to let the island be
lost at once, and I could see myself either dead or out of this
torture!” Heaven heard his prayer, and when he least expected it he
heard voices exclaiming, “Victory, victory! The enemy retreats beaten!
Come, señor governor, get up, and come and enjoy the victory, and
divide the spoils that have been won from the foe by the might of that
invincible arm.”

“Lift me up,” said the wretched Sancho in a woebegone voice. They
helped him to rise, and as soon as he was on his feet said, “The enemy
I have beaten you may nail to my forehead; I don’t want to divide the
spoils of the foe, I only beg and entreat some friend, if I have one,
to give me a sup of wine, for I’m parched with thirst, and wipe me dry,
for I’m turning to water.”

They rubbed him down, fetched him wine and unbound the shields, and he
seated himself upon his bed, and with fear, agitation, and fatigue he
fainted away. Those who had been concerned in the joke were now sorry
they had pushed it so far; however, the anxiety his fainting away had
caused them was relieved by his returning to himself. He asked what
o’clock it was; they told him it was just daybreak. He said no more,
and in silence began to dress himself, while all watched him, waiting
to see what the haste with which he was putting on his clothes meant.



p53c.jpg (389K)

Full Size



He got himself dressed at last, and then, slowly, for he was sorely
bruised and could not go fast, he proceeded to the stable, followed by
all who were present, and going up to Dapple embraced him and gave him
a loving kiss on the forehead, and said to him, not without tears in
his eyes, “Come along, comrade and friend and partner of my toils and
sorrows; when I was with you and had no cares to trouble me except
mending your harness and feeding your little carcass, happy were my
hours, my days, and my years; but since I left you, and mounted the
towers of ambition and pride, a thousand miseries, a thousand troubles,
and four thousand anxieties have entered into my soul;” and all the
while he was speaking in this strain he was fixing the pack-saddle on
the ass, without a word from anyone. Then having Dapple saddled, he,
with great pain and difficulty, got up on him, and addressing himself
to the majordomo, the secretary, the head-carver, and Pedro Recio the
doctor and several others who stood by, he said, “Make way, gentlemen,
and let me go back to my old freedom; let me go look for my past life,
and raise myself up from this present death. I was not born to be a
governor or protect islands or cities from the enemies that choose to
attack them. Ploughing and digging, vinedressing and pruning, are more
in my way than defending provinces or kingdoms. Saint Peter is very
well at Rome; I mean each of us is best following the trade he was born
to. A reaping-hook fits my hand better than a governor’s sceptre; I’d
rather have my fill of gazpacho than be subject to the misery of a
meddling doctor who kills me with hunger, and I’d rather lie in summer
under the shade of an oak, and in winter wrap myself in a double
sheepskin jacket in freedom, than go to bed between holland sheets and
dress in sables under the restraint of a government. God be with your
worships, and tell my lord the duke that ‘naked I was born, naked I
find myself, I neither lose nor gain;’ I mean that without a farthing I
came into this government, and without a farthing I go out of it, very
different from the way governors commonly leave other islands. Stand
aside and let me go; I have to plaster myself, for I believe every one
of my ribs is crushed, thanks to the enemies that have been trampling
over me to-night.”

“That is unnecessary, señor governor,” said Doctor Recio, “for I will
give your worship a draught against falls and bruises that will soon
make you as sound and strong as ever; and as for your diet I promise
your worship to behave better, and let you eat plentifully of whatever
you like.”

“You spoke late,” said Sancho. “I’d as soon turn Turk as stay any
longer. Those jokes won’t pass a second time. By God I’d as soon remain
in this government, or take another, even if it was offered me between
two plates, as fly to heaven without wings. I am of the breed of the
Panzas, and they are every one of them obstinate, and if they once say
‘odds,’ odds it must be, no matter if it is evens, in spite of all the
world. Here in this stable I leave the ant’s wings that lifted me up
into the air for the swifts and other birds to eat me, and let’s take
to level ground and our feet once more; and if they’re not shod in
pinked shoes of cordovan, they won’t want for rough sandals of hemp;
‘every ewe to her like,’ ‘and let no one stretch his leg beyond the
length of the sheet;’ and now let me pass, for it’s growing late with
me.”

To this the majordomo said, “Señor governor, we would let your worship
go with all our hearts, though it sorely grieves us to lose you, for
your wit and Christian conduct naturally make us regret you; but it is
well known that every governor, before he leaves the place where he has
been governing, is bound first of all to render an account. Let your
worship do so for the ten days you have held the government, and then
you may go and the peace of God go with you.”

“No one can demand it of me,” said Sancho, “but he whom my lord the
duke shall appoint; I am going to meet him, and to him I will render an
exact one; besides, when I go forth naked as I do, there is no other
proof needed to show that I have governed like an angel.”

“By God the great Sancho is right,” said Doctor Recio, “and we should
let him go, for the duke will be beyond measure glad to see him.”

They all agreed to this, and allowed him to go, first offering to bear
him company and furnish him with all he wanted for his own comfort or
for the journey. Sancho said he did not want anything more than a
little barley for Dapple, and half a cheese and half a loaf for
himself; for the distance being so short there was no occasion for any
better or bulkier provant. They all embraced him, and he with tears
embraced all of them, and left them filled with admiration not only at
his remarks but at his firm and sensible resolution.



p53e.jpg (56K)



CHAPTER LIV.
WHICH DEALS WITH MATTERS RELATING TO THIS HISTORY AND NO OTHER




p54a.jpg (109K)

Full Size



The duke and duchess resolved that the challenge Don Quixote had, for
the reason already mentioned, given their vassal, should be proceeded
with; and as the young man was in Flanders, whither he had fled to
escape having Doña Rodriguez for a mother-in-law, they arranged to
substitute for him a Gascon lacquey, named Tosilos, first of all
carefully instructing him in all he had to do. Two days later the duke
told Don Quixote that in four days from that time his opponent would
present himself on the field of battle armed as a knight, and would
maintain that the damsel lied by half a beard, nay a whole beard, if
she affirmed that he had given her a promise of marriage. Don Quixote
was greatly pleased at the news, and promised himself to do wonders in
the lists, and reckoned it rare good fortune that an opportunity should
have offered for letting his noble hosts see what the might of his
strong arm was capable of; and so in high spirits and satisfaction he
awaited the expiration of the four days, which measured by his
impatience seemed spinning themselves out into four hundred ages. Let
us leave them to pass as we do other things, and go and bear Sancho
company, as mounted on Dapple, half glad, half sad, he paced along on
his road to join his master, in whose society he was happier than in
being governor of all the islands in the world. Well then, it so
happened that before he had gone a great way from the island of his
government (and whether it was island, city, town, or village that he
governed he never troubled himself to inquire) he saw coming along the
road he was travelling six pilgrims with staves, foreigners of that
sort that beg for alms singing; who as they drew near arranged
themselves in a line and lifting up their voices all together began to
sing in their own language something that Sancho could not understand,
with the exception of one word which sounded plainly “alms,” from which
he gathered that it was alms they asked for in their song; and being,
as Cide Hamete says, remarkably charitable, he took out of his alforjas
the half loaf and half cheese he had been provided with, and gave them
to them, explaining to them by signs that he had nothing else to give
them. They received them very gladly, but exclaimed, “Geld! Geld!”

“I don’t understand what you want of me, good people,” said Sancho.

On this one of them took a purse out of his bosom and showed it to
Sancho, by which he comprehended they were asking for money, and
putting his thumb to his throat and spreading his hand upwards he gave
them to understand that he had not the sign of a coin about him, and
urging Dapple forward he broke through them. But as he was passing, one
of them who had been examining him very closely rushed towards him, and
flinging his arms round him exclaimed in a loud voice and good Spanish,
“God bless me! What’s this I see? Is it possible that I hold in my arms
my dear friend, my good neighbour Sancho Panza? But there’s no doubt
about it, for I’m not asleep, nor am I drunk just now.”

Sancho was surprised to hear himself called by his name and find
himself embraced by a foreign pilgrim, and after regarding him steadily
without speaking he was still unable to recognise him; but the pilgrim
perceiving his perplexity cried, “What! and is it possible, Sancho
Panza, that thou dost not know thy neighbour Ricote, the Morisco
shopkeeper of thy village?”

Sancho upon this looking at him more carefully began to recall his
features, and at last recognised him perfectly, and without getting off
the ass threw his arms round his neck saying, “Who the devil could have
known thee, Ricote, in this mummer’s dress thou art in? Tell me, who
has frenchified thee, and how dost thou dare to return to Spain, where
if they catch thee and recognise thee it will go hard enough with
thee?”

“If thou dost not betray me, Sancho,” said the pilgrim, “I am safe; for
in this dress no one will recognise me; but let us turn aside out of
the road into that grove there where my comrades are going to eat and
rest, and thou shalt eat with them there, for they are very good
fellows; I’ll have time enough to tell thee then all that has happened
me since I left our village in obedience to his Majesty’s edict that
threatened such severities against the unfortunate people of my nation,
as thou hast heard.”

Sancho complied, and Ricote having spoken to the other pilgrims they
withdrew to the grove they saw, turning a considerable distance out of
the road. They threw down their staves, took off their pilgrim’s cloaks
and remained in their under-clothing; they were all good-looking young
fellows, except Ricote, who was a man somewhat advanced in years. They
carried alforjas all of them, and all apparently well filled, at least
with things provocative of thirst, such as would summon it from two
leagues off. They stretched themselves on the ground, and making a
tablecloth of the grass they spread upon it bread, salt, knives,
walnut, scraps of cheese, and well-picked ham-bones which if they were
past gnawing were not past sucking. They also put down a black dainty
called, they say, caviar, and made of the eggs of fish, a great
thirst-wakener. Nor was there any lack of olives, dry, it is true, and
without any seasoning, but for all that toothsome and pleasant. But
what made the best show in the field of the banquet was half a dozen
botas of wine, for each of them produced his own from his alforjas;
even the good Ricote, who from a Morisco had transformed himself into a
German or Dutchman, took out his, which in size might have vied with
the five others. They then began to eat with very great relish and very
leisurely, making the most of each morsel—very small ones of
everything—they took up on the point of the knife; and then all at the
same moment raised their arms and botas aloft, the mouths placed in
their mouths, and all eyes fixed on heaven just as if they were taking
aim at it; and in this attitude they remained ever so long, wagging
their heads from side to side as if in acknowledgment of the pleasure
they were enjoying while they decanted the bowels of the bottles into
their own stomachs.

Sancho beheld all, “and nothing gave him pain;” so far from that,
acting on the proverb he knew so well, “when thou art at Rome do as
thou seest,” he asked Ricote for his bota and took aim like the rest of
them, and with not less enjoyment. Four times did the botas bear being
uplifted, but the fifth it was all in vain, for they were drier and
more sapless than a rush by that time, which made the jollity that had
been kept up so far begin to flag.

Every now and then someone of them would grasp Sancho’s right hand in
his own saying, “Español y Tudesqui tuto uno: bon compaño;” and Sancho
would answer, “Bon compaño, jur a Di!” and then go off into a fit of
laughter that lasted an hour, without a thought for the moment of
anything that had befallen him in his government; for cares have very
little sway over us while we are eating and drinking. At length, the
wine having come to an end with them, drowsiness began to come over
them, and they dropped asleep on their very table and tablecloth.
Ricote and Sancho alone remained awake, for they had eaten more and
drunk less, and Ricote drawing Sancho aside, they seated themselves at
the foot of a beech, leaving the pilgrims buried in sweet sleep; and
without once falling into his own Morisco tongue Ricote spoke as
follows in pure Castilian:

“Thou knowest well, neighbour and friend Sancho Panza, how the
proclamation or edict his Majesty commanded to be issued against those
of my nation filled us all with terror and dismay; me at least it did,
insomuch that I think before the time granted us for quitting Spain was
out, the full force of the penalty had already fallen upon me and upon
my children. I decided, then, and I think wisely (just like one who
knows that at a certain date the house he lives in will be taken from
him, and looks out beforehand for another to change into), I decided, I
say, to leave the town myself, alone and without my family, and go to
seek out some place to remove them to comfortably and not in the
hurried way in which the others took their departure; for I saw very
plainly, and so did all the older men among us, that the proclamations
were not mere threats, as some said, but positive enactments which
would be enforced at the appointed time; and what made me believe this
was what I knew of the base and extravagant designs which our people
harboured, designs of such a nature that I think it was a divine
inspiration that moved his Majesty to carry out a resolution so
spirited; not that we were all guilty, for some there were true and
steadfast Christians; but they were so few that they could make no head
against those who were not; and it was not prudent to cherish a viper
in the bosom by having enemies in the house. In short it was with just
cause that we were visited with the penalty of banishment, a mild and
lenient one in the eyes of some, but to us the most terrible that could
be inflicted upon us. Wherever we are we weep for Spain; for after all
we were born there and it is our natural fatherland. Nowhere do we find
the reception our unhappy condition needs; and in Barbary and all the
parts of Africa where we counted upon being received, succoured, and
welcomed, it is there they insult and ill-treat us most. We knew not
our good fortune until we lost it; and such is the longing we almost
all of us have to return to Spain, that most of those who like myself
know the language, and there are many who do, come back to it and leave
their wives and children forsaken yonder, so great is their love for
it; and now I know by experience the meaning of the saying, sweet is
the love of one’s country.

“I left our village, as I said, and went to France, but though they
gave us a kind reception there I was anxious to see all I could. I
crossed into Italy, and reached Germany, and there it seemed to me we
might live with more freedom, as the inhabitants do not pay any
attention to trifling points; everyone lives as he likes, for in most
parts they enjoy liberty of conscience. I took a house in a town near
Augsburg, and then joined these pilgrims, who are in the habit of
coming to Spain in great numbers every year to visit the shrines there,
which they look upon as their Indies and a sure and certain source of
gain. They travel nearly all over it, and there is no town out of which
they do not go full up of meat and drink, as the saying is, and with a
real, at least, in money, and they come off at the end of their travels
with more than a hundred crowns saved, which, changed into gold, they
smuggle out of the kingdom either in the hollow of their staves or in
the patches of their pilgrim’s cloaks or by some device of their own,
and carry to their own country in spite of the guards at the posts and
passes where they are searched. Now my purpose is, Sancho, to carry
away the treasure that I left buried, which, as it is outside the town,
I shall be able to do without risk, and to write, or cross over from
Valencia, to my daughter and wife, who I know are at Algiers, and find
some means of bringing them to some French port and thence to Germany,
there to await what it may be God’s will to do with us; for, after all,
Sancho, I know well that Ricota my daughter and Francisca Ricota my
wife are Catholic Christians, and though I am not so much so, still I
am more of a Christian than a Moor, and it is always my prayer to God
that he will open the eyes of my understanding and show me how I am to
serve him; but what amazes me and I cannot understand is why my wife
and daughter should have gone to Barbary rather than to France, where
they could live as Christians.”

To this Sancho replied, “Remember, Ricote, that may not have been open
to them, for Juan Tiopieyo thy wife’s brother took them, and being a
true Moor he went where he could go most easily; and another thing I
can tell thee, it is my belief thou art going in vain to look for what
thou hast left buried, for we heard they took from thy brother-in-law
and thy wife a great quantity of pearls and money in gold which they
brought to be passed.”

“That may be,” said Ricote; “but I know they did not touch my hoard,
for I did not tell them where it was, for fear of accidents; and so, if
thou wilt come with me, Sancho, and help me to take it away and conceal
it, I will give thee two hundred crowns wherewith thou mayest relieve
thy necessities, and, as thou knowest, I know they are many.”

“I would do it,” said Sancho; “but I am not at all covetous, for I gave
up an office this morning in which, if I was, I might have made the
walls of my house of gold and dined off silver plates before six months
were over; and so for this reason, and because I feel I would be guilty
of treason to my king if I helped his enemies, I would not go with thee
if instead of promising me two hundred crowns thou wert to give me four
hundred here in hand.”

“And what office is this thou hast given up, Sancho?” asked Ricote.

“I have given up being governor of an island,” said Sancho, “and such a
one, faith, as you won’t find the like of easily.”

“And where is this island?” said Ricote.

“Where?” said Sancho; “two leagues from here, and it is called the
island of Barataria.”

“Nonsense! Sancho,” said Ricote; “islands are away out in the sea;
there are no islands on the mainland.”

“What? No islands!” said Sancho; “I tell thee, friend Ricote, I left it
this morning, and yesterday I was governing there as I pleased like a
sagittarius; but for all that I gave it up, for it seemed to me a
dangerous office, a governor’s.”

“And what hast thou gained by the government?” asked Ricote.

“I have gained,” said Sancho, “the knowledge that I am no good for
governing, unless it is a drove of cattle, and that the riches that are
to be got by these governments are got at the cost of one’s rest and
sleep, ay and even one’s food; for in islands the governors must eat
little, especially if they have doctors to look after their health.”

“I don’t understand thee, Sancho,” said Ricote; “but it seems to me all
nonsense thou art talking. Who would give thee islands to govern? Is
there any scarcity in the world of cleverer men than thou art for
governors? Hold thy peace, Sancho, and come back to thy senses, and
consider whether thou wilt come with me as I said to help me to take
away treasure I left buried (for indeed it may be called a treasure, it
is so large), and I will give thee wherewithal to keep thee, as I told
thee.”

“And I have told thee already, Ricote, that I will not,” said Sancho;
“let it content thee that by me thou shalt not be betrayed, and go thy
way in God’s name and let me go mine; for I know that well-gotten gain
may be lost, but ill-gotten gain is lost, itself and its owner
likewise.”

“I will not press thee, Sancho,” said Ricote; “but tell me, wert thou
in our village when my wife and daughter and brother-in-law left it?”

“I was so,” said Sancho; “and I can tell thee thy daughter left it
looking so lovely that all the village turned out to see her, and
everybody said she was the fairest creature in the world. She wept as
she went, and embraced all her friends and acquaintances and those who
came out to see her, and she begged them all to commend her to God and
Our Lady his mother, and this in such a touching way that it made me
weep myself, though I’m not much given to tears commonly; and, faith,
many a one would have liked to hide her, or go out and carry her off on
the road; but the fear of going against the king’s command kept them
back. The one who showed himself most moved was Don Pedro Gregorio, the
rich young heir thou knowest of, and they say he was deep in love with
her; and since she left he has not been seen in our village again, and
we all suspect he has gone after her to steal her away, but so far
nothing has been heard of it.”

“I always had a suspicion that gentleman had a passion for my
daughter,” said Ricote; “but as I felt sure of my Ricota’s virtue it
gave me no uneasiness to know that he loved her; for thou must have
heard it said, Sancho, that the Morisco women seldom or never engage in
amours with the old Christians; and my daughter, who I fancy thought
more of being a Christian than of lovemaking, would not trouble herself
about the attentions of this heir.”

“God grant it,” said Sancho, “for it would be a bad business for both
of them; but now let me be off, friend Ricote, for I want to reach
where my master Don Quixote is to-night.”

“God be with thee, brother Sancho,” said Ricote; “my comrades are
beginning to stir, and it is time, too, for us to continue our
journey;” and then they both embraced, and Sancho mounted Dapple, and
Ricote leant upon his staff, and so they parted.



p54e.jpg (40K)



CHAPTER LV.
OF WHAT BEFELL SANCHO ON THE ROAD, AND OTHER THINGS THAT CANNOT BE
SURPASSED




p55a.jpg (126K)

Full Size



The length of time he delayed with Ricote prevented Sancho from
reaching the duke’s castle that day, though he was within half a league
of it when night, somewhat dark and cloudy, overtook him. This,
however, as it was summer time, did not give him much uneasiness, and
he turned aside out of the road intending to wait for morning; but his
ill luck and hard fate so willed it that as he was searching about for
a place to make himself as comfortable as possible, he and Dapple fell
into a deep dark hole that lay among some very old buildings. As he
fell he commended himself with all his heart to God, fancying he was
not going to stop until he reached the depths of the bottomless pit;
but it did not turn out so, for at little more than thrice a man’s
height Dapple touched bottom, and he found himself sitting on him
without having received any hurt or damage whatever. He felt himself
all over and held his breath to try whether he was quite sound or had a
hole made in him anywhere, and finding himself all right and whole and
in perfect health he was profuse in his thanks to God our Lord for the
mercy that had been shown him, for he made sure he had been broken into
a thousand pieces. He also felt along the sides of the pit with his
hands to see if it were possible to get out of it without help, but he
found they were quite smooth and afforded no hold anywhere, at which he
was greatly distressed, especially when he heard how pathetically and
dolefully Dapple was bemoaning himself, and no wonder he complained,
nor was it from ill-temper, for in truth he was not in a very good
case. “Alas,” said Sancho, “what unexpected accidents happen at every
step to those who live in this miserable world! Who would have said
that one who saw himself yesterday sitting on a throne, governor of an
island, giving orders to his servants and his vassals, would see
himself to-day buried in a pit without a soul to help him, or servant
or vassal to come to his relief? Here must we perish with hunger, my
ass and myself, if indeed we don’t die first, he of his bruises and
injuries, and I of grief and sorrow. At any rate I’ll not be as lucky
as my master Don Quixote of La Mancha, when he went down into the cave
of that enchanted Montesinos, where he found people to make more of him
than if he had been in his own house; for it seems he came in for a
table laid out and a bed ready made. There he saw fair and pleasant
visions, but here I’ll see, I imagine, toads and adders. Unlucky wretch
that I am, what an end my follies and fancies have come to! They’ll
take up my bones out of this, when it is heaven’s will that I’m found,
picked clean, white and polished, and my good Dapple’s with them, and
by that, perhaps, it will be found out who we are, at least by such as
have heard that Sancho Panza never separated from his ass, nor his ass
from Sancho Panza. Unlucky wretches, I say again, that our hard fate
should not let us die in our own country and among our own people,
where if there was no help for our misfortune, at any rate there would
be someone to grieve for it and to close our eyes as we passed away! O
comrade and friend, how ill have I repaid thy faithful services!
Forgive me, and entreat Fortune, as well as thou canst, to deliver us
out of this miserable strait we are both in; and I promise to put a
crown of laurel on thy head, and make thee look like a poet laureate,
and give thee double feeds.”



p55b.jpg (273K)

Full Size



In this strain did Sancho bewail himself, and his ass listened to him,
but answered him never a word, such was the distress and anguish the
poor beast found himself in. At length, after a night spent in bitter
moanings and lamentations, day came, and by its light Sancho perceived
that it was wholly impossible to escape out of that pit without help,
and he fell to bemoaning his fate and uttering loud shouts to find out
if there was anyone within hearing; but all his shouting was only
crying in the wilderness, for there was not a soul anywhere in the
neighbourhood to hear him, and then at last he gave himself up for
dead. Dapple was lying on his back, and Sancho helped him to his feet,
which he was scarcely able to keep; and then taking a piece of bread
out of his alforjas which had shared their fortunes in the fall, he
gave it to the ass, to whom it was not unwelcome, saying to him as if
he understood him, “With bread all sorrows are less.”

And now he perceived on one side of the pit a hole large enough to
admit a person if he stooped and squeezed himself into a small compass.
Sancho made for it, and entered it by creeping, and found it wide and
spacious on the inside, which he was able to see as a ray of sunlight
that penetrated what might be called the roof showed it all plainly. He
observed too that it opened and widened out into another spacious
cavity; seeing which he made his way back to where the ass was, and
with a stone began to pick away the clay from the hole until in a short
time he had made room for the beast to pass easily, and this
accomplished, taking him by the halter, he proceeded to traverse the
cavern to see if there was any outlet at the other end. He advanced,
sometimes in the dark, sometimes without light, but never without fear;
“God Almighty help me!” said he to himself; “this that is a
misadventure to me would make a good adventure for my master Don
Quixote. He would have been sure to take these depths and dungeons for
flowery gardens or the palaces of Galiana, and would have counted upon
issuing out of this darkness and imprisonment into some blooming
meadow; but I, unlucky that I am, hopeless and spiritless, expect at
every step another pit deeper than the first to open under my feet and
swallow me up for good; ‘welcome evil, if thou comest alone.’”

In this way and with these reflections he seemed to himself to have
travelled rather more than half a league, when at last he perceived a
dim light that looked like daylight and found its way in on one side,
showing that this road, which appeared to him the road to the other
world, led to some opening.

Here Cide Hamete leaves him, and returns to Don Quixote, who in high
spirits and satisfaction was looking forward to the day fixed for the
battle he was to fight with him who had robbed Doña Rodriguez’s
daughter of her honour, for whom he hoped to obtain satisfaction for
the wrong and injury shamefully done to her. It came to pass, then,
that having sallied forth one morning to practise and exercise himself
in what he would have to do in the encounter he expected to find
himself engaged in the next day, as he was putting Rocinante through
his paces or pressing him to the charge, he brought his feet so close
to a pit that but for reining him in tightly it would have been
impossible for him to avoid falling into it. He pulled him up, however,
without a fall, and coming a little closer examined the hole without
dismounting; but as he was looking at it he heard loud cries proceeding
from it, and by listening attentively was able to make out that he who
uttered them was saying, “Ho, above there! is there any Christian that
hears me, or any charitable gentleman that will take pity on a sinner
buried alive, on an unfortunate disgoverned governor?”

It struck Don Quixote that it was the voice of Sancho Panza he heard,
whereat he was taken aback and amazed, and raising his own voice as
much as he could, he cried out, “Who is below there? Who is that
complaining?”

“Who should be here, or who should complain,” was the answer, “but the
forlorn Sancho Panza, for his sins and for his ill-luck governor of the
island of Barataria, squire that was to the famous knight Don Quixote
of La Mancha?”

When Don Quixote heard this his amazement was redoubled and his
perturbation grew greater than ever, for it suggested itself to his
mind that Sancho must be dead, and that his soul was in torment down
there; and carried away by this idea he exclaimed, “I conjure thee by
everything that as a Catholic Christian I can conjure thee by, tell me
who thou art; and if thou art a soul in torment, tell me what thou
wouldst have me do for thee; for as my profession is to give aid and
succour to those that need it in this world, it will also extend to
aiding and succouring the distressed of the other, who cannot help
themselves.”

“In that case,” answered the voice, “your worship who speaks to me must
be my master Don Quixote of La Mancha; nay, from the tone of the voice
it is plain it can be nobody else.”

“Don Quixote I am,” replied Don Quixote, “he whose profession it is to
aid and succour the living and the dead in their necessities; wherefore
tell me who thou art, for thou art keeping me in suspense; because, if
thou art my squire Sancho Panza, and art dead, since the devils have
not carried thee off, and thou art by God’s mercy in purgatory, our
holy mother the Roman Catholic Church has intercessory means sufficient
to release thee from the pains thou art in; and I for my part will
plead with her to that end, so far as my substance will go; without
further delay, therefore, declare thyself, and tell me who thou art.”

“By all that’s good,” was the answer, “and by the birth of whomsoever
your worship chooses, I swear, Señor Don Quixote of La Mancha, that I
am your squire Sancho Panza, and that I have never died all my life;
but that, having given up my government for reasons that would require
more time to explain, I fell last night into this pit where I am now,
and Dapple is witness and won’t let me lie, for more by token he is
here with me.”

Nor was this all; one would have fancied the ass understood what Sancho
said, because that moment he began to bray so loudly that the whole
cave rang again.

“Famous testimony!” exclaimed Don Quixote; “I know that bray as well as
if I was its mother, and thy voice too, my Sancho. Wait while I go to
the duke’s castle, which is close by, and I will bring someone to take
thee out of this pit into which thy sins no doubt have brought thee.”

“Go, your worship,” said Sancho, “and come back quick for God’s sake;
for I cannot bear being buried alive any longer, and I’m dying of
fear.”

Don Quixote left him, and hastened to the castle to tell the duke and
duchess what had happened Sancho, and they were not a little astonished
at it; they could easily understand his having fallen, from the
confirmatory circumstance of the cave which had been in existence there
from time immemorial; but they could not imagine how he had quitted the
government without their receiving any intimation of his coming. To be
brief, they fetched ropes and tackle, as the saying is, and by dint of
many hands and much labour they drew up Dapple and Sancho Panza out of
the darkness into the light of day. A student who saw him remarked,
“That’s the way all bad governors should come out of their governments,
as this sinner comes out of the depths of the pit, dead with hunger,
pale, and I suppose without a farthing.”

Sancho overheard him and said, “It is eight or ten days, brother
growler, since I entered upon the government of the island they gave
me, and all that time I never had a bellyful of victuals, no not for an
hour; doctors persecuted me and enemies crushed my bones; nor had I any
opportunity of taking bribes or levying taxes; and if that be the case,
as it is, I don’t deserve, I think, to come out in this fashion; but
‘man proposes and God disposes;’ and God knows what is best, and what
suits each one best; and ‘as the occasion, so the behaviour;’ and ‘let
nobody say “I won’t drink of this water;”’ and ‘where one thinks there
are flitches, there are no pegs;’ God knows my meaning and that’s
enough; I say no more, though I could.”

“Be not angry or annoyed at what thou hearest, Sancho,” said Don
Quixote, “or there will never be an end of it; keep a safe conscience
and let them say what they like; for trying to stop slanderers’ tongues
is like trying to put gates to the open plain. If a governor comes out
of his government rich, they say he has been a thief; and if he comes
out poor, that he has been a noodle and a blockhead.”

“They’ll be pretty sure this time,” said Sancho, “to set me down for a
fool rather than a thief.”

Thus talking, and surrounded by boys and a crowd of people, they
reached the castle, where in one of the corridors the duke and duchess
stood waiting for them; but Sancho would not go up to see the duke
until he had first put up Dapple in the stable, for he said he had
passed a very bad night in his last quarters; then he went upstairs to
see his lord and lady, and kneeling before them he said, “Because it
was your highnesses’ pleasure, not because of any desert of my own, I
went to govern your island of Barataria, which ‘I entered naked, and
naked I find myself; I neither lose nor gain.’ Whether I have governed
well or ill, I have had witnesses who will say what they think fit. I
have answered questions, I have decided causes, and always dying of
hunger, for Doctor Pedro Recio of Tirteafuera, the island and governor
doctor, would have it so. Enemies attacked us by night and put us in a
great quandary, but the people of the island say they came off safe and
victorious by the might of my arm; and may God give them as much health
as there’s truth in what they say. In short, during that time I have
weighed the cares and responsibilities governing brings with it, and by
my reckoning I find my shoulders can’t bear them, nor are they a load
for my loins or arrows for my quiver; and so, before the government
threw me over I preferred to throw the government over; and yesterday
morning I left the island as I found it, with the same streets, houses,
and roofs it had when I entered it. I asked no loan of anybody, nor did
I try to fill my pocket; and though I meant to make some useful laws, I
made hardly any, as I was afraid they would not be kept; for in that
case it comes to the same thing to make them or not to make them. I
quitted the island, as I said, without any escort except my ass; I fell
into a pit, I pushed on through it, until this morning by the light of
the sun I saw an outlet, but not so easy a one but that, had not heaven
sent me my master Don Quixote, I’d have stayed there till the end of
the world. So now my lord and lady duke and duchess, here is your
governor Sancho Panza, who in the bare ten days he has held the
government has come by the knowledge that he would not give anything to
be governor, not to say of an island, but of the whole world; and that
point being settled, kissing your worships’ feet, and imitating the
game of the boys when they say, ‘leap thou, and give me one,’ I take a
leap out of the government and pass into the service of my master Don
Quixote; for after all, though in it I eat my bread in fear and
trembling, at any rate I take my fill; and for my part, so long as I’m
full, it’s all alike to me whether it’s with carrots or with
partridges.”

Here Sancho brought his long speech to an end, Don Quixote having been
the whole time in dread of his uttering a host of absurdities; and when
he found him leave off with so few, he thanked heaven in his heart. The
duke embraced Sancho and told him he was heartily sorry he had given up
the government so soon, but that he would see that he was provided with
some other post on his estate less onerous and more profitable. The
duchess also embraced him, and gave orders that he should be taken good
care of, as it was plain to see he had been badly treated and worse
bruised.



p55e.jpg (18K)



CHAPTER LVI.br/> OF THE PRODIGIOUS AND UNPARALLELED BATTLE THAT TOOK
PLACE BETWEEN DON QUIXOTE OF LA MANCHA AND THE LACQUEY TOSILOS IN
DEFENCE OF THE DAUGHTER OF DOÑA RODRIGUEZ




p56a.jpg (158K)

Full Size



The duke and duchess had no reason to regret the joke that had been
played upon Sancho Panza in giving him the government; especially as
their majordomo returned the same day, and gave them a minute account
of almost every word and deed that Sancho uttered or did during the
time; and to wind up with, eloquently described to them the attack upon
the island and Sancho’s fright and departure, with which they were not
a little amused. After this the history goes on to say that the day
fixed for the battle arrived, and that the duke, after having
repeatedly instructed his lacquey Tosilos how to deal with Don Quixote
so as to vanquish him without killing or wounding him, gave orders to
have the heads removed from the lances, telling Don Quixote that
Christian charity, on which he plumed himself, could not suffer the
battle to be fought with so much risk and danger to life; and that he
must be content with the offer of a battlefield on his territory
(though that was against the decree of the holy Council, which
prohibits all challenges of the sort) and not push such an arduous
venture to its extreme limits. Don Quixote bade his excellence arrange
all matters connected with the affair as he pleased, as on his part he
would obey him in everything. The dread day, then, having arrived, and
the duke having ordered a spacious stand to be erected facing the court
of the castle for the judges of the field and the appellant duennas,
mother and daughter, vast crowds flocked from all the villages and
hamlets of the neighbourhood to see the novel spectacle of the battle;
nobody, dead or alive, in those parts having ever seen or heard of such
a one.

The first person to enter the field and the lists was the master of the
ceremonies, who surveyed and paced the whole ground to see that there
was nothing unfair and nothing concealed to make the combatants stumble
or fall; then the duennas entered and seated themselves, enveloped in
mantles covering their eyes, nay even their bosoms, and displaying no
slight emotion as Don Quixote appeared in the lists. Shortly
afterwards, accompanied by several trumpets and mounted on a powerful
steed that threatened to crush the whole place, the great lacquey
Tosilos made his appearance on one side of the courtyard with his visor
down and stiffly cased in a suit of stout shining armour. The horse was
a manifest Frieslander, broad-backed and flea-bitten, and with half a
hundred of wool hanging to each of his fetlocks. The gallant combatant
came well primed by his master the duke as to how he was to bear
himself against the valiant Don Quixote of La Mancha; being warned that
he must on no account slay him, but strive to shirk the first encounter
so as to avoid the risk of killing him, as he was sure to do if he met
him full tilt. He crossed the courtyard at a walk, and coming to where
the duennas were placed stopped to look at her who demanded him for a
husband; the marshal of the field summoned Don Quixote, who had already
presented himself in the courtyard, and standing by the side of Tosilos
he addressed the duennas, and asked them if they consented that Don
Quixote of La Mancha should do battle for their right. They said they
did, and that whatever he should do in that behalf they declared
rightly done, final and valid. By this time the duke and duchess had
taken their places in a gallery commanding the enclosure, which was
filled to overflowing with a multitude of people eager to see this
perilous and unparalleled encounter. The conditions of the combat were
that if Don Quixote proved the victor his antagonist was to marry the
daughter of Doña Rodriguez; but if he should be vanquished his opponent
was released from the promise that was claimed against him and from all
obligations to give satisfaction. The master of the ceremonies
apportioned the sun to them, and stationed them, each on the spot where
he was to stand. The drums beat, the sound of the trumpets filled the
air, the earth trembled under foot, the hearts of the gazing crowd were
full of anxiety, some hoping for a happy issue, some apprehensive of an
untoward ending to the affair, and lastly, Don Quixote, commending
himself with all his heart to God our Lord and to the lady Dulcinea del
Toboso, stood waiting for them to give the necessary signal for the
onset. Our lacquey, however, was thinking of something very different;
he only thought of what I am now going to mention.

It seems that as he stood contemplating his enemy she struck him as the
most beautiful woman he had ever seen all his life; and the little
blind boy whom in our streets they commonly call Love had no mind to
let slip the chance of triumphing over a lacquey heart, and adding it
to the list of his trophies; and so, stealing gently upon him unseen,
he drove a dart two yards long into the poor lacquey’s left side and
pierced his heart through and through; which he was able to do quite at
his ease, for Love is invisible, and comes in and goes out as he likes,
without anyone calling him to account for what he does. Well then, when
they gave the signal for the onset our lacquey was in an ecstasy,
musing upon the beauty of her whom he had already made mistress of his
liberty, and so he paid no attention to the sound of the trumpet,
unlike Don Quixote, who was off the instant he heard it, and, at the
highest speed Rocinante was capable of, set out to meet his enemy, his
good squire Sancho shouting lustily as he saw him start, “God guide
thee, cream and flower of knights-errant! God give thee the victory,
for thou hast the right on thy side!” But though Tosilos saw Don
Quixote coming at him he never stirred a step from the spot where he
was posted; and instead of doing so called loudly to the marshal of the
field, to whom when he came up to see what he wanted he said, “Señor,
is not this battle to decide whether I marry or do not marry that
lady?” “Just so,” was the answer. “Well then,” said the lacquey, “I
feel qualms of conscience, and I should lay a heavy burden upon it if I
were to proceed any further with the combat; I therefore declare that I
yield myself vanquished, and that I am willing to marry the lady at
once.”

The marshal of the field was lost in astonishment at the words of
Tosilos; and as he was one of those who were privy to the arrangement
of the affair he knew not what to say in reply. Don Quixote pulled up
in mid career when he saw that his enemy was not coming on to the
attack. The duke could not make out the reason why the battle did not
go on; but the marshal of the field hastened to him to let him know
what Tosilos said, and he was amazed and extremely angry at it. In the
meantime Tosilos advanced to where Doña Rodriguez sat and said in a
loud voice, “Señora, I am willing to marry your daughter, and I have no
wish to obtain by strife and fighting what I can obtain in peace and
without any risk to my life.”

The valiant Don Quixote heard him, and said, “As that is the case I am
released and absolved from my promise; let them marry by all means, and
as ‘God our Lord has given her, may Saint Peter add his blessing.’”

The duke had now descended to the courtyard of the castle, and going up
to Tosilos he said to him, “Is it true, sir knight, that you yield
yourself vanquished, and that moved by scruples of conscience you wish
to marry this damsel?”

“It is, señor,” replied Tosilos.

“And he does well,” said Sancho, “for what thou hast to give to the
mouse, give to the cat, and it will save thee all trouble.”

Tosilos meanwhile was trying to unlace his helmet, and he begged them
to come to his help at once, as his power of breathing was failing him,
and he could not remain so long shut up in that confined space. They
removed it in all haste, and his lacquey features were revealed to
public gaze. At this sight Doña Rodriguez and her daughter raised a
mighty outcry, exclaiming, “This is a trick! This is a trick! They have
put Tosilos, my lord the duke’s lacquey, upon us in place of the real
husband. The justice of God and the king against such trickery, not to
say roguery!”

“Do not distress yourselves, ladies,” said Don Quixote; “for this is no
trickery or roguery; or if it is, it is not the duke who is at the
bottom of it, but those wicked enchanters who persecute me, and who,
jealous of my reaping the glory of this victory, have turned your
husband’s features into those of this person, who you say is a lacquey
of the duke’s; take my advice, and notwithstanding the malice of my
enemies marry him, for beyond a doubt he is the one you wish for a
husband.”

When the duke heard this all his anger was near vanishing in a fit of
laughter, and he said, “The things that happen to Señor Don Quixote are
so extraordinary that I am ready to believe this lacquey of mine is not
one; but let us adopt this plan and device; let us put off the marriage
for, say, a fortnight, and let us keep this person about whom we are
uncertain in close confinement, and perhaps in the course of that time
he may return to his original shape; for the spite which the enchanters
entertain against Señor Don Quixote cannot last so long, especially as
it is of so little advantage to them to practise these deceptions and
transformations.”

“Oh, señor,” said Sancho, “those scoundrels are well used to changing
whatever concerns my master from one thing into another. A knight that
he overcame some time back, called the Knight of the Mirrors, they
turned into the shape of the bachelor Samson Carrasco of our town and a
great friend of ours; and my lady Dulcinea del Toboso they have turned
into a common country wench; so I suspect this lacquey will have to
live and die a lacquey all the days of his life.”

Here the Rodriguez’s daughter exclaimed, “Let him be who he may, this
man that claims me for a wife; I am thankful to him for the same, for I
had rather be the lawful wife of a lacquey than the cheated mistress of
a gentleman; though he who played me false is nothing of the kind.”

To be brief, all the talk and all that had happened ended in Tosilos
being shut up until it was seen how his transformation turned out. All
hailed Don Quixote as victor, but the greater number were vexed and
disappointed at finding that the combatants they had been so anxiously
waiting for had not battered one another to pieces, just as the boys
are disappointed when the man they are waiting to see hanged does not
come out, because the prosecution or the court has pardoned him. The
people dispersed, the duke and Don Quixote returned to the castle, they
locked up Tosilos, Doña Rodriguez and her daughter remained perfectly
contented when they saw that any way the affair must end in marriage,
and Tosilos wanted nothing else.



p56e.jpg (46K)



CHAPTER LVII.
WHICH TREATS OF HOW DON QUIXOTE TOOK LEAVE OF THE DUKE, AND OF WHAT
FOLLOWED WITH THE WITTY AND IMPUDENT ALTISIDORA, ONE OF THE DUCHESS’S
DAMSELS




p57a.jpg (119K)

Full Size



Don Quixote now felt it right to quit a life of such idleness as he was
leading in the castle; for he fancied that he was making himself sorely
missed by suffering himself to remain shut up and inactive amid the
countless luxuries and enjoyments his hosts lavished upon him as a
knight, and he felt too that he would have to render a strict account
to heaven of that indolence and seclusion; and so one day he asked the
duke and duchess to grant him permission to take his departure. They
gave it, showing at the same time that they were very sorry he was
leaving them.



p57b.jpg (370K)

Full Size



The duchess gave his wife’s letters to Sancho Panza, who shed tears
over them, saying, “Who would have thought that such grand hopes as the
news of my government bred in my wife Teresa Panza’s breast would end
in my going back now to the vagabond adventures of my master Don
Quixote of La Mancha? Still I’m glad to see my Teresa behaved as she
ought in sending the acorns, for if she had not sent them I’d have been
sorry, and she’d have shown herself ungrateful. It is a comfort to me
that they can’t call that present a bribe; for I had got the government
already when she sent them, and it’s but reasonable that those who have
had a good turn done them should show their gratitude, if it’s only
with a trifle. After all I went into the government naked, and I come
out of it naked; so I can say with a safe conscience—and that’s no
small matter—‘naked I was born, naked I find myself, I neither lose nor
gain.’”

Thus did Sancho soliloquise on the day of their departure, as Don
Quixote, who had the night before taken leave of the duke and duchess,
coming out made his appearance at an early hour in full armour in the
courtyard of the castle. The whole household of the castle were
watching him from the corridors, and the duke and duchess, too, came
out to see him. Sancho was mounted on his Dapple, with his alforjas,
valise, and proven supremely happy because the duke’s majordomo, the
same that had acted the part of the Trifaldi, had given him a little
purse with two hundred gold crowns to meet the necessary expenses of
the road, but of this Don Quixote knew nothing as yet. While all were,
as has been said, observing him, suddenly from among the duennas and
handmaidens the impudent and witty Altisidora lifted up her voice and
said in pathetic tones:

Give ear, cruel knight;
Draw rein; where’s the need
Of spurring the flanks
Of that ill-broken steed?
From what art thou flying?
No dragon I am,
Not even a sheep,
But a tender young lamb.
Thou hast jilted a maiden
As fair to behold
As nymph of Diana
Or Venus of old.
Bireno, Æneas, what worse shall I call thee?
Barabbas go with thee! All evil befall thee!

In thy claws, ruthless robber,
Thou bearest away
The heart of a meek
Loving maid for thy prey,
Three kerchiefs thou stealest,
And garters a pair,
From legs than the whitest
Of marble more fair;
And the sighs that pursue thee
Would burn to the ground
Two thousand Troy Towns,
If so many were found.
Bireno, Æneas, what worse shall I call thee?
Barabbas go with thee! All evil befall thee!

May no bowels of mercy
To Sancho be granted,
And thy Dulcinea
Be left still enchanted,
May thy falsehood to me
Find its punishment in her,
For in my land the just
Often pays for the sinner.
May thy grandest adventures
Discomfitures prove,
May thy joys be all dreams,
And forgotten thy love.
Bireno, Æneas, what worse shall I call thee?
Barabbas go with thee! All evil befall thee!

May thy name be abhorred
For thy conduct to ladies,
From London to England,
From Seville to Cadiz;
May thy cards be unlucky,
Thy hands contain ne’er a
King, seven, or ace
When thou playest primera;
When thy corns are cut
May it be to the quick;
When thy grinders are drawn
May the roots of them stick.
Bireno, Æneas, what worse shall I call thee?
Barabbas go with thee! All evil befall thee!


All the while the unhappy Altisidora was bewailing herself in the above
strain Don Quixote stood staring at her; and without uttering a word in
reply to her he turned round to Sancho and said, “Sancho my friend, I
conjure thee by the life of thy forefathers tell me the truth; say,
hast thou by any chance taken the three kerchiefs and the garters this
love-sick maid speaks of?”

To this Sancho made answer, “The three kerchiefs I have; but the
garters, as much as ‘over the hills of Úbeda.’”

The duchess was amazed at Altisidora’s assurance; she knew that she was
bold, lively, and impudent, but not so much so as to venture to make
free in this fashion; and not being prepared for the joke, her
astonishment was all the greater. The duke had a mind to keep up the
sport, so he said, “It does not seem to me well done in you, sir
knight, that after having received the hospitality that has been
offered you in this very castle, you should have ventured to carry off
even three kerchiefs, not to say my handmaid’s garters. It shows a bad
heart and does not tally with your reputation. Restore her garters, or
else I defy you to mortal combat, for I am not afraid of rascally
enchanters changing or altering my features as they changed his who
encountered you into those of my lacquey, Tosilos.”

“God forbid,” said Don Quixote, “that I should draw my sword against
your illustrious person from which I have received such great favours.
The kerchiefs I will restore, as Sancho says he has them; as to the
garters that is impossible, for I have not got them, neither has he;
and if your handmaiden here will look in her hiding-places, depend upon
it she will find them. I have never been a thief, my lord duke, nor do
I mean to be so long as I live, if God cease not to have me in his
keeping. This damsel by her own confession speaks as one in love, for
which I am not to blame, and therefore need not ask pardon, either of
her or of your excellence, whom I entreat to have a better opinion of
me, and once more to give me leave to pursue my journey.”

“And may God so prosper it, Señor Don Quixote,” said the duchess, “that
we may always hear good news of your exploits; God speed you; for the
longer you stay, the more you inflame the hearts of the damsels who
behold you; and as for this one of mine, I will so chastise her that
she will not transgress again, either with her eyes or with her words.”

“One word and no more, O valiant Don Quixote, I ask you to hear,” said
Altisidora, “and that is that I beg your pardon about the theft of the
garters; for by God and upon my soul I have got them on, and I have
fallen into the same blunder as he did who went looking for his ass
being all the while mounted on it.”

“Didn’t I say so?” said Sancho. “I’m a likely one to hide thefts! Why
if I wanted to deal in them, opportunities came ready enough to me in
my government.”

Don Quixote bowed his head, and saluted the duke and duchess and all
the bystanders, and wheeling Rocinante round, Sancho following him on
Dapple, he rode out of the castle, shaping his course for Saragossa.



p57e.jpg (71K)



CHAPTER LVIII.
WHICH TELLS HOW ADVENTURES CAME CROWDING ON DON QUIXOTE IN SUCH NUMBERS
THAT THEY GAVE ONE ANOTHER NO BREATHING-TIME




p58a.jpg (105K)

Full Size



When Don Quixote saw himself in open country, free, and relieved from
the attentions of Altisidora, he felt at his ease, and in fresh spirits
to take up the pursuit of chivalry once more; and turning to Sancho, he
said, “Freedom, Sancho, is one of the most precious gifts that heaven
has bestowed upon men; no treasures that the earth holds buried or the
sea conceals can compare with it; for freedom, as for honour, life may
and should be ventured; and on the other hand, captivity is the
greatest evil that can fall to the lot of man. I say this, Sancho,
because thou hast seen the good cheer, the abundance we have enjoyed in
this castle we are leaving; well then, amid those dainty banquets and
snow-cooled beverages I felt as though I were undergoing the straits of
hunger, because I did not enjoy them with the same freedom as if they
had been mine own; for the sense of being under an obligation to return
benefits and favours received is a restraint that checks the
independence of the spirit. Happy he, to whom heaven has given a piece
of bread for which he is not bound to give thanks to any but heaven
itself!”

“For all your worship says,” said Sancho, “it is not becoming that
there should be no thanks on our part for two hundred gold crowns that
the duke’s majordomo has given me in a little purse which I carry next
my heart, like a warming plaster or comforter, to meet any chance
calls; for we shan’t always find castles where they’ll entertain us;
now and then we may light upon roadside inns where they’ll cudgel us.”

In conversation of this sort the knight and squire errant were pursuing
their journey, when, after they had gone a little more than half a
league, they perceived some dozen men dressed like labourers stretched
upon their cloaks on the grass of a green meadow eating their dinner.
They had beside them what seemed to be white sheets concealing some
objects under them, standing upright or lying flat, and arranged at
intervals. Don Quixote approached the diners, and, saluting them
courteously first, he asked them what it was those cloths covered.
“Señor,” answered one of the party, “under these cloths are some images
carved in relief intended for a retablo we are putting up in our
village; we carry them covered up that they may not be soiled, and on
our shoulders that they may not be broken.”

“With your good leave,” said Don Quixote, “I should like to see them;
for images that are carried so carefully no doubt must be fine ones.”

“I should think they were!” said the other; “let the money they cost
speak for that; for as a matter of fact there is not one of them that
does not stand us in more than fifty ducats; and that your worship may
judge; wait a moment, and you shall see with your own eyes;” and
getting up from his dinner he went and uncovered the first image, which
proved to be one of Saint George on horseback with a serpent writhing
at his feet and the lance thrust down its throat with all that
fierceness that is usually depicted. The whole group was one blaze of
gold, as the saying is. On seeing it Don Quixote said, “That knight was
one of the best knights-errant the army of heaven ever owned; he was
called Don Saint George, and he was moreover a defender of maidens. Let
us see this next one.”

The man uncovered it, and it was seen to be that of Saint Martin on his
horse, dividing his cloak with the beggar. The instant Don Quixote saw
it he said, “This knight too was one of the Christian adventurers, but
I believe he was generous rather than valiant, as thou mayest perceive,
Sancho, by his dividing his cloak with the beggar and giving him half
of it; no doubt it was winter at the time, for otherwise he would have
given him the whole of it, so charitable was he.”

“It was not that, most likely,” said Sancho, “but that he held with the
proverb that says, ‘For giving and keeping there’s need of brains.’”

Don Quixote laughed, and asked them to take off the next cloth,
underneath which was seen the image of the patron saint of the Spains
seated on horseback, his sword stained with blood, trampling on Moors
and treading heads underfoot; and on seeing it Don Quixote exclaimed,
“Ay, this is a knight, and of the squadrons of Christ! This one is
called Don Saint James the Moorslayer, one of the bravest saints and
knights the world ever had or heaven has now.”

They then raised another cloth which it appeared covered Saint Paul
falling from his horse, with all the details that are usually given in
representations of his conversion. When Don Quixote saw it, rendered in
such lifelike style that one would have said Christ was speaking and
Paul answering, “This,” he said, “was in his time the greatest enemy
that the Church of God our Lord had, and the greatest champion it will
ever have; a knight-errant in life, a steadfast saint in death, an
untiring labourer in the Lord’s vineyard, a teacher of the Gentiles,
whose school was heaven, and whose instructor and master was Jesus
Christ himself.”

There were no more images, so Don Quixote bade them cover them up
again, and said to those who had brought them, “I take it as a happy
omen, brothers, to have seen what I have; for these saints and knights
were of the same profession as myself, which is the calling of arms;
only there is this difference between them and me, that they were
saints, and fought with divine weapons, and I am a sinner and fight
with human ones. They won heaven by force of arms, for heaven suffereth
violence; and I, so far, know not what I have won by dint of my
sufferings; but if my Dulcinea del Toboso were to be released from
hers, perhaps with mended fortunes and a mind restored to itself I
might direct my steps in a better path than I am following at present.”

“May God hear and sin be deaf,” said Sancho to this.

The men were filled with wonder, as well at the figure as at the words
of Don Quixote, though they did not understand one half of what he
meant by them. They finished their dinner, took their images on their
backs, and bidding farewell to Don Quixote resumed their journey.

Sancho was amazed afresh at the extent of his master’s knowledge, as
much as if he had never known him, for it seemed to him that there was
no story or event in the world that he had not at his fingers’ ends and
fixed in his memory, and he said to him, “In truth, master mine, if
this that has happened to us to-day is to be called an adventure, it
has been one of the sweetest and pleasantest that have befallen us in
the whole course of our travels; we have come out of it unbelaboured
and undismayed, neither have we drawn sword nor have we smitten the
earth with our bodies, nor have we been left famishing; blessed be God
that he has let me see such a thing with my own eyes!”

“Thou sayest well, Sancho,” said Don Quixote, “but remember all times
are not alike nor do they always run the same way; and these things the
vulgar commonly call omens, which are not based upon any natural
reason, will by him who is wise be esteemed and reckoned happy
accidents merely. One of these believers in omens will get up of a
morning, leave his house, and meet a friar of the order of the blessed
Saint Francis, and, as if he had met a griffin, he will turn about and
go home. With another Mendoza the salt is spilt on his table, and gloom
is spilt over his heart, as if nature was obliged to give warning of
coming misfortunes by means of such trivial things as these. The wise
man and the Christian should not trifle with what it may please heaven
to do. Scipio on coming to Africa stumbled as he leaped on shore; his
soldiers took it as a bad omen; but he, clasping the soil with his
arms, exclaimed, ‘Thou canst not escape me, Africa, for I hold thee
tight between my arms.’ Thus, Sancho, meeting those images has been to
me a most happy occurrence.”

“I can well believe it,” said Sancho; “but I wish your worship would
tell me what is the reason that the Spaniards, when they are about to
give battle, in calling on that Saint James the Moorslayer, say
‘Santiago and close Spain!’ Is Spain, then, open, so that it is needful
to close it; or what is the meaning of this form?”

“Thou art very simple, Sancho,” said Don Quixote; “God, look you, gave
that great knight of the Red Cross to Spain as her patron saint and
protector, especially in those hard struggles the Spaniards had with
the Moors; and therefore they invoke and call upon him as their
defender in all their battles; and in these he has been many a time
seen beating down, trampling under foot, destroying and slaughtering
the Hagarene squadrons in the sight of all; of which fact I could give
thee many examples recorded in truthful Spanish histories.”

Sancho changed the subject, and said to his master, “I marvel, señor,
at the boldness of Altisidora, the duchess’s handmaid; he whom they
call Love must have cruelly pierced and wounded her; they say he is a
little blind urchin who, though blear-eyed, or more properly speaking
sightless, if he aims at a heart, be it ever so small, hits it and
pierces it through and through with his arrows. I have heard it said
too that the arrows of Love are blunted and robbed of their points by
maidenly modesty and reserve; but with this Altisidora it seems they
are sharpened rather than blunted.”

“Bear in mind, Sancho,” said Don Quixote, “that love is influenced by
no consideration, recognises no restraints of reason, and is of the
same nature as death, that assails alike the lofty palaces of kings and
the humble cabins of shepherds; and when it takes entire possession of
a heart, the first thing it does is to banish fear and shame from it;
and so without shame Altisidora declared her passion, which excited in
my mind embarrassment rather than commiseration.”

“Notable cruelty!” exclaimed Sancho; “unheard-of ingratitude! I can
only say for myself that the very smallest loving word of hers would
have subdued me and made a slave of me. The devil! What a heart of
marble, what bowels of brass, what a soul of mortar! But I can’t
imagine what it is that this damsel saw in your worship that could have
conquered and captivated her so. What gallant figure was it, what bold
bearing, what sprightly grace, what comeliness of feature, which of
these things by itself, or what all together, could have made her fall
in love with you? For indeed and in truth many a time I stop to look at
your worship from the sole of your foot to the topmost hair of your
head, and I see more to frighten one than to make one fall in love;
moreover I have heard say that beauty is the first and main thing that
excites love, and as your worship has none at all, I don’t know what
the poor creature fell in love with.”

“Recollect, Sancho,” replied Don Quixote, “there are two sorts of
beauty, one of the mind, the other of the body; that of the mind
displays and exhibits itself in intelligence, in modesty, in honourable
conduct, in generosity, in good breeding; and all these qualities are
possible and may exist in an ugly man; and when it is this sort of
beauty and not that of the body that is the attraction, love is apt to
spring up suddenly and violently. I, Sancho, perceive clearly enough
that I am not beautiful, but at the same time I know I am not hideous;
and it is enough for an honest man not to be a monster to be an object
of love, if only he possesses the endowments of mind I have mentioned.”

While engaged in this discourse they were making their way through a
wood that lay beyond the road, when suddenly, without expecting
anything of the kind, Don Quixote found himself caught in some nets of
green cord stretched from one tree to another; and unable to conceive
what it could be, he said to Sancho, “Sancho, it strikes me this affair
of these nets will prove one of the strangest adventures imaginable.
May I die if the enchanters that persecute me are not trying to
entangle me in them and delay my journey, by way of revenge for my
obduracy towards Altisidora. Well then let me tell them that if these
nets, instead of being green cord, were made of the hardest diamonds,
or stronger than that wherewith the jealous god of blacksmiths enmeshed
Venus and Mars, I would break them as easily as if they were made of
rushes or cotton threads.” But just as he was about to press forward
and break through all, suddenly from among some trees two shepherdesses
of surpassing beauty presented themselves to his sight—or at least
damsels dressed like shepherdesses, save that their jerkins and sayas
were of fine brocade; that is to say, the sayas were rich farthingales
of gold embroidered tabby. Their hair, that in its golden brightness
vied with the beams of the sun itself, fell loose upon their shoulders
and was crowned with garlands twined with green laurel and red
everlasting; and their years to all appearance were not under fifteen
nor above eighteen.



p58b.jpg (452K)

Full Size



Such was the spectacle that filled Sancho with amazement, fascinated
Don Quixote, made the sun halt in his course to behold them, and held
all four in a strange silence. One of the shepherdesses, at length, was
the first to speak and said to Don Quixote, “Hold, sir knight, and do
not break these nets; for they are not spread here to do you any harm,
but only for our amusement; and as I know you will ask why they have
been put up, and who we are, I will tell you in a few words. In a
village some two leagues from this, where there are many people of
quality and rich gentlefolk, it was agreed upon by a number of friends
and relations to come with their wives, sons and daughters, neighbours,
friends and kinsmen, and make holiday in this spot, which is one of the
pleasantest in the whole neighbourhood, setting up a new pastoral
Arcadia among ourselves, we maidens dressing ourselves as shepherdesses
and the youths as shepherds. We have prepared two eclogues, one by the
famous poet Garcilasso, the other by the most excellent Camoens, in its
own Portuguese tongue, but we have not as yet acted them. Yesterday was
the first day of our coming here; we have a few of what they say are
called field-tents pitched among the trees on the bank of an ample
brook that fertilises all these meadows; last night we spread these
nets in the trees here to snare the silly little birds that startled by
the noise we make may fly into them. If you please to be our guest,
señor, you will be welcomed heartily and courteously, for here just now
neither care nor sorrow shall enter.”

She held her peace and said no more, and Don Quixote made answer, “Of a
truth, fairest lady, Actaeon when he unexpectedly beheld Diana bathing
in the stream could not have been more fascinated and wonderstruck than
I at the sight of your beauty. I commend your mode of entertainment,
and thank you for the kindness of your invitation; and if I can serve
you, you may command me with full confidence of being obeyed, for my
profession is none other than to show myself grateful, and ready to
serve persons of all conditions, but especially persons of quality such
as your appearance indicates; and if, instead of taking up, as they
probably do, but a small space, these nets took up the whole surface of
the globe, I would seek out new worlds through which to pass, so as not
to break them; and that ye may give some degree of credence to this
exaggerated language of mine, know that it is no less than Don Quixote
of La Mancha that makes this declaration to you, if indeed it be that
such a name has reached your ears.”

“Ah! friend of my soul,” instantly exclaimed the other shepherdess,
“what great good fortune has befallen us! Seest thou this gentleman we
have before us? Well then let me tell thee he is the most valiant and
the most devoted and the most courteous gentleman in all the world,
unless a history of his achievements that has been printed and I have
read is telling lies and deceiving us. I will lay a wager that this
good fellow who is with him is one Sancho Panza his squire, whose
drolleries none can equal.”

“That’s true,” said Sancho; “I am that same droll and squire you speak
of, and this gentleman is my master Don Quixote of La Mancha, the same
that’s in the history and that they talk about.”

“Oh, my friend,” said the other, “let us entreat him to stay; for it
will give our fathers and brothers infinite pleasure; I too have heard
just what thou hast told me of the valour of the one and the drolleries
of the other; and what is more, of him they say that he is the most
constant and loyal lover that was ever heard of, and that his lady is
one Dulcinea del Toboso, to whom all over Spain the palm of beauty is
awarded.”

“And justly awarded,” said Don Quixote, “unless, indeed, your
unequalled beauty makes it a matter of doubt. But spare yourselves the
trouble, ladies, of pressing me to stay, for the urgent calls of my
profession do not allow me to take rest under any circumstances.”

At this instant there came up to the spot where the four stood a
brother of one of the two shepherdesses, like them in shepherd costume,
and as richly and gaily dressed as they were. They told him that their
companion was the valiant Don Quixote of La Mancha, and the other
Sancho his squire, of whom he knew already from having read their
history. The gay shepherd offered him his services and begged that he
would accompany him to their tents, and Don Quixote had to give way and
comply. And now the game was started, and the nets were filled with a
variety of birds that deceived by the colour fell into the danger they
were flying from. Upwards of thirty persons, all gaily attired as
shepherds and shepherdesses, assembled on the spot, and were at once
informed who Don Quixote and his squire were, whereat they were not a
little delighted, as they knew of him already through his history. They
repaired to the tents, where they found tables laid out, and choicely,
plentifully, and neatly furnished. They treated Don Quixote as a person
of distinction, giving him the place of honour, and all observed him,
and were full of astonishment at the spectacle. At last the cloth being
removed, Don Quixote with great composure lifted up his voice and said:

“One of the greatest sins that men are guilty of is—some will say
pride—but I say ingratitude, going by the common saying that hell is
full of ingrates. This sin, so far as it has lain in my power, I have
endeavoured to avoid ever since I have enjoyed the faculty of reason;
and if I am unable to requite good deeds that have been done me by
other deeds, I substitute the desire to do so; and if that be not
enough I make them known publicly; for he who declares and makes known
the good deeds done to him would repay them by others if it were in his
power, and for the most part those who receive are the inferiors of
those who give. Thus, God is superior to all because he is the supreme
giver, and the offerings of man fall short by an infinite distance of
being a full return for the gifts of God; but gratitude in some degree
makes up for this deficiency and shortcoming. I therefore, grateful for
the favour that has been extended to me here, and unable to make a
return in the same measure, restricted as I am by the narrow limits of
my power, offer what I can and what I have to offer in my own way; and
so I declare that for two full days I will maintain in the middle of
this highway leading to Saragossa, that these ladies disguised as
shepherdesses, who are here present, are the fairest and most courteous
maidens in the world, excepting only the peerless Dulcinea del Toboso,
sole mistress of my thoughts, be it said without offence to those who
hear me, ladies and gentlemen.”

On hearing this Sancho, who had been listening with great attention,
cried out in a loud voice, “Is it possible there is anyone in the world
who will dare to say and swear that this master of mine is a madman?
Say, gentlemen shepherds, is there a village priest, be he ever so wise
or learned, who could say what my master has said; or is there
knight-errant, whatever renown he may have as a man of valour, that
could offer what my master has offered now?”

Don Quixote turned upon Sancho, and with a countenance glowing with
anger said to him, “Is it possible, Sancho, there is anyone in the
whole world who will say thou art not a fool, with a lining to match,
and I know not what trimmings of impertinence and roguery? Who asked
thee to meddle in my affairs, or to inquire whether I am a wise man or
a blockhead? Hold thy peace; answer me not a word; saddle Rocinante if
he be unsaddled; and let us go to put my offer into execution; for with
the right that I have on my side thou mayest reckon as vanquished all
who shall venture to question it;” and in a great rage, and showing his
anger plainly, he rose from his seat, leaving the company lost in
wonder, and making them feel doubtful whether they ought to regard him
as a madman or a rational being. In the end, though they sought to
dissuade him from involving himself in such a challenge, assuring him
they admitted his gratitude as fully established, and needed no fresh
proofs to be convinced of his valiant spirit, as those related in the
history of his exploits were sufficient, still Don Quixote persisted in
his resolve; and mounted on Rocinante, bracing his buckler on his arm
and grasping his lance, he posted himself in the middle of a high road
that was not far from the green meadow. Sancho followed on Dapple,
together with all the members of the pastoral gathering, eager to see
what would be the upshot of his vainglorious and extraordinary
proposal.

Don Quixote, then, having, as has been said, planted himself in the
middle of the road, made the welkin ring with words to this effect: “Ho
ye travellers and wayfarers, knights, squires, folk on foot or on
horseback, who pass this way or shall pass in the course of the next
two days! Know that Don Quixote of La Mancha, knight-errant, is posted
here to maintain by arms that the beauty and courtesy enshrined in the
nymphs that dwell in these meadows and groves surpass all upon earth,
putting aside the lady of my heart, Dulcinea del Toboso. Wherefore, let
him who is of the opposite opinion come on, for here I await him.”

Twice he repeated the same words, and twice they fell unheard by any
adventurer; but fate, that was guiding affairs for him from better to
better, so ordered it that shortly afterwards there appeared on the
road a crowd of men on horseback, many of them with lances in their
hands, all riding in a compact body and in great haste. No sooner had
those who were with Don Quixote seen them than they turned about and
withdrew to some distance from the road, for they knew that if they
stayed some harm might come to them; but Don Quixote with intrepid
heart stood his ground, and Sancho Panza shielded himself with
Rocinante’s hind-quarters. The troop of lancers came up, and one of
them who was in advance began shouting to Don Quixote, “Get out of the
way, you son of the devil, or these bulls will knock you to pieces!”

“Rabble!” returned Don Quixote, “I care nothing for bulls, be they the
fiercest Jarama breeds on its banks. Confess at once, scoundrels, that
what I have declared is true; else ye have to deal with me in combat.”

The herdsman had no time to reply, nor Don Quixote to get out of the
way even if he wished; and so the drove of fierce bulls and tame
bullocks, together with the crowd of herdsmen and others who were
taking them to be penned up in a village where they were to be run the
next day, passed over Don Quixote and over Sancho, Rocinante and
Dapple, hurling them all to the earth and rolling them over on the
ground. Sancho was left crushed, Don Quixote scared, Dapple belaboured
and Rocinante in no very sound condition.



p58c.jpg (399K)

Full Size



They all got up, however, at length, and Don Quixote in great haste,
stumbling here and falling there, started off running after the drove,
shouting out, “Hold! stay! ye rascally rabble, a single knight awaits
you, and he is not of the temper or opinion of those who say, ‘For a
flying enemy make a bridge of silver.’” The retreating party in their
haste, however, did not stop for that, or heed his menaces any more
than last year’s clouds. Weariness brought Don Quixote to a halt, and
more enraged than avenged he sat down on the road to wait until Sancho,
Rocinante and Dapple came up. When they reached him master and man
mounted once more, and without going back to bid farewell to the mock
or imitation Arcadia, and more in humiliation than contentment, they
continued their journey.



p58e.jpg (68K)

Full Size



CHAPTER LIX.
WHEREIN IS RELATED THE STRANGE THING, WHICH MAY BE REGARDED AS AN
ADVENTURE, THAT HAPPENED DON QUIXOTE




p59a.jpg (126K)

Full Size



A clear limpid spring which they discovered in a cool grove relieved
Don Quixote and Sancho of the dust and fatigue due to the unpolite
behaviour of the bulls, and by the side of this, having turned Dapple
and Rocinante loose without headstall or bridle, the forlorn pair,
master and man, seated themselves. Sancho had recourse to the larder of
his alforjas and took out of them what he called the prog; Don Quixote
rinsed his mouth and bathed his face, by which cooling process his
flagging energies were revived. Out of pure vexation he remained
without eating, and out of pure politeness Sancho did not venture to
touch a morsel of what was before him, but waited for his master to act
as taster. Seeing, however, that, absorbed in thought, he was
forgetting to carry the bread to his mouth, he said never a word, and
trampling every sort of good breeding under foot, began to stow away in
his paunch the bread and cheese that came to his hand.



p59b.jpg (370K)

Full Size



“Eat, Sancho my friend,” said Don Quixote; “support life, which is of
more consequence to thee than to me, and leave me to die under the pain
of my thoughts and pressure of my misfortunes. I was born, Sancho, to
live dying, and thou to die eating; and to prove the truth of what I
say, look at me, printed in histories, famed in arms, courteous in
behaviour, honoured by princes, courted by maidens; and after all, when
I looked forward to palms, triumphs, and crowns, won and earned by my
valiant deeds, I have this morning seen myself trampled on, kicked, and
crushed by the feet of unclean and filthy animals. This thought blunts
my teeth, paralyses my jaws, cramps my hands, and robs me of all
appetite for food; so much so that I have a mind to let myself die of
hunger, the cruelest death of all deaths.”

“So then,” said Sancho, munching hard all the time, “your worship does
not agree with the proverb that says, ‘Let Martha die, but let her die
with a full belly.’ I, at any rate, have no mind to kill myself; so far
from that, I mean to do as the cobbler does, who stretches the leather
with his teeth until he makes it reach as far as he wants. I’ll stretch
out my life by eating until it reaches the end heaven has fixed for it;
and let me tell you, señor, there’s no greater folly than to think of
dying of despair as your worship does; take my advice, and after eating
lie down and sleep a bit on this green grass-mattress, and you will see
that when you awake you’ll feel something better.”

Don Quixote did as he recommended, for it struck him that Sancho’s
reasoning was more like a philosopher’s than a blockhead’s, and said
he, “Sancho, if thou wilt do for me what I am going to tell thee my
ease of mind would be more assured and my heaviness of heart not so
great; and it is this; to go aside a little while I am sleeping in
accordance with thy advice, and, making bare thy carcase to the air, to
give thyself three or four hundred lashes with Rocinante’s reins, on
account of the three thousand and odd thou art to give thyself for the
disenchantment of Dulcinea; for it is a great pity that the poor lady
should be left enchanted through thy carelessness and negligence.”

“There is a good deal to be said on that point,” said Sancho; “let us
both go to sleep now, and after that, God has decreed what will happen.
Let me tell your worship that for a man to whip himself in cold blood
is a hard thing, especially if the stripes fall upon an ill-nourished
and worse-fed body. Let my lady Dulcinea have patience, and when she is
least expecting it, she will see me made a riddle of with whipping, and
‘until death it’s all life;’ I mean that I have still life in me, and
the desire to make good what I have promised.”

Don Quixote thanked him, and ate a little, and Sancho a good deal, and
then they both lay down to sleep, leaving those two inseparable friends
and comrades, Rocinante and Dapple, to their own devices and to feed
unrestrained upon the abundant grass with which the meadow was
furnished. They woke up rather late, mounted once more and resumed
their journey, pushing on to reach an inn which was in sight,
apparently a league off. I say an inn, because Don Quixote called it
so, contrary to his usual practice of calling all inns castles. They
reached it, and asked the landlord if they could put up there. He said
yes, with as much comfort and as good fare as they could find in
Saragossa. They dismounted, and Sancho stowed away his larder in a room
of which the landlord gave him the key. He took the beasts to the
stable, fed them, and came back to see what orders Don Quixote, who was
seated on a bench at the door, had for him, giving special thanks to
heaven that this inn had not been taken for a castle by his master.
Supper-time came, and they repaired to their room, and Sancho asked the
landlord what he had to give them for supper. To this the landlord
replied that his mouth should be the measure; he had only to ask what
he would; for that inn was provided with the birds of the air and the
fowls of the earth and the fish of the sea.

“There’s no need of all that,” said Sancho; “if they’ll roast us a
couple of chickens we’ll be satisfied, for my master is delicate and
eats little, and I’m not over and above gluttonous.”

The landlord replied he had no chickens, for the kites had stolen them.

“Well then,” said Sancho, “let señor landlord tell them to roast a
pullet, so that it is a tender one.”

“Pullet! My father!” said the landlord; “indeed and in truth it’s only
yesterday I sent over fifty to the city to sell; but saving pullets ask
what you will.”

“In that case,” said Sancho, “you will not be without veal or kid.”

“Just now,” said the landlord, “there’s none in the house, for it’s all
finished; but next week there will be enough and to spare.”

“Much good that does us,” said Sancho; “I’ll lay a bet that all these
short-comings are going to wind up in plenty of bacon and eggs.”

“By God,” said the landlord, “my guest’s wits must be precious dull; I
tell him I have neither pullets nor hens, and he wants me to have eggs!
Talk of other dainties, if you please, and don’t ask for hens again.”

“Body o’ me!” said Sancho, “let’s settle the matter; say at once what
you have got, and let us have no more words about it.”

“In truth and earnest, señor guest,” said the landlord, “all I have is
a couple of cow-heels like calves’ feet, or a couple of calves’ feet
like cowheels; they are boiled with chick-peas, onions, and bacon, and
at this moment they are crying ‘Come eat me, come eat me.”

“I mark them for mine on the spot,” said Sancho; “let nobody touch
them; I’ll pay better for them than anyone else, for I could not wish
for anything more to my taste; and I don’t care a pin whether they are
feet or heels.”

“Nobody shall touch them,” said the landlord; “for the other guests I
have, being persons of high quality, bring their own cook and caterer
and larder with them.”

“If you come to people of quality,” said Sancho, “there’s nobody more
so than my master; but the calling he follows does not allow of larders
or store-rooms; we lay ourselves down in the middle of a meadow, and
fill ourselves with acorns or medlars.”

Here ended Sancho’s conversation with the landlord, Sancho not caring
to carry it any farther by answering him; for he had already asked him
what calling or what profession it was his master was of.

Supper-time having come, then, Don Quixote betook himself to his room,
the landlord brought in the stew-pan just as it was, and he sat himself
down to sup very resolutely. It seems that in another room, which was
next to Don Quixote’s, with nothing but a thin partition to separate
it, he overheard these words, “As you live, Señor Don Jeronimo, while
they are bringing supper, let us read another chapter of the Second
Part of ‘Don Quixote of La Mancha.’”

The instant Don Quixote heard his own name he started to his feet and
listened with open ears to catch what they said about him, and heard
the Don Jeronimo who had been addressed say in reply, “Why would you
have us read that absurd stuff, Don Juan, when it is impossible for
anyone who has read the First Part of the history of ‘Don Quixote of La
Mancha’ to take any pleasure in reading this Second Part?”

“For all that,” said he who was addressed as Don Juan, “we shall do
well to read it, for there is no book so bad but it has something good
in it. What displeases me most in it is that it represents Don Quixote
as now cured of his love for Dulcinea del Toboso.”

On hearing this Don Quixote, full of wrath and indignation, lifted up
his voice and said, “Whoever he may be who says that Don Quixote of La
Mancha has forgotten or can forget Dulcinea del Toboso, I will teach
him with equal arms that what he says is very far from the truth; for
neither can the peerless Dulcinea del Toboso be forgotten, nor can
forgetfulness have a place in Don Quixote; his motto is constancy, and
his profession to maintain the same with his life and never wrong it.”

“Who is this that answers us?” said they in the next room.

“Who should it be,” said Sancho, “but Don Quixote of La Mancha himself,
who will make good all he has said and all he will say; for pledges
don’t trouble a good payer.”

Sancho had hardly uttered these words when two gentlemen, for such they
seemed to be, entered the room, and one of them, throwing his arms
round Don Quixote’s neck, said to him, “Your appearance cannot leave
any question as to your name, nor can your name fail to identify your
appearance; unquestionably, señor, you are the real Don Quixote of La
Mancha, cynosure and morning star of knight-errantry, despite and in
defiance of him who has sought to usurp your name and bring to naught
your achievements, as the author of this book which I here present to
you has done;” and with this he put a book which his companion carried
into the hands of Don Quixote, who took it, and without replying began
to run his eye over it; but he presently returned it saying, “In the
little I have seen I have discovered three things in this author that
deserve to be censured. The first is some words that I have read in the
preface; the next that the language is Aragonese, for sometimes he
writes without articles; and the third, which above all stamps him as
ignorant, is that he goes wrong and departs from the truth in the most
important part of the history, for here he says that my squire Sancho
Panza’s wife is called Mari Gutierrez, when she is called nothing of
the sort, but Teresa Panza; and when a man errs on such an important
point as this there is good reason to fear that he is in error on every
other point in the history.”

“A nice sort of historian, indeed!” exclaimed Sancho at this; “he must
know a deal about our affairs when he calls my wife Teresa Panza, Mari
Gutierrez; take the book again, señor, and see if I am in it and if he
has changed my name.”

“From your talk, friend,” said Don Jeronimo, “no doubt you are Sancho
Panza, Señor Don Quixote’s squire.”

“Yes, I am,” said Sancho; “and I’m proud of it.”

“Faith, then,” said the gentleman, “this new author does not handle you
with the decency that displays itself in your person; he makes you out
a heavy feeder and a fool, and not in the least droll, and a very
different being from the Sancho described in the First Part of your
master’s history.”

“God forgive him,” said Sancho; “he might have left me in my corner
without troubling his head about me; ‘let him who knows how ring the
bells; ‘Saint Peter is very well in Rome.’”

The two gentlemen pressed Don Quixote to come into their room and have
supper with them, as they knew very well there was nothing in that inn
fit for one of his sort. Don Quixote, who was always polite, yielded to
their request and supped with them. Sancho stayed behind with the stew.
and invested with plenary delegated authority seated himself at the
head of the table, and the landlord sat down with him, for he was no
less fond of cow-heel and calves’ feet than Sancho was.

While at supper Don Juan asked Don Quixote what news he had of the lady
Dulcinea del Toboso, was she married, had she been brought to bed, or
was she with child, or did she in maidenhood, still preserving her
modesty and delicacy, cherish the remembrance of the tender passion of
Señor Don Quixote?

To this he replied, “Dulcinea is a maiden still, and my passion more
firmly rooted than ever, our intercourse unsatisfactory as before, and
her beauty transformed into that of a foul country wench;” and then he
proceeded to give them a full and particular account of the enchantment
of Dulcinea, and of what had happened him in the cave of Montesinos,
together with what the sage Merlin had prescribed for her
disenchantment, namely the scourging of Sancho.

Exceedingly great was the amusement the two gentlemen derived from
hearing Don Quixote recount the strange incidents of his history; and
if they were amazed by his absurdities they were equally amazed by the
elegant style in which he delivered them. On the one hand they regarded
him as a man of wit and sense, and on the other he seemed to them a
maundering blockhead, and they could not make up their minds
whereabouts between wisdom and folly they ought to place him.

Sancho having finished his supper, and left the landlord in the X
condition, repaired to the room where his master was, and as he came in
said, “May I die, sirs, if the author of this book your worships have
got has any mind that we should agree; as he calls me glutton
(according to what your worships say) I wish he may not call me
drunkard too.”

“But he does,” said Don Jeronimo; “I cannot remember, however, in what
way, though I know his words are offensive, and what is more, lying, as
I can see plainly by the physiognomy of the worthy Sancho before me.”

“Believe me,” said Sancho, “the Sancho and the Don Quixote of this
history must be different persons from those that appear in the one
Cide Hamete Benengeli wrote, who are ourselves; my master valiant,
wise, and true in love, and I simple, droll, and neither glutton nor
drunkard.”

“I believe it,” said Don Juan; “and were it possible, an order should
be issued that no one should have the presumption to deal with anything
relating to Don Quixote, save his original author Cide Hamete; just as
Alexander commanded that no one should presume to paint his portrait
save Apelles.”



p60b.jpg (336K)

Full Size



“Let him who will paint me,” said Don Quixote; “but let him not abuse
me; for patience will often break down when they heap insults upon it.”

“None can be offered to Señor Don Quixote,” said Don Juan, “that he
himself will not be able to avenge, if he does not ward it off with the
shield of his patience, which, I take it, is great and strong.”

A considerable portion of the night passed in conversation of this
sort, and though Don Juan wished Don Quixote to read more of the book
to see what it was all about, he was not to be prevailed upon, saying
that he treated it as read and pronounced it utterly silly; and, if by
any chance it should come to its author’s ears that he had it in his
hand, he did not want him to flatter himself with the idea that he had
read it; for our thoughts, and still more our eyes, should keep
themselves aloof from what is obscene and filthy.

They asked him whither he meant to direct his steps. He replied, to
Saragossa, to take part in the harness jousts which were held in that
city every year. Don Juan told him that the new history described how
Don Quixote, let him be who he might, took part there in a tilting at
the ring, utterly devoid of invention, poor in mottoes, very poor in
costume, though rich in sillinesses.

“For that very reason,” said Don Quixote, “I will not set foot in
Saragossa; and by that means I shall expose to the world the lie of
this new history writer, and people will see that I am not the Don
Quixote he speaks of.”

“You will do quite right,” said Don Jeronimo; “and there are other
jousts at Barcelona in which Señor Don Quixote may display his
prowess.”

“That is what I mean to do,” said Don Quixote; “and as it is now time,
I pray your worships to give me leave to retire to bed, and to place
and retain me among the number of your greatest friends and servants.”

“And me too,” said Sancho; “maybe I’ll be good for something.”

With this they exchanged farewells, and Don Quixote and Sancho retired
to their room, leaving Don Juan and Don Jeronimo amazed to see the
medley he made of his good sense and his craziness; and they felt
thoroughly convinced that these, and not those their Aragonese author
described, were the genuine Don Quixote and Sancho. Don Quixote rose
betimes, and bade adieu to his hosts by knocking at the partition of
the other room. Sancho paid the landlord magnificently, and recommended
him either to say less about the providing of his inn or to keep it
better provided.



p59e.jpg (48K)



CHAPTER LX.
OF WHAT HAPPENED DON QUIXOTE ON HIS WAY TO BARCELONA




p60a.jpg (129K)

Full Size



It was a fresh morning giving promise of a cool day as Don Quixote
quitted the inn, first of all taking care to ascertain the most direct
road to Barcelona without touching upon Saragossa; so anxious was he to
make out this new historian, who they said abused him so, to be a liar.
Well, as it fell out, nothing worthy of being recorded happened him for
six days, at the end of which, having turned aside out of the road, he
was overtaken by night in a thicket of oak or cork trees; for on this
point Cide Hamete is not as precise as he usually is on other matters.

Master and man dismounted from their beasts, and as soon as they had
settled themselves at the foot of the trees, Sancho, who had had a good
noontide meal that day, let himself, without more ado, pass the gates
of sleep. But Don Quixote, whom his thoughts, far more than hunger,
kept awake, could not close an eye, and roamed in fancy to and fro
through all sorts of places. At one moment it seemed to him that he was
in the cave of Montesinos and saw Dulcinea, transformed into a country
wench, skipping and mounting upon her she-ass; again that the words of
the sage Merlin were sounding in his ears, setting forth the conditions
to be observed and the exertions to be made for the disenchantment of
Dulcinea. He lost all patience when he considered the laziness and want
of charity of his squire Sancho; for to the best of his belief he had
only given himself five lashes, a number paltry and disproportioned to
the vast number required. At this thought he felt such vexation and
anger that he reasoned the matter thus: “If Alexander the Great cut the
Gordian knot, saying, ‘To cut comes to the same thing as to untie,’ and
yet did not fail to become lord paramount of all Asia, neither more nor
less could happen now in Dulcinea’s disenchantment if I scourge Sancho
against his will; for, if it is the condition of the remedy that Sancho
shall receive three thousand and odd lashes, what does it matter to me
whether he inflicts them himself, or someone else inflicts them, when
the essential point is that he receives them, let them come from
whatever quarter they may?”

With this idea he went over to Sancho, having first taken Rocinante’s
reins and arranged them so as to be able to flog him with them, and
began to untie the points (the common belief is he had but one in
front) by which his breeches were held up; but the instant he
approached him Sancho woke up in his full senses and cried out, “What
is this? Who is touching me and untrussing me?”

“It is I,” said Don Quixote, “and I come to make good thy shortcomings
and relieve my own distresses; I come to whip thee, Sancho, and wipe
off some portion of the debt thou hast undertaken. Dulcinea is
perishing, thou art living on regardless, I am dying of hope deferred;
therefore untruss thyself with a good will, for mine it is, here, in
this retired spot, to give thee at least two thousand lashes.”

“Not a bit of it,” said Sancho; “let your worship keep quiet, or else
by the living God the deaf shall hear us; the lashes I pledged myself
to must be voluntary and not forced upon me, and just now I have no
fancy to whip myself; it is enough if I give you my word to flog and
flap myself when I have a mind.”

“It will not do to leave it to thy courtesy, Sancho,” said Don Quixote,
“for thou art hard of heart and, though a clown, tender of flesh;” and
at the same time he strove and struggled to untie him.

Seeing this Sancho got up, and grappling with his master he gripped him
with all his might in his arms, giving him a trip with the heel
stretched him on the ground on his back, and pressing his right knee on
his chest held his hands in his own so that he could neither move nor
breathe.

“How now, traitor!” exclaimed Don Quixote. “Dost thou revolt against
thy master and natural lord? Dost thou rise against him who gives thee
his bread?”

“I neither put down king, nor set up king,” said Sancho; “I only stand
up for myself who am my own lord; if your worship promises me to be
quiet, and not to offer to whip me now, I’ll let you go free and
unhindered; if not—

Traitor and Doña Sancha’s foe,
Thou diest on the spot.”


Don Quixote gave his promise, and swore by the life of his thoughts not
to touch so much as a hair of his garments, and to leave him entirely
free and to his own discretion to whip himself whenever he pleased.



p60c.jpg (250K)

Full Size



Sancho rose and removed some distance from the spot, but as he was
about to place himself leaning against another tree he felt something
touch his head, and putting up his hands encountered somebody’s two
feet with shoes and stockings on them. He trembled with fear and made
for another tree, where the very same thing happened to him, and he
fell a-shouting, calling upon Don Quixote to come and protect him. Don
Quixote did so, and asked him what had happened to him, and what he was
afraid of. Sancho replied that all the trees were full of men’s feet
and legs. Don Quixote felt them, and guessed at once what it was, and
said to Sancho, “Thou hast nothing to be afraid of, for these feet and
legs that thou feelest but canst not see belong no doubt to some
outlaws and freebooters that have been hanged on these trees; for the
authorities in these parts are wont to hang them up by twenties and
thirties when they catch them; whereby I conjecture that I must be near
Barcelona;” and it was, in fact, as he supposed; with the first light
they looked up and saw that the fruit hanging on those trees were
freebooters’ bodies.

And now day dawned; and if the dead freebooters had scared them, their
hearts were no less troubled by upwards of forty living ones, who all
of a sudden surrounded them, and in the Catalan tongue bade them stand
and wait until their captain came up. Don Quixote was on foot with his
horse unbridled and his lance leaning against a tree, and in short
completely defenceless; he thought it best therefore to fold his arms
and bow his head and reserve himself for a more favourable occasion and
opportunity. The robbers made haste to search Dapple, and did not leave
him a single thing of all he carried in the alforjas and in the valise;
and lucky it was for Sancho that the duke’s crowns and those he brought
from home were in a girdle that he wore round him; but for all that
these good folk would have stripped him, and even looked to see what he
had hidden between the skin and flesh, but for the arrival at that
moment of their captain, who was about thirty-four years of age
apparently, strongly built, above the middle height, of stern aspect
and swarthy complexion. He was mounted upon a powerful horse, and had
on a coat of mail, with four of the pistols they call petronels in that
country at his waist. He saw that his squires (for so they call those
who follow that trade) were about to rifle Sancho Panza, but he ordered
them to desist and was at once obeyed, so the girdle escaped. He
wondered to see the lance leaning against the tree, the shield on the
ground, and Don Quixote in armour and dejected, with the saddest and
most melancholy face that sadness itself could produce; and going up to
him he said, “Be not so cast down, good man, for you have not fallen
into the hands of any inhuman Busiris, but into Roque Guinart’s, which
are more merciful than cruel.”

“The cause of my dejection,” returned Don Quixote, “is not that I have
fallen into thy hands, O valiant Roque, whose fame is bounded by no
limits on earth, but that my carelessness should have been so great
that thy soldiers should have caught me unbridled, when it is my duty,
according to the rule of knight-errantry which I profess, to be always
on the alert and at all times my own sentinel; for let me tell thee,
great Roque, had they found me on my horse, with my lance and shield,
it would not have been very easy for them to reduce me to submission,
for I am Don Quixote of La Mancha, he who hath filled the whole world
with his achievements.”

Roque Guinart at once perceived that Don Quixote’s weakness was more
akin to madness than to swagger; and though he had sometimes heard him
spoken of, he never regarded the things attributed to him as true, nor
could he persuade himself that such a humour could become dominant in
the heart of man; he was extremely glad, therefore, to meet him and
test at close quarters what he had heard of him at a distance; so he
said to him, “Despair not, valiant knight, nor regard as an untoward
fate the position in which thou findest thyself; it may be that by
these slips thy crooked fortune will make itself straight; for heaven
by strange circuitous ways, mysterious and incomprehensible to man,
raises up the fallen and makes rich the poor.”

Don Quixote was about to thank him, when they heard behind them a noise
as of a troop of horses; there was, however, but one, riding on which
at a furious pace came a youth, apparently about twenty years of age,
clad in green damask edged with gold and breeches and a loose frock,
with a hat looped up in the Walloon fashion, tight-fitting polished
boots, gilt spurs, dagger and sword, and in his hand a musketoon, and a
pair of pistols at his waist.

Roque turned round at the noise and perceived this comely figure, which
drawing near thus addressed him, “I came in quest of thee, valiant
Roque, to find in thee if not a remedy at least relief in my
misfortune; and not to keep thee in suspense, for I see thou dost not
recognise me, I will tell thee who I am; I am Claudia Jeronima, the
daughter of Simon Forte, thy good friend, and special enemy of Clauquel
Torrellas, who is thine also as being of the faction opposed to thee.
Thou knowest that this Torrellas has a son who is called, or at least
was not two hours since, Don Vicente Torrellas. Well, to cut short the
tale of my misfortune, I will tell thee in a few words what this youth
has brought upon me. He saw me, he paid court to me, I listened to him,
and, unknown to my father, I loved him; for there is no woman, however
secluded she may live or close she may be kept, who will not have
opportunities and to spare for following her headlong impulses. In a
word, he pledged himself to be mine, and I promised to be his, without
carrying matters any further. Yesterday I learned that, forgetful of
his pledge to me, he was about to marry another, and that he was to go
this morning to plight his troth, intelligence which overwhelmed and
exasperated me; my father not being at home I was able to adopt this
costume you see, and urging my horse to speed I overtook Don Vicente
about a league from this, and without waiting to utter reproaches or
hear excuses I fired this musket at him, and these two pistols besides,
and to the best of my belief I must have lodged more than two bullets
in his body, opening doors to let my honour go free, enveloped in his
blood. I left him there in the hands of his servants, who did not dare
and were not able to interfere in his defence, and I come to seek from
thee a safe-conduct into France, where I have relatives with whom I can
live; and also to implore thee to protect my father, so that Don
Vicente’s numerous kinsmen may not venture to wreak their lawless
vengeance upon him.”

Roque, filled with admiration at the gallant bearing, high spirit,
comely figure, and adventure of the fair Claudia, said to her, “Come,
señora, let us go and see if thy enemy is dead; and then we will
consider what will be best for thee.” Don Quixote, who had been
listening to what Claudia said and Roque Guinart said in reply to her,
exclaimed, “Nobody need trouble himself with the defence of this lady,
for I take it upon myself. Give me my horse and arms, and wait for me
here; I will go in quest of this knight, and dead or alive I will make
him keep his word plighted to so great beauty.”

“Nobody need have any doubt about that,” said Sancho, “for my master
has a very happy knack of matchmaking; it’s not many days since he
forced another man to marry, who in the same way backed out of his
promise to another maiden; and if it had not been for his persecutors
the enchanters changing the man’s proper shape into a lacquey’s the
said maiden would not be one this minute.”

Roque, who was paying more attention to the fair Claudia’s adventure
than to the words of master or man, did not hear them; and ordering his
squires to restore to Sancho everything they had stripped Dapple of, he
directed them to return to the place where they had been quartered
during the night, and then set off with Claudia at full speed in search
of the wounded or slain Don Vicente. They reached the spot where
Claudia met him, but found nothing there save freshly spilt blood;
looking all round, however, they descried some people on the slope of a
hill above them, and concluded, as indeed it proved to be, that it was
Don Vicente, whom either dead or alive his servants were removing to
attend to his wounds or to bury him. They made haste to overtake them,
which, as the party moved slowly, they were able to do with ease. They
found Don Vicente in the arms of his servants, whom he was entreating
in a broken feeble voice to leave him there to die, as the pain of his
wounds would not suffer him to go any farther. Claudia and Roque threw
themselves off their horses and advanced towards him; the servants were
overawed by the appearance of Roque, and Claudia was moved by the sight
of Don Vicente, and going up to him half tenderly half sternly, she
seized his hand and said to him, “Hadst thou given me this according to
our compact thou hadst never come to this pass.”

The wounded gentleman opened his all but closed eyes, and recognising
Claudia said, “I see clearly, fair and mistaken lady, that it is thou
that hast slain me, a punishment not merited or deserved by my feelings
towards thee, for never did I mean to, nor could I, wrong thee in
thought or deed.”

“It is not true, then,” said Claudia, “that thou wert going this
morning to marry Leonora the daughter of the rich Balvastro?”

“Assuredly not,” replied Don Vicente; “my cruel fortune must have
carried those tidings to thee to drive thee in thy jealousy to take my
life; and to assure thyself of this, press my hands and take me for thy
husband if thou wilt; I have no better satisfaction to offer thee for
the wrong thou fanciest thou hast received from me.”

Claudia wrung his hands, and her own heart was so wrung that she lay
fainting on the bleeding breast of Don Vicente, whom a death spasm
seized the same instant. Roque was in perplexity and knew not what to
do; the servants ran to fetch water to sprinkle their faces, and
brought some and bathed them with it. Claudia recovered from her
fainting fit, but not so Don Vicente from the paroxysm that had
overtaken him, for his life had come to an end. On perceiving this,
Claudia, when she had convinced herself that her beloved husband was no
more, rent the air with her sighs and made the heavens ring with her
lamentations; she tore her hair and scattered it to the winds, she beat
her face with her hands and showed all the signs of grief and sorrow
that could be conceived to come from an afflicted heart. “Cruel,
reckless woman!” she cried, “how easily wert thou moved to carry out a
thought so wicked! O furious force of jealousy, to what desperate
lengths dost thou lead those that give thee lodging in their bosoms! O
husband, whose unhappy fate in being mine hath borne thee from the
marriage bed to the grave!”

So vehement and so piteous were the lamentations of Claudia that they
drew tears from Roque’s eyes, unused as they were to shed them on any
occasion. The servants wept, Claudia swooned away again and again, and
the whole place seemed a field of sorrow and an abode of misfortune. In
the end Roque Guinart directed Don Vicente’s servants to carry his body
to his father’s village, which was close by, for burial. Claudia told
him she meant to go to a monastery of which an aunt of hers was abbess,
where she intended to pass her life with a better and everlasting
spouse. He applauded her pious resolution, and offered to accompany her
whithersoever she wished, and to protect her father against the kinsmen
of Don Vicente and all the world, should they seek to injure him.
Claudia would not on any account allow him to accompany her; and
thanking him for his offers as well as she could, took leave of him in
tears. The servants of Don Vicente carried away his body, and Roque
returned to his comrades, and so ended the love of Claudia Jeronima;
but what wonder, when it was the insuperable and cruel might of
jealousy that wove the web of her sad story?



p60d.jpg (439K)

Full Size



Roque Guinart found his squires at the place to which he had ordered
them, and Don Quixote on Rocinante in the midst of them delivering a
harangue to them in which he urged them to give up a mode of life so
full of peril, as well to the soul as to the body; but as most of them
were Gascons, rough lawless fellows, his speech did not make much
impression on them. Roque on coming up asked Sancho if his men had
returned and restored to him the treasures and jewels they had stripped
off Dapple. Sancho said they had, but that three kerchiefs that were
worth three cities were missing.

“What are you talking about, man?” said one of the bystanders; “I have
got them, and they are not worth three reals.”

“That is true,” said Don Quixote; “but my squire values them at the
rate he says, as having been given me by the person who gave them.”

Roque Guinart ordered them to be restored at once; and making his men
fall in in line he directed all the clothing, jewellery, and money that
they had taken since the last distribution to be produced; and making a
hasty valuation, and reducing what could not be divided into money, he
made shares for the whole band so equitably and carefully, that in no
case did he exceed or fall short of strict distributive justice.

When this had been done, and all left satisfied, Roque observed to Don
Quixote, “If this scrupulous exactness were not observed with these
fellows there would be no living with them.”

Upon this Sancho remarked, “From what I have seen here, justice is such
a good thing that there is no doing without it, even among the thieves
themselves.”

One of the squires heard this, and raising the butt-end of his
harquebuss would no doubt have broken Sancho’s head with it had not
Roque Guinart called out to him to hold his hand. Sancho was frightened
out of his wits, and vowed not to open his lips so long as he was in
the company of these people.

At this instant one or two of those squires who were posted as
sentinels on the roads, to watch who came along them and report what
passed to their chief, came up and said, “Señor, there is a great troop
of people not far off coming along the road to Barcelona.”

To which Roque replied, “Hast thou made out whether they are of the
sort that are after us, or of the sort we are after?”

“The sort we are after,” said the squire.

“Well then, away with you all,” said Roque, “and bring them here to me
at once without letting one of them escape.”



p60e.jpg (420K)

Full Size



They obeyed, and Don Quixote, Sancho, and Roque, left by themselves,
waited to see what the squires brought, and while they were waiting
Roque said to Don Quixote, “It must seem a strange sort of life to
Señor Don Quixote, this of ours, strange adventures, strange incidents,
and all full of danger; and I do not wonder that it should seem so, for
in truth I must own there is no mode of life more restless or anxious
than ours. What led me into it was a certain thirst for vengeance,
which is strong enough to disturb the quietest hearts. I am by nature
tender-hearted and kindly, but, as I said, the desire to revenge myself
for a wrong that was done me so overturns all my better impulses that I
keep on in this way of life in spite of what conscience tells me; and
as one depth calls to another, and one sin to another sin, revenges
have linked themselves together, and I have taken upon myself not only
my own but those of others: it pleases God, however, that, though I see
myself in this maze of entanglements, I do not lose all hope of
escaping from it and reaching a safe port.”

Don Quixote was amazed to hear Roque utter such excellent and just
sentiments, for he did not think that among those who followed such
trades as robbing, murdering, and waylaying, there could be anyone
capable of a virtuous thought, and he said in reply, “Señor Roque, the
beginning of health lies in knowing the disease and in the sick man’s
willingness to take the medicines which the physician prescribes; you
are sick, you know what ails you, and heaven, or more properly speaking
God, who is our physician, will administer medicines that will cure
you, and cure gradually, and not of a sudden or by a miracle; besides,
sinners of discernment are nearer amendment than those who are fools;
and as your worship has shown good sense in your remarks, all you have
to do is to keep up a good heart and trust that the weakness of your
conscience will be strengthened. And if you have any desire to shorten
the journey and put yourself easily in the way of salvation, come with
me, and I will show you how to become a knight-errant, a calling
wherein so many hardships and mishaps are encountered that if they be
taken as penances they will lodge you in heaven in a trice.”

Roque laughed at Don Quixote’s exhortation, and changing the
conversation he related the tragic affair of Claudia Jeronima, at which
Sancho was extremely grieved; for he had not found the young woman’s
beauty, boldness, and spirit at all amiss.

And now the squires despatched to make the prize came up, bringing with
them two gentlemen on horseback, two pilgrims on foot, and a coach full
of women with some six servants on foot and on horseback in attendance
on them, and a couple of muleteers whom the gentlemen had with them.
The squires made a ring round them, both victors and vanquished
maintaining profound silence, waiting for the great Roque Guinart to
speak. He asked the gentlemen who they were, whither they were going,
and what money they carried with them; “Señor,” replied one of them,
“we are two captains of Spanish infantry; our companies are at Naples,
and we are on our way to embark in four galleys which they say are at
Barcelona under orders for Sicily; and we have about two or three
hundred crowns, with which we are, according to our notions, rich and
contented, for a soldier’s poverty does not allow a more extensive
hoard.”

Roque asked the pilgrims the same questions he had put to the captains,
and was answered that they were going to take ship for Rome, and that
between them they might have about sixty reals. He asked also who was
in the coach, whither they were bound and what money they had, and one
of the men on horseback replied, “The persons in the coach are my lady
Doña Guiomar de Quiñones, wife of the regent of the Vicaria at Naples,
her little daughter, a handmaid and a duenna; we six servants are in
attendance upon her, and the money amounts to six hundred crowns.”

“So then,” said Roque Guinart, “we have got here nine hundred crowns
and sixty reals; my soldiers must number some sixty; see how much there
falls to each, for I am a bad arithmetician.” As soon as the robbers
heard this they raised a shout of “Long life to Roque Guinart, in spite
of the lladres that seek his ruin!”

The captains showed plainly the concern they felt, the regent’s lady
was downcast, and the pilgrims did not at all enjoy seeing their
property confiscated. Roque kept them in suspense in this way for a
while; but he had no desire to prolong their distress, which might be
seen a bowshot off, and turning to the captains he said, “Sirs, will
your worships be pleased of your courtesy to lend me sixty crowns, and
her ladyship the regent’s wife eighty, to satisfy this band that
follows me, for ‘it is by his singing the abbot gets his dinner;’ and
then you may at once proceed on your journey, free and unhindered, with
a safe-conduct which I shall give you, so that if you come across any
other bands of mine that I have scattered in these parts, they may do
you no harm; for I have no intention of doing injury to soldiers, or to
any woman, especially one of quality.”

Profuse and hearty were the expressions of gratitude with which the
captains thanked Roque for his courtesy and generosity; for such they
regarded his leaving them their own money. Señora Doña Guiomar de
Quiñones wanted to throw herself out of the coach to kiss the feet and
hands of the great Roque, but he would not suffer it on any account; so
far from that, he begged her pardon for the wrong he had done her under
pressure of the inexorable necessities of his unfortunate calling. The
regent’s lady ordered one of her servants to give the eighty crowns
that had been assessed as her share at once, for the captains had
already paid down their sixty. The pilgrims were about to give up the
whole of their little hoard, but Roque bade them keep quiet, and
turning to his men he said, “Of these crowns two fall to each man and
twenty remain over; let ten be given to these pilgrims, and the other
ten to this worthy squire that he may be able to speak favourably of
this adventure;” and then having writing materials, with which he
always went provided, brought to him, he gave them in writing a
safe-conduct to the leaders of his bands; and bidding them farewell let
them go free and filled with admiration at his magnanimity, his
generous disposition, and his unusual conduct, and inclined to regard
him as an Alexander the Great rather than a notorious robber.

One of the squires observed in his mixture of Gascon and Catalan, “This
captain of ours would make a better friar than highwayman; if he wants
to be so generous another time, let it be with his own property and not
ours.”



p60f.jpg (426K)

Full Size



The unlucky wight did not speak so low but that Roque overheard him,
and drawing his sword almost split his head in two, saying, “That is
the way I punish impudent saucy fellows.” They were all taken aback,
and not one of them dared to utter a word, such deference did they pay
him. Roque then withdrew to one side and wrote a letter to a friend of
his at Barcelona, telling him that the famous Don Quixote of La Mancha,
the knight-errant of whom there was so much talk, was with him, and
was, he assured him, the drollest and wisest man in the world; and that
in four days from that date, that is to say, on Saint John the
Baptist’s Day, he was going to deposit him in full armour mounted on
his horse Rocinante, together with his squire Sancho on an ass, in the
middle of the strand of the city; and bidding him give notice of this
to his friends the Niarros, that they might divert themselves with him.
He wished, he said, his enemies the Cadells could be deprived of this
pleasure; but that was impossible, because the crazes and shrewd
sayings of Don Quixote and the humours of his squire Sancho Panza could
not help giving general pleasure to all the world. He despatched the
letter by one of his squires, who, exchanging the costume of a
highwayman for that of a peasant, made his way into Barcelona and gave
it to the person to whom it was directed.



p60g.jpg (42K)



CHAPTER LXI.
OF WHAT HAPPENED DON QUIXOTE ON ENTERING BARCELONA, TOGETHER WITH OTHER
MATTERS THAT PARTAKE OF THE TRUE RATHER THAN OF THE INGENIOUS




p61a.jpg (143K)

Full Size



Don Quixote passed three days and three nights with Roque, and had he
passed three hundred years he would have found enough to observe and
wonder at in his mode of life. At daybreak they were in one spot, at
dinner-time in another; sometimes they fled without knowing from whom,
at other times they lay in wait, not knowing for what. They slept
standing, breaking their slumbers to shift from place to place. There
was nothing but sending out spies and scouts, posting sentinels and
blowing the matches of harquebusses, though they carried but few, for
almost all used flintlocks. Roque passed his nights in some place or
other apart from his men, that they might not know where he was, for
the many proclamations the viceroy of Barcelona had issued against his
life kept him in fear and uneasiness, and he did not venture to trust
anyone, afraid that even his own men would kill him or deliver him up
to the authorities; of a truth, a weary miserable life! At length, by
unfrequented roads, short cuts, and secret paths, Roque, Don Quixote,
and Sancho, together with six squires, set out for Barcelona. They
reached the strand on Saint John’s Eve during the night; and Roque,
after embracing Don Quixote and Sancho (to whom he presented the ten
crowns he had promised but had not until then given), left them with
many expressions of good-will on both sides.

Roque went back, while Don Quixote remained on horseback, just as he
was, waiting for day, and it was not long before the countenance of the
fair Aurora began to show itself at the balconies of the east,
gladdening the grass and flowers, if not the ear, though to gladden
that too there came at the same moment a sound of clarions and drums,
and a din of bells, and a tramp, tramp, and cries of “Clear the way
there!” of some runners, that seemed to issue from the city.



p61b.jpg (271K)

Full Size



The dawn made way for the sun that with a face broader than a buckler
began to rise slowly above the low line of the horizon; Don Quixote and
Sancho gazed all round them; they beheld the sea, a sight until then
unseen by them; it struck them as exceedingly spacious and broad, much
more so than the lakes of Ruidera which they had seen in La Mancha.
They saw the galleys along the beach, which, lowering their awnings,
displayed themselves decked with streamers and pennons that trembled in
the breeze and kissed and swept the water, while on board the bugles,
trumpets, and clarions were sounding and filling the air far and near
with melodious warlike notes. Then they began to move and execute a
kind of skirmish upon the calm water, while a vast number of horsemen
on fine horses and in showy liveries, issuing from the city, engaged on
their side in a somewhat similar movement. The soldiers on board the
galleys kept up a ceaseless fire, which they on the walls and forts of
the city returned, and the heavy cannon rent the air with the
tremendous noise they made, to which the gangway guns of the galleys
replied. The bright sea, the smiling earth, the clear air—though at
times darkened by the smoke of the guns—all seemed to fill the whole
multitude with unexpected delight. Sancho could not make out how it was
that those great masses that moved over the sea had so many feet.

And now the horsemen in livery came galloping up with shouts and
outlandish cries and cheers to where Don Quixote stood amazed and
wondering; and one of them, he to whom Roque had sent word, addressing
him exclaimed, “Welcome to our city, mirror, beacon, star and cynosure
of all knight-errantry in its widest extent! Welcome, I say, valiant
Don Quixote of La Mancha; not the false, the fictitious, the
apocryphal, that these latter days have offered us in lying histories,
but the true, the legitimate, the real one that Cide Hamete Benengeli,
flower of historians, has described to us!”

Don Quixote made no answer, nor did the horsemen wait for one, but
wheeling again with all their followers, they began curvetting round
Don Quixote, who, turning to Sancho, said, “These gentlemen have
plainly recognised us; I will wager they have read our history, and
even that newly printed one by the Aragonese.”

The cavalier who had addressed Don Quixote again approached him and
said, “Come with us, Señor Don Quixote, for we are all of us your
servants and great friends of Roque Guinart’s;” to which Don Quixote
returned, “If courtesy breeds courtesy, yours, sir knight, is daughter
or very nearly akin to the great Roque’s; carry me where you please; I
will have no will but yours, especially if you deign to employ it in
your service.”



p61c.jpg (448K)

Full Size



The cavalier replied with words no less polite, and then, all closing
in around him, they set out with him for the city, to the music of the
clarions and the drums. As they were entering it, the wicked one, who
is the author of all mischief, and the boys who are wickeder than the
wicked one, contrived that a couple of these audacious irrepressible
urchins should force their way through the crowd, and lifting up, one
of them Dapple’s tail and the other Rocinante’s, insert a bunch of
furze under each. The poor beasts felt the strange spurs and added to
their anguish by pressing their tails tight, so much so that, cutting a
multitude of capers, they flung their masters to the ground. Don
Quixote, covered with shame and out of countenance, ran to pluck the
plume from his poor jade’s tail, while Sancho did the same for Dapple.
His conductors tried to punish the audacity of the boys, but there was
no possibility of doing so, for they hid themselves among the hundreds
of others that were following them. Don Quixote and Sancho mounted once
more, and with the same music and acclamations reached their
conductor’s house, which was large and stately, that of a rich
gentleman, in short; and there for the present we will leave them, for
such is Cide Hamete’s pleasure.



p61e.jpg (32K)



CHAPTER LXII.
WHICH DEALS WITH THE ADVENTURE OF THE ENCHANTED HEAD, TOGETHER WITH
OTHER TRIVIAL MATTERS WHICH CANNOT BE LEFT UNTOLD




p62a.jpg (156K)

Full Size



Don Quixote’s host was one Don Antonio Moreno by name, a gentleman of
wealth and intelligence, and very fond of diverting himself in any fair
and good-natured way; and having Don Quixote in his house he set about
devising modes of making him exhibit his mad points in some harmless
fashion; for jests that give pain are no jests, and no sport is worth
anything if it hurts another. The first thing he did was to make Don
Quixote take off his armour, and lead him, in that tight chamois suit
we have already described and depicted more than once, out on a balcony
overhanging one of the chief streets of the city, in full view of the
crowd and of the boys, who gazed at him as they would at a monkey. The
cavaliers in livery careered before him again as though it were for him
alone, and not to enliven the festival of the day, that they wore it,
and Sancho was in high delight, for it seemed to him that, how he knew
not, he had fallen upon another Camacho’s wedding, another house like
Don Diego de Miranda’s, another castle like the duke’s. Some of Don
Antonio’s friends dined with him that day, and all showed honour to Don
Quixote and treated him as a knight-errant, and he becoming puffed up
and exalted in consequence could not contain himself for satisfaction.
Such were the drolleries of Sancho that all the servants of the house,
and all who heard him, were kept hanging upon his lips. While at table
Don Antonio said to him, “We hear, worthy Sancho, that you are so fond
of manjar blanco and forced-meat balls, that if you have any left, you
keep them in your bosom for the next day.”

“No, señor, that’s not true,” said Sancho, “for I am more cleanly than
greedy, and my master Don Quixote here knows well that we two are used
to live for a week on a handful of acorns or nuts. To be sure, if it so
happens that they offer me a heifer, I run with a halter; I mean, I eat
what I’m given, and make use of opportunities as I find them; but
whoever says that I’m an out-of-the-way eater or not cleanly, let me
tell him that he is wrong; and I’d put it in a different way if I did
not respect the honourable beards that are at the table.”

“Indeed,” said Don Quixote, “Sancho’s moderation and cleanliness in
eating might be inscribed and graved on plates of brass, to be kept in
eternal remembrance in ages to come. It is true that when he is hungry
there is a certain appearance of voracity about him, for he eats at a
great pace and chews with both jaws; but cleanliness he is always
mindful of; and when he was governor he learned how to eat daintily, so
much so that he eats grapes, and even pomegranate pips, with a fork.”

“What!” said Don Antonio, “has Sancho been a governor?”

“Ay,” said Sancho, “and of an island called Barataria. I governed it to
perfection for ten days; and lost my rest all the time; and learned to
look down upon all the governments in the world; I got out of it by
taking to flight, and fell into a pit where I gave myself up for dead,
and out of which I escaped alive by a miracle.”

Don Quixote then gave them a minute account of the whole affair of
Sancho’s government, with which he greatly amused his hearers.

On the cloth being removed Don Antonio, taking Don Quixote by the hand,
passed with him into a distant room in which there was nothing in the
way of furniture except a table, apparently of jasper, resting on a
pedestal of the same, upon which was set up, after the fashion of the
busts of the Roman emperors, a head which seemed to be of bronze. Don
Antonio traversed the whole apartment with Don Quixote and walked round
the table several times, and then said, “Now, Señor Don Quixote, that I
am satisfied that no one is listening to us, and that the door is shut,
I will tell you of one of the rarest adventures, or more properly
speaking strange things, that can be imagined, on condition that you
will keep what I say to you in the remotest recesses of secrecy.”

“I swear it,” said Don Quixote, “and for greater security I will put a
flag-stone over it; for I would have you know, Señor Don Antonio” (he
had by this time learned his name), “that you are addressing one who,
though he has ears to hear, has no tongue to speak; so that you may
safely transfer whatever you have in your bosom into mine, and rely
upon it that you have consigned it to the depths of silence.”

“In reliance upon that promise,” said Don Antonio, “I will astonish you
with what you shall see and hear, and relieve myself of some of the
vexation it gives me to have no one to whom I can confide my secrets,
for they are not of a sort to be entrusted to everybody.”

Don Quixote was puzzled, wondering what could be the object of such
precautions; whereupon Don Antonio taking his hand passed it over the
bronze head and the whole table and the pedestal of jasper on which it
stood, and then said, “This head, Señor Don Quixote, has been made and
fabricated by one of the greatest magicians and wizards the world ever
saw, a Pole, I believe, by birth, and a pupil of the famous Escotillo
of whom such marvellous stories are told. He was here in my house, and
for a consideration of a thousand crowns that I gave him he constructed
this head, which has the property and virtue of answering whatever
questions are put to its ear. He observed the points of the compass, he
traced figures, he studied the stars, he watched favourable moments,
and at length brought it to the perfection we shall see to-morrow, for
on Fridays it is mute, and this being Friday we must wait till the next
day. In the interval your worship may consider what you would like to
ask it; and I know by experience that in all its answers it tells the
truth.”

Don Quixote was amazed at the virtue and property of the head, and was
inclined to disbelieve Don Antonio; but seeing what a short time he had
to wait to test the matter, he did not choose to say anything except
that he thanked him for having revealed to him so mighty a secret. They
then quitted the room, Don Antonio locked the door, and they repaired
to the chamber where the rest of the gentlemen were assembled. In the
meantime Sancho had recounted to them several of the adventures and
accidents that had happened his master.

That afternoon they took Don Quixote out for a stroll, not in his
armour but in street costume, with a surcoat of tawny cloth upon him,
that at that season would have made ice itself sweat. Orders were left
with the servants to entertain Sancho so as not to let him leave the
house. Don Quixote was mounted, not on Rocinante, but upon a tall mule
of easy pace and handsomely caparisoned. They put the surcoat on him,
and on the back, without his perceiving it, they stitched a parchment
on which they wrote in large letters, “This is Don Quixote of La
Mancha.” As they set out upon their excursion the placard attracted the
eyes of all who chanced to see him, and as they read out, “This is Don
Quixote of La Mancha,” Don Quixote was amazed to see how many people
gazed at him, called him by his name, and recognised him, and turning
to Don Antonio, who rode at his side, he observed to him, “Great are
the privileges knight-errantry involves, for it makes him who professes
it known and famous in every region of the earth; see, Don Antonio,
even the very boys of this city know me without ever having seen me.”

“True, Señor Don Quixote,” returned Don Antonio; “for as fire cannot be
hidden or kept secret, virtue cannot escape being recognised; and that
which is attained by the profession of arms shines distinguished above
all others.”

It came to pass, however, that as Don Quixote was proceeding amid the
acclamations that have been described, a Castilian, reading the
inscription on his back, cried out in a loud voice, “The devil take
thee for a Don Quixote of La Mancha! What! art thou here, and not dead
of the countless drubbings that have fallen on thy ribs? Thou art mad;
and if thou wert so by thyself, and kept thyself within thy madness, it
would not be so bad; but thou hast the gift of making fools and
blockheads of all who have anything to do with thee or say to thee.
Why, look at these gentlemen bearing thee company! Get thee home,
blockhead, and see after thy affairs, and thy wife and children, and
give over these fooleries that are sapping thy brains and skimming away
thy wits.”

“Go your own way, brother,” said Don Antonio, “and don’t offer advice
to those who don’t ask you for it. Señor Don Quixote is in his full
senses, and we who bear him company are not fools; virtue is to be
honoured wherever it may be found; go, and bad luck to you, and don’t
meddle where you are not wanted.”

“By God, your worship is right,” replied the Castilian; “for to advise
this good man is to kick against the pricks; still for all that it
fills me with pity that the sound wit they say the blockhead has in
everything should dribble away by the channel of his knight-errantry;
but may the bad luck your worship talks of follow me and all my
descendants, if, from this day forth, though I should live longer than
Methuselah, I ever give advice to anybody even if he asks me for it.”

The advice-giver took himself off, and they continued their stroll; but
so great was the press of the boys and people to read the placard, that
Don Antonio was forced to remove it as if he were taking off something
else.



p62b.jpg (373K)

Full Size



Night came and they went home, and there was a ladies’ dancing party,
for Don Antonio’s wife, a lady of rank and gaiety, beauty and wit, had
invited some friends of hers to come and do honour to her guest and
amuse themselves with his strange delusions. Several of them came, they
supped sumptuously, the dance began at about ten o’clock. Among the
ladies were two of a mischievous and frolicsome turn, and, though
perfectly modest, somewhat free in playing tricks for harmless
diversion’s sake. These two were so indefatigable in taking Don Quixote
out to dance that they tired him down, not only in body but in spirit.
It was a sight to see the figure Don Quixote made, long, lank, lean,
and yellow, his garments clinging tight to him, ungainly, and above all
anything but agile.



p62c.jpg (342K)

Full Size



The gay ladies made secret love to him, and he on his part secretly
repelled them, but finding himself hard pressed by their blandishments
he lifted up his voice and exclaimed, “_Fugite, partes adversæ!_ Leave
me in peace, unwelcome overtures; avaunt, with your desires, ladies,
for she who is queen of mine, the peerless Dulcinea del Toboso, suffers
none but hers to lead me captive and subdue me;” and so saying he sat
down on the floor in the middle of the room, tired out and broken down
by all this exertion in the dance.

Don Antonio directed him to be taken up bodily and carried to bed, and
the first that laid hold of him was Sancho, saying as he did so, “In an
evil hour you took to dancing, master mine; do you fancy all mighty men
of valour are dancers, and all knights-errant given to capering? If you
do, I can tell you you are mistaken; there’s many a man would rather
undertake to kill a giant than cut a caper. If it had been the
shoe-fling you were at I could take your place, for I can do the
shoe-fling like a gerfalcon; but I’m no good at dancing.”

With these and other observations Sancho set the whole ball-room
laughing, and then put his master to bed, covering him up well so that
he might sweat out any chill caught after his dancing.

The next day Don Antonio thought he might as well make trial of the
enchanted head, and with Don Quixote, Sancho, and two others, friends
of his, besides the two ladies that had tired out Don Quixote at the
ball, who had remained for the night with Don Antonio’s wife, he locked
himself up in the chamber where the head was. He explained to them the
property it possessed and entrusted the secret to them, telling them
that now for the first time he was going to try the virtue of the
enchanted head; but except Don Antonio’s two friends no one else was
privy to the mystery of the enchantment, and if Don Antonio had not
first revealed it to them they would have been inevitably reduced to
the same state of amazement as the rest, so artfully and skilfully was
it contrived.

The first to approach the ear of the head was Don Antonio himself, and
in a low voice but not so low as not to be audible to all, he said to
it, “Head, tell me by the virtue that lies in thee what am I at this
moment thinking of?”

The head, without any movement of the lips, answered in a clear and
distinct voice, so as to be heard by all, “I cannot judge of thoughts.”

All were thunderstruck at this, and all the more so as they saw that
there was nobody anywhere near the table or in the whole room that
could have answered. “How many of us are here?” asked Don Antonio once
more; and it was answered him in the same way softly, “Thou and thy
wife, with two friends of thine and two of hers, and a famous knight
called Don Quixote of La Mancha, and a squire of his, Sancho Panza by
name.”

Now there was fresh astonishment; now everyone’s hair was standing on
end with awe; and Don Antonio retiring from the head exclaimed, “This
suffices to show me that I have not been deceived by him who sold thee
to me, O sage head, talking head, answering head, wonderful head! Let
someone else go and put what question he likes to it.”

And as women are commonly impulsive and inquisitive, the first to come
forward was one of the two friends of Don Antonio’s wife, and her
question was, “Tell me, Head, what shall I do to be very beautiful?”
and the answer she got was, “Be very modest.”

“I question thee no further,” said the fair querist.

Her companion then came up and said, “I should like to know, Head,
whether my husband loves me or not;” the answer given to her was,
“Think how he uses thee, and thou mayest guess;” and the married lady
went off saying, “That answer did not need a question; for of course
the treatment one receives shows the disposition of him from whom it is
received.”

Then one of Don Antonio’s two friends advanced and asked it, “Who am
I?” “Thou knowest,” was the answer. “That is not what I ask thee,” said
the gentleman, “but to tell me if thou knowest me.” “Yes, I know thee,
thou art Don Pedro Noriz,” was the reply.

“I do not seek to know more,” said the gentleman, “for this is enough
to convince me, O Head, that thou knowest everything;” and as he
retired the other friend came forward and asked it, “Tell me, Head,
what are the wishes of my eldest son?”

“I have said already,” was the answer, “that I cannot judge of wishes;
however, I can tell thee the wish of thy son is to bury thee.”

“That’s ‘what I see with my eyes I point out with my finger,’” said the
gentleman, “so I ask no more.”

Don Antonio’s wife came up and said, “I know not what to ask thee,
Head; I would only seek to know of thee if I shall have many years of
enjoyment of my good husband;” and the answer she received was, “Thou
shalt, for his vigour and his temperate habits promise many years of
life, which by their intemperance others so often cut short.”

Then Don Quixote came forward and said, “Tell me, thou that answerest,
was that which I describe as having happened to me in the cave of
Montesinos the truth or a dream? Will Sancho’s whipping be accomplished
without fail? Will the disenchantment of Dulcinea be brought about?”



p62d.jpg (391K)

Full Size



“As to the question of the cave,” was the reply, “there is much to be
said; there is something of both in it. Sancho’s whipping will proceed
leisurely. The disenchantment of Dulcinea will attain its due
consummation.”

“I seek to know no more,” said Don Quixote; “let me but see Dulcinea
disenchanted, and I will consider that all the good fortune I could
wish for has come upon me all at once.”

The last questioner was Sancho, and his questions were, “Head, shall I
by any chance have another government? Shall I ever escape from the
hard life of a squire? Shall I get back to see my wife and children?”
To which the answer came, “Thou shalt govern in thy house; and if thou
returnest to it thou shalt see thy wife and children; and on ceasing to
serve thou shalt cease to be a squire.”

“Good, by God!” said Sancho Panza; “I could have told myself that; the
prophet Perogrullo could have said no more.”

“What answer wouldst thou have, beast?” said Don Quixote; “is it not
enough that the replies this head has given suit the questions put to
it?”

“Yes, it is enough,” said Sancho; “but I should have liked it to have
made itself plainer and told me more.”

The questions and answers came to an end here, but not the wonder with
which all were filled, except Don Antonio’s two friends who were in the
secret. This Cide Hamete Benengeli thought fit to reveal at once, not
to keep the world in suspense, fancying that the head had some strange
magical mystery in it. He says, therefore, that on the model of another
head, the work of an image maker, which he had seen at Madrid, Don
Antonio made this one at home for his own amusement and to astonish
ignorant people; and its mechanism was as follows. The table was of
wood painted and varnished to imitate jasper, and the pedestal on which
it stood was of the same material, with four eagles’ claws projecting
from it to support the weight more steadily. The head, which resembled
a bust or figure of a Roman emperor, and was coloured like bronze, was
hollow throughout, as was the table, into which it was fitted so
exactly that no trace of the joining was visible. The pedestal of the
table was also hollow and communicated with the throat and neck of the
head, and the whole was in communication with another room underneath
the chamber in which the head stood. Through the entire cavity in the
pedestal, table, throat and neck of the bust or figure, there passed a
tube of tin carefully adjusted and concealed from sight. In the room
below corresponding to the one above was placed the person who was to
answer, with his mouth to the tube, and the voice, as in an
ear-trumpet, passed from above downwards, and from below upwards, the
words coming clearly and distinctly; it was impossible, thus, to detect
the trick. A nephew of Don Antonio’s, a smart sharp-witted student, was
the answerer, and as he had been told beforehand by his uncle who the
persons were that would come with him that day into the chamber where
the head was, it was an easy matter for him to answer the first
question at once and correctly; the others he answered by guess-work,
and, being clever, cleverly. Cide Hamete adds that this marvellous
contrivance stood for some ten or twelve days; but that, as it became
noised abroad through the city that he had in his house an enchanted
head that answered all who asked questions of it, Don Antonio, fearing
it might come to the ears of the watchful sentinels of our faith,
explained the matter to the inquisitors, who commanded him to break it
up and have done with it, lest the ignorant vulgar should be
scandalised. By Don Quixote, however, and by Sancho the head was still
held to be an enchanted one, and capable of answering questions, though
more to Don Quixote’s satisfaction than Sancho’s.

The gentlemen of the city, to gratify Don Antonio and also to do the
honours to Don Quixote, and give him an opportunity of displaying his
folly, made arrangements for a tilting at the ring in six days from
that time, which, however, for reason that will be mentioned hereafter,
did not take place.

Don Quixote took a fancy to stroll about the city quietly and on foot,
for he feared that if he went on horseback the boys would follow him;
so he and Sancho and two servants that Don Antonio gave him set out for
a walk. Thus it came to pass that going along one of the streets Don
Quixote lifted up his eyes and saw written in very large letters over a
door, “Books printed here,” at which he was vastly pleased, for until
then he had never seen a printing office, and he was curious to know
what it was like. He entered with all his following, and saw them
drawing sheets in one place, correcting in another, setting up type
here, revising there; in short all the work that is to be seen in great
printing offices. He went up to one case and asked what they were about
there; the workmen told him, he watched them with wonder, and passed
on. He approached one man, among others, and asked him what he was
doing. The workman replied, “Señor, this gentleman here” (pointing to a
man of prepossessing appearance and a certain gravity of look) “has
translated an Italian book into our Spanish tongue, and I am setting it
up in type for the press.”

“What is the title of the book?” asked Don Quixote; to which the author
replied, “Señor, in Italian the book is called _Le Bagatelle_.”

“And what does _Le Bagatelle_ import in our Spanish?” asked Don
Quixote.

“_Le Bagatelle_,” said the author, “is as though we should say in
Spanish _Los Juguetes;_ but though the book is humble in name it has
good solid matter in it.”

“I,” said Don Quixote, “have some little smattering of Italian, and I
plume myself on singing some of Ariosto’s stanzas; but tell me, señor—I
do not say this to test your ability, but merely out of curiosity—have
you ever met with the word _pignatta_ in your book?”

“Yes, often,” said the author.

“And how do you render that in Spanish?”

“How should I render it,” returned the author, “but by _olla_?”

“Body o’ me,” exclaimed Don Quixote, “what a proficient you are in the
Italian language! I would lay a good wager that where they say in
Italian _piace_ you say in Spanish _place_, and where they say _piu_
you say _mas_, and you translate _sù_ by _arriba_ and _giù_ by
_abajo_.”

“I translate them so of course,” said the author, “for those are their
proper equivalents.”

“I would venture to swear,” said Don Quixote, “that your worship is not
known in the world, which always begrudges their reward to rare wits
and praiseworthy labours. What talents lie wasted there! What genius
thrust away into corners! What worth left neglected! Still it seems to
me that translation from one language into another, if it be not from
the queens of languages, the Greek and the Latin, is like looking at
Flemish tapestries on the wrong side; for though the figures are
visible, they are full of threads that make them indistinct, and they
do not show with the smoothness and brightness of the right side; and
translation from easy languages argues neither ingenuity nor command of
words, any more than transcribing or copying out one document from
another. But I do not mean by this to draw the inference that no credit
is to be allowed for the work of translating, for a man may employ
himself in ways worse and less profitable to himself. This estimate
does not include two famous translators, Doctor Cristóbal de Figueroa,
in his _Pastor Fido_, and Don Juan de Jáuregui, in his _Aminta_,
wherein by their felicity they leave it in doubt which is the
translation and which the original. But tell me, are you printing this
book at your own risk, or have you sold the copyright to some
bookseller?”

“I print at my own risk,” said the author, “and I expect to make a
thousand ducats at least by this first edition, which is to be of two
thousand copies that will go off in a twinkling at six reals apiece.”

“A fine calculation you are making!” said Don Quixote; “it is plain you
don’t know the ins and outs of the printers, and how they play into one
another’s hands. I promise you when you find yourself saddled with two
thousand copies you will feel so sore that it will astonish you,
particularly if the book is a little out of the common and not in any
way highly spiced.”

“What!” said the author, “would your worship, then, have me give it to
a bookseller who will give three maravedis for the copyright and think
he is doing me a favour? I do not print my books to win fame in the
world, for I am known in it already by my works; I want to make money,
without which reputation is not worth a rap.”

“God send your worship good luck,” said Don Quixote; and he moved on to
another case, where he saw them correcting a sheet of a book with the
title of “Light of the Soul;” noticing it he observed, “Books like
this, though there are many of the kind, are the ones that deserve to
be printed, for many are the sinners in these days, and lights
unnumbered are needed for all that are in darkness.”

He passed on, and saw they were also correcting another book, and when
he asked its title they told him it was called, “The Second Part of the
Ingenious Gentleman Don Quixote of La Mancha,” by one of Tordesillas.

“I have heard of this book already,” said Don Quixote, “and verily and
on my conscience I thought it had been by this time burned to ashes as
a meddlesome intruder; but its Martinmas will come to it as it does to
every pig; for fictions have the more merit and charm about them the
more nearly they approach the truth or what looks like it; and true
stories, the truer they are the better they are;” and so saying he
walked out of the printing office with a certain amount of displeasure
in his looks. That same day Don Antonio arranged to take him to see the
galleys that lay at the beach, whereat Sancho was in high delight, as
he had never seen any all his life. Don Antonio sent word to the
commandant of the galleys that he intended to bring his guest, the
famous Don Quixote of La Mancha, of whom the commandant and all the
citizens had already heard, that afternoon to see them; and what
happened on board of them will be told in the next chapter.



p62e.jpg (18K)



CHAPTER LXIII.
OF THE MISHAP THAT BEFELL SANCHO PANZA THROUGH THE VISIT TO THE
GALLEYS, AND THE STRANGE ADVENTURE OF THE FAIR MORISCO




p63a.jpg (151K)

Full Size



Profound were Don Quixote’s reflections on the reply of the enchanted
head, not one of them, however, hitting on the secret of the trick, but
all concentrated on the promise, which he regarded as a certainty, of
Dulcinea’s disenchantment. This he turned over in his mind again and
again with great satisfaction, fully persuaded that he would shortly
see its fulfillment; and as for Sancho, though, as has been said, he
hated being a governor, still he had a longing to be giving orders and
finding himself obeyed once more; this is the misfortune that being in
authority, even in jest, brings with it.

To resume; that afternoon their host Don Antonio Moreno and his two
friends, with Don Quixote and Sancho, went to the galleys. The
commandant had been already made aware of his good fortune in seeing
two such famous persons as Don Quixote and Sancho, and the instant they
came to the shore all the galleys struck their awnings and the clarions
rang out. A skiff covered with rich carpets and cushions of crimson
velvet was immediately lowered into the water, and as Don Quixote
stepped on board of it, the leading galley fired her gangway gun, and
the other galleys did the same; and as he mounted the starboard ladder
the whole crew saluted him (as is the custom when a personage of
distinction comes on board a galley) by exclaiming “Hu, hu, hu,” three
times. The general, for so we shall call him, a Valencian gentleman of
rank, gave him his hand and embraced him, saying, “I shall mark this
day with a white stone as one of the happiest I can expect to enjoy in
my lifetime, since I have seen Señor Don Quixote of La Mancha, pattern
and image wherein we see contained and condensed all that is worthy in
knight-errantry.”

Don Quixote delighted beyond measure with such a lordly reception,
replied to him in words no less courteous. All then proceeded to the
poop, which was very handsomely decorated, and seated themselves on the
bulwark benches; the boatswain passed along the gangway and piped all
hands to strip, which they did in an instant. Sancho, seeing such a
number of men stripped to the skin, was taken aback, and still more
when he saw them spread the awning so briskly that it seemed to him as
if all the devils were at work at it; but all this was cakes and fancy
bread to what I am going to tell now. Sancho was seated on the
captain’s stage, close to the aftermost rower on the right-hand side.
He, previously instructed in what he was to do, laid hold of Sancho,
hoisting him up in his arms, and the whole crew, who were standing
ready, beginning on the right, proceeded to pass him on, whirling him
along from hand to hand and from bench to bench with such rapidity that
it took the sight out of poor Sancho’s eyes, and he made quite sure
that the devils themselves were flying away with him; nor did they
leave off with him until they had sent him back along the left side and
deposited him on the poop; and the poor fellow was left bruised and
breathless and all in a sweat, and unable to comprehend what it was
that had happened to him.

Don Quixote when he saw Sancho’s flight without wings asked the general
if this was a usual ceremony with those who came on board the galleys
for the first time; for, if so, as he had no intention of adopting them
as a profession, he had no mind to perform such feats of agility, and
if anyone offered to lay hold of him to whirl him about, he vowed to
God he would kick his soul out; and as he said this he stood up and
clapped his hand upon his sword. At this instant they struck the awning
and lowered the yard with a prodigious rattle. Sancho thought heaven
was coming off its hinges and going to fall on his head, and full of
terror he ducked it and buried it between his knees; nor were Don
Quixote’s knees altogether under control, for he too shook a little,
squeezed his shoulders together and lost colour. The crew then hoisted
the yard with the same rapidity and clatter as when they lowered it,
all the while keeping silence as though they had neither voice nor
breath. The boatswain gave the signal to weigh anchor, and leaping upon
the middle of the gangway began to lay on to the shoulders of the crew
with his courbash or whip, and to haul out gradually to sea.

When Sancho saw so many red feet (for such he took the oars to be)
moving all together, he said to himself, “It’s these that are the real
chanted things, and not the ones my master talks of. What can those
wretches have done to be so whipped; and how does that one man who goes
along there whistling dare to whip so many? I declare this is hell, or
at least purgatory!”

Don Quixote, observing how attentively Sancho regarded what was going
on, said to him, “Ah, Sancho my friend, how quickly and cheaply might
you finish off the disenchantment of Dulcinea, if you would strip to
the waist and take your place among those gentlemen! Amid the pain and
sufferings of so many you would not feel your own much; and moreover
perhaps the sage Merlin would allow each of these lashes, being laid on
with a good hand, to count for ten of those which you must give
yourself at last.”

The general was about to ask what these lashes were, and what was
Dulcinea’s disenchantment, when a sailor exclaimed, “Monjui signals
that there is an oared vessel off the coast to the west.”

On hearing this the general sprang upon the gangway crying, “Now then,
my sons, don’t let her give us the slip! It must be some Algerine
corsair brigantine that the watchtower signals to us.” The three others
immediately came alongside the chief galley to receive their orders.
The general ordered two to put out to sea while he with the other kept
in shore, so that in this way the vessel could not escape them. The
crews plied the oars driving the galleys so furiously that they seemed
to fly. The two that had put out to sea, after a couple of miles
sighted a vessel which, so far as they could make out, they judged to
be one of fourteen or fifteen banks, and so she proved. As soon as the
vessel discovered the galleys she went about with the object and in the
hope of making her escape by her speed; but the attempt failed, for the
chief galley was one of the fastest vessels afloat, and overhauled her
so rapidly that they on board the brigantine saw clearly there was no
possibility of escaping, and the rais therefore would have had them
drop their oars and give themselves up so as not to provoke the captain
in command of our galleys to anger. But chance, directing things
otherwise, so ordered it that just as the chief galley came close
enough for those on board the vessel to hear the shouts from her
calling on them to surrender, two Toraquis, that is to say two Turks,
both drunken, that with a dozen more were on board the brigantine,
discharged their muskets, killing two of the soldiers that lined the
sides of our vessel. Seeing this the general swore he would not leave
one of those he found on board the vessel alive, but as he bore down
furiously upon her she slipped away from him underneath the oars. The
galley shot a good way ahead; those on board the vessel saw their case
was desperate, and while the galley was coming about they made sail,
and by sailing and rowing once more tried to sheer off; but their
activity did not do them as much good as their rashness did them harm,
for the galley coming up with them in a little more than half a mile
threw her oars over them and took the whole of them alive. The other
two galleys now joined company and all four returned with the prize to
the beach, where a vast multitude stood waiting for them, eager to see
what they brought back. The general anchored close in, and perceived
that the viceroy of the city was on the shore. He ordered the skiff to
push off to fetch him, and the yard to be lowered for the purpose of
hanging forthwith the rais and the rest of the men taken on board the
vessel, about six-and-thirty in number, all smart fellows and most of
them Turkish musketeers. He asked which was the rais of the brigantine,
and was answered in Spanish by one of the prisoners (who afterwards
proved to be a Spanish renegade), “This young man, señor that you see
here is our rais,” and he pointed to one of the handsomest and most
gallant-looking youths that could be imagined. He did not seem to be
twenty years of age.

“Tell me, dog,” said the general, “what led thee to kill my soldiers,
when thou sawest it was impossible for thee to escape? Is that the way
to behave to chief galleys? Knowest thou not that rashness is not
valour? Faint prospects of success should make men bold, but not rash.”

The rais was about to reply, but the general could not at that moment
listen to him, as he had to hasten to receive the viceroy, who was now
coming on board the galley, and with him certain of his attendants and
some of the people.

“You have had a good chase, señor general,” said the viceroy.

“Your excellency shall soon see how good, by the game strung up to this
yard,” replied the general.

“How so?” returned the viceroy.

“Because,” said the general, “against all law, reason, and usages of
war they have killed on my hands two of the best soldiers on board
these galleys, and I have sworn to hang every man that I have taken,
but above all this youth who is the rais of the brigantine,” and he
pointed to him as he stood with his hands already bound and the rope
round his neck, ready for death.

The viceroy looked at him, and seeing him so well-favoured, so
graceful, and so submissive, he felt a desire to spare his life, the
comeliness of the youth furnishing him at once with a letter of
recommendation. He therefore questioned him, saying, “Tell me, rais,
art thou Turk, Moor, or renegade?”

To which the youth replied, also in Spanish, “I am neither Turk, nor
Moor, nor renegade.”

“What art thou, then?” said the viceroy.

“A Christian woman,” replied the youth.

“A woman and a Christian, in such a dress and in such circumstances! It
is more marvellous than credible,” said the viceroy.

“Suspend the execution of the sentence,” said the youth; “your
vengeance will not lose much by waiting while I tell you the story of
my life.”

What heart could be so hard as not to be softened by these words, at
any rate so far as to listen to what the unhappy youth had to say? The
general bade him say what he pleased, but not to expect pardon for his
flagrant offence. With this permission the youth began in these words.

“Born of Morisco parents, I am of that nation, more unhappy than wise,
upon which of late a sea of woes has poured down. In the course of our
misfortune I was carried to Barbary by two uncles of mine, for it was
in vain that I declared I was a Christian, as in fact I am, and not a
mere pretended one, or outwardly, but a true Catholic Christian. It
availed me nothing with those charged with our sad expatriation to
protest this, nor would my uncles believe it; on the contrary, they
treated it as an untruth and a subterfuge set up to enable me to remain
behind in the land of my birth; and so, more by force than of my own
will, they took me with them. I had a Christian mother, and a father
who was a man of sound sense and a Christian too; I imbibed the
Catholic faith with my mother’s milk, I was well brought up, and
neither in word nor in deed did I, I think, show any sign of being a
Morisco. To accompany these virtues, for such I hold them, my beauty,
if I possess any, grew with my growth; and great as was the seclusion
in which I lived it was not so great but that a young gentleman, Don
Gaspar Gregorio by name, eldest son of a gentleman who is lord of a
village near ours, contrived to find opportunities of seeing me. How he
saw me, how we met, how his heart was lost to me, and mine not kept
from him, would take too long to tell, especially at a moment when I am
in dread of the cruel cord that threatens me interposing between tongue
and throat; I will only say, therefore, that Don Gregorio chose to
accompany me in our banishment. He joined company with the Moriscoes
who were going forth from other villages, for he knew their language
very well, and on the voyage he struck up a friendship with my two
uncles who were carrying me with them; for my father, like a wise and
far-sighted man, as soon as he heard the first edict for our expulsion,
quitted the village and departed in quest of some refuge for us abroad.
He left hidden and buried, at a spot of which I alone have knowledge, a
large quantity of pearls and precious stones of great value, together
with a sum of money in gold cruzadoes and doubloons. He charged me on
no account to touch the treasure, if by any chance they expelled us
before his return. I obeyed him, and with my uncles, as I have said,
and others of our kindred and neighbours, passed over to Barbary, and
the place where we took up our abode was Algiers, much the same as if
we had taken it up in hell itself. The king heard of my beauty, and
report told him of my wealth, which was in some degree fortunate for
me. He summoned me before him, and asked me what part of Spain I came
from, and what money and jewels I had. I mentioned the place, and told
him the jewels and money were buried there; but that they might easily
be recovered if I myself went back for them. All this I told him, in
dread lest my beauty and not his own covetousness should influence him.
While he was engaged in conversation with me, they brought him word
that in company with me was one of the handsomest and most graceful
youths that could be imagined. I knew at once that they were speaking
of Don Gaspar Gregorio, whose comeliness surpasses the most highly
vaunted beauty. I was troubled when I thought of the danger he was in,
for among those barbarous Turks a fair youth is more esteemed than a
woman, be she ever so beautiful. The king immediately ordered him to be
brought before him that he might see him, and asked me if what they
said about the youth was true. I then, almost as if inspired by heaven,
told him it was, but that I would have him to know it was not a man,
but a woman like myself, and I entreated him to allow me to go and
dress her in the attire proper to her, so that her beauty might be seen
to perfection, and that she might present herself before him with less
embarrassment. He bade me go by all means, and said that the next day
we should discuss the plan to be adopted for my return to Spain to
carry away the hidden treasure. I saw Don Gaspar, I told him the danger
he was in if he let it be seen he was a man, I dressed him as a Moorish
woman, and that same afternoon I brought him before the king, who was
charmed when he saw him, and resolved to keep the damsel and make a
present of her to the Grand Signor; and to avoid the risk she might run
among the women of his seraglio, and distrustful of himself, he
commanded her to be placed in the house of some Moorish ladies of rank
who would protect and attend to her; and thither he was taken at once.
What we both suffered (for I cannot deny that I love him) may be left
to the imagination of those who are separated if they love one another
dearly. The king then arranged that I should return to Spain in this
brigantine, and that two Turks, those who killed your soldiers, should
accompany me. There also came with me this Spanish renegade”—and here
she pointed to him who had first spoken—“whom I know to be secretly a
Christian, and to be more desirous of being left in Spain than of
returning to Barbary. The rest of the crew of the brigantine are Moors
and Turks, who merely serve as rowers. The two Turks, greedy and
insolent, instead of obeying the orders we had to land me and this
renegade in Christian dress (with which we came provided) on the first
Spanish ground we came to, chose to run along the coast and make some
prize if they could, fearing that if they put us ashore first, we
might, in case of some accident befalling us, make it known that the
brigantine was at sea, and thus, if there happened to be any galleys on
the coast, they might be taken. We sighted this shore last night, and
knowing nothing of these galleys, we were discovered, and the result
was what you have seen. To sum up, there is Don Gregorio in woman’s
dress, among women, in imminent danger of his life; and here am I, with
hands bound, in expectation, or rather in dread, of losing my life, of
which I am already weary. Here, sirs, ends my sad story, as true as it
is unhappy; all I ask of you is to allow me to die like a Christian,
for, as I have already said, I am not to be charged with the offence of
which those of my nation are guilty;” and she stood silent, her eyes
filled with moving tears, accompanied by plenty from the bystanders.
The viceroy, touched with compassion, went up to her without speaking
and untied the cord that bound the hands of the Moorish girl.

But all the while the Morisco Christian was telling her strange story,
an elderly pilgrim, who had come on board of the galley at the same
time as the viceroy, kept his eyes fixed upon her; and the instant she
ceased speaking he threw himself at her feet, and embracing them said
in a voice broken by sobs and sighs, “O Ana Felix, my unhappy daughter,
I am thy father Ricote, come back to look for thee, unable to live
without thee, my soul that thou art!”

At these words of his, Sancho opened his eyes and raised his head,
which he had been holding down, brooding over his unlucky excursion;
and looking at the pilgrim he recognised in him that same Ricote he met
the day he quitted his government, and felt satisfied that this was his
daughter. She being now unbound embraced her father, mingling her tears
with his, while he addressing the general and the viceroy said, “This,
sirs, is my daughter, more unhappy in her adventures than in her name.
She is Ana Felix, surnamed Ricote, celebrated as much for her own
beauty as for my wealth. I quitted my native land in search of some
shelter or refuge for us abroad, and having found one in Germany I
returned in this pilgrim’s dress, in the company of some other German
pilgrims, to seek my daughter and take up a large quantity of treasure
I had left buried. My daughter I did not find, the treasure I found and
have with me; and now, in this strange roundabout way you have seen, I
find the treasure that more than all makes me rich, my beloved
daughter. If our innocence and her tears and mine can with strict
justice open the door to clemency, extend it to us, for we never had
any intention of injuring you, nor do we sympathise with the aims of
our people, who have been justly banished.”

“I know Ricote well,” said Sancho at this, “and I know too that what he
says about Ana Felix being his daughter is true; but as to those other
particulars about going and coming, and having good or bad intentions,
I say nothing.”

While all present stood amazed at this strange occurrence the general
said, “At any rate your tears will not allow me to keep my oath; live,
fair Ana Felix, all the years that heaven has allotted you; but these
rash insolent fellows must pay the penalty of the crime they have
committed;” and with that he gave orders to have the two Turks who had
killed his two soldiers hanged at once at the yard-arm. The viceroy,
however, begged him earnestly not to hang them, as their behaviour
savoured rather of madness than of bravado. The general yielded to the
viceroy’s request, for revenge is not easily taken in cold blood. They
then tried to devise some scheme for rescuing Don Gaspar Gregorio from
the danger in which he had been left. Ricote offered for that object
more than two thousand ducats that he had in pearls and gems; they
proposed several plans, but none so good as that suggested by the
renegade already mentioned, who offered to return to Algiers in a small
vessel of about six banks, manned by Christian rowers, as he knew
where, how, and when he could and should land, nor was he ignorant of
the house in which Don Gaspar was staying. The general and the viceroy
had some hesitation about placing confidence in the renegade and
entrusting him with the Christians who were to row, but Ana Felix said
she could answer for him, and her father offered to go and pay the
ransom of the Christians if by any chance they should not be
forthcoming. This, then, being agreed upon, the viceroy landed, and Don
Antonio Moreno took the fair Morisco and her father home with him, the
viceroy charging him to give them the best reception and welcome in his
power, while on his own part he offered all that house contained for
their entertainment; so great was the good-will and kindliness the
beauty of Ana Felix had infused into his heart.



p63e.jpg (23K)



CHAPTER LXIV.
TREATING OF THE ADVENTURE WHICH GAVE DON QUIXOTE MORE UNHAPPINESS THAN
ALL THAT HAD HITHERTO BEFALLEN HIM




p64a.jpg (80K)

Full Size



The wife of Don Antonio Moreno, so the history says, was extremely
happy to see Ana Felix in her house. She welcomed her with great
kindness, charmed as well by her beauty as by her intelligence; for in
both respects the fair Morisco was richly endowed, and all the people
of the city flocked to see her as though they had been summoned by the
ringing of the bells.

Don Quixote told Don Antonio that the plan adopted for releasing Don
Gregorio was not a good one, for its risks were greater than its
advantages, and that it would be better to land himself with his arms
and horse in Barbary; for he would carry him off in spite of the whole
Moorish host, as Don Gaiferos carried off his wife Melisendra.

“Remember, your worship,” observed Sancho on hearing him say so, “Señor
Don Gaiferos carried off his wife from the mainland, and took her to
France by land; but in this case, if by chance we carry off Don
Gregorio, we have no way of bringing him to Spain, for there’s the sea
between.”

“There’s a remedy for everything except death,” said Don Quixote; “if
they bring the vessel close to the shore we shall be able to get on
board though all the world strive to prevent us.”

“Your worship hits it off mighty well and mighty easy,” said Sancho;
“but ‘it’s a long step from saying to doing;’ and I hold to the
renegade, for he seems to me an honest good-hearted fellow.”

Don Antonio then said that if the renegade did not prove successful,
the expedient of the great Don Quixote’s expedition to Barbary should
be adopted. Two days afterwards the renegade put to sea in a light
vessel of six oars a-side manned by a stout crew, and two days later
the galleys made sail eastward, the general having begged the viceroy
to let him know all about the release of Don Gregorio and about Ana
Felix, and the viceroy promised to do as he requested.

One morning as Don Quixote went out for a stroll along the beach,
arrayed in full armour (for, as he often said, that was “his only gear,
his only rest the fray,” and he never was without it for a moment), he
saw coming towards him a knight, also in full armour, with a shining
moon painted on his shield, who, on approaching sufficiently near to be
heard, said in a loud voice, addressing himself to Don Quixote,
“Illustrious knight, and never sufficiently extolled Don Quixote of La
Mancha, I am the Knight of the White Moon, whose unheard-of
achievements will perhaps have recalled him to thy memory. I come to do
battle with thee and prove the might of thy arm, to the end that I make
thee acknowledge and confess that my lady, let her be who she may, is
incomparably fairer than thy Dulcinea del Toboso. If thou dost
acknowledge this fairly and openly, thou shalt escape death and save me
the trouble of inflicting it upon thee; if thou fightest and I vanquish
thee, I demand no other satisfaction than that, laying aside arms and
abstaining from going in quest of adventures, thou withdraw and betake
thyself to thine own village for the space of a year, and live there
without putting hand to sword, in peace and quiet and beneficial
repose, the same being needful for the increase of thy substance and
the salvation of thy soul; and if thou dost vanquish me, my head shall
be at thy disposal, my arms and horse thy spoils, and the renown of my
deeds transferred and added to thine. Consider which will be thy best
course, and give me thy answer speedily, for this day is all the time I
have for the despatch of this business.”

Don Quixote was amazed and astonished, as well at the Knight of the
White Moon’s arrogance, as at his reason for delivering the defiance,
and with calm dignity he answered him, “Knight of the White Moon, of
whose achievements I have never heard until now, I will venture to
swear you have never seen the illustrious Dulcinea; for had you seen
her I know you would have taken care not to venture yourself upon this
issue, because the sight would have removed all doubt from your mind
that there ever has been or can be a beauty to be compared with hers;
and so, not saying you lie, but merely that you are not correct in what
you state, I accept your challenge, with the conditions you have
proposed, and at once, that the day you have fixed may not expire; and
from your conditions I except only that of the renown of your
achievements being transferred to me, for I know not of what sort they
are nor what they may amount to; I am satisfied with my own, such as
they be. Take, therefore, the side of the field you choose, and I will
do the same; and to whom God shall give it may Saint Peter add his
blessing.”

The Knight of the White Moon had been seen from the city, and it was
told the viceroy how he was in conversation with Don Quixote. The
viceroy, fancying it must be some fresh adventure got up by Don Antonio
Moreno or some other gentleman of the city, hurried out at once to the
beach accompanied by Don Antonio and several other gentlemen, just as
Don Quixote was wheeling Rocinante round in order to take up the
necessary distance. The viceroy upon this, seeing that the pair of them
were evidently preparing to come to the charge, put himself between
them, asking them what it was that led them to engage in combat all of
a sudden in this way. The Knight of the White Moon replied that it was
a question of precedence of beauty; and briefly told him what he had
said to Don Quixote, and how the conditions of the defiance agreed upon
on both sides had been accepted. The viceroy went over to Don Antonio,
and asked in a low voice did he know who the Knight of the White Moon
was, or was it some joke they were playing on Don Quixote. Don Antonio
replied that he neither knew who he was nor whether the defiance was in
joke or in earnest. This answer left the viceroy in a state of
perplexity, not knowing whether he ought to let the combat go on or
not; but unable to persuade himself that it was anything but a joke he
fell back, saying, “If there be no other way out of it, gallant
knights, except to confess or die, and Don Quixote is inflexible, and
your worship of the White Moon still more so, in God’s hand be it, and
fall on.”

He of the White Moon thanked the viceroy in courteous and well-chosen
words for the permission he gave them, and so did Don Quixote, who
then, commending himself with all his heart to heaven and to his
Dulcinea, as was his custom on the eve of any combat that awaited him,
proceeded to take a little more distance, as he saw his antagonist was
doing the same; then, without blast of trumpet or other warlike
instrument to give them the signal to charge, both at the same instant
wheeled their horses; and he of the White Moon, being the swifter, met
Don Quixote after having traversed two-thirds of the course, and there
encountered him with such violence that, without touching him with his
lance (for he held it high, to all appearance purposely), he hurled Don
Quixote and Rocinante to the earth, a perilous fall. He sprang upon him
at once, and placing the lance over his visor said to him, “You are
vanquished, sir knight, nay dead unless you admit the conditions of our
defiance.”

Don Quixote, bruised and stupefied, without raising his visor said in a
weak feeble voice as if he were speaking out of a tomb, “Dulcinea del
Toboso is the fairest woman in the world, and I the most unfortunate
knight on earth; it is not fitting that this truth should suffer by my
feebleness; drive your lance home, sir knight, and take my life, since
you have taken away my honour.”

“That will I not, in sooth,” said he of the White Moon; “live the fame
of the lady Dulcinea’s beauty undimmed as ever; all I require is that
the great Don Quixote retire to his own home for a year, or for so long
a time as shall by me be enjoined upon him, as we agreed before
engaging in this combat.”

The viceroy, Don Antonio, and several others who were present heard all
this, and heard too how Don Quixote replied that so long as nothing in
prejudice of Dulcinea was demanded of him, he would observe all the
rest like a true and loyal knight. The engagement given, he of the
White Moon wheeled about, and making obeisance to the viceroy with a
movement of the head, rode away into the city at a half gallop. The
viceroy bade Don Antonio hasten after him, and by some means or other
find out who he was. They raised Don Quixote up and uncovered his face,
and found him pale and bathed with sweat.



p64b.jpg (344K)

Full Size



Rocinante from the mere hard measure he had received lay unable to stir
for the present. Sancho, wholly dejected and woebegone, knew not what
to say or do. He fancied that all was a dream, that the whole business
was a piece of enchantment. Here was his master defeated, and bound not
to take up arms for a year. He saw the light of the glory of his
achievements obscured; the hopes of the promises lately made him swept
away like smoke before the wind; Rocinante, he feared, was crippled for
life, and his master’s bones out of joint; for if he were only shaken
out of his madness it would be no small luck. In the end they carried
him into the city in a hand-chair which the viceroy sent for, and
thither the viceroy himself returned, eager to ascertain who this
Knight of the White Moon was who had left Don Quixote in such a sad
plight.



p64e.jpg (44K)

Full Size



CHAPTER LXV.
WHEREIN IS MADE KNOWN WHO THE KNIGHT OF THE WHITE MOON WAS; LIKEWISE
DON GREGORIO’S RELEASE, AND OTHER EVENTS




p65a.jpg (149K)

Full Size



Don Antonio Moreno followed the Knight of the White Moon, and a number
of boys followed him too, nay pursued him, until they had him fairly
housed in a hostel in the heart of the city. Don Antonio, eager to make
his acquaintance, entered also; a squire came out to meet him and
remove his armour, and he shut himself into a lower room, still
attended by Don Antonio, whose bread would not bake until he had found
out who he was. He of the White Moon, seeing then that the gentleman
would not leave him, said, “I know very well, señor, what you have come
for; it is to find out who I am; and as there is no reason why I should
conceal it from you, while my servant here is taking off my armour I
will tell you the true state of the case, without leaving out anything.
You must know, señor, that I am called the bachelor Samson Carrasco. I
am of the same village as Don Quixote of La Mancha, whose craze and
folly make all of us who know him feel pity for him, and I am one of
those who have felt it most; and persuaded that his chance of recovery
lay in quiet and keeping at home and in his own house, I hit upon a
device for keeping him there. Three months ago, therefore, I went out
to meet him as a knight-errant, under the assumed name of the Knight of
the Mirrors, intending to engage him in combat and overcome him without
hurting him, making it the condition of our combat that the vanquished
should be at the disposal of the victor. What I meant to demand of him
(for I regarded him as vanquished already) was that he should return to
his own village, and not leave it for a whole year, by which time he
might be cured. But fate ordered it otherwise, for he vanquished me and
unhorsed me, and so my plan failed. He went his way, and I came back
conquered, covered with shame, and sorely bruised by my fall, which was
a particularly dangerous one. But this did not quench my desire to meet
him again and overcome him, as you have seen to-day. And as he is so
scrupulous in his observance of the laws of knight-errantry, he will,
no doubt, in order to keep his word, obey the injunction I have laid
upon him. This, señor, is how the matter stands, and I have nothing
more to tell you. I implore of you not to betray me, or tell Don
Quixote who I am; so that my honest endeavours may be successful, and
that a man of excellent wits—were he only rid of the fooleries of
chivalry—may get them back again.”

“O señor,” said Don Antonio, “may God forgive you the wrong you have
done the whole world in trying to bring the most amusing madman in it
back to his senses. Do you not see, señor, that the gain by Don
Quixote’s sanity can never equal the enjoyment his crazes give? But my
belief is that all the señor bachelor’s pains will be of no avail to
bring a man so hopelessly cracked to his senses again; and if it were
not uncharitable, I would say may Don Quixote never be cured, for by
his recovery we lose not only his own drolleries, but his squire Sancho
Panza’s too, any one of which is enough to turn melancholy itself into
merriment. However, I’ll hold my peace and say nothing to him, and
we’ll see whether I am right in my suspicion that Señor Carrasco’s
efforts will be fruitless.”

The bachelor replied that at all events the affair promised well, and
he hoped for a happy result from it; and putting his services at Don
Antonio’s commands he took his leave of him; and having had his armour
packed at once upon a mule, he rode away from the city the same day on
the horse he rode to battle, and returned to his own country without
meeting any adventure calling for record in this veracious history.

Don Antonio reported to the viceroy what Carrasco told him, and the
viceroy was not very well pleased to hear it, for with Don Quixote’s
retirement there was an end to the amusement of all who knew anything
of his mad doings.

Six days did Don Quixote keep his bed, dejected, melancholy, moody and
out of sorts, brooding over the unhappy event of his defeat. Sancho
strove to comfort him, and among other things he said to him, “Hold up
your head, señor, and be of good cheer if you can, and give thanks to
heaven that if you have had a tumble to the ground you have not come
off with a broken rib; and, as you know that ‘where they give they
take,’ and that ‘there are not always fletches where there are pegs,’ a
fig for the doctor, for there’s no need of him to cure this ailment.
Let us go home, and give over going about in search of adventures in
strange lands and places; rightly looked at, it is I that am the
greater loser, though it is your worship that has had the worse usage.
With the government I gave up all wish to be a governor again, but I
did not give up all longing to be a count; and that will never come to
pass if your worship gives up becoming a king by renouncing the calling
of chivalry; and so my hopes are going to turn into smoke.”

“Peace, Sancho,” said Don Quixote; “thou seest my suspension and
retirement is not to exceed a year; I shall soon return to my honoured
calling, and I shall not be at a loss for a kingdom to win and a county
to bestow on thee.”

“May God hear it and sin be deaf,” said Sancho; “I have always heard
say that ‘a good hope is better than a bad holding.”

As they were talking Don Antonio came in looking extremely pleased and
exclaiming, “Reward me for my good news, Señor Don Quixote! Don
Gregorio and the renegade who went for him have come ashore—ashore do I
say? They are by this time in the viceroy’s house, and will be here
immediately.”

Don Quixote cheered up a little and said, “Of a truth I am almost ready
to say I should have been glad had it turned out just the other way,
for it would have obliged me to cross over to Barbary, where by the
might of my arm I should have restored to liberty, not only Don
Gregorio, but all the Christian captives there are in Barbary. But what
am I saying, miserable being that I am? Am I not he that has been
conquered? Am I not he that has been overthrown? Am I not he who must
not take up arms for a year? Then what am I making professions for;
what am I bragging about; when it is fitter for me to handle the
distaff than the sword?”

“No more of that, señor,” said Sancho; “‘let the hen live, even though
it be with her pip;’ ‘to-day for thee and to-morrow for me;’ in these
affairs of encounters and whacks one must not mind them, for he that
falls to-day may get up to-morrow; unless indeed he chooses to lie in
bed, I mean gives way to weakness and does not pluck up fresh spirit
for fresh battles; let your worship get up now to receive Don Gregorio;
for the household seems to be in a bustle, and no doubt he has come by
this time;” and so it proved, for as soon as Don Gregorio and the
renegade had given the viceroy an account of the voyage out and home,
Don Gregorio, eager to see Ana Felix, came with the renegade to Don
Antonio’s house. When they carried him away from Algiers he was in
woman’s dress; on board the vessel, however, he exchanged it for that
of a captive who escaped with him; but in whatever dress he might be he
looked like one to be loved and served and esteemed, for he was
surpassingly well-favoured, and to judge by appearances some seventeen
or eighteen years of age. Ricote and his daughter came out to welcome
him, the father with tears, the daughter with bashfulness. They did not
embrace each other, for where there is deep love there will never be
overmuch boldness. Seen side by side, the comeliness of Don Gregorio
and the beauty of Ana Felix were the admiration of all who were
present. It was silence that spoke for the lovers at that moment, and
their eyes were the tongues that declared their pure and happy
feelings. The renegade explained the measures and means he had adopted
to rescue Don Gregorio, and Don Gregorio at no great length, but in a
few words, in which he showed that his intelligence was in advance of
his years, described the peril and embarrassment he found himself in
among the women with whom he had sojourned. To conclude, Ricote
liberally recompensed and rewarded as well the renegade as the men who
had rowed; and the renegade effected his readmission into the body of
the Church and was reconciled with it, and from a rotten limb became by
penance and repentance a clean and sound one.

Two days later the viceroy discussed with Don Antonio the steps they
should take to enable Ana Felix and her father to stay in Spain, for it
seemed to them there could be no objection to a daughter who was so
good a Christian and a father to all appearance so well disposed
remaining there. Don Antonio offered to arrange the matter at the
capital, whither he was compelled to go on some other business, hinting
that many a difficult affair was settled there with the help of favour
and bribes.

“Nay,” said Ricote, who was present during the conversation, “it will
not do to rely upon favour or bribes, because with the great Don
Bernardino de Velasco, Conde de Salazar, to whom his Majesty has
entrusted our expulsion, neither entreaties nor promises, bribes nor
appeals to compassion, are of any use; for though it is true he mingles
mercy with justice, still, seeing that the whole body of our nation is
tainted and corrupt, he applies to it the cautery that burns rather
than the salve that soothes; and thus, by prudence, sagacity, care and
the fear he inspires, he has borne on his mighty shoulders the weight
of this great policy and carried it into effect, all our schemes and
plots, importunities and wiles, being ineffectual to blind his Argus
eyes, ever on the watch lest one of us should remain behind in
concealment, and like a hidden root come in course of time to sprout
and bear poisonous fruit in Spain, now cleansed, and relieved of the
fear in which our vast numbers kept it. Heroic resolve of the great
Philip the Third, and unparalleled wisdom to have entrusted it to the
said Don Bernardino de Velasco!”

“At any rate,” said Don Antonio, “when I am there I will make all
possible efforts, and let heaven do as pleases it best; Don Gregorio
will come with me to relieve the anxiety which his parents must be
suffering on account of his absence; Ana Felix will remain in my house
with my wife, or in a monastery; and I know the viceroy will be glad
that the worthy Ricote should stay with him until we see what terms I
can make.”

The viceroy agreed to all that was proposed; but Don Gregorio on
learning what had passed declared he could not and would not on any
account leave Ana Felix; however, as it was his purpose to go and see
his parents and devise some way of returning for her, he fell in with
the proposed arrangement. Ana Felix remained with Don Antonio’s wife,
and Ricote in the viceroy’s house.

The day for Don Antonio’s departure came; and two days later that for
Don Quixote’s and Sancho’s, for Don Quixote’s fall did not suffer him
to take the road sooner. There were tears and sighs, swoonings and
sobs, at the parting between Don Gregorio and Ana Felix. Ricote offered
Don Gregorio a thousand crowns if he would have them, but he would not
take any save five which Don Antonio lent him and he promised to repay
at the capital. So the two of them took their departure, and Don
Quixote and Sancho afterwards, as has been already said, Don Quixote
without his armour and in travelling gear, and Sancho on foot, Dapple
being loaded with the armour.



p65e.jpg (43K)



CHAPTER LXVI.
WHICH TREATS OF WHAT HE WHO READS WILL SEE, OR WHAT HE WHO HAS IT READ
TO HIM WILL HEAR




p66a.jpg (125K)

Full Size



As he left Barcelona, Don Quixote turned gaze upon the spot where he
had fallen. “Here Troy was,” said he; “here my ill-luck, not my
cowardice, robbed me of all the glory I had won; here Fortune made me
the victim of her caprices; here the lustre of my achievements was
dimmed; here, in a word, fell my happiness never to rise again.”



p66b.jpg (251K)

Full Size



“Señor,” said Sancho on hearing this, “it is the part of brave hearts
to be patient in adversity just as much as to be glad in prosperity; I
judge by myself, for, if when I was a governor I was glad, now that I
am a squire and on foot I am not sad; and I have heard say that she
whom commonly they call Fortune is a drunken whimsical jade, and, what
is more, blind, and therefore neither sees what she does, nor knows
whom she casts down or whom she sets up.”

“Thou art a great philosopher, Sancho,” said Don Quixote; “thou
speakest very sensibly; I know not who taught thee. But I can tell thee
there is no such thing as Fortune in the world, nor does anything which
takes place there, be it good or bad, come about by chance, but by the
special preordination of heaven; and hence the common saying that ‘each
of us is the maker of his own Fortune.’ I have been that of mine; but
not with the proper amount of prudence, and my self-confidence has
therefore made me pay dearly; for I ought to have reflected that
Rocinante’s feeble strength could not resist the mighty bulk of the
Knight of the White Moon’s horse. In a word, I ventured it, I did my
best, I was overthrown, but though I lost my honour I did not lose nor
can I lose the virtue of keeping my word. When I was a knight-errant,
daring and valiant, I supported my achievements by hand and deed, and
now that I am a humble squire I will support my words by keeping the
promise I have given. Forward then, Sancho my friend, let us go to keep
the year of the novitiate in our own country, and in that seclusion we
shall pick up fresh strength to return to the by me never-forgotten
calling of arms.”

“Señor,” returned Sancho, “travelling on foot is not such a pleasant
thing that it makes me feel disposed or tempted to make long marches.
Let us leave this armour hung up on some tree, instead of someone that
has been hanged; and then with me on Dapple’s back and my feet off the
ground we will arrange the stages as your worship pleases to measure
them out; but to suppose that I am going to travel on foot, and make
long ones, is to suppose nonsense.”

“Thou sayest well, Sancho,” said Don Quixote; “let my armour be hung up
for a trophy, and under it or round it we will carve on the trees what
was inscribed on the trophy of Roland’s armour-

These let none move
Who dareth not his might with Roland prove.”


“That’s the very thing,” said Sancho; “and if it was not that we should
feel the want of Rocinante on the road, it would be as well to leave
him hung up too.”

“And yet, I had rather not have either him or the armour hung up,” said
Don Quixote, “that it may not be said, ‘for good service a bad
return.’”

“Your worship is right,” said Sancho; “for, as sensible people hold,
‘the fault of the ass must not be laid on the pack-saddle;’ and, as in
this affair the fault is your worship’s, punish yourself and don’t let
your anger break out against the already battered and bloody armour, or
the meekness of Rocinante, or the tenderness of my feet, trying to make
them travel more than is reasonable.”



p66c.jpg (389K)

Full Size



In converse of this sort the whole of that day went by, as did the four
succeeding ones, without anything occurring to interrupt their journey,
but on the fifth as they entered a village they found a great number of
people at the door of an inn enjoying themselves, as it was a holiday.
Upon Don Quixote’s approach a peasant called out, “One of these two
gentlemen who come here, and who don’t know the parties, will tell us
what we ought to do about our wager.”

“That I will, certainly,” said Don Quixote, “and according to the
rights of the case, if I can manage to understand it.”

“Well, here it is, worthy sir,” said the peasant; “a man of this
village who is so fat that he weighs twenty stone challenged another, a
neighbour of his, who does not weigh more than nine, to run a race. The
agreement was that they were to run a distance of a hundred paces with
equal weights; and when the challenger was asked how the weights were
to be equalised he said that the other, as he weighed nine stone,
should put eleven in iron on his back, and that in this way the twenty
stone of the thin man would equal the twenty stone of the fat one.”

“Not at all,” exclaimed Sancho at once, before Don Quixote could
answer; “it’s for me, that only a few days ago left off being a
governor and a judge, as all the world knows, to settle these doubtful
questions and give an opinion in disputes of all sorts.”

“Answer in God’s name, Sancho my friend,” said Don Quixote, “for I am
not fit to give crumbs to a cat, my wits are so confused and upset.”

With this permission Sancho said to the peasants who stood clustered
round him, waiting with open mouths for the decision to come from his,
“Brothers, what the fat man requires is not in reason, nor has it a
shadow of justice in it; because, if it be true, as they say, that the
challenged may choose the weapons, the other has no right to choose
such as will prevent and keep him from winning. My decision, therefore,
is that the fat challenger prune, peel, thin, trim and correct himself,
and take eleven stone of his flesh off his body, here or there, as he
pleases, and as suits him best; and being in this way reduced to nine
stone weight, he will make himself equal and even with nine stone of
his opponent, and they will be able to run on equal terms.”

“By all that’s good,” said one of the peasants as he heard Sancho’s
decision, “but the gentleman has spoken like a saint, and given
judgment like a canon! But I’ll be bound the fat man won’t part with an
ounce of his flesh, not to say eleven stone.”

“The best plan will be for them not to run,” said another, “so that
neither the thin man break down under the weight, nor the fat one strip
himself of his flesh; let half the wager be spent in wine, and let’s
take these gentlemen to the tavern where there’s the best, and ‘over me
be the cloak when it rains.”

“I thank you, sirs,” said Don Quixote; “but I cannot stop for an
instant, for sad thoughts and unhappy circumstances force me to seem
discourteous and to travel apace;” and spurring Rocinante he pushed on,
leaving them wondering at what they had seen and heard, at his own
strange figure and at the shrewdness of his servant, for such they took
Sancho to be; and another of them observed, “If the servant is so
clever, what must the master be? I’ll bet, if they are going to
Salamanca to study, they’ll come to be alcaldes of the Court in a
trice; for it’s a mere joke—only to read and read, and have interest
and good luck; and before a man knows where he is he finds himself with
a staff in his hand or a mitre on his head.”

That night master and man passed out in the fields in the open air, and
the next day as they were pursuing their journey they saw coming
towards them a man on foot with alforjas at the neck and a javelin or
spiked staff in his hand, the very cut of a foot courier; who, as soon
as he came close to Don Quixote, increased his pace and half running
came up to him, and embracing his right thigh, for he could reach no
higher, exclaimed with evident pleasure, “O Señor Don Quixote of La
Mancha, what happiness it will be to the heart of my lord the duke when
he knows your worship is coming back to his castle, for he is still
there with my lady the duchess!”

“I do not recognise you, friend,” said Don Quixote, “nor do I know who
you are, unless you tell me.”

“I am Tosilos, my lord the duke’s lacquey, Señor Don Quixote,” replied
the courier; “he who refused to fight your worship about marrying the
daughter of Doña Rodriguez.”

“God bless me!” exclaimed Don Quixote; “is it possible that you are the
one whom mine enemies the enchanters changed into the lacquey you speak
of in order to rob me of the honour of that battle?”

“Nonsense, good sir!” said the messenger; “there was no enchantment or
transformation at all; I entered the lists just as much lacquey Tosilos
as I came out of them lacquey Tosilos. I thought to marry without
fighting, for the girl had taken my fancy; but my scheme had a very
different result, for as soon as your worship had left the castle my
lord the duke had a hundred strokes of the stick given me for having
acted contrary to the orders he gave me before engaging in the combat;
and the end of the whole affair is that the girl has become a nun, and
Doña Rodriguez has gone back to Castile, and I am now on my way to
Barcelona with a packet of letters for the viceroy which my master is
sending him. If your worship would like a drop, sound though warm, I
have a gourd here full of the best, and some scraps of Tronchon cheese
that will serve as a provocative and wakener of your thirst if so be it
is asleep.”

“I take the offer,” said Sancho; “no more compliments about it; pour
out, good Tosilos, in spite of all the enchanters in the Indies.”

“Thou art indeed the greatest glutton in the world, Sancho,” said Don
Quixote, “and the greatest booby on earth, not to be able to see that
this courier is enchanted and this Tosilos a sham one; stop with him
and take thy fill; I will go on slowly and wait for thee to come up
with me.”

The lacquey laughed, unsheathed his gourd, unwalletted his scraps, and
taking out a small loaf of bread he and Sancho seated themselves on the
green grass, and in peace and good fellowship finished off the contents
of the alforjas down to the bottom, so resolutely that they licked the
wrapper of the letters, merely because it smelt of cheese.

Said Tosilos to Sancho, “Beyond a doubt, Sancho my friend, this master
of thine ought to be a madman.”

“Ought!” said Sancho; “he owes no man anything; he pays for everything,
particularly when the coin is madness. I see it plain enough, and I
tell him so plain enough; but what’s the use? especially now that it is
all over with him, for here he is beaten by the Knight of the White
Moon.”

Tosilos begged him to explain what had happened him, but Sancho replied
that it would not be good manners to leave his master waiting for him;
and that some other day if they met there would be time enough for
that; and then getting up, after shaking his doublet and brushing the
crumbs out of his beard, he drove Dapple on before him, and bidding
adieu to Tosilos left him and rejoined his master, who was waiting for
him under the shade of a tree.



p66e.jpg (29K)



CHAPTER LXVII.
OF THE RESOLUTION DON QUIXOTE FORMED TO TURN SHEPHERD AND TAKE TO A
LIFE IN THE FIELDS WHILE THE YEAR FOR WHICH HE HAD GIVEN HIS WORD WAS
RUNNING ITS COURSE; WITH OTHER EVENTS TRULY DELECTABLE AND HAPPY




p67a.jpg (145K)

Full Size



If a multitude of reflections used to harass Don Quixote before he had
been overthrown, a great many more harassed him since his fall. He was
under the shade of a tree, as has been said, and there, like flies on
honey, thoughts came crowding upon him and stinging him. Some of them
turned upon the disenchantment of Dulcinea, others upon the life he was
about to lead in his enforced retirement. Sancho came up and spoke in
high praise of the generous disposition of the lacquey Tosilos.

“Is it possible, Sancho,” said Don Quixote, “that thou dost still think
that he yonder is a real lacquey? Apparently it has escaped thy memory
that thou hast seen Dulcinea turned and transformed into a peasant
wench, and the Knight of the Mirrors into the bachelor Carrasco; all
the work of the enchanters that persecute me. But tell me now, didst
thou ask this Tosilos, as thou callest him, what has become of
Altisidora, did she weep over my absence, or has she already consigned
to oblivion the love thoughts that used to afflict her when I was
present?”

“The thoughts that I had,” said Sancho, “were not such as to leave time
for asking fool’s questions. Body o’ me, señor! is your worship in a
condition now to inquire into other people’s thoughts, above all love
thoughts?”

“Look ye, Sancho,” said Don Quixote, “there is a great difference
between what is done out of love and what is done out of gratitude. A
knight may very possibly be proof against love; but it is impossible,
strictly speaking, for him to be ungrateful. Altisidora, to all
appearance, loved me truly; she gave me the three kerchiefs thou
knowest of; she wept at my departure, she cursed me, she abused me,
casting shame to the winds she bewailed herself in public; all signs
that she adored me; for the wrath of lovers always ends in curses. I
had no hopes to give her, nor treasures to offer her, for mine are
given to Dulcinea, and the treasures of knights-errant are like those
of the fairies,’ illusory and deceptive; all I can give her is the
place in my memory I keep for her, without prejudice, however, to that
which I hold devoted to Dulcinea, whom thou art wronging by thy
remissness in whipping thyself and scourging that flesh—would that I
saw it eaten by wolves—which would rather keep itself for the worms
than for the relief of that poor lady.”

“Señor,” replied Sancho, “if the truth is to be told, I cannot persuade
myself that the whipping of my backside has anything to do with the
disenchantment of the enchanted; it is like saying, ‘If your head aches
rub ointment on your knees;’ at any rate I’ll make bold to swear that
in all the histories dealing with knight-errantry that your worship has
read you have never come across anybody disenchanted by whipping; but
whether or no I’ll whip myself when I have a fancy for it, and the
opportunity serves for scourging myself comfortably.”

“God grant it,” said Don Quixote; “and heaven give thee grace to take
it to heart and own the obligation thou art under to help my lady, who
is thine also, inasmuch as thou art mine.”

As they pursued their journey talking in this way they came to the very
same spot where they had been trampled on by the bulls. Don Quixote
recognised it, and said he to Sancho, “This is the meadow where we came
upon those gay shepherdesses and gallant shepherds who were trying to
revive and imitate the pastoral Arcadia there, an idea as novel as it
was happy, in emulation whereof, if so be thou dost approve of it,
Sancho, I would have ourselves turn shepherds, at any rate for the time
I have to live in retirement. I will buy some ewes and everything else
requisite for the pastoral calling; and, I under the name of the
shepherd Quixotize and thou as the shepherd Panzino, we will roam the
woods and groves and meadows singing songs here, lamenting in elegies
there, drinking of the crystal waters of the springs or limpid brooks
or flowing rivers. The oaks will yield us their sweet fruit with
bountiful hand, the trunks of the hard cork trees a seat, the willows
shade, the roses perfume, the widespread meadows carpets tinted with a
thousand dyes; the clear pure air will give us breath, the moon and
stars lighten the darkness of the night for us, song shall be our
delight, lamenting our joy, Apollo will supply us with verses, and love
with conceits whereby we shall make ourselves famed for ever, not only
in this but in ages to come.”

“Egad,” said Sancho, “but that sort of life squares, nay corners, with
my notions; and what is more the bachelor Samson Carrasco and Master
Nicholas the barber won’t have well seen it before they’ll want to
follow it and turn shepherds along with us; and God grant it may not
come into the curate’s head to join the sheepfold too, he’s so jovial
and fond of enjoying himself.”

“Thou art in the right of it, Sancho,” said Don Quixote; “and the
bachelor Samson Carrasco, if he enters the pastoral fraternity, as no
doubt he will, may call himself the shepherd Samsonino, or perhaps the
shepherd Carrascon; Nicholas the barber may call himself Niculoso, as
old Boscan formerly was called Nemoroso; as for the curate I don’t know
what name we can fit to him unless it be something derived from his
title, and we call him the shepherd Curiambro. For the shepherdesses
whose lovers we shall be, we can pick names as we would pears; and as
my lady’s name does just as well for a shepherdess’s as for a
princess’s, I need not trouble myself to look for one that will suit
her better; to thine, Sancho, thou canst give what name thou wilt.”

“I don’t mean to give her any but Teresona,” said Sancho, “which will
go well with her stoutness and with her own right name, as she is
called Teresa; and then when I sing her praises in my verses I’ll show
how chaste my passion is, for I’m not going to look ‘for better bread
than ever came from wheat’ in other men’s houses. It won’t do for the
curate to have a shepherdess, for the sake of good example; and if the
bachelor chooses to have one, that is his look-out.”

“God bless me, Sancho my friend!” said Don Quixote, “what a life we
shall lead! What hautboys and Zamora bagpipes we shall hear, what
tabors, timbrels, and rebecks! And then if among all these different
sorts of music that of the albogues is heard, almost all the pastoral
instruments will be there.”

“What are albogues?” asked Sancho, “for I never in my life heard tell
of them or saw them.”

“Albogues,” said Don Quixote, “are brass plates like candlesticks that
struck against one another on the hollow side make a noise which, if
not very pleasing or harmonious, is not disagreeable and accords very
well with the rude notes of the bagpipe and tabor. The word albogue is
Morisco, as are all those in our Spanish tongue that begin with _al;_
for example, _almohaza, almorzar, alhombra, alguacil, alhucema,
almacen, alcancia_, and others of the same sort, of which there are not
many more; our language has only three that are Morisco and end in _i_,
which are _borceguí, zaquizamí_, and _maravedí. Alhelí_ and _alfaquí_
are seen to be Arabic, as well by the _al_ at the beginning as by the
_í_ they end with. I mention this incidentally, the chance allusion to
albogues having reminded me of it; and it will be of great assistance
to us in the perfect practice of this calling that I am something of a
poet, as thou knowest, and that besides the bachelor Samson Carrasco is
an accomplished one. Of the curate I say nothing; but I will wager he
has some spice of the poet in him, and no doubt Master Nicholas too,
for all barbers, or most of them, are guitar players and stringers of
verses. I will bewail my separation; thou shalt glorify thyself as a
constant lover; the shepherd Carrascon will figure as a rejected one,
and the curate Curiambro as whatever may please him best; and so all
will go as gaily as heart could wish.”

To this Sancho made answer, “I am so unlucky, señor, that I’m afraid
the day will never come when I’ll see myself at such a calling. O what
neat spoons I’ll make when I’m a shepherd! What messes, creams,
garlands, pastoral odds and ends! And if they don’t get me a name for
wisdom, they’ll not fail to get me one for ingenuity. My daughter
Sanchica will bring us our dinner to the pasture. But stay—she’s
good-looking, and shepherds there are with more mischief than
simplicity in them; I would not have her ‘come for wool and go back
shorn;’ love-making and lawless desires are just as common in the
fields as in the cities, and in shepherds’ shanties as in royal
palaces; ‘do away with the cause, you do away with the sin;’ ‘if eyes
don’t see hearts don’t break’ and ‘better a clear escape than good
men’s prayers.’”

“A truce to thy proverbs, Sancho,” exclaimed Don Quixote; “any one of
those thou hast uttered would suffice to explain thy meaning; many a
time have I recommended thee not to be so lavish with proverbs and to
exercise some moderation in delivering them; but it seems to me it is
only ‘preaching in the desert;’ ‘my mother beats me and I go on with my
tricks.”

“It seems to me,” said Sancho, “that your worship is like the common
saying, ‘Said the frying-pan to the kettle, Get away, blackbreech.’ You
chide me for uttering proverbs, and you string them in couples
yourself.”

“Observe, Sancho,” replied Don Quixote, “I bring in proverbs to the
purpose, and when I quote them they fit like a ring to the finger; thou
bringest them in by the head and shoulders, in such a way that thou
dost drag them in, rather than introduce them; if I am not mistaken, I
have told thee already that proverbs are short maxims drawn from the
experience and observation of our wise men of old; but the proverb that
is not to the purpose is a piece of nonsense and not a maxim. But
enough of this; as nightfall is drawing on let us retire some little
distance from the high road to pass the night; what is in store for us
to-morrow God knoweth.”

They turned aside, and supped late and poorly, very much against
Sancho’s will, who turned over in his mind the hardships attendant upon
knight-errantry in woods and forests, even though at times plenty
presented itself in castles and houses, as at Don Diego de Miranda’s,
at the wedding of Camacho the Rich, and at Don Antonio Moreno’s; he
reflected, however, that it could not be always day, nor always night;
and so that night he passed in sleeping, and his master in waking.



p67e.jpg (55K)



CHAPTER LXVIII.
OF THE BRISTLY ADVENTURE THAT BEFELL DON QUIXOTE




p68a.jpg (119K)

Full Size



The night was somewhat dark, for though there was a moon in the sky it
was not in a quarter where she could be seen; for sometimes the lady
Diana goes on a stroll to the antipodes, and leaves the mountains all
black and the valleys in darkness. Don Quixote obeyed nature so far as
to sleep his first sleep, but did not give way to the second, very
different from Sancho, who never had any second, because with him sleep
lasted from night till morning, wherein he showed what a sound
constitution and few cares he had. Don Quixote’s cares kept him
restless, so much so that he awoke Sancho and said to him, “I am
amazed, Sancho, at the unconcern of thy temperament. I believe thou art
made of marble or hard brass, incapable of any emotion or feeling
whatever. I lie awake while thou sleepest, I weep while thou singest, I
am faint with fasting while thou art sluggish and torpid from pure
repletion. It is the duty of good servants to share the sufferings and
feel the sorrows of their masters, if it be only for the sake of
appearances. See the calmness of the night, the solitude of the spot,
inviting us to break our slumbers by a vigil of some sort. Rise as thou
livest, and retire a little distance, and with a good heart and
cheerful courage give thyself three or four hundred lashes on account
of Dulcinea’s disenchantment score; and this I entreat of thee, making
it a request, for I have no desire to come to grips with thee a second
time, as I know thou hast a heavy hand. As soon as thou hast laid them
on we will pass the rest of the night, I singing my separation, thou
thy constancy, making a beginning at once with the pastoral life we are
to follow at our village.”

“Señor,” replied Sancho, “I’m no monk to get up out of the middle of my
sleep and scourge myself, nor does it seem to me that one can pass from
one extreme of the pain of whipping to the other of music. Will your
worship let me sleep, and not worry me about whipping myself? or you’ll
make me swear never to touch a hair of my doublet, not to say my
flesh.”

“O hard heart!” said Don Quixote, “O pitiless squire! O bread
ill-bestowed and favours ill-acknowledged, both those I have done thee
and those I mean to do thee! Through me hast thou seen thyself a
governor, and through me thou seest thyself in immediate expectation of
being a count, or obtaining some other equivalent title, for I—_post
tenebras spero lucem_.”

“I don’t know what that is,” said Sancho; “all I know is that so long
as I am asleep I have neither fear nor hope, trouble nor glory; and
good luck betide him that invented sleep, the cloak that covers over
all a man’s thoughts, the food that removes hunger, the drink that
drives away thirst, the fire that warms the cold, the cold that tempers
the heat, and, to wind up with, the universal coin wherewith everything
is bought, the weight and balance that makes the shepherd equal with
the king and the fool with the wise man. Sleep, I have heard say, has
only one fault, that it is like death; for between a sleeping man and a
dead man there is very little difference.”

“Never have I heard thee speak so elegantly as now, Sancho,” said Don
Quixote; “and here I begin to see the truth of the proverb thou dost
sometimes quote, ‘Not with whom thou art bred, but with whom thou art
fed.’”

“Ha, by my life, master mine,” said Sancho, “it’s not I that am
stringing proverbs now, for they drop in pairs from your worship’s
mouth faster than from mine; only there is this difference between mine
and yours, that yours are well-timed and mine are untimely; but anyhow,
they are all proverbs.”

At this point they became aware of a harsh indistinct noise that seemed
to spread through all the valleys around. Don Quixote stood up and laid
his hand upon his sword, and Sancho ensconced himself under Dapple and
put the bundle of armour on one side of him and the ass’s pack-saddle
on the other, in fear and trembling as great as Don Quixote’s
perturbation. Each instant the noise increased and came nearer to the
two terrified men, or at least to one, for as to the other, his courage
is known to all. The fact of the matter was that some men were taking
above six hundred pigs to sell at a fair, and were on their way with
them at that hour, and so great was the noise they made and their
grunting and blowing, that they deafened the ears of Don Quixote and
Sancho Panza, and they could not make out what it was. The wide-spread
grunting drove came on in a surging mass, and without showing any
respect for Don Quixote’s dignity or Sancho’s, passed right over the
pair of them, demolishing Sancho’s entrenchments, and not only
upsetting Don Quixote but sweeping Rocinante off his feet into the
bargain; and what with the trampling and the grunting, and the pace at
which the unclean beasts went, pack-saddle, armour, Dapple and
Rocinante were left scattered on the ground and Sancho and Don Quixote
at their wits’ end.

Sancho got up as well as he could and begged his master to give him his
sword, saying he wanted to kill half a dozen of those dirty unmannerly
pigs, for he had by this time found out that that was what they were.

“Let them be, my friend,” said Don Quixote; “this insult is the penalty
of my sin; and it is the righteous chastisement of heaven that jackals
should devour a vanquished knight, and wasps sting him and pigs trample
him under foot.”

“I suppose it is the chastisement of heaven, too,” said Sancho, “that
flies should prick the squires of vanquished knights, and lice eat
them, and hunger assail them. If we squires were the sons of the
knights we serve, or their very near relations, it would be no wonder
if the penalty of their misdeeds overtook us, even to the fourth
generation. But what have the Panzas to do with the Quixotes? Well,
well, let’s lie down again and sleep out what little of the night
there’s left, and God will send us dawn and we shall be all right.”



p68b.jpg (345K)

Full Size



“Sleep thou, Sancho,” returned Don Quixote, “for thou wast born to
sleep as I was born to watch; and during the time it now wants of dawn
I will give a loose rein to my thoughts, and seek a vent for them in a
little madrigal which, unknown to thee, I composed in my head last
night.”

“I should think,” said Sancho, “that the thoughts that allow one to
make verses cannot be of great consequence; let your worship string
verses as much as you like and I’ll sleep as much as I can;” and
forthwith, taking the space of ground he required, he muffled himself
up and fell into a sound sleep, undisturbed by bond, debt, or trouble
of any sort. Don Quixote, propped up against the trunk of a beech or a
cork tree—for Cide Hamete does not specify what kind of tree it
was—sang in this strain to the accompaniment of his own sighs:

When in my mind
I muse, O Love, upon thy cruelty,
To death I flee,
In hope therein the end of all to find.

But drawing near
That welcome haven in my sea of woe,
Such joy I know,
That life revives, and still I linger here.

Thus life doth slay,
And death again to life restoreth me;
Strange destiny,
That deals with life and death as with a play!


He accompanied each verse with many sighs and not a few tears, just
like one whose heart was pierced with grief at his defeat and his
separation from Dulcinea.

And now daylight came, and the sun smote Sancho on the eyes with his
beams. He awoke, roused himself up, shook himself and stretched his
lazy limbs, and seeing the havoc the pigs had made with his stores he
cursed the drove, and more besides. Then the pair resumed their
journey, and as evening closed in they saw coming towards them some ten
men on horseback and four or five on foot. Don Quixote’s heart beat
quick and Sancho’s quailed with fear, for the persons approaching them
carried lances and bucklers, and were in very warlike guise. Don
Quixote turned to Sancho and said, “If I could make use of my weapons,
and my promise had not tied my hands, I would count this host that
comes against us but cakes and fancy bread; but perhaps it may prove
something different from what we apprehend.” The men on horseback now
came up, and raising their lances surrounded Don Quixote in silence,
and pointed them at his back and breast, menacing him with death. One
of those on foot, putting his finger to his lips as a sign to him to be
silent, seized Rocinante’s bridle and drew him out of the road, and the
others driving Sancho and Dapple before them, and all maintaining a
strange silence, followed in the steps of the one who led Don Quixote.
The latter two or three times attempted to ask where they were taking
him to and what they wanted, but the instant he began to open his lips
they threatened to close them with the points of their lances; and
Sancho fared the same way, for the moment he seemed about to speak one
of those on foot punched him with a goad, and Dapple likewise, as if he
too wanted to talk. Night set in, they quickened their pace, and the
fears of the two prisoners grew greater, especially as they heard
themselves assailed with—“Get on, ye Troglodytes;” “Silence, ye
barbarians;” “March, ye cannibals;” “No murmuring, ye Scythians;”
“Don’t open your eyes, ye murderous Polyphemes, ye blood-thirsty
lions,” and suchlike names with which their captors harassed the ears
of the wretched master and man. Sancho went along saying to himself,
“We, tortolites, barbers, animals! I don’t like those names at all;
‘it’s in a bad wind our corn is being winnowed;’ ‘misfortune comes upon
us all at once like sticks on a dog,’ and God grant it may be no worse
than them that this unlucky adventure has in store for us.”

Don Quixote rode completely dazed, unable with the aid of all his wits
to make out what could be the meaning of these abusive names they
called them, and the only conclusion he could arrive at was that there
was no good to be hoped for and much evil to be feared. And now, about
an hour after midnight, they reached a castle which Don Quixote saw at
once was the duke’s, where they had been but a short time before. “God
bless me!” said he, as he recognised the mansion, “what does this mean?
It is all courtesy and politeness in this house; but with the
vanquished good turns into evil, and evil into worse.”

They entered the chief court of the castle and found it prepared and
fitted up in a style that added to their amazement and doubled their
fears, as will be seen in the following chapter.



p68e.jpg (49K)



CHAPTER LXIX.
OF THE STRANGEST AND MOST EXTRAORDINARY ADVENTURE THAT BEFELL DON
QUIXOTE IN THE WHOLE COURSE OF THIS GREAT HISTORY




p69a.jpg (141K)

Full Size



The horsemen dismounted, and, together with the men on foot, without a
moment’s delay taking up Sancho and Don Quixote bodily, they carried
them into the court, all round which near a hundred torches fixed in
sockets were burning, besides above five hundred lamps in the
corridors, so that in spite of the night, which was somewhat dark, the
want of daylight could not be perceived. In the middle of the court was
a catafalque, raised about two yards above the ground and covered
completely by an immense canopy of black velvet, and on the steps all
round it white wax tapers burned in more than a hundred silver
candlesticks. Upon the catafalque was seen the dead body of a damsel so
lovely that by her beauty she made death itself look beautiful. She lay
with her head resting upon a cushion of brocade and crowned with a
garland of sweet-smelling flowers of divers sorts, her hands crossed
upon her bosom, and between them a branch of yellow palm of victory. On
one side of the court was erected a stage, where upon two chairs were
seated two persons who from having crowns on their heads and sceptres
in their hands appeared to be kings of some sort, whether real or mock
ones. By the side of this stage, which was reached by steps, were two
other chairs on which the men carrying the prisoners seated Don Quixote
and Sancho, all in silence, and by signs giving them to understand that
they too were to be silent; which, however, they would have been
without any signs, for their amazement at all they saw held them
tongue-tied. And now two persons of distinction, who were at once
recognised by Don Quixote as his hosts the duke and duchess, ascended
the stage attended by a numerous suite, and seated themselves on two
gorgeous chairs close to the two kings, as they seemed to be. Who would
not have been amazed at this? Nor was this all, for Don Quixote had
perceived that the dead body on the catafalque was that of the fair
Altisidora. As the duke and duchess mounted the stage Don Quixote and
Sancho rose and made them a profound obeisance, which they returned by
bowing their heads slightly. At this moment an official crossed over,
and approaching Sancho threw over him a robe of black buckram painted
all over with flames of fire, and taking off his cap put upon his head
a mitre such as those undergoing the sentence of the Holy Office wear;
and whispered in his ear that he must not open his lips, or they would
put a gag upon him, or take his life. Sancho surveyed himself from head
to foot and saw himself all ablaze with flames; but as they did not
burn him, he did not care two farthings for them. He took off the mitre
and seeing it painted with devils he put it on again, saying to
himself, “Well, so far those don’t burn me nor do these carry me off.”
Don Quixote surveyed him too, and though fear had got the better of his
faculties, he could not help smiling to see the figure Sancho
presented. And now from underneath the catafalque, so it seemed, there
rose a low sweet sound of flutes, which, coming unbroken by human voice
(for there silence itself kept silence), had a soft and languishing
effect. Then, beside the pillow of what seemed to be the dead body,
suddenly appeared a fair youth in a Roman habit, who, to the
accompaniment of a harp which he himself played, sang in a sweet and
clear voice these two stanzas:

While fair Altisidora, who the sport
Of cold Don Quixote’s cruelty hath been,
Returns to life, and in this magic court
The dames in sables come to grace the scene,
And while her matrons all in seemly sort
My lady robes in baize and bombazine,
Her beauty and her sorrows will I sing
With defter quill than touched the Thracian string.

But not in life alone, methinks, to me
Belongs the office; Lady, when my tongue
Is cold in death, believe me, unto thee
My voice shall raise its tributary song.
My soul, from this strait prison-house set free,
As o’er the Stygian lake it floats along,
Thy praises singing still shall hold its way,
And make the waters of oblivion stay.


At this point one of the two that looked like kings exclaimed, “Enough,
enough, divine singer! It would be an endless task to put before us now
the death and the charms of the peerless Altisidora, not dead as the
ignorant world imagines, but living in the voice of fame and in the
penance which Sancho Panza, here present, has to undergo to restore her
to the long-lost light. Do thou, therefore, O Rhadamanthus, who sittest
in judgment with me in the murky caverns of Dis, as thou knowest all
that the inscrutable fates have decreed touching the resuscitation of
this damsel, announce and declare it at once, that the happiness we
look forward to from her restoration be no longer deferred.”

No sooner had Minos the fellow judge of Rhadamanthus said this, than
Rhadamanthus rising up said:

“Ho, officials of this house, high and low, great and small, make haste
hither one and all, and print on Sancho’s face four-and-twenty smacks,
and give him twelve pinches and six pin thrusts in the back and arms;
for upon this ceremony depends the restoration of Altisidora.”

On hearing this Sancho broke silence and cried out, “By all that’s
good, I’ll as soon let my face be smacked or handled as turn Moor. Body
o’ me! What has handling my face got to do with the resurrection of
this damsel? ‘The old woman took kindly to the blits; they enchant
Dulcinea, and whip me in order to disenchant her; Altisidora dies of
ailments God was pleased to send her, and to bring her to life again
they must give me four-and-twenty smacks, and prick holes in my body
with pins, and raise weals on my arms with pinches! Try those jokes on
a brother-in-law; ‘I’m an old dog, and “tus, tus” is no use with me.’”

“Thou shalt die,” said Rhadamanthus in a loud voice; “relent, thou
tiger; humble thyself, proud Nimrod; suffer and he silent, for no
impossibilities are asked of thee; it is not for thee to inquire into
the difficulties in this matter; smacked thou must be, pricked thou
shalt see thyself, and with pinches thou must be made to howl. Ho, I
say, officials, obey my orders; or by the word of an honest man, ye
shall see what ye were born for.”

At this some six duennas, advancing across the court, made their
appearance in procession, one after the other, four of them with
spectacles, and all with their right hands uplifted, showing four
fingers of wrist to make their hands look longer, as is the fashion
now-a-days. No sooner had Sancho caught sight of them than, bellowing
like a bull, he exclaimed, “I might let myself be handled by all the
world; but allow duennas to touch me—not a bit of it! Scratch my face,
as my master was served in this very castle; run me through the body
with burnished daggers; pinch my arms with red-hot pincers; I’ll bear
all in patience to serve these gentlefolk; but I won’t let duennas
touch me, though the devil should carry me off!”

Here Don Quixote, too, broke silence, saying to Sancho, “Have patience,
my son, and gratify these noble persons, and give all thanks to heaven
that it has infused such virtue into thy person, that by its sufferings
thou canst disenchant the enchanted and restore to life the dead.”

The duennas were now close to Sancho, and he, having become more
tractable and reasonable, settling himself well in his chair presented
his face and beard to the first, who delivered him a smack very stoutly
laid on, and then made him a low curtsey.

“Less politeness and less paint, señora duenna,” said Sancho; “by God
your hands smell of vinegar-wash.”

In line, all the duennas smacked him and several others of the
household pinched him; but what he could not stand was being pricked by
the pins; and so, apparently out of patience, he started up out of his
chair, and seizing a lighted torch that stood near him fell upon the
duennas and the whole set of his tormentors, exclaiming, “Begone, ye
ministers of hell; I’m not made of brass not to feel such
out-of-the-way tortures.”

At this instant Altisidora, who probably was tired of having been so
long lying on her back, turned on her side; seeing which the bystanders
cried out almost with one voice, “Altisidora is alive! Altisidora
lives!”

Rhadamanthus bade Sancho put away his wrath, as the object they had in
view was now attained. When Don Quixote saw Altisidora move, he went on
his knees to Sancho saying to him, “Now is the time, son of my bowels,
not to call thee my squire, for thee to give thyself some of those
lashes thou art bound to lay on for the disenchantment of Dulcinea.
Now, I say, is the time when the virtue that is in thee is ripe, and
endowed with efficacy to work the good that is looked for from thee.”

To which Sancho made answer, “That’s trick upon trick, I think, and not
honey upon pancakes; a nice thing it would be for a whipping to come
now, on the top of pinches, smacks, and pin-proddings! You had better
take a big stone and tie it round my neck, and pitch me into a well; I
should not mind it much, if I’m to be always made the cow of the
wedding for the cure of other people’s ailments. Leave me alone; or
else by God I’ll fling the whole thing to the dogs, let come what may.”

Altisidora had by this time sat up on the catafalque, and as she did so
the clarions sounded, accompanied by the flutes, and the voices of all
present exclaiming, “Long life to Altisidora! long life to Altisidora!”
The duke and duchess and the kings Minos and Rhadamanthus stood up, and
all, together with Don Quixote and Sancho, advanced to receive her and
take her down from the catafalque; and she, making as though she were
recovering from a swoon, bowed her head to the duke and duchess and to
the kings, and looking sideways at Don Quixote, said to him, “God
forgive thee, insensible knight, for through thy cruelty I have been,
to me it seems, more than a thousand years in the other world; and to
thee, the most compassionate upon earth, I render thanks for the life I
am now in possession of. From this day forth, friend Sancho, count as
thine six smocks of mine which I bestow upon thee, to make as many
shirts for thyself, and if they are not all quite whole, at any rate
they are all clean.”

Sancho kissed her hands in gratitude, kneeling, and with the mitre in
his hand. The duke bade them take it from him, and give him back his
cap and doublet and remove the flaming robe. Sancho begged the duke to
let them leave him the robe and mitre; as he wanted to take them home
for a token and memento of that unexampled adventure. The duchess said
they must leave them with him; for he knew already what a great friend
of his she was. The duke then gave orders that the court should be
cleared, and that all should retire to their chambers, and that Don
Quixote and Sancho should be conducted to their old quarters.



p69e.jpg (60K)



CHAPTER LXX.
WHICH FOLLOWS SIXTY-NINE AND DEALS WITH MATTERS INDISPENSABLE FOR THE
CLEAR COMPREHENSION OF THIS HISTORY




p70a.jpg (131K)

Full Size



Sancho slept that night in a cot in the same chamber with Don Quixote,
a thing he would have gladly excused if he could for he knew very well
that with questions and answers his master would not let him sleep, and
he was in no humour for talking much, as he still felt the pain of his
late martyrdom, which interfered with his freedom of speech; and it
would have been more to his taste to sleep in a hovel alone, than in
that luxurious chamber in company. And so well founded did his
apprehension prove, and so correct was his anticipation, that scarcely
had his master got into bed when he said, “What dost thou think of
to-night’s adventure, Sancho? Great and mighty is the power of
cold-hearted scorn, for thou with thine own eyes hast seen Altisidora
slain, not by arrows, nor by the sword, nor by any warlike weapon, nor
by deadly poisons, but by the thought of the sternness and scorn with
which I have always treated her.”

“She might have died and welcome,” said Sancho, “when she pleased and
how she pleased; and she might have left me alone, for I never made her
fall in love or scorned her. I don’t know nor can I imagine how the
recovery of Altisidora, a damsel more fanciful than wise, can have, as
I have said before, anything to do with the sufferings of Sancho Panza.
Now I begin to see plainly and clearly that there are enchanters and
enchanted people in the world; and may God deliver me from them, since
I can’t deliver myself; and so I beg of your worship to let me sleep
and not ask me any more questions, unless you want me to throw myself
out of the window.”

“Sleep, Sancho my friend,” said Don Quixote, “if the pinprodding and
pinches thou hast received and the smacks administered to thee will let
thee.”

“No pain came up to the insult of the smacks,” said Sancho, “for the
simple reason that it was duennas, confound them, that gave them to me;
but once more I entreat your worship to let me sleep, for sleep is
relief from misery to those who are miserable when awake.”

“Be it so, and God be with thee,” said Don Quixote.

They fell asleep, both of them, and Cide Hamete, the author of this
great history, took this opportunity to record and relate what it was
that induced the duke and duchess to get up the elaborate plot that has
been described. The bachelor Samson Carrasco, he says, not forgetting
how he as the Knight of the Mirrors had been vanquished and overthrown
by Don Quixote, which defeat and overthrow upset all his plans,
resolved to try his hand again, hoping for better luck than he had
before; and so, having learned where Don Quixote was from the page who
brought the letter and present to Sancho’s wife, Teresa Panza, he got
himself new armour and another horse, and put a white moon upon his
shield, and to carry his arms he had a mule led by a peasant, not by
Tom Cecial his former squire for fear he should be recognised by Sancho
or Don Quixote. He came to the duke’s castle, and the duke informed him
of the road and route Don Quixote had taken with the intention of being
present at the jousts at Saragossa. He told him, too, of the jokes he
had practised upon him, and of the device for the disenchantment of
Dulcinea at the expense of Sancho’s backside; and finally he gave him
an account of the trick Sancho had played upon his master, making him
believe that Dulcinea was enchanted and turned into a country wench;
and of how the duchess, his wife, had persuaded Sancho that it was he
himself who was deceived, inasmuch as Dulcinea was really enchanted; at
which the bachelor laughed not a little, and marvelled as well at the
sharpness and simplicity of Sancho as at the length to which Don
Quixote’s madness went. The duke begged of him if he found him (whether
he overcame him or not) to return that way and let him know the result.
This the bachelor did; he set out in quest of Don Quixote, and not
finding him at Saragossa, he went on, and how he fared has been already
told. He returned to the duke’s castle and told him all, what the
conditions of the combat were, and how Don Quixote was now, like a
loyal knight-errant, returning to keep his promise of retiring to his
village for a year, by which time, said the bachelor, he might perhaps
be cured of his madness; for that was the object that had led him to
adopt these disguises, as it was a sad thing for a gentleman of such
good parts as Don Quixote to be a madman. And so he took his leave of
the duke, and went home to his village to wait there for Don Quixote,
who was coming after him. Thereupon the duke seized the opportunity of
practising this mystification upon him; so much did he enjoy everything
connected with Sancho and Don Quixote. He had the roads about the
castle far and near, everywhere he thought Don Quixote was likely to
pass on his return, occupied by large numbers of his servants on foot
and on horseback, who were to bring him to the castle, by fair means or
foul, if they met him. They did meet him, and sent word to the duke,
who, having already settled what was to be done, as soon as he heard of
his arrival, ordered the torches and lamps in the court to be lit and
Altisidora to be placed on the catafalque with all the pomp and
ceremony that has been described, the whole affair being so well
arranged and acted that it differed but little from reality. And Cide
Hamete says, moreover, that for his part he considers the concocters of
the joke as crazy as the victims of it, and that the duke and duchess
were not two fingers’ breadth removed from being something like fools
themselves when they took such pains to make game of a pair of fools.

As for the latter, one was sleeping soundly and the other lying awake
occupied with his desultory thoughts, when daylight came to them
bringing with it the desire to rise; for the lazy down was never a
delight to Don Quixote, victor or vanquished. Altisidora, come back
from death to life as Don Quixote fancied, following up the freak of
her lord and lady, entered the chamber, crowned with the garland she
had worn on the catafalque and in a robe of white taffeta embroidered
with gold flowers, her hair flowing loose over her shoulders, and
leaning upon a staff of fine black ebony. Don Quixote, disconcerted and
in confusion at her appearance, huddled himself up and well-nigh
covered himself altogether with the sheets and counterpane of the bed,
tongue-tied, and unable to offer her any civility. Altisidora seated
herself on a chair at the head of the bed, and, after a deep sigh, said
to him in a feeble, soft voice, “When women of rank and modest maidens
trample honour under foot, and give a loose to the tongue that breaks
through every impediment, publishing abroad the inmost secrets of their
hearts, they are reduced to sore extremities. Such a one am I, Señor
Don Quixote of La Mancha, crushed, conquered, love-smitten, but yet
patient under suffering and virtuous, and so much so that my heart
broke with grief and I lost my life. For the last two days I have been
dead, slain by the thought of the cruelty with which thou hast treated
me, obdurate knight,

O harder thou than marble to my plaint;


or at least believed to be dead by all who saw me; and had it not been
that Love, taking pity on me, let my recovery rest upon the sufferings
of this good squire, there I should have remained in the other world.”

“Love might very well have let it rest upon the sufferings of my ass,
and I should have been obliged to him,” said Sancho. “But tell me,
señora—and may heaven send you a tenderer lover than my master—what did
you see in the other world? What goes on in hell? For of course that’s
where one who dies in despair is bound for.”

“To tell you the truth,” said Altisidora, “I cannot have died outright,
for I did not go into hell; had I gone in, it is very certain I should
never have come out again, do what I might. The truth is, I came to the
gate, where some dozen or so of devils were playing tennis, all in
breeches and doublets, with falling collars trimmed with Flemish
bonelace, and ruffles of the same that served them for wristbands, with
four fingers’ breadth of the arms exposed to make their hands look
longer; in their hands they held rackets of fire; but what amazed me
still more was that books, apparently full of wind and rubbish, served
them for tennis balls, a strange and marvellous thing; this, however,
did not astonish me so much as to observe that, although with players
it is usual for the winners to be glad and the losers sorry, there in
that game all were growling, all were snarling, and all were cursing
one another.” “That’s no wonder,” said Sancho; “for devils, whether
playing or not, can never be content, win or lose.”

“Very likely,” said Altisidora; “but there is another thing that
surprises me too, I mean surprised me then, and that was that no ball
outlasted the first throw or was of any use a second time; and it was
wonderful the constant succession there was of books, new and old. To
one of them, a brand-new, well-bound one, they gave such a stroke that
they knocked the guts out of it and scattered the leaves about. ‘Look
what book that is,’ said one devil to another, and the other replied,
‘It is the “Second Part of the History of Don Quixote of La Mancha,”
not by Cide Hamete, the original author, but by an Aragonese who by his
own account is of Tordesillas.’ ‘Out of this with it,’ said the first,
‘and into the depths of hell with it out of my sight.’ ‘Is it so bad?’
said the other. ‘So bad is it,’ said the first, ‘that if I had set
myself deliberately to make a worse, I could not have done it.’ They
then went on with their game, knocking other books about; and I, having
heard them mention the name of Don Quixote whom I love and adore so,
took care to retain this vision in my memory.”

“A vision it must have been, no doubt,” said Don Quixote, “for there is
no other I in the world; this history has been going about here for
some time from hand to hand, but it does not stay long in any, for
everybody gives it a taste of his foot. I am not disturbed by hearing
that I am wandering in a fantastic shape in the darkness of the pit or
in the daylight above, for I am not the one that history treats of. If
it should be good, faithful, and true, it will have ages of life; but
if it should be bad, from its birth to its burial will not be a very
long journey.”

Altisidora was about to proceed with her complaint against Don Quixote,
when he said to her, “I have several times told you, señora that it
grieves me you should have set your affections upon me, as from mine
they can only receive gratitude, but no return. I was born to belong to
Dulcinea del Toboso, and the fates, if there are any, dedicated me to
her; and to suppose that any other beauty can take the place she
occupies in my heart is to suppose an impossibility. This frank
declaration should suffice to make you retire within the bounds of your
modesty, for no one can bind himself to do impossibilities.”

Hearing this, Altisidora, with a show of anger and agitation,
exclaimed, “God’s life! Don Stockfish, soul of a mortar, stone of a
date, more obstinate and obdurate than a clown asked a favour when he
has his mind made up, if I fall upon you I’ll tear your eyes out! Do
you fancy, Don Vanquished, Don Cudgelled, that I died for your sake?
All that you have seen to-night has been make-believe; I’m not the
woman to let the black of my nail suffer for such a camel, much less
die!”

“That I can well believe,” said Sancho; “for all that about lovers
pining to death is absurd; they may talk of it, but as for doing
it—Judas may believe that!”

While they were talking, the musician, singer, and poet, who had sung
the two stanzas given above came in, and making a profound obeisance to
Don Quixote said, “Will your worship, sir knight, reckon and retain me
in the number of your most faithful servants, for I have long been a
great admirer of yours, as well because of your fame as because of your
achievements?” “Will your worship tell me who you are,” replied Don
Quixote, “so that my courtesy may be answerable to your deserts?” The
young man replied that he was the musician and songster of the night
before. “Of a truth,” said Don Quixote, “your worship has a most
excellent voice; but what you sang did not seem to me very much to the
purpose; for what have Garcilasso’s stanzas to do with the death of
this lady?”

“Don’t be surprised at that,” returned the musician; “for with the
callow poets of our day the way is for every one to write as he pleases
and pilfer where he chooses, whether it be germane to the matter or
not, and now-a-days there is no piece of silliness they can sing or
write that is not set down to poetic licence.”

Don Quixote was about to reply, but was prevented by the duke and
duchess, who came in to see him, and with them there followed a long
and delightful conversation, in the course of which Sancho said so many
droll and saucy things that he left the duke and duchess wondering not
only at his simplicity but at his sharpness. Don Quixote begged their
permission to take his departure that same day, inasmuch as for a
vanquished knight like himself it was fitter he should live in a
pig-sty than in a royal palace. They gave it very readily, and the
duchess asked him if Altisidora was in his good graces.

He replied, “Señora, let me tell your ladyship that this damsel’s
ailment comes entirely of idleness, and the cure for it is honest and
constant employment. She herself has told me that lace is worn in hell;
and as she must know how to make it, let it never be out of her hands;
for when she is occupied in shifting the bobbins to and fro, the image
or images of what she loves will not shift to and fro in her thoughts;
this is the truth, this is my opinion, and this is my advice.”

“And mine,” added Sancho; “for I never in all my life saw a lace-maker
that died for love; when damsels are at work their minds are more set
on finishing their tasks than on thinking of their loves. I speak from
my own experience; for when I’m digging I never think of my old woman;
I mean my Teresa Panza, whom I love better than my own eyelids.” “You
say well, Sancho,” said the duchess, “and I will take care that my
Altisidora employs herself henceforward in needlework of some sort; for
she is extremely expert at it.” “There is no occasion to have recourse
to that remedy, señora,” said Altisidora; “for the mere thought of the
cruelty with which this vagabond villain has treated me will suffice to
blot him out of my memory without any other device; with your
highness’s leave I will retire, not to have before my eyes, I won’t say
his rueful countenance, but his abominable, ugly looks.” “That reminds
me of the common saying, that ‘he that rails is ready to forgive,’”
said the duke.

Altisidora then, pretending to wipe away her tears with a handkerchief,
made an obeisance to her master and mistress and quitted the room.

“Ill luck betide thee, poor damsel,” said Sancho, “ill luck betide
thee! Thou hast fallen in with a soul as dry as a rush and a heart as
hard as oak; had it been me, i’faith ‘another cock would have crowed to
thee.’”

So the conversation came to an end, and Don Quixote dressed himself and
dined with the duke and duchess, and set out the same evening.



p70e.jpg (73K)

Full Size



CHAPTER LXXI.
OF WHAT PASSED BETWEEN DON QUIXOTE AND HIS SQUIRE SANCHO ON THE WAY TO
THEIR VILLAGE




p71a.jpg (82K)

Full Size



The vanquished and afflicted Don Quixote went along very downcast in
one respect and very happy in another. His sadness arose from his
defeat, and his satisfaction from the thought of the virtue that lay in
Sancho, as had been proved by the resurrection of Altisidora; though it
was with difficulty he could persuade himself that the love-smitten
damsel had been really dead. Sancho went along anything but cheerful,
for it grieved him that Altisidora had not kept her promise of giving
him the smocks; and turning this over in his mind he said to his
master, “Surely, señor, I’m the most unlucky doctor in the world;
there’s many a physician that, after killing the sick man he had to
cure, requires to be paid for his work, though it is only signing a bit
of a list of medicines, that the apothecary and not he makes up, and,
there, his labour is over; but with me though to cure somebody else
costs me drops of blood, smacks, pinches, pinproddings, and whippings,
nobody gives me a farthing. Well, I swear by all that’s good if they
put another patient into my hands, they’ll have to grease them for me
before I cure him; for, as they say, ‘it’s by his singing the abbot
gets his dinner,’ and I’m not going to believe that heaven has bestowed
upon me the virtue I have, that I should be dealing it out to others
all for nothing.”

“Thou art right, Sancho my friend,” said Don Quixote, “and Altisidora
has behaved very badly in not giving thee the smocks she promised; and
although that virtue of thine is _gratis data_—as it has cost thee no
study whatever, any more than such study as thy personal sufferings may
be—I can say for myself that if thou wouldst have payment for the
lashes on account of the disenchant of Dulcinea, I would have given it
to thee freely ere this. I am not sure, however, whether payment will
comport with the cure, and I would not have the reward interfere with
the medicine. I think there will be nothing lost by trying it; consider
how much thou wouldst have, Sancho, and whip thyself at once, and pay
thyself down with thine own hand, as thou hast money of mine.”

At this proposal Sancho opened his eyes and his ears a palm’s breadth
wide, and in his heart very readily acquiesced in whipping himself, and
said he to his master, “Very well then, señor, I’ll hold myself in
readiness to gratify your worship’s wishes if I’m to profit by it; for
the love of my wife and children forces me to seem grasping. Let your
worship say how much you will pay me for each lash I give myself.”

“If Sancho,” replied Don Quixote, “I were to requite thee as the
importance and nature of the cure deserves, the treasures of Venice,
the mines of Potosi, would be insufficient to pay thee. See what thou
hast of mine, and put a price on each lash.”

“Of them,” said Sancho, “there are three thousand three hundred and
odd; of these I have given myself five, the rest remain; let the five
go for the odd ones, and let us take the three thousand three hundred,
which at a quarter real apiece (for I will not take less though the
whole world should bid me) make three thousand three hundred quarter
reals; the three thousand are one thousand five hundred half reals,
which make seven hundred and fifty reals; and the three hundred make a
hundred and fifty half reals, which come to seventy-five reals, which
added to the seven hundred and fifty make eight hundred and twenty-five
reals in all. These I will stop out of what I have belonging to your
worship, and I’ll return home rich and content, though well whipped,
for ‘there’s no taking trout’—but I say no more.”

“O blessed Sancho! O dear Sancho!” said Don Quixote; “how we shall be
bound to serve thee, Dulcinea and I, all the days of our lives that
heaven may grant us! If she returns to her lost shape (and it cannot be
but that she will) her misfortune will have been good fortune, and my
defeat a most happy triumph. But look here, Sancho; when wilt thou
begin the scourging? For if thou wilt make short work of it, I will
give thee a hundred reals over and above.”

“When?” said Sancho; “this night without fail. Let your worship order
it so that we pass it out of doors and in the open air, and I’ll
scarify myself.”

Night, longed for by Don Quixote with the greatest anxiety in the
world, came at last, though it seemed to him that the wheels of
Apollo’s car had broken down, and that the day was drawing itself out
longer than usual, just as is the case with lovers, who never make the
reckoning of their desires agree with time. They made their way at
length in among some pleasant trees that stood a little distance from
the road, and there vacating Rocinante’s saddle and Dapple’s
pack-saddle, they stretched themselves on the green grass and made
their supper off Sancho’s stores, and he making a powerful and flexible
whip out of Dapple’s halter and headstall retreated about twenty paces
from his master among some beech trees. Don Quixote seeing him march
off with such resolution and spirit, said to him, “Take care, my
friend, not to cut thyself to pieces; allow the lashes to wait for one
another, and do not be in so great a hurry as to run thyself out of
breath midway; I mean, do not lay on so strenuously as to make thy life
fail thee before thou hast reached the desired number; and that thou
mayest not lose by a card too much or too little, I will station myself
apart and count on my rosary here the lashes thou givest thyself. May
heaven help thee as thy good intention deserves.”

“‘Pledges don’t distress a good payer,’” said Sancho; “I mean to lay on
in such a way as without killing myself to hurt myself, for in that, no
doubt, lies the essence of this miracle.”

He then stripped himself from the waist upwards, and snatching up the
rope he began to lay on and Don Quixote to count the lashes. He might
have given himself six or eight when he began to think the joke no
trifle, and its price very low; and holding his hand for a moment, he
told his master that he cried off on the score of a blind bargain, for
each of those lashes ought to be paid for at the rate of half a real
instead of a quarter.

“Go on, Sancho my friend, and be not disheartened,” said Don Quixote;
“for I double the stakes as to price.”

“In that case,” said Sancho, “in God’s hand be it, and let it rain
lashes.” But the rogue no longer laid them on his shoulders, but laid
on to the trees, with such groans every now and then, that one would
have thought at each of them his soul was being plucked up by the
roots. Don Quixote, touched to the heart, and fearing he might make an
end of himself, and that through Sancho’s imprudence he might miss his
own object, said to him, “As thou livest, my friend, let the matter
rest where it is, for the remedy seems to me a very rough one, and it
will be well to have patience; ‘Zamora was not won in an hour.’ If I
have not reckoned wrong thou hast given thyself over a thousand lashes;
that is enough for the present; ‘for the ass,’ to put it in homely
phrase, ‘bears the load, but not the overload.’”

“No, no, señor,” replied Sancho; “it shall never be said of me, ‘The
money paid, the arms broken;’ go back a little further, your worship,
and let me give myself at any rate a thousand lashes more; for in a
couple of bouts like this we shall have finished off the lot, and there
will be even cloth to spare.”

“As thou art in such a willing mood,” said Don Quixote, “may heaven aid
thee; lay on and I’ll retire.”

Sancho returned to his task with so much resolution that he soon had
the bark stripped off several trees, such was the severity with which
he whipped himself; and one time, raising his voice, and giving a beech
a tremendous lash, he cried out, “Here dies Samson, and all with him!”



p71b.jpg (349K)

Full Size



At the sound of his piteous cry and of the stroke of the cruel lash,
Don Quixote ran to him at once, and seizing the twisted halter that
served him for a courbash, said to him, “Heaven forbid, Sancho my
friend, that to please me thou shouldst lose thy life, which is needed
for the support of thy wife and children; let Dulcinea wait for a
better opportunity, and I will content myself with a hope soon to be
realised, and have patience until thou hast gained fresh strength so as
to finish off this business to the satisfaction of everybody.”

“As your worship will have it so, señor,” said Sancho, “so be it; but
throw your cloak over my shoulders, for I’m sweating and I don’t want
to take cold; it’s a risk that novice disciplinants run.”

Don Quixote obeyed, and stripping himself covered Sancho, who slept
until the sun woke him; they then resumed their journey, which for the
time being they brought to an end at a village that lay three leagues
farther on. They dismounted at a hostelry which Don Quixote recognised
as such and did not take to be a castle with moat, turrets, portcullis,
and drawbridge; for ever since he had been vanquished he talked more
rationally about everything, as will be shown presently. They quartered
him in a room on the ground floor, where in place of leather hangings
there were pieces of painted serge such as they commonly use in
villages. On one of them was painted by some very poor hand the Rape of
Helen, when the bold guest carried her off from Menelaus, and on the
other was the story of Dido and Æneas, she on a high tower, as though
she were making signals with a half sheet to her fugitive guest who was
out at sea flying in a frigate or brigantine. He noticed in the two
stories that Helen did not go very reluctantly, for she was laughing
slyly and roguishly; but the fair Dido was shown dropping tears the
size of walnuts from her eyes. Don Quixote as he looked at them
observed, “Those two ladies were very unfortunate not to have been born
in this age, and I unfortunate above all men not to have been born in
theirs. Had I fallen in with those gentlemen, Troy would not have been
burned or Carthage destroyed, for it would have been only for me to
slay Paris, and all these misfortunes would have been avoided.”

“I’ll lay a bet,” said Sancho, “that before long there won’t be a
tavern, roadside inn, hostelry, or barber’s shop where the story of our
doings won’t be painted up; but I’d like it painted by the hand of a
better painter than painted these.”

“Thou art right, Sancho,” said Don Quixote, “for this painter is like
Orbaneja, a painter there was at Úbeda, who when they asked him what he
was painting, used to say, ‘Whatever it may turn out; and if he chanced
to paint a cock he would write under it, ‘This is a cock,’ for fear
they might think it was a fox. The painter or writer, for it’s all the
same, who published the history of this new Don Quixote that has come
out, must have been one of this sort I think, Sancho, for he painted or
wrote ‘whatever it might turn out;’ or perhaps he is like a poet called
Mauleon that was about the Court some years ago, who used to answer at
haphazard whatever he was asked, and on one asking him what _Deum de
Deo_ meant, he replied _Dé donde diere_. But, putting this aside, tell
me, Sancho, hast thou a mind to have another turn at thyself to-night,
and wouldst thou rather have it indoors or in the open air?”

“Egad, señor,” said Sancho, “for what I’m going to give myself, it
comes all the same to me whether it is in a house or in the fields;
still I’d like it to be among trees; for I think they are company for
me and help me to bear my pain wonderfully.”

“And yet it must not be, Sancho my friend,” said Don Quixote; “but, to
enable thee to recover strength, we must keep it for our own village;
for at the latest we shall get there the day after to-morrow.”

Sancho said he might do as he pleased; but that for his own part he
would like to finish off the business quickly before his blood cooled
and while he had an appetite, because “in delay there is apt to be
danger” very often, and “praying to God and plying the hammer,” and
“one take was better than two I’ll give thee’s,” and “a sparrow in the
hand than a vulture on the wing.”

“For God’s sake, Sancho, no more proverbs!” exclaimed Don Quixote; “it
seems to me thou art becoming _sicut erat_ again; speak in a plain,
simple, straight-forward way, as I have often told thee, and thou wilt
find the good of it.”

“I don’t know what bad luck it is of mine,” said Sancho, “but I can’t
utter a word without a proverb that is not as good as an argument to my
mind; however, I mean to mend if I can;” and so for the present the
conversation ended.



p71e.jpg (42K)



CHAPTER LXXII.
OF HOW DON QUIXOTE AND SANCHO REACHED THEIR VILLAGE




p72a.jpg (155K)

Full Size



All that day Don Quixote and Sancho remained in the village and inn
waiting for night, the one to finish off his task of scourging in the
open country, the other to see it accomplished, for therein lay the
accomplishment of his wishes. Meanwhile there arrived at the hostelry a
traveller on horseback with three or four servants, one of whom said to
him who appeared to be the master, “Here, Señor Don Álvaro Tarfe, your
worship may take your siesta to-day; the quarters seem clean and cool.”

When he heard this Don Quixote said to Sancho, “Look here, Sancho; on
turning over the leaves of that book of the Second Part of my history I
think I came casually upon this name of Don Álvaro Tarfe.”

“Very likely,” said Sancho; “we had better let him dismount, and
by-and-by we can ask about it.”

The gentleman dismounted, and the landlady gave him a room on the
ground floor opposite Don Quixote’s and adorned with painted serge
hangings of the same sort. The newly arrived gentleman put on a summer
coat, and coming out to the gateway of the hostelry, which was wide and
cool, addressing Don Quixote, who was pacing up and down there, he
asked, “In what direction is your worship bound, gentle sir?”

“To a village near this which is my own village,” replied Don Quixote;
“and your worship, where are you bound for?”

“I am going to Granada, señor,” said the gentleman, “to my own
country.”

“And a goodly country,” said Don Quixote; “but will your worship do me
the favour of telling me your name, for it strikes me it is of more
importance to me to know it than I can tell you.”

“My name is Don Álvaro Tarfe,” replied the traveller.

To which Don Quixote returned, “I have no doubt whatever that your
worship is that Don Álvaro Tarfe who appears in print in the Second
Part of the history of Don Quixote of La Mancha, lately printed and
published by a new author.”

“I am the same,” replied the gentleman; “and that same Don Quixote, the
principal personage in the said history, was a very great friend of
mine, and it was I who took him away from home, or at least induced him
to come to some jousts that were to be held at Saragossa, whither I was
going myself; indeed, I showed him many kindnesses, and saved him from
having his shoulders touched up by the executioner because of his
extreme rashness.”

“Tell me, Señor Don Álvaro,” said Don Quixote, “am I at all like that
Don Quixote you talk of?”

“No indeed,” replied the traveller, “not a bit.”

“And that Don Quixote—” said our one, “had he with him a squire called
Sancho Panza?”

“He had,” said Don Álvaro; “but though he had the name of being very
droll, I never heard him say anything that had any drollery in it.”

“That I can well believe,” said Sancho at this, “for to come out with
drolleries is not in everybody’s line; and that Sancho your worship
speaks of, gentle sir, must be some great scoundrel, dunderhead, and
thief, all in one; for I am the real Sancho Panza, and I have more
drolleries than if it rained them; let your worship only try; come
along with me for a year or so, and you will find they fall from me at
every turn, and so rich and so plentiful that though mostly I don’t
know what I am saying I make everybody that hears me laugh. And the
real Don Quixote of La Mancha, the famous, the valiant, the wise, the
lover, the righter of wrongs, the guardian of minors and orphans, the
protector of widows, the killer of damsels, he who has for his sole
mistress the peerless Dulcinea del Toboso, is this gentleman before
you, my master; all other Don Quixotes and all other Sancho Panzas are
dreams and mockeries.”

“By God I believe it,” said Don Álvaro; “for you have uttered more
drolleries, my friend, in the few words you have spoken than the other
Sancho Panza in all I ever heard from him, and they were not a few. He
was more greedy than well-spoken, and more dull than droll; and I am
convinced that the enchanters who persecute Don Quixote the Good have
been trying to persecute me with Don Quixote the Bad. But I don’t know
what to say, for I am ready to swear I left him shut up in the Casa del
Nuncio at Toledo, and here another Don Quixote turns up, though a very
different one from mine.”

“I don’t know whether I am good,” said Don Quixote, “but I can safely
say I am not ‘the Bad;’ and to prove it, let me tell you, Señor Don
Álvaro Tarfe, I have never in my life been in Saragossa; so far from
that, when it was told me that this imaginary Don Quixote had been
present at the jousts in that city, I declined to enter it, in order to
drag his falsehood before the face of the world; and so I went on
straight to Barcelona, the treasure-house of courtesy, haven of
strangers, asylum of the poor, home of the valiant, champion of the
wronged, pleasant exchange of firm friendships, and city unrivalled in
site and beauty. And though the adventures that befell me there are not
by any means matters of enjoyment, but rather of regret, I do not
regret them, simply because I have seen it. In a word, Señor Don Álvaro
Tarfe, I am Don Quixote of La Mancha, the one that fame speaks of, and
not the unlucky one that has attempted to usurp my name and deck
himself out in my ideas. I entreat your worship by your devoir as a
gentleman to be so good as to make a declaration before the alcalde of
this village that you never in all your life saw me until now, and that
neither am I the Don Quixote in print in the Second Part, nor this
Sancho Panza, my squire, the one your worship knew.”

“That I will do most willingly,” replied Don Álvaro; “though it amazes
me to find two Don Quixotes and two Sancho Panzas at once, as much
alike in name as they differ in demeanour; and again I say and declare
that what I saw I cannot have seen, and that what happened me cannot
have happened.”

“No doubt your worship is enchanted, like my lady Dulcinea del Toboso,”
said Sancho; “and would to heaven your disenchantment rested on my
giving myself another three thousand and odd lashes like what I’m
giving myself for her, for I’d lay them on without looking for
anything.”

“I don’t understand that about the lashes,” said Don Álvaro. Sancho
replied that it was a long story to tell, but he would tell him if they
happened to be going the same road.

By this dinner-time arrived, and Don Quixote and Don Álvaro dined
together. The alcalde of the village came by chance into the inn
together with a notary, and Don Quixote laid a petition before him,
showing that it was requisite for his rights that Don Álvaro Tarfe, the
gentleman there present, should make a declaration before him that he
did not know Don Quixote of La Mancha, also there present, and that he
was not the one that was in print in a history entitled “Second Part of
Don Quixote of La Mancha, by one Avellaneda of Tordesillas.” The
alcalde finally put it in legal form, and the declaration was made with
all the formalities required in such cases, at which Don Quixote and
Sancho were in high delight, as if a declaration of the sort was of any
great importance to them, and as if their words and deeds did not
plainly show the difference between the two Don Quixotes and the two
Sanchos. Many civilities and offers of service were exchanged by Don
Álvaro and Don Quixote, in the course of which the great Manchegan
displayed such good taste that he disabused Don Álvaro of the error he
was under; and he, on his part, felt convinced he must have been
enchanted, now that he had been brought in contact with two such
opposite Don Quixotes.

Evening came, they set out from the village, and after about half a
league two roads branched off, one leading to Don Quixote’s village,
the other the road Don Álvaro was to follow. In this short interval Don
Quixote told him of his unfortunate defeat, and of Dulcinea’s
enchantment and the remedy, all which threw Don Álvaro into fresh
amazement, and embracing Don Quixote and Sancho, he went his way, and
Don Quixote went his. That night he passed among trees again in order
to give Sancho an opportunity of working out his penance, which he did
in the same fashion as the night before, at the expense of the bark of
the beech trees much more than of his back, of which he took such good
care that the lashes would not have knocked off a fly had there been
one there. The duped Don Quixote did not miss a single stroke of the
count, and he found that together with those of the night before they
made up three thousand and twenty-nine. The sun apparently had got up
early to witness the sacrifice, and with his light they resumed their
journey, discussing the deception practised on Don Álvaro, and saying
how well done it was to have taken his declaration before a magistrate
in such an unimpeachable form. That day and night they travelled on,
nor did anything worth mention happen to them, unless it was that in
the course of the night Sancho finished off his task, whereat Don
Quixote was beyond measure joyful. He watched for daylight, to see if
along the road he should fall in with his already disenchanted lady
Dulcinea; and as he pursued his journey there was no woman he met that
he did not go up to, to see if she was Dulcinea del Toboso, as he held
it absolutely certain that Merlin’s promises could not lie. Full of
these thoughts and anxieties, they ascended a rising ground wherefrom
they descried their own village, at the sight of which Sancho fell on
his knees exclaiming, “Open thine eyes, longed-for home, and see how
thy son Sancho Panza comes back to thee, if not very rich, very well
whipped! Open thine arms and receive, too, thy son Don Quixote, who, if
he comes vanquished by the arm of another, comes victor over himself,
which, as he himself has told me, is the greatest victory anyone can
desire. I’m bringing back money, for if I was well whipped, I went
mounted like a gentleman.”



p72b.jpg (375K)

Full Size



“Have done with these fooleries,” said Don Quixote; “let us push on
straight and get to our own place, where we will give free range to our
fancies, and settle our plans for our future pastoral life.”

With this they descended the slope and directed their steps to their
village.



p72e.jpg (35K)



CHAPTER LXXIII.
OF THE OMENS DON QUIXOTE HAD AS HE ENTERED HIS OWN VILLAGE, AND OTHER
INCIDENTS THAT EMBELLISH AND GIVE A COLOUR TO THIS GREAT HISTORY




p73a.jpg (141K)

Full Size



At the entrance of the village, so says Cide Hamete, Don Quixote saw
two boys quarrelling on the village threshing-floor, one of whom said
to the other, “Take it easy, Periquillo; thou shalt never see it again
as long as thou livest.”

Don Quixote heard this, and said he to Sancho, “Dost thou not mark,
friend, what that boy said, ‘Thou shalt never see it again as long as
thou livest’?”

“Well,” said Sancho, “what does it matter if the boy said so?”

“What!” said Don Quixote, “dost thou not see that, applied to the
object of my desires, the words mean that I am never to see Dulcinea
more?”

Sancho was about to answer, when his attention was diverted by seeing a
hare come flying across the plain pursued by several greyhounds and
sportsmen. In its terror it ran to take shelter and hide itself under
Dapple. Sancho caught it alive and presented it to Don Quixote, who was
saying, “_Malum signum, malum signum!_ a hare flies, greyhounds chase
it, Dulcinea appears not.”

“Your worship’s a strange man,” said Sancho; “let’s take it for granted
that this hare is Dulcinea, and these greyhounds chasing it the
malignant enchanters who turned her into a country wench; she flies,
and I catch her and put her into your worship’s hands, and you hold her
in your arms and cherish her; what bad sign is that, or what ill omen
is there to be found here?”

The two boys who had been quarrelling came over to look at the hare,
and Sancho asked one of them what their quarrel was about. He was
answered by the one who had said, “Thou shalt never see it again as
long as thou livest,” that he had taken a cage full of crickets from
the other boy, and did not mean to give it back to him as long as he
lived. Sancho took out four cuartos from his pocket and gave them to
the boy for the cage, which he placed in Don Quixote’s hands, saying,
“There, señor! there are the omens broken and destroyed, and they have
no more to do with our affairs, to my thinking, fool as I am, than with
last year’s clouds; and if I remember rightly I have heard the curate
of our village say that it does not become Christians or sensible
people to give any heed to these silly things; and even you yourself
said the same to me some time ago, telling me that all Christians who
minded omens were fools; but there’s no need of making words about it;
let us push on and go into our village.”

The sportsmen came up and asked for their hare, which Don Quixote gave
them. They then went on, and upon the green at the entrance of the town
they came upon the curate and the bachelor Samson Carrasco busy with
their breviaries. It should be mentioned that Sancho had thrown, by way
of a sumpter-cloth, over Dapple and over the bundle of armour, the
buckram robe painted with flames which they had put upon him at the
duke’s castle the night Altisidora came back to life. He had also fixed
the mitre on Dapple’s head, the oddest transformation and decoration
that ever ass in the world underwent. They were at once recognised by
both the curate and the bachelor, who came towards them with open arms.
Don Quixote dismounted and received them with a close embrace; and the
boys, who are lynxes that nothing escapes, spied out the ass’s mitre
and came running to see it, calling out to one another, “Come here,
boys, and see Sancho Panza’s ass figged out finer than Mingo, and Don
Quixote’s beast leaner than ever.”

So at length, with the boys capering round them, and accompanied by the
curate and the bachelor, they made their entrance into the town, and
proceeded to Don Quixote’s house, at the door of which they found his
housekeeper and niece, whom the news of his arrival had already
reached. It had been brought to Teresa Panza, Sancho’s wife, as well,
and she with her hair all loose and half naked, dragging Sanchica her
daughter by the hand, ran out to meet her husband; but seeing him
coming in by no means as good case as she thought a governor ought to
be, she said to him, “How is it you come this way, husband? It seems to
me you come tramping and footsore, and looking more like a disorderly
vagabond than a governor.”

“Hold your tongue, Teresa,” said Sancho; “often ‘where there are pegs
there are no flitches;’ let’s go into the house and there you’ll hear
strange things. I bring money, and that’s the main thing, got by my own
industry without wronging anybody.”

“You bring the money, my good husband,” said Teresa, “and no matter
whether it was got this way or that; for, however you may have got it,
you’ll not have brought any new practice into the world.”

Sanchica embraced her father and asked him if he brought her anything,
for she had been looking out for him as for the showers of May; and she
taking hold of him by the girdle on one side, and his wife by the hand,
while the daughter led Dapple, they made for their house, leaving Don
Quixote in his, in the hands of his niece and housekeeper, and in the
company of the curate and the bachelor.

Don Quixote at once, without any regard to time or season, withdrew in
private with the bachelor and the curate, and in a few words told them
of his defeat, and of the engagement he was under not to quit his
village for a year, which he meant to keep to the letter without
departing a hair’s breadth from it, as became a knight-errant bound by
scrupulous good faith and the laws of knight-errantry; and of how he
thought of turning shepherd for that year, and taking his diversion in
the solitude of the fields, where he could with perfect freedom give
range to his thoughts of love while he followed the virtuous pastoral
calling; and he besought them, if they had not a great deal to do and
were not prevented by more important business, to consent to be his
companions, for he would buy sheep enough to qualify them for
shepherds; and the most important point of the whole affair, he could
tell them, was settled, for he had given them names that would fit them
to a T. The curate asked what they were. Don Quixote replied that he
himself was to be called the shepherd Quixotize and the bachelor the
shepherd Carrascon, and the curate the shepherd Curambro, and Sancho
Panza the shepherd Pancino.

Both were astounded at Don Quixote’s new craze; however, lest he should
once more make off out of the village from them in pursuit of his
chivalry, they trusting that in the course of the year he might be
cured, fell in with his new project, applauded his crazy idea as a
bright one, and offered to share the life with him. “And what’s more,”
said Samson Carrasco, “I am, as all the world knows, a very famous
poet, and I’ll be always making verses, pastoral, or courtly, or as it
may come into my head, to pass away our time in those secluded regions
where we shall be roaming. But what is most needful, sirs, is that each
of us should choose the name of the shepherdess he means to glorify in
his verses, and that we should not leave a tree, be it ever so hard,
without writing up and carving her name on it, as is the habit and
custom of love-smitten shepherds.”

“That’s the very thing,” said Don Quixote; “though I am relieved from
looking for the name of an imaginary shepherdess, for there’s the
peerless Dulcinea del Toboso, the glory of these brooksides, the
ornament of these meadows, the mainstay of beauty, the cream of all the
graces, and, in a word, the being to whom all praise is appropriate, be
it ever so hyperbolical.”

“Very true,” said the curate; “but we the others must look about for
accommodating shepherdesses that will answer our purpose one way or
another.”

“And,” added Samson Carrasco, “if they fail us, we can call them by the
names of the ones in print that the world is filled with, Fílidas,
Amarilises, Dianas, Fleridas, Galateas, Belisardas; for as they sell
them in the market-places we may fairly buy them and make them our own.
If my lady, or I should say my shepherdess, happens to be called Ana,
I’ll sing her praises under the name of Anarda, and if Francisca, I’ll
call her Francenia, and if Lucia, Lucinda, for it all comes to the same
thing; and Sancho Panza, if he joins this fraternity, may glorify his
wife Teresa Panza as Teresaina.”

Don Quixote laughed at the adaptation of the name, and the curate
bestowed vast praise upon the worthy and honourable resolution he had
made, and again offered to bear him company all the time that he could
spare from his imperative duties. And so they took their leave of him,
recommending and beseeching him to take care of his health and treat
himself to a suitable diet.

It so happened his niece and the housekeeper overheard all the three of
them said; and as soon as they were gone they both of them came in to
Don Quixote, and said the niece, “What’s this, uncle? Now that we were
thinking you had come back to stay at home and lead a quiet respectable
life there, are you going to get into fresh entanglements, and turn
‘young shepherd, thou that comest here, young shepherd going there?’
Nay! indeed ‘the straw is too hard now to make pipes of.’”

“And,” added the housekeeper, “will your worship be able to bear, out
in the fields, the heats of summer, and the chills of winter, and the
howling of the wolves? Not you; for that’s a life and a business for
hardy men, bred and seasoned to such work almost from the time they
were in swaddling-clothes. Why, to make choice of evils, it’s better to
be a knight-errant than a shepherd! Look here, señor; take my
advice—and I’m not giving it to you full of bread and wine, but
fasting, and with fifty years upon my head—stay at home, look after
your affairs, go often to confession, be good to the poor, and upon my
soul be it if any evil comes to you.”

“Hold your peace, my daughters,” said Don Quixote; “I know very well
what my duty is; help me to bed, for I don’t feel very well; and rest
assured that, knight-errant now or wandering shepherd to be, I shall
never fail to have a care for your interests, as you will see in the
end.” And the good wenches (for that they undoubtedly were), the
housekeeper and niece, helped him to bed, where they gave him something
to eat and made him as comfortable as possible.



CHAPTER LXXIV.
OF HOW DON QUIXOTE FELL SICK, AND OF THE WILL HE MADE, AND HOW HE DIED




p74a.jpg (96K)

Full Size



As nothing that is man’s can last for ever, but all tends ever
downwards from its beginning to its end, and above all man’s life, and
as Don Quixote’s enjoyed no special dispensation from heaven to stay
its course, its end and close came when he least looked for it.
For—whether it was of the dejection the thought of his defeat produced,
or of heaven’s will that so ordered it—a fever settled upon him and
kept him in his bed for six days, during which he was often visited by
his friends the curate, the bachelor, and the barber, while his good
squire Sancho Panza never quitted his bedside. They, persuaded that it
was grief at finding himself vanquished, and the object of his heart,
the liberation and disenchantment of Dulcinea, unattained, that kept
him in this state, strove by all the means in their power to cheer him
up; the bachelor bidding him take heart and get up to begin his
pastoral life, for which he himself, he said, had already composed an
eclogue that would take the shine out of all Sannazaro had ever
written, and had bought with his own money two famous dogs to guard the
flock, one called Barcino and the other Butron, which a herdsman of
Quintanar had sold him.

But for all this Don Quixote could not shake off his sadness. His
friends called in the doctor, who felt his pulse and was not very well
satisfied with it, and said that in any case it would be well for him
to attend to the health of his soul, as that of his body was in a bad
way. Don Quixote heard this calmly; but not so his housekeeper, his
niece, and his squire, who fell weeping bitterly, as if they had him
lying dead before them. The doctor’s opinion was that melancholy and
depression were bringing him to his end. Don Quixote begged them to
leave him to himself, as he had a wish to sleep a little. They obeyed,
and he slept at one stretch, as the saying is, more than six hours, so
that the housekeeper and niece thought he was going to sleep for ever.
But at the end of that time he woke up, and in a loud voice exclaimed,
“Blessed be Almighty God, who has shown me such goodness. In truth his
mercies are boundless, and the sins of men can neither limit them nor
keep them back!”

The niece listened with attention to her uncle’s words, and they struck
her as more coherent than what usually fell from him, at least during
his illness, so she asked, “What are you saying, señor? Has anything
strange occurred? What mercies or what sins of men are you talking of?”

“The mercies, niece,” said Don Quixote, “are those that God has this
moment shown me, and with him, as I said, my sins are no impediment to
them. My reason is now free and clear, rid of the dark shadows of
ignorance that my unhappy constant study of those detestable books of
chivalry cast over it. Now I see through their absurdities and
deceptions, and it only grieves me that this destruction of my
illusions has come so late that it leaves me no time to make some
amends by reading other books that might be a light to my soul. Niece,
I feel myself at the point of death, and I would fain meet it in such a
way as to show that my life has not been so ill that I should leave
behind me the name of a madman; for though I have been one, I would not
that the fact should be made plainer at my death. Call in to me, my
dear, my good friends the curate, the bachelor Samson Carrasco, and
Master Nicholas the barber, for I wish to confess and make my will.”
But his niece was saved the trouble by the entrance of the three. The
instant Don Quixote saw them he exclaimed, “Good news for you, good
sirs, that I am no longer Don Quixote of La Mancha, but Alonso Quixano,
whose way of life won for him the name of Good. Now am I the enemy of
Amadis of Gaul and of the whole countless troop of his descendants;
odious to me now are all the profane stories of knight-errantry; now I
perceive my folly, and the peril into which reading them brought me;
now, by God’s mercy schooled into my right senses, I loathe them.”

When the three heard him speak in this way, they had no doubt whatever
that some new craze had taken possession of him; and said Samson,
“What? Señor Don Quixote! Now that we have intelligence of the lady
Dulcinea being disenchanted, are you taking this line; now, just as we
are on the point of becoming shepherds, to pass our lives singing, like
princes, are you thinking of turning hermit? Hush, for heaven’s sake,
be rational and let’s have no more nonsense.”

“All that nonsense,” said Don Quixote, “that until now has been a
reality to my hurt, my death will, with heaven’s help, turn to my good.
I feel, sirs, that I am rapidly drawing near death; a truce to jesting;
let me have a confessor to confess me, and a notary to make my will;
for in extremities like this, man must not trifle with his soul; and
while the curate is confessing me let someone, I beg, go for the
notary.”

They looked at one another, wondering at Don Quixote’s words; but,
though uncertain, they were inclined to believe him, and one of the
signs by which they came to the conclusion he was dying was this so
sudden and complete return to his senses after having been mad; for to
the words already quoted he added much more, so well expressed, so
devout, and so rational, as to banish all doubt and convince them that
he was sound of mind. The curate turned them all out, and left alone
with him confessed him. The bachelor went for the notary and returned
shortly afterwards with him and with Sancho, who, having already
learned from the bachelor the condition his master was in, and finding
the housekeeper and niece weeping, began to blubber and shed tears.

The confession over, the curate came out saying, “Alonso Quixano the
Good is indeed dying, and is indeed in his right mind; we may now go in
to him while he makes his will.”

This news gave a tremendous impulse to the brimming eyes of the
housekeeper, niece, and Sancho Panza his good squire, making the tears
burst from their eyes and a host of sighs from their hearts; for of a
truth, as has been said more than once, whether as plain Alonso Quixano
the Good, or as Don Quixote of La Mancha, Don Quixote was always of a
gentle disposition and kindly in all his ways, and hence he was
beloved, not only by those of his own house, but by all who knew him.

The notary came in with the rest, and as soon as the preamble of the
will had been set out and Don Quixote had commended his soul to God
with all the devout formalities that are usual, coming to the bequests,
he said, “Item, it is my will that, touching certain moneys in the
hands of Sancho Panza (whom in my madness I made my squire), inasmuch
as between him and me there have been certain accounts and debits and
credits, no claim be made against him, nor any account demanded of him
in respect of them; but that if anything remain over and above, after
he has paid himself what I owe him, the balance, which will be but
little, shall be his, and much good may it do him; and if, as when I
was mad I had a share in giving him the government of an island, so,
now that I am in my senses, I could give him that of a kingdom, it
should be his, for the simplicity of his character and the fidelity of
his conduct deserve it.” And then, turning to Sancho, he said, “Forgive
me, my friend, that I led thee to seem as mad as myself, making thee
fall into the same error I myself fell into, that there were and still
are knights-errant in the world.”

“Ah!” said Sancho weeping, “don’t die, master, but take my advice and
live many years; for the foolishest thing a man can do in this life is
to let himself die without rhyme or reason, without anybody killing
him, or any hands but melancholy’s making an end of him. Come, don’t be
lazy, but get up from your bed and let us take to the fields in
shepherd’s trim as we agreed. Perhaps behind some bush we shall find
the lady Dulcinea disenchanted, as fine as fine can be. If it be that
you are dying of vexation at having been vanquished, lay the blame on
me, and say you were overthrown because I had girthed Rocinante badly;
besides you must have seen in your books of chivalry that it is a
common thing for knights to upset one another, and for him who is
conquered to-day to be conqueror to-morrow.”

“Very true,” said Samson, “and good Sancho Panza’s view of these cases
is quite right.”

“Sirs, not so fast,” said Don Quixote, “‘in last year’s nests there are
no birds this year.’ I was mad, now I am in my senses; I was Don
Quixote of La Mancha, I am now, as I said, Alonso Quixano the Good; and
may my repentance and sincerity restore me to the esteem you used to
have for me; and now let Master Notary proceed.

“Item, I leave all my property absolutely to Antonia Quixana my niece,
here present, after all has been deducted from the most available
portion of it that may be required to satisfy the bequests I have made.
And the first disbursement I desire to be made is the payment of the
wages I owe for the time my housekeeper has served me, with twenty
ducats, over and above, for a gown. The curate and the bachelor Samson
Carrasco, now present, I appoint my executors.

“Item, it is my wish that if Antonia Quixana, my niece, desires to
marry, she shall marry a man of whom it shall be first of all
ascertained by information taken that he does not know what books of
chivalry are; and if it should be proved that he does, and if, in spite
of this, my niece insists upon marrying him, and does marry him, then
that she shall forfeit the whole of what I have left her, which my
executors shall devote to works of charity as they please.

“Item, I entreat the aforesaid gentlemen my executors, that, if any
happy chance should lead them to discover the author who is said to
have written a history now going about under the title of ‘Second Part
of the Achievements of Don Quixote of La Mancha,’ they beg of him on my
behalf as earnestly as they can to forgive me for having been, without
intending it, the cause of his writing so many and such monstrous
absurdities as he has written in it; for I am leaving the world with a
feeling of compunction at having provoked him to write them.”

With this he closed his will, and a faintness coming over him he
stretched himself out at full length on the bed. All were in a flutter
and made haste to relieve him, and during the three days he lived after
that on which he made his will he fainted away very often. The house
was all in confusion; but still the niece ate and the housekeeper drank
and Sancho Panza enjoyed himself; for inheriting property wipes out or
softens down in the heir the feeling of grief the dead man might be
expected to leave behind him.



p74b.jpg (391K)

Full Size



At last Don Quixote’s end came, after he had received all the
sacraments, and had in full and forcible terms expressed his
detestation of books of chivalry. The notary was there at the time, and
he said that in no book of chivalry had he ever read of any
knight-errant dying in his bed so calmly and so like a Christian as Don
Quixote, who amid the tears and lamentations of all present yielded up
his spirit, that is to say died. On perceiving it the curate begged the
notary to bear witness that Alonso Quixano the Good, commonly called
Don Quixote of La Mancha, had passed away from this present life, and
died naturally; and said he desired this testimony in order to remove
the possibility of any other author save Cide Hamete Benengeli bringing
him to life again falsely and making interminable stories out of his
achievements.

Such was the end of the Ingenious Gentleman of La Mancha, whose village
Cide Hamete would not indicate precisely, in order to leave all the
towns and villages of La Mancha to contend among themselves for the
right to adopt him and claim him as a son, as the seven cities of
Greece contended for Homer. The lamentations of Sancho and the niece
and housekeeper are omitted here, as well as the new epitaphs upon his
tomb; Samson Carrasco, however, put the following lines:

A doughty gentleman lies here;
A stranger all his life to fear;
Nor in his death could Death prevail,
In that last hour, to make him quail.

He for the world but little cared;
And at his feats the world was scared;
A crazy man his life he passed,
But in his senses died at last.


And said most sage Cide Hamete to his pen, “Rest here, hung up by this
brass wire, upon this shelf, O my pen, whether of skilful make or
clumsy cut I know not; here shalt thou remain long ages hence, unless
presumptuous or malignant story-tellers take thee down to profane thee.
But ere they touch thee warn them, and, as best thou canst, say to
them:

Hold off! ye weaklings; hold your hands!
Adventure it let none,
For this emprise, my lord the king,
Was meant for me alone.


For me alone was Don Quixote born, and I for him; it was his to act,
mine to write; we two together make but one, notwithstanding and in
spite of that pretended Tordesillesque writer who has ventured or would
venture with his great, coarse, ill-trimmed ostrich quill to write the
achievements of my valiant knight;—no burden for his shoulders, nor
subject for his frozen wit: whom, if perchance thou shouldst come to
know him, thou shalt warn to leave at rest where they lie the weary
mouldering bones of Don Quixote, and not to attempt to carry him off,
in opposition to all the privileges of death, to Old Castile, making
him rise from the grave where in reality and truth he lies stretched at
full length, powerless to make any third expedition or new sally; for
the two that he has already made, so much to the enjoyment and approval
of everybody to whom they have become known, in this as well as in
foreign countries, are quite sufficient for the purpose of turning into
ridicule the whole of those made by the whole set of the
knights-errant; and so doing shalt thou discharge thy Christian
calling, giving good counsel to one that bears ill-will to thee. And I
shall remain satisfied, and proud to have been the first who has ever
enjoyed the fruit of his writings as fully as he could desire; for my
desire has been no other than to deliver over to the detestation of
mankind the false and foolish tales of the books of chivalry, which,
thanks to that of my true Don Quixote, are even now tottering, and
doubtless doomed to fall for ever. Farewell.”



p74e.jpg (49K)

Full Size












End of the Project Gutenberg EBook of The History of Don Quixote, by Miguel de Cervantes

*** END OF THIS PROJECT GUTENBERG EBOOK DON QUIXOTE ***

***** This file should be named 996-0.txt or 996-0.zip *****
This and all associated files of various formats will be found in:
http://www.gutenberg.net/9/9/996/

Produced by David Widger

Updated editions will replace the previous one--the old editions
will be renamed.

Creating the works from public domain print editions means that no
one owns a United States copyright in these works, so the Foundation
(and you!) can copy and distribute it in the United States without
permission and without paying copyright royalties.  Special rules,
set forth in the General Terms of Use part of this license, apply to
copying and distributing Project Gutenberg-tm electronic works to
protect the PROJECT GUTENBERG-tm concept and trademark.  Project
Gutenberg is a registered trademark, and may not be used if you
charge for the eBooks, unless you receive specific permission.  If you
do not charge anything for copies of this eBook, complying with the
rules is very easy.  You may use this eBook for nearly any purpose
such as creation of derivative works, reports, performances and
research.  They may be modified and printed and given away--you may do
practically ANYTHING with public domain eBooks.  Redistribution is
subject to the trademark license, especially commercial
redistribution.



*** START: FULL LICENSE ***

THE FULL PROJECT GUTENBERG LICENSE
PLEASE READ THIS BEFORE YOU DISTRIBUTE OR USE THIS WORK

To protect the Project Gutenberg-tm mission of promoting the free
distribution of electronic works, by using or distributing this work
(or any other work associated in any way with the phrase “Project
Gutenberg”), you agree to comply with all the terms of the Full Project
Gutenberg-tm License (available with this file or online at
http://gutenberg.net/license).


Section 1.  General Terms of Use and Redistributing Project Gutenberg-tm
electronic works

1.A.  By reading or using any part of this Project Gutenberg-tm
electronic work, you indicate that you have read, understand, agree to
and accept all the terms of this license and intellectual property
(trademark/copyright) agreement.  If you do not agree to abide by all
the terms of this agreement, you must cease using and return or destroy
all copies of Project Gutenberg-tm electronic works in your possession.
If you paid a fee for obtaining a copy of or access to a Project
Gutenberg-tm electronic work and you do not agree to be bound by the
terms of this agreement, you may obtain a refund from the person or
entity to whom you paid the fee as set forth in paragraph 1.E.8.

1.B.  “Project Gutenberg” is a registered trademark.  It may only be
used on or associated in any way with an electronic work by people who
agree to be bound by the terms of this agreement.  There are a few
things that you can do with most Project Gutenberg-tm electronic works
even without complying with the full terms of this agreement.  See
paragraph 1.C below.  There are a lot of things you can do with Project
Gutenberg-tm electronic works if you follow the terms of this agreement
and help preserve free future access to Project Gutenberg-tm electronic
works.  See paragraph 1.E below.

1.C.  The Project Gutenberg Literary Archive Foundation (“the Foundation”
or PGLAF), owns a compilation copyright in the collection of Project
Gutenberg-tm electronic works.  Nearly all the individual works in the
collection are in the public domain in the United States.  If an
individual work is in the public domain in the United States and you are
located in the United States, we do not claim a right to prevent you from
copying, distributing, performing, displaying or creating derivative
works based on the work as long as all references to Project Gutenberg
are removed.  Of course, we hope that you will support the Project
Gutenberg-tm mission of promoting free access to electronic works by
freely sharing Project Gutenberg-tm works in compliance with the terms of
this agreement for keeping the Project Gutenberg-tm name associated with
the work.  You can easily comply with the terms of this agreement by
keeping this work in the same format with its attached full Project
Gutenberg-tm License when you share it without charge with others.

1.D.  The copyright laws of the place where you are located also govern
what you can do with this work.  Copyright laws in most countries are in
a constant state of change.  If you are outside the United States, check
the laws of your country in addition to the terms of this agreement
before downloading, copying, displaying, performing, distributing or
creating derivative works based on this work or any other Project
Gutenberg-tm work.  The Foundation makes no representations concerning
the copyright status of any work in any country outside the United
States.

1.E.  Unless you have removed all references to Project Gutenberg:

1.E.1.  The following sentence, with active links to, or other immediate
access to, the full Project Gutenberg-tm License must appear prominently
whenever any copy of a Project Gutenberg-tm work (any work on which the
phrase “Project Gutenberg” appears, or with which the phrase “Project
Gutenberg” is associated) is accessed, displayed, performed, viewed,
copied or distributed:

This eBook is for the use of anyone anywhere at no cost and with
almost no restrictions whatsoever.  You may copy it, give it away or
re-use it under the terms of the Project Gutenberg License included
with this eBook or online at www.gutenberg.net

1.E.2.  If an individual Project Gutenberg-tm electronic work is derived
from the public domain (does not contain a notice indicating that it is
posted with permission of the copyright holder), the work can be copied
and distributed to anyone in the United States without paying any fees
or charges.  If you are redistributing or providing access to a work
with the phrase “Project Gutenberg” associated with or appearing on the
work, you must comply either with the requirements of paragraphs 1.E.1
through 1.E.7 or obtain permission for the use of the work and the
Project Gutenberg-tm trademark as set forth in paragraphs 1.E.8 or
1.E.9.

1.E.3.  If an individual Project Gutenberg-tm electronic work is posted
with the permission of the copyright holder, your use and distribution
must comply with both paragraphs 1.E.1 through 1.E.7 and any additional
terms imposed by the copyright holder.  Additional terms will be linked
to the Project Gutenberg-tm License for all works posted with the
permission of the copyright holder found at the beginning of this work.

1.E.4.  Do not unlink or detach or remove the full Project Gutenberg-tm
License terms from this work, or any files containing a part of this
work or any other work associated with Project Gutenberg-tm.

1.E.5.  Do not copy, display, perform, distribute or redistribute this
electronic work, or any part of this electronic work, without
prominently displaying the sentence set forth in paragraph 1.E.1 with
active links or immediate access to the full terms of the Project
Gutenberg-tm License.

1.E.6.  You may convert to and distribute this work in any binary,
compressed, marked up, nonproprietary or proprietary form, including any
word processing or hypertext form.  However, if you provide access to or
distribute copies of a Project Gutenberg-tm work in a format other than
“Plain Vanilla ASCII” or other format used in the official version
posted on the official Project Gutenberg-tm web site (www.gutenberg.net),
you must, at no additional cost, fee or expense to the user, provide a
copy, a means of exporting a copy, or a means of obtaining a copy upon
request, of the work in its original “Plain Vanilla ASCII” or other
form.  Any alternate format must include the full Project Gutenberg-tm
License as specified in paragraph 1.E.1.

1.E.7.  Do not charge a fee for access to, viewing, displaying,
performing, copying or distributing any Project Gutenberg-tm works
unless you comply with paragraph 1.E.8 or 1.E.9.

1.E.8.  You may charge a reasonable fee for copies of or providing
access to or distributing Project Gutenberg-tm electronic works provided
that

- You pay a royalty fee of 20% of the gross profits you derive from
the use of Project Gutenberg-tm works calculated using the method
you already use to calculate your applicable taxes.  The fee is
owed to the owner of the Project Gutenberg-tm trademark, but he
has agreed to donate royalties under this paragraph to the
Project Gutenberg Literary Archive Foundation.  Royalty payments
must be paid within 60 days following each date on which you
prepare (or are legally required to prepare) your periodic tax
returns.  Royalty payments should be clearly marked as such and
sent to the Project Gutenberg Literary Archive Foundation at the
address specified in Section 4, “Information about donations to
the Project Gutenberg Literary Archive Foundation.”

- You provide a full refund of any money paid by a user who notifies
you in writing (or by e-mail) within 30 days of receipt that s/he
does not agree to the terms of the full Project Gutenberg-tm
License.  You must require such a user to return or
destroy all copies of the works possessed in a physical medium
and discontinue all use of and all access to other copies of
Project Gutenberg-tm works.

- You provide, in accordance with paragraph 1.F.3, a full refund of any
money paid for a work or a replacement copy, if a defect in the
electronic work is discovered and reported to you within 90 days
of receipt of the work.

- You comply with all other terms of this agreement for free
distribution of Project Gutenberg-tm works.

1.E.9.  If you wish to charge a fee or distribute a Project Gutenberg-tm
electronic work or group of works on different terms than are set
forth in this agreement, you must obtain permission in writing from
both the Project Gutenberg Literary Archive Foundation and Michael
Hart, the owner of the Project Gutenberg-tm trademark.  Contact the
Foundation as set forth in Section 3 below.

1.F.

1.F.1.  Project Gutenberg volunteers and employees expend considerable
effort to identify, do copyright research on, transcribe and proofread
public domain works in creating the Project Gutenberg-tm
collection.  Despite these efforts, Project Gutenberg-tm electronic
works, and the medium on which they may be stored, may contain
“Defects,” such as, but not limited to, incomplete, inaccurate or
corrupt data, transcription errors, a copyright or other intellectual
property infringement, a defective or damaged disk or other medium, a
computer virus, or computer codes that damage or cannot be read by
your equipment.

1.F.2.  LIMITED WARRANTY, DISCLAIMER OF DAMAGES - Except for the “Right
of Replacement or Refund” described in paragraph 1.F.3, the Project
Gutenberg Literary Archive Foundation, the owner of the Project
Gutenberg-tm trademark, and any other party distributing a Project
Gutenberg-tm electronic work under this agreement, disclaim all
liability to you for damages, costs and expenses, including legal
fees.  YOU AGREE THAT YOU HAVE NO REMEDIES FOR NEGLIGENCE, STRICT
LIABILITY, BREACH OF WARRANTY OR BREACH OF CONTRACT EXCEPT THOSE
PROVIDED IN PARAGRAPH F3.  YOU AGREE THAT THE FOUNDATION, THE
TRADEMARK OWNER, AND ANY DISTRIBUTOR UNDER THIS AGREEMENT WILL NOT BE
LIABLE TO YOU FOR ACTUAL, DIRECT, INDIRECT, CONSEQUENTIAL, PUNITIVE OR
INCIDENTAL DAMAGES EVEN IF YOU GIVE NOTICE OF THE POSSIBILITY OF SUCH
DAMAGE.

1.F.3.  LIMITED RIGHT OF REPLACEMENT OR REFUND - If you discover a
defect in this electronic work within 90 days of receiving it, you can
receive a refund of the money (if any) you paid for it by sending a
written explanation to the person you received the work from.  If you
received the work on a physical medium, you must return the medium with
your written explanation.  The person or entity that provided you with
the defective work may elect to provide a replacement copy in lieu of a
refund.  If you received the work electronically, the person or entity
providing it to you may choose to give you a second opportunity to
receive the work electronically in lieu of a refund.  If the second copy
is also defective, you may demand a refund in writing without further
opportunities to fix the problem.

1.F.4.  Except for the limited right of replacement or refund set forth
in paragraph 1.F.3, this work is provided to you ‘AS-IS’ WITH NO OTHER
WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO
WARRANTIES OF MERCHANTIBILITY OR FITNESS FOR ANY PURPOSE.

1.F.5.  Some states do not allow disclaimers of certain implied
warranties or the exclusion or limitation of certain types of damages.
If any disclaimer or limitation set forth in this agreement violates the
law of the state applicable to this agreement, the agreement shall be
interpreted to make the maximum disclaimer or limitation permitted by
the applicable state law.  The invalidity or unenforceability of any
provision of this agreement shall not void the remaining provisions.

1.F.6.  INDEMNITY - You agree to indemnify and hold the Foundation, the
trademark owner, any agent or employee of the Foundation, anyone
providing copies of Project Gutenberg-tm electronic works in accordance
with this agreement, and any volunteers associated with the production,
promotion and distribution of Project Gutenberg-tm electronic works,
harmless from all liability, costs and expenses, including legal fees,
that arise directly or indirectly from any of the following which you do
or cause to occur: (a) distribution of this or any Project Gutenberg-tm
work, (b) alteration, modification, or additions or deletions to any
Project Gutenberg-tm work, and (c) any Defect you cause.


Section  2.  Information about the Mission of Project Gutenberg-tm

Project Gutenberg-tm is synonymous with the free distribution of
electronic works in formats readable by the widest variety of computers
including obsolete, old, middle-aged and new computers.  It exists
because of the efforts of hundreds of volunteers and donations from
people in all walks of life.

Volunteers and financial support to provide volunteers with the
assistance they need, is critical to reaching Project Gutenberg-tm’s
goals and ensuring that the Project Gutenberg-tm collection will
remain freely available for generations to come.  In 2001, the Project
Gutenberg Literary Archive Foundation was created to provide a secure
and permanent future for Project Gutenberg-tm and future generations.
To learn more about the Project Gutenberg Literary Archive Foundation
and how your efforts and donations can help, see Sections 3 and 4
and the Foundation web page at http://www.pglaf.org.


Section 3.  Information about the Project Gutenberg Literary Archive
Foundation

The Project Gutenberg Literary Archive Foundation is a non profit
501(c)(3) educational corporation organized under the laws of the
state of Mississippi and granted tax exempt status by the Internal
Revenue Service.  The Foundation’s EIN or federal tax identification
number is 64-6221541.  Its 501(c)(3) letter is posted at
http://pglaf.org/fundraising.  Contributions to the Project Gutenberg
Literary Archive Foundation are tax deductible to the full extent
permitted by U.S. federal laws and your state’s laws.

The Foundation’s principal office is located at 4557 Melan Dr. S.
Fairbanks, AK, 99712., but its volunteers and employees are scattered
throughout numerous locations.  Its business office is located at
809 North 1500 West, Salt Lake City, UT 84116, (801) 596-1887, email
business@pglaf.org.  Email contact links and up to date contact
information can be found at the Foundation’s web site and official
page at http://pglaf.org

For additional contact information:
Dr. Gregory B. Newby
Chief Executive and Director
gbnewby@pglaf.org


Section 4.  Information about Donations to the Project Gutenberg
Literary Archive Foundation

Project Gutenberg-tm depends upon and cannot survive without wide
spread public support and donations to carry out its mission of
increasing the number of public domain and licensed works that can be
freely distributed in machine readable form accessible by the widest
array of equipment including outdated equipment.  Many small donations
($1 to $5,000) are particularly important to maintaining tax exempt
status with the IRS.

The Foundation is committed to complying with the laws regulating
charities and charitable donations in all 50 states of the United
States.  Compliance requirements are not uniform and it takes a
considerable effort, much paperwork and many fees to meet and keep up
with these requirements.  We do not solicit donations in locations
where we have not received written confirmation of compliance.  To
SEND DONATIONS or determine the status of compliance for any
particular state visit http://pglaf.org

While we cannot and do not solicit contributions from states where we
have not met the solicitation requirements, we know of no prohibition
against accepting unsolicited donations from donors in such states who
approach us with offers to donate.

International donations are gratefully accepted, but we cannot make
any statements concerning tax treatment of donations received from
outside the United States.  U.S. laws alone swamp our small staff.

Please check the Project Gutenberg Web pages for current donation
methods and addresses.  Donations are accepted in a number of other
ways including including checks, online payments and credit card
donations.  To donate, please visit: http://pglaf.org/donate


Section 5.  General Information About Project Gutenberg-tm electronic
works.

Professor Michael S. Hart is the originator of the Project Gutenberg-tm
concept of a library of electronic works that could be freely shared
with anyone.  For thirty years, he produced and distributed Project
Gutenberg-tm eBooks with only a loose network of volunteer support.


Project Gutenberg-tm eBooks are often created from several printed
editions, all of which are confirmed as Public Domain in the U.S.
unless a copyright notice is included.  Thus, we do not necessarily
keep eBooks in compliance with any particular paper edition.


Most people start at our Web site which has the main PG search facility:

http://www.gutenberg.net

This Web site includes information about Project Gutenberg-tm,
including how to make donations to the Project Gutenberg Literary
Archive Foundation, how to help produce our new eBooks, and how to
subscribe to our email newsletter to hear about new eBooks.


